webpackJsonp([34],{1846:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=_(a(1)),o=_(a(7)),i=_(a(2)),l=_(a(3)),u=_(a(5)),c=_(a(6)),d=a(0),s=_(d),f=a(10),p=_(a(14)),m=_(a(80)),g=a(16),v=_(a(13)),y=_(a(659)),h=a(1924),b=_(h),w=_(a(250)),C=a(11),k=_(a(407)),E=_(a(2131));function _(e){return e&&e.__esModule?e:{default:e}}a(2132);var P=(0,w.default)("pageview_iframe")(n=(0,f.connect)(function(e,t){var a=t.params.gfyId.toLowerCase();return{gfyId:a,gfyItem:(0,C.getGifFromCache)(e,a)}})(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),n=a.props.location.query;return a.playerProps=(0,h.parseQueryParams)(n),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.gfyItem,t=e.gfyId,a=e.hasTransparency,n=e.views;return s.default.createElement("div",{className:(0,p.default)("iframe-container",{"has-transparency":a})},s.default.createElement(m.default,(0,E.default)((0,r.default)({},e))),s.default.createElement(s.default.Fragment,null,s.default.createElement(b.default,(0,r.default)({gfyItem:e},this.playerProps,{logo:!1})),s.default.createElement("div",{className:"iframe__bottom"},s.default.createElement(y.default,{views:n}),s.default.createElement(g.Link,{to:"/"+t,target:"_blank"},s.default.createElement(v.default,{className:"ic logo",svg:k.default})))))}}]),t}(d.Component))||n)||n;t.default=P},1924:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryParams=void 0;var n=a(1927),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default,t.parseQueryParams=n.parseQueryParams},1927:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryParams=t.default=void 0;var n,r,o,i=S(a(1)),l=S(a(7)),u=S(a(2)),c=S(a(3)),d=S(a(5)),s=S(a(6)),f=a(0),p=S(f),m=S(a(8)),g=a(10),v=S(a(14)),y=S(a(13)),h=a(657),b=a(105),w=S(a(255)),C=S(a(392)),k=S(a(256)),E=a(387),_=a(91);a(1928);var P=a(658),I=S(a(667)),N=S(a(391));function S(e){return e&&e.__esModule?e:{default:e}}var R="play",F="pause",T=(0,g.connect)(function(e){return{mobile:e.renderConfig.mobile}})((o=r=function(e){function t(e){(0,u.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handlePlayerClick=function(){if(a.props.controls&&!a.props.mobile){var e="https://gfycat.com/"+(0,_.generateDecoratedGfyId)(a.props.gfyItem);window.open(e,"_blank")}a.props.mobile&&a.state.muted&&a.handleShareOpen()},a.handleShareOpen=function(){a.setState({shareOpened:!0}),a.video&&a.video.pause()},a.handleShareClose=function(){a.setState({shareOpened:!1}),a.video&&a.video.play()},a.handlePlayerStateChange=function(e){var t=e.controlsVisible;a.state.userVisible!==t&&a.setState({userVisible:t})},a.getRef=function(e){a.video=e;var t=a.props.getRef;t&&t(e),a.video&&a.initEmbedlyReceiver()},a.handleWindowMessage=function(e){var t=e.data;if(t)switch(t){case R:a.video&&a.video.play();break;case F:a.video&&a.video.pause()}},a.handleSoundControlClick=function(e){var t=e.muted;a.video.muted=t,a.setState({muted:t})},a.initEmbedlyReceiver=function(){"undefined"!=typeof playerjs&&(a.receiver=new playerjs.Receiver,a.receiver.on("play",function(){a.video.play(),a.receiver.emit("play")}),a.receiver.on("pause",function(){a.video.pause(),a.receiver.emit("pause")}),a.receiver.on("getCurrentTime",function(e){return e(a.video.currentTime)}),a.receiver.on("setCurrentTime",function(e){a.video.currentTime=e}),a.receiver.on("getPaused",function(e){return e(a.video.paused)}),a.receiver.on("getDuration",function(e){return e(a.video.duration)}),a.receiver.on("getVolume",function(e){return e(100*a.video.volume)}),a.receiver.on("setVolume",function(e){return a.video.volume=e/100}),a.receiver.on("mute",function(){return a.video.mute=!0}),a.receiver.on("unmute",function(){return a.video.mute=!1}),a.receiver.on("getMuted",function(e){return e(a.video.mute)}),a.receiver.on("getLoop",function(e){return e(a.video.loop)}),a.receiver.on("setLoop",function(e){return a.video.loop=e}),a.video.addEventListener("ended",function(){return a.receiver.emit("ended")}),a.video.addEventListener("timeupdate",function(){a.receiver.emit("timeupdate",{seconds:a.video.currentTime,duration:a.video.duration})}),a.receiver.ready())},a.user=function(){var e=a.props,t=e.controls,n=e.gfyItem,r=a.state.userVisible,o=n.published,i=n.userData;if(!i)return null;var l=i||{},u=l.name,c=l.username,d=l.profileImageUrl,s=l.verified;return t&&parseInt(o,10)?p.default.createElement("div",{key:"iframe-top",className:(0,v.default)("iframe-top",{visible:r})},p.default.createElement("a",{href:"https://gfycat.com/@"+c,target:"_blank"},p.default.createElement("div",{className:"user"},d?p.default.createElement("img",{src:d,alt:""}):null,p.default.createElement("div",{className:(0,v.default)("name-block",{"has-name":!!u})},u?p.default.createElement("span",{className:"name-wrapper"},p.default.createElement("span",{className:"name"},u),s?p.default.createElement(y.default,{className:"ic verified-checkmark",svg:I.default,fill:P.gfycatLightBlue}):null):null,p.default.createElement("span",{className:"userid"},"@",c))))):null},a.state={muted:!0,userVisible:a.props.controls,shareOpened:!1},a}return(0,s.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleWindowMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleWindowMessage)}},{key:"render",value:function(){var e=this,t=this.state,a=t.muted,n=t.shareOpened,r=this.props,o=r.autoPlay,i=r.backgroundColor,l=r.controls,u=r.forceVideo,c=r.gfyItem,d=r.hd,s=r.logo,f=r.loop,m=r.mobile,g=r.playbackRate,_=c.gfyId,P=c.hasAudio&&m?a?p.default.createElement(C.default,{gfyId:_,onClick:this.handleSoundControlClick}):p.default.createElement(y.default,{className:(0,v.default)("ic ic-send",{low:!(0,E.isAndroid)()}),svg:N.default,onClick:this.handleShareOpen}):null,I=(0,k.default)(c)?b.Video360:b.Video,S=!u&&c.hasTransparency?m?p.default.createElement(b.Image,{backgroundColor:i||"transparent",gfyItem:c,onClick:this.handlePlayerClick}):p.default.createElement(h.ImagePlayer,{backgroundColor:i||"transparent",gfyItem:c,controls:l,fullscreenElement:this.iframeContainer,onStateChange:this.handlePlayerStateChange,onClick:this.handlePlayerClick}):m?p.default.createElement(I,{highQuality:d,loop:f,backgroundColor:i||"#000000",getRef:this.getRef,gfyItem:c,controls:!a,onClick:this.handlePlayerClick}):p.default.createElement(h.VideoPlayer,{autoPlay:o,backgroundColor:i||"#000000",controls:l,fullscreenElement:this.iframeContainer,getRef:this.getRef,gfyItem:c,hd:d,loop:f,logo:s,onClick:this.handlePlayerClick,onStateChange:this.handlePlayerStateChange,show360:!0,playbackRate:g}),R=m?n?p.default.createElement(w.default,{gfyItem:c,onCloseButtonClick:this.handleShareClose}):null:this.user();return p.default.createElement("div",{className:"iframe-player-container",onClick:this.handleClick,ref:function(t){return e.iframeContainer=t}},S,R,P)}}]),t}(f.Component),r.propTypes={autoPlay:m.default.bool,controls:m.default.bool,forceVideo:m.default.bool,getRef:m.default.func,gfyItem:m.default.object.isRequired,hd:m.default.bool,logo:m.default.bool,loop:m.default.bool,playbackRate:m.default.number},r.defaultProps={autoPlay:!0,controls:!0,forceVideo:!1,hd:!1,logo:!0,loop:!0,playbackRate:1},n=o))||n;t.default=T;t.parseQueryParams=function(e){var t="0"!==e.autoplay;return(0,i.default)({},void 0!==e.autoplay&&{autoPlay:t},void 0!==e.controls&&t&&{controls:"0"!==e.controls,userVisible:"0"!==e.controls},void 0!==e.speed&&!isNaN(parseFloat(e.speed))&&{playbackRate:parseFloat(e.speed)},void 0!==e.loops&&!isNaN(parseInt(e.loops,10))&&{loops:parseInt(e.loops,10)},void 0!==e.hd&&1===parseInt(e.hd,10)&&{hd:!0})}},1928:function(e,t){e.exports={gfycatBlue:"#2475ff",gfycatLightBlue:"#3aa8ff"}},2131:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(88)),r=a(26);t.default=function(e){e.createDate;var t=e.extraLemmas,a=e.frameRate,o=e.gatekeeper,i=e.gfyId,l=e.gfyName,u=e.height,c=e.languageText,d=e.max5mbGif,s=e.mobilePosterUrl,f=e.mobileUrl,p=e.nsfw,m=e.numFrames,g=e.subreddit,v=e.tags,y=void 0===v?[]:v,h=e.thumb100PosterUrl,b=e.title,w=e.userName,C=(e.views,e.width),k="0"===p&&0===parseInt(o,10)?"index":"noindex,noarchive,nosnippet,noodp,noydir,nocache",E=b&&"untitled"!=b.toLowerCase()?b:null,_=(E||"Gfycat")+" - Create, Discover and Share Awesome GIFs"+(E?" on Gfycat":""),P=(0,r.getTitleString)({title:E,tags:y}),I=(0,r.tagsArray)({tags:y,languageText:c}),N=(0,r.getDescriptionString)({title:E,tags:I,userName:w}),S=(0,r.keywords)({subreddit:g,extraLemmas:t,languageText:c,tags:y}),R=C<=640?C:640,F=C<=640?u:parseInt(R/C*u,10),T="https://api.gfycat.com/v1/oembed?url=https://gfycat.com/"+encodeURIComponent(l),j="https://gfycat.com/ifr/"+l,L="https://gfycat.com/"+i,M=(0,r.getDuration)({frameRate:a,numFrames:m});return(0,n.default)({htmlAttributes:{lang:"en"},title:P,meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{"http-equiv":"X-UA-Compatible",content:"IE=edge, chrome=1"},{name:"robots",content:k},{name:"description",content:N},{name:"keywords",content:S},{name:"author",content:"Gfycat"},{name:"msvalidate.01",content:"2B4FF0FE01F14713C7AAC3BC41F0F777"},{name:"google-site-verification",content:"O3hEECEwrFnDhE5a1aBk2Flh3WT3cnb0PYeWWSsNfwE"},{property:"fb:app_id",content:958688167485836},{name:"p:domain_verify",content:"7e04e49a14f815cd10e520cb44c7c451"},{name:"twitter:card",content:"player"},{name:"twitter:title",content:_},{name:"twitter:url",content:j},{name:"twitter:image",content:d},{name:"twitter:image:src",content:d},{name:"twitter:player",content:j},{name:"twitter:player:width",content:C},{name:"twitter:player:height",content:u},{name:"twitter:description",content:N},{property:"og:type",content:"video"},{property:"og:url",content:d},{property:"og:title",content:_},{property:"og:description",content:N},{property:"og:image",content:d},{property:"og:image:width",content:R},{property:"og:image:height",content:F},{property:"og:image:secure_url",content:d},{property:"og:image",content:s},{property:"og:image:width",content:R},{property:"og:image:height",content:F},{property:"og:image",content:h},{property:"og:video",content:f},{property:"og:video:secure_url",content:f},{property:"og:video:type",content:"video/mp4"},{property:"og:video:width",content:R},{property:"og:video:height",content:F},{property:"og:video:duration",content:M},{property:"og:video:iframe",content:j},{name:"theme-color",content:"#2475FF"}],link:[{rel:"canonical",href:L},{rel:"alternate",type:"application/json+oembed",href:T,title:E}],script:[{type:"application/javascript",innerHTML:"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PNKFTN');"},{type:"application/javascript",src:"//cdn.embed.ly/player-0.1.0.min.js"}]})}},2132:function(e,t){e.exports={gfycatBlue:"#2475ff",gfycatLightBlue:"#3aa8ff"}}});