!function(){function r(t,e,n){function o(a,c){if(!e[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=e[a]={exports:{}};t[a][0].call(f.exports,function(r){var e=t[a][1][r];return o(e||r)},f,f.exports,r,t,e,n)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return r}()({1:[function(r,t,e){!function(r,n){if("object"==typeof e&&"object"==typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o=n();for(var i in o)("object"==typeof e?e:r)[i]=o[i]}}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return r[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=r,t.c=e,t.p="/dist/",t(0)}([function(r,t,e){"use strict";var n=e(1);r.exports={createReporter:n.createReporter,version:"2.0.7"}},function(r,t,e){"use strict";function n(r){var t=window.location.origin;return r.split("\n").map(function(r){return(0,u.trim)(r).replace(t,"")})}function o(r){var t=r.logName,e=r.projectName,o=r.transportType,l=void 0===o?"img":o,p=r.errorKeyName,d=void 0===p?"jsError":p,v=(0,s.getTransport)(l),m=(0,u.getHostName)(a.APP_DEFAULTS)(e),y=function(r,n,o){var i=(0,c.getPayload)({projectName:e,logName:t,name:r},n,o),a=v(m,i);return{payload:i,uri:a}},h=function(){return{logName:t,projectName:e,uri:m}},g=function(r){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=(0,f.normalizeError)(r),o=window.location.href;try{throw e}catch(a){var c=i({r:o,m:a.message,s:n(a.stack||"")},t);return y(d,1,c)}},w=function(r){var t=arguments.length<=1||void 0===arguments[1]?function(r){return r}:arguments[1],e=window.addEventListener?"addEventListener":"attachEvent",n="addEventListener"===e?"":"on";r[e](n+"error",function(r){var e=r||window.event,n=(0,f.normalizeError)(e.error);t(r,g(n,{f:e.filename||"",l:e.lineno||"",c:e.colno||""}))})};return{captureException:g,watchForErrorOn:w,getParams:h,send:y}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r};t.createReporter=o;var a=e(2),c=e(3),u=e(4),s=e(6),f=e(7)},function(r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APP_DEFAULTS={protocol:"https",hostName:"radar.imgsmail.ru",url:"/update"},t.ERROR_DEFAULT={error:!0}},function(r,t,e){"use strict";function n(r){return Object.keys(r).reduce(function(t,e){var n=r[e];return(0,i.isEmpty)(n)||(t[e]=n),t},{})}function o(r){var t=r.projectName,e=r.logName,o=void 0===e?null:e,i=r.name,c=void 0===i?"error":i,s=arguments.length<=1||void 0===arguments[1]?1:arguments[1],f=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],l={p:t,t:c,v:s,rnd:Math.random()};if(null!==o){l.rlog=o;var p={p:(0,a.getPlatform)(),d:n(f)};try{l.rlog_message=JSON.stringify(p)}catch(d){l.rlog_message=u}}return l}Object.defineProperty(t,"__esModule",{value:!0}),t.getPayload=o;var i=e(4),a=e(5),c=e(2),u=JSON.stringify(c.ERROR_DEFAULT)},function(r,t){"use strict";function e(r){var t=r.protocol,e=r.hostName,n=r.url;return function(r){return t+"://"+r+"."+e+n}}function n(r){return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function o(r){return"undefined"==typeof r||null===r||(!r.toString||0===n(r.toString()).length)}Object.defineProperty(t,"__esModule",{value:!0}),t.getHostName=e,t.trim=n,t.isEmpty=o},function(r,t){"use strict";function e(){var r=window.navigator.userAgent,t=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],e=t[1]||"",n=t[2]||"";if(/trident/i.test(t[1])){var o=/\brv[ :]+(\d+)/g.exec(navigator.userAgent);return null!==o?{n:"IE",v:o[1]}:{n:"IE",v:""}}if("Opera"===e){if(window.opera)return{n:"Opera",v:window.opera.version()};var i=r.match(/\bOPR\/([\d|\.]+)/);return{n:e,v:i[1]}}if("Safari"===e){var a=r.match(/Version\/([\d|\.]+)/i);return{n:e,v:a[1]||n}}return{n:e,v:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatform=e},function(r,t,e){"use strict";function n(r){return Object.keys(r).reduce(function(t,e){var n=r[e];return(0,a.isEmpty)(n)?t:t.concat(e+"="+encodeURIComponent(n))},[]).join("&")}function o(r,t){var e=n(t);return r+"?"+e}function i(r){switch(r){case"dummy":return function(r,t){var e=o(r,t);return e};case"xhr":throw new c.MPFRadarReportError({message:"XHR: not implemented"});case"img":return function(r,t){var e=o(r,t),n=new Image;return n.src=e,e};case"fetch":default:return function(r,t,e){var n=o(r,t);return fetch(n,{mode:"no-cors"}),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransport=i;var a=e(4),c=e(7)},function(r,t){"use strict";function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function n(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?r:t}function o(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}function i(r){return r instanceof Error?r:new Error(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeError=i;t.MPFRadarReportError=function(r){function t(r){var o=r.message,i=void 0===o?"unknown error":o;e(this,t);var a=n(this,Object.getPrototypeOf(t).call(this,i));return a.name=a.constructor.name,Error.captureStackTrace?Error.captureStackTrace(a,a.constructor.name):a.stack=(new Error).stack,a}return o(t,r),t}(Error)}])})},{}],2:[function(r,t,e){"use strict";function n(r){if(!r.title)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty title"});if(!r.body)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty body"});if(!r.url)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty url"});return r}var o=r("@mrgm/radar-report"),i=r("../utils/error"),a="lady",c="/api/browserpush/head/",u="/img/lady/push-icon_192x192.png",s=(0,o.createReporter)({projectName:a,transportType:"fetch"});self.addEventListener("install",function(r){r.waitUntil(self.skipWaiting())}),self.addEventListener("message",function(){}),self.addEventListener("push",function(r){return s.send("push_worker_push",1),r.waitUntil(fetch(c).then(function(r){if(200!==r.status)throw new i.PushNotificationsError({code:"invalid_response",message:"Invalid Response"});return r.json()}).then(n).then(function(r){s.send("push_worker_server",1);var t=new Date,e={body:r.body||"",icon:r.icon||u,data:{url:r.url||"/"},tag:"".concat(r.tag||t.getTime())};return self.registration.showNotification(r.title,e)})["catch"](function(r){s.send("push_worker_server",0),console.error("Invalid data",r.code,r.message)}))}),self.addEventListener("notificationclick",function(r){var t=r.notification,e=(t.data||{}).url||"/";s.send("push_worker_notification_click",1),r.notification.close(),r.waitUntil(clients.openWindow(e))})},{"../utils/error":3,"@mrgm/radar-report":1}],3:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function o(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function i(r,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(r):t}function a(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function c(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&p(r,t)}function u(r){var t="function"==typeof Map?new Map:void 0;return(u=function(r){function e(){return f(r,arguments,d(this).constructor)}if(null===r||!l(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(r))return t.get(r);t.set(r,e)}return e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),p(e,r)})(r)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function f(r,t,e){return f=s()?Reflect.construct:function(r,t,e){var n=[null];n.push.apply(n,t);var o=Function.bind.apply(r,n),i=new o;return e&&p(i,e.prototype),i},f.apply(null,arguments)}function l(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function p(r,t){return(p=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(r,t)}function d(r){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.PushNotificationsError=void 0;var v=function(r){function t(r){var e,n=r.message,c=r.code;return o(this,t),e=i(this,d(t).call(this,n)),e.name=e.constructor.name,e.code=c,Error.captureStackTrace?Error.captureStackTrace(a(e),e.constructor.name):e.stack=(new Error).stack,e}return c(t,r),t}(u(Error));e.PushNotificationsError=v;var m=v;e["default"]=m},{}]},{},[2]);