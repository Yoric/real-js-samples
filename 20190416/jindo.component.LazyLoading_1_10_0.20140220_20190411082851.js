jindo.LazyLoading={_waLoading:jindo.$A([]),_waLoaded:jindo.$A([]),_whtScript:jindo.$H({}),_whtCallback:jindo.$H({})},jindo.LazyLoading.load=function(a,n,t){if("function"!=typeof n&&(n=function(){}),a instanceof Array){for(var i=(arguments.callee,!0),e=a.length,o=e,d=0;d<e;d++)i&=this.load(a[d],function(){0===--o&&n()},t);return i}if(this._queueCallback(a,n),this._checkIsLoading(a))return!1;if(this._checkAlreadyLoaded(a))return this._doCallback(a),!0;this._waLoading.push(a);var c=this,l=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.type="text/javascript",r.charset=t||"utf-8",r.src=a,this._whtScript.add(a,r),"onload"in r?r.onload=function(){c._waLoaded.push(a),c._waLoading=c._waLoading.refuse(a),c._doCallback(a)}:r.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(c._waLoaded.push(a),c._waLoading=c._waLoading.refuse(a),c._doCallback(a),this.onreadystatechange=null)},l.appendChild(r),!0},jindo.LazyLoading._queueCallback=function(a,n){var t=this._whtCallback.$(a);t?t.push(n):this._whtCallback.$(a,[n])},jindo.LazyLoading._doCallback=function(a){for(var n=this._whtCallback.$(a).concat(),t=0;t<n.length;t++)this._whtCallback.$(a).splice(t,1),n[t]()},jindo.LazyLoading.abort=function(a){if(this._checkIsLoading(a)){var n=this.getScriptElement(a);return this._waLoading=this._waLoading.refuse(a),"onload"in n?n.onload=null:n.onreadystatechange=null,jindo.$Element(n).leave(),this._whtScript.remove(a),this._whtCallback.remove(a),!0}return!1},jindo.LazyLoading._checkAlreadyLoaded=function(a){return this._waLoaded.has(a)},jindo.LazyLoading._checkIsLoading=function(a){return this._waLoading.has(a)},jindo.LazyLoading.getLoaded=function(){return this._waLoaded.$value()},jindo.LazyLoading.getLoading=function(){return this._waLoading.$value()},jindo.LazyLoading.getScriptElement=function(a){return this._whtScript.$(a)||null};