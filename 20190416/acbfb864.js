var MultiMotionStaticThumbnail;(function(n){function ct(){v||(v=!0,tt(_w,ot,lt,!0))}function lt(){i=[];v=!1}function at(n){if(i[n])return i[n].clientHeight}var ut="vhcic",ft="vhcicimg",et="vhcicimg_content",ot="unload",y="mmst",r="undefined",u=typeof VideoRichHoverUtils!=r?VideoRichHoverUtils:null,o=typeof VRHConsts!=r?VRHConsts:null,s=typeof SmartEvent!=r?SmartEvent:null,t=typeof pMMUtils!=r?pMMUtils:null,h=ThUrlGenerator,f=!1,c=null,p=null,w=null,b=null,k=null,d=null,l=null,a=null,g=null,nt=null,e=null,tt=null,i=[],v=!1,it=!1,st=null,rt;if(!f&&t&&t.gfbc&&t.sepd&&t.ga&&t.sa&&t.gebc&&t.ac&&t.sw&&t.sh&&t.adt&&u&&o&&u.showElement&&s&&s.bind&&(c=t.gfbc,p=t.gebc,b=t.ga,k=t.sa,d=t.ac,l=t.sw,a=t.sh,g=t.gsh,nt=t.adt,w=t.sepd,e=u.showElement,st=u.getThumbUrlOrMockThumbUrl,tt=s.bind,f=!0,it=t.isTest()),f&&_w&&!_w[y]){_w[y]=n;function ht(n,t,r,u,e){f&&n&&n.length>1&&(i[n]&&(i[n]=null),i[n]=new rt(t,r,u,e));return}ct();n.init=ht}n.clientHeight=at;rt=function(){function n(n,t,i,r){var u=this;(this.mmstImages=null,this.instMeta=null,this.lastSeekIndex=null,this.clientHeight=0,this.componentCheck=function(n,t){var r,i;if((u.mmstContainer=c(ut,t),!u.mmstContainer)||(e(u.mmstContainer,!1),u.thumbnailCapacity=n.mmstcnt,!u.thumbnailCapacity)||(u.pidStr=n.pid,u.pidStr||(u.pidStr=""),u.borderwidth=n.mmstbw,!u.borderwidth))return!1;for(r=p(ft,u.mmstContainer),u.mmstImages=[],i=0;i<r.length;i++)u.mmstImages.push(r[i]);return!u.mmstImages||u.mmstImages.length<u.thumbnailCapacity?!1:!0},this.setMMSTThumbs=function(n,t,i,r,f,e,o,s,c,v){var y;e>r&&(e=r);var b=o&&o.match("id=([^&]+)")||[],k=b.length>1?b[1]:"",p=parseInt(((n-(r+1)*f)/r).toFixed(0)),w=parseInt((p*9/16).toFixed(0));l(t,n);a(t,w);y=h.NewThumbnailUrl(k,c,p,w,s,h.CroppingType.SmartRatio,h.ResizeMode.Ratio);y=u.getThumbUrlOrMockThumbUrl(y,e);u.setMMSTImageElements(n,i,f,p,w,e,r,y,v);sj_evt.fire(VRHConsts.HoverMMSTLoadEvt,v)},this.getThumbUrlOrMockThumbUrl=function(n,t){if(n&&n.length>1&&typeof getMockMMSTSrc!="undefined"&&getMockMMSTSrc){var i=getMockMMSTSrc(t);if(i!=null)return i}return n},this.setMMSTImageElements=function(n,t,i,r,f,e,o,s){for(var v,w,y,p,b,g=0,h=0;h<o;h++)v=t[h],k(v,"id",(h+1).toString()),w=!1,y=0,y=h===0?r+2*i:h===o-1?n-g:r+i,h>=e&&(d(v,"na"),w=!0),l(v,y),g+=y,p=c(et,v),p.src=s,p.style.marginLeft=-1*h*r+"px",p.style.cssFloat="left",a(v,f),w?b="multimedia.videoRichHover.mmstNotAvailable":(b="multimedia.videoRichHover.mmstAvailable",sj_be(v,"mouseenter",u.onMMSTMouseOver,!1)),it&&nt(v,b)},this.onMMSTMouseOver=function(n){var i,t;if(n&&(w(n),i=sj_et(n),i)){if(n.stopPropagation(),n.preventDefault(),t=b(i,"id"),u.lastSeekIndex==t)return;u.lastSeekIndex=t;!isNaN(parseInt(t))&&u.instMeta&&sj_evt.fire(o.MMSTSeekEvt,u.instMeta,t)}},this.onFallbackToNonSMT=function(){e(u.mmstContainer,!1)},n&&t&&t.thumbCnt!==0&&t.mmstUrl&&t.thumbCnt)&&this.componentCheck(i,n)&&(this.instMeta=r,this.setMMSTThumbs(t.containerWidth,this.mmstContainer,this.mmstImages,this.thumbnailCapacity,this.borderwidth,t.thumbCnt,t.mmstUrl,this.pidStr,t.isAdultThumb,r),e(this.mmstContainer,!0),sj_evt.bind(o.FallbackToNonSMTEvt,this.onFallbackToNonSMT),this.clientHeight=g(this.mmstContainer))}return n}()})(MultiMotionStaticThumbnail||(MultiMotionStaticThumbnail={}))