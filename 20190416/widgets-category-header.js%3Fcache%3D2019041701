function excludeCategory(e){var t=e.target;if(-1<t.dataset.url.indexOf("o=al")){var a=t.dataset.url.replace("o=al&","");window.location=a}else if(-1<t.dataset.url.indexOf("o=mv")){a=t.dataset.url.replace("o=mv&","");window.location=a}else window.location=t.dataset.url}function openSubCats(e){var t=e.target,a=MG_Utils.hasClass(t,"categories_arrow")?MG_Utils.lastChild(t.parentNode.parentNode.parentNode.parentNode):MG_Utils.lastChild(t.parentNode.parentNode.parentNode);MG_Utils.toggleClass(a,"show"),MG_Utils.hasClass(a,"show")?(MG_Utils.addClass(MG_Utils.previousElementSibling(a).querySelector(".js-categories_arrow"),"opened"),inlineSubcats()):MG_Utils.removeClass(MG_Utils.previousElementSibling(a).querySelector(".js-categories_arrow"),"opened")}function inlineSubcats(e){var t=document.querySelectorAll(".subcatsLi a");if(t)for(var a=0;a<t.length;a++)30<t[a].clientHeight&&(MG_Utils.previousElementSibling(t[a].parentNode).style.marginTop="5px",MG_Utils.lastChild(t[a]).style.marginTop="-12px")}function openSubCatsImage(e){var t=e.target,a=MG_Utils.hasClass(t,"categories_arrow")?t.parentNode:t,s=MG_Utils.hasClass(t,"categories_arrow")?MG_Utils.lastChild(t.parentNode.parentNode.parentNode):MG_Utils.lastChild(t.parentNode.parentNode);hideAllSubCategories(a),"show"==MG_Utils.getData(s,"show")?(MG_Utils.setData(s,"show",""),MG_Utils.removeClass(MG_Utils.previousElementSibling(s).querySelector(".js-categories_arrow"),"opened")):(MG_Utils.setData(s,"show","show"),MG_Utils.addClass(MG_Utils.previousElementSibling(s).querySelector(".js-categories_arrow"),"opened"))}function hideAllSubCategories(s){var e=document.querySelectorAll(".js-openSubCatsImage");e&&[].forEach.call(e,function(e){var t=MG_Utils.lastChild(e.parentNode.parentNode),a=e.querySelector(".js-categories_arrow");(s&&s!=e||!s)&&(MG_Utils.getData(t,"show")&&MG_Utils.setData(t,"show",""),MG_Utils.hasClass(a,"opened")&&MG_Utils.removeClass(a,"opened"))})}head.ready(document,function(){$j(".sidebar_wrapper ul.nf-categories.tracking li a").click(function(){var e=$j(this).parent().parent().data("points"),t=$j(this).parent().parent().data("category");e&&t&&$j.ajax({url:"/video/category_tracker?e=click&points="+e+"&id="+t+"&token="+token,async:!1,success:function(){}})}),$j(".hideCategoryToggle").on("click",function(e){e.stopPropagation(),e.preventDefault(),excludeCategory(e)}),$j(".js-openSubCats").on("click",function(e){e.stopPropagation(),e.preventDefault(),openSubCats(e)}),$j(".js-openSubCatsImage").on("click",function(e){e.stopPropagation(),e.preventDefault(),openSubCatsImage(e)}),MG_Utils.addEventHandler(document.body,"click",function(e){MG_Utils.hasClass(e.target,"subcatsNoScroll")||MG_Utils.closest(e.target,".subcatsNoScroll")||MG_Utils.hasClass(e.target,"initScroll")||MG_Utils.closest(e.target,".initScroll")||hideAllSubCategories()}),$j(".scrollBar").show(),$j(".track1").show(),MG_Scroll.init({selector:document.querySelectorAll(".initScroll"),height:"auto",width:"auto",color:"#989898",size:"7px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#222",distance:-2,railClass:"track1",opacity:"1",wrapperClass:"subcatsWrapper"})}),MG_Utils.domReady(function(){var e=document.querySelector(".nf-categories-sidebar .sidebar_wrapper.categoryMenu");null!==e&&MG_Utils.addClass(e,"domReady")});