!function(e){e.fest||(e.fest={}),e.fest["ct-notifications-new-comment.xml"]=e.fest["bem/news/web/web.bundles/ct-notifications-new-comment"]=function(e){"use strict";var t,y,u,p,a,_,v,d,s,r=this,c="",n=[],i=[],m="",b={},o="",l="",h="",x=[],P={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},g=/[\\'"\/\n\r\t\b\f<>]/g,f=/[\\'"\/\n\r\t\b\f<>]/,w=/[&<>"]/g,k=/[&<>"]/,N={'"':'\\"',"\\":"\\\\","/":"\\/","\n":"\\n","\r":"\\r","\t":"\\t","\b":"\\b","\f":"\\f","'":"\\'","<":"\\u003C",">":"\\u003E"},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},j=function(e){return N[e]},F=function(e){return"string"==typeof e&&k.test(e)?e.replace(w,T):null==e?"":e},T=function(e){return C[e]},z=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},D=function(e){return e.param=!0,e};r&&"function"==typeof r.i18n&&r.i18n;function E(e){s(e+'\nin block "'+h+'" at line: '+l+"\nfile: "+o)}function H(e,t,a){if(a)for(var s in t)"function"==typeof t[s]&&t[s].param&&(t[s]=t[s]());return e.call(r,t)}s="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var S;if(b.ajax=function(e){var t="";try{u=e.html}catch(e){u=!1,E(e.message)}if(u)try{t+=e.html}catch(e){E(e.message+"5")}return t},b.element=function(e){var t,a,s,r,c="";try{var n=e.baseParams||e.forParams||e,m=n.attrs||{},i=e.baseClass||e.forClass||"",o=e.elem,l=e.htmlDeep;o&&l&&!o.htmlDeep?o.htmlDeep=l:!o&&l&&(e.html=l),e.href&&(m.href=e.href)}catch(e){E(e.message)}try{"string"!=typeof(d=(m.href?"a":e.tagName)||"div")&&(E("Element name must be a string"),d="div")}catch(e){d="div",E(e.message)}x.push(d),c+="<"+d,c+=' class="';try{y=fest._helpers.classNamesFor(i,n)}catch(e){y="",E(e.message)}c+=y,c+='"';try{t=m||{}}catch(e){p={},E(e.message)}for(a in t){s=t[a];try{y=a}catch(e){y="",E(e.message)}if(""!==y){c+=" "+y+'="';try{c+=F(s)}catch(e){E(e.message+"25")}c+='"'}}try{r=e.attrsNoEscape||{}}catch(e){p={},E(e.message)}for(a in r){s=r[a];try{y=a}catch(e){y="",E(e.message)}if(""!==y){c+=" "+y+'="';try{c+=s}catch(e){E(e.message+"30")}c+='"'}}c+=(d=x[x.length-1])in P?"/>":">";try{u=e.htmlPrepend}catch(e){u=!1,E(e.message)}if(u)try{c+=e.htmlPrepend}catch(e){E(e.message+"36")}try{u=e.html}catch(e){u=!1,E(e.message)}if(u)try{c+=e.html}catch(e){E(e.message+"39")}try{u=e.elem}catch(e){u=!1,E(e.message)}if(u){y="element",v={};try{v=e.elem}catch(e){E(e.message)}(_=b[y])&&(c+=H(_,v,!1))}try{u=e.elems}catch(e){u=!1,E(e.message)}if(u){var h,g,f;try{g=(f=e.elems||[]).length}catch(e){f=[],g=0,E(e.message)}for(h=0;h<g;h++){o=f[h];try{u=o}catch(e){u=!1,E(e.message)}if(u){y="element",v={};try{v=o}catch(e){E(e.message)}(_=b[y])&&(c+=H(_,v,!1))}}}try{u=e.htmlAppend}catch(e){u=!1,E(e.message)}if(u)try{c+=e.htmlAppend}catch(e){E(e.message+"52")}return(d=x[x.length-1])in P||(c+="</"+d+">"),x.pop(),c},b.icon=function(c){var e="";try{var n=c.svg}catch(e){E(e.message)}y="element",v={};try{z(v,c)}catch(e){E(e.message)}try{z(v,fest._helpers.mergeTopParams(c,{mods:n?["svg"]:[],attrs:c.title&&{title:c.title}}))}catch(e){E(e.message)}try{z(v,{tagName:c.tagName||c.tag||"span",baseClass:"icon"})}catch(e){E(e.message)}return v.html=D(function(){var e,t,a,s,r="";try{t=n&&n.src}catch(e){t=!1,E(e.message)}if(t){e="icon_svg",s={};try{s=n}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}else{try{t=n&&n.name}catch(e){t=!1,E(e.message)}if(t){e="icon__svg_defs",s={};try{s=n}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}}try{t=c.icon}catch(e){t=!1,E(e.message)}if(t){e="icon",s={};try{s=c.icon}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}try{t=c.html}catch(e){t=!1,E(e.message)}if(t)try{r+=c.html}catch(e){E(e.message+"43")}return r}),(_=b[y])&&(e+=H(_,v,!0)),e},b.icon__svg_defs=function(a){var e="";y="element",v={};try{z(v,a)}catch(e){E(e.message)}try{z(v,fest._helpers.mergeTopParams(a,{mods:[a.name],attrs:a.viewbox&&{viewbox:a.viewbox}}))}catch(e){E(e.message)}try{z(v,{tagName:"svg",baseClass:"icon__svg"})}catch(e){E(e.message)}return v.html=D(function(){var t,e="";e+='<use xlink:href="';try{t="#icon__svg_"+a.name}catch(e){t="",E(e.message)}return e+=t,e+='"></use>'}),(_=b[y])&&(e+=H(_,v,!0)),e},b.icon_svg=function(c){var e="";try{var n=c.src||c.defaultSrc}catch(e){E(e.message)}y="element",v={};try{z(v,{tagName:c.name&&n?"svg":"span",baseClass:"icon"})}catch(e){E(e.message)}try{z(v,c)}catch(e){E(e.message)}return v.html=D(function(){var e,t,a,s,r="";try{t=n&&c.name}catch(e){t=!1,E(e.message)}if(t){e="element",s={};try{z(s,{tagName:"use",baseClass:"icon__use"})}catch(e){E(e.message)}try{z(s,c.use)}catch(e){E(e.message)}try{z(s,fest._helpers.mergeTopParams({attrs:{"xlink:href":n+"#"+c.name}},c.use))}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}else{try{t=c.icon}catch(e){t=!1,E(e.message)}if(t){e="icon",s={};try{z(s,c.icon)}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}}return r}),(_=b[y])&&(e+=H(_,v,!0)),e},b.scroll=function(e){var t="";try{e.type=e.type||"vertical";var a=e.trackParams||{},s=e.trackBoxParams||{},r=e.dragParams||{},c=e.dragWrapParams||{};e.mix=e.mix||["js-scrollbar"],s.mix=s.mix||["js-scrollbar__track"],c.mix=c.mix||["js-scrollbar__track__drag__point"],r.mix=r.mix||["js-scrollbar__track__drag"]}catch(e){E(e.message)}try{i[0]=F(fest._helpers.classNamesFor("scroll",e))}catch(e){i[0]="",E(e.message)}try{i[1]=F(e.type)}catch(e){i[1]="",E(e.message)}t+='<div class="'+i[0]+'" data-type="'+i[1]+'">';try{i[0]=F(fest._helpers.classNamesFor("scroll__track",a))}catch(e){i[0]="",E(e.message)}t+='<div class="'+i[0]+'">';try{i[0]=F(fest._helpers.classNamesFor("scroll__track__box",s))}catch(e){i[0]="",E(e.message)}t+='<div class="'+i[0]+'">';try{i[0]=F(fest._helpers.classNamesFor("scroll__track__drag-wrap",c))}catch(e){i[0]="",E(e.message)}t+='<div class="'+i[0]+'">';try{i[0]=F(fest._helpers.classNamesFor("scroll__track__drag",r))}catch(e){i[0]="",E(e.message)}return t+='<div class="'+i[0]+'"></div></div></div></div></div>'},b.tooltip__box=function(c){var e="";y="element",v={};try{z(v,c)}catch(e){E(e.message)}try{z(v,{baseClass:"tooltip__box"})}catch(e){E(e.message)}return v.html=D(function(){var e,t,a="";t={};try{z(t,c.innerParams)}catch(e){E(e.message)}try{z(t,{baseClass:"tooltip__inner"})}catch(e){E(e.message)}return t.html=D(function(){var e,t,a,s,r="";try{t=c.close}catch(e){t=!1,E(e.message)}if(t){e="icon",s={};try{z(s,c.close)}catch(e){E(e.message)}try{z(s,fest._helpers.mergeTopParams(c.close,{mix:["tooltip__close"]}))}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}try{t=c.scrollParams}catch(e){t=!1,E(e.message)}if(t){e="scroll",s={};try{s=fest._helpers.mergeParams(c.scrollParams,{mix:["tooltip__scroll"]})}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}e="element",s={};try{z(s,c.contentParams)}catch(e){E(e.message)}try{z(s,{baseClass:"tooltip__content"})}catch(e){E(e.message)}return s.html=D(function(){var t,e="";try{t=c.html}catch(e){t=!1,E(e.message)}if(t)try{e+=c.html}catch(e){E(e.message+"50")}return e}),(a=b[e])&&(r+=H(a,s,!0)),r}),(e=b.element)&&(a+=H(e,t,!0)),a}),(_=b[y])&&(e+=H(_,v,!0)),e},b.tooltip=function(c){var e="";try{var n=c.scrollParams;n&&(c.mods=["scroll"].concat(c.mods||[]))}catch(e){E(e.message)}y="element",v={};try{z(v,c)}catch(e){E(e.message)}try{z(v,{baseClass:"tooltip"})}catch(e){E(e.message)}return v.html=D(function(){var e,t,a,s,r="";try{t=c.html}catch(e){t=!1,E(e.message)}if(t){e="element",s={};try{z(s,{baseClass:"tooltip__wrapper"})}catch(e){E(e.message)}s.html=D(function(){var e="";try{e+=c.html}catch(e){E(e.message+"28")}return e}),(a=b[e])&&(r+=H(a,s,!0))}try{t=c.boxHtml||c.boxParams||c.innerParams}catch(e){t=!1,E(e.message)}if(t){e="tooltip__box",s={};try{z(s,c.boxParams)}catch(e){E(e.message)}try{z(s,{scrollParams:n,innerParams:c.innerParams,contentParams:c.contentParams,html:c.boxHtml,close:c.close})}catch(e){E(e.message)}(a=b[e])&&(r+=H(a,s,!1))}return r}),(_=b[y])&&(e+=H(_,v,!0)),e},b.avatar=function(e){var t="";try{var a={32:90,45:90},s=e.user,r=e.avatarSize,c=e.src;!c&&s&&(r||(r=90),c=fest._helpers.avatar({email:s.email,name:s.name,domain:s.domain,filin_domain:s.filin_domain,filin_d:s.filin_d,width:r in a?a[r]:180}))}catch(e){E(e.message)}y="element",v={};try{z(v,e)}catch(e){E(e.message)}try{z(v,fest._helpers.mergeTopParams(e,r&&{mods:["size_"+r]},c&&{attrs:{style:"background-image: url('"+c+"');"}}))}catch(e){E(e.message)}try{z(v,{baseClass:"avatar",tagName:"span"})}catch(e){E(e.message)}return(_=b[y])&&(t+=H(_,v,!1)),t},b.cell=function(e){var t="";y="element",v={};try{z(v,e)}catch(e){E(e.message)}try{z(v,{baseClass:"cell",tagName:e.tagName||e.tag||"span"})}catch(e){E(e.message)}return(_=b[y])&&(t+=H(_,v,!1)),t},b["p-counter-show"]=function(e){var t="";try{var a=e.prefix||"d",s=e.id?a+e.id:null}catch(e){E(e.message)}try{u=s}catch(e){u=!1,E(e.message)}if(u){try{u=e.hitJsСounter}catch(e){u=!1,E(e.message)}if(u){t+=' \x3c!-- mr_counter type="rbmail" src="https://rs.mail.ru/';try{t+=F(s)}catch(e){E(e.message+"9")}t+='.gif" --\x3e'}t+="<script>(function () {\n\t\t\t\t\t(new Image()).src = '//rs.mail.ru/";try{t+=function(e){return"string"==typeof e&&f.test(e)?e.replace(g,j):null==e?"":e}(s)}catch(e){E(e.message+"13")}t+=".gif?&r=' + Math.random();\n\t\t\t\t})();<\/script>";try{u=e.hitJsСounter}catch(e){u=!1,E(e.message)}u&&(t+="\x3c!-- /mr_counter --\x3e")}return t},b["pc-notification_new-comment"]=function(r){var e="";try{var c=r.author||{},n=r.created_at,m=r.counters||{}}catch(e){E(e.message)}y="tooltip",v={};try{z(v,{mods:["positioned","notify-comment"],mix:["js-ago-wrapper"],close:{mods:["close"],mix:["js-notice__close"]},innerParams:{mix:["padding_10","padding_bottom_5","padding_right_20"]}})}catch(e){E(e.message)}v.boxHtml=D(function(){var e,t,a,s="";e="cell",a={};try{z(a,{mods:["left"]})}catch(e){E(e.message)}a.html=D(function(){var e,t,a="";t={};try{z(t,{user:c,src:c.src})}catch(e){E(e.message)}try{z(t,{avatarSize:45})}catch(e){E(e.message)}return(e=b.avatar)&&(a+=H(e,t,!1)),a}),(t=b[e])&&(s+=H(t,a,!0)),e="cell",a={};try{z(a,{mix:["valign_middle"]})}catch(e){E(e.message)}return a.html=D(function(){var t,e,a,s="";try{s+=c.nick||c.email}catch(e){E(e.message+"51")}s+=" добавил(а)<br/>";try{i[0]=F(r.replyUrl)}catch(e){i[0]="",E(e.message)}try{i[1]=F("clb"+m.click)}catch(e){i[1]="",E(e.message)}s+='<a href="'+i[0]+'" class="js-payments__check-btn" name="'+i[1]+'">новый комментарий</a>';try{t=n}catch(e){t=!1,E(e.message)}if(t){s+=" ",a={};try{a={tagName:"span",text:n.display,mix:["js-ago"],attrs:{datetime:n.rfc3339}}}catch(e){E(e.message)}(e=b.element)&&(s+=H(e,a,!1))}return s}),(t=b[e])&&(s+=H(t,a,!0)),s}),(_=b[y])&&(e+=H(_,v,!0));try{u=m.show}catch(e){u=!1,E(e.message)}if(u){y="p-counter-show",v={};try{v={id:m.show}}catch(e){E(e.message)}(_=b[y])&&(e+=H(_,v,!1))}return e},S=e,y="ajax",(v={}).html=D(function(){var e,t,a="";t={};try{z(t,S)}catch(e){E(e.message)}try{z(t,{counters:{click:25452893,show:25452893}})}catch(e){E(e.message)}return(e=b["pc-notification_new-comment"])&&(a+=H(e,t,!1)),a}),n.push(c,{name:y,params:v,cp:!0}),c="",a=n.length){for(p=0;p<a;p++)"string"==typeof(t=n[p])?m+=t:(_=b[t.name])&&(m+=H(_,t.params,t.cp));return m+c}return c}}(Function("return this")());