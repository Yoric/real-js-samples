"function"!==typeof window.DIL&&(window.DIL=function(a,c){var e=[],d,g;a!==Object(a)&&(a={});var k,l,p,n,x,q,v,E,t,M,N,B,C,F,A;k=a.partner;l=a.containerNSID;p=!!a.disableDestinationPublishingIframe;n=a.iframeAkamaiHTTPS;x=a.mappings;q=a.uuidCookie;v=!0===a.enableErrorReporting;E=a.visitorService;t=a.declaredId;M=!0===a.removeFinishedScriptsAndCallbacks;N=!0===a.delayAllUntilWindowLoad;B=!0===a.disableIDSyncs;C="undefined"===typeof a.secureDataCollection||!0===a.secureDataCollection;F=!0===a.useCORSOnly;
A="boolean"===typeof a.isCoopSafe?a.isCoopSafe:null;var O,P,J,G,Q,R,S,T,K;O=!0===a.disableScriptAttachment;P=!0===a.disableDefaultRequest;J=a.afterResultForDefaultRequest;G=a.dpIframeSrc;Q=!0===a.testCORS;R=!0===a.useJSONPOnly;S=a.visitorConstructor;T=!0===a.disableCORS;K=a.blacklistIELessThan9;v&&DIL.errorModule.activate();var V=!0===window._dil_unit_tests;(d=c)&&e.push(d+"");if(!k||"string"!==typeof k)return d="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",
message:d,filename:"dil.js"}),Error(d);d="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(l||"number"===typeof l)l=parseInt(l,10),!isNaN(l)&&0<=l&&(d="");d&&(l=0,e.push(d),d="");g=DIL.getDil(k,l);if(g instanceof DIL&&g.api.getPartner()===k&&g.api.getContainerNSID()===l)return g;if(this instanceof DIL)DIL.registerDil(this,k,l);else return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+k+" and containerNSID \x3d "+
l);var u={IS_HTTPS:C||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,MILLIS_PER_DAY:864E5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(k)+"_"+l,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP",HAS_JSON_STRINGIFY:window.JSON===Object(window.JSON)&&"function"===typeof window.JSON.stringify,REGION:"REGION",SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var b=7;4<b;b--){var h=document.createElement("div");
h.innerHTML="\x3c!--[if IE "+b+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e";if(h.getElementsByTagName("span").length)return b}return null}(),IS_IE_LESS_THAN_9_NOT_SUPPORTED:!1};u.IS_IE_LESS_THAN_9="number"===typeof u.IE_VERSION&&9>u.IE_VERSION;u.BLACKLIST_IE_LESS_THAN_9="undefined"!==typeof K?K:u.IS_IE_LESS_THAN_9&&u.IS_IE_LESS_THAN_9_NOT_SUPPORTED;var L={stuffed:{}},w={},r={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,
useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:l+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,
calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(b){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var h=this,m,f,a,d;if("function"===typeof b&&"function"===typeof b.getInstance){if(E===Object(E)&&(m=E.namespace)&&"string"===typeof m)f=b.getInstance(m,{idSyncContainerID:l});else{this.releaseType="no namespace";this.releaseRequests();return}if(f===Object(f)&&
f instanceof b&&"function"===typeof f.isAllowed&&"function"===typeof f.getMarketingCloudVisitorID&&"function"===typeof f.getCustomerIDs&&"function"===typeof f.isOptedOut){this.VisitorAPI=b;if(!f.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=f;a=function(b){"VisitorAPI"!==h.releaseType&&(h.mid=b,h.releaseType="VisitorAPI",h.releaseRequests())};d=f.getMarketingCloudVisitorID(a);if("string"===typeof d&&d.length){a(d);return}setTimeout(function(){"VisitorAPI"!==
h.releaseType&&(h.releaseType="timeout",h.releaseRequests())},this.getLoadTimeout());return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(c){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;r.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var b=y.isPopulatedString,h=this.getMarketingCloudVisitorID();if(!b(this.mid)||this.mid!==
h)this.mid=h;return b(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(b){if(b===Object(b)){var h="",m=[],f=[],a,d;for(a in b)b.hasOwnProperty(a)&&(f[0]=a,d=b[a],d===Object(d)&&(f[1]=d.id||"",f[2]=d.authState||0,m.push(f),f=[]));if(f=m.length)for(b=0;b<f;b++)h+="\x26d_cid_ic\x3d"+s.encodeAndBuildRequest(m[b],"%01");return h}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,
this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(b){this.isOptedOut=b;this.isOptedOutCallbackCalled=!0;r.registerRequest()},getLoadTimeout:function(){var b=this.instance;if(b){if("function"===typeof b.getLoadTimeout)return b.getLoadTimeout();if("undefined"!==typeof b.loadTimeout)return b.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},
setDeclaredId:function(b,h){var m=y.isPopulatedString,f=encodeURIComponent;if(b===Object(b)&&m(h)){var a=b.dpid,d=b.dpuuid,c=null;if(m(a)&&m(d)){c=f(a)+"$"+f(d);if(!0===this.declaredIdCombos[c])return"setDeclaredId: combo exists for type '"+h+"'";this.declaredIdCombos[c]=!0;this.declaredId[h]={dpid:a,dpuuid:d};return"setDeclaredId: succeeded for type '"+h+"'"}}return"setDeclaredId: failed for type '"+h+"'"},getDeclaredIdQueryString:function(){var b=this.declaredId.request,h=this.declaredId.init,m=
encodeURIComponent,f="";null!==b?f="\x26d_dpid\x3d"+m(b.dpid)+"\x26d_dpuuid\x3d"+m(b.dpuuid):null!==h&&(f="\x26d_dpid\x3d"+m(h.dpid)+"\x26d_dpuuid\x3d"+m(h.dpuuid));return f}},registerRequest:function(b){var h=this.firingQueue;b===Object(b)&&h.push(b);if(!this.firing&&h.length&&(!N||DIL.windowLoaded))if(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&(!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled)&&(this.adms.isOptedOutCallbackCalled=!1,b=h.shift(),
b.src=b.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),y.isPopulatedString(b.corsPostData)&&(b.corsPostData=b.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),D.fireRequest(b),!this.firstRequestHasFired&&("script"===b.tag||"cors"===b.tag)))this.firstRequestHasFired=!0},processVisitorAPI:function(){this.adms.process(S||window.Visitor)},requestRemoval:function(b){if(!M)return"removeFinishedScriptsAndCallbacks is not boolean true";
var h=this.toRemove,m,f;b===Object(b)&&(m=b.script,f=b.callbackName,(m===Object(m)&&"SCRIPT"===m.nodeName||"no script created"===m)&&("string"===typeof f&&f.length)&&h.push(b));if(this.readyToRemove&&h.length){f=h.shift();m=f.script;f=f.callbackName;"no script created"!==m?(b=m.src,m.parentNode.removeChild(m)):b=m;window[f]=null;try{delete window[f]}catch(a){}this.removed.push({scriptSrc:b,callbackName:f});DIL.variables.scriptsRemoved.push(b);DIL.variables.callbacksRemoved.push(f);return this.requestRemoval()}return"requestRemoval() processed"},
getCoopQueryString:function(){var b="";!0===A?b="\x26d_coop_safe\x3d1":!1===A&&(b="\x26d_coop_unsafe\x3d1");return b}};g=function(){var b="http://fast.",h="?d_nsid\x3d"+l+"#"+encodeURIComponent(document.location.href);if("string"===typeof G&&G.length)return G+h;u.IS_HTTPS&&(b=!0===n?"https://fast.":"https://");return b+k+".demdex.net/dest5.html"+h};var z={THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:"destination_publishing_iframe_"+k+"_"+l,url:g(),onPagePixels:[],iframeHost:null,
getIframeHost:function(b){if("string"===typeof b){var h=b.split("/");if(3<=h.length)return h[0]+"//"+h[2];e.push("getIframeHost: url is malformed: "+b);return b}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:u.POST_MESSAGE_ENABLED?null:100,ibsDeleted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,
originalIframeHasLoadedAlready:null,regionChanged:!1,timesRegionChanged:0,attachIframe:function(){function b(){f=document.createElement("iframe");f.sandbox="allow-scripts allow-same-origin";f.title="Adobe ID Syncing iFrame";f.id=m.id;f.name=m.id+"_name";f.style.cssText="display: none; width: 0; height: 0;";f.src=m.url;m.newIframeCreated=!0;h();document.body.appendChild(f)}function h(){s.addListener(f,"load",function(){f.className="aamIframeLoaded";m.iframeHasLoaded=!0;m.requestToProcess()})}if(!u.BLACKLIST_IE_LESS_THAN_9){var m=
this,f=document.getElementById(this.id);f?"IFRAME"!==f.nodeName?(this.id+="_2",this.iframeIdChanged=!0,b()):(this.newIframeCreated=!1,"aamIframeLoaded"!==f.className?(this.originalIframeHasLoadedAlready=!1,h()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=f,this.requestToProcess())):b();this.iframe=f}},requestToProcess:function(b,h){function m(){f.jsonForComparison.push(b);f.jsonWaiting.push([b,h])}var f=this,a,d;a=r.adms.instance;b===Object(b)&&(a===Object(a)&&a.idSyncContainerID===
l)&&(z.ibsDeleted.push(b.ibs),delete b.ibs);if(b&&!y.isEmptyObject(b))if(u.HAS_JSON_STRINGIFY)if(a=JSON.stringify(b.ibs||[]),d=JSON.stringify(b.dests||[]),this.jsonForComparison.length){var c=!1,e,k,g;e=0;for(k=this.jsonForComparison.length;e<k;e++)if(g=this.jsonForComparison[e],a===JSON.stringify(g.ibs||[])&&d===JSON.stringify(g.dests||[])){c=!0;break}c?this.jsonDuplicates.push(b):m()}else m();else m();if((this.receivedThirdPartyCookiesNotification||!u.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&
this.jsonWaiting.length)a=this.jsonWaiting.shift(),!1===this.newIframeCreated&&delete a[0].ibs,this.process(a[0],a[1]),this.requestToProcess();this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){f.messageSendingInterval=u.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},checkIfRegionChanged:function(b){var h=s.getDilCookieField(u.REGION);null!==h&&("undefined"!==
typeof b.dcs_region&&parseInt(h,10)!==b.dcs_region)&&(this.regionChanged=!0,this.timesRegionChanged++,s.setDilCookieField(u.FIRST_PARTY_SYNCS_ON_PAGE,""),s.setDilCookieField(u.FIRST_PARTY_SYNCS,""));"undefined"!==typeof b.dcs_region&&s.setDilCookieField(u.REGION,b.dcs_region)},processSyncOnPage:function(b){var h,m,f;if((h=b.ibs)&&h instanceof Array&&(m=h.length))for(b=0;b<m;b++)f=h[b],f.syncOnPage&&this.checkFirstPartyCookie(f,"","syncOnPage")},process:function(b,h){var m=encodeURIComponent,f,a,d,
c,e,k;h===Object(h)&&(k=s.encodeAndBuildRequest(["",h.dpid||"",h.dpuuid||""],","));if((f=b.dests)&&f instanceof Array&&(a=f.length))for(d=0;d<a;d++)c=f[d],e=[m("dests"),m(c.id||""),m(c.y||""),m(c.c||"")],this.addMessage(e.join("|"));if((f=b.ibs)&&f instanceof Array&&(a=f.length))for(d=0;d<a;d++)c=f[d],e=[m("ibs"),m(c.id||""),m(c.tag||""),s.encodeAndBuildRequest(c.url||[],","),m(c.ttl||""),"",k,c.fireURLSync?"true":"false"],c.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(e.join("|")):c.fireURLSync&&
this.checkFirstPartyCookie(c,e.join("|")));this.jsonProcessed.push(b)},checkFirstPartyCookie:function(b,h,m){var f=(m="syncOnPage"===m?!0:!1)?u.FIRST_PARTY_SYNCS_ON_PAGE:u.FIRST_PARTY_SYNCS,a=this.getOnPageSyncData(f),d=!1,c=!1,e=Math.ceil((new Date).getTime()/u.MILLIS_PER_DAY);a?(a=a.split("*"),c=this.pruneSyncData(a,b.id,e),d=c.dataPresent,c=c.dataValid,(!d||!c)&&this.fireSync(m,b,h,a,f,e)):(a=[],this.fireSync(m,b,h,a,f,e))},getOnPageSyncData:function(b){var h=r.adms.instance;return h&&"function"===
typeof h.idSyncGetOnPageSyncInfo?h.idSyncGetOnPageSyncInfo():s.getDilCookieField(b)},pruneSyncData:function(b,h,m){var f=!1,a=!1,d,c,e;if(b instanceof Array)for(c=0;c<b.length;c++)d=b[c],e=parseInt(d.split("-")[1],10),d.match("^"+h+"-")?(f=!0,m<e?a=!0:(b.splice(c,1),c--)):m>=e&&(b.splice(c,1),c--);return{dataPresent:f,dataValid:a}},manageSyncsSize:function(b){if(b.join("*").length>this.MAX_SYNCS_LENGTH)for(b.sort(function(b,m){return parseInt(b.split("-")[1],10)-parseInt(m.split("-")[1],10)});b.join("*").length>
this.MAX_SYNCS_LENGTH;)b.shift()},fireSync:function(b,h,m,a,c,d){function e(b,h,a,m){return function(){k.onPagePixels[b]=null;var f=k.getOnPageSyncData(a),c=[];if(f){var f=f.split("*"),d,e,g;d=0;for(e=f.length;d<e;d++)g=f[d],g.match("^"+h.id+"-")||c.push(g)}k.setSyncTrackingData(c,h,a,m)}}var k=this;if(b){if("img"===h.tag){b=h.url;m=u.IS_HTTPS?"https:":"http:";var g,l,q;a=0;for(g=b.length;a<g;a++){l=b[a];q=/^\/\//.test(l);var t=new Image;s.addListener(t,"load",e(this.onPagePixels.length,h,c,d));t.src=
(q?m:"")+l;this.onPagePixels.push(t)}}}else this.addMessage(m),this.setSyncTrackingData(a,h,c,d)},addMessage:function(b){var h=encodeURIComponent,h=v?h("---destpub-debug---"):h("---destpub---");this.messages.push((u.POST_MESSAGE_ENABLED?"":h)+b)},setSyncTrackingData:function(b,h,a,f){b.push(h.id+"-"+(f+Math.ceil(h.ttl/60/24)));this.manageSyncsSize(b);s.setDilCookieField(a,b.join("*"))},sendMessages:function(){var b=this,h="",a=encodeURIComponent;this.regionChanged&&(h=a("---destpub-clear-dextp---"),
this.regionChanged=!1);this.messages.length?u.POST_MESSAGE_ENABLED?(h=h+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(h),this.messages=[],this.sendingMessages=!1):(h+=this.messages.shift(),this.postMessage(h),setTimeout(function(){b.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(b){DIL.xd.postMessage(b,this.url,this.iframe.contentWindow);this.messagesPosted.push(b)},receiveMessage:function(b){var h=/^---destpub-to-parent---/;"string"===
typeof b&&h.test(b)&&(h=b.replace(h,"").split("|"),"canSetThirdPartyCookies"===h[0]&&(this.canSetThirdPartyCookies="true"===h[1]?!0:!1,this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(b))}},H={traits:function(b){y.isValidPdata(b)&&(w.sids instanceof Array||(w.sids=[]),s.extendArray(w.sids,b));return this},pixels:function(b){y.isValidPdata(b)&&(w.pdata instanceof Array||(w.pdata=[]),s.extendArray(w.pdata,b));return this},logs:function(b){y.isValidLogdata(b)&&
(w.logdata!==Object(w.logdata)&&(w.logdata={}),s.extendObject(w.logdata,b));return this},customQueryParams:function(b){y.isEmptyObject(b)||s.extendObject(w,b,r.reservedKeys);return this},signals:function(b,h){var a,f=b;if(!y.isEmptyObject(f)){if(h&&"string"===typeof h)for(a in f={},b)b.hasOwnProperty(a)&&(f[h+a]=b[a]);s.extendObject(w,f,r.reservedKeys)}return this},declaredId:function(b){r.declaredId.setDeclaredId(b,"request");return this},result:function(b){"function"===typeof b&&(w.callback=b);
return this},afterResult:function(b){"function"===typeof b&&(w.postCallbackFn=b);return this},useImageRequest:function(){w.useImageRequest=!0;return this},clearData:function(){w={};return this},submit:function(){D.submitRequest(w);w={};return this},getPartner:function(){return k},getContainerNSID:function(){return l},getEventLog:function(){return e},getState:function(){var b={},h={};s.extendObject(b,r,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});s.extendObject(h,z,{attachIframe:!0,requestToProcess:!0,
process:!0,sendMessages:!0});return{initConfig:a,pendingRequest:w,otherRequestInfo:b,destinationPublishingInfo:h}},idSync:function(b){if(B)return"Error: id syncs have been disabled";if(b!==Object(b)||"string"!==typeof b.dpid||!b.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof b.url||!b.url.length)return"Error: config.url is empty";var h=b.url,a=b.minutesToLive,f=encodeURIComponent,d=z,c,h=h.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof a)a=20160;
else if(a=parseInt(a,10),isNaN(a)||0>=a)return"Error: config.minutesToLive needs to be a positive number";c=s.encodeAndBuildRequest(["",b.dpid,b.dpuuid||""],",");b=["ibs",f(b.dpid),"img",f(h),a,"",c];d.addMessage(b.join("|"));r.firstRequestHasFired&&d.requestToProcess();return"Successfully queued"},aamIdSync:function(b){if(B)return"Error: id syncs have been disabled";if(b!==Object(b)||"string"!==typeof b.dpuuid||!b.dpuuid.length)return"Error: config or config.dpuuid is empty";b.url="//dpm.demdex.net/ibs:dpid\x3d"+
b.dpid+"\x26dpuuid\x3d"+b.dpuuid;return this.idSync(b)},passData:function(b){if(y.isEmptyObject(b))return"Error: json is empty or not an object";z.ibsDeleted.push(b.ibs);delete b.ibs;D.defaultCallback(b);return b},getPlatformParams:function(){return r.platformParams},getEventCallConfigParams:function(){var b=r,h=b.modStatsParams,a=b.platformParams,f;if(!h){h={};for(f in a)a.hasOwnProperty(f)&&!b.nonModStatsParams[f]&&(h[f.replace(/^d_/,"")]=a[f]);!0===A?h.coop_safe=1:!1===A&&(h.coop_unsafe=1);b.modStatsParams=
h}return h},setAsCoopSafe:function(){A=!0;return this},setAsCoopUnsafe:function(){A=!1;return this}},D={corsMetadata:function(){var b="none",h=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?b="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?b="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(h=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&
(h=!1));return{corsType:b,corsCookiesEnabled:h}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(b){r.registerRequest(D.createQueuedRequest(b));return!0},createQueuedRequest:function(b){var h=r,a,f=b.callback,d="img",c;if(!y.isEmptyObject(x)){var e,k,g;for(e in x)if(x.hasOwnProperty(e)&&(k=x[e],!(null==k||""===k)&&e in b&&!(k in b)&&!(k in r.reservedKeys)))g=b[e],null==g||""===g||(b[k]=g)}y.isValidPdata(b.sids)||
(b.sids=[]);y.isValidPdata(b.pdata)||(b.pdata=[]);y.isValidLogdata(b.logdata)||(b.logdata={});b.logdataArray=s.convertObjectToKeyValuePairs(b.logdata,"\x3d",!0);b.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof f&&(f=this.defaultCallback);h.useJSONP=!0!==b.useImageRequest;h.useJSONP&&(d="script",a=h.callbackPrefix+"_"+l+"_"+(new Date).getTime());h=this.makeRequestSrcData(b,a);if((!R||F)&&(c=this.getCORSInstance()))d="cors";return{tag:d,src:h.src,corsSrc:h.corsSrc,internalCallbackName:a,
callbackFn:f,postCallbackFn:b.postCallbackFn,useImageRequest:!!b.useImageRequest,requestData:b,corsInstance:c,corsPostData:h.corsPostData}},defaultCallback:function(b,h){z.checkIfRegionChanged(b);z.processSyncOnPage(b);var a,f,d,c,e,k,g,l,t;if((a=b.stuff)&&a instanceof Array&&(f=a.length))for(d=0;d<f;d++)if((c=a[d])&&c===Object(c)){e=c.cn;k=c.cv;g=c.ttl;if("undefined"===typeof g||""===g)g=Math.floor(s.getMaxCookieExpiresInMinutes()/60/24);l=c.dmn||"."+document.domain.replace(/^www\./,"");t=c.type;
if(e&&(k||"number"===typeof k))"var"!==t&&(g=parseInt(g,10))&&!isNaN(g)&&s.setCookie(e,k,1440*g,"/",l,!1),L.stuffed[e]=k}a=b.uuid;if(y.isPopulatedString(a)&&!y.isEmptyObject(q)){f=q.path;if("string"!==typeof f||!f.length)f="/";d=parseInt(q.days,10);isNaN(d)&&(d=100);s.setCookie(q.name||"aam_did",a,1440*d,f,q.domain||"."+document.domain.replace(/^www\./,""),!0===q.secure)}!p&&!r.abortRequests&&z.requestToProcess(b,h)},makeRequestSrcData:function(b,h){b.sids=y.removeEmptyArrayValues(b.sids||[]);b.pdata=
y.removeEmptyArrayValues(b.pdata||[]);var a=r,f=a.platformParams,d=s.encodeAndBuildRequest(b.sids,","),c=s.encodeAndBuildRequest(b.pdata,","),e=(b.logdataArray||[]).join("\x26");delete b.logdataArray;var g=u.IS_HTTPS?"https://":"http://",q=a.declaredId.getDeclaredIdQueryString(),t=a.adms.instance?a.adms.getCustomerIDsQueryString(a.adms.getCustomerIDs()):"",v;v=[];var n,x,p,w;for(n in b)if(!(n in a.reservedKeys)&&b.hasOwnProperty(n))if(x=b[n],n=encodeURIComponent(n),x instanceof Array){p=0;for(w=x.length;p<
w;p++)v.push(n+"\x3d"+encodeURIComponent(x[p]))}else v.push(n+"\x3d"+encodeURIComponent(x));v=v.length?"\x26"+v.join("\x26"):"";d="d_nsid\x3d"+f.d_nsid+a.getCoopQueryString()+q+t+(d.length?"\x26d_sid\x3d"+d:"")+(c.length?"\x26d_px\x3d"+c:"")+(e.length?"\x26d_ld\x3d"+encodeURIComponent(e):"");f="\x26d_rtbd\x3d"+f.d_rtbd+"\x26d_jsonv\x3d"+f.d_jsonv+"\x26d_dst\x3d"+f.d_dst;g=g+k+".demdex.net/event";c=a=g+"?"+d+(a.useJSONP?f+"\x26d_cb\x3d"+(h||""):"")+v;2048<a.length&&(a=a.substring(0,2048).substring(0,
a.lastIndexOf("\x26")));return{corsSrc:g+"?"+(Q?"testcors\x3d1\x26d_nsid\x3d"+l+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:a,originalSrc:c,corsPostData:d+f+v,isDeclaredIdCall:""!==q}},fireRequest:function(b){if("img"===b.tag)this.fireImage(b);else{var a=r.declaredId,a=a.declaredId.request||a.declaredId.init||{},a={dpid:a.dpid||"",dpuuid:a.dpuuid||""};"script"===b.tag?this.fireScript(b,a):"cors"===b.tag&&this.fireCORS(b,a)}},fireImage:function(b){var a=r,c,f;a.abortRequests||(a.firing=!0,c=new Image(0,
0),a.sent.push(b),c.onload=function(){a.firing=!1;a.fired.push(b);a.num_of_img_responses++;a.registerRequest()},f=function(f){d="imgAbortOrErrorHandler received the event of type "+f.type;e.push(d);a.abortRequests=!0;a.firing=!1;a.errored.push(b);a.num_of_img_errors++;a.registerRequest()},c.addEventListener?(c.addEventListener("error",f,!1),c.addEventListener("abort",f,!1)):c.attachEvent&&(c.attachEvent("onerror",f),c.attachEvent("onabort",f)),c.src=b.src)},fireScript:function(b,a){var c=this,f=r,
g,l,q=b.src,t=b.postCallbackFn,v="function"===typeof t,n=b.internalCallbackName;f.abortRequests||(f.firing=!0,window[n]=function(c){try{c!==Object(c)&&(c={});B&&(z.ibsDeleted.push(c.ibs),delete c.ibs);var m=b.callbackFn;f.firing=!1;f.fired.push(b);f.num_of_jsonp_responses++;m(c,a);v&&t(c,a)}catch(g){g.message="DIL jsonp callback caught error with message "+g.message;d=g.message;e.push(d);g.filename=g.filename||"dil.js";g.partner=k;DIL.errorModule.handleError(g);try{m({error:g.name+"|"+g.message},
a),v&&t({error:g.name+"|"+g.message},a)}catch(q){}}finally{f.requestRemoval({script:l,callbackName:n}),f.registerRequest()}},!O&&!F?(l=document.createElement("script"),l.addEventListener&&l.addEventListener("error",function(a){f.requestRemoval({script:l,callbackName:n});d="jsonp script tag error listener received the event of type "+a.type+" with src "+q;c.handleScriptError(d,b)},!1),l.type="text/javascript",l.src=q,g=DIL.variables.scriptNodeList[0],g.parentNode.insertBefore(l,g)):(f.firing=!1,f.requestRemoval({script:"no script created",
callbackName:n})),f.sent.push(b),f.declaredId.declaredId.request=null)},fireCORS:function(b,a){var c=this,f=r,g=this.corsMetadata.corsType,l=b.corsSrc,q=b.corsInstance,t=b.corsPostData,v=b.postCallbackFn,n="function"===typeof v;if(!f.abortRequests&&!T){f.firing=!0;try{q.open("post",l,!0),"XMLHttpRequest"===g&&(q.withCredentials=!0,q.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),q.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var g;try{if(g=JSON.parse(this.responseText),
g!==Object(g)){c.handleCORSError(b,a,"Response is not JSON");break a}}catch(l){c.handleCORSError(b,a,"Error parsing response as JSON");break a}B&&(z.ibsDeleted.push(g.ibs),delete g.ibs);try{var q=b.callbackFn;f.firing=!1;f.fired.push(b);f.num_of_cors_responses++;q(g,a);n&&v(g,a)}catch(t){t.message="DIL handleCORSResponse caught error with message "+t.message;d=t.message;e.push(d);t.filename=t.filename||"dil.js";t.partner=k;DIL.errorModule.handleError(t);try{q({error:t.name+"|"+t.message},a),n&&v({error:t.name+
"|"+t.message},a)}catch(X){}}finally{f.registerRequest()}}}),q.onerror=function(){c.handleCORSError(b,a,"onerror")},q.ontimeout=function(){c.handleCORSError(b,a,"ontimeout")},q.send(t)}catch(x){this.handleCORSError(b,a,"try-catch")}f.sent.push(b);f.declaredId.declaredId.request=null}},handleCORSError:function(b,a,c){r.num_of_cors_errors++;r.corsErrorSources.push(c);"ontimeout"!==c&&!F&&(b.tag="script",this.fireScript(b,a))},handleScriptError:function(b,a){r.num_of_jsonp_errors++;this.handleRequestError(b,
a)},handleRequestError:function(b,a){var c=r;e.push(b);c.abortRequests=!0;c.firing=!1;c.errored.push(a);c.registerRequest()}},y={isValidPdata:function(b){return b instanceof Array&&this.removeEmptyArrayValues(b).length?!0:!1},isValidLogdata:function(b){return!this.isEmptyObject(b)},isEmptyObject:function(b){if(b!==Object(b))return!0;for(var a in b)if(b.hasOwnProperty(a))return!1;return!0},removeEmptyArrayValues:function(b){for(var a=0,c=b.length,f,d=[],a=0;a<c;a++)f=b[a],"undefined"!==typeof f&&(null!==
f&&""!==f)&&d.push(f);return d},isPopulatedString:function(b){return"string"===typeof b&&b.length}},s={addListener:function(){if(document.addEventListener)return function(b,a,c){b.addEventListener(a,function(b){"function"===typeof c&&c(b)},!1)};if(document.attachEvent)return function(b,a,c){b.attachEvent("on"+a,function(b){"function"===typeof c&&c(b)})}}(),convertObjectToKeyValuePairs:function(b,a,c){var f=[],d,e;a||(a="\x3d");for(d in b)b.hasOwnProperty(d)&&(e=b[d],"undefined"!==typeof e&&(null!==
e&&""!==e)&&f.push(d+a+(c?encodeURIComponent(e):e)));return f},encodeAndBuildRequest:function(b,a){return this.map(b,function(b){return encodeURIComponent(b)}).join(a)},map:function(b,a){if(Array.prototype.map)return b.map(a);if(void 0===b||null===b)throw new TypeError;var c=Object(b),f=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=Array(f),e=0;e<f;e++)e in c&&(d[e]=a.call(a,c[e],e,c));return d},filter:function(b,a){if(!Array.prototype.filter){if(void 0===b||null===b)throw new TypeError;
var c=Object(b),f=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=[],e=0;e<f;e++)if(e in c){var g=c[e];a.call(a,g,e,c)&&d.push(g)}return d}return b.filter(a)},getCookie:function(b){b+="\x3d";var a=document.cookie.split(";"),c,f,d;c=0;for(f=a.length;c<f;c++){for(d=a[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(b))return decodeURIComponent(d.substring(b.length,d.length))}return null},setCookie:function(b,a,c,f,d,e){var g=new Date;c&&(c*=6E4);document.cookie=b+
"\x3d"+encodeURIComponent(a)+(c?";expires\x3d"+(new Date(g.getTime()+c)).toUTCString():"")+(f?";path\x3d"+f:"")+(d?";domain\x3d"+d:"")+(e?";secure":"")},extendArray:function(b,a){return b instanceof Array&&a instanceof Array?(Array.prototype.push.apply(b,a),!0):!1},extendObject:function(b,a,c){var f;if(b===Object(b)&&a===Object(a)){for(f in a)if(a.hasOwnProperty(f)&&(y.isEmptyObject(c)||!(f in c)))b[f]=a[f];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return u.SIX_MONTHS_IN_MINUTES},
getCookieField:function(b,a){var c=this.getCookie(b),f=decodeURIComponent;if("string"===typeof c){var c=c.split("|"),d,e;d=0;for(e=c.length-1;d<e;d++)if(f(c[d])===a)return f(c[d+1])}return null},getDilCookieField:function(b){return this.getCookieField(u.DIL_COOKIE_NAME,b)},setCookieField:function(b,a,c){var d=this.getCookie(b),e=!1,g=encodeURIComponent;a=g(a);c=g(c);if("string"===typeof d){var d=d.split("|"),k,g=0;for(k=d.length-1;g<k;g++)if(d[g]===a){d[g+1]=c;e=!0;break}e||(g=d.length,d[g]=a,d[g+
1]=c)}else d=[a,c];this.setCookie(b,d.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},setDilCookieField:function(b,a){return this.setCookieField(u.DIL_COOKIE_NAME,b,a)},getDomain:function(b){!b&&window.location&&(b=window.location.hostname);if(b)if(/^[0-9.]+$/.test(b))b="";else{var a=b.split("."),c=a.length-1,d=c-1;1<c&&(2>=a[c].length&&(2===a[c-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+a[c]+",")))&&d--;if(0<d)for(b="";c>=d;)b=a[c]+(b?".":"")+b,c--}return b},replaceMethodsWithFunction:function(b,
a){var c;if(b===Object(b)&&"function"===typeof a)for(c in b)b.hasOwnProperty(c)&&"function"===typeof b[c]&&(b[c]=a)}};"error"===k&&0===l&&s.addListener(window,"load",function(){DIL.windowLoaded=!0});var U=!1,I=function(){U||(U=!0,r.registerRequest(),W(),!p&&!r.abortRequests&&z.attachIframe(),r.readyToRemove=!0,r.requestRemoval())},W=function(){p||setTimeout(function(){!P&&!r.firstRequestHasFired&&("function"===typeof J?H.afterResult(J).submit():H.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};
C=document;"error"!==k&&(DIL.windowLoaded?I():"complete"!==C.readyState&&"loaded"!==C.readyState?s.addListener(window,"load",function(){DIL.windowLoaded=!0;I()}):(DIL.windowLoaded=!0,I()));if("error"!==k)try{DIL.xd.receiveMessage(function(b){z.receiveMessage(b.data)},z.getIframeHost(z.url))}catch(Y){}r.declaredId.setDeclaredId(t,"init");r.processVisitorAPI();u.BLACKLIST_IE_LESS_THAN_9&&s.replaceMethodsWithFunction(H,function(){return this});this.api=H;this.getStuffedVariable=function(b){var a=L.stuffed[b];
!a&&"number"!==typeof a&&(a=s.getCookie(b),!a&&"number"!==typeof a&&(a=""));return a};this.validators=y;this.helpers=s;this.constants=u;this.log=e;V&&(this.pendingRequest=w,this.requestController=r,this.setDestinationPublishingUrl=g,this.destinationPublishing=z,this.requestProcs=D,this.variables=L,this.callWindowLoadFunctions=I)},function(){var a=document,c;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",c=function(){a.removeEventListener("DOMContentLoaded",
c,!1);a.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var c;if(a===Object(a))for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c])},DIL.extendStaticPropertiesAndMethods({version:"6.12",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(a){this.windowLoaded="function"===typeof a?!!a():"boolean"===typeof a?a:!0},
create:function(a){try{return new DIL(a)}catch(c){throw Error("Error in attempt to create DIL instance with DIL.create(): "+c.message);}},registerDil:function(a,c,e){c=c+"$"+e;c in this.dils||(this.dils[c]=a)},getDil:function(a,c){var e;"string"!==typeof a&&(a="");c||(c=0);e=a+"$"+c;return e in this.dils?this.dils[e]:Error("The DIL instance with partner \x3d "+a+" and containerNSID \x3d "+c+" was not found")},dexGetQSVars:function(a,c,e){c=this.getDil(c,e);return c instanceof this?c.getStuffedVariable(a):
""},xd:{postMessage:function(a,c,e){var d=1;c&&(window.postMessage?e.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(e.location=c.replace(/#.*$/,"")+"#"+ +new Date+d++ +"\x26"+a))},receiveMessage:function(a,c){var e;try{if(window.postMessage)if(a&&(e=function(d){if("string"===typeof c&&d.origin!==c||"[object Function]"===Object.prototype.toString.call(c)&&!1===c(d.origin))return!1;a(d)}),window.addEventListener)window[a?"addEventListener":"removeEventListener"]("message",e,!1);else window[a?
"attachEvent":"detachEvent"]("onmessage",e)}catch(d){}}}}),DIL.errorModule=function(){var a=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),c={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},e=!1;return{activate:function(){e=!0},handleError:function(d){if(!e)return"DIL error module has not been activated";d!==Object(d)&&
(d={});var g=d.name?(d.name+"").toLowerCase():"",k=[];d={name:g,filename:d.filename?d.filename+"":"",partner:d.partner?d.partner+"":"no_partner",site:d.site?d.site+"":document.location.href,message:d.message?d.message+"":""};k.push(g in c?c[g]:c.noerrortypedefined);a.api.pixels(k).logs(d).useImageRequest().submit();return"DIL error report sent"},pixelMap:c}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(a,c,e){var d="";c=c||"Error caught in DIL module/submodule: ";a===Object(a)?
d=c+(a.message||"err has no message"):(d=c+"err is not a valid object",a={});a.message=d;e instanceof DIL&&(a.partner=e.api.getPartner());DIL.errorModule.handleError(a);return this.errorMessage=d}}});
DIL.tools.getSearchReferrer=function(a,c){var e=DIL.getDil("error"),d=DIL.tools.decomposeURI(a||document.referrer),g="",k="",l={queryParam:"q"},g=e.helpers.filter([c===Object(c)?c:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!d.hostname.match(a.hostPattern))}).shift();return!g?{valid:!1,name:"",keywords:""}:{valid:!0,name:d.hostname,keywords:(e.helpers.extendObject(l,
g),k=l.queryPattern?(g=(""+d.search).match(l.queryPattern))?g[1]:"":d.uriParams[l.queryParam],decodeURIComponent(k||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(a){var c=DIL.getDil("error"),e=document.createElement("a");e.href=a||document.referrer;return{hash:e.hash,host:e.host.split(":").shift(),hostname:e.hostname,href:e.href,pathname:e.pathname.replace(/^\//,""),protocol:e.protocol,search:e.search,uriParams:function(a,e){c.helpers.map(e.split("\x26"),function(c){c=c.split("\x3d");a[c.shift()]=c.shift()});return a}({},e.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var a={},c=document.getElementsByTagName("meta"),e,d,g,k,l;e=0;for(g=arguments.length;e<g;e++)if(k=arguments[e],null!==k)for(d=0;d<c.length;d++)if(l=c[d],l.name===k){a[k]=l.content;break}return a};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e,d){try{var g=this,k={name:"DIL Site Catalyst Module Error"},l=function(a){k.message=a;DIL.errorModule.handleError(k);return a};this.options=d===Object(d)?d:{};this.dil=null;if(c instanceof DIL)this.dil=c;else return l("dilInstance is not a valid instance of DIL");k.partner=c.api.getPartner();if(a!==Object(a))return l("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=a.m_DIL=
function(a){var c="function"===typeof a.m_i?a.m_i("DIL"):this;if(c!==Object(c))return l("m is not an object");c.trackVars=g.constructTrackVars(e);c.d=0;c.s=a;c._t=function(){var a,c,d=","+this.trackVars+",",e=this.s,k,n=[];k=[];var p={},x=!1;if(e!==Object(e))return l("Error in m._t function: s is not an object");if(this.d){if("function"===typeof e.foreachVar)e.foreachVar(function(a,c){"undefined"!==typeof c&&(p[a]=c,x=!0)},this.trackVars);else{if(!(e.va_t instanceof Array))return l("Error in m._t function: s.va_t is not an array");
if(e.lightProfileID)(a=e.lightTrackVars)&&(a=","+a+","+e.vl_mr+",");else if(e.pe||e.linkType)a=e.linkTrackVars,e.pe&&(c=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[c]&&(a=e[c].trackVars)),a&&(a=","+a+","+e.vl_l+","+e.vl_l2+",");if(a){c=0;for(n=a.split(",");c<n.length;c++)0<=d.indexOf(","+n[c]+",")&&k.push(n[c]);k.length&&(d=","+k.join(",")+",")}k=0;for(c=e.va_t.length;k<c;k++)a=e.va_t[k],0<=d.indexOf(","+a+",")&&("undefined"!==typeof e[a]&&null!==e[a]&&""!==e[a])&&(p[a]=e[a],x=!0)}g.includeContextData(e,
p).store_populated&&(x=!0);x&&this.d.api.signals(p,"c_").submit()}}};a.loadModule("DIL");a.DIL.d=c;return k.message?k.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(p){return this.handle(p,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(a){var c=[],e,d,g,k,l;if(a===Object(a)){e=a.names;if(e instanceof Array&&(g=e.length))for(d=0;d<g;d++)k=e[d],"string"===typeof k&&k.length&&c.push(k);a=a.iteratedNames;if(a instanceof Array&&
(g=a.length))for(d=0;d<g;d++)if(e=a[d],e===Object(e)&&(k=e.name,l=parseInt(e.maxIndex,10),"string"===typeof k&&k.length&&!isNaN(l)&&0<=l))for(e=0;e<=l;e++)c.push(k+e);if(c.length)return c.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(a,c){var e={},d=!1;if(a.contextData===Object(a.contextData)){var g=a.contextData,k=this.options.replaceContextDataPeriodsWith,
l=this.options.filterFromContextVariables,p={},n,x,q,v;if("string"!==typeof k||!k.length)k="_";if(l instanceof Array){n=0;for(x=l.length;n<x;n++)q=l[n],this.dil.validators.isPopulatedString(q)&&(p[q]=!0)}for(v in g)if(g.hasOwnProperty(v)&&!p[v]&&((l=g[v])||"number"===typeof l))v=("contextData."+v).replace(/\./g,k),c[v]=l,d=!0}e.store_populated=d;return e}};
DIL.modules.GA={submitUniversalAnalytics:function(a,c,e){try{var d=a.getAll()[0],g=d[e||"b"].data.keys;a={};var k,l,p,n;k=0;for(l=g.length;k<l;k++)p=g[k],n=d.get(p),"undefined"!==typeof n&&("function"!==typeof n&&n!==Object(n)&&!/^_/.test(p)&&!/^&/.test(p))&&(a[p]=n);c.api.signals(a,"c_").submit();return a}catch(x){return"Caught error with message: "+x.message}},dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,
signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var d={name:"DIL GA Module Error"},g="";c instanceof DIL?(this.dil=c,d.partner=this.dil.api.getPartner()):(g="dilInstance is not a valid instance of DIL",d.message=g,DIL.errorModule.handleError(d));!(a instanceof Array)||!a.length?(g="gaArray is not an array or is empty",d.message=g,DIL.errorModule.handleError(d)):this.arr=
a;this.tv=this.constructTrackVars(e);this.errorMessage=g}catch(k){this.handle(k,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(a){var c=[],e,d,g,k;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){g=this.defaultTrackVars;k={};e=0;for(d=g.length;e<d;e++)k[g[e]]=!0;this.defaultTrackVarsObj=k}else k=this.defaultTrackVarsObj;if(a===Object(a)){a=a.names;if(a instanceof Array&&(d=a.length))for(e=0;e<d;e++)g=a[e],"string"===typeof g&&
(g.length&&g in k)&&c.push(g);if(c.length)return c}return this.defaultTrackVars},constructGAObj:function(a){var c={};a=a instanceof Array?a:this.arr;var e,d,g,k;e=0;for(d=a.length;e<d;e++)g=a[e],g instanceof Array&&g.length&&(g=[],k=a[e],g instanceof Array&&k instanceof Array&&Array.prototype.push.apply(g,k),k=g.shift(),"string"===typeof k&&k.length&&(c[k]instanceof Array||(c[k]=[]),c[k].push(g)));return c},addToSignals:function(a,c){if("string"!==typeof a||""===a||null==c||""===c)return!1;this.signals[a]instanceof
Array||(this.signals[a]=[]);this.signals[a].push(c);return this.hasSignals=!0},constructSignals:function(){var a=this.constructGAObj(),c={_setAccount:function(a){this.addToSignals("c_accountId",a)},_setCustomVar:function(a,c,d){"string"===typeof c&&c.length&&this.addToSignals("c_"+c,d)},_addItem:function(a,c,d,e,g,k){this.addToSignals("c_itemOrderId",a);this.addToSignals("c_itemSku",c);this.addToSignals("c_itemName",d);this.addToSignals("c_itemCategory",e);this.addToSignals("c_itemPrice",g);this.addToSignals("c_itemQuantity",
k)},_addTrans:function(a,c,d,e,g,k,l,n){this.addToSignals("c_transOrderId",a);this.addToSignals("c_transAffiliation",c);this.addToSignals("c_transTotal",d);this.addToSignals("c_transTax",e);this.addToSignals("c_transShipping",g);this.addToSignals("c_transCity",k);this.addToSignals("c_transState",l);this.addToSignals("c_transCountry",n)},_trackSocial:function(a,c,d,e){this.addToSignals("c_socialNetwork",a);this.addToSignals("c_socialAction",c);this.addToSignals("c_socialTarget",d);this.addToSignals("c_socialPagePath",
e)}},e=this.tv,d,g,k,l,p,n;d=0;for(g=e.length;d<g;d++)if(k=e[d],a.hasOwnProperty(k)&&c.hasOwnProperty(k)&&(n=a[k],n instanceof Array)){l=0;for(p=n.length;l<p;l++)c[k].apply(this,n[l])}},submit:function(){try{if(""!==this.errorMessage)return this.errorMessage;this.constructSignals();return this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"\x3d",!0)+this.dil.log):"No signals present"}catch(a){return this.handle(a,
"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(a,c,e){try{this.callback=this.dil=null,this.errorMessage="",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(c)?c:"aam_ga",this.delimiter=this.v(e)?e:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},
"DIL.modules.GA.Stuffer.init() error: ")}catch(d){this.handle(d,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(a){var c,e,d,g,k,l;l=!1;var p=1;if(a===Object(a)&&(c=a.stuff)&&c instanceof Array&&(e=c.length))for(a=0;a<e;a++)if((d=c[a])&&d===Object(d))if(g=d.cn,k=d.cv,g===this.cookieName&&this.v(k)){l=!0;break}if(l){c=k.split(this.delimiter);"undefined"===typeof window._gaq&&(window._gaq=[]);d=window._gaq;a=0;for(e=c.length;a<e&&!(l=c[a].split("\x3d"),
k=l[0],l=l[1],this.v(k)&&this.v(l)&&d.push(["_setCustomVar",p++,k,l,1]),p>this.LIMIT);a++);this.errorMessage=1<p?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"===typeof this.callback)return this.callback()},submit:function(){try{var a=this;if(""!==this.errorMessage)return this.errorMessage;this.dil.api.afterResult(function(c){a.process(c)}).submit();return"DIL.modules.GA.Stuffer.submit() successful"}catch(c){return this.handle(c,
"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};