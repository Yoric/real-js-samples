!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){!function(){"use strict";try{if(void 0===e)var e={};if(e.defaults={trackingHost:"tt.onthe.io",projectId:"12464",projectSignature:"90a933fb606f0d17ceb2d33bcf7f1cf8",projectCodeId:"yx3Yh7qxaBRa",projectCodeVersion:"161",projectUniquesBySuperdomain:"0",projectVisitsBySuperdomain:"0",projectVisitsDuration:"15",projectVideosWithoutMarkup:"",holdingHash:"",holdingId:"",crawlerFilter:"0",projectMainDomain:"kommersant.ru",projectHeadlineTestingAudienceRatio:"0",setWidgetOnMainDomain:"0"},void 0===e)e={};if(e.doubleLoadingDetector=(document,t=e.defaults,{init:function(){if("object"!=typeof window.__io&&(window.__io={}),window.__io.startedTrackers||(window.__io.startedTrackers=[]),-1!==window.__io.startedTrackers.indexOf(t.projectCodeId))return!0;window.__io.startedTrackers.push(t.projectCodeId)}}),void 0===e)e={};if(e.helpers=function(e,t,i){var n={decodeURIrecursively:function(e){try{for(;decodeURIComponent(e)!=e;)e=decodeURIComponent(e)}catch(e){}return e},encodeURIonce:function(e){return encodeURIComponent(this.decodeURIrecursively(e))},bindOnUrlChange:function(t){var i=e.location.pathname;this.setIntervalSafe(e,function(){e.location.pathname!==i&&(i=e.location.pathname,t())},100)},bindOnElementInsertion:function(i,n,r){r||(r=t);var s=r.querySelectorAll(i);return s=e.Array.prototype.slice.call(s),this.setIntervalSafe(e,function(){var t,o=r.querySelectorAll(i);for(t=0;t<o.length;t++)-1===e.Array.prototype.indexOf.call(s,o[t])&&(s.push(o[t]),n(o[t]))},1e3)}};return n.ElementObserver={lookupDelay:1e3,init:function(e,i){this.elements=[],this.selector=e,this.parentElement=i||t,this.state={running:!1},this.intervalId=null},insertIgnoreAnElement:function(e){-1===this.elements.indexOf(e)&&(this.elements.push(e),this.callback(e))},start:function(t){this.state.running=!0,this.callback=t;var i,n=this.parentElement.querySelectorAll(this.selector);for(i=0;i<n.length;i++){if(!this.state.running)return;this.insertIgnoreAnElement(n[i])}this.intervalId&&(e.clearInterval(this.intervalId),this.intervalId=null),this.intervalId=this._setIntervalSafe(e,function(){if(!this.state.running)return e.clearInterval(this.intervalId),void(this.intervalId=null);var t,i=this.parentElement.querySelectorAll(this.selector);for(t=0;t<i.length;t++){if(!this.state.running)return;this.insertIgnoreAnElement(i[t])}}.bind(this),this.lookupDelay)},stop:function(){this.state.running=!1},_setIntervalSafe:function(){return this.setIntervalSafe.apply(this,arguments)}.bind(n)},n.sendGetRequest=function(i){if(e.XMLHttpRequest instanceof e.Object)this.getRemoteContent(i);else{var n=t.createElement("img");n.width=1,n.height=1,n.src=i}},n.getRemoteContent=function(t,i){i||(i=function(){});var n=new e.XMLHttpRequest;n.onreadystatechange=function(){this.readyState===e.XMLHttpRequest.DONE&&(200===this.status?i(this.responseText):i(void 0))},n.open("GET",t,!0),n.send()},n.getEnumerableKeys=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},n.getDeepPropertySafe=function(e,t){var i;try{for(i=0;i<t.length;i++)e=e[t[i]];return e}catch(e){return}},n.parseJSONSafe=function(t){try{return e.JSON.parse(t)}catch(e){return}},n.parseURL=function(i){var n,r=t.createElement("a");r.href=i;try{n={hash:r.hash,hostname:r.hostname,hostnameNaked:r.hostname.split(".").length>2?r.hostname.replace(/^www\./,""):r.hostname,host:r.host,href:r.href,origin:r.origin,pathname:r.pathname,port:r.port,protocol:r.protocol,search:r.search}}catch(t){n={hash:"",hostname:e.location.hostname,hostnameNaked:e.location.hostname.split(".").length>2?e.location.hostname.replace(/^www\./,""):e.location.hostname,host:e.location.host,href:e.location.protocol+"//"+e.location.host+("/"===i.charAt(0)?i:"/"+i),origin:e.location.origin,pathname:i,port:e.location.port,protocol:e.location.protocol,search:""}}return"/"!==n.pathname.charAt(0)&&(n.pathname="/"+n.pathname),n},n.getMainDomain=function(){for(var i=0,n=this.parseURL(e.location.hostname).hostnameNaked,r=n.split("."),s="__io_test"+(new Date).getTime();i<r.length-1&&-1===t.cookie.indexOf(s+"=1");){var o=new Date;o.setMinutes(o.getMinutes()+1);var a=o.toUTCString();n=r.slice(-1-++i).join("."),this.setCookie(s,1,a,"/",n,null)}return this.setCookie(s,null,"Thu, 01 Jan 1970 00:00:01 GMT","/",n,null),n},n.messageWindow=function(e,t){e.postMessage(JSON.stringify(t),"*")},n.messageFrameWindow=function(e,t){this.messageWindow(e.contentWindow,t)},n.createObject=function(t){if("function"==typeof e.Object.create)return e.Object.create(t);function i(){}return i.prototype=t,new i},n.cloneObjectShallow=function(t){return e.JSON.parse(e.JSON.stringify(t))},n.identifyArray=function(e){return!(!e||"object"!=typeof e||"[object Array]"!==Object.prototype.toString.call(e))},n.setIntervalSafe=function(e,t,i){return e.setInterval(function(){try{t.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this),i)},n.addEventListenerSafe=function(e,t,i){var n=function(){try{i.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this);return e.addEventListener(t,n),n},n.trackErrorMetric=function(i,n){if(n=n||"error_script",this.trackErrorMetric.errorsCount=parseInt(this.trackErrorMetric.errorsCount,10)||0,!(this.trackErrorMetric.errorsCount>=10)){this.trackErrorMetric.errorsCount++;var r={title:"string"==typeof i?i:i.message+"\n\n"+i.stack,href:e.location.href,url:e.location.pathname,domain:e.location.hostname,page:t.title,user_agent:e.navigator.userAgent,referrer_uri:t.referrer};this.sendMetric(n,r)}},n.getMetricParamString=function(t,n){(n=this.cloneObjectShallow(n)).cdn_version=i.projectCodeVersion;var r=[];for(var s in n)""!==n[s]&&n.hasOwnProperty(s)&&r.push(s+":"+this.encodeURIonce(n[s]));var o=t+"["+r.join()+"]";return o=o.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(e.parseInt(arguments[1],16))}),"/?k[]="+i.projectId+":"+o},n.deferMetricToSendInBatch=function(t,n){if(this.deferMetricToSendInBatch.queue||(this.deferMetricToSendInBatch.queue=[]),this.deferMetricToSendInBatch.queue.push(this.getMetricParamString(t,n)),!this.deferMetricToSendInBatch.isQueueActive)var r=this.setIntervalSafe(e,function(){if(0===this.deferMetricToSendInBatch.queue.length)return this.deferMetricToSendInBatch.isQueueActive=!1,void e.clearInterval(r);this.deferMetricToSendInBatch.isQueueActive=!0;var t="";do{t+="&"+this.deferMetricToSendInBatch.queue.shift()}while(this.deferMetricToSendInBatch.queue.length&&(t+this.deferMetricToSendInBatch.queue[0]).length<1900);var n="https://"+i.trackingHost+"/"+t+"&s="+i.projectSignature+"&"+Date.now();this.sendGetRequest(n)}.bind(this),1e3)},n.sendMetric=function(e,t,n,r){var s="https://"+i.trackingHost+this.getMetricParamString(e,t)+"&s="+i.projectSignature+(n?"&_v="+n:"")+(r?"&__io="+this.getUserId():"")+"&"+Date.now();this.sendGetRequest(s)},n.hashFnv32a=function(e,t,i){var n,r,s=void 0===i?2166136261:i;for(n=0,r=e.length;n<r;n++)s^=e.charCodeAt(n),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return t?("0000000"+(s>>>0).toString(16)).substr(-8):s>>>0},n.getStorageStatusLocal=function(){try{var t="__io_test"+(new Date).getTime();return e.localStorage.setItem(t,"1"),e.localStorage.removeItem(t),!0}catch(e){return!1}},n.getStorageStatusSession=function(){try{var t="__io_test"+(new Date).getTime();return e.sessionStorage.setItem(t,"1"),e.sessionStorage.removeItem(t),!0}catch(e){return!1}},n.setPreviousURI=function(t,i){if(this.getStorageStatusSession()){var n=this.parseJSONSafe(e.sessionStorage.getItem("__io_nav_state"))||{};e.sessionStorage.setItem("__io_nav_state",JSON.stringify({current:t,currentDomain:i||"",previous:n.current,previousDomain:n.currentDomain?n.currentDomain:""}))}},n.getPreviousURI=function(){if(this.getStorageStatusSession()){var t=this.parseJSONSafe(e.sessionStorage.getItem("__io_nav_state"))||{};return t.previous&&t.previous!==t.current?t.previous:void 0}},n.getPreviousDomain=function(){if(this.getStorageStatusSession()){var t=this.parseJSONSafe(e.sessionStorage.getItem("__io_nav_state"))||{};return t.previous&&t.previous!==t.current&&t.previousDomain?t.previousDomain:void 0}},n.setStorageItem=function(t,i,n){n=n?e.encodeURIComponent(n):n;try{switch(t){case"local":e.localStorage.setItem(i,n);break;case"session":e.sessionStorage.setItem(i,n);break;default:throw new Error("IO -- invalid storage type specified")}return!0}catch(e){this.trackErrorMetric(e)}},n.getStorageItem=function(t,i){var n;switch(t){case"local":n=e.localStorage.getItem(i);break;case"session":n=e.sessionStorage.getItem(i)}try{return n?e.decodeURIComponent(n):n}catch(e){this.trackErrorMetric(e)}},n.getPreviousPageTitle=function(){if(this.getStorageStatusSession()){var e,i,n=t.title;if(e=this.getStorageItem("session","__io_previous_title_a"),i=this.getStorageItem("session","__io_previous_title_b"),e===n){if(i)return i}else if(this.setStorageItem("session","__io_previous_title_a",n),e)return this.setStorageItem("session","__io_previous_title_b",e),e}},n.getLastestHeadlineTestIds=function(){if(this.getStorageStatusSession()){var t=this.parseJSONSafe(e.sessionStorage.getItem("__io_headline_testing_latest"));if(t&&"object"==typeof t)return t.lifetime<0?(e.sessionStorage.removeItem("__io_headline_testing_latest"),t={}):t.previousPathname!==e.location.pathname&&(t.previousPathname=e.location.pathname,--t.lifetime,e.sessionStorage.setItem("__io_headline_testing_latest",JSON.stringify(t))),{blockId:t.blockId||void 0,headlineId:t.headlineId||void 0}}},n.getSearchParam=function(t,i){var n=(i?this.parseURL(i).search:e.location.search).match("[?&]"+t+"=([^(&?)]*)");return n?n[n.length-1]:""},n.getCookieValue=function(e){var i=t.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return i?this.decodeURIrecursively(i[i.length-1]):""},n.setCookie=function(e,i,n,r,s,o){var a=new Date;a.setFullYear(a.getFullYear()+1),a=a.toUTCString(),n||(n=a),r||(r="/"),void 0!==i&&(i=encodeURIComponent(i));var c=e+"="+(i||"")+"; expires="+n+"; path="+r+(s?"; domain="+s:"")+(o?"; secure":"");t.cookie=c},n.deleteCookie=function(t,i,n){n===e.location.hostname&&(n=null),this.setCookie(t,null,"Thu, 01 Jan 1970 00:00:01 GMT",i,n)},n.getDepth=function(){return this.getStorageStatusSession()?this.getDepthSession():this.getDepthCookie()},n.getDepthCookie=function(){var t=new Date((new Date).getTime()+9e5).toUTCString(),i=this.hashFnv32a(e.location.pathname),n=this.getCookieValue("__io_d");if(!n||2!==n.split("_").length)return this.setCookie("__io_d","1_"+i,t),1;var r=n.split("_")[1],s=e.parseInt(n.split("_")[0],10);if(i==r)return s||1;var o=(s||0)+1;return this.setCookie("__io_d",o+"_"+i,t),o},n.getDepthSession=function(){var t=this.hashFnv32a(e.location.pathname),i=e.sessionStorage.getItem("__io_d");if(!i||2!==i.split("_").length)return e.sessionStorage.setItem("__io_d","1_"+t),1;var n=i.split("_")[1],r=e.parseInt(i.split("_")[0],10);if(t==n)return r||1;var s=(r||0)+1;return e.sessionStorage.setItem("__io_d",s+"_"+t),s},n.getUserId=function(){var e=this.getCookieValue("__io");return e||(e=Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"."+Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"_"+Date.now()),this.setCookie("__io",e),e},n.getReferrerCurrentExternal=function(n){if(!(n=n||t.referrer))return null;var r=this.parseURL(n).hostnameNaked,s=this.parseURL(e.location.hostname).hostnameNaked,o=!1;return""!==i.projectMainDomain&&(o=-1!==n.indexOf(i.projectMainDomain)),o?null:r===s?null:r},n.getReferrerCurrentFromParams=function(t){t=t||e.location.href;var i=this.getSearchParam("io_source",t),n=this.getSearchParam("io_utm_social",t),r="?f"===this.parseURL(t).search?"facebook_group":null,s=this.getSearchParam("utm_referrer",t),o=this.getSearchParam("utm_source",t),a=this.getSearchParam("source",t);return i||n||r||s||o||a},n.getReferrer=function(e,t){var i=this.getReferrerCurrentFromParams(t)||this.getReferrerCurrentExternal(e);return i?(this.setCookie("__io_r",i),i):this.getCookieValue("__io_r")},n.getReferrerFirst=function(e){var t=this.getCookieValue("__io_first_source"),i=this.getReferrer(e);return!t&&i?(this.setCookie("__io_first_source",i),i):t},n.getDeviceName=function(){var t=e.navigator.userAgent||"undefined",i="desktop",n=/Android|webOS|iPhone|PlayBook|iPad|iPod|IEMobile|BlackBerry|Mobile|Opera Mini/i.test(t),r=/Tablet|PlayBook|iPad/i.test(t)||/Android/i.test(t)&&!/Mobile/i.test(t)&&!/Opera Mini/i.test(t),s=/Android/i.test(t),o=/iPhone|iPad|iPod/i.test(t);return n&&(r?(i="tablet",i+=s?" (Android)":o?" (iOS)":" (Other)"):(i="smart",i+=s?" (Android)":o?" (iOS)":" (Other)")),i},n.getBrowserNameAndVersion=function(){var t,i,n=e.navigator.userAgent,r="";switch(!0){case-1!==(t=n.indexOf("OPR/")):r=n.substring(t+4);break;case-1!==(t=n.indexOf("Opera"))&&-1!==(t=n.indexOf("Version")):r=n.substring(t+8);break;case-1!==(t=n.indexOf("Opera")):r=n.substring(t+6);break;case-1!==(t=n.indexOf("MSIE")):r=n.substring(t+5);break;case-1!==(t=n.indexOf("Chrome")):r=n.substring(t+7);break;case-1!==(t=n.indexOf("Safari"))&&-1!==(t=n.indexOf("Version")):r=n.substring(t+8);break;case-1!==(t=n.indexOf("Safari")):r=n.substring(t+7);break;case-1!==(t=n.indexOf("Firefox")):r=n.substring(t+8);break;case-1!==n.indexOf("Trident")&&-1!==(t=n.indexOf("rv:")):r=n.substring(t+3).split(")")[0];break;case(t=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/")):r=n.substring(t+1)}return r=r.split(";")[0].split(" ")[0],i=(i=e.parseInt(r,10))||"(unknown version)",this.getBrowserName()+" "+i},n.getUserLifeTime=function(){var e=t.cookie.match(/__io=([^;]+)/);return e?(e=e[1].split("_")[1],(e=Math.round((+Date.now()-e)/864e5))<0&&(e=0),0==e?e="0":e<7?e+="d":e=e<30?Math.round(e/7)+"w":Math.round(e/30)+"m",e):"0"},n.getUserLifeTimeNumber=function(){var e=t.cookie.match(/__io_lv=([^;]+)/);return e?(e=e[1],e=Math.round((+Date.now()-e)/864e5)):"0"},n.getUserType=function(){var e="";if(-1==t.cookie.indexOf("__io_lv="))e="new",(i=new Date).setFullYear(i.getFullYear()+1),t.cookie="__io_lv="+ +Date.now()+"; expires="+i.toUTCString()+"; path=/";else if(0==this.getUserLifeTime())e="new";else{var i,n=1*this.getUserLifeTimeNumber();e=n>30?"new":n>7?"returned":"constant",(i=new Date).setFullYear(i.getFullYear()+1),t.cookie="__io_lv="+ +Date.now()+"; expires="+i.toUTCString()+"; path=/"}return e},n.getBrowserName=function(){var i,n,r="[object OperaMini]"===Object.prototype.toString.call(e.operamini),s=!(r||(!e.opr||!e.opr.addons)&&!e.opera),o="undefined"!=typeof InstallTrigger,a=/constructor/i.test(e.HTMLElement)||"[object SafariRemoteNotification]"===Object.prototype.toString.call(this.getDeepPropertySafe(e,["safari","pushNotification"]))||"Apple Computer, Inc."===e.navigator.vendor,c=!!t.documentMode,l=[{name:"Opera",isCurrent:s},{name:"Firefox",isCurrent:o},{name:"Safari",isCurrent:a},{name:"IE",isCurrent:c},{name:"Edge",isCurrent:!c&&!!e.StyleMedia},{name:"Chrome",isCurrent:!(s||!e.chrome||!e.chrome.webstore&&!e.chrome.runtime)},{name:"Opera Mini",isCurrent:r}];for(n=0;n<l.length;n++)if(l[n].isCurrent){if(i)return"Other";i=l[n].name}return i||"Other"},n.getReferenceTimeFromWordsCount=function(t){return Math.round(e.parseInt(t,10)/(190/60))},n.getTextFromElement=function(e){var t,i,n="",r=["SCRIPT","STYLE","NOSCRIPT","VIDEO"];for(i=0;i<e.childNodes.length;i++)t=e.childNodes[i],-1===r.indexOf(t.nodeName)&&(1===t.nodeType?n+=this.getTextFromElement(t):3===t.nodeType&&(n+=t.nodeValue));return n},n.getReferenceTimeFromBlock=function(e){var i,n;if(i=t.querySelector(e))return n=this.getTextFromElement(i).trim().split(/\s+/).length,this.getReferenceTimeFromWordsCount(n)},n.getSortedSemver=function(t){return t.sort(function(t,i){var n,r,s=/(\.0+)+$/,o=t.replace(s,"").split("."),a=i.replace(s,"").split("."),c=Math.min(o.length,a.length);for(n=0;n<c;n++)if(r=e.parseInt(o[n],10)-e.parseInt(a[n],10))return r;return o.length-a.length})},n.injectScriptBySrc=function(e,i){var n=t.getElementsByTagName("script")[0],r=t.createElement("script");r.id=i,r.async=!0,r.src=e,n.parentNode.insertBefore(r,n)},n.loadComponentAsync=function(e){try{return e.init()}catch(e){this.trackErrorMetric(e)}},n}(window,document,e.defaults),void 0===e)e={};if(e.debugCodeLoader=function(e,t){var i={flagName:"_io_debug_tracking",init:function(){var i=t.getSearchParam(this.flagName),n=t.getCookieValue(this.flagName),r=i||n;if(r){var s={id:e.projectCodeId+"_"+r,uri:"https://"+r+"_cdn.onthe.io/io.js/"+e.projectCodeId};if(!document.getElementById(s.id))return t.injectScriptBySrc(s.uri,s.id),!0}}};return i}(e.defaults,e.helpers),void 0===e)e={};if(e.nextPageMetricQueueService=function(e,t,i){var n={};n.storageKey="__io_next_page_metrics"+i.projectId,n._getQueue=function(){return t.parseJSONSafe(e.localStorage.getItem(this.storageKey))||[]},n.insertUpdate=function(i,n,r){if(t.getStorageStatusLocal()&&r){var s,o,a=this._getQueue();for(s=0;s<a.length;s++)a[s].key===r&&(a[s].name=i,a[s].data=n,o=!0);o||a.push({name:i,data:n,key:r}),e.localStorage.setItem(this.storageKey,JSON.stringify(a))}},n.insert=function(i,n,r){if(t.getStorageStatusLocal()){var s=this._getQueue();s.push({name:i,data:n,key:r||void 0}),e.localStorage.setItem(this.storageKey,JSON.stringify(s))}},n.clearBySending=function(){if(t.getStorageStatusLocal()){var i,n=this._getQueue();if(n)for(e.localStorage.removeItem(this.storageKey),i=0;i<n.length;i++)n[i].name&&n[i].data&&t.deferMetricToSendInBatch(n[i].name,n[i].data)}};var r={};return(r=n).init=function(){this.clearBySending()},r}(window,e.helpers,e.defaults),void 0===e)e={};if(e.api=function(e){var t={hostFunctionSource:function(){try{window[window.ioObject].a.push(arguments),window[window.ioObject].forward(arguments)}catch(t){try{e.trackErrorMetric(t)}catch(e){}}}};return t.hostFunctionSource.subscribe=function(e){window[window.ioObject].callbacks.push(e);for(var t=0;t<window[window.ioObject].a.length;t++)try{e(window[window.ioObject].a[t])}catch(e){}},t.hostFunctionSource.forward=function(e){if(window[window.ioObject].callbacks.length)for(var t=0;t<window[window.ioObject].callbacks.length;t++)try{window[window.ioObject].callbacks[t](e)}catch(e){}},t.updateHostFunction=function(){var e=this.hostFunctionSource.bind({});e.subscribe=this.hostFunctionSource.subscribe.bind({}),e.forward=this.hostFunctionSource.forward.bind({}),e.a=window[window.ioObject]&&window[window.ioObject].a||[],e.callbacks=window[window.ioObject]&&window[window.ioObject].callbacks||[],window[window.ioObject]=e},t.init=function(){window.ioObject&&this.updateHostFunction()},t}(e.helpers),void 0===e)e={};if(e.configParser=function(e,t,i){var n={appendDefaultSlices:function(t,n){if(i.decodeURIrecursively(t.url)!==i.decodeURIrecursively(e.location.pathname)&&(t.url_real=e.location.pathname),!t.reference_time){var r=i.getReferenceTimeFromBlock('[data-io-article-url="'+n+'"]');r&&(t.reference_time=r)}var s=i.getLastestHeadlineTestIds();s&&(t.ab_block_id=s.blockId,t.ab_headline_id=s.headlineId),t.user_agent=e.navigator.userAgent,t.pr=i.getPreviousURI(),t.pr_domain=i.getPreviousDomain(),t.device=i.getDeviceName(),t.browser_version=i.getBrowserNameAndVersion(),t.browser=i.getBrowserName(),t.referrer=i.getReferrer(null,n),t.first_source=i.getReferrerFirst(),t.depth=i.getDepth(),t.user_type=i.getUserType(),t.user_id=i.getUserId()},transformSliceValue:function(e){return String(e).trim()},transformSliceValuePlural:function(e){var t,i,n=[];for(t=0;t<e.length;t++)(i=this.transformSliceValue(e[t]))&&-1===n.indexOf(i)&&n.push(i);return n.join("|")},getSlicesFromPageDescriptor:function(e){var t,n,r,s={};for(t in e)if(e.hasOwnProperty(t)&&(n=e[t])&&(n=i.identifyArray(n)?this.transformSliceValuePlural(n):this.transformSliceValue(n)))switch(t){case"page_url":s.url||(r=i.parseURL(n),s.domain=r.hostname,s.url=r.pathname);break;case"page_url_canonical":if("main"===e.page_type)break;r=i.parseURL(n),s.domain=r.hostname,s.url=r.pathname+r.search;break;case"page_title":s.page=n;break;case"page_type":"article"!==n||s.author||(s.author="No Author"),"main"===n&&(s.url="/");break;case"page_language":s.language=n;break;case"article_authors":"article"===e.page_type&&(s.author=n);break;case"article_categories":s.category=n;break;case"article_subcategories":s.sub_category=n;break;case"article_type":s.type_article=n;break;case"article_word_count":s.reference_time=i.getReferenceTimeFromWordsCount(n);break;case"article_publication_date":s.pub_date=n;break;default:s[t]=n}return s.page||(s.page="No Title"),s},getLatestConfig:function(){if("[object Object]"===String(e._io_config)){var t=i.getSortedSemver(i.getEnumerableKeys(e._io_config)).pop();return e._io_config[t]}}},r={init:function(e){return this.data=e,this},getSlices:function(){var e=n.getSlicesFromPageDescriptor(this.data);return n.appendDefaultSlices(e,this.data.page_url,e.url),e},defaultTypes:["main","article","default"],optInPageTypes:["video-embed"],getPageType:function(){var e=String(this.data.page_type).trim();return-1===this.defaultTypes.indexOf(e)&&-1===this.optInPageTypes.indexOf(e)&&(e="default"),e}};return n.PageDescriptor=r,n.getPageDescriptor=function(t,n){n||(n=this.PageDescriptor.defaultTypes);var r=this.getLatestConfig();if(r){var s,o,a,c=t?i.parseURL(t).pathname:e.location.pathname;"/"!==(c=i.decodeURIrecursively(c)).slice(-1)&&(c+="/");for(var l=r.length;l--;)(s=r[l]).page_url&&(o=i.parseURL(s.page_url).pathname,"/"!==(o=i.decodeURIrecursively(o)).slice(-1)&&(o+="/"),o===c&&(a=i.createObject(this.PageDescriptor).init(s)));return a?-1===n.indexOf(a.getPageType())?null:a:null}},n.bindOnPageDescriptorAppearance=function(t,n,r){var s=this.getPageDescriptor(t,r);if(s)n(s);else var o=i.setIntervalSafe(e,function(){var i=this.getPageDescriptor(t,r);i&&(e.clearInterval(o),n(i))}.bind(this),100)},n}(window,document,e.helpers),void 0===e)e={};if(e.apiIntegraion=function(e,t,i){var n={flaternUpsertObjectValues:function(i){var n;for(n in i)i.hasOwnProperty(n)&&(e.identifyArray(i[n])?i[n]=t.transformSliceValuePlural(i[n]):i[n]=t.transformSliceValue(i[n]))},processConfigEvent:function(i,n,r){t.bindOnPageDescriptorAppearance(i,function(t){var i,s=t.getSlices();for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);s.platform="js_api",e.sendMetric(n,s)})},normilizeInputObject:function(t){var i,n,r={};for(n in t)if(t.hasOwnProperty(n)&&null!==t[n]&&(!e.identifyArray(t[n])||t[n].join("").trim())&&("[object String]"!==Object.prototype.toString.call(t[n])||t[n].trim()))if(i=String.prototype.trim.call(n),e.identifyArray(t[n])){if(!t[n].join("").trim())continue;r[i]=t[n]}else"[object String]"===Object.prototype.toString.call(t[n])?r[i]=t[n].trim():r[i]=t[n];return r},delegatedCallback:function(n){try{if("object"!=typeof n)return;var r=n[0];"object"==typeof r&&r.event&&r.config_page_url&&t?(r=this.normilizeInputObject(r),this.flaternUpsertObjectValues(r),this.processConfigEvent(r.config_page_url,r.event,r)):"object"==typeof r&&r.event&&i&&(i.transformEventHook(r),r.platform="js_api",i.parseAndSendEventAsMetric(r))}catch(t){e.trackErrorMetric(t)}},init:function(){if(window.ioObject){if(!window[window.ioObject]||!window[window.ioObject].subscribe)throw new Error("IO: Could not find API on the host object. API component may be missing.");if(!e)throw new Error("IO: required Helpers component is missing");window[window.ioObject].subscribe(this.delegatedCallback.bind(this))}}};return n}(e.helpers,e.configParser,e.eventAPI),void 0===e)e={};if(e.uniqueTracker=function(e,t,i,n){var r={init:function(){n.bindOnPageDescriptorAppearance(e.location.href,function(n){var r="__io_unique_"+t.projectId,s=document.cookie.match(new RegExp(r+"=([^;]+)"));if(-1==document.cookie.indexOf(r+"=")||s&&s[1]&&s[1]!=(new Date).getDate()){var o=new Date((new Date).setYear((new Date).getFullYear()+1)).toUTCString(),a=r+"="+(new Date).getDate()+"; expires="+o+"; path=/";if(e.parseInt(t.projectUniquesBySuperdomain,10)){var c=e.location.hostname.replace(/^www\./,"");t.projectMainDomain&&-1!==e.location.hostname.indexOf(t.projectMainDomain)&&(c=t.projectMainDomain),a+=";domain=."+c}document.cookie=a,i.sendMetric("uniques_instantly",n.getSlices())}})}};return r}(window,e.defaults,e.helpers,e.configParser),void 0===e)e={};if(e.holdingUniqueTracker=function(e,t,i){var n={setStateCookie:function(i){var n=i+"=1; expires="+new Date((new Date).setHours(24,0,0,0)).toUTCString()+"; path=/";e.parseInt(t.projectUniquesBySuperdomain,10)&&(n+=";domain=."+e.location.hostname.replace(/^www\./,"")),document.cookie=n},sendHoldingMetric:function(e){var n="https://"+t.trackingHost+"/?k[]="+t.holdingId+":uniques_holding&s="+t.projectSignature+"&__io="+(e||i.getUserId())+"&"+Date.now();i.sendGetRequest(n)},init:function(){if(t.holdingHash&&t.holdingId&&-1===document.cookie.indexOf("__io_uh")&&(this.setStateCookie("__io_uh"),!document.getElementById("io-holdingjs"))){var n="https://"+t.trackingHost+"/uniques/?current="+(new Date).getDate()+"&holding="+t.holdingHash+"&hash_user="+i.getUserId()+"&"+Date.now();i.injectScriptBySrc(n,"io-holdingjs");var r=i.setIntervalSafe(e,function(){if(void 0!==e._io_uniques_holing_params){if(e.clearInterval(r),"track"===e._io_uniques_holing_params)return this.sendHoldingMetric();var i=e._io_uniques_holing_params.match(new RegExp("(?:^|; )"+("io_uid"+t.holdingHash).replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")),n=e._io_uniques_holing_params.match(new RegExp("(?:^|; )"+"io_user_hash".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));(i&&i[1]&&i[1]!=(new Date).getDate()||!i)&&this.sendHoldingMetric(n[1])}}.bind(this),250)}}};return n}(window,e.defaults,e.helpers),void 0===e)e={};if(e.visitTracker=function(e,t,i,n){var r={init:function(){var r="__io_visit_"+i.projectId;n.bindOnPageDescriptorAppearance(e.location.href,function(n){if(-1===document.cookie.indexOf(r)){var s=e.parseInt(i.projectVisitsDuration,10),o=r+"=1; expires="+new Date((new Date).getTime()+60*s*1e3).toUTCString()+";  path=/";if(e.parseInt(i.projectVisitsBySuperdomain,10)){var a=e.location.hostname.replace(/^www\./,"");i.projectMainDomain&&-1!==e.location.hostname.indexOf(i.projectMainDomain)&&(a=i.projectMainDomain),o+=";domain=."+a}document.cookie=o,t.sendMetric("visits_instantly",n.getSlices(),null,!0)}})}};return r}(window,e.helpers,e.defaults,e.configParser),void 0===e)e={};if(e.viewTracker=function(e,t,i){var n={listenForConfigAndPageMatchOnce:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){var i=e.getSlices();t.sendMetric("pageviews",i)}.bind(this))},listenForPageChnages:function(){t.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()}};return n}(window,e.helpers,e.configParser),void 0===e)e={};if(e.readabilityTracker=function(e,t,i,n){var r={getScrollPercent:function(){var t=this.element.getBoundingClientRect().bottom-this.element.getBoundingClientRect().top;if(!t)return 0;var i=(e.innerHeight-this.element.getBoundingClientRect().bottom)/t,n=i>0?0:i<-1?-1:i;return n=100-Math.abs(Math.floor(100*n)),Math.abs(n)},sendMetric:function(e){n.bindOnPageDescriptorAppearance(this.url,function(t){i.sendMetric(e,t.getSlices())})},tryToTrackReadabilityAndUnbind25:function(){this.getScrollPercent()<=25||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind25),this.sendMetric("read_top"))},tryToTrackReadabilityAndUnbind50:function(){this.getScrollPercent()<=50||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind50),this.sendMetric("read_middle"))},tryToTrackReadabilityAndUnbind75:function(){this.getScrollPercent()<=75||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind75),this.sendMetric("read_bottom"))},tryToTrackReadabilityAndUnbind95:function(){this.getScrollPercent()<=95||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind95),this.sendMetric("read_finished"))},bindEvents:function(){this.boundHandles={},this.boundHandles.tryToTrackReadabilityAndUnbind25=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind25.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind50=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind50.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind75=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind75.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind95=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind95.bind(this))},init:function(e){this.element=e,this.url=e.getAttribute("data-io-article-url"),this.bindEvents()}},s={trackExistingArticles:function(){var e,n,s=t.querySelectorAll("[data-io-article-url]");for(e=0;e<s.length;e++)(n=i.createObject(r)).init(s[e]),this.instances.push(n)},listenForNewArticles:function(){i.bindOnElementInsertion("[data-io-article-url]",function(e){var t=i.createObject(r);t.init(e),this.instances.push(t)}.bind(this))},init:function(){this.instances=this.instances||[],this.trackExistingArticles(),this.listenForNewArticles()}};return{init:function(){s.init()},ArticleReadabilityTracker:s,ArticleToRead:r}}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.timeTracker=function(e,t,i,n){var r={init:function(){i.setIntervalSafe(e,function(){("function"!=typeof t.hasFocus||t.hasFocus())&&(t.hidden||n.bindOnPageDescriptorAppearance(e.location.href,function(e){var t=e.getSlices();t.url&&i.sendMetric("time",{url:t.url,ab_block_id:t.ab_block_id,ab_headline_id:t.ab_headline_id})}))},1e4)}};return r}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.videoTracker=function(e,t,i,n){var r={init:function(e){this.element=e,this.boundFunctions={},this.viewUrl=void 0,this.slices={title:document.title,type:void 0,time_int:void 0,reference_time:void 0},this.state={isViewed:!1,isStarted:!1,isFinished:!1,isLeft:!1,isReadyForTracking:!1},this.isEmbedded=!1,this.setEmbeddedFlag()},saveViewUrl:function(){this.viewUrl=window.location.href},trackView:function(){this.state.isViewed||(this.state.isViewed=!0,this.setSlicesFromConfig(function(){e.sendMetric("video_view",this.slices)}.bind(this)))},trackStart:function(){this.state.isStarted||(this.state.isStarted=!0,this.setSlicesFromConfig(function(){e.sendMetric("video_started",this.slices)}.bind(this)))},trackEnd:function(){this.state.isFinished||(this.state.isFinished=!0,this.state.isLeft=!0,this.setSlicesFromConfig(function(){e.sendMetric("video_watch_finished",this.slices),e.sendMetric("video_left",this.slices)}.bind(this)))},trackExitBeforeEnd:function(){this.state.isLeft||(this.state.isLeft=!0,this.setSlicesFromConfig(function(){e.getStorageStatusLocal()?n.insert("video_left",this.slices):e.sendMetric("video_left",this.slices)}.bind(this)))},setEmbeddedFlag:function(){i.bindOnPageDescriptorAppearance(this.viewUrl,function(e){"video-embed"===e.getPageType()&&(this.isEmbedded=!0)}.bind(this),["main","article","default","video-embed"])},setSlicesFromConfig:function(e,t){i.bindOnPageDescriptorAppearance(this.viewUrl,function(i){var n,r=i.getSlices(),s=t||this.slices;for(n in r)r.hasOwnProperty(n)&&(s.hasOwnProperty(n)||(s[n]=r[n]));e()}.bind(this),["main","article","default","video-embed"])},setSlicesEmbed:function(){var t,i;if(t=document.referrer){var n=t;n=e.decodeURIrecursively(n),n=e.parseURL(n),this.slices.domain=n.hostname,this.slices.url=n.pathname,this.slices.page=n.hostname+n.pathname}else this.slices.domain=window.location.hostname,this.slices.url=window.location.pathname,this.slices.page=window.top===window?"Direct Page Open":"Other Embed Methods";try{i=window.top.document.referrer}catch(e){}i&&(this.slices.referrer=e.getReferrer(i))},getBoundingClientRect:function(){var e;try{e=this.element.getBoundingClientRect()}catch(t){e={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}return e},isInView:function(){var e=this.getBoundingClientRect(),t={left:e.left>=0&&e.left<=(window.innerWidth||document.documentElement.clientWidth),right:e.right>=0&&e.left<=(window.innerWidth||document.documentElement.clientWidth),top:e.top>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight),bottom:e.bottom>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)};return(t.left||t.right)&&(t.top||t.bottom)}},s=e.createObject(r);s.elementSelector=t.projectVideosWithoutMarkup?"video[src], video source":"video[src][data-io-video-title], video[data-io-video-title] source",s.setAnInitialState=function(){this._state={},this._state.isStarted=!1,this._state.isViewed=!1,this._state.isFinished=!1,this._state.untrackedSeconds=0},s.collectMetadata=function(){this.setSlices(),this.previousVideoId&&this.slices.video_id!==this.previousVideoId&&this.setAnInitialState(),this.previousVideoId=this.slices.video_id},s.sendMetric=function(t){this.setSlicesFromConfig(function(){e.sendMetric(t,this.slices)}.bind(this))},s.bindEvents=function(t){this.setAnInitialState(),e.setIntervalSafe(window,function(){!this.element.paused&&this._state.isViewed&&(this._state.untrackedSeconds++,this._state.untrackedSeconds>=5&&(this._state.untrackedSeconds=0,this.collectMetadata(),this.sendMetric("video_time")))}.bind(this),1e3),e.setIntervalSafe(window,function(){this.isInView()&&!this._state.isViewed&&(this.collectMetadata(),this._state.isViewed=!0,this.sendMetric("video_view",this.slices))}.bind(this)),e.addEventListenerSafe(this.element,"timeupdate",function(){0!==window.parseFloat(this.element.currentTime)&&!this._state.isStarted&&this._state.isViewed&&(this.collectMetadata(),this._state.isStarted=!0,this.sendMetric("video_started"))}.bind(this)),e.addEventListenerSafe(this.element,"ended",function(){!this._state.isFinished&&this._state.isViewed&&this._state.isStarted&&(this.collectMetadata(),this._state.isFinished=!0,this.sendMetric("video_watch_finished"))}.bind(this))},s.setSlicesVideoJs=function(){if("function"==typeof window.videojs&&-1!==(this.element.getAttribute("class")||"").indexOf("vjs-tech")&&(this.slices.type="Video JS","object"==typeof e.getDeepPropertySafe(window,["videojs","players"])&&Object.keys(window.videojs.players).length)){var t,i,n;for(t in window.videojs.players)n||window.videojs.players.hasOwnProperty(t)&&window.videojs.players[t]&&"function"==typeof window.videojs.players[t].el&&(i=window.videojs.players[t].el())&&i.contains(this.element)&&(n=window.videojs.players[t]);if(n){var r=e.getDeepPropertySafe(n,["mediainfo","id"]);r&&(this.slices.video_id="videojs"+r)}}},s.setSlicesJwPlayer=function(){if("function"==typeof jwplayer&&"function"==typeof jwplayer().getContainer&&"function"==typeof jwplayer().getContainer().querySelector&&jwplayer().getContainer().querySelector(this.elementSelector)==this.element){this.slices.type="jwplayer";var t="string"!=typeof jwplayer.version||jwplayer.version[0]>6,i=e.getDeepPropertySafe(jwplayer(),["config","image"]);if(t){this.slices.reference_time=e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","duration"])||e.getDeepPropertySafe(jwplayer().getConfig(),["duration"]);var n=e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","mediaid"])||e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","sources","0","file"]);n&&(this.slices.video_id=n),i=e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","images","0"])||e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","image"])||e.getDeepPropertySafe(jwplayer().getConfig(),["image"]);var r=e.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","title"]);r&&(this.slices.title=r)}i&&(this.slices.image=i.split("//").pop())}},s.setSlicesVideoId=function(){var t=this.element.src||(this.element.getElementsByTagName("source")[0]||{}).src;this.element.attributes.getNamedItem("data-io-video-id")?this.slices.video_id=this.element.attributes.getNamedItem("data-io-video-id").value:t&&0===t.indexOf("blob:")&&this.element.attributes.getNamedItem("data-io-video-title")?this.slices.video_id=this.slices.title:t&&(t=e.parseURL(t),this.slices.video_id=t.hostname+t.pathname)},s.setSlices=function(){if(this.slices.type="html5",this.element.duration){var t=this.element.duration;t=window.parseFloat(t),(t=Math.round(t))&&(this.slices.reference_time=t)}if(this.element.poster){var i=e.parseURL(this.element.poster);this.slices.image=i.href.split(i.protocol).pop().slice("2")}this.element.attributes.getNamedItem("data-io-video-title")?this.slices.title=this.element.attributes.getNamedItem("data-io-video-title").value||"No Title":this.slices.title=document.title||"No Title",this.setSlicesVideoId(),this.setSlicesVideoJs(),this.setSlicesJwPlayer(),this.isEmbedded&&this.setSlicesEmbed()};var o=e.createObject(r);o.elementSelector='iframe[src*="//www.youtube.com/embed"], iframe[src*="//www.youtube-nocookie.com/embed"]',o.setSlices=function(){this.slices.type="youtube",this.isEmbedded&&this.setSlicesEmbed()},o.enableJsApi=function(){var t=-1!==this.element.src.indexOf("enablejsapi=1"),i=-1!==this.element.src.indexOf("origin=");t&&i&&this.element.dispatchEvent(new Event("ioVideoApiEnabled"));var n=e.addEventListenerSafe(this.element,"load",function(){this.element.dispatchEvent(new Event("ioVideoApiEnabled")),this.element.removeEventListener("load",n)}.bind(this));if(!t||!i){var r=e.parseURL(this.element.src),s=r.protocol+"//"+r.host+r.pathname+(r.search?r.search:"?")+(t?"":"&enablejsapi=1")+(i?"":"&origin="+e.encodeURIonce(window.location.origin))+(r.hash?"#"+r.hash:"");this.element.contentWindow.location.replace(s)}},o.getPlayerId=function(){var t=(this.element.src.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=)|(?:list=))([^#\&\?]*).*/)||[])[1],i=e.getSearchParam("widgetid",this.element.src),n=this.element.id?(this.element.id.match(/widget([0-9]+)$/)||[])[1]-1:null;return i||n||t},o.processAnEvent=function(t){if(-1!==t.origin.indexOf("//www.youtube.com")||-1!==t.origin.indexOf("//www.youtube-nocookie.com")){var i,n=e.parseJSONSafe(t.data)||{},r=n.info||{},s=e.getDeepPropertySafe(n,["info","videoData","video_id"]),o=n.id||s,a=e.getDeepPropertySafe(n,["info","videoData","title"]);o==this.getPlayerId()&&(r.duration&&(this.slices.reference_time=r.duration),r.currentTime&&(this.slices.time_int=r.currentTime),a&&(this.slices.title=a),s&&(this.slices.video_id=s,this.slices.image="img.youtube.com/vi/"+s+"/0.jpg"),this.slices.title&&this.slices.video_id&&(this.state.isReadyForTracking=!0,this.state.isViewed&&!this.state.isStarted&&r.currentTime&&this.trackStart(),i=r.currentTime&&window.parseInt(r.currentTime,10)===window.parseInt(this.slices.reference_time,10),this.state.isViewed&&this.state.isStarted&&!this.state.isFinished&&i&&this.trackEnd()))}},o.bindEvents=function(){this.boundFunctions.listenerViewIntervalId=e.setIntervalSafe(window,function(){this.isInView()&&this.state.isReadyForTracking&&(window.clearInterval(this.boundFunctions.listenerViewIntervalId),this.saveViewUrl(),this.setSlices(),this.trackView())}.bind(this)),this.boundFunctions.listenerApiEnabled=e.addEventListenerSafe(this.element,"ioVideoApiEnabled",function(){e.messageFrameWindow(this.element,{event:"listening",id:this.getPlayerId(),channel:"widget"}),this.element.removeEventListener("ioVideoApiEnabled",this.boundFunctions.listenerApiEnabled)}.bind(this)),this.boundFunctions.listenerApiEvents=e.addEventListenerSafe(window,"message",function(e){this.processAnEvent(e),this.state.isFinished&&(window.removeEventListener("beforeunload",this.boundFunctions.listenerLeave),window.removeEventListener("message",this.boundFunctions.listenerApiEvents))}.bind(this)),this.boundFunctions.listenerLeave=e.addEventListenerSafe(window,"beforeunload",function(){this.state.isLeft?window.removeEventListener("beforeunload",this.boundFunctions.listenerLeave):this.state.isStarted&&this.trackExitBeforeEnd()}.bind(this))};var a=e.createObject(r);a.elementSelector='iframe[src*="//player.vimeo.com/video"]',a.getVideoId=function(){return(e.decodeURIrecursively(this.element.src).match(/\/video\/(\d+)/)||[]).pop()},a.setSlices=function(){var e=this.getVideoId();this.slices.type="vimeo",this.slices.video_id=this.slices.type+e,this.slices.image="i.vimeocdn.com/video/"+e+"_480.jpg",this.isEmbedded&&this.setSlicesEmbed()},a.getPlayerId=function(){return e.getSearchParam("player_id",this.element.src)},a.enableJsApi=function(){if(-1===this.element.src.indexOf("player_id=")){var t=e.addEventListenerSafe(this.element,"load",function(){this.element.dispatchEvent(new Event("ioVideoApiEnabled")),this.element.removeEventListener("load",t)}.bind(this)),i=e.parseURL(this.element.src),n=i.protocol+"//"+i.host+i.pathname+(i.search?i.search:"?")+"&player_id="+this.getVideoId()+(i.hash?"#"+i.hash:"");this.element.src=n}else this.element.dispatchEvent(new Event("ioVideoApiEnabled"))},a.processAnEvent=function(t){if(-1!=t.origin.indexOf("//player.vimeo.com")){var i,n=e.parseJSONSafe(t.data);n&&n.player_id==this.getPlayerId()&&("getVideoTitle"===n.method&&n.value&&(this.slices.title=n.value),"getDuration"===n.method&&n.value&&(this.slices.reference_time=n.value),this.slices.title&&this.slices.reference_time&&(this.state.isReadyForTracking=!0,"playProgress"===n.event&&n.data&&(this.slices.reference_time=n.data.duration,this.slices.time_int=n.data.seconds,this.state.isViewed&&!this.state.isStarted&&this.trackStart(),i=n.data.duration&&n.data.seconds&&window.parseInt(n.data.duration,10)===window.parseInt(n.data.seconds,10),this.state.isViewed&&this.state.isStarted&&!this.state.isFinished&&i&&this.trackEnd())))}},a.bindEvents=function(){this.boundFunctions.listenerViewIntervalId=e.setIntervalSafe(window,function(){this.isInView()&&this.state.isReadyForTracking&&(window.clearInterval(this.boundFunctions.listenerViewIntervalId),this.saveViewUrl(),this.setSlices(),this.trackView())}.bind(this)),this.boundFunctions.listenerApiEnabled=e.addEventListenerSafe(this.element,"ioVideoApiEnabled",function(){e.messageFrameWindow(this.element,{method:"getVideoTitle"}),e.messageFrameWindow(this.element,{method:"getDuration"}),e.messageFrameWindow(this.element,{method:"addEventListener",value:"playProgress"}),this.element.removeEventListener("ioVideoApiEnabled",this.boundFunctions.listenerApiEnabled)}.bind(this)),this.boundFunctions.listenerApiEvents=e.addEventListenerSafe(window,"message",function(e){this.processAnEvent(e),this.state.isFinished&&(window.removeEventListener("beforeunload",this.boundFunctions.listenerLeave),window.removeEventListener("message",this.boundFunctions.listenerApiEvents))}.bind(this)),this.boundFunctions.listenerLeave=e.addEventListenerSafe(window,"beforeunload",function(){this.state.isLeft?window.removeEventListener("beforeunload",this.boundFunctions.listenerLeave):this.state.isStarted&&this.trackExitBeforeEnd()}.bind(this))};var c={};return c.VideoGeneric=r,c.VideoYoutube=o,c.VideoHTML5=s,c.VideoVimeo=a,c.trackVideosHTML5=function(){var t=e.createObject(e.ElementObserver);t.init(this.VideoHTML5.elementSelector),t.elementsFiltered=[],t.start(function(i){for(;i&&"VIDEO"!==i.nodeName;)i=i.parentElement;if(i&&-1===t.elementsFiltered.indexOf(i)){t.elementsFiltered.push(i);var n=e.createObject(this.VideoHTML5);n.init(i),n.bindEvents()}}.bind(this))},c.trackVideosYoutube=function(){var t=e.createObject(e.ElementObserver);t.init(this.VideoYoutube.elementSelector),t.start(function(t){var i=e.createObject(this.VideoYoutube);i.init(t),i.bindEvents(),i.enableJsApi()}.bind(this))},c.trackVideosVimeo=function(){var t=e.createObject(e.ElementObserver);t.init(this.VideoVimeo.elementSelector),t.start(function(t){var i=e.createObject(this.VideoVimeo);i.init(t),i.bindEvents(),i.enableJsApi()}.bind(this))},c.init=function(){this.trackVideosHTML5(),this.trackVideosYoutube(),this.trackVideosVimeo()},c}(e.helpers,e.defaults,e.configParser,e.nextPageMetricQueueService),void 0===e)e={};if(e.widgetLoader=function(e,t,i,n,r){var s={reload:function(){this.clearDOM(),this.insertIntoDOM(),n.bindOnPageDescriptorAppearance(e.location.href,function(e){_io_widget.configSlices=e.getSlices(),_io_widget.configArticleBlockUrl=e.data.page_url,_io_widget.start()}.bind(this))},clearDOM:function(){for(var e=t.querySelectorAll('div[data-io-id="_io_widget_element"], script[data-io-id="_io_widget_element"]'),i=0;i<e.length;i++)e[i].remove()},insertIntoDOM:function(){var e=t.createElement("div"),i=t.createElement("script");i.type="text/javascript",i.text=this.data.widget.js,e.style.position="static",i.id="_io_widget_element_div",i.dataset.ioId=e.dataset.ioId="_io_widget_element",e.innerHTML=this.data.widget.html,t.body.appendChild(e),t.body.appendChild(i)},startWidget:function(e){this.clearDOM(),this.insertIntoDOM(),_io_widget.configSlices=e.getSlices(),_io_widget.configArticleBlockUrl=e.data.page_url,_io_widget.start(this.data.widget.type,this.data.widget.overall)},load:function(i,n,s){e._io_widget={id:n,hash:i};var o,a=new XMLHttpRequest,c="https://"+(o=(o=r.getCookieValue("_io_widget_debug"))?o+"_":"")+"widget.onthe.io",l={id:n,hash:i,title:t.title,force_type:"main_new",path:e.location.pathname+e.location.search};a.open("POST",c,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var i=JSON.parse(a.responseText);if(!i)return;this.data=i;var n=r.setIntervalSafe(e,function(){t.body&&(e.clearInterval(n),this.startWidget(s))}.bind(this),1e3)}}.bind(this);var d="";for(var h in l)d+=h+"="+encodeURIComponent(l[h])+"&";a.send(d)},init:function(){var s=(e.location.hash.match(/^#client-widget-([a-z0-9_]{32})$/i)||[]).pop(),o=(t.cookie.match(/_io_widget=([a-z0-9_]{32})/i)||[]).pop(),a=s||o;if(a){var c=new Date((new Date).setFullYear((new Date).getFullYear()+1)).toUTCString(),l=e.location.hostname.replace(/^www\./i,""),d=e.location.pathname;if(e.parseInt(i.setWidgetOnMainDomain,10)&&(l=r.getMainDomain(),d="/"),t.cookie="_io_widget="+a+"; expires="+c+"; domain="+l+"; path="+d,s){var h=e.location.protocol+"//"+e.location.hostname+e.location.pathname+e.location.search;history.pushState("",t.title,h)}n.bindOnPageDescriptorAppearance(e.location.href,function(e){this.load(a,i.projectId,e)}.bind(this)),r.bindOnUrlChange(this.reload.bind(this))}}};return s}(window,document,e.defaults,e.configParser,e.helpers),void 0===e)e={};if(e.instantArticlesTracker=function(e,t){var i={trackPageviews:function(){var i=t.parseURL(e.ia_document.shareURL);t.sendMetric("pageviews_instant",{url:i.pathname,domain:i.hostname,depth:1,referrer:"fb_ia",device:"smart (Other)",user_id:t.getUserId()})},trackTime:function(){t.setIntervalSafe(e,function(){t.sendMetric("time",{url:t.parseURL(e.ia_document.shareURL).pathname})},1e4)},init:function(){if(e.ia_document)return this.trackPageviews(),!0}};return i}(window,e.helpers),void 0===e)e={};if(e.ctrTracker=function(e,t,i,n,r){var s={},o={setSlicesBlockDomainAndUrl:function(){var e=(this.element.getAttribute("data-vr-contentbox-url")||"").trim();if(e)return e=i.parseURL(e),this.slices.block_domain=e.hostname,void(this.slices.block_url=e.pathname);if(this.element.getAttribute("data-vr-contentbox")&&!this.element.classList.contains("io-ignore")){if(this.element.href&&"#"!==this.element.href&&"/"!==this.element.href)return this.slices.block_domain=this.element.hostname,void(this.slices.block_url=this.element.pathname);var t=this.element.querySelector('a:not([href="#"]):not([href="/"]):not(.io-ignore)');if(t)return this.slices.block_domain=t.hostname,void(this.slices.block_url=t.pathname);this.state.blockTrack=!0}else this.state.blockTrack=!0},setSlicesContainer:function(){var e=this.findParent(this.element,"[data-vr-zone]");e&&(this.slices.block_zon=(e.getAttribute("data-vr-zone")||"").trim())},setBlockTitle:function(){var e,t,n="";this.element&&(t=this.element.attributes.getNamedItem("data-vr-title")?this.element:this.findParent(this.element,"[data-vr-title]"),(e=this.element.attributes&&this.element.attributes.getNamedItem&&this.element.attributes.getNamedItem("data-vr-headline")?this.element:this.element&&this.element.querySelector?this.element.querySelector("[data-vr-headline]"):null)?n=i.getTextFromElement(e):t&&(n=t.attributes.getNamedItem("data-vr-title").value),(n=n.replace(/\s+/g," ").trim().slice(0,60).trim())||(n=i.getTextFromElement(this.element)),this.slices.block_title=n.replace(/\s+/g," ").trim().slice(0,60).trim(),this.slices.block_title||(this.state.blockTrack=!0))},setBlockGlobalPosition:function(){this.element&&(this.slices.block_global_pos=(this.element.getAttribute("data-vr-global-position")||"").trim())},setSlices:function(){this.slices.block_pos=(this.element.getAttribute("data-vr-contentbox")||"").trim(),this.setSlicesBlockDomainAndUrl(),this.setSlicesContainer(),this.setBlockTitle(),this.setBlockGlobalPosition()},findParent:function(e,t){for(var i=e.parentElement,n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1};i;){if(n.call(i,t))return i;i=i.parentElement}return null},isInView:function(){for(var t=this.element,i=t.offsetTop,n=t.offsetLeft,r=t.offsetWidth,s=t.offsetHeight;t.offsetParent;)i+=(t=t.offsetParent).offsetTop,n+=t.offsetLeft;return i>=e.pageYOffset&&n>=e.pageXOffset&&i+s<=e.pageYOffset+e.innerHeight&&n+r<=e.pageXOffset+e.innerWidth},init:function(n){this.element=n,this.instanceId=Math.floor(1e10*Math.random()+1),this.slices={url:e.location.pathname,page:t.title,domain:e.location.hostname,device:i.getDeviceName()},this.state={isTrackedView:!1,blockTrack:!1}},sendViews:function(){this.state.blockTrack||(this.state.isTrackedView=!0,r.insertUpdate("io_block_view",this.slices,"io_block_view"+this.instanceId),this.slices.block_zon&&r.insertUpdate("io_block_view_sum",this.slices,"io_block_view_sum"+this.slices.block_zon),r.insertUpdate("io_block_view_all",this.slices,"io_block_view_all"))},trackViews:function(){this.setSlices(),this.isInView()&&this.sendViews();var n=i.setIntervalSafe(e,function(){this.setSlices(),this.isInView()&&(this.sendViews(),e.clearInterval(n))}.bind(this),1e3);i.addEventListenerSafe(t,"scroll",function(){this.isInView()&&!this.state.isTrackedView&&this.sendViews()}.bind(this))},trackClicks:function(){var e=i.addEventListenerSafe(this.element,"click",function(){t.removeEventListener("click",e),this.setSlices(),this.state.blockTrack||r.insert("io_block_click",this.slices,"io_block_click"+this.instanceId)}.bind(this))}};return s.Target=o,s.getParentByChild=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].contains(e))return t[i]},s.setGlobalPositions=function(){var e,i;if(i=t.querySelectorAll("[data-vr-zone] [data-vr-contentbox]"))for(e=0;e<i.length;e++)i[e].setAttribute("data-vr-global-position",e+1)},s.startTracking=function(){this.containerElementObserver=i.createObject(i.ElementObserver),this.containerElementObserver.init.call(this.containerElementObserver,"[data-vr-zone]"),this.containerElementObserver.start.call(this.containerElementObserver,function(){}),this.targetElementObserver=i.createObject(i.ElementObserver),this.targetElementObserver.init.call(this.targetElementObserver,"[data-vr-zone] [data-vr-contentbox]"),this.targetElementObserver.start.call(this.targetElementObserver,function(e){var t=i.createObject(this.Target);t.init(e),this.setGlobalPositions(),t.trackViews(),t.trackClicks()}.bind(this))},s.init=function(){if(i.getStorageStatusLocal()){var e=i.createObject(i.ElementObserver);e.init("[data-vr-zone] [data-vr-contentbox]"),e.start(function(){e.stop(),this.startTracking()}.bind(this))}},s}(window,document,e.helpers,e.configParser,e.nextPageMetricQueueService),void 0===e)e={};if(e.onClickViewTracker=function(e,t,i,n){var r={bindOneElement:function(t){i.addEventListenerSafe(t,"click",function(){n.bindOnPageDescriptorAppearance(e.location.href,function(e){i.sendMetric("pageviews",e.getSlices())})})},bindExistingElemets:function(i){var n=t.querySelectorAll(i);n=e.Array.prototype.slice.call(n);for(var r=0;r<n.length;r++)this.bindOneElement(n[r])},listenForNewElements:function(e){i.bindOnElementInsertion(e,function(e){this.bindOneElement(e)}.bind(this))},init:function(){"undefined"!=typeof customCode_onClickViewSelector&&(this.bindExistingElemets(customCode_onClickViewSelector),this.listenForNewElements(customCode_onClickViewSelector))}};return r}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.subscriptionsTracker=function(e,t,i){var n={defaultBlockSelector:".io-subscription-block",defaultButtonsSelector:".io-subscription-button",alreadyViewed:!1,isScrolledIntoView:function(t){var i=t.getBoundingClientRect(),n=i.top,r=i.bottom;return n>=0&&r<=e.innerHeight},waitForSubscriptionBlockView:function(e){var i=document.querySelector(this.defaultBlockSelector);if(!i)return!1;n.isScrolledIntoView(i)&&!this.alreadyViewed&&(this.alreadyViewed=!0,t.sendMetric("subscription_button_view",e.getSlices()))},init:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){t.addEventListenerSafe(document,"scroll",function(){n.waitForSubscriptionBlockView(e)}),t.bindOnElementInsertion(n.defaultButtonsSelector,function(i){t.addEventListenerSafe(i,"click",function(){t.sendMetric("subscription_button_click",e.getSlices());var i=e.getSlices().first_source?e.getSlices().first_source:e.getSlices().referrer,n=location.host.replace("www.","").replace("m.",""),r=new Date((new Date).setHours(720,0,0,0)).toUTCString();t.setCookie("__io_subscription_source",i,r,"/",n),t.setCookie("__io_subscription_url",e.getSlices().url,r,"/",n)})});var i=document.querySelectorAll(n.defaultButtonsSelector);if(0==i.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];t.addEventListenerSafe(s,"click",function(){t.sendMetric("subscription_button_click",e.getSlices());var i=e.getSlices().first_source?e.getSlices().first_source:e.getSlices().referrer,n=location.host.replace("www.","").replace("m.",""),r=new Date((new Date).setHours(720,0,0,0)).toUTCString();t.setCookie("__io_subscription_source",i,r,"/",n),t.setCookie("__io_subscription_url",e.getSlices().url,r,"/",n)})}})}};return n}(window,e.helpers,e.configParser),void 0===e)e={};if(e.linkClickTracker=function(e,t,i,n){var r={sendClickMetric:function(){n.insert("link_click",this.slices)},setSlices:function(){var t,n;this.slices.next_url=this.element.pathname,this.slices.next_domain=this.element.hostname,(t=i.getPageDescriptor(e.location.href))&&(n=t.getSlices(),this.slices.url=n.url,this.slices.domain=n.domain,this.slices.device=n.device)},init:function(e){this.element=e,this.slices={},this.setSlices(),this.slices.url&&this.sendClickMetric()}},s={};return s.Link=r,s.processClickEvent=function(e){var i,n,r;if("function"==typeof e.composedPath)n=e.composedPath();else if("function"==typeof e.deepPath)n=e.deepPath();else{if(!e.path)return;n=e.path}for(r=0;r<n.length;r++)!i&&n[r].nodeName&&"a"===n[r].nodeName.toLowerCase()&&(i=n[r]);i&&t.createObject(this.Link).init(i)},s.listenForClicks=function(){t.addEventListenerSafe(document,"click",this.processClickEvent.bind(this))},s.init=function(){t.getStorageStatusLocal()&&this.listenForClicks()},s}(window,e.helpers,e.configParser,e.nextPageMetricQueueService),void 0===e)e={};if(e.vrTracker=function(e,t,i,n){var r={};r.setSlicesBlockDomainAndUrl=function(){var e=(this.element.getAttribute("data-vr-contentbox-url")||"").trim();e&&(e=t.parseURL(e),this.slices.block_domain=e.hostname,this.slices.block_url=e.pathname)},r.setSlicesContainerId=function(){var e=this.element.querySelector("[data-vr-contentbox-dynamic-hash]");e&&(this.slices.block_id=(e.getAttribute("data-vr-contentbox-dynamic-hash")||"").trim())},r.setSlicesHeadlineId=function(){var e=this.element.querySelector("[data-vr-headline-dynamic-hash]");e&&(this.slices.headline_id=(e.getAttribute("data-vr-headline-dynamic-hash")||"").trim())},r.setSlicesContainer=function(){var e=s.getParentByChild(this.element,s.containerElementObserver.elements);if(e){var t=(e.getAttribute("data-vr-zone")||"").trim();this.slices.block_zone=t}},r.setDymanicSlices=function(){this.setSlicesContainerId(),this.setSlicesHeadlineId()},r.setSlices=function(){this.slices.block_title=(this.element.getAttribute("data-vr-contentbox")||"").trim(),this.setSlicesBlockDomainAndUrl(),this.setSlicesContainer(),this.setDymanicSlices()},r.init=function(e){this.element=e,this.instanceId=Math.floor(1e10*Math.random()+1),this.slices={},this.state={isTrackedView:!1,isTrackedViewWithTest:!1}},r.trackClicks=function(){var i=t.addEventListenerSafe(this.element,"click",function(){document.removeEventListener("click",i),this.setSlices(),n.insert("vr_click",this.slices),n.insertUpdate("vr_view",this.slices,"vr_view"+this.instanceId),this.slices.block_id&&this.slices.headline_id&&(this.isTrackedView=!0,this.isTrackedViewWithTest=!0,e.sessionStorage.setItem("__io_headline_testing_latest",JSON.stringify({blockId:this.slices.block_id,headlineId:this.slices.headline_id,previousPathname:e.location.pathname,lifetime:2})))}.bind(this))},r.trackViews=function(){if(this.setSlices(),this.isInView()&&(this.state.isTrackedView=!0,this.slices.block_id&&this.slices.headline_id&&(this.state.isTrackedViewWithTest=!0),n.insert("vr_view",this.slices,"vr_view"+this.instanceId)),!this.state.isTrackedViewWithTest)var i=t.setIntervalSafe(e,function(){this.setDymanicSlices(),this.isInView()&&(this.state.isTrackedView=!0,this.slices.block_id&&this.slices.headline_id&&(this.state.isTrackedViewWithTest=!0),n.insertUpdate("vr_view",this.slices,"vr_view"+this.instanceId),e.clearInterval(i))}.bind(this),1e3),r=t.addEventListenerSafe(document,"scroll",function(){if(this.isInView()){if(this.state.isTrackedView||(n.insert("vr_view",this.slices,"vr_view"+this.instanceId),this.state.isTrackedView=!0,this.slices.block_id&&this.slices.headline_id&&(this.state.isTrackedViewWithTest=!0)),this.state.isTrackedView&&!this.state.isTrackedViewWithTest&&this.slices.block_id&&this.slices.headline_id)return n.insertUpdate("vr_view",this.slices,"vr_view"+this.instanceId),void(this.state.isTrackedViewWithTest=!0);this.state.isTrackedViewWithTest&&(document.removeEventListener("scroll",r),e.clearInterval(i))}}.bind(this))},r.isInView=function(){for(var t=this.element,i=t.offsetTop,n=t.offsetLeft,r=t.offsetWidth,s=t.offsetHeight;t.offsetParent;)i+=(t=t.offsetParent).offsetTop,n+=t.offsetLeft;return i>=e.pageYOffset&&n>=e.pageXOffset&&i+s<=e.pageYOffset+e.innerHeight&&n+r<=e.pageXOffset+e.innerWidth};var s={};return s.Target=r,s.getParentByChild=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].contains(e))return t[i]},s.addContainerIdToElement=function(i){var n,r,s,o,a;n=this.getParentByChild(i,this.containerElementObserver.elements),r=this.getParentByChild(i,this.targetElementObserver.elements),n&&r&&(s=(r.getAttribute("data-vr-contentbox-url")||"").trim())&&(o=s,o+=e.location.pathname+e.location.hostname,a=t.hashFnv32a(o),i.setAttribute("data-vr-contentbox-dynamic-hash",a))},s.startTracking=function(){this.containerElementObserver=t.createObject(t.ElementObserver),this.containerElementObserver.init.call(this.containerElementObserver,"[data-vr-zone]"),this.containerElementObserver.start.call(this.containerElementObserver,function(){}),this.targetElementObserver=t.createObject(t.ElementObserver),this.targetElementObserver.init.call(this.targetElementObserver,"[data-vr-zone] [data-vr-contentbox]"),this.targetElementObserver.start.call(this.targetElementObserver,function(e){var i=t.createObject(this.Target);i.init(e),i.trackViews(),i.trackClicks()}.bind(this)),this.headlineElementObserver=t.createObject(t.ElementObserver),this.headlineElementObserver.init.call(this.headlineElementObserver,"[data-vr-headline]"),this.headlineElementObserver.start.call(this.headlineElementObserver,function(e){this.addContainerIdToElement(e)}.bind(this))},s.init=function(){if(t.getStorageStatusLocal()){var e=t.createObject(t.ElementObserver);e.init("[data-vr-zone] [data-vr-contentbox]"),e.start(function(){e.stop(),this.startTracking()}.bind(this))}},s}(window,e.helpers,e.configParser,e.nextPageMetricQueueService),void 0===e)e={};if(e.headlineTestingService=function(e,t,i){var n={containerIdAttrName:"data-vr-contentbox-dynamic-hash"};return n.testElementSelector="[data-vr-headline]["+n.containerIdAttrName+"]",n.testDataRemoteUrl="https://tt.onthe.io/"+i.projectCodeId+"/ht.json",n.requestAndSaveTestData=function(e){t.getRemoteContent(this.testDataRemoteUrl,function(i){(i=t.parseJSONSafe(i))&&(this.data=i,e())}.bind(this))},n.getRanomProperty=function(e){var t=Object.keys(e);return e[t[t.length*Math.random()<<0]]},n.selectedVariantsStorageKey="__io_headline_testing_selected",n.retriveStoredVariants=function(){return t.parseJSONSafe(e.sessionStorage.getItem(this.selectedVariantsStorageKey))||{}},n.tryToGetStoredVariantIdByTargetHash=function(e){return this.retriveStoredVariants()[e]},n.saveSelectedVariant=function(t,i){var n=this.retriveStoredVariants();n[t]=i,e.sessionStorage.setItem(this.selectedVariantsStorageKey,JSON.stringify(n))},n.replaceHeadline=function(e){var i=(e.getAttribute(this.containerIdAttrName)||"").trim(),n=t.getDeepPropertySafe(this.data,[i,"variants"]);if(n){var r=n[this.tryToGetStoredVariantIdByTargetHash(i)];r||(r=this.getRanomProperty(n),this.saveSelectedVariant(i,r.id)),r.id&&r.value&&(e.setAttribute("data-vr-headline-dynamic-hash",r.id),e.innerHTML=r.value)}},n.replaceExisitngTitles=function(){var e,t=document.querySelectorAll(this.testElementSelector);for(e=0;e<t.length;e++)this.replaceHeadline(t[e])},n.listenForNewHeadlinesToReplace=function(){t.bindOnElementInsertion(this.testElementSelector,function(e){this.replaceHeadline(e)}.bind(this))},n.startTesting=function(){this.replaceExisitngTitles(),this.listenForNewHeadlinesToReplace()},n.isEnabledForUser=function(){if(-1!==document.cookie.indexOf("_io_widget"))return!0;if(-1!==document.cookie.indexOf("_io_ht_r=1"))return!0;if(-1!==document.cookie.indexOf("_io_ht_r=0"))return!1;var n=0;Math.round(99*Math.random()+1)<=e.parseInt(i.projectHeadlineTestingAudienceRatio,10)&&(n=1);var r=new Date;return r.setTime(r.getTime()+864e5),t.setCookie("_io_ht_r",n,r.toUTCString()),!!n||void 0}(),n.init=function(){if(this.isEnabledForUser){var e=t.createObject(t.ElementObserver);e.init(this.testElementSelector),e.start(function(){e.stop(),this.requestAndSaveTestData(this.startTesting.bind(this))}.bind(this))}},n}(window,e.helpers,e.defaults),void 0===e)e={};if(e.previousPageWatcher=function(e,t,i){var n={listenForConfigAndPageMatchOnce:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){var i=e.getSlices();t.setPreviousURI(i.url,i.domain)}.bind(this))},listenForPageChnages:function(){t.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){"object"!=typeof e.__io&&(e.__io={}),e.__io.isPreviousPageWatcherInitialized||(e.__io.isPreviousPageWatcherInitialized=!0,i?(this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()):(t.setPreviousURI(e.location.pathname,e.location.hostname),t.bindOnUrlChange(function(){t.setPreviousURI(e.location.pathname,e.location.hostname)})))}};return n}(window,e.helpers,e.configParser),e.helpers.loadComponentAsync(e.debugCodeLoader))return;try{if(function(e){if(/(googlebot\/|Googlebot-Mobile|BingPreview|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)/i.test(window.navigator.userAgent))return!0;function t(){var e=document.querySelector("article.b-article.lenta__item--current")||document.querySelector("article.b-article");e&&e.setAttribute("data-io-article-url",window.location.href)}e.helpers.addEventListenerSafe(window,"hashchange",function(){e.configParser.bindOnPageDescriptorAppearance(window.location.href,function(t){e.helpers.sendMetric("pageviews",t.getSlices())})}),window.onload=function(){t()},e.helpers.bindOnUrlChange(t)}(e))return}catch(t){e.helpers.trackErrorMetric(t)}if(e.helpers.loadComponentAsync(e.doubleLoadingDetector))return;if(e.helpers.loadComponentAsync(e.instantArticlesTracker))return;e.helpers.loadComponentAsync(e.previousPageWatcher),e.helpers.loadComponentAsync(e.nextPageMetricQueueService),e.helpers.loadComponentAsync(e.api),e.helpers.loadComponentAsync(e.apiIntegraion),e.helpers.loadComponentAsync(e.uniqueTracker),e.helpers.loadComponentAsync(e.holdingUniqueTracker),e.helpers.loadComponentAsync(e.visitTracker),e.helpers.loadComponentAsync(e.viewTracker),e.helpers.loadComponentAsync(e.readabilityTracker),e.helpers.loadComponentAsync(e.timeTracker),e.helpers.loadComponentAsync(e.videoTracker),e.helpers.loadComponentAsync(e.ctrTracker),e.helpers.loadComponentAsync(e.widgetLoader),e.helpers.loadComponentAsync(e.onClickViewTracker),e.helpers.loadComponentAsync(e.subscriptionsTracker),e.helpers.loadComponentAsync(e.linkClickTracker),e.helpers.loadComponentAsync(e.vrTracker),e.helpers.loadComponentAsync(e.headlineTestingService)}catch(t){try{e.helpers.trackErrorMetric(t)}catch(e){}}var t}()}]);