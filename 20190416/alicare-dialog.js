var AlicareDialog=function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(12)},function(t,e){"use strict";t.exports={getEnvironment:function(){var t="prod",e=location.hostname;return/daily|waptest/g.test(e)||e.indexOf("waptest.taobao.com")>-1?t="daily":e.indexOf("wapa.taobao.com")>-1?t="pre":e.indexOf("wapp.m.taobao.com")>-1&&(t="beta"),t},HtmlToDom:function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},bindEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},haltEvent:function(t){var e=t||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble&&(e.cancelBubble=!0)},getScreenWidthAndHeight:function(){return{width:document.documentElement.clientWidth||document.body.clientWidth,height:document.documentElement.clientHeight||document.body.clientHeight}},computePosition:function(t){var e=t||window.event,i=e.pageX||e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=e.pageY||e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return{pageX:i,pageY:n}},hasClass:function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ")}},remove:function(t){t.parentNode.removeChild(t)},isIframe:function(t){return t&&"[object HTMLIFrameElement]"===Object.prototype.toString.call(t)},isDom:function(t){return t&&1===t.nodeType},isNumber:function(t){return"number"==typeof t},isPercentage:function(t){return/%$/g.test(t+"")}}},function(t,e){"use strict";function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"number"==typeof t}function r(t){return"object"===("undefined"==typeof t?"undefined":s(t))&&null!==t}function a(t){return void 0===t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,o,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(i=this._events[t],a(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),l=i.slice(),o=l.length,c=0;c<o;c++)l[c].apply(this,s);return!0},i.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],a=i.length,o=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(s=a;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){"use strict";var i={},n="alicare_dialog";t.exports={sendLog:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=new Image,r="img_"+Math.random(),a=(new Date).getTime(),s=i.from||"unknown";t.ext=JSON.stringify(t.ext)||"";var c="https://gm.mmstat.com/ihelp.a21ib.8016006."+n+"."+t.d+"?cache="+a+"&ext="+t.ext+("&memberType="+i.memberType+"&from="+s+"&imsid="+i.imsid+"&autosend=1");window[r]=o,o.onload=o.onerror=function(){window[r]=null},e?o.setAttribute("src",c):setTimeout(function(){o.setAttribute("src",c)},500)},setLog:function(t){i=t}}},function(t,e,i){"use strict";var n=i(14),o=i(1),r=o.getEnvironment(),a={daily:"//openair.daily.taobao.net/app/dialog_config",pre:"https://pre-air.taobao.com/app/dialog_config",beta:"https://airunit.taobao.com/app/dialog_config",prod:"https://airunit.taobao.com/app/dialog_config"},s=a[r];t.exports={sendMessage:function(t){o.isIframe(this)&&this.contentWindow.postMessage(JSON.stringify({message:t,source:"alicare-dialog"}),"*")},getAlicareMiniConfig:function(t,e,i){n.get(s,{from:t.from,orderId:t.orderId,sourceURL:window.location.href},e,i)}}},function(t,e,i){"use strict";var n=i(1);t.exports={frameDuration:20,opacityUnit:.1,positionUnit:20,defaultTimes:7,showDialog:function(t,e){var i=this,n=this.defaultTimes,o=.1,r=-80,a=1,s=12;t.parentNode.style.display="block",clearInterval(this.showDialogId);var c=o,l=r,u=Math.ceil(Math.abs(a-o)/n),f=Math.ceil(Math.abs(s-r)/n);this.showDialogId=setInterval(function(){c=c+u>a?a:c+u,l=l+f>s?s:l+f,t.style.opacity=c,t.style.right=l+"px",l>=s&&(clearInterval(i.showDialogId),"function"==typeof e&&e())},this.frameDuration)},closeDialog:function(t,e){var i=this,n=this.defaultTimes,o=1,r=12,a=.1,s=-80;clearInterval(this.closeDialogId);var c=o,l=r,u=Math.ceil(Math.abs(a-o)/n),f=Math.ceil(Math.abs(s-r)/n);this.closeDialogId=setInterval(function(){c=c-u<=a?a:c-u,l=l-f<=s?s:l-f,t.style.opacity=c,t.style.right=l+"px",l<=s&&(clearInterval(i.closeDialogId),t.parentNode.style.display="none","function"==typeof e&&e())},this.frameDuration)},changeEnvironment:function(t,e,i,o){var r=this;t.style.position="absolute",e.style.position="absolute";var a=n.getScreenWidthAndHeight(),s=i.getBoundingClientRect(),c=0,l=0,u=a.height-s.bottom,f=a.height-s.bottom+64;i.style.left?(t.style.left="0px",e.style.left="0px"):(t.style.right="0px",e.style.right="0px");var p=void 0;i.style.top?p="top":(p="bottom",f=-f-t.clientHeight,u=-u-e.clientHeight),t.style[p]=c+"px",e.style[p]=u+"px",this.attrChange(t,p,c,f,7,"toFast",function(){r.attrChange(e,p,u,l,5,"toSlow",function(){var i=["position","top","right","left","bottom"];r.clearAttrs(t,i),r.clearAttrs(e,i),"function"==typeof o&&o()})})},attrChange:function(t,e,i,n,o,r,a){var s=this,c=a||("function"===r?r:a);clearInterval(this.attrChangeId);var l=i,u=Math.ceil(Math.abs(n-i)/o),f=0;"toFast"===r?f=1:"toSlow"===r&&(f=-1),n<i&&(u=-u,f=-f),this.attrChangeId=setInterval(function(){l=l+u>=n&&n>i||l+u<=n&&n<i?n:l+u,u+=f,t.style[e]=l+"px",(l>=n&&n>i||l<=n&&n<i)&&(clearInterval(s.attrChangeId),"function"==typeof c&&c())},this.frameDuration)},clearAttrs:function(t,e){for(var i=0;i<e.length;i++)t.style[e[i]]=""}}},function(t,e,i){(function(e){"use strict";function n(t){return this instanceof n?(t=t||{},t.hotPatch===!0&&this._hotPatch(),t.global!==!1&&"object"===o(v.__trackerOptions)&&a(t,v.__trackerOptions),this.global=null==t.global||!!t.global,this.pid=t.pid,this.sampleRate=t.sampleRate||1,this.uidResolver=t.uidResolver||s,this.userOptions=t,this.requiredFields=t.requiredFields||[],this.releaseResolver=t.releaseResolver||s,this.uaParser=t.uaParser||s,this.beforeLog=t.beforeLog||null,this.msgWhitelist=t.msgWhitelist||t.msgWhiteList||O,this.urlWhitelist=t.urlWhitelist||t.urlWhiteList||T,this.oncePerSession=void 0===t.oncePerSession||t.oncePerSession,this.consoleDisplay=t.consoleDisplay||!1,this.ignoreScriptError=t.ignoreScriptError||!1,this.ignoredQueries=t.ignoredQueries||[],this.global&&(v.__trackerOptions=t),this._inited=!1,this._tracked=[],this._logWaitingQueue=[],this._plugins=t.plugins||[],this._pos="0,0",void this._trackMousePos()):new n(t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(7),a=r.shallowMerge,s=r.noop,c=r.generateIdentifier,l=r.getScreenSize,u=r.addEvent,f=r.getSpm,p=r.isError,h=i(9),d=i(8),g=r.unifyErrorMsg,m=!1;try{m="[object process]"===e.process.toString()}catch(t){}var v={};m||(v="undefined"!=typeof window?window:"undefined"!=typeof self?self:{});var y=v.document,_=v.navigator,b=!1,w=v.Tracker,x={JS_ERROR:1},E="//gm.mmstat.com/",S="http://gm.mmstat.com/",k="fsp.1.1",O=null,T=null,C=+new Date,L=v.onerror;n.noConflict=function(){return v.Tracker===n&&(v.Tracker=w),n},n.prototype={VERSION:"3.5.5",log:function(t,e){"object"===("undefined"==typeof t?"undefined":o(t))?e=t:"string"==typeof t&&(e=e||{},a(e,{code:1,msg:t})),this._log(e)},captureMessage:function(t,e){return this.log(t,e)},logError:function(t,e){if(!p(t))return this.log(t,e);if(e=e||{},e.c1||e.c2||e.c3)return void this.warn("使用 tracker.logError() 时不可再传入 c1,c2,c3 字段，请求未发送");var i={},n=d(t);i.msg=t.toString(),i.c1=n[0],i.c2=n[1],i.c3=n[2],a(i,e),this._log(i)},captureException:function(t,e){return this.logError(t,e)},logReq:function(){this.warn("logReq() 方法已经废弃，若有需要，请使用自定义打点方式( `tracker.log()` )监控接口错误。")},logPerf:function(){this.warn("logPerf() 方法已经废弃，若有需要，请使用自定义打点方式( `tracker.log()` )监控接口错误。")},config:function(t,e){return"string"==typeof t?(e=e||{},e.pid=t):e=t,a(this,e,!0),a(this.userOptions,e,!0),"object"===o(v.__trackerOptions)&&a(v.__trackerOptions,e,!0),this._checkRequiredFields()&&this._popWaitingQueue(),this},onGlobalError:function(){if(!y)return this;var t=this;if(this.pid&&!this._inited){if(v.onerror=function(e,i,n,o,r){t._handleError(e,i,n,o,r)},this._plugins.length)for(;this._plugins.length>0;){var e=this._plugins.pop(),i=e[0],n=e[1];i.apply(this,[this].concat(n))}this._inited=!0}return this},install:function(){return this.onGlobalError()},offGlobalError:function(){return y?(v.onerror=L,this._inited=!1,this._plugins=[],this._tracked=[],this):this},uninstall:function(){return this.offGlobalError()},addPlugin:function(t){if(!y)return this;var e=[].slice.call(arguments,1);return"function"==typeof t&&this._inited?t.apply(this,[this].concat(e)):this._plugins.push([t,e]),this},_handleError:function(t,e,i,n,o){if(L)try{L.call(this,t,e,i,n,o)}catch(t){}e=e||"-",i=i||"-",n=n||"-",t=g(t);var r={msg:t,code:x.JS_ERROR};if(!this.ignoreScriptError||"Script error"!==t){if(null!=o&&(1===this.sampleRate||Math.random()<.1)){var a=d(o);r.c1=a[0],r.c2=a[1],r.c3=a[2]}this._log(r)}},_handleMouseDown:function(t){var e=y&&y.documentElement,i=Math.round(t.pageY||t.clientY+y.body.scrollTop+e.scrollTop),n=Math.round(t.pageX||t.clientX+y.body.scrollLeft+e.scrollLeft),o=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth);n-=o/2,this._pos=String(n)+","+String(i)},_trackMousePos:function(){var t=y&&y.documentElement,e=this;t&&u(y,"mousedown",function(t){e._handleMouseDown(t)})},_postData:function(t){var e=!!(v.navigator&&v.navigator.sendBeacon&&v.Blob),i="file:"===v.location.protocol?S+(t.base||k):E+(t.base||k),n=h.stringify(t,["code","base","sampleRate","oncePerSession"],e);if(e)try{v.navigator.sendBeacon(i,JSON.stringify({gmkey:"OTHER",gokey:n,logtype:"2"}))}catch(e){n=h.stringify(t,["code","base","sampleRate","oncePerSession"],!1);var o=new Image;o.src=i+"?"+n}else{var o=new Image;o.src=i+"?"+n}},_log:function(t){if(!y)return this;if(t=t||{},t.type||t.code||(t.type=1),!t.type&&t.code&&(t.type=t.code),!(t.type===x.JS_ERROR&&Math.random()>(t.sampleRate||this.sampleRate)||null!=t.sampleRate&&Math.random()>t.sampleRate)){if(t=this._enhanceOpitons(t),!t.pid)return void this.warn("未配置 pid，请求未发送");for(var e=c(t),i=!1,n=0;n<this._tracked.length;n++)if(this._tracked[n]===e){i=!0;break}var r=null==t.oncePerSession?this.oncePerSession:t.oncePerSession;if(!(r&&i||this.msgWhitelist&&null!==this.msgWhitelist.exec(t.msg)||this.urlWhitelist&&null!==this.urlWhitelist.exec(t.page))){if("function"==typeof this.beforeLog){var a;try{a=this.beforeLog(t)}catch(t){}if(a===!1)return;"object"===("undefined"==typeof a?"undefined":o(a))&&(t=a)}return this._tracked.push(e),this.consoleDisplay&&"object"===("undefined"==typeof v?"undefined":o(v))&&v.console&&"function"==typeof v.console.log&&v.console.log("[Tracker] %s",t.msg),this._checkRequiredFields()?void this._postData(t):void this._pushWaitingQueue(t)}}},_checkRequiredFields:function(){for(var t=0;t<this.requiredFields.length;t++){var e=this.requiredFields[t];if(void 0===this.userOptions[e])return!1}return!0},_popWaitingQueue:function(){var t=this;if(this._logWaitingQueue&&this._logWaitingQueue.length)for(var e=0;e<this._logWaitingQueue.length;e++){var i=this._logWaitingQueue[e];a(i,t._enhanceOpitonsByUser(t.userOptions),!0),t._postData(i)}this._logWaitingQueue=[]},_pushWaitingQueue:function(t){this._logWaitingQueue.push(t)},_enhanceOpitonsByUser:function(t){return t.uid||(t.uid=this.uidResolver()),t.pid||(t.pid=this.pid),t.rel||(t.rel=this.releaseResolver()),t.ua||(t.ua=this.uaParser(_?_.userAgent:"")),t},_enhanceOpitons:function(t){t=this._enhanceOpitonsByUser(t),t.page||(t.page=v.location.href.split("?")[0]),t.query||(t.query=h.stringify(h.parse(window.location.search),t.ignoredQueries)),t.hash||(t.hash=window.location.hash),t.title||(t.title=y.title),t.spm_a||(t.spm_a=f().a),t.spm_b||(t.spm_b=f().b),t.scr||(t.scr=l()),t.raw_ua=_?_.userAgent:"",t.delay=parseFloat(((+new Date-C)/1e3).toFixed(2)),t.tracker_ver=this.VERSION,t.patch_ver=this.PATCH_VERSION||"-";var e=y.referrer.split("?"),i=e[0],n=2===e.length?h.stringify(h.parse(e[1]),t.ignoredQueries):"";return 2===e.length&&n.length>0?t.referrer=i+"?"+n:t.referrer=i,t.last_pos=this._pos,t},warn:function(t){"object"===("undefined"==typeof v?"undefined":o(v))&&v.console&&"function"==typeof v.console.warn&&v.console.warn("[Tracker] "+t)},_hotPatch:function(){var t="__tracker_patch__";if(v&&y){if(b&&v.__trackerPatch)return;b=!0;var e=Math.random();if(v.localStorage&&v.localStorage.getItem){var i=v.localStorage.getItem(t),n=+new Date;if(i&&n-parseInt(i,10)<432e5)e=i;else{e=n;try{v.localStorage.setItem(t,n)}catch(t){}}}var o=y.createElement("script");o.src="//g.alicdn.com/fsp/tracker-patch/index.js?"+e,o.async=!0,o.crossOrigin=!0,o.id="tracker-patch",(y.head||y.body).appendChild(o);var r=this;v.__trackerPatch=function(){return r}}}},t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";function i(t){return"object"===("undefined"==typeof t?"undefined":n(t))&&null!==t}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){return"[object Number]"===Object.prototype.toString.call(t)};e.isNumber=o,e.isNaN=function(t){return o(t)&&t!==+t},e.isArray=function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t).toUpperCase().indexOf("ARRAY")!==-1},e.noop=function(t){return t||""},e.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},e.shallowMerge=function(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i||void 0===t[n])&&(t[n]=e[n])},e.getSpm=function(){var t="",i="",n=window.goldlog||{},o=n.spmAb||n.spm_ab;return o&&e.isArray(o)&&(t=o[0],o[1]&&(i=o[1])),{a:t,b:i}},e.unifyErrorMsg=function(t){return/^script error\.?$/i.test(t)?"Script error":t},e.getScreenSize=function(){return window.screen.width+"x"+window.screen.height},e.generateIdentifier=function(t){return[t.type,t.uid,t.page,t.msg||"",t.ajaxurl||""].join("_")},e.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,function(){return i.call(t,window.event)})},e.isError=function(t){var e={}.toString.call(t);return i(t)&&"[object Error]"===e||"[object Exception]"===e||t instanceof Error}},function(t,e,i){(function(e){"use strict";function i(t){for(var e=((t||{}).stack||"").split("\n"),i=["","",""],n={},c=0;c<e.length;c++){var l=r,u=(e[c]||"").match(l);if(null===u&&(l=a,u=(e[c]||"").match(l)),null===u&&(l=s,u=(e[c]||"").match(l)),null!==u){var f=u[1],p=n[f];void 0===p&&(n[f]="#"+c+"#",p=n[f]),e[c]=e[c].replace(f,p)}}if(e.length>0){e.shift();var h="";for(c=0;h.length+(e[c]||"").length<o&&c<e.length;)h+=e[c]+"\n",c++;i[1]=h;for(var d="";d.length+(e[c]||"").length<o&&c<e.length;)d+=e[c]+"\n",c++;i[2]=d}var g="";for(f in n)n.hasOwnProperty(f)&&(g+=f+"@"+n[f]+";");return g=g.replace(/;$/,""),i[0]=g,i}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=4096,r=/^\s*at .*? ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::\d+)?(?::\d+)?\)?\s*$/i,a=/^\s*.*?(?:\(.*?\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::\d+)?(?::\d+)?\s*$/i,s=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;"object"===("undefined"==typeof e?"undefined":n(e))&&"test"===e.env.NODE_ENV&&(r=/([^\()]+\.spec\.js)/i),t.exports=i}).call(e,i(11))},function(t,e){"use strict";function i(t){return"[object Array]"==={}.toString.call(t)}e.parse=function(t){var e={};if("string"!=typeof t)return e;if(t=(t||"").split("?")[1]||"",t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").replace(/^(\?|#|&)/,""),!t)return e;for(var n=t.split("&"),o=0;o<n.length;++o){var r=n[o],a=r.replace(/\+/g," ").split("="),s=a.shift(),c=a.length>0?a.join("="):void 0;s=decodeURIComponent(s),c=void 0===c?null:decodeURIComponent(c),void 0===e[s]?e[s]=c:i(e[s])?e[s].push(c):e[s]=[e[s],c]}return e};var n=512;e.stringify=function(t,e,i){if(!t)return"";e=e||[];var o=[];for(var r in t)t.hasOwnProperty(r)&&o.push(r);var a=[];o=o.sort();for(var s=0;s<o.length;++s){r=o[s];var c=t[r];if(null!=c){for(var l=!1,u=0;u<e.length;++u)if(e[u]===r){l=!0;break}l||a.push(encodeURIComponent(r)+"="+encodeURIComponent(i?encodeURIComponent(c):String(c).slice(0,n)))}}return a.join("&")}},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(t,e){"use strict";function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){g&&h&&(g=!1,h.length?d=h.concat(d):m=-1,d.length&&s())}function s(){if(!g){var t=o(a);g=!0;for(var e=d.length;e;){for(h=d,d=[];++m<e;)h&&h[m].run();m=-1,e=d.length}h=null,g=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,f,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var h,d=[],g=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||g||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i(6),a=n(r),s=(i(15),i(4)),c=i(3),l=i(18),u=new a.default({pid:"alicare-dialog",sampleRate:.1});u.onGlobalError();var f="alicare:miniConfig",p="alicare:timestamp",h=["localTest","pretest"].concat(["tb-list_bought_items","tb-cashHongbao","tb-trade_replace","tmall-orderDetail"]),d=function(){function t(e){o(this,t),this.__getInitData(e)}return t.prototype.__getInitData=function(t){var e=this,i=t;t.accessToken&&(i.needAuthorized=!0);var n=!0,o=h.some(function(t){return t===i.from}),r=JSON.parse(localStorage.getItem(f))||{},a=localStorage.getItem(p)||0,c=r.from===i.from;(+new Date-a)/6e4-5>0&&(n=!1),o&&r&&n&&c?(this.__formatParam(r,i),u.log({code:11,msg:"获取本地配置",c1:JSON.stringify(r)})):(s.getAlicareMiniConfig(t,function(t){0!==t.code&&0!==t.status||!t.data||(e.__formatParam(t.data,i),localStorage.setItem(f,JSON.stringify(t.data)),localStorage.setItem(p,+new Date))},function(e){u.log({code:11,msg:"miniConfigError",c1:JSON.stringify(t),c2:JSON.stringify(e)})}),u.log({code:11,msg:"获取线上配置",c1:JSON.stringify(t)}))},t.prototype.__formatParam=function(t,e){var i=t.viewType,n=t.recommendQuestions,o=t.bu,r=t.color,a=t.appId,s=t.robotCode,c=t.robotScene,l=t.graySwitch,u=t.grayPercent;e.type=i,e.recommendQuestions=n,e.bu=o,e.color=r,e.robotScene=c,e.robotCode=s,e.appId=a,e.grayPercent=+(u||0),e.graySwitch=l,this.__init(e)},t.prototype.__init=function(t){this.ui=new l(t),c.setLog({from:t.from,memberType:"",imsid:""})},t.prototype.onRendered=function(t){var e=this;t&&"function"==typeof t&&setTimeout(function(){e.ui?t(e.ui):e.onRendered(t)},300)},t}();t.exports=d,window.alicareDialogAsyncInit&&window.alicareDialogAsyncInit(d)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=i(1),r=i(3);t.exports=function(){function t(e){n(this,t),this.config=e,this.isDragReady=!1,this.hasDragged=!1,this.__bindEvent()}return t.prototype.__bindEvent=function(){var t=this,e=this.config,i=e.draggerElement,n=e.maskSelector,a={x:0,y:0},s={x:0,y:0};o.bindEvent(i,"mouseover",function(t){var e=t||window.event,n=e.srcElement||e.target;if(n){var r=i.clientHeight;return 0===r?void(n.style.cursor=""):void(o.hasClass(n,"alicare-draggable")&&(n.style.cursor="move"))}}),o.bindEvent(i,"mousedown",function(e){var r=e||window.event,c=r.srcElement||r.target;if(c){o.haltEvent(r),t.isDragReady=!0;var l=i.querySelector(n);l&&(l.style.visibility="visible");var u=o.computePosition(r);a.x=u.pageX-i.offsetLeft,a.y=u.pageY-i.offsetTop,s.x=r.clientX,s.y=r.clientY}}),o.bindEvent(document,"mouseup",function(e){t.isDragReady=!1;var o=i.querySelector(n);o&&(o.style.visibility="hidden"),t.hasDragged&&(r.sendLog({d:"drag"}),setTimeout(function(){t.hasDragged=!1},60),i.style.cursor="")}),o.bindEvent(document,"mousemove",function(e){var n=e||window.event,r=(n.target,{x:n.clientX,y:n.clientY});if(!(s.x&&r.x&&Math.abs(s.x-r.x)<=1&&s.y&&r.y&&Math.abs(s.y-r.y)<=1)&&t.isDragReady){var c=i.clientHeight;if(0===c)return;var l=o.getScreenWidthAndHeight(),u=o.computePosition(n),f={width:i.offsetWidth,height:i.offsetHeight},p=void 0,h=void 0,d=u.pageY-a.y,g=u.pageX-a.x;g>(l.width-f.width)/2?(g=l.width-f.width-g,h="right",i.style.left&&(i.style.left="")):(h="left",i.style.right&&(i.style.right="")),g<5&&(g=5),i.style[h]=g+"px",d>(l.height-f.height)/2?(d=l.height-f.height-d,p="bottom",i.style.top&&(i.style.top="")):(p="top",i.style.bottom&&(i.style.bottom=""));var m=i.querySelector(".J_Dialog"),v=document.documentElement.clientHeight,y={top:10,bottom:10},_={top:v,bottom:v};if(m&&"block"===m.style.display){var b=-parseInt(m.style.bottom||0,10),w=m.clientHeight;y.top=w-b-c,y.bottom=b,_.top=v-b-c,_.bottom=v-w+b}d<y[p]?d=y[p]:d>_[p]&&(d=_[p]),i.style[p]=d+"px",t.hasDragged=!0,i.style.cursor="move"}})},t.prototype.wrapClickFunc=function(t){var e=this;return function(i){e.hasDragged||t(i)}},t}()},function(t,e){"use strict";function i(t,e){var i=document.createElement("script"),n=!1;i.src=t,i.async=!0;var o=e||s.error;"function"==typeof o&&(i.onerror=function(e){o({url:t,event:e})}),i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,i.onload=i.onreadystatechange=null,i&&i.parentNode&&i.parentNode.removeChild(i))},c||(c=document.getElementsByTagName("head")[0]),c.appendChild(i)}function n(t){return encodeURIComponent(t)}function o(t,e,o,r){var c=(t||"").indexOf("?")===-1?"?":"&",l=void 0,u=s.callbackName||"callback",f=u+"_json"+ ++a,p=Object.assign(e||{},{_input_charset:"utf-8"});for(l in p)p.hasOwnProperty(l)&&(c+=n(l)+"="+n(p[l])+"&");return window[f]=function(t){o(t);try{delete window[f]}catch(t){}window[f]=null},i(""+t+c+u+"="+f,r),f}function r(t){s=t}var a=0,s={},c=void 0;t.exports={get:o,init:r}},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:t||this,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)if(r in e){var a=e[r];t.call(o,a,r,e)&&n.push(a)}return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var r=+e||0;if(Math.abs(r)===1/0&&(r=0),r>=o)return-1;for(i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(i in n&&n[i]===t)return i;i++}return-1}),"function"!=typeof Object.create&&(Object.create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(n){if("object"!=("undefined"==typeof n?"undefined":i(n)))throw TypeError("Object prototype may only be an Object or null");t.prototype=n;var o=new t;if(t.prototype=null,arguments.length>1){var r=Object(arguments[1]);for(var a in r)e.call(r,a)&&(o[a]=r[a])}return o}}())},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=i(2),s=i(1);t.exports=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.ui=i,r.__renderLayout(),r}return r(e,t),e.prototype.__renderLayout=function(){var t=this.ui;return t.config.tpl?(this.$elem=s.HtmlToDom(t.config.tpl),void t.$container.insertBefore(this.$elem,t.dialog.$elem)):void console.log("请在初始化 config 里，配置自定义模板！")},e}(a)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=i(2),s=i(22),c=i(4),l=i(1),u=i(3),f=i(5),p=(["localTest","pretest"].concat(["tb-got_bonus","fetao_pcindex","damai_pc","damai_pc_channel"]),{daily:"//wapp.waptest.taobao.com/alicare/alicarePC.html?",pre:"//wapp.wapa.taobao.com/alicare/alicarePC.html?",beta:"//wapp.m.taobao.com/alicare/alicarePC.html?",prod:"//h5.m.taobao.com/alicare/alicarePC.html?"});t.exports=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.ui=i,r.config=i.config,r.isShow=!1,r.iframeSrc=null,r.__renderDialog(),r.__bindEvents(),r.__setIframeSrc(),r}return r(e,t),e.prototype.__renderDialog=function(){var t=this.ui;this.$elem=l.HtmlToDom(s),this.$dialog=this.$elem.querySelector(".alicare-dialog-wrapper"),this.$iframe=this.$elem.querySelector(".alicare-frame"),this.$iframe.frameBorder=0,t.$container.appendChild(this.$elem)},e.prototype.__setIframeSrc=function(){var t=this.config,e=l.getEnvironment(),i=p[e],n=["from","bu","orderId","activeScroll","robotScene","robotCode","appId","accessToken","needAuthorized"];n.forEach(function(e){t[e]&&(i+="&"+e+"="+encodeURIComponent(t[e]))}),this.iframeSrc=i},e.prototype.__updatePositon=function(){var t=this.ui.$container,e=-8,i=0,n=void 0,o=void 0,r=void 0,a=void 0,s=document.documentElement.clientHeight,c=document.documentElement.clientWidth,u=this.ui.layout?this.ui.layout.clientHeight:0,f=this.ui.layout?this.ui.layout.clientWidth:0,p=this.$elem.clientHeight,h=this.$dialog.clientWidth,d=function(t){return parseInt(t,10)/100},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;return i=l.isPercentage(t)?d(t)*e:parseInt(t,10);
};this.config.dialog&&this.config.dialog.offset&&(i=this.config.dialog.offset.y,i&&i<0&&(e+=i)),t.style.top?(n=g(t.style.top,s),o=s-n-u):t.style.bottom&&(o=g(t.style.bottom,s),n=s-o-u);var m=n+u+4-p;o<-e&&(e=-o),m<0&&(e=m>e?e:m),this.$elem.style.bottom=e+"px",t.style.left?r=g(t.style.left,c):t.style.right&&(a=g(t.style.right,c),r=c-a-f),r<h&&(t.style.left=h+8+"px")},e.prototype.__bindEvents=function(){var t=this.ui,e=this.$elem.querySelector(".alicare-im-close");l.bindEvent(e,"click",t.draggable.wrapClickFunc(function(){t.emit("closeDialog",{isOwnEvent:!0})}))},e.prototype.show=function(t){this.isShow||(!this.$iframe.src&&this.iframeSrc&&(this.$iframe.src=t?this.iframeSrc+"&question="+encodeURIComponent(t):this.iframeSrc),f.showDialog(this.$dialog),this.__updatePositon()),t&&c.sendMessage.call(this.$iframe,t),this.isShow=!0,u.sendLog({d:"open_dialog_"+this.config.type||"weak"})},e.prototype.hide=function(t){var e=this.ui;this.isShow&&f.closeDialog(this.$dialog,t),this.isShow=!1,e.weak&&e.weak.toggleActive(),u.sendLog({d:"close_dialog"})},e}(a)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=i(2),s=i(20),c=i(19),l=i(16),u=i(17),f=i(1),p=i(13),h=i(5),d=i(3);i(26),t.exports=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.config=i,r.__renderContainer(),r.__initDialog(),r.__initLayout(),r.__bindEvent(),r}return r(e,t),e.prototype.__renderContainer=function(){var t=this.config,e=document.createElement("div");e.id="J_xiaomi_dialog",document.body.appendChild(e),e.style.zIndex=t["z-index"]||"999999",this.$container=e,this.__initPosition(),this.__initColor(),this.__initDraggable()},e.prototype.__initDraggable=function(){var t=this.config;t.undraggable?this.draggable={wrapClickFunc:function(t){return t}}:this.draggable=new p({draggerElement:this.$container,maskSelector:".dialog-fake-mask"})},e.prototype.__bindEvent=function(){var t=this;this.on("openDialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isOwnEvent;t.__checkEmit({isOwnEvent:i,emitEvent:t.__openAlicareDialog})}),this.on("closeDialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isOwnEvent,n=e.callback;t.__checkEmit({isOwnEvent:i,callback:n,emitEvent:t.__closeAlicareDialog})}),this.on("message",function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.isOwnEvent;t.__checkEmit({isOwnEvent:n,message:e,emitEvent:t.__openAlicareDialog})}),this.on("toggleDialog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isOwnEvent;t.__checkEmit({isOwnEvent:i,emitEvent:t.__toggleDialog})}),this.once("closeStrong",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isOwnEvent;t.__checkEmit({isOwnEvent:i,emitEvent:t.__changeEnvironment})})},e.prototype.__checkEmit=function(t){var e="customized"===this.config.type,i=t.isOwnEvent,n=t.emitEvent;n&&"function"==typeof n&&(!e&&i?n.call(this,t):e&&n.call(this,t))},e.prototype.__initPosition=function(){var t=this.config,e={},i=["left","right","top","bottom"],n=f.isNumber,o=f.isPercentage,r=function(t){return 0!==parseInt(t||0,10)};if(t.position){for(var a in t.position)if(i.indexOf(a)!==-1){var s=t.position[a];e[a]=parseInt(s,10)<0?0:s}}else if(t.container&&t.container.selector){var c=document.querySelectorAll(t.container.selector)[0];if(!f.isDom(c))return;var l=c.getBoundingClientRect(),u="left"===t.container.align?"right":"left";if(e[u]=l[u]+("left"===u?l.width:0),t.offset||t.container.offset){var p=t.offset||t.container.offset;n(p.x)&&(n(e.left)?e.left+=p.x:e.right-=p.x),n(p.y)&&(n(e.top)?e.top+=p.y:n(e.bottom)?e.bottom-=p.y:e.bottom=50-p.y)}}r(e.left)||r(e.right)||(e.right=40),r(e.top)||r(e.bottom)||(e.bottom=50),r(e.top)&&r(e.bottom)&&(e.bottom=null),r(e.left)&&r(e.right)&&(e.right=null);for(var h in e){var d=e[h];n(d)?this.$container.style[h]=0===d?null:d+"px":o(d)&&(this.$container.style[h]=d)}},e.prototype.__initColor=function(){var t=this.config.color||"#ffb300",e="#J_xiaomi_dialog .J_weak:hover {\n                        border-color: "+t+";\n                        color: "+t+";\n                     }\n                     #J_xiaomi_dialog .J_weak.active {\n                        border-color: "+t+";\n                        background-color: "+t+";\n                     }\n                     #J_xiaomi_dialog .J_weak .xiaomi-avatar {\n                        color: "+t+";\n                     }\n                     #J_xiaomi_dialog .alicare-strong-card {\n                        border-color: "+t+";\n                     }\n                     #J_xiaomi_dialog .alicare-strong-consult {\n                        background-color: "+t+";\n                     }",i=document.createElement("style");i.setAttribute("type","text/css"),i.styleSheet?i.styleSheet.cssText=e:i.innerHTML=e;var n=document.getElementsByTagName("style");n[n.length-1].parentNode.appendChild(i)},e.prototype.__initLayout=function(){var t=this.config,e=t.type,i=t.recommendQuestions;switch(e){case"strong":i&&0!==i.length?this.__initStrong():this.__initWeak();break;case"customized":this.__initCustomized();break;case"weak":default:this.__initWeak()}d.sendLog({d:"init_"+e||"weak"})},e.prototype.__initDialog=function(){this.dialog=new u(this),d.sendLog({d:"init_dialog"})},e.prototype.__initWeak=function(){this.weak=new s(this),this.layout=this.weak.$elem},e.prototype.__initStrong=function(){this.strong=new c(this),this.layout=this.strong.$elem},e.prototype.__initCustomized=function(){this.customized=new l(this),this.layout=this.customized.$elem},e.prototype.__changeEnvironment=function(t){var e=this;this.weak||this.__initWeak(),this.dialog.isShow&&this.__closeAlicareDialog(t),h.changeEnvironment(this.strong.$elem,this.weak.$elem,this.$container,function(){f.remove(e.strong.$elem),delete e.strong})},e.prototype.__openAlicareDialog=function(t){var e=t.message;this.dialog.show(e)},e.prototype.__closeAlicareDialog=function(t){var e=t.callback;this.dialog.hide(e)},e.prototype.__toggleDialog=function(t){this.dialog.isShow?this.__closeAlicareDialog(t):this.__openAlicareDialog(t)},e}(a)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=i(2),s=i(1),c=i(3),l=i(23);t.exports=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.ui=i,r.__renderLayout(),r.__bindEvents(),r}return r(e,t),e.prototype.__renderLayout=function(){var t=this.ui,e="",i=t.config.recommendQuestions;this.$elem=s.HtmlToDom(l),Array.prototype.forEach.call((i||[]).slice(0,5),function(t,i){e+='<li data-id="'+t.knowledgeId+'" data-index="'+(i+1)+'">'+t.question+"</li>"}),this.$elem.querySelector("ul").innerHTML=e,t.$container.insertBefore(this.$elem,t.dialog.$elem)},e.prototype.__bindEvents=function(){var t=this.ui,e=this.$elem,i=e.querySelector(".close-icon");s.bindEvent(i,"click",t.draggable.wrapClickFunc(function(){c.sendLog({d:"change_environment"}),t.emit("closeStrong",{isOwnEvent:!0})}));var n=e.querySelectorAll(".alicare-strong-card ul li");Array.prototype.forEach.call(n||[],function(e){s.bindEvent(e,"click",t.draggable.wrapClickFunc(function(i){var n=i.currentTarget;c.sendLog({d:"click_question",ext:{index:n.dataset.index,knowledgeId:n.dataset.id,forecast:t.config.forecast||1}}),t.emit("message",e.innerHTML,{isOwnEvent:!0})}))});var o=e.querySelector(".alicare-strong-card .alicare-strong-consult");s.bindEvent(o,"click",t.draggable.wrapClickFunc(function(){t.emit("toggleDialog",{isOwnEvent:!0})}))},e}(a)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=i(2),s=i(24),c=i(1);t.exports=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.ui=i,r.__renderLayout(),r.__bindEvents(),r}return r(e,t),e.prototype.__renderLayout=function(){var t=this.ui;this.$elem=c.HtmlToDom(s),t.$container.insertBefore(this.$elem,t.dialog.$elem),this.toggleActive()},e.prototype.toggleActive=function(){var t=this.ui,e=this.$elem;t.dialog.isShow?c.addClass(e,"active"):c.removeClass(e,"active")},e.prototype.__bindEvents=function(){var t=this,e=this.ui;c.bindEvent(this.$elem,"click",e.draggable.wrapClickFunc(function(){e.dialog.isShow?e.emit("closeDialog",{isOwnEvent:!0}):e.emit("openDialog",{isOwnEvent:!0}),t.toggleActive()}))},e}(a)},function(t,e,i){e=t.exports=i(10)(),e.push([t.id,'#J_xiaomi_dialog{position:fixed;font-family:PingFang SC,HEITI SC,Microsoft YaHei,STHeiti Light,sans-serif!important}#J_xiaomi_dialog .J_weak{background-color:#fff;width:56px;text-align:center;padding:8px 0;box-sizing:content-box;border:2px solid #f5f5f5;border-radius:4px;color:#b7b7b7;cursor:pointer}#J_xiaomi_dialog .J_weak:hover{border-color:#ffb300;color:#ffb300}#J_xiaomi_dialog .J_weak.active{border-color:#ffb300;background-color:#ffb300;color:#fff}#J_xiaomi_dialog .J_weak.active .xiaomi-avatar,#J_xiaomi_dialog .J_weak.active:hover{color:#fff}#J_xiaomi_dialog .J_weak .xiaomi-avatar{display:inline-block;margin-bottom:4px;width:32px;height:32px;color:#ffb300}#J_xiaomi_dialog .J_weak .alicare-weak-text{font-size:14px;margin:0;height:17px}#J_xiaomi_dialog .J_weak .alicare-weak-text:first-of-type{position:relative;left:3px}#J_xiaomi_dialog .alicare-strong{position:relative;width:120px}#J_xiaomi_dialog .alicare-strong .close-icon{position:absolute;top:0;right:0;cursor:pointer}#J_xiaomi_dialog .alicare-strong .close-icon svg{display:block}#J_xiaomi_dialog .xiaomi-doll{width:61px;height:84px;margin:0 auto -12px;background:url("https://img.alicdn.com/tfs/TB1yJ1Qw3HqK1RjSZFgXXa7JXXa-119-164.svg");background-size:contain}#J_xiaomi_dialog .alicare-strong-card{background:#fff;border:2px solid #ffb300;border-radius:12px;box-shadow:0 10px 20px 0 rgba(0,0,0,.3)}#J_xiaomi_dialog .alicare-strong-card ul{margin:10px 0 0;padding:0;list-style-type:none}#J_xiaomi_dialog .alicare-strong-card li{padding:5px;color:#333;font-size:12px;transition:.3s}#J_xiaomi_dialog .alicare-strong-card li:nth-child(2n){background:#fff8e8}#J_xiaomi_dialog .alicare-strong-card li:hover{background:#fff0cc;cursor:pointer}#J_xiaomi_dialog .alicare-strong-consult{display:block;width:100%;margin:0;padding:5px 0 3px;border:0;border-radius:0 0 6px 6px;background:#ffb300;color:#fff;font-size:14px;text-align:center;cursor:pointer}#J_xiaomi_dialog .alicare-strong-consult span{vertical-align:middle}#J_xiaomi_dialog .alicare-strong-consult .icon-talk{display:inline-block;width:16px;height:16px;margin-right:5px;vertical-align:middle;fill:currentColor}#J_xiaomi_dialog .J_Dialog{position:absolute;overflow:hidden;display:none;padding:8px;width:724px;height:554px;left:-728px;bottom:-8px;box-sizing:content-box}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper{position:absolute;overflow:hidden;border:2px solid #ddd;border-radius:12px;box-shadow:0 2px 6px 0 rgba(0,0,0,.3)}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper .alicare-fake-header{position:absolute;top:0;width:100%;height:60px}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper .alicare-fake-header .alicare-im-close{position:absolute;top:24px;left:680px;cursor:pointer}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper .alicare-fake-header .alicare-im-close img{display:block;width:21px}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper iframe{display:block;border:none}#J_xiaomi_dialog .J_Dialog .alicare-dialog-wrapper .dialog-fake-mask{background:transparent;width:100%;height:100%;position:absolute;top:0;left:0;visibility:hidden}',""])},function(t,e){t.exports='<div class=J_Dialog><div class=alicare-dialog-wrapper><div class=dialog-fake-mask></div><div class="alicare-fake-header alicare-draggable"><a class=alicare-im-close><img src=//gw.alicdn.com/tps/TB1rdn.OpXXXXbXaXXXXXXXXXXX-21-21.svg></a></div><iframe width=720 height=550 class=alicare-frame name=alicare-dialog></iframe></div></div>'},function(t,e){t.exports='<div class="alicare-strong J_strong"><div class="xiaomi-doll alicare-draggable"><div class=xiaomi-dialog></div><div class=xiaomi-body></div><div class=xiaomi-header></div></div><span class=close-icon><svg width=16 height=16 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd><circle fill=#333 cx=8 cy=8 r=8></circle><g stroke=#FFF stroke-linecap=round stroke-linejoin=round><path d="M5 5l6 6M5 11l6-6"></path></g></g></svg></span><div class=alicare-strong-card><ul></ul><div class=alicare-draggable><button class=alicare-strong-consult type=button><svg class=icon-talk viewbox="0 0 38 38"><path d="M13.8 31.2l1.1.3c1.3.3 2.7.5 4.1.5 8.9 0 16-6.5 16-14.5S27.9 3 19 3 3 9.5 3 17.5c0 3.6 1.5 7.1 4.1 9.7l.9.9v6.2zm.4 3.2L8 37.7c-.3.2-.7.3-1 .3-1.1 0-2-.9-2-2v-6.7C1.9 26.2 0 22 0 17.5 0 7.8 8.5 0 19 0s19 7.8 19 17.5S29.5 35 19 35c-1.7 0-3.3-.2-4.8-.6zm1.3-20.9c0-1.7 1.2-3 3.5-3 2.5 0 3.9 1.7 3.5 3.1-.3 1-.7 1.6-1.8 2.3-.1.1-.6.4-.5.3-1.9 1.3-2.8 2.5-2.8 4.7 0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5c0-1.1.3-1.5 1.5-2.3-.1.1.4-.2.5-.3 1.6-1.1 2.5-2.2 3-4.1.8-3.3-2-6.9-6.5-6.9-4.1 0-6.5 2.7-6.5 6 0 .8.7 1.5 1.5 1.5.9.2 1.6-.5 1.6-1.3zM19 28c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"></path></svg><span>点我提问</span></button></div></div></div>'},function(t,e){t.exports='<div class=J_weak><span class=xiaomi-avatar><svg viewbox="0 0 140 140" xmlns=http://www.w3.org/2000/svg><g fill=currentColor fill-rule=evenodd><path d="M95.008 119.346c16.45-8.633 27.647-25.384 27.647-43.042 0-5.822-.717-10.419-2.23-14.047-3.457-12.333-15.596-21.498-30.044-21.498-7.328 0-14.337 3.46-19.881 7.702-5.544-4.3-12.617-7.702-19.881-7.702-14.383 0-26.55 9.15-30.033 21.469-1.52 3.632-2.241 8.238-2.241 14.076 0 17.658 11.196 34.409 27.647 43.042-.6.868-1.025 1.94-1.275 3.142-.243 1.169-.332 2.501-.281 3.92C22.993 116.939 10 95.722 10 71.069 10 37.59 32.914 10.45 70.5 10.45S131 37.591 131 71.068c0 24.653-12.993 45.87-34.436 55.34.051-1.419-.038-2.751-.281-3.92-.25-1.202-.675-2.274-1.275-3.142z"></path><path d="M72.9 126.127s12.202-5.939 17.745-5.939c5.543 0 2.063 18.812-3.48 18.812-5.542 0-14.822-9.399-14.822-9.399-1.27-1.185-1.009-2.749.557-3.474zm-4.8 0c1.566.725 1.827 2.29.557 3.474 0 0-9.28 9.399-14.823 9.399-5.542 0-9.022-18.812-3.479-18.812s17.745 5.94 17.745 5.94zM44.422 72.87c0-2.15 2.014-3.893 4.502-3.893h.384c2.486 0 4.502 1.745 4.502 3.892v17.3c0 2.149-2.013 3.891-4.502 3.891h-.384c-2.486 0-4.502-1.744-4.502-3.892V72.87zm42.768 0c0-2.15 2.013-3.893 4.502-3.893h.384c2.486 0 4.502 1.745 4.502 3.892v17.3c0 2.149-2.014 3.891-4.502 3.891h-.384c-2.486 0-4.502-1.744-4.502-3.892V72.87zm27.642-53.013c3.825-3.115 5.737-6.594 5.737-10.436C120.569 3.657 118 0 114.832 0c-3.169 0-5.737 3.657-5.737 9.42 0 3.843 1.912 7.322 5.737 10.437zm-88.664 0c3.825-3.115 5.737-6.594 5.737-10.436C31.905 3.657 29.337 0 26.168 0 23 0 20.431 3.657 20.431 9.42c0 3.843 1.912 7.322 5.737 10.437z"></path></g></svg></span><p class=alicare-weak-text>有问题？</p><p class=alicare-weak-text>找小蜜</p></div>'},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=h[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(l(n.parts[r],e))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(l(n.parts[r],e));h[n.id]={id:n.id,refs:1,parts:a}}}}function o(t){for(var e=[],i={},n=0;n<t.length;n++){var o=t[n],r=o[0],a=o[1],s=o[2],c=o[3],l={css:a,media:s,sourceMap:c};i[r]?i[r].parts.push(l):e.push(i[r]={id:r,parts:[l]})}return e}function r(t,e){var i=m(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var i,n,o;if(e.singleton){var r=y++;i=v||(v=s(e)),n=u.bind(null,i,r,!1),o=u.bind(null,i,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=c(e),n=p.bind(null,i),o=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=f.bind(null,i),o=function(){a(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}function u(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function p(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var h={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=d(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,_=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=o(t);return n(i,e),function(t){for(var r=[],a=0;a<i.length;a++){var s=i[a],c=h[s.id];c.refs--,r.push(c)}if(t){var l=o(t);n(l,e)}for(var a=0;a<r.length;a++){var c=r[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete h[c.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var n=i(21);"string"==typeof n&&(n=[[t.id,n,""]]);i(25)(n,{});n.locals&&(t.exports=n.locals)}]);