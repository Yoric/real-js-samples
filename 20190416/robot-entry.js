void 0!=window.KISSY&&KISSY.ready(function(){KISSY.use("dom, event, ajax",function(o,e,t){function i(){if(window.G_RobotConfig&&"tmall"==window.G_RobotConfig.skin||/tmall\.[com|net|org]/.test(window.location.hostname)){var i="";i=o.UA.ie&&6==o.UA.ie?"//gtd.alicdn.com/tps/i1/T1gGb6FkpaXXXomfQu-111-142.png":"//gtd.alicdn.com/tps/i1/T1ZxHWFbheXXXomfQu-111-142.png",k=!0;var s='.g-robot-e .tao-doll, .g-robot-e .close-btn, .g-robot-e .other-question, .g-robot-e h3 i, .g-robot-e .service-question-list li {background-image: url("'+i+'"); background-repeat: no-repeat; } .g-robot-e {position: fixed; _position: absolute; right: 100px; bottom: 20%; z-index: 10002; /**/ width: 39px; height: 39px; } .g-robot-e .tao-doll {display: block; position: relative; height: 86px; cursor: move; /*添加*/ background-position: -37px -100px; width: 39px; } .g-robot-e .close-btn {display: block; position: absolute; top: 16px; right: 20px; padding: 3px; text-decoration: none; /**/ background-position: -74px -124px; width: 12px; height: 12px; } .g-robot-e .service-question-list-wrap {position: absolute; bottom: 25px;_bottom: 70px; right: -5px; width: 218px; background-color: #c41d1d; /**/ border-top-left-radius: 8px; border-top-right-radius: 8px; } .g-robot-e .service-question-list-wrap h3 {margin: 0 0 0 0; height: 45px; line-height: 52px; padding-left: 43px; /**/ background-color: #e8504f; border-top-left-radius: 8px; border-top-right-radius: 8px; } .g-robot-e .service-question-list-wrap .entry-title {display: inline;font-size: 18px; color: white; text-decoration: none; font-family: "fae8f6f96c59ed1,9ed1f53"; cursor: default; outline: none; }.g-robot-e .service-question-list-wrap .entry-title-0{display: none;} .g-robot-e .service-question-list-wrap h3 i {position: absolute; display: block; top: 16px; left: 16px; width: 23px; height: 18px; /**/ background-position: -93px -123px; } .g-robot-e .service-question-list-wrap .other-question {position: absolute; height: 20px; line-height: 20px; font-weight: normal; text-decoration: none; /**/ background-color: #e8504f; background-image: none; width: 188px; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; color: white; font-size: 14px; font-weight: bold; padding: 5px 15px; bottom: -29px; _bottom: -29px; left: 0px; } .g-robot-e .service-question-list-wrap .service-question-list {background: #eaeaea; position: relative; margin: 0 0 0 0; height: 256px; overflow: hidden; } .g-robot-e .service-question-list-wrap .service-question-list ul {position: relative; top: 0; left: 0; list-style: none; margin: 0; padding: 0; } .g-robot-e .service-question-list-wrap .service-question-list li {padding: 5px 20px 5px 15px; margin: 0 3px; border-bottom: 1px dotted #fff; background-position: -75px -144px; } .g-robot-e .service-question-list-wrap .service-question-list a {color: #666; text-decoration: none; } .g-robot-e .service-question-list-wrap-closed {padding: 0 0 35px 0; right: 6px; /**/ background-color: #eaeaea; width: 28px; height: 100px; border-top-left-radius: 5px; border-top-right-radius: 5px; top: -116px; left: 0px; } .g-robot-e .service-question-list-wrap-closed h3 {margin: 0; width: 26px; height: auto; text-align: center; font-size: 12px; line-height: 20px; /**/ padding: 5px 0px; margin: 1px; border-top-left-radius: 5px; border-top-right-radius: 5px; background-color: #fafafa; }.g-robot-e .service-question-list-wrap-closed .entry-title{display: none;}.g-robot-e .service-question-list-wrap-closed .entry-title-0{display:inline;} .g-robot-e .service-question-list-wrap-closed h3 .entry-title {font-size: 14px; cursor: pointer; /**/ color: black; } .g-robot-e .service-question-list-wrap-closed h3 i {left: 7px; /**/ background-position: -7px -83px; width: 15px; height: 15px; top: 100px; } .g-robot-e .service-question-list-wrap-closed .other-question, .g-robot-e .service-question-list-wrap-closed .service-question-list {display: none; } .g-robot-e .service-question-list-wrap-closed .close-btn {display: none; } .service-dd-mask {left: 0; top: 0; width: 100%; height: 100%; cursor: move; position: fixed; z-index: 999999; }'}else var s='.g-robot-e .service-question-list li, .g-robot-e .close-btn, .g-robot-e .panel-corner {background-image: url(//gtd.alicdn.com/tps/i4/T1tQrSXjJhXXctBpjk-58-40.png); background-repeat: no-repeat; } .g-robot-e {position: fixed; _position: absolute; right: 100px; bottom: 20%; width: 75px; height: 84px; z-index: 10002; } .g-robot-e:after {content: "0"; display: block; clear: both; height: 0; visibility: hidden; } .g-robot-e .tao-doll {display: block; position: relative; width: 75px; height: 84px; background-image: url(//gtd.alicdn.com/tps/i3/T18ovTXo4XXXc.pmjn-75-84.png); background-position: 0 0; _background: none; _filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="//gtd.alicdn.com/tps/i3/T18ovTXo4XXXc.pmjn-75-84.png",sizingMethod="image"); cursor: move; } .g-robot-e .service-question-list-wrap {position: absolute; bottom: 52px; right: 17px; padding: 12px 12px; background-color: #fff3da; border: 1px solid #fbcfac; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; } .g-robot-e .service-question-list-wrap h3 {width: 190px; margin: 0 0 0 3px; position: relative; }.g-robot-e .service-question-list-wrap h3 .other-question{margin-left:5px;color:#5382AA;text-decoration:none;font-size:12px;}.g-robot-e .service-question-list-wrap h3 .other-question:hover{text-decoration:underline;color:#F60;} .g-robot-e .service-question-list-wrap h3 .entry-title {font-size: 18px; color: #333; text-decoration: none; font-family: "\\5fae\\8f6f\\96c5\\9ed1,\\9ed1\\4f53"; cursor: default; outline: none; } .g-robot-e .service-question-list-wrap h3 .entry-title:hover {opacity: 1; text-decoration: none; } .g-robot-e .service-question-list-wrap .panel-corner {display: block; position: absolute; width: 41px; height: 24px; right: 60px; bottom: -24px; _font-size: 0; background-position: 0 -13px; } .g-robot-e .service-question-list {position:relative;margin: 5px 0 0 0; width:193px;height: 145px;overflow: hidden;} .g-robot-e .service-question-list ul {position: relative; top:0; margin: 0; padding: 0; list-style: none; } .g-robot-e .service-question-list ul li {width: 185px;overflow: hidden; padding: 5px 0 1px 8px; background-position: -52px -18px; } .g-robot-e .service-question-list ul li a {color: #5382AA; text-decoration: none; } .g-robot-e .service-question-list ul li a:hover {color: #f60; text-decoration: underline; }  .g-robot-e .service-question-list ul li a strong{font-weight: normal;color: red;} .g-robot-e .close-btn {display: block; position: absolute; top: 10px; right: 10px; width: 8px; height: 9px; padding: 3px; background-position: -35px 3px; text-decoration: none; } .g-robot-e .close-btn:hover {background-position: -48px 3px; text-decoration: none; } .g-robot-e .service-question-list-wrap-closed {padding: 0 0 8px 0; right: 42px; }.g-robot-e .service-question-list-wrap-closed h3 .other-question, .g-robot-e .service-question-list-wrap-closed .service-question-list, .g-robot-e .service-question-list-wrap-closed .close-btn {display: none; } .g-robot-e .service-question-list-wrap-closed h3 {margin: 0; width: 26px; padding: 10px 0 8px; text-align: center; } .g-robot-e .service-question-list-wrap-closed h3 .entry-title {font-size: 14px; cursor: pointer; } .g-robot-e .service-question-list-wrap-closed h3 .entry-title:hover {opacity: 0.8; } .g-robot-e .service-question-list-wrap-closed .panel-corner {width: 8px; height: 9px; right: 12px; bottom: -9px; background-position: 0 0; } .g-robot-e .hidden {display: none !important; } .service-dd-mask {left:0;top:0;width: 100%; height: 100%; cursor: move; position: fixed; z-index: 999999; }';e.addStyleSheet(s),c(),d(),h(),t.on(window,"resize",function(){r()}),r(),o.UA.ie&&6==o.UA.ie&&(t.on(window,"scroll",function(){n()}),n())}function n(){var t=e.scrollTop(window)+window.screen.availHeight-222;t-=window.G_RobotConfig&&!o.isUndefined(window.G_RobotConfig.offsetY)?window.G_RobotConfig.offsetY:133,e.get("#J_GlobalRobotEntry").style.bottom="",e.get("#J_GlobalRobotEntry").style.top=E?t+"px":""}function r(){E?(C=document.body.clientWidth||document.documentElement.clientWidth,window.G_RobotConfig&&!o.isUndefined(window.G_RobotConfig.offsetY)&&(e.get("#J_GlobalRobotEntry").style.bottom=window.G_RobotConfig.offsetY+"px"),e.get("#J_GlobalRobotEntry").style.left="left"==J?(C-E)/2-75+"px":E+(C-E)/2+"px"):e.get("#J_GlobalRobotEntry").style.left="",e.get("#J_GlobalRobotEntry").style.top=""}function s(e){if(!e)return!1;var t=e.questions;return o.isArray(t)?(l(t),o.UA&&o.UA.ie&&6==o.UA.ie&&_(),g(),void 0):!1}function l(o){for(var t="",i="",n=0;n<o.length;++n){var r="";r=I+"?source_id="+G+"&init_ques="+encodeURIComponent(decodeURIComponent(o[n].title).replace(/#/g,"")),window.G_RobotConfig&&window.G_RobotConfig.bizMap&&(r+=a(window.G_RobotConfig.bizMap)),i+='<li><a class="J_R_Robot" target="_blank" href="'+r+'" hidefocus title="'+decodeURIComponent(o[n].title).replace(/#/g,"")+'">'+decodeURIComponent(o[n].title).replace(/#(.*)#/,"<strong>$1</strong>")+"</a></li>"}t=""!=i?'<ul class="J_ServiceItemsBox">'+i+"</ul>":"网络错误！",e.get("#J_GlobalRobotEntry .J_ServiceQuestionList").innerHTML=t,e.height(e.get("#J_GlobalRobotEntry .J_ServiceQuestionList"))>e.height(e.get("#J_GlobalRobotEntry .J_ServiceItemsBox"))?(e.get("#J_GlobalRobotEntry .J_ServiceQuestionList").style.height="auto",e.get("#J_GlobalRobotEntry .J_ServiceQuestionList").style.zoom="1",e.get("#J_GlobalRobotEntry .J_ServiceItemsBox").style.top="0",S=!1):S=!0}function a(o){var e="";for(var t in o)e+="&"+t+"="+o[t];return e}function c(){var o='<div id="J_GlobalRobotEntry" class="g-robot-e" data="global robot-entry"><div class="J_ServiceListWrap service-question-list-wrap '+(Q.getItem("robot-close")?"service-question-list-wrap-closed":"")+'"><h3 class="J_Title"><i></i>'+'<a class="entry-title entry-title-0 J_EntryTitle" href="#" hidefocus>'+(1==k?decodeURIComponent("%E5%9C%A8%E7%BA%BF%E5%92%A8%E8%AF%A2"):"")+"</a>"+'<a class="entry-title J_EntryTitle" href="#" hidefocus>'+decodeURIComponent("%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98")+"</a>"+'<a class="other-question J_R_Robot" href="'+I+"?source_id="+G+'" hidefocus target="_blank">'+decodeURIComponent("%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98")+"</a>";o+='</h3><div class="service-question-list J_ServiceQuestionList"><div style="text-align:center;line-height: 100px;"><img src="//gtd.alicdn.com/tps/i3/T1b1m3XkVpXXXXXXXX-32-32.gif" /></div>',o+='</div><s class="panel-corner"></s><a href="#" class="close-btn J_CloseBtn"></a></div><div class="tao-doll J_TaoDoll"></div></div>',document.body.appendChild(e.create(o))}function d(){var i=e.get("#J_GlobalRobotEntry"),n=e.get(".J_ServiceListWrap",i);e.get(".J_Title",i),n&&(t.on(n,"click",function(t){t.halt();var i=t.target;if(e.hasClass(n,"service-question-list-wrap-closed")&&(e.removeClass(n,"service-question-list-wrap-closed"),X=!1,Q.removeItem("robot-close"),R(),L&&clearTimeout(L)),e.hasClass(i,"J_CloseBtn"))e.addClass(n,"service-question-list-wrap-closed"),X=!0,Q.setItem("robot-close","true");else if(e.hasClass(i,"J_R_Robot")||e.hasClass(i=i.parentNode,"J_R_Robot"))if(o.UA&&o.UA.ie&&6==o.UA.ie)A&&A.close&&A.close(),A=window.open(i.getAttribute("href"),decodeURIComponent("%E6%99%BA%E8%83%BD%E6%B7%98%E5%B0%8F%E4%BA%8C"),"width=970,height=580,location=no,resizable=yes,scrollbars=0"),A.focus();else{var r=window.open(i.getAttribute("href"),decodeURIComponent("%E6%99%BA%E8%83%BD%E6%B7%98%E5%B0%8F%E4%BA%8C"),"width=970,height=580,location=no,resizable=yes,scrollbars=0");r.focus()}}),t.on(n,"mouseenter mouseleave",function(o){"mouseenter"==o.type?(b(),L&&clearTimeout(L)):"mouseleave"==o.type&&g()}),t.on(window,"blur",u))}function p(){t.remove(window,"focus",p),t.on(window,"blur",u),g()}function u(){t.remove(window,"blur",u),t.on(window,"focus",p),b()}function g(){if(1==S){b();var o=e.get("#J_GlobalRobotEntry"),t=e.get(".J_ServiceItemsBox",o),i=t.scrollHeight,n=i-e.height(e.get(".J_ServiceQuestionList",o));if(0>=n)return;T=setInterval(function(){D-=z,(Math.abs(D)>=n||D>=0)&&(z=0-z,b(),B=setTimeout(function(){g()},1e3)),t.style.top=D+"px"},U)}}function b(){1==S&&(T&&clearInterval(T),B&&clearTimeout(B))}function f(){window.G_RobotConfig&&window.G_RobotConfig.autoClose&&window.G_RobotConfig.autoClose>0&&(L=setTimeout(function(){var o=e.get("#J_GlobalRobotEntry"),t=e.get(".J_ServiceListWrap",o);e.addClass(t,"service-question-list-wrap-closed"),X=!0,Q.setItem("robot-close","true")},window.G_RobotConfig.autoClose))}function h(){j.box=e.get("#J_GlobalRobotEntry"),j.taoDoll=e.get(".J_TaoDoll",j.box),t.on(j.taoDoll,"mousedown",function(o){o.halt(),x(),j.x=o.pageX,j.y=o.pageY,j.left=parseInt(e.css(j.box,"left"),10),j.top=parseInt(e.css(j.box,"top"),10),v()})}function x(){t.on(document,"mousemove",m),t.on(document,"mouseup",w),o.UA&&o.UA.ie}function w(){t.remove(document,"mousemove",m),t.remove(document,"mouseup",w),y()}function m(o){o.halt(),e.css(j.box,"left",j.left+o.pageX-j.x+"px"),e.css(j.box,"top",j.top+o.pageY-j.y+"px")}function v(){j.mask=e.create('<div class="service-dd-mask"></div>'),document.body&&document.body.appendChild(j.mask)}function y(){j.mask&&(j.mask.onmousemove=null,e.remove(j.mask),j.mask=null)}function _(){var o=e.get("#J_GlobalRobotEntry");t.on(window,"scroll resize",function(){o.className=o.className})}function R(){if(1!=W){W=!0;var e=q+"/robot/question-list-",t="",i="",n=null;G?(t=e+G+".php",i="RobotEntryJSONPCallback"):(t=e+"default.php",i="RobotEntryJSONPCallbackDefault"),n=o.io({type:"get",url:t,dataType:"jsonp",jsonpCallback:i,success:function(o){s(o)},error:function(){o.log("[robot-entry]:机器人入口的sourceId配置有错， 请检查 window.G_RobotSourceId的值！"),t!=e+"default.php"&&o.io({type:"get",url:e+"default.php",dataType:"jsonp",jsonpCallback:"RobotEntryJSONPCallbackDefault",success:function(o){s(o)},error:function(e,t){o.log(t),o.log("网络错误！")}})}})}}var q=location.protocol+"//tms.alicdn.com/go/rgn";if(q=window.G_RobotConfig.robotRgn||q,e=e||o.DOM,t=t||o.Event,e.get("#J_GlobalRobotEntry"))return o.log("more than one robot entry on the page!"),!1;var C="",k=!1,E=null;E=window.G_RobotConfig&&window.G_RobotConfig.mainContentWidth?window.G_RobotConfig.mainContentWidth:e.get("#content")&&e.get("#content").scrollWidth;var G="";window.G_RobotConfig&&window.G_RobotConfig.sourceId&&(G=window.G_RobotConfig.sourceId);var J="right";window.G_RobotConfig&&window.G_RobotConfig.align&&"left"==window.G_RobotConfig.align&&(J="left");var I="http://service.taobao.com/support/minerva/robot.htm",A=null,S=!1,X=!0,T=null,B=null,U=60,z=1,D=0,L=setTimeout(function(){}),j={x:0,y:0,left:0,top:0,mask:null,box:null,taoDoll:null},Q={conn:null,init:function(){if(o.UA)if(window.localStorage)Q.conn=window.localStorage;else try{Q.conn=document.createElement("INPUT"),Q.conn.type="hidden",Q.conn.style.display="none",Q.conn.addBehavior("#default#userData"),document.body.appendChild(Q.conn)}catch(e){return!1}return!0},setItem:function(o,e){if(Q.init(),null!=Q.conn)if(window.localStorage)Q.conn.setItem(o,e);else try{Q.conn.load(location.hostname),Q.conn.setAttribute(o,e),Q.conn.save(location.hostname)}catch(t){return!1}},getItem:function(o){if(Q.init(),null!=Q.conn){if(window.localStorage)return Q.conn.getItem(o);try{return Q.conn.load(location.hostname),Q.conn.getAttribute(o)}catch(e){return""}}},removeItem:function(o){if(Q.init(),null!=Q.conn)if(window.localStorage)Q.conn.removeItem(o);else try{Q.conn.load(location.hostname),Q.conn.removeAttribute(o),Q.conn.save(location.hostname)}catch(e){return!1}}},W=!1;window.G_RobotConfig&&window.G_RobotConfig.defaultClosed===!0?Q.setItem("robot-close","true"):window.G_RobotConfig&&window.G_RobotConfig.forceOpen===!0&&Q.removeItem("robot-close"),i(),Q.getItem("robot-close")||(R(),f())})});