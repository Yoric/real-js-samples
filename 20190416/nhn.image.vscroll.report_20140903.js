/* release date : 2014-09-03 */
nhn.image.vscroll.Report=$Class({$init:function(a){this._htOption=a,this._assign(),this._attachEvent()},_assign:function(){this._elRoot=this._htOption.elRoot,this._elForm=this._htOption.elForm,this._elList=this._htOption.elList,this._elReport=$$("._report",this._elRoot)[0],this._elReportDone=$$("._done",this._elReport)[0],this._elReportButton=$$("._btn",this._elReport)[0],this._elProcess=$$("._process",this._elRoot)[0],this._elOk=$$("._ok",this._elProcess)[0],this._elCancel=$$("._cancel",this._elProcess)[0],this._elNoSelect=$$("._noselect",this._elRoot)[0],this._elClose=$$("._close",this._elNoSelect)[0],this._tpl=new $Template("%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CReportBatchProcess%3E%3Cheader%3E%3CinterfaceId%3EReportProcessBatchReq%3C%2FinterfaceId%3E%3CtransferReqTime%3E20100607155059%3C%2FtransferReqTime%3E%3CtotalReportCnt%3E{=totalReportCnt}%3C%2FtotalReportCnt%3E%3C%2Fheader%3E%3Cbody%3E{for num:obj in oReport}%3Citem+index%3D%22{=num+1}%22%3E%3CschRsltCatDtlCd%3E{=obj.schRsltCatDtlCd}%3C%2FschRsltCatDtlCd%3E%3CschSvcCatDtlCd%3E{=obj.schSvcCatDtlCd}%3C%2FschSvcCatDtlCd%3E%3CsvcDtlCd%3E{=obj.svcDtlCd}%3C%2FsvcDtlCd%3E%3CorgncArtclId%3E{=obj.orgncArtclId}%3C%2ForgncArtclId%3E%3CcntsUrl%3E%3C%21%5BCDATA%5B{=obj.cntsUrl}%5D%5D%3E%3C%2FcntsUrl%3E%3CorgncSvcId%3E{=obj.orgncSvcId}%3C%2ForgncSvcId%3E%3CorgncSvcNm%3E{=obj.orgncSvcNm}%3C%2ForgncSvcNm%3E%3CreportKwdNm%3E%3C%21%5BCDATA%5B{=obj.reportKwdNm}%5D%5D%3E%3C%2FreportKwdNm%3E%3CartclTitle%3E%3C%21%5BCDATA%5B{=obj.artclTitle}%5D%5D%3E%3C%2FartclTitle%3E%3CartclSumryCont%3E{=obj.artclSumryCont}%3C%2FartclSumryCont%3E%3CartclRgstrId%3E{=obj.artclRgstrId}%3C%2FartclRgstrId%3E%3CcntsLstModYmdtc%3E{=obj.cntsLstModYmdtc}%3C%2FcntsLstModYmdtc%3E%3CcntsFstRgstYmdtc%3E{=obj.cntsFstRgstYmdtc}%3C%2FcntsFstRgstYmdtc%3E%3CthmnlImgPath%3E%3C%21%5BCDATA%5B{=obj.thmnlImgPath}%5D%5D%3E%3C%2FthmnlImgPath%3E%3C%2Fitem%3E{/for}%3C%2Fbody%3E%3C%2FReportBatchProcess%3E")},_attachEvent:function(){$Fn(this._onClickReport,this).attach(this._elReportButton,"click"),$Fn(this._onClickOk,this).attach(this._elOk,"click"),$Fn(this._onClickCancel,this).attach(this._elCancel,"click"),$Fn(this._onClickClose,this).attach(this._elClose,"click")},_onClickReport:function(a){this._hideReport(),this._focus($$("input._report",this._elList)[0])},_onClickOk:function(a){var b=$$("input._report:checked",this._elList);b.length===0?(this._toggleNoSelect(!0),this._focus(this._elClose)):(this._report(b),this._showReport(),this._elReportDone.style.display="")},_onClickCancel:function(a){var b=$$("input._report:checked",this._elList);for(var c=0;c<b.length;c++)b[c].checked=!1;this._showReport()},_onClickClose:function(a){$Element(this._elNoSelect).hide(),this._focus(this._elOk)},_showReport:function(){$Element(this._elProcess).hide(),$Element(this._elReportDone).hide(),this._elReport.style.display="",this._toggleNoSelect(!1),this._toggleCheckbox(!1),this._focus(this._elReportButton)},_hideReport:function(){$Element(this._elReport).hide(),$Element(this._elReportDone).hide(),this._elProcess.style.display="",this._toggleNoSelect(!1),this._toggleCheckbox(!0)},_toggleNoSelect:function(a){var b=$Element(this._elNoSelect);a?b.show():b.hide()},_toggleCheckbox:function(a){var b=$$("ul._photowall_list",this._elList);for(var c=0,d=b.length;c<d;c++)a?$Element(b[c]).addClass("report_on"):$Element(b[c]).removeClass("report_on")},_focus:function(a){setTimeout($Fn(function(){a.focus()},this).bind(),100)},_report:function(a){var b={totalReportCnt:0,oReport:[]};for(var c=0,d=a.length;c<d;c++){var e=$Element(a[c]).attr("data-rid"),f=this._htOption.htResult[e];typeof f!="undefined"&&b.oReport.push(f)}b.totalReportCnt=b.oReport.length;if(b.totalReportCnt>0){var g=this._tpl.process(b);this._elForm.sendData.value=g,this._elForm.submit()}}})