var Sharing;(function(n){function f(n,t,i,r,u){if(u===void 0&&(u=0),i)if(n||s==null)if(r>0){var f=u>0?u:550;s=_w.open(t,"shareW","toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width="+f+", height="+r)}else s=_w.open(t,"shareW");else{_w.location.origin||(_w.location.origin=_w.location.protocol+"//"+_w.location.hostname+(_w.location.port?":"+_w.location.port:""));try{s.location.href=t}catch(e){}s.postMessage({source:"sharing",url:t},_w.location.origin)}else _w.sj_lc(t)}function h(n){var t;return n&&_d.querySelector&&(t=Lib.CssClass.contains(n,p)?n:n.querySelector(wt)),t}function ut(n){var t;if(!n)return null;if(t=h(n),t){var i=t.getAttribute("data-ap"),w=i!=null&&i!==""?i:null,r=t.getAttribute("data-cs"),k=r!=null&&r!==""?r:null,u=t.getAttribute("data-fc"),rt=u!=null&&u!==""?JSON.parse(u):b,s=t.getAttribute(bt),ut=s&&JSON.parse(s),f=t.getAttribute(tt),ft=f!=null&&f!==""?f:null,e=t.getAttribute(g)||"",c=t.getAttribute(nt)||"",l=t.getAttribute(ht),a=t.getAttribute(ct),et=l==null?e:l,ot=a==null?c:a,o=t.getAttribute(lt);o=o||e;var st=t.getAttribute("data-mw"),wt=parseInt(st),kt=t.getAttribute("data-mh"),dt=parseInt(kt),v=t.getAttribute(it),gt=!v?null:decodeURIComponent(v),y=t.getAttribute(at),ni=!y?null:y,p=t.getAttribute(vt),ti=p!=null&&p.toLowerCase()==="true",ii=t.getAttribute(yt),ri=t.getAttribute(pt);return{shareKey:t.getAttribute("data-sk").toString(),hash:t.getAttribute(d).toString(),shareTitle:e,shareDescription:c,shareTwitterText:ft,shareEmailSubject:et,shareEmailBody:ot,shareIMText:o,shareHashtags:t.getAttribute("data-sh").toString(),disabledMethods:Number(t.getAttribute("data-dsm").toString()),cropSetting:k,formCodes:rt,shareUrlParameters:ut,additionalParametersFunction:w,maxWidth:wt,maxHeight:dt,urlOverride:gt,customScreenshotUrl:ni,skipScreenshot:ti,screenshotSelector:ii,sharingGuid:ri}}return si}function hi(n,t,i,r,u){var f=h(n);f&&((t||i)&&u&&(t&&f.setAttribute(g,t),i&&f.setAttribute(nt,i),f.setAttribute(d,u)),r&&f.setAttribute(tt,r))}function ci(n,t){var i=h(n);i&&t&&i.setAttribute(it,encodeURIComponent(t))}function li(n,i,r){var u=function(n){!r||n[1]==null||r(n[1]);sj_evt.unbind(w,u)};sj_evt.bind(w,u);sj_evt.fire("ga_share",t[t.GetUrl],n,i)}function ai(n,t){a[n]?a[n].push(t):a[n]=[t]}function vi(n){var t=h(n);return t&&t.getAttribute(rt)=="1"}function yi(n){var t=h(n);t.setAttribute(rt,"1")}function ft(n,t,i){var r=a[t],u;if(r)for(u in r)r[u](n,i)}function pi(n,i){var f,u,e;if(!!i){f=t[i];for(u in n.formCodes)if(n.formCodes.hasOwnProperty(u)&&(e=t[u],e&f))return n.formCodes[u]}return r.defaultFormCode}function wi(n){var t={},e,f,o,u;if(!n||(t[ui]=n),i.sharingGuid&&(t[ri]=i.sharingGuid),i.shareTitle&&i.shareDescription&&i.hash&&(t[kt]=encodeURIComponent(Base64Encoder.stringToBase64(i.shareTitle)),t[dt]=encodeURIComponent(Base64Encoder.stringToBase64(i.shareDescription)),t[ti]=encodeURIComponent(i.hash)),i.customScreenshotUrl&&i.hash&&(t[gt]=encodeURIComponent(Base64Encoder.stringToBase64(i.customScreenshotUrl))),i.cropSetting&&(t[ii]=i.cropSetting),r.isCNEnglishSearch&&(t[fi]="1"),t[ni]=pi(i,n),e=window[i.additionalParametersFunction],e!=null&&typeof e=="function"&&(f=e(),f))for(u in f)f.hasOwnProperty(u)&&(t[u]=f[u]);if(i.shareUrlParameters){o=i.shareUrlParameters;for(u in o)o.hasOwnProperty(u)&&(t[u]=o[u])}return t}function bi(n){var t=_w.getComputedStyle(n),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(n.offsetHeight+i)}function ki(n){var t=_w.getComputedStyle(n),r,i,u;if(t.cssText.length>0)return t.cssText;r=[];for(i in t)"string"==typeof t[i]&&t[i]!=""&&(u=i.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}),r[r.length]=u+": "+t[i]);return r.join("; ")+";"}function c(n,t){var i,u,f,r;ft(1,t);var o=n.cloneNode(!0),s=n.querySelectorAll("canvas"),h=o.querySelectorAll("canvas");for(i=0;i<s.length;i++){u=s[i];f=h[i];try{r=_d.createElement("img");r.src=u.toDataURL();r.style.cssText=ki(u);f.parentNode.replaceChild(r,f)}catch(c){e("CanvasScreenshot",c.message)}}return ft(2,t),o.outerHTML}function et(n,t,i,u,f){var l,o,a,h,p,b;if(n){var s=f.sharingGuid,e="<!DOCTYPE html><html><head>",w=document.getElementsByTagName("style");for(o=0;o<w.length;o++)e+=w[o].outerHTML;if(r.includeStylesheetLink)for(l=document.getElementsByTagName("link"),o=0;o<l.length;o++)a=l[o],a.getAttribute("rel")==="stylesheet"&&(e+=a.outerHTML);h=null;typeof GlobalActions!="undefined"&&(e+="<style>"+GlobalActions.actionDrawerSelector+"{ display: none !important; }<\/style>",h=n.querySelector(GlobalActions.actionDrawerSelector));typeof GlobalActionMenu!="undefined"&&(e+="<style>"+GlobalActionMenu.globalActionMenuSelector+"{ display: none !important; }<\/style>");e+="<style>.b_ans, .b_poleContent { margin: 0 !important; } #b_content, #b_results, #b_pole { margin: 0 !important; padding: 0 !important; } .shareRender .b_shareHide { display: none; }<\/style>";e+="<\/head><body><div id='b_content' style='visibility:visible' class='shareRender'>";Lib.CssClass.contains(n,"b_ans")?e+=n.parentElement&&Lib.CssClass.contains(n.parentElement,"b_poleContent")?Shared.formatString("<div id='b_pole'><div class='b_poleContent'>{0}<\/div><\/div>",c(n,s)):Shared.formatString("<ol id='b_results'>{0}<\/ol>",c(n,s)):Lib.CssClass.contains(n,"b_poleContent")?e+=Shared.formatString("<div id='b_pole'>{0}<\/div>",c(n,s)):Lib.CssClass.contains(n,"b_algo")?e+=Shared.formatString("<ol id='b_results'>{0}<\/ol>",c(n,s)):n.id=="shdlgcanvas"&&(e+=c(n,s));e+="<\/div><\/body><\/html>";var d=isNaN(f.maxWidth)?Number.MAX_VALUE:f.maxWidth,g=Math.min(n.offsetWidth,d),nt=isNaN(f.maxHeight)?Number.MAX_VALUE:f.maxHeight,y=Math.min(n.offsetHeight,nt),tt=parseFloat(_w.getComputedStyle(n).height);tt<1&&(p=n.firstElementChild,p&&(y=p.offsetHeight));b=h===null?y:y-bi(h);v=k(g,b,f.screenshotSelector,t,i,u,e)}else v=k(0,0,"",t,i,u,"")}function e(n,t,r){if(r===void 0&&(r=null),typeof Log!="undefined"){var f=i;if(r!=null&&(f=ut(r)),f==null)return;Log.Log("SocialShare",null,n,!1,"shareKey",f.shareKey,"guid",f.sharingGuid,"stage",u[t],"message",o[t])}}function ot(n,o,s){var c,k=!0,a=0,d=0,h=n.url.replace("http://","https://"),b=location.protocol+"//"+location.hostname+Shared.formatString(r.thumbnailUrlFormat,n.thid),g,nt,p,tt,it,v,y,rt;if(o===t[t.Facebook])g=location.protocol+"//www.bing.com"+r.closeRedirectUrl,c=Shared.formatString(r.facebookShareFormat,encodeURIComponent(h),encodeURIComponent(g),tr(i.shareKey),r.facebookAppId),a=r.fbInitialHeight;else if(o===t[t.FacebookMessenger])nt=location.protocol+"//www.bing.com"+r.closeRedirectUrl,c=Shared.formatString(r.facebookMessengerUrlFormat,r.facebookAppId,encodeURIComponent(h),encodeURIComponent(nt)),a=r.fbInitialHeight;else if(o===t[t.Twitter])y=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.twitterApi,i.shareHashtags,encodeURIComponent(y),encodeURIComponent(h)),a=r.defaultInitialHeight;else if(o===t[t.Pinterest])v=!i.customScreenshotUrl?b:i.customScreenshotUrl,c=Shared.formatString(r.pinterestUrlFormat,encodeURIComponent(h),encodeURIComponent(v),encodeURIComponent(i.shareDescription)),a=r.defaultInitialHeight;else if(o===t[t.OneNote])v=!i.customScreenshotUrl?b:i.customScreenshotUrl,c=Shared.formatString(r.oneNoteUrlFormat,encodeURIComponent(h),encodeURIComponent(v),encodeURIComponent(i.shareTitle),encodeURIComponent(i.shareDescription)),a=r.defaultInitialHeight;else if(o===t[t.Skype])c=Shared.formatString(r.skypeUrlFormat,encodeURIComponent(h),encodeURIComponent(i.shareDescription)),a=r.skypeInitialHeight,d=r.skypeInitialWidth;else if(o===t[t.LinkedIn])c=Shared.formatString(r.linkedInUrlFormat,encodeURIComponent(h),encodeURIComponent(i.shareTitle),encodeURIComponent(i.shareDescription)),a=r.defaultInitialHeight;else if(o===t[t.Email])p=l(i.shareEmailBody,h),c=Shared.formatString(r.mailLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(p)),k=!1;else if(o===t[t.OutlookCom])p=l(i.shareEmailBody,h),c=Shared.formatString(r.outlookComLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(p));else if(o===t[t.Gmail])p=l(i.shareEmailBody,h),c=Shared.formatString(r.gmailLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(p));else if(o===t[t.Sms]){if(r.smsProtocol){var ut=i.shareIMText.replace("%","%25"),ft=l(ut,h),et=Shared.formatString(r.smsProtocol,encodeURIComponent(ft));_w.sj_lc(et);return}}else{if(o===t[t.WhatsApp]){tt=l(i.shareIMText,h);it=Shared.formatString(r.whatsAppSchema,encodeURIComponent(tt));di(it,r.whatsAppStoreUrl);return}o===t[t.GetUrl]?sj_evt.fire(w,h):o===t[t.Weibo]?(v=!i.customScreenshotUrl?b:i.customScreenshotUrl,y=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.weiboShareFormat,encodeURIComponent(y),encodeURIComponent(h),encodeURIComponent(v)),a=r.defaultInitialHeight):o===t[t.Qzone]?(v=!i.customScreenshotUrl?b:i.customScreenshotUrl,y=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.qzoneShareFormat,encodeURIComponent(i.shareTitle),encodeURIComponent(y),encodeURIComponent(h),encodeURIComponent(v)),a=r.defaultInitialHeight):o===t[t.Reddit]&&(rt=i.shareTitle,c=Shared.formatString(r.redditShareFormat,encodeURIComponent(h),encodeURIComponent(rt)))}c&&(e(o,u.Ready),f(!s,c,k,a,d))}function l(n,t){return n.indexOf(ei)!=-1?n.replace(oi,t):Shared.formatString("{0} {1}",n,t)}function di(n,t){var i,e;if(_w.sj_lc(n),!!t)if(r.checkAppInstall=="visibility"){if(typeof _d.hidden!="undefined"?i="hidden":typeof _d.msHidden!="undefined"?i="msHidden":typeof _d.webkitHidden!="undefined"&&(i="webkitHidden"),i)var u=!1,o=10,f=0,s=setInterval(function(){_d[i]&&(u=!0);f++;(u||f>=o)&&(clearInterval(s),u||_w.sj_lc(t))},100)}else r.checkAppInstall=="timeout"&&(e=sb_gt(),setTimeout(function(){var n=sb_gt();n-e-r.checkAppTimeout<100&&_w.sj_lc(t)},r.checkAppTimeout))}function gi(n,t,i){var r=JSON.parse(n);ot(r,t,i)}function k(n,t,i,r,u,f,e){var o="&w="+n+"&h="+t+"&s="+encodeURIComponent(i)+"&sharedUrl="+encodeURIComponent(r);return o+("&urlParams="+encodeURIComponent(JSON.stringify(u))+"&shareType="+f+"&html="+encodeURIComponent(e))}function nr(n){var t=_d.location.href;return n.urlOverride&&(t=n.urlOverride),t}function tr(n){for(var i=n.split("_"),r=[],t=0;t<5&&t<i.length;t++)r.push(i[t].substring(0,15));return r.join(",")}function ir(n){return n===t[t.Twitter]||n===t[t.Email]||n===t[t.Sms]||n===t[t.WhatsApp]||n===t[t.Pinterest]||n===t[t.Skype]||n===t[t.OutlookCom]||n===t[t.Gmail]||n===t[t.GetUrl]||n===t[t.Weibo]||n===t[t.Qzone]}function rr(n,t){var r=n.toLowerCase(),i,u;if(t)for(i in t)t.hasOwnProperty(i)&&r.indexOf("?"+i+"=")===-1&&r.indexOf("&"+i+"=")===-1&&(u=t[i],r+=r.indexOf("?")===-1?"?"+i+"="+u:"&"+i+"="+u);return r}function st(n){var e=n===t[t.Facebook],o=n===t[t.FacebookMessenger],s=n===t[t.Twitter],h=n===t[t.Pinterest],c=n===t[t.Skype],l=n===t[t.LinkedIn],a=n===t[t.OneNote],v=n===t[t.OutlookCom],y=n===t[t.Gmail],p=n===t[t.Weibo],w=n===t[t.Qzone],b=n===t[t.Reddit],i=r.useBlankLoadingPage?"about:blank":r.loadingUrl,u=!0;return e?f(!0,i,!0,r.fbInitialHeight):o?f(!0,i,!0,r.fbInitialHeight,r.fbmInitialWidth):c?f(!0,i,!0,r.skypeInitialHeight,r.skypeInitialWidth):a?f(!0,i,!0,r.oneNoteInitialHeight,r.oneNoteInitialWidth):s||h||l||p||w?f(!0,i,!0,r.defaultInitialHeight):v||y||b?f(!0,i,!0,0):u=!1,u&&r.useBlankLoadingPage&&ur(),u}function ur(){var i=_w.location.protocol+"//"+_w.location.hostname+r.loadingUrl,t=s.window.document,n=t.createElement("iframe");n.src=i;n.style.width="100%";n.style.height="300px";n.style.border="0";t.body.appendChild(n)}function fr(n){var f=n[1],s=n[2],p=null,a,y,o;if(n.length>3&&(p=n[3]),a=p||s,i=ut(a),i!=null){yi(a);var w=f===t[t.Facebook],b=f===t[t.FacebookMessenger],d=f===t[t.Twitter],g=f===t[t.Email],nt=f===t[t.Sms],tt=f===t[t.WhatsApp],it=f===t[t.Pinterest],rt=f===t[t.Skype],ft=f===t[t.LinkedIn],ht=f===t[t.OneNote],ct=f===t[t.OutlookCom],lt=f===t[t.Gmail],at=f===t[t.GetUrl],vt=f===t[t.Weibo],yt=f===t[t.Qzone],pt=f===t[t.Reddit],h=nr(i),c=wi(f),l=i.skipScreenshot||!!i.customScreenshotUrl;if(!ir(f)&&l){var y=st(f),wt=rr(h,c),bt={url:wt,thid:""};ot(bt,f,y);e(f,u.Init);return}(s||l)&&((w||b||d||g||nt||tt||it||rt||ft||ht||ct||lt||at||vt||yt||pt)&&(w||b||d||it||rt||ft||ht||ct||lt||vt||yt||pt?(et(l?null:s,h,c,f,i),y=st(f)):tt||at||g||nt?et(l?null:s,h,c,f,i):v=k(0,0,"",h,c,f,""),o=sj_gx(),o.open("POST",r.screenshotUrl,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){o.readyState===4&&(o.status===200?gi(o.responseText,f,y):e(f,u.Error))},sb_st(function(){o.send(v)},0)),e(f,u.Init))}}function er(n){if(!!n&&n.length>1){var i=n[1];!i||i.success!=!0||e(t[t.Facebook],u.Complete)}}function y(n,t){var u=_d.querySelectorAll(n),f,r,i,e;if(u)for(f="data-initialized",r=0;r<u.length;r++)if(i=u[r],i&&i.parentNode){if(i=i.parentNode,i.getAttribute(f)==="1")continue;i.setAttribute(f,"1");e=function(n){for(var i=n.currentTarget,r=null;i;)if(i=i.parentNode,i&&(r==null&&Lib.CssClass.contains(i,p)&&(r=i),Lib.CssClass.contains(i,"b_ans")||Lib.CssClass.contains(i,"b_poleContent"))){sj_evt.fire("ga_share",t,i,r);break}};sj_be(i,"click",e)}}function or(){y(".b_twic",t[t.Twitter]);y(".b_fbic",t[t.Facebook]);y(".b_smsic",t[t.Sms]);y(".b_waic",t[t.WhatsApp]);sj_evt.bind("ga_share",fr);sj_evt.bind("FacebookShareResult",er)}function sr(n){r==null&&(r=n,b={Facebook:r.facebookFormCode,Twitter:r.twitterFormCode,Email:r.mailFormCode,Weibo:r.weiboFormCode,Qzone:r.qzoneFormCode},o[u.Visible]="Social share is visible.",o[u.Init]="Social share is initiated.",o[u.Ready]="Social share is ready.",o[u.Complete]="Social share is completed.",o[u.Error]="Social share error occurred.",or())}var u,t;(function(n){n[n.Visible=0]="Visible";n[n.Init=1]="Init";n[n.Ready=2]="Ready";n[n.Complete=3]="Complete";n[n.Error=4]="Error"})(u=n.ShareStage||(n.ShareStage={})),function(n){n[n.None=0]="None";n[n.Facebook=1]="Facebook";n[n.Twitter=2]="Twitter";n[n.LinkedIn=4]="LinkedIn";n[n.Email=8]="Email";n[n.Sms=16]="Sms";n[n.WhatsApp=32]="WhatsApp";n[n.Pinterest=64]="Pinterest";n[n.Skype=128]="Skype";n[n.FacebookMessenger=256]="FacebookMessenger";n[n.OneNote=512]="OneNote";n[n.Weibo=1024]="Weibo";n[n.Qzone=2048]="Qzone";n[n.Reddit=4096]="Reddit";n[n.OutlookCom=1073741824]="OutlookCom";n[n.Gmail=536870912]="Gmail";n[n.GetUrl=268435456]="GetUrl";n[n.All=1023]="All"}(t=n.ShareMethods||(n.ShareMethods={}));var d="data-ht",g="data-st",nt="data-sd",tt="data-tt",ht="data-es",ct="data-eb",lt="data-im",it="data-uo",at="data-csu",vt="data-ss",yt="data-sl",pt="data-gd",p="b_sharedata",wt="."+p,bt="data-sp",rt="data-shed",kt="shtk",dt="shdk",gt="shik",ni="form",ti="shhk",ii="shtc",ri="shid",ui="shtp",fi="ensearch",ei="{share-url}",oi=new RegExp("{share-url}","g"),w="ShareResultReady",a={},o={},r=null,b,i=null,v="",s=null,si={shareKey:"",shareTitle:" ",shareDescription:" ",shareEmailSubject:" ",shareEmailBody:" ",shareHashtags:"",hash:"",disabledMethods:t.None,formCodes:b,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE,urlOverride:"",customScreenshotUrl:"",skipScreenshot:!1,screenshotSelector:"",sharingGuid:""};n.logEvent=e;n.initialize=sr;n.updateSharingText=hi;n.updateSharingUrl=ci;n.getSharingUrl=li;n.registerSharingEventHandler=ai;n.hasShared=vi})(Sharing||(Sharing={}))