webpackJsonp([1],[function(e,t){var n=window.parent,o="coral.qq.com",i={"site":"","source":1,"subsource":0,"code":0,"commentNums":10,"listHiden":!1,"reportBtn":!0,"commentLink":!0,"userPop":!0,"hotReply":!0,"userCenter":!0,"sort":!1,"theme":"","ownStyle":"","poke":!1,"removeTitle":!1,"expression":!0},r=n.registerCoralEvent||{},a=$.extend({},i,r);a.code=0,a.site&&(o=a.site+"."+o),a.host="//"+o,i=null,e.exports=a},function(e,t,n){n(6);var o=n(0),i=["哈哈","哭笑","喜欢","哭","嘿嘿","吃惊","嘘","汗","生气","坏笑","大笑","抓狂","机智","衰","奸笑","捂脸","打脸","鬼脸","亲","疑问","愤怒","打电话","顶","蜡烛","心","点赞","二三三","六六六"],r=o.expression,a=document.createElement("div").style,s="backgroundSize"in a,c="animation"in a;e.exports={"formatTime":function(e){if(e){var t=(new Date).getTime()/1e3,n=t-e,o="";if(n<1)o="刚刚";else if(n<60)o=parseInt(n)+"秒钟前";else if(n<3600)o=Math.floor(n/60)+"分钟前";else if(n<86400)o=Math.floor(n/3600)+"小时前";else if(n<604800)o=Math.floor(n/86400)+"天前";else{var i=new Date(1e3*e);o=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()}return o}},"generateToken":function(e){var t=2013;if(e)for(var n=0,o=e.length;n<o;n++)t+=(t<<5)+e.charCodeAt(n);return 2147483647&t},"getTextCount":function(e){return e=$.trim(e||""),e?Math.ceil(e.replace(/[^\x00-\xff]/g,"aa").length/2):0},"refreshIframeHeight":function(){var e=window.parent;if(e!==window){var t=$(document.body).innerHeight(),n=e.document,o=n.getElementById("commentIframe1")||n.getElementById("commentIframe");o&&(o.style.height=t+"px"),e.registerCoralEvent&&e.registerCoralEvent.iframeHeight&&e.registerCoralEvent.iframeHeight()}},"getVipClassName":function(e){var t="";return parseInt(e.hwvip,10)&&(t="icon-"+(e.hwannual?"y":""),t+="vip"+e.hwlevel),t},"removeUrlProtocol":function(e){return e?e.replace(/^http[s]?:/,""):""},"expressionTransImage":function(e){if(!r)return e;if(!e)return"";var t=/\[([\u4e00-\u9fa5]{1,3})\]/g;return e.replace(t,function(e,t){var n=$.inArray(t,i)+1;if(n>0){return'<img src="'+("//mat1.gtimg.com/v/comment/expression/expression_19_"+(n<10?"0"+n:n)+".png")+'" class="comment-expression">'}return e})},"wrapContent":function(e){return e?e.replace(/[\n\r]/g,"<br>"):""},"contentProcessing":function(e){return this.expressionTransImage(this.wrapContent(e))},"parseInt":function(e){return parseInt(e,10)},"log":function(e){window.console&&console.log(e)},"jsonStringify":function(e){return JSON.stringify(e)},"jsonParse":function(e){return JSON.parse(e)},"isSupportBackgroundSize":s,"isSupportAnimation":c}},function(e,t,n){function o(e){u&&(u.remove(),clearTimeout(h)),u=$(p({"text":e,"style":d})),c.append(u);var t=u.width(),n=r.pageYOffset||s.scrollTop||a.documentElement.scrollTop||0;u.css({"opacity":1,"margin-left":"-"+t/2+"px","top":n+(r.innerHeight||a.documentElement.clientHeight)/2-25+"px"}),h=setTimeout(function(){u.animate({"opacity":0},1e3,"linear",function(){$(this).remove()})},2e3)}var i=n(0),r=window===window.top?window:window.top,a=r.document,s=a.body,c=$(s),p=n(15),l=i.theme,m={"dark":"color:#999;background-color:#121216;"},d="",u=$(a.getElementById("J_CommentToast")),h=null;l&&m[l]&&(d+=m[l]),u.remove(),e.exports=o},function(e,t,n){var o=n(0),i=o.host;e.exports=function(e){if(e||e.xhrUrl&&e.path){var t=e.xhrUrl?e.xhrUrl:i+e.path,n=e.xhrData||{},o={"url":t,"dataType":"jsonp","timeout":5e3,"data":n,"success":function(t){0===t.errCode||0===t.code?e.success&&e.success(t.data):e.error&&e.error(t)},"error":function(t){e.error&&e.error(t)}};return e.path&&(o.jsonpCallback="_"+e.path.replace(/\//g,"")),$.ajax(o)}}},function(e,t){e.exports={"moredeepbtn":"查看更多解读","loadingbtn":"加载中...","errormorebtn":"加载失败，点击重新加载","moreshortbtn":"查看更多评论","commentnone":"没有更多评论了","error":"网络错误，请稍后再试..."}},function(e,t,n){n(28);var o=n(0),i=n(1),r=n(3),a=n(36),s=n(37),c=$("#J_Post"),p={"logined":!1,"userInfo":{},"openid":"","appid":"","access_token":"","logintype":"","init":function(){var e=this;this.logoutRender(),window.publicLogined=function(t,n,o){var r=null;r="object"==typeof t?t:{"uin":t,"nick":n,"head":o},e.logintype=r.logintype||"qq",p.logined=!0,c.html(a({"utils":i,"userInfo":r})),e.userInfo=r,e.getUserInfo(),i.refreshIframeHeight()},window.publicLogout=function(){p.logined=!1,e.userInfo={},e.logintype="",e.logoutRender()}},"isLogin":function(){return p.logined},"logoutRender":function(){c.html(s()),i.refreshIframeHeight()},"openLogin":function(){o.loginEvent&&o.loginEvent()},"getKey":function(){return"qq"===this.logintype?$.cookie("skey")||$.cookie("lskey"):this.userInfo.access_token},"getLoginParams":function(){var e=this.logintype,t={"g_tk":i.generateToken(this.getKey())},n=this.userInfo;return"wx"===e?$.extend(t,{"logintype":1,"openid":n.openid,"access_token":n.access_token,"appid":n.appid}):"qq_connect"===e&&$.extend(t,{"logintype":11,"open_openid":n.openid,"open_access_token":n.access_token,"open_appid":n.appid}),t},"getUserInfo":function(e){var t=this,n={"source":o.source};"qq"!==this.logintype&&$.extend(n,this.getLoginParams()),r({"path":"/user/0","xhrData":n,"success":function(n){t.userInfo.userid=n.userid,e&&e(n)},"error":function(e){15===e.errCode&&o.userCenter&&($(document.body).removeClass("center-click"),$("#J_CommentCenter").remove())}})}};p.init(),e.exports=p},,function(e,t){var n="J_CommentIframe";e.exports=function(e,t,o,i){var r=document.getElementById(n),a=document.getElementById("J_CommentForm"),s=document.body;i=i||{},r&&s.removeChild(r),a&&s.removeChild(a),a=document.createElement("form"),a.method="POST",a.enctype="multipart/form-data",a.action=e,a.target=n,a.style.display="none",a.id="J_CommentForm",r=document.createElement("iframe"),r.src='javascript:void(function(){document.open();document.domain="qq.com";document.close();}())',r.style.display="none",r.id=n,r.name=n;var c=o.getLoginParams(i.qqOpenLoginReplaceKey),p={"format":"SCRIPT","failsafe":!1};i.removeMethod||(p._method="put");var l=$.extend({},p,t,c);for(var m in l){var d=document.createElement("input");d.type="hidden",d.name=m,d.value=l[m],a.appendChild(d)}s.appendChild(a),s.appendChild(r),a.submit()}},function(e,t,n){var o=n(0),i=n(1),r=n(31),a=n(32),s=n(33),c=n(12),p=n(34),l=n(13),m=n(14);e.exports={"init":function(e){e.config=o,$("#J_Header").html(r(e)),i.refreshIframeHeight()},"short":function(e){e.config=o,$("#J_Short").html(a(e)),i.refreshIframeHeight()},"shortComment":function(e,t){var n=$("#J_ShortComment");e.utils=i,e.config=o;var r=s(e);t?n.prepend(r):n.append(r),!e.hasnext&&$("#J_Short").append(m()),i.refreshIframeHeight()},"replyBox":function(e,t){e.after(c(t)),i.refreshIframeHeight()},"replyLatest":function(e,t,n){t.utils=i,t.config=o;var r=p(t);n?e.prepend(r):e.append(r),i.refreshIframeHeight()},"commentNone":function(){$(document.body).append(l()),i.refreshIframeHeight()}}},,,function(e,t){var n=window.externalstyle;if(n){var o=window!==window.top?window.top:window,i=o.document.head||o.document.getElementsByTagName("head")[0],r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=n,i.appendChild(r)}},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="reply-box J_ReplyBox" id="J_ReplyBox';return i+=e,i+='"> <div class="reply-box-block"> <textarea class="reply-box-textarea J_ReplyTextArea"></textarea> </div> <div class="reply-box-btn J_ReplyBtn" id="J_ReplyBtn" data-targetid="',i+=t,i+='" data-id="',i+=e,i+='" data-nick="',i+=n||"",i+='" data-userid="',i+=o||"",i+='">回复</div></div>'}(e.id,e.targetid,e.nick,e.userid)}},function(e,t){e.exports=function(e){return function(){return'<p class="comment-none" id="J_CommentNone">暂无评论哦，快来评论一下吧！</p>'}()}},function(e,t){e.exports=function(e){return function(){return'<div class="comment-noMore">没有更多评论了</div>'}()}},function(e,t){e.exports=function(e){return function(e,t){var n='<div id="J_CommentToast" class="comment-toast" style="';return n+=e,n+='"> ',n+=t,n+="</div>"}(e.style,e.text)}},function(e,t,n){var o=n(1),i=n(17),r=n(18),a=window===window.top?window:window.top,s=a.document,c=s.body,p=$(c),l="comment-viewer-list--cur",m={"init":function(){this.event()},"show":function(e,t){if(e&&t){var n=this,r=a.innerHeight||s.documentElement.clientHeight,c=e.length,l=110*c-10;c>1&&n.preloading(e),t=parseInt(t,10);var m=e[t],d={"utils":o,"pictures":e,"picture":m,"image":n.calu(m),"total":c,"cur":t};d.style={"blockHeight":r},d.listStyle={"width":l},p.append(i(d)),this.pictures=e,this.cur=t,this.total=c,this.$list=p.find("#J_PictureViewerList li"),this.$block=p.find("#J_CommentViewerBlock")}},"event":function(){var e=this;p.on("click",".J_CommentViewer",function(){var t=$(this);t.next().remove(),t.remove(),e.images=e.$list=null}),p.on("click",".J_CommentViewerLink",function(e){e.stopPropagation()}),p.on("click",".J_CommentViewerOperate",function(t){var n=e.total;if(t.stopPropagation(),1!==n){var o=e.cur;0===(-1!==this.className.indexOf("left")?0:1)?e.change(0===o?n-1:--o):e.change(o===n-1?0:++o)}}),p.on("click",".J_PictureViewerList li",function(t){var n=$(this),o=n.index();t.stopPropagation(),o!==e.cur&&e.change(o)})},"change":function(e){var t=this,n=t.cur,i=t.pictures[e],a={"utils":o,"picture":i,"image":t.calu(i),"cur":e,"total":t.total};t.$list.eq(n).removeClass(l),t.$list.eq(e).addClass(l),t.$block.html(r(a)),t.cur=e},"calu":function(e){var t=a.innerHeight||s.documentElement.clientHeight,n=a.innerWidth||s.documentElement.clientWidth,o=parseInt(e.width,10),i=parseInt(e.height,10),r=.9*(t-130),c=o,p=i;return i>=r&&(p=r,c=p*o/i),c>=n&&(c=.9*n,p=c*i/o),{"width":Math.floor(c),"height":Math.floor(p)}},"preloading":function(e){e.length>1&&$.each(e,function(e,t){(new Image).src=t.url+"/0"})}};m.init(),e.exports=m},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l){var m='<div class="comment-viewer J_CommentViewer" id="J_CommentViewer" style="height: ';m+=e.blockHeight,m+='px"> <div class="comment-viewer-wp"> <div class="comment-viewer-block',1===t&&(m+=" comment-viewer-only"),m+='" id="J_CommentViewerBlock"> <div class="comment-viewer-image" id="J_CommentViewerImage" style="width: ',m+=n.width,m+="px;height: ",m+=n.height,m+='px;"> <img src="',m+=o.removeUrlProtocol(i.url),m+='/0"> <i class="comment-viewer-left J_CommentViewerOperate"></i> <i class="comment-viewer-right J_CommentViewerOperate"></i> <a class="comment-viewer-link J_CommentViewerLink" href="',m+=o.removeUrlProtocol(i.url),m+='/0" target="_blank"> 查看原图 </a></div> </div> </div> <ul class="comment-viewer-list J_PictureViewerList" style="margin-left: -',m+=r.width/2,m+='px;" id="J_PictureViewerList"> ';for(var s=0,c=a.length;s<c;s++){var l=a[s];m+=" <li ",s===p&&(m+='class="comment-viewer-list--cur"'),m+=' style="background-image: url(',m+=o.removeUrlProtocol(l.url),m+='/100);"         ',s===c-1&&(m+='style="margin-right:0"'),m+="> ",o.isSupportBackgroundSize||(m+=' <img src="',m+=o.removeUrlProtocol(l.url),m+='/100" width="100%" height="100%"> '),m+=" </li> "}return m+=' </ul></div><div class="comment-pop-bg J_CommentViewerBg" id="J_CommentViewerBg" style="height: ',m+=e.blockHeight,m+='px;"></div>'}(e.style,e.total,e.image,e.utils,e.picture,e.listStyle,e.pictures,e.i,e.len,e.cur,e.item)}},function(e,t){e.exports=function(e){return function(e,t,n){var o='<div class="comment-viewer-image" id="J_CommentViewerImage" style="width: ';return o+=e.width,o+="px;height: ",o+=e.height,o+='px;"> <img src="',o+=t.removeUrlProtocol(n.url),o+='/0"> <i class="comment-viewer-left J_CommentViewerOperate"></i> <i class="comment-viewer-right J_CommentViewerOperate"></i> <a class="comment-viewer-link J_CommentViewerLink" href="',o+=t.removeUrlProtocol(n.url),o+='/0" target="_blank"> 查看原图 </a></div>'}(e.image,e.utils,e.picture)}},function(e,t,n){var o=n(1),i=n(2),r=n(20),a=n(21),s=null,c=$("#J_Post"),p=!1,l=null,m={"init":function(e){return s=e,$(document.body).append(r()),this.callback(),this.event(),this},"event":function(){var e=this;c.on("click change",".J_Upload",function(t){return"click"===t.type?e.clickHandle():e.uploadImg($(this))}),c.on("click",".J_ImageDelete",function(){var e=$(this).parent(),t=e.parent(),n=t.children().size();9==n-1&&$("#J_AddImage").show(),e.remove(),2===n&&$("#J_Images").hide(),o.refreshIframeHeight()})},"clickHandle":function(){return!p&&(s.isLogin()?$("#J_Images").children().size()-1>=9?(i("最多上传9张图片哦！"),!1):void 0:(s.openLogin(),!1))},"uploadImg":function(e){var t=this,n=e.val();if(""!==n){if(!s.isLogin())return s.openLogin(),void e.val("");if(!/\.(gif|jpg|jpeg|png)$/i.test(n))return i("图片类型必须是.gif/.jpg/.png"),void e.val("");p=!0;var o=e.parent(),r=o.find(".J_UploadParams"),a=s.getLoginParams(),c="";for(var m in a)c+='<input type="hidden" name="'+m+'" value="'+a[m]+'">';r.html(c),o.submit(),e.val(""),r.html(""),l=setTimeout(function(){t.error()},2e4)}},"getUploading":function(){return p},"callback":function(){window["upLoadImg"]=function(e){var t=e.errCode;if(0===t){var n=$("#J_AddImage"),r=$("#J_Images");n.before(a(e.data.picture[0])),r.show(),o.refreshIframeHeight(),r.children().size()-1>=9&&n.hide()}else i(26===t?"图片不能大于5M！":"图片上传失败，请稍后再试...");p=!1,clearTimeout(l)}},"error":function(){p=!1,i("图片上传失败，请稍后再试...")}};e.exports=m},function(e,t){e.exports=function(e){return function(){return'<iframe id="J_UploadIframe" name="J_UploadIframe" style="display:none"> <script type="text/javascript">document.domain = "qq.com";<\/script></iframe>'}()}},function(e,t){e.exports=function(e){return function(e,t,n){var o='<li class="box-images-pic J_ImagesItem" data-url="';return o+=e,o+='" data-width="',o+=t,o+='" data-height="',o+=n,o+='"> <img src="',o+=e,o+='/100" width="100%" height="100%" /> <div class="box-images-bg"></div> <span class="box-images-delete J_ImageDelete"> <i class="icon-picture_delete"></i> </span></li>'}(e.url,e.width,e.height)}},function(e,t){e.exports=function(e){return function(){return'<div class="reply J_ReplyBlock"> <div class="J_ReplyLatest"></div></div>'}()}},function(e,t,n){var o=n(7),i=n(2),r=n(1),a=n(24),s=$("#J_Short"),c=!1,p="comment-report--click",l=null,m=null,d="",u={"init":function(e){var t=this;m=e,s.on("click",".J_Report",this.show),s.on("click",".J_ReplyReport",this.replyShow),s.on("click",".J_ReportRemove",function(e){e.stopPropagation(),t.close($(this).parent())}),s.on("click",".J_ReportCancel",function(e){e.stopPropagation(),t.close($(this).parent().parent())}),s.on("click",".J_ReportItem li",this.select),s.on("click",".J_ReportConfirm",this.post)},"show":function(){var e=$(this);if(u.judge(e)&&-1===this.className.indexOf(p)){var t=e.parent(),n=t.parent(),o=t.index(),i=n.children().size(),r="",a=e.data("id");o+1===i&&(r="report-revert",0===o&&1===i&&(r+="--first")),u.remove(),d=a,e.addClass(p),u.render(e.parent(),{"targetid":e.data("targetid"),"id":a,"className":r,"type":"comment"})}},"replyShow":function(){var e=$(this),t="report-reply",n=e.data("id");u.judge(e)&&(u.remove(),d=n,$(document.body).height()-e.offset().top<280&&(t+=" report-revert"),u.render(e.parent().parent(),{"targetid":e.data("targetid"),"id":n,"className":t,"type":"reply"}))},"judge":function(e){return!c&&(m.isLogin()?e.attr("data-userid")!==m.userInfo.userid||(i("不能举报自己发表的评论！"),!1):(m.openLogin(),!1))},"render":function(e,t){e.append(a(t))},"remove":function(){""!==d&&(s.find("."+p).removeClass(p),s.find("#J_ReportBlock"+d).remove(),d="")},"close":function(e){e.prev().removeClass(p),e.remove(),d=""},"select":function(e){var t=$(this);e.stopPropagation(),t.parent().children().removeClass("report-item--select"),t.addClass("report-item--select")},"post":function(e){var t=$(this),n=t.parent().parent(),a=n.find(".J_ReportItem .report-item--select");if(e.stopPropagation(),0===a.size())return void i("您必须选择一项才能举报");var s=$.trim(n.find(".J_ReportInput").val());if(s&&r.getTextCount(s)>64)return void i("描述不能超过64个字哦~");var c={"targetid":n.data("targetid"),"type":a.data("id"),"desc":s,"enterapp":"web","commentid":n.data("id"),"callback":"parent.reportComment"};u.callback(),l=setTimeout(function(){u.timeout()},5e3),o("//w.coral.qq.com/report/comment/0",c,m)},"callback":function(){window["reportComment"]=function(e){var t=e.errCode,n="举报失败,请稍后再试...";if(0===t){var o=e.data.commentid;""!==d&&(s.find("#J_ReportBlock"+d).remove(),d="");var r=s.find("#J_Report"+o);if(0!==r.size())r.removeClass(p+" J_Report").addClass("comment-report--visited").html("已举报，正在审核中");else{var a=s.find("#J_ReplyReport"+o);0!==a.size()&&a.removeClass("J_ReplyReport reply-operate-item").html("已举报，正在审核中")}n="举报成功"}else 21===t&&(n="您已经举报过此条评论了...");i(n),clearTimeout(l),c=!1,delete window["reportComment"]}},"timeout":function(){delete window["reportComment"],c=!1,i("举报失败,请稍后再试...")}};e.exports=u},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="report-block J_ReportBlock ';return i+=e,i+='" id="J_ReportBlock',i+=t,i+='" data-targetid="',i+=n,i+='" data-id="',i+=t,i+='" data-type="',i+=o,i+='"> <p class="report-title">举报</p> <div class="report-content"> <p class="report-text">您为什么要举报此信息？</p> </div> <ul class="report-item J_ReportItem"> <li data-id="1">色情淫秽</li> <li data-id="8">骚扰谩骂</li> <li data-id="1024">广告欺诈</li> <li data-id="32">地域攻击</li> <li data-id="0">其他</li> </ul> <p class="report-info">举报说明(可选)</p> <span class="report-remove J_ReportRemove"><i class="report-remove-icon"></i></span> <div class="report-input"> <input type="text" class="J_ReportInput" placeholder="描述恶意行为" /> </div> <div class="report-btn"> <span class="report-btn-cancel J_ReportCancel">取消</span> <span class="report-btn-confirm J_ReportConfirm">确定</span> <i class="report-btn-line"></i> </div></div>'}(e.className,e.id,e.targetid,e.type)}},function(e,t,n){var o=n(0),i=n(3);e.exports={"total":function(e){e&&e.targetid&&(e.path="/article/"+e.targetid+"/commentnum",i(e))},"short":function(e){if(e&&e.targetid){var t={"orinum":e.commentNums||10,"oriorder":e.sort?"t":"o","pageflag":"1","cursor":0,"scorecursor":0,"orirepnum":2,"reporder":"o","reppageflag":1,"source":o.source};e.last&&(t.cursor=e.last),e.xhrData=t,e.path="/article/"+e.targetid+"/comment/v2",i(e)}}}},function(e,t,n){var o=n(41),i=window===window.top?window:window.top,r=i.document,a=r.body,s=$(a);e.exports=function(e){e=e||{};var t=i.innerHeight||r.documentElement.clientHeight,n=r.documentElement.clientWidth,a={"innerHeight":t,"popHeight":parseInt(.9*t,10),"popTop":parseInt(.05*t,10),"popLeft":parseInt((n-800)/2,10)},c=function(){e.beforeClose&&e.beforeClose(r),s.find("#J_CommentUserPopBg").remove(),s.find("#J_CommentPop").remove(),s.off("click",".J_CommentUserPopBg",c),s.off("click",".J_CommentPopClose",c),e.close&&e.close(r),c=null};s.append(o(a)),s.on("click",".J_CommentUserPopBg",c),s.on("click",".J_CommentPopClose",c),e.show&&e.show(r,a)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d,u){for(var h="",t=0,n=e.length;t<n;t++){var o=e[t],l=o.pictures,a=i&&i[o.parent],u=r[o.targetid];if(h+=' <div class="comment-pop-comment"> <div class="comment-pop-content"> <b class="comment-pop-bold"> ',a){var c=s[a.userid];h+=" 回复 ",h+=c.nick,h+="： "}else h+=" 发表评论： ";if(h+=" </b> ",o.content.length<=120?h+=p.expressionTransImage(o.content):(h+=' <span class="comment-pop-content-abstract"> ',h+=o.content.substr(0,120),h+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',h+=p.expressionTransImage(o.content),h+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),h+=" </div> ",l&&l.length>0){h+=' <ul class="comment-pop-images"> ';for(var m=0,d=l.length;m<d;m++)h+=" <li ",m===d-1&&(h+='style="margin-right: 0"'),h+='><img src="',h+=l[m].url,h+='/100" width="100%" height="100%" /></li> ';h+=" </ul> "}a&&(h+=' <p class="comment-pop-reply"> <b class="comment-pop-bold">',h+=c.nick,h+="：</b>",h+=p.expressionTransImage(a.content),u&&(h+=' <span class="comment-pop-reply-line"></span> '),h+=" </p> "),u&&(h+=' <a class="comment-pop-link" href="',h+=u.url,h+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',h+=u.title,h+=" </a> "),h+=' <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',h+=o.up,h+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',h+=o.repnum,h+='</span> <span class="comment-pop-time">',h+=p.formatTime(o.time),h+="</span> </p> </div>"}return h}(e.comments,e.i,e.len,e.item,e.parentComments,e.articles,e.parentinfo,e.users,e.parentUserinfo,e.utils,e.pictures,e.j,e.jLen,e.article)}},,,,function(e,t){e.exports=function(e){return function(e,t){var n="";return e.removeTitle||(n+=' <h1 class="header-title">网友评论</h1>'),n+='<p class="header-protocol">文明上网理性发言，请遵守<a href="http://www.qq.com/coral/coralBeta2/coralinfo.htm" target="_blank">新闻评论服务协议</a></p>',e.commentLink?(n+=' <a class="header-number" href="http://coral.qq.com/',n+=t,n+='"> <i id="J_CommentTotal">--</i>条评论 </a>'):n+=' <p class="header-number"><i id="J_CommentTotal">--</i>条评论</p>',n}(e.config,e.targetid)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i){var r='<div class="comment-title"> <p class="comment-all">全部评论</p> ';return e.userCenter&&(r+=' <div class="comment-center" id="J_CommentCenter"> <span class="comment-center-slash">/</span><span class="comment-my J_userCenter">我的评论</span> </div> '),r+=' <p class="comment-sort"> <span data-targetid="',r+=t,r+='" data-sort="1" class="J_CommentSort ',n&&(r+="comment-sort-cur"),r+='">最新</span> &nbsp/&nbsp <span data-targetid="',r+=t,r+='" data-sort="0" class="J_CommentSort ',n||(r+="comment-sort-cur"),r+='">最热</span> </p></div><div id="J_ShortComment"></div>',o&&(r+='<div class="comment-moreBtn J_shortMore" data-last="',r+=i,r+='" data-targetid="',r+=t,r+='">查看更多评论</div>'),r}(e.config,e.targetid,e.sort,e.hasnext,e.last)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d,u,h,f,v,g,y){for(var b="",t=0,n=e.length;t<n;t++){var o=e[t],c=o.picture,s=i?i[o.userid]:o.userinfo,m=!!r&&r[o.id],h="",y=a.parseInt(o.orireplynum);if(b+='<div class="comment" id="J_Comment',b+=o.id,b+='"> <div class="common-avatar J_User" data-userid="',b+=s.userid,b+='"> <img src="',b+=a.removeUrlProtocol(s.head),b+='" width="100%" height="100%" /> </div> <div class="comment-block" id="J_CommentBlock',b+=o.id,b+='"> <p class="comment-user"> <span class="comment-username J_User" data-userid="',b+=s.userid,b+='"> ',b+=s.nick,b+=' </span> <span class="comment-time">',b+=a.formatTime(o.time),b+='</span> </p> <div class="comment-content J_CommentContent">',b+=a.contentProcessing(o.content),b+="</div> ",c&&c.length>0){if(b+='<ul class="comment-images J_CommentImages" data-picture=',b+=a.jsonStringify(c),b+="> ",1===c.length)b+=' <li data-order="0" style="background-image: url(',b+=a.removeUrlProtocol(c[0].url),b+='/0);"> ',a.isSupportBackgroundSize||(b+=' <img src="',b+=a.removeUrlProtocol(c[0].url),b+='/100" width="100%" height="100%" /> '),b+=" </li> ";else for(var p=0,l=c.length;p<l;p++)b+=' <li data-order="',b+=p,b+='" style="background-image: url(',b+=a.removeUrlProtocol(c[p].url),b+='/100)"> ',a.isSupportBackgroundSize||(b+=' <img src="',b+=a.removeUrlProtocol(c[p].url),b+='/100" width="100%" height="100%" /> '),b+=" </li> ";b+="</ul>"}if(m&&m.length>0){b+=' <div class="reply J_ReplyBlock"> ';for(var p=0,d=m.length;p<d;p++){var u=m[p],c=u.picture,f=i[u.userid];if(h+=u.id+"|",b+=' <div class="reply-block"> <div class="reply-content"> <span class="reply-user"> <b class="reply-user-nick J_User" data-userid="',b+=f.userid,b+='">',b+=f.nick,b+="</b> ",u.parent!==u.rootid&&(b+=' &nbsp;<i class="reply-reply">回复</i>&nbsp; <b class="reply-user-nick J_User" data-userid="',b+=i[u.puserid].userid,b+='">',b+=i[u.puserid].nick,b+="</b> "),b+=" : </span> ",b+=a.contentProcessing(u.content),b+=" </div> ",c&&c.length>0){if(b+='<ul class="comment-images J_CommentImages" data-picture=',b+=a.jsonStringify(c),b+="> ",1===c.length)b+=' <li data-order="0" style="background-image: url(',b+=a.removeUrlProtocol(c[0].url),b+='/0);"> ',a.isSupportBackgroundSize||(b+=' <img src="',b+=a.removeUrlProtocol(c[0].url),b+='/100" width="100%" height="100%" /> '),b+=" </li> ";else for(var p=0,l=c.length;p<l;p++)b+=' <li data-order="',b+=p,b+='" style="background-image: url(',b+=a.removeUrlProtocol(c[p].url),b+='/100)"> ',a.isSupportBackgroundSize||(b+=' <img src="',b+=a.removeUrlProtocol(c[p].url),b+='/100" width="100%" height="100%" /> '),b+=" </li> ";b+="</ul>"}b+=' <div class="reply-operate reply-operate--hot" data-id="',b+=u.id,b+='" data-targetid="',b+=v,b+='"> <span class="J_Vote reply-operate-item reply-up">赞<i>',b+=a.parseInt(u.up)?u.up:"",b+='</i></span> <i class="reply-dot">·</i> ',g.poke&&(b+=' <span class="J_Vote reply-operate-item reply-poke">踩<i>',b+=a.parseInt(u.pokenum)?u.pokenum:"",b+='</i></span> <i class="reply-dot">·</i> '),b+=' <span class="J_Reply reply-operate-item" id="J_Reply',b+=u.id,b+='" data-nick="',b+=f.nick,b+='" data-userid="',b+=f.userid,b+='">回复</span> <i class="reply-dot">·</i> <span>',b+=a.formatTime(u.time),b+='</span> <i class="reply-dot reply-operate-report">·</i> <span class="reply-operate-item reply-operate-report J_ReplyReport" id="J_ReplyReport',b+=u.id,b+='" data-userid="',b+=f.userid,b+='" data-targetid="',b+=v,b+='" data-id="',b+=u.id,b+='">举报</span> </div> </div> '}b+=' <div class="J_ReplyLatest"></div> ',y>m.length&&(b+=' <span class="reply-allBtn J_ReplyMoreBtn" data-targetid="',b+=v,b+='" data-id="',b+=o.id,b+='" data-replyhotid="',b+=h,b+='"> 查看全部',b+=y,b+="条回复 </span> "),b+=" </div> "}else y>0&&(b+=' <div class="J_ReplyBlock"> <div class="J_ReplyLatest"></div> <span class="reply-allBtn J_ReplyMoreBtn" data-targetid="',b+=v,b+='" data-id="',b+=o.id,b+='" data-replyhotid="',b+=h,b+='"> 查看全部',b+=y,b+="条回复 </span> </div> ");b+=' <div class="comment-operate J_CommentOperate clearfix" data-targetid="',b+=v,b+='" data-id="',b+=o.id,b+='"> <span class="J_Vote comment-operate-item comment-operate-up">赞<i>',b+=a.parseInt(o.up)?o.up:"",b+="</i></span> ",g.poke&&(b+=' <span class="J_Vote comment-operate-item comment-operate-poke">踩<i>',b+=a.parseInt(o.pokenum)?o.pokenum:"",b+="</i></span> "),b+=' <span class="J_Reply comment-operate-item comment-operate-reply" id="J_Reply',b+=o.id,b+='"> 回复 </span> </div> </div> <div class="J_Report comment-report" id="J_Report',b+=o.id,b+='" data-userid="',b+=s.userid,b+='" data-targetid="',b+=v,b+='" data-id="',b+=o.id,b+='">举报</div></div>'}return b}(e.oriCommList,e.i,e.len,e.item,e.userList,e.repCommList,e.utils,e.userinfo,e.picture,e.j,e.plen,e.reply,e.rlen,e.ritem,e.replyHotId,e.ruserinfo,e.targetid,e.config,e.orireplynum)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d){var u="";e||(u+='<div class="reply-title"> <p class="reply-title-text">更多回复</p> <span class="reply-title-mark"></span> <div class="reply-title-line"><span></span></div></div><div class="J_ReplyLatestBlock">');for(var n=0,o=t.length;n<o;n++){var i=t[n],a=i.userinfo?i.userinfo:r[i.userid],c=i.picture;if(u+=' <div class="reply-block"> <p class="reply-content"> <span class="reply-user"> <b class="reply-user-nick J_User" data-userid="',u+=a.userid,u+='">',u+=a.nick,u+="</b> ",i.parent!==i.rootid&&(u+=' &nbsp;<i class="reply-reply">回复</i>&nbsp; <b class="reply-user-nick J_User" data-userid="',u+=r[i.puserid].userid,u+='">',u+=r[i.puserid].nick,u+="</b> "),u+=" : </span> ",u+=s.expressionTransImage(i.content),u+=" </p> ",c&&c.length>0){if(u+='<ul class="comment-images J_CommentImages" data-picture=',u+=s.jsonStringify(c),u+="> ",1===c.length)u+=' <li data-order="0" style="background-image: url(',u+=s.removeUrlProtocol(c[0].url),u+='/0);"> ',s.isSupportBackgroundSize||(u+=' <img src="',u+=s.removeUrlProtocol(c[0].url),u+='/100" width="100%" height="100%" /> '),u+=" </li> ";else for(var p=0,l=c.length;p<l;p++)u+=' <li data-order="',u+=p,u+='" style="background-image: url(',u+=s.removeUrlProtocol(c[p].url),u+='/100)"> ',s.isSupportBackgroundSize||(u+=' <img src="',u+=s.removeUrlProtocol(c[p].url),u+='/100" width="100%" height="100%" /> '),u+=" </li> ";u+="</ul>"}u+=' <div class="reply-operate" data-id="',u+=i.id,u+='" data-targetid="',u+=m,u+='"> <span class="J_Vote reply-operate-item reply-up">赞<i>',u+=s.parseInt(i.up)?i.up:"",u+='</i></span> <i class="reply-dot">·</i> ',d.poke&&(u+=' <span class="J_Vote reply-operate-item reply-poke">踩<i>',u+=s.parseInt(i.poke)?i.poke:"",u+='</i></span> <i class="reply-dot">·</i> '),u+=' <span class="J_Reply reply-operate-item" id="J_Reply',u+=i.id,u+='" data-nick="',u+=a.nick,u+='" data-userid="',u+=a.userid,u+='">回复</span> <i class="reply-dot">·</i> <span>',u+=s.formatTime(i.time),u+='</span> <i class="reply-dot reply-operate-report-dot">·</i> <span class="reply-operate-item reply-operate-report J_ReplyReport" id="J_ReplyReport',u+=i.id,u+='" data-userid="',u+=a.userid,u+='" data-targetid="',u+=m,u+='" data-id="',u+=i.id,u+='">举报</span> </div> </div> '}return e||(u+="</div>"),u}(e.hasLatest,e.repCommList,e.i,e.len,e.item,e.userList,e.userinfo,e.utils,e.picture,e.j,e.plen,e.targetid,e.config)}},function(e,t,n){var o=n(25),i=n(4),r=n(8),a=n(16),s=n(1),c=n(2),p=n(0),l=n(3),m=n(5),d=$("#J_Short"),u=p.sort,h=function(e,t){if(t&&0===e.oriCommList.length)return void r.commentNone();t&&(d.html(""),e.sort=u,r["short"](e)),r.shortComment(e)},f={"init":function(e){this.getFirstShort(e),this.event()},"event":function(){var e=this;d.on("click",".J_shortMore",this.getNextShort),d.on("click",".J_Vote",this.vote),d.on("click",".J_ReplyMoreBtn",this.moreReply),d.on("click",".J_CommentSort",function(){e.sortHandle(this)}),$(document.body).on("click",".J_CommentImages li",this.showImages)},"getNextShort":function(){if(!this.fetching){var e=this,t=$(this);e.fetching=!0,t.html(i.loadingbtn),o["short"]({"targetid":t.data("targetid"),"last":t.data("last"),"sort":u,"success":function(n){h(n),t.data("last",n.last),n.hasnext?t.html(i.moreshortbtn):t.remove(),e.fetching=!1},"error":function(){t.text(i.errormorebtn),e.fetching=!1}})}},"getFirstShort":function(e){o["short"]({"targetid":e,"commentNums":p.commentNums,"sort":u,"success":function(e){h(e,!0)}})},"vote":function(){var e=$(this),t=e.parent();if(!t.hasClass("disable")){var n=e.find("i"),o=n.html(),i=!0,r="//w.coral.qq.com/article/comment/up/to/"+t.data("id"),a={};a.targetid=t.data("targetid"),o=o?Number(o):0,o++,-1!==this.className.indexOf("poke")&&(i=!1),!i&&(a.uptype=1),t.addClass("disable"),e.addClass("operate-visited"),n.html(o),$.extend(a,m.getLoginParams()),l({"xhrUrl":r,"xhrData":a})}},"moreReply":function(){if(!this.fetching){var e=this,t=$(this),n={"1":"last","2":"first"},o=n[2],a={"targetid":t.data("targetid"),"reqnum":10,"pageflag":2,"source":p.source};-1!==this.className.indexOf("reply-allBtn")?t.removeClass("reply-allBtn").addClass("reply-moreBtn"):a.cursor=t.data(o),e.fetching=!0,t.html(i.loadingbtn),l({"path":"/comment/"+t.data("id")+"/reply/v2","xhrData":a,"success":function(n){var i=null,a=t.data("replyhotid").split("|"),p=[],l=t.prev(),m=l.find(".J_ReplyLatestBlock"),d=t.parent();if(a.pop(),a.length>0&&($.each(n.repCommList,function(e,t){-1===$.inArray(t.id,a)&&p.push(t)}),n.repCommList=p.reverse()),0===n.repCommList.length)return c("暂无更多回复！"),t.remove(),void s.refreshIframeHeight();0===m.size()?i=l:(i=m,n.hasLatest=!0),t.next().css({"display":"inline-block"}),n.hasnext?(t.html("查看更多回复"),e.fetching=!1):t.remove(),!d.hasClass("reply")&&d.addClass("reply"),r.replyLatest(i,n),t.data(o,n[o])},"error":function(){t.text(i.errormorebtn),e.fetching=!1}})}},"sortHandle":function(e){var t=$(e),n=!!t.data("sort");if(u!==n){var o="comment-sort-cur";u=n,t.parent().find(".J_CommentSort ").removeClass(o),t.addClass(o),this.getFirstShort(e.getAttribute("data-targetid"))}},"showImages":function(){var e=$(this),t=e.parent().data("picture"),n=this.getAttribute("data-order");a.show(t,n)}};e.exports=f},function(e,t){e.exports=function(e){return function(e,t){var n='<div class="common-avatar my-avatar J_userCenter"> ';return e.head&&(n+=' <img src="',n+=t.removeUrlProtocol(e.head),n+='" width="100%" height="100%" /> '),n+='</div><div class="box-content box-login"> <div class="box-textarea-block"> <textarea class="box-textarea J_Textarea" id="J_Textarea" placeholder="说两句吧..."></textarea> </div> <ul class="box-images" id="J_Images"> <li class="box-images-add" id="J_AddImage">+<form class="box-upload-form" action="//upload.coral.qq.com/image/upload" method="post" enctype="multipart/form-data" target="J_UploadIframe"> <input class="box-upload-file J_Upload" type="file" name="picture" accept="image/*"> <input name="type" type="hidden" value="1"> <input name="format" type="hidden" value="SCRIPT"> <input name="_method" type="hidden" value="put"> <input name="code" type="hidden" value="0"> <input name="source" type="hidden" value="1"> <input name="callback" type="hidden" value="parent.upLoadImg"> <div class="J_UploadParams"></div></form></li> </ul> <div class="box-info"> <div class="box-operate"> <span class="box-avatar"> <img src="',n+=t.removeUrlProtocol(e.head),n+='" width="100%" height="100%" /> </span> <b class="box-username">',n+=e.nick,n+='</b> <span class="box-tab J_ChangeUser">切换用户</span> <span class="box-operate-line">|</span> <div class="box-upload J_BoxUpload"> <span class="box-upload-icon J_boxUploadIcon"></span> <form class="box-upload-form" action="//upload.coral.qq.com/image/upload" method="post" enctype="multipart/form-data" target="J_UploadIframe"> <input class="box-upload-file J_Upload" type="file" name="picture" accept="image/*"> <input name="type" type="hidden" value="1"> <input name="format" type="hidden" value="SCRIPT"> <input name="_method" type="hidden" value="put"> <input name="code" type="hidden" value="0"> <input name="source" type="hidden" value="1"> <input name="callback" type="hidden" value="parent.upLoadImg"> <div class="J_UploadParams"></div></form> </div> </div> <div class="box-commentBtn box-commentBtn--able J_PostBtn" id="J_PostBtn">发布评论</div> </div></div>'}(e.userInfo,e.utils)}},function(e,t){e.exports=function(e){return function(){return'<div class="common-avatar"></div><div class="box-content box-logout"> <div class="box-textarea-block"> <textarea class="box-textarea" id="J_Textarea" placeholder="说两句吧..."></textarea> </div> <span class="box-loginBtn J_PostBtn">登录</span></div>'}()}},function(e,t,n){n(6);var o=n(5),i=n(8),r=n(1),a=n(0),s=n(19),c=n(39),p=n(2),l=n(22),m="",d=$("#J_Post"),u=$("#J_Short"),h=null,f=null,v=!1,g=!1,y={"short":{"url":"//w.coral.qq.com/article/comment","callback":"window.parent.shortComment","code":a.code,"source":a.source,"subsource":a.subsource,"type":1},"reply":{"url":"//w.coral.qq.com/article/comment/to/","callback":"window.parent.replyCallback","code":a.code,"source":a.source,"subsource":a.subsource,"type":1}},b={"init":function(e){y["short"].targetid=m=e.targetid,this.event(),this.callback(),s.init(o)},"event":function(){this.replyEvent();d.on("click",".J_PostBtn",b.post),d.on("click",".J_ChangeUser",o.openLogin),d.on("mouseenter",".J_BoxUpload",function(){$(this).find(".J_boxUploadIcon").addClass("box-upload-icon--hover")}),d.on("mouseleave",".J_BoxUpload",function(){$(this).find(".J_boxUploadIcon").removeClass("box-upload-icon--hover")})},"replyEvent":function(){u.on("click",".J_Reply",b.reply),u.on("click",".J_ReplyBtn",b.replyPost)},"post":function(){var e=$("#J_Textarea");if(!o.isLogin())return void o.openLogin();if(!v){var t=$.trim(e.val());if(""===t)return void p("请输入评论内容");if(r.getTextCount(t)>1e3)return void p("短评不能超过1000字哦~");var n=y["short"],i={"content":t},a="",s=b.getImages();s.length>0&&(i.picture=JSON.stringify(s)),a=n.url,$.extend(i,n),delete i.url,v=!0,$(this).html("发布中..."),c(a,i),h=setTimeout(function(){b.timeout()},5e3)}},"callback":function(){var e=this;window["shortComment"]=function(t){var n=t.errCode;if(0===n){if(e.end(),p("发送成功"),a.listHiden)return void r.refreshIframeHeight();var s=t.data,c={"content":s.content,"picture":s.picture,"userinfo":o.userInfo,"id":s.commentid,"time":s.time,"up":0,"pokenum":0},l=$("#J_CommentNone");0!==l.size()&&(l.remove(),i["short"]({"hasnext":!1})),i.shortComment({"targetid":m,"hasnext":!0,"oriCommList":[c]},!0)}else e.end(!0),e.errorToast(n)},window["replyCallback"]=function(t){var n=t.errCode;if(clearTimeout(f),0===t.errCode){var o=t.data;$("#J_ReplyBox"+o.parent).remove(),$("#J_Reply"+o.parent).removeClass("operate-visited").html("回复"),p("回复成功"),e.replySuccessRender(o)}else $("#J_ReplyBtn").text("回复"),e.errorToast(n);g=!1}},"errorToast":function(e){var t="网络错误，请稍后再试...";if(e)switch(e){case 12:t="您的发送频率太高啦！";break;case 14:t="请不要发表重复的评论！";break;case 8:t="登录信息失效，请重新登录！",o.openLogin();break;case 9:case 13:case 16:case 17:t="您无权发表这条评论！"}p(t)},"replySuccessRender":function(e){var t=e.rootid,n=$("#J_CommentBlock"+t),r=n.find(".J_ReplyBlock"),a=!1,s=null,c=null;0===r.size()?(r=$(l()),n.find(".J_CommentOperate").before(r),c=r.find(".J_ReplyLatest")):(!r.hasClass("reply")&&r.addClass("reply"),s=r.find(".J_ReplyLatestBlock"),0===s.size()?c=r.find(".J_ReplyLatest"):(a=!0,c=s));var p={"id":e.commentid,"content":e.content,"up":0,"poke":0,"userinfo":o.userInfo,"parent":e.parent,"rootid":e.rootid,"time":(new Date).getTime()},d={"targetid":m,"hasLatest":a,"repCommList":[p]},u=e.thirdid,h=u.split("|");if(u&&2===h.length){var f=h[1],v={};v[f]={"nick":h[0],"userid":f},d.repCommList[0].puserid=f,d.userList=v}i.replyLatest(c,d,!0)},"getImages":function(){var e=$("#J_Images").find(".J_ImagesItem"),t=[];return e.size()>0&&e.each(function(e,n){var o=$(n);t.push({"url":o.data("url"),"width":o.data("width"),"height":o.data("height")})}),t},"reply":function(){if(!o.isLogin())return void o.openLogin();if(!g){var e=$(this),t=e.parent(),n="J_ReplyVisited",r="operate-visited "+n;e.hasClass(n)?(e.removeClass(r).html("回复"),t.next().remove()):(u.find("."+n).removeClass(r).html("回复"),u.find(".J_ReplyBox").remove(),e.addClass(r).html("收起"),i.replyBox(t,{"id":t.data("id"),"targetid":t.data("targetid"),"nick":e.data("nick")||"","userid":this.getAttribute("data-userid")||""}),t.next().find(".J_ReplyTextArea").focus())}},"replyPost":function(){if(!g){if(!o.isLogin())return void o.openLogin();var e=$(this),t=e.parent().parent(),n=$.trim(t.find(".J_ReplyTextArea").val());if(""===n)return void p("请输入回复内容");if(r.getTextCount(n)>1e3)return void p("回复不能超过1000字哦~");var i=y["reply"],a=i.url+e.data("id");e.html("回复中...");var s={"content":n,"targetid":e.data("targetid")},l=e.data("nick"),m=this.getAttribute("data-userid");l&&m&&(s.thirdid=l+"|"+m),$.extend(s,i),g=!0,delete s.url,f=setTimeout(function(){b.replyTimeout(e)},5e3),c(a,s)}},"replyTimeout":function(e){g=!1,p("回复失败，请稍后再试..."),e.html("回复")},"timeout":function(){this.end(!0),p("网络错误，请稍后再试...")},"end":function(e){$("#J_PostBtn").html("发布评论"),v=!1,clearTimeout(h),e||($("#J_Images").hide().find(".J_ImagesItem").remove(),$("#J_Textarea").val(""))}};e.exports=b},function(e,t,n){var o=n(7),i=n(5);e.exports=function(e,t){o(e,t,i)}},function(e,t,n){n(10);var o=n(0),i=n(1),r=n(3),a=n(26),s=n(4),c=n(2),p=n(42),l=n(27),m=n(43),d="comment-pop-nav-cur",u=0,h=null,f=null,v=null,g=null,y=null,b="",_=!1,C=!1,J=null,k=!1,w=!1,x=[0,0],I={"init":function(e){o.userCenter&&e&&(y=e,$(document.body).addClass("center-click"),this.event())},"event":function(){var e=this;$(document.body).on("click",".J_userCenter",function(){if(!y.isLogin())return y.openLogin(),!1;e.show()})},"show":function(){var e=this;b=y.userInfo.userid,y.isLogin()&&!b||C||(C=!0,e.fetchComment())},"fetchComment":function(e,t){var n=this,o={"commentid":0,"needparent":1,"pageflag":0,"reqnum":10},a=t?$(t):null;a&&a.html(s.loadingbtn),e&&(o.commentid=e),$.extend(o,y.getLoginParams()),g=r({"path":"/user/0/comment/v2","xhrData":o,"success":function(e){e.utils=i,k?(n.moreRender(e,a),e.hasnext?(t.setAttribute("data-last",e.last),a.html(s.moreshortbtn)):(t.className="comment-pop-none",a.html(s.commentnone))):n.popShow(e),_=!1},"error":function(){k?a.html(s.errormorebtn):(C=!1,c(s.error)),_=!1}})},"fetchMessage":function(){if(!_){_=!0;var e={"msgtype":"web","msgid":0,"reqnum":30};$.extend(e,y.getLoginParams()),g=r({"path":"/user/0/msg/v2","xhrData":e,"success":function(e){e.utils=i,v.append(m(e)),J.update("relative"),w=!0,_=!1},"error":function(){_=!1,c(s.error)}})}},"popShow":function(e){var t=this;a({"show":function(n,o){var i=$(n.getElementById("J_CommentPopMain"));k=!0,e.style=o,i.append(p(e));var r=$(n.body).find("#J_CommentPopBlock");r.tinyscrollbar(),J=r.data("plugin_tinyscrollbar"),h=i.find(".J_CommentPopNav span"),f=i.find(".J_CommentCenterBlock"),v=$(n.getElementById("J_CommentCenterMessage")),t.addEvent(n)},"beforeClose":function(e){t.offEvent(e)},"close":t.reset})},"moreRender":function(e,t){e.utils=i,t.prev().append(l(e)),J.update("relative")},"addEvent":function(e){var t=this,n=$(e.body);n.on("click",".J_CommentPopNav span",t.switchNav),n.on("click",".J_CommentPopContentShow",t.contentShow),n.on("click",".J_CommentPopContentHide",t.contentHide),n.on("click",".J_CommentPopMore",t.loadMore)},"offEvent":function(e){var t=this,n=$(e.body);n.off("click",".J_CommentPopNav span",t.switchNav),n.off("click",".J_CommentPopContentShow",t.contentShow),n.off("click",".J_CommentPopContentHide",t.contentHide),n.off("click",".J_CommentPopMore",t.loadMore)},"loadMore":function(){I.fetchComment(this.getAttribute("data-last"),this)},"contentShow":function(){$(this).parent().parent().addClass("comment-pop-content-showAll"),J.update("relative")},"contentHide":function(){$(this).parent().removeClass("comment-pop-content-showAll"),J.update("relative")},"switchNav":function(){var e=$(this);e.hasClass(d)||_||(h.eq(u).removeClass(d),f.eq(u).hide(),x[u]=J?J.contentPosition:0,u^=1,e.addClass(d),f.eq(u).show(),1!==u||w||I.fetchMessage(),J.update(x[u]))},"reset":function(){g.abort(),u=0,b="",x=[0,0],C=_=k=w=!1,g=J=h=f=v=null}};e.exports=I},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="comment-pop-bg J_CommentUserPopBg" id="J_CommentUserPopBg" style="height:';return i+=e,i+='px;"></div><div class="comment-pop" id="J_CommentPop" style="height: ',i+=t,i+="px;top:",i+=n,i+="px;left: ",i+=o,i+='px;"> <div class="comment-pop-close J_CommentPopClose"><i class="comment-pop-icon"></i></div> <div class="comment-pop-main" id="J_CommentPopMain"></div></div>'}(e.innerHeight,e.popHeight,e.popTop,e.popLeft)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d,u,h,f,v,g){var y='<div class="comment-pop-header"> <div class="comment-pop-avatar"> <img src="';y+=e.removeUrlProtocol(t.head),y+='" width="100%" height="100%" /> </div> <div class="comment-pop-userinfo"> <p class="comment-pop-username">',y+=t.nick,y+='</p> <p class="comment-pop-loc">',y+="::"!==t.region?t.region.replace(/:/g," "):"腾讯网友",y+='</p> <p class="comment-pop-total"> <span class="comment-pop-icon comment-pop-icon-up">',y+=t.upnum,y+='</span> <i></i> <span class="comment-pop-icon comment-pop-icon-reply">',y+=t.commentnum,y+='</span> </p> </div></div><ul class="comment-pop-nav J_CommentPopNav"> <li><span class="comment-pop-nav-left comment-pop-nav-cur">我的评论</span></li> <li><span class="comment-pop-nav-right">消息</span></li></ul><div class="comment-pop-block" id="J_CommentPopBlock"> <div class="tinyscrollbar-scrollbar"><div class="tinyscrollbar-track"><div class="tinyscrollbar-thumb"></div></div></div> <div class="tinyscrollbar-viewport" style="height: ',y+=n.popHeight-190,y+='px"> <div class="tinyscrollbar-overview"> <div class="J_CommentCenterBlock"> <div id="J_CommentCenterComment"> ';for(var i=0,r=o.length;i<r;i++){var a=o[i],d=a.pictures,p=s&&s[a.parent],f=c[a.targetid];if(y+=' <div class="comment-pop-comment"> <div class="comment-pop-content"> <b class="comment-pop-bold"> ',p){var m=l[p.userid];y+=" 回复 ",y+=m.nick,y+="： "}else y+=" 发表评论： ";if(y+=" </b> ",a.content.length<=120?y+=e.expressionTransImage(a.content):(y+=' <span class="comment-pop-content-abstract"> ',y+=a.content.substr(0,120),y+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',y+=e.expressionTransImage(a.content),y+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),y+=" </div> ",d&&d.length>0){y+=' <ul class="comment-pop-images"> ';for(var u=0,h=d.length;u<h;u++)y+=" <li ",u===h-1&&(y+='style="margin-right: 0"'),y+='><img src="',y+=d[u].url,y+='/100" width="100%" height="100%" /></li> ';y+=" </ul> "}p&&(y+=' <p class="comment-pop-reply"> <b class="comment-pop-bold">',y+=m.nick,y+="：</b>",y+=e.expressionTransImage(p.content),f&&(y+=' <span class="comment-pop-reply-line"></span> '),y+=" </p> "),f&&(y+=' <a class="comment-pop-link" href="',y+=f.url,y+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',y+=f.title,y+=" </a> "),y+=' <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',y+=a.up,y+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',y+=a.repnum,y+='</span> <span class="comment-pop-time">',y+=e.formatTime(a.time),y+="</span> </p> </div>"}return y+=" </div> ",v?(y+=' <div class="comment-pop-more J_CommentPopMore" data-userid="',y+=t.userid,y+='" data-last="',y+=g,y+='"> 查看更多评论 </div> '):y+=' <div class="comment-pop-none">没有更多评论了</div> ',y+=' </div> <div class="J_CommentCenterBlock" id="J_CommentCenterMessage"></div> </div> </div></div>'}(e.utils,e.usermeta,e.style,e.comments,e.i,e.len,e.item,e.parentComments,e.articles,e.parentinfo,e.users,e.parentUserinfo,e.pictures,e.j,e.jLen,e.article,e.hasnext,e.last)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d,u,h,f,v){var g="";if(e.length>0){for(var t=0,n=e.length;t<n;t++){var o=e[t],r=o.tipstype,u=i[o.targetid];if(3===r){var d=a[o.parent],c=a[o.id],p=s[c.userid];g+=' <div class="comment-pop-message"> <div class="comment-pop-message-left"> <img src="',g+=p.head,g+='" width="100%" height="100%" /> </div> <div class="comment-pop-message-right"> <div class="comment-pop-content"> <b class="comment-pop-bold">',g+=p.nick,g+="</b>&nbsp;回复了你的评论： ",c.content.length<=120?g+=l.expressionTransImage(c.content):(g+=' <span class="comment-pop-content-abstract"> ',g+=c.content.substr(0,120),g+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',g+=l.expressionTransImage(c.content),g+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),g+=' </div> <p class="comment-pop-reply"> <b class="comment-pop-bold">',g+=m.nick,g+="：</b>",g+=l.expressionTransImage(d.content),g+=' <span class="comment-pop-reply-line"></span> </p> <a class="comment-pop-link" href="',g+=u.url,g+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',g+=u.title,g+=' </a> <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',g+=c.up,g+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',g+=c.repnum,g+='</span> <span class="comment-pop-time">',g+=l.formatTime(c.time),g+="</span> </p> </div> </div> "}else if(4===r){var d=a[o.id],h=d.upusers,f=h.length;if(g+=' <div class="comment-pop-message"> <div class="comment-pop-message-left"> <span class="comment-pop-message-icon comment-pop-message-icon-up"></span> </div> <div class="comment-pop-message-right"> <div class="comment-pop-content"> ',f>0){for(var v=0;v<f;v++)h[v]='<b class="comment-pop-upusers">'+s[h[v]].nick+"</b>";g+=h.join("、"),g+="等 "}g+=d.up,g+='人赞了你的评论 </div> <p class="comment-pop-reply"> <b class="comment-pop-bold">',g+=m.nick,g+="：</b>",g+=l.expressionTransImage(d.content),g+=' <span class="comment-pop-reply-line"></span> </p> <a class="comment-pop-link" href="',g+=u.url,g+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',g+=u.title,g+=' </a> <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',g+=d.up,g+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',g+=d.repnum,g+='</span> <span class="comment-pop-time">',g+=l.formatTime(d.time),g+="</span> </p> </div> </div> "}}g+=' <div class="comment-pop-none">没有更多消息了</div>'}else g+=' <p class="comment-pop-content-none">暂无消息</p>';return g}(e.messages,e.i,e.len,e.item,e.articles,e.tipstype,e.comments,e.users,e.reply,e.replyUser,e.utils,e.usermeta,e.comment,e.article,e.upusers,e.count,e.j)}},function(e,t,n){n(10);var o=n(0),i=n(1),r=n(3),a=n(4),s=n(2),c=n(26),p=n(45),l=n(27),m=!1,d=!1,u=null,h=null,f=function(e){if(e&&e.userid){var t={"pageflag":1,"reqnum":10,"needparent":1};return e.last&&(t.commentid=e.last),e.xhrData=t,e.path="/user/"+e.userid+"/comment/v2",r(e)}},v={"init":function(){if(o.userPop){var e=this;$(document.body).addClass("user-click").on("click",".J_User",function(){var t=this.getAttribute("data-userid");t&&e.show(t)})}},"show":function(e){if(!d&&(d=!0,!m)){var t=this;m=!0,h=f({"userid":e,"success":function(e){e.utils=i,t.popShow(e),m=!1},"error":function(){m=d=!1,s(a.error)}})}},"popShow":function(e){var t=this;c({"show":function(n,o){var i=$(n.getElementById("J_CommentPopMain"));e.style=o,i.append(p(e));var r=$(n.body).find("#J_CommentPopBlock");r.tinyscrollbar(),u=r.data("plugin_tinyscrollbar"),t.addEvent(n)},"beforeClose":function(e){t.offEvent(e)},"close":t.reset})},"addEvent":function(e){var t=this,n=$(e.body);n.on("click",".J_CommentPopContentShow",t.contentShow),n.on("click",".J_CommentPopContentHide",t.contentHide),n.on("click",".J_CommentPopMore",t.loadMore)},"offEvent":function(e){var t=this,n=$(e.body);n.off("click",".J_CommentPopContentShow",t.contentShow),n.off("click",".J_CommentPopContentHide",t.contentHide),n.off("click",".J_CommentPopMore",t.loadMore)},"contentShow":function(){$(this).parent().parent().addClass("comment-pop-content-showAll"),u.update("relative")},"contentHide":function(){$(this).parent().removeClass("comment-pop-content-showAll"),u.update("relative")},"loadMore":function(){v.fetchMore(this.getAttribute("data-userid"),this.getAttribute("data-last"),this)},"fetchMore":function(e,t,n){if(!m&&e){var o=this,i=$(n);m=!0,i.html(a.loadingbtn),h=f({"userid":e,"last":t,"success":function(e){m=!1,o.moreRender(e,i),e.hasnext?(n.setAttribute("data-last",e.last),i.html(a.moreshortbtn)):(n.className="comment-pop-none",i.html(a.commentnone))},"error":function(){m=!1,i.html(a.errormorebtn)}})}},"moreRender":function(e,t){e.utils=i,t.prev().append(l(e)),u.update("relative")},"reset":function(){h.abort(),m=d=!1,h=u=null}};v.init()},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,p,l,m,d,u,h,f,v,g){var y='<div class="comment-pop-header"> <div class="comment-pop-avatar"> <img src="';y+=e.removeUrlProtocol(t.head),y+='" width="100%" height="100%" /> </div> <div class="comment-pop-userinfo"> <p class="comment-pop-username">',y+=t.nick,y+='</p> <p class="comment-pop-loc">',y+="::"!==t.region?t.region.replace(/:/g," "):"腾讯网友",y+='</p> <p class="comment-pop-total"> <span class="comment-pop-icon comment-pop-icon-up">',y+=t.upnum,y+='</span> <i></i> <span class="comment-pop-icon comment-pop-icon-reply">',y+=t.commentnum,y+='</span> </p> </div></div><div class="comment-pop-block" id="J_CommentPopBlock"> <div class="tinyscrollbar-scrollbar"><div class="tinyscrollbar-track"><div class="tinyscrollbar-thumb"></div></div></div> <div class="tinyscrollbar-viewport" style="height: ',y+=n.popHeight-160,y+='px"> <div class="tinyscrollbar-overview"> <div class="comment-pop-wp" id="J_CommentPopWp"> ';for(var i=0,r=o.length;i<r;i++){var a=o[i],d=a.pictures,p=s&&s[a.parent],f=c[a.targetid];if(y+=' <div class="comment-pop-comment"> <div class="comment-pop-content"> <b class="comment-pop-bold"> ',p){var m=l[p.userid];y+=" 回复 ",y+=m.nick,y+="： "}else y+=" 发表评论： ";if(y+=" </b> ",a.content.length<=120?y+=e.expressionTransImage(a.content):(y+=' <span class="comment-pop-content-abstract"> ',y+=a.content.substr(0,120),y+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',y+=e.expressionTransImage(a.content),y+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),y+=" </div> ",d&&d.length>0){y+=' <ul class="comment-pop-images"> ';for(var u=0,h=d.length;u<h;u++)y+=" <li ",u===h-1&&(y+='style="margin-right: 0"'),y+='><img src="',y+=d[u].url,y+='/100" width="100%" height="100%" /></li> ';y+=" </ul> "}p&&(y+=' <p class="comment-pop-reply"> <b class="comment-pop-bold">',y+=m.nick,y+="：</b>",y+=e.expressionTransImage(p.content),f&&(y+=' <span class="comment-pop-reply-line"></span> '),y+=" </p> "),f&&(y+=' <a class="comment-pop-link" href="',y+=f.url,y+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',y+=f.title,y+=" </a> "),y+=' <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',y+=a.up,y+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',y+=a.repnum,y+='</span> <span class="comment-pop-time">',y+=e.formatTime(a.time),y+="</span> </p> </div>"}return y+=" </div> ",v?(y+=' <div class="comment-pop-more J_CommentPopMore" data-userid="',y+=t.userid,y+='" data-last="',y+=g,y+='"> 查看更多评论 </div> '):y+=' <div class="comment-pop-none">没有更多评论了</div> ',y+=" </div> </div></div>"}(e.utils,e.usermeta,e.style,e.comments,e.i,e.len,e.item,e.parentComments,e.articles,e.parentinfo,e.users,e.parentUserinfo,e.pictures,e.j,e.jLen,e.article,e.hasnext,e.last)}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(71);var o=n(0),i=n(8),r=n(35),a=n(25),s=n(5),c=n(38),p=n(23),l=n(40);n(11),n(44);var m=window.parent,d=m.cmt_id;d&&(i.init({"targetid":d}),c.init({"targetid":d}),a.total({"targetid":d,"success":function(e){$("#J_CommentTotal").html(e.commentnum)}}),o.theme&&$(document.body).addClass(o.theme),l.init(s),o.listHiden?$("#J_Post").addClass("box-only"):(r.init(d),p.init(s)))},function(e,t){}],[70]);/*  |xGv00|ad629ada18071b279ce470f3288595ab */