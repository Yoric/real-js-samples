!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),module.exports=__webpack_require__(506)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodashToarray,_lodashToarray2=_interopRequireDefault(__webpack_require__(2)),_lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8));Array.from||(Array.from=_lodashToarray2.default),Object.assign||(Object.assign=_lodashAssign2.default)},function(module,exports,__webpack_require__){(function(global){var arrayMap=__webpack_require__(3),keys=__webpack_require__(4),MAX_SAFE_INTEGER=9007199254740991,funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",setTag="[object Set]",stringTag="[object String]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,rsAstralRange="\\ud800-\\udfff",rsComboRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="[\\ud800-\\udfff]",rsCombo="["+"\\u0300-\\u036f\\ufe20-\\ufe23"+"]",rsModifier,rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod="(?:\\ud83c[\\udffb-\\udfff])"+"?",rsOptVar="[\\ufe0e\\ufe0f]?",rsOptJoin,rsSeq=rsOptVar+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reComplexSymbol=RegExp(rsSymbol+rsSeq,"g");function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function stringToArray(string){return string.match(reComplexSymbol)}var objectProto=global.Object.prototype,funcToString=global.Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_Symbol=global.Symbol,iteratorSymbol="symbol"==typeof(iteratorSymbol=_Symbol&&_Symbol.iterator)?iteratorSymbol:void 0,Map=getNative(global,"Map"),Set=getNative(global,"Set"),mapCtorString=Map?funcToString.call(Map):"",setCtorString=Set?funcToString.call(Set):"";function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}var getLength=baseProperty("length");function getNative(object,key){var value=null==object?void 0:object[key];return isNative(value)?value:void 0}function getTag(value){return objectToString.call(value)}(Map&&getTag(new Map)!=mapTag||Set&&getTag(new Set)!=setTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:null,ctorString="function"==typeof Ctor?funcToString.call(Ctor):"";if(ctorString){if(ctorString==mapCtorString)return mapTag;if(ctorString==setCtorString)return setTag}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&!("function"==typeof value&&isFunction(value))&&isLength(getLength(value))}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(funcToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value))}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(iteratorSymbol&&value[iteratorSymbol])return iteratorToArray(value[iteratorSymbol]());var tag=getTag(value),func;return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function values(object){return object?baseValues(object,keys(object)):[]}module.exports=toArray}).call(exports,function(){return this}())},function(module,exports){function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}module.exports=arrayMap},function(module,exports,__webpack_require__){var getNative=__webpack_require__(5),isArguments=__webpack_require__(6),isArray=__webpack_require__(7),reIsUint=/^\d+$/,objectProto,hasOwnProperty=Object.prototype.hasOwnProperty,nativeKeys=getNative(Object,"keys"),MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return null==object?void 0:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}var keys=nativeKeys?function(object){var Ctor=null==object?void 0:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}module.exports=keys},function(module,exports){var funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&"object"==typeof value}var objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=null==object?void 0:object[key];return isNative(value)?value:void 0}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value))}module.exports=getNative},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable;function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}module.exports=isArguments},function(module,exports){var arrayTag="[object Array]",funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&"object"==typeof value}var objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=null==object?void 0:object[key];return isNative(value)?value:void 0}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value))}module.exports=isArray},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf");function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isPrototype(value){var Ctor=value&&value.constructor,proto;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function eq(value,other){return value===other||value!=value&&other!=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}var assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])});function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=assign},,function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ALLOWED_ORIGINS=["www.linkedin.com","pemberly.www.linkedin.com","www.linkedin-ei.com","pemberly.www.linkedin-ei.com","qprod.www.linkedin-ei.com","qprod.www.linkedin.com","cstool.www.linkedin.com","cstool.www.linkedin-ei.com",/^[a-z]{2}\.linkedin(?:-ei)?\.com$/];exports.ALLOWED_ORIGINS=ALLOWED_ORIGINS;var CONTEXT="native-video";exports.CONTEXT=CONTEXT;var DOCUMENT_CONTEXT="native-document";exports.DOCUMENT_CONTEXT=DOCUMENT_CONTEXT;var SCROLLING_DOCUMENT_CONTEXT="scrolling-native-document";exports.SCROLLING_DOCUMENT_CONTEXT=SCROLLING_DOCUMENT_CONTEXT;var A11Y_CONTROL_TEXT_OBJ={videoPlayerContainerA11yAriaLabel:"Video player",bigPlayButtonA11yControlText:"Play video",linkedinLogoLinkA11yControlText:"Visit LinkedIn",backButtonA11yControlText:"Back to start of video",playButtonA11yControlText:"Play video",replayButtonA11yControlText:"Replay video",pauseButtonA11yControlText:"Pause",shareButtonA11yControlText:"Share",volumeOnButtonA11yControlText:"Volume on",volumeOffButtonA11yControlText:"Volume off",fullscreenOnButtonA11yControlText:"Fullscreen on",fullscreenOffButtonA11yControlText:"Fullscreen off",progressSliderA11yControlText:"Playback progress slider",volumeSliderA11yControlText:"Volume slider",volumeSliderAriaValueTextA11yControlText:"Volume",closeModalButtonA11yControlText:"Close share overlay",captionsOnButtonA11yControlText:"Turn closed captions off",captionsOffButtonA11yControlText:"Turn closed captions on"};exports.A11Y_CONTROL_TEXT_OBJ=A11Y_CONTROL_TEXT_OBJ;var VIDEO_DATA={sources:[{src:"/embeds/public/media%2Fclip3300.mp4",type:"video/mp4","data-bitrate":"3300"},{src:"/embeds/public/media%2Fclip500.mp4",type:"video/mp4","data-bitrate":"500"},{src:"/embeds/public/media%2Fclip2000.webm",type:"video/webm","data-bitrate":"2000"}],poster:"/embeds/public/media%2Fposter.jpg"};exports.VIDEO_DATA=VIDEO_DATA;var COVER_PAGES_PORTRAIT={0:{type:"image",config:{src:"https://via.placeholder.com/728x1028?text=page+one"}},1:{type:"image",config:{src:"https://via.placeholder.com/728x1028?text=page+two"}},2:{type:"image",config:{src:"https://via.placeholder.com/728x1028?text=page+three"}},3:{type:"image",config:{src:"https://via.placeholder.com/728x1028?text=page+four"}}};exports.COVER_PAGES_PORTRAIT=COVER_PAGES_PORTRAIT;var COVER_PAGES_LANDSCAPE={0:{type:"image",config:{src:"https://via.placeholder.com/480X200?text=Page%2001%20-%20480X200"}},1:{type:"image",config:{src:"https://via.placeholder.com/480X200?text=Page%2002%20-%20480X200"}},2:{type:"image",config:{src:"https://via.placeholder.com/480X200?text=Page%2003%20-%20480X200"}},3:{type:"image",config:{src:"https://via.placeholder.com/480X200?text=Page%2004%20-%20480X200"}},4:{type:"image",config:{src:"https://via.placeholder.com/480X200?text=Page%2005%20-%20480X200"}}};exports.COVER_PAGES_LANDSCAPE=COVER_PAGES_LANDSCAPE;var DOCUMENT_DATA_A11Y={topbar:{downloadButton:"Download document",cancelButton:"Exit full screen"},toolbarA11y:{fullscreenOnButtonA11yControlText:"Enter full screen. An accessible document viewer is available in full screen mode",fullscreenOffButtonA11yControlText:"Exit full screen",zoomInButtonA11yControlText:"Zoom in",zoomOutButtonA11yControlText:"Zoom out",zoomSelectA11yControlText:"Select zoom value"},accessibilityMode:{embed:"Accessible PDF document"},pagination:{paginationValue:"Current page",paginationLength:"Total pages"},sidepanelLeft:{navButton:"Go to previous page"},sidepanelRight:{navButton:"Go to next page"}};exports.DOCUMENT_DATA_A11Y=DOCUMENT_DATA_A11Y;var DOCUMENT_DATA_I18N={topbar:{accessibilityButtonText:"Accessibility mode"},virusScan:{cancelButtonText:"Cancel",skipButtonText:"Skip",downloadButtonText:"Download",forceProceedButtonText:"Proceed anyways",progressDescriptionText:"Scanning for viruses…",cleanProgressDescriptionText:"Ready to download",timeoutTitle:"Can't scan this document for viruses",dirtyTitle:"This document is not safe",timeoutSubtitle:"We were unable to scan this document for viruses. Would you still like to proceed?",dirtySubtitle:"We detected a virus in this document that could harm your device."}};exports.DOCUMENT_DATA_I18N=DOCUMENT_DATA_I18N;var DOCUMENT_DATA_PORTRAIT={type:"presentation",height:1028,width:728,manifestUrl:null,totalPageCount:10,title:"Portrait document test",subtitle:"20 pages",downloadTitle:"Portrait document test PDF",coverPages:COVER_PAGES_PORTRAIT};exports.DOCUMENT_DATA_PORTRAIT=DOCUMENT_DATA_PORTRAIT;var DOCUMENT_DATA_LANDSCAPE={type:"presentation",height:200,width:480,manifestUrl:"https://s3.amazonaws.com/test-test-test-0531/mastermanifest.json",manifestUrlExpiresAt:Date.now()+366e4,totalPageCount:20,title:"Landscape document test",subtitle:"20 pages",downloadTitle:"Landscape document test PDF",coverPages:COVER_PAGES_LANDSCAPE};exports.DOCUMENT_DATA_LANDSCAPE=DOCUMENT_DATA_LANDSCAPE;var DOCUMENT_DATA_COMPACT_LAYOUT={enableBottombar:!0,authorTitle:"Jane Doe",authorSubtitle:"Software Engineer",authorTitleUrl:"https://www.linkedin.com/in/janedoe123456",inbugUrl:"https://www.linkedin.com/feed/update/urn:li:activity:123456789"};exports.DOCUMENT_DATA_COMPACT_LAYOUT=DOCUMENT_DATA_COMPACT_LAYOUT;var DOCUMENT_TOPBAR_DIVIDER="•";exports.DOCUMENT_TOPBAR_DIVIDER="•";var DOCUMENT_VIRUS_SCAN_STATUSES={CLEAN:"CLEAN",DIRTY:"DIRTY",SCANNING:"SCANNING",ERROR:"ERROR"};exports.DOCUMENT_VIRUS_SCAN_STATUSES=DOCUMENT_VIRUS_SCAN_STATUSES;var VIDEO_CAPTION_SRC="/embeds/public/media%2Fcaption.vtt";exports.VIDEO_CAPTION_SRC=VIDEO_CAPTION_SRC;var ADAPTIVE_SOURCES=[{src:"https://s3.amazonaws.com/_bc_dml/example-content/bipbop-advanced/bipbop_16x9_variant.m3u8",type:"application/x-mpegURL"}];exports.ADAPTIVE_SOURCES=ADAPTIVE_SOURCES;var ADAPTIVE_SOURCES_POSTER="https://media.licdn-ei.com/media/AAIAAf__AAAAAQAAAAAAAADkAAAAJDdjYjQ3ZWU3LTI2NzItNGMzNy04ZjAzLTRjYTVkNjRlN2ZjNw.jpg";exports.ADAPTIVE_SOURCES_POSTER=ADAPTIVE_SOURCES_POSTER;var HIGH_CONTRAST_MODE_CONTROL_TEXT_OBJ={hcmDescriptionLabel:"High Contrast",hcmOnStateLabel:"(On)",hcmOffStateLabel:"(Off)"};exports.HIGH_CONTRAST_MODE_CONTROL_TEXT_OBJ=HIGH_CONTRAST_MODE_CONTROL_TEXT_OBJ;var TOC_TEXT_OBJ={tocTitle:"Document thumbnails",viewA11yText:"View thumbnails",hideA11yText:"Hide thumbnails"};exports.TOC_TEXT_OBJ=TOC_TEXT_OBJ;var PUBLISHING_EMBED_IFRAME_CLASS="publishing-embed-iframe";exports.PUBLISHING_EMBED_IFRAME_CLASS="publishing-embed-iframe";var HIDDEN_CLASS="hidden";exports.HIDDEN_CLASS="hidden";var PUBLISHING_EMBED_WRAPPER_CLASS="universal-embed-container";exports.PUBLISHING_EMBED_WRAPPER_CLASS="universal-embed-container";var PUBLISHING_EMBED_SIMPLE_CONTAINER_CLASS="publishing-embed-simple-container";exports.PUBLISHING_EMBED_SIMPLE_CONTAINER_CLASS="publishing-embed-simple-container";var TWITTER_CONTAINER_SELECTOR=".tweet-container";exports.TWITTER_CONTAINER_SELECTOR=".tweet-container"},function(module,exports,__webpack_require__){(function(global,module){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",uid,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data;return this.__data__[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key),lastIndex;return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key).delete(key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__.delete(key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&("number"!=typeof key||void 0!==value||key in object)||(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys(value):keys(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),result}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value));var pattern}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){if(!isArray(source)&&!isTypedArray(source))var props=baseKeysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(srcValue=source[key=srcValue]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!0)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!0)):newValue=objValue:isCommon=!1),isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array;return arrayReduce(isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map),addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set,isDeep,cloneFunc){var array;return arrayReduce(isDeep?cloneFunc(setToArray(set),!0):setToArray(set),addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getTag=baseGetTag;function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function mergeDefaults(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,void 0,mergeDefaults,stack),stack.delete(srcValue)),objValue}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse;function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function toPlainObject(value){return copyObject(value,keysIn(value))}var defaultsDeep=baseRest(function(args){return args.push(void 0,mergeDefaults),apply(mergeWith,void 0,args)});function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});function stubArray(){return[]}function stubFalse(){return!1}module.exports=defaultsDeep}).call(exports,function(){return this}(),__webpack_require__(12)(module))},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}},,,function(module,exports,__webpack_require__){
/*! Player.js - v0.1.19 - 2018-04-09
	* Copyright (c) 2018 Embedly; Licensed , , , , , , , , , , ,  */
!function(window){var playerjs={},global;function createPrototypeFunction(name){return function(){var data={method:name},args=Array.prototype.slice.call(arguments);/^get/.test(name)?(playerjs.assert(args.length>0,"Get methods require a callback."),args.unshift(data)):(/^set/.test(name)&&(playerjs.assert(0!==args.length,"Set methods require a value."),data.value=args[0]),args=[data]),this.send.apply(this,args)}}playerjs.DEBUG=!1,playerjs.VERSION="0.0.12",playerjs.CONTEXT="player.js",playerjs.POST_MESSAGE=!!window.postMessage,playerjs.origin=function(url){return"//"===url.substr(0,2)&&(url=window.location.protocol+url),url.split("/").slice(0,3).join("/")},playerjs.addEvent=function(elem,type,eventHandle){elem&&(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent?elem.attachEvent("on"+type,eventHandle):elem["on "+type]=eventHandle)},playerjs.removeEvent=function(elem,type,eventHandle){elem&&(elem.removeEventListener?elem.removeEventListener(type,eventHandle,!1):elem.detachEvent?elem.detachEvent("on"+type,eventHandle):elem["on"+type]=null)},playerjs.log=function(){playerjs.log.history=playerjs.log.history||[],playerjs.log.history.push(arguments),window.console&&playerjs.DEBUG&&window.console.log(Array.prototype.slice.call(arguments))},playerjs.isString=function(obj){return"[object String]"===Object.prototype.toString.call(obj)},playerjs.isObject=function(obj){return"[object Object]"===Object.prototype.toString.call(obj)},playerjs.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},playerjs.isNone=function(obj){return null==obj},playerjs.has=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)},playerjs.indexOf=function(array,item){if(null==array)return-1;var i=0,length=array.length;if(Array.prototype.IndexOf&&array.indexOf===Array.prototype.IndexOf)return array.indexOf(item);for(;i<length;i++)if(array[i]===item)return i;return-1},playerjs.assert=function(test,msg){if(!test)throw msg||"Player.js Assert Failed"},playerjs.Keeper=function(){this.init()},playerjs.Keeper.prototype.init=function(){this.data={}},playerjs.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v;return("x"===c?r:3&r|8).toString(16)})},playerjs.Keeper.prototype.has=function(event,id){if(!this.data.hasOwnProperty(event))return!1;if(playerjs.isNone(id))return!0;for(var events=this.data[event],i=0;i<events.length;i++)if(events[i].id===id)return!0;return!1},playerjs.Keeper.prototype.add=function(id,event,cb,ctx,one){var d={id:id,event:event,cb:cb,ctx:ctx,one:one};this.has(event)?this.data[event].push(d):this.data[event]=[d]},playerjs.Keeper.prototype.execute=function(event,id,data,ctx){if(!this.has(event,id))return!1;for(var keep=[],execute=[],i=0;i<this.data[event].length;i++){var d=this.data[event][i];playerjs.isNone(id)||!playerjs.isNone(id)&&d.id===id?(execute.push({cb:d.cb,ctx:d.ctx?d.ctx:ctx,data:data}),!1===d.one&&keep.push(d)):keep.push(d)}0===keep.length?delete this.data[event]:this.data[event]=keep;for(var n=0;n<execute.length;n++){var e=execute[n];e.cb.call(e.ctx,e.data)}},playerjs.Keeper.prototype.on=function(id,event,cb,ctx){this.add(id,event,cb,ctx,!1)},playerjs.Keeper.prototype.one=function(id,event,cb,ctx){this.add(id,event,cb,ctx,!0)},playerjs.Keeper.prototype.off=function(event,cb){var listeners=[];if(!this.data.hasOwnProperty(event))return listeners;for(var keep=[],i=0;i<this.data[event].length;i++){var data=this.data[event][i];playerjs.isNone(cb)||data.cb===cb?playerjs.isNone(data.id)||listeners.push(data.id):keep.push(data)}return 0===keep.length?delete this.data[event]:this.data[event]=keep,listeners},playerjs.Player=function(elem,options){if(!(this instanceof playerjs.Player))return new playerjs.Player(elem,options);this.init(elem,options)},playerjs.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},playerjs.EVENTS.all=function(){var all=[];for(var key in playerjs.EVENTS)playerjs.has(playerjs.EVENTS,key)&&playerjs.isString(playerjs.EVENTS[key])&&all.push(playerjs.EVENTS[key]);return all},playerjs.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},playerjs.METHODS.all=function(){var all=[];for(var key in playerjs.METHODS)playerjs.has(playerjs.METHODS,key)&&playerjs.isString(playerjs.METHODS[key])&&all.push(playerjs.METHODS[key]);return all},playerjs.READIED=[],playerjs.Player.prototype.init=function(elem,options){var self=this;playerjs.isString(elem)&&(elem=document.getElementById(elem)),this.elem=elem,this.origin=playerjs.origin(elem.src),this.keeper=new playerjs.Keeper,this.isReady=!1,this.queue=[],this.events=playerjs.EVENTS.all(),this.methods=playerjs.METHODS.all(),this._boundReceive=function(e){this.receive(e)}.bind(this),playerjs.POST_MESSAGE?playerjs.addEvent(window,"message",this._boundReceive):playerjs.log("Post Message is not Available."),playerjs.indexOf(playerjs.READIED,elem.src)>-1?self.loaded=!0:this.elem.onload=function(){self.loaded=!0}},playerjs.Player.prototype.send=function(data,callback,ctx){if(data.context=playerjs.CONTEXT,data.version=playerjs.VERSION,callback){if(!this.keeper)return!1;var id=this.keeper.getUUID();data.listener=id,this.keeper.one(id,data.method,callback,ctx)}return this.isReady||"ready"===data.value?(playerjs.log("Player.send",data,this.origin),!0===this.loaded&&this.elem.contentWindow&&this.elem.contentWindow.postMessage(JSON.stringify(data),this.origin),!0):(playerjs.log("Player.queue",data),this.queue.push(data),!1)},playerjs.Player.prototype.receive=function(e){if(playerjs.log("Player.receive",e),e.origin!==this.origin)return!1;var data;try{data=JSON.parse(e.data)}catch(err){return!1}if(data.context!==playerjs.CONTEXT)return!1;"ready"===data.event&&data.value&&data.value.src===this.elem.src&&this.ready(data),this.keeper&&this.keeper.has(data.event,data.listener)&&this.keeper.execute(data.event,data.listener,data.value,this)},playerjs.Player.prototype.ready=function(data){if(!0===this.isReady)return!1;data.value.events&&(this.events=data.value.events),data.value.methods&&(this.methods=data.value.methods),this.isReady=!0,this.loaded=!0;for(var i=0;i<this.queue.length;i++){var obj=this.queue[i];playerjs.log("Player.dequeue",obj),"ready"===data.event&&this.keeper.execute(obj.event,obj.listener,!0,this),this.send(obj)}this.queue=[]},playerjs.Player.prototype.on=function(event,callback,ctx){if(!this.keeper)return!1;var id=this.keeper.getUUID();return"ready"===event?this.keeper.one(id,event,callback,ctx):this.keeper.on(id,event,callback,ctx),this.send({method:"addEventListener",value:event,listener:id}),!0},playerjs.Player.prototype.off=function(event,callback){if(!this.keeper)return!1;var listeners=this.keeper.off(event,callback);if(playerjs.log("Player.off",listeners),listeners.length>0)for(var i in listeners)return this.send({method:"removeEventListener",value:event,listener:listeners[i]}),!0;return!1},playerjs.Player.prototype.supports=function(evtOrMethod,names){playerjs.assert(playerjs.indexOf(["method","event"],evtOrMethod)>-1,'evtOrMethod needs to be either "event" or "method" got '+evtOrMethod),names=playerjs.isArray(names)?names:[names];for(var all="event"===evtOrMethod?this.events:this.methods,i=0;i<names.length;i++)if(-1===playerjs.indexOf(all,names[i]))return!1;return!0},playerjs.Player.prototype.destroy=function(){playerjs.removeEvent(window,"message",this._boundReceive);try{delete this.origin,delete this.keeper,delete this.isReady,delete this.queue,delete this.events,delete this.methods}catch(err){playerjs.log("Error deleting Player properties",err)}};for(var i=0,l=playerjs.METHODS.all().length;i<l;i++){var methodName=playerjs.METHODS.all()[i];playerjs.Player.prototype.hasOwnProperty(methodName)||(playerjs.Player.prototype[methodName]=createPrototypeFunction(methodName))}playerjs.addEvent(window,"message",function(e){var data;try{data=JSON.parse(e.data)}catch(err){return!1}if(data.context!==playerjs.CONTEXT)return!1;"ready"===data.event&&data.value&&data.value.src&&playerjs.READIED.push(data.value.src)}),playerjs.Receiver=function(events,methods){this.init(events,methods)},playerjs.Receiver.prototype.init=function(events,methods){var self=this;this.isReady=!1,this.cachedError=!1,this.origin=playerjs.origin(document.referrer),this.methods={},this.supported={events:events||playerjs.EVENTS.all(),methods:methods||playerjs.METHODS.all()},this.eventListeners={},this.reject=!(window.self!==window.top&&playerjs.POST_MESSAGE),this.reject||playerjs.addEvent(window,"message",function(e){self.receive(e)})},playerjs.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var data={};if(playerjs.isObject(e.data))data=e.data;else try{data=window.JSON.parse(e.data)}catch(err){playerjs.log("JSON Parse Error",err)}if(playerjs.log("Receiver.receive",e,data),!data.method)return!1;if(data.context!==playerjs.CONTEXT)return!1;if(-1===playerjs.indexOf(playerjs.METHODS.all(),data.method))return this.emit("error",{code:2,msg:'Invalid Method "'+data.method+'"'}),!1;var listener=playerjs.isNone(data.listener)?null:data.listener;if("addEventListener"===data.method)this.eventListeners.hasOwnProperty(data.value)?-1===playerjs.indexOf(this.eventListeners[data.value],listener)&&this.eventListeners[data.value].push(listener):this.eventListeners[data.value]=[listener],"ready"===data.value&&this.isReady?this.ready():"error"===data.value&&this.cachedError&&this.error();else if("removeEventListener"===data.method){if(this.eventListeners.hasOwnProperty(data.value)){var index=playerjs.indexOf(this.eventListeners[data.value],listener);index>-1&&this.eventListeners[data.value].splice(index,1),0===this.eventListeners[data.value].length&&delete this.eventListeners[data.value]}}else this.get(data.method,data.value,listener)},playerjs.Receiver.prototype.get=function(method,value,listener){var self=this;if(!this.methods.hasOwnProperty(method))return this.emit("error",{code:3,msg:'Method Not Supported"'+method+'"'}),!1;var func=this.methods[method];if("get"===method.substr(0,3)){var callback=function(val){self.send(method,val,listener)};func.call(this,callback)}else func.call(this,value)},playerjs.Receiver.prototype.on=function(event,callback){this.methods[event]=callback},playerjs.Receiver.prototype.send=function(event,value,listener){if(playerjs.log("Receiver.send",event,value,listener),this.reject)return playerjs.log("Receiver.send.reject",event,value,listener),!1;var data={context:playerjs.CONTEXT,version:playerjs.VERSION,event:event};playerjs.isNone(value)||(data.value=value),playerjs.isNone(listener)||(data.listener=listener);var msg=JSON.stringify(data);window.parent.postMessage(msg,""===this.origin?"*":this.origin)},playerjs.Receiver.prototype.emit=function(event,value){if(!this.eventListeners.hasOwnProperty(event))return"error"===event&&(this.cachedError=value||!0),!1;playerjs.log("Instance.emit",event,value,this.eventListeners[event]);for(var i=0;i<this.eventListeners[event].length;i++){var listener=this.eventListeners[event][i];this.send(event,value,listener)}return!0},playerjs.Receiver.prototype.ready=function(){playerjs.log("Receiver.ready"),this.isReady=!0;var data={src:window.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",data)||this.send("ready",data)},playerjs.Receiver.prototype.error=function(){playerjs.log("Receiver.error");var data=this.cachedError;this.emit("error",data)||this.send("error",data),this.cachedError=!1},playerjs.HTML5Adapter=function(video){if(!(this instanceof playerjs.HTML5Adapter))return new playerjs.HTML5Adapter(video);this.init(video)},playerjs.HTML5Adapter.prototype.init=function(video){playerjs.assert(video,"playerjs.VideoJSReceiver requires a video element");var receiver=this.receiver=new playerjs.Receiver;video.addEventListener("playing",function(){receiver.emit("play")}),video.addEventListener("pause",function(){receiver.emit("pause")}),video.addEventListener("ended",function(){receiver.emit("ended")}),video.addEventListener("timeupdate",function(){receiver.emit("timeupdate",{seconds:video.currentTime,duration:video.duration})}),video.addEventListener("progress",function(){receiver.emit("buffered",{percent:video.buffered.length})}),receiver.on("play",function(){video.play()}),receiver.on("pause",function(){video.pause()}),receiver.on("getPaused",function(callback){callback(video.paused)}),receiver.on("getCurrentTime",function(callback){callback(video.currentTime)}),receiver.on("setCurrentTime",function(value){video.currentTime=value}),receiver.on("getDuration",function(callback){callback(video.duration)}),receiver.on("getVolume",function(callback){callback(100*video.volume)}),receiver.on("setVolume",function(value){video.volume=value/100}),receiver.on("mute",function(){video.muted=!0}),receiver.on("unmute",function(){video.muted=!1}),receiver.on("getMuted",function(callback){callback(video.muted)}),receiver.on("getLoop",function(callback){callback(video.loop)}),receiver.on("setLoop",function(value){video.loop=value})},playerjs.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},playerjs.JWPlayerAdapter=function(player){if(!(this instanceof playerjs.JWPlayerAdapter))return new playerjs.JWPlayerAdapter(player);this.init(player)},playerjs.JWPlayerAdapter.prototype.init=function(player){playerjs.assert(player,"playerjs.JWPlayerAdapter requires a player object");var receiver=this.receiver=new playerjs.Receiver;this.looped=!1,player.onPause(function(){receiver.emit("pause")}),player.onPlay(function(){receiver.emit("play")}),player.onTime(function(e){var seconds=e.position,duration=e.duration;if(!seconds||!duration)return!1;var value={seconds:seconds,duration:duration};receiver.emit("timeupdate",value)});var self=this;player.onComplete(function(){!0===self.looped?player.seek(0):receiver.emit("ended")}),player.onError(function(){receiver.emit("error")}),receiver.on("play",function(){player.play(!0)}),receiver.on("pause",function(){player.pause(!0)}),receiver.on("getPaused",function(callback){callback(player.getState().toLowerCase()!=="PLAYING".toLowerCase())}),receiver.on("getCurrentTime",function(callback){callback(player.getPosition())}),receiver.on("setCurrentTime",function(value){player.seek(value)}),receiver.on("getDuration",function(callback){callback(player.getDuration())}),receiver.on("getVolume",function(callback){callback(player.getVolume())}),receiver.on("setVolume",function(value){player.setVolume(value)}),receiver.on("mute",function(){player.setMute(!0)}),receiver.on("unmute",function(){player.setMute(!1)}),receiver.on("getMuted",function(callback){callback(!0===player.getMute())}),receiver.on("getLoop",function(callback){callback(this.looped)},this),receiver.on("setLoop",function(value){this.looped=value},this)},playerjs.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},playerjs.MockAdapter=function(){if(!(this instanceof playerjs.MockAdapter))return new playerjs.MockAdapter;this.init()},playerjs.MockAdapter.prototype.init=function(){var video={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){video.interval=setInterval(function(){video.currentTime+=.25,video.timeupdate({seconds:video.currentTime,duration:video.duration})},250),video.playing=!0},pause:function(){clearInterval(video.interval),video.playing=!1}},receiver=this.receiver=new playerjs.Receiver;receiver.on("play",function(){var self=this;video.play(),this.emit("play"),video.timeupdate=function(data){self.emit("timeupdate",data)}}),receiver.on("pause",function(){video.pause(),this.emit("pause")}),receiver.on("getPaused",function(callback){callback(!video.playing)}),receiver.on("getCurrentTime",function(callback){callback(video.currentTime)}),receiver.on("setCurrentTime",function(value){video.currentTime=value}),receiver.on("getDuration",function(callback){callback(video.duration)}),receiver.on("getVolume",function(callback){callback(video.volume)}),receiver.on("setVolume",function(value){video.volume=value}),receiver.on("mute",function(){video.mute=!0}),receiver.on("unmute",function(){video.mute=!1}),receiver.on("getMuted",function(callback){callback(video.mute)}),receiver.on("getLoop",function(callback){callback(video.loop)}),receiver.on("setLoop",function(value){video.loop=value})},playerjs.MockAdapter.prototype.ready=function(){this.receiver.ready()},playerjs.VideoJSAdapter=function(player){if(!(this instanceof playerjs.VideoJSAdapter))return new playerjs.VideoJSAdapter(player);this.init(player)},playerjs.VideoJSAdapter.prototype.init=function(player){playerjs.assert(player,"playerjs.VideoJSReceiver requires a player object");var receiver=this.receiver=new playerjs.Receiver;player.on("pause",function(){receiver.emit("pause")}),player.on("play",function(){receiver.emit("play")}),player.on("timeupdate",function(e){var seconds=player.currentTime(),duration=player.duration();if(!seconds||!duration)return!1;var value={seconds:seconds,duration:duration};receiver.emit("timeupdate",value)}),player.on("ended",function(){receiver.emit("ended")}),player.on("error",function(){receiver.emit("error")}),receiver.on("play",function(){player.play()}),receiver.on("pause",function(){player.pause()}),receiver.on("getPaused",function(callback){callback(player.paused())}),receiver.on("getCurrentTime",function(callback){callback(player.currentTime())}),receiver.on("setCurrentTime",function(value){player.currentTime(value)}),receiver.on("getDuration",function(callback){callback(player.duration())}),receiver.on("getVolume",function(callback){callback(100*player.volume())}),receiver.on("setVolume",function(value){player.volume(value/100)}),receiver.on("mute",function(){player.volume(0)}),receiver.on("unmute",function(){player.volume(1)}),receiver.on("getMuted",function(callback){callback(0===player.volume())}),receiver.on("getLoop",function(callback){callback(player.loop())}),receiver.on("setLoop",function(value){player.loop(value)})},playerjs.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},module.exports=playerjs}(window)},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isSafeOrigin;var _url,_url2=_interopRequireDefault(__webpack_require__(22)),_utilConstants=__webpack_require__(10);function isSafeOrigin(origin){if(!origin)return!1;var _URL$parse,hostname=_url2.default.parse(origin).hostname,currentHost;if(hostname===(location&&location.hostname))return!0;for(var i=0;i<_utilConstants.ALLOWED_ORIGINS.length;i+=1){var whitelistItem=_utilConstants.ALLOWED_ORIGINS[i];if(whitelistItem instanceof RegExp&&whitelistItem.test(hostname))return!0;if(whitelistItem===hostname)return!0}return!1}module.exports=exports.default},function(module,exports,__webpack_require__){var punycode=__webpack_require__(23);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=__webpack_require__(24);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}function isString(arg){return"string"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0,auth,atSign;i<hostEndingChars.length;i++){var hec;-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!ipv6Hostname){for(var domainArray=this.hostname.split("."),newOut=[],i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}this.hostname=newOut.join(".")}var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i],esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}var result=new Url;if(Object.keys(this).forEach(function(k){result[k]=this[k]},this),result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol)return Object.keys(relative).forEach(function(k){"protocol"!==k&&(result[k]=relative[k])}),slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result;if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol])return Object.keys(relative).forEach(function(k){result[k]=relative[k]}),result.href=result.format(),result;if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!isNullOrUndefined(relative.search)){var authInHost;if(psychotic)result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift());return result.search=relative.search,result.query=relative.query,isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."==(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0),authInHost;psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift()));return(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){!function(root){var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="",labels,encoded;return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var output=[],counter=0,length=string.length,value,extra;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=basicToDigit(input.charCodeAt(index++)))>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(this)}).call(exports,__webpack_require__(12)(module),function(){return this}())},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(25),exports.encode=exports.stringify=__webpack_require__(26)},function(module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?Array.isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj}},function(module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return Array.isArray(obj[k])?obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""}},function(module,exports){"use strict";function warn(){if(console&&console.warn){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];console.warn.apply(null,args)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=warn,module.exports=exports.default},,,function(module,exports,__webpack_require__){"use strict";var _Array$from=__webpack_require__(31).default,_interopRequireDefault=__webpack_require__(84).default,_interopRequireWildcard=__webpack_require__(86).default;Object.defineProperty(exports,"__esModule",{value:!0});var _componentsActivatable,_componentsActivatable2=_interopRequireDefault(__webpack_require__(88)),_componentsBuffer,_componentsBuffer2=_interopRequireDefault(__webpack_require__(185)),_componentsButton,_componentsButton2=_interopRequireDefault(__webpack_require__(186)),_componentsCarousel,_componentsCarousel2=_interopRequireDefault(__webpack_require__(194)),_componentsDiscreteProgress,_componentsDiscreteProgress2=_interopRequireDefault(__webpack_require__(220)),_componentsPresentationPreviewThumbnail,_componentsPresentationPreviewThumbnail2=_interopRequireDefault(__webpack_require__(227)),_componentsEndcard,_componentsEndcard2=_interopRequireDefault(__webpack_require__(228)),_componentsFocusable,_componentsFocusable2=_interopRequireDefault(__webpack_require__(231)),_componentsHorizontalSlider,_componentsHorizontalSlider2=_interopRequireDefault(__webpack_require__(232)),_componentsKeyboard,_componentsKeyboard2=_interopRequireDefault(__webpack_require__(234)),_componentsLoader,_componentsLoader2=_interopRequireDefault(__webpack_require__(235)),_componentsModal,_componentsModal2=_interopRequireDefault(__webpack_require__(236)),_componentsPagination,_componentsPagination2=_interopRequireDefault(__webpack_require__(237)),_componentsPresentationPlayer,_componentsPresentationPlayer2=_interopRequireDefault(__webpack_require__(239)),_componentsPresentationSidepanel,_componentsPresentationSidepanel2=_interopRequireDefault(__webpack_require__(241)),_componentsRumTracking,_componentsRumTracking2=_interopRequireDefault(__webpack_require__(242)),_componentsSelectable,_componentsSelectable2=_interopRequireDefault(__webpack_require__(245)),_componentsShareButton,_componentsShareButton2=_interopRequireDefault(__webpack_require__(246)),_componentsTimeDisplay,_componentsTimeDisplay2=_interopRequireDefault(__webpack_require__(249)),_componentsToolbar,_componentsToolbar2=_interopRequireDefault(__webpack_require__(251)),_componentsVerticalSlider,_componentsVerticalSlider2=_interopRequireDefault(__webpack_require__(253)),_componentsVideoPlayer,_componentsVideoPlayer2=_interopRequireDefault(__webpack_require__(254)),_componentsVolumeSwitch,_componentsVolumeSwitch2=_interopRequireDefault(__webpack_require__(256)),_behaviorsEndcard,_behaviorsEndcard2=_interopRequireDefault(__webpack_require__(257)),_behaviorsFullscreen,_behaviorsFullscreen2=_interopRequireDefault(__webpack_require__(258)),_behaviorsModalManager,_behaviorsModalManager2=_interopRequireDefault(__webpack_require__(259)),_behaviorsPresentation,_behaviorsPresentation2=_interopRequireDefault(__webpack_require__(260)),_behaviorsShareLink,_behaviorsShareLink2=_interopRequireDefault(__webpack_require__(262)),_behaviorsShareModal,_behaviorsShareModal2=_interopRequireDefault(__webpack_require__(263)),_behaviorsVideojsBuffer,_behaviorsVideojsBuffer2=_interopRequireDefault(__webpack_require__(264)),_behaviorsVideojsMetrics,_behaviorsVideojsMetrics2=_interopRequireDefault(__webpack_require__(265)),_behaviorsVideojsPlayback,_behaviorsVideojsPlayback2=_interopRequireDefault(__webpack_require__(267)),_behaviorsVideojsTime,_behaviorsVideojsTime2=_interopRequireDefault(__webpack_require__(268)),_behaviorsVideojsTracking,_behaviorsVideojsTracking2=_interopRequireDefault(__webpack_require__(269)),_behaviorsVideojsUserActivity,_behaviorsVideojsUserActivity2=_interopRequireDefault(__webpack_require__(272)),_behaviorsVideojsVolume,_behaviorsVideojsVolume2=_interopRequireDefault(__webpack_require__(273)),_behaviorsVideojsWaiting,_behaviorsVideojsWaiting2=_interopRequireDefault(__webpack_require__(274)),_playersVideo,_playersVideo2=_interopRequireDefault(__webpack_require__(275)),_playersPresentation,_playersPresentation2=_interopRequireDefault(__webpack_require__(474)),_playersDocument,_playersDocument2=_interopRequireDefault(__webpack_require__(490)),_helpersTrackingUtil,tracking=_interopRequireWildcard(__webpack_require__(503)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersArrayFromShim,_helpersArrayFromShim2=_interopRequireDefault(__webpack_require__(504));_Array$from||(Array.from=_helpersArrayFromShim2.default),exports.default={ActivatableComponent:_componentsActivatable2.default,BufferComponent:_componentsBuffer2.default,ButtonComponent:_componentsButton2.default,CarouselComponent:_componentsCarousel2.default,DiscreteProgressComponent:_componentsDiscreteProgress2.default,PreviewThumbnailComponent:_componentsPresentationPreviewThumbnail2.default,EndcardComponent:_componentsEndcard2.default,FocusableComponent:_componentsFocusable2.default,HorizontalSlider:_componentsHorizontalSlider2.default,KeyboardComponent:_componentsKeyboard2.default,LoaderComponent:_componentsLoader2.default,ModalComponent:_componentsModal2.default,PaginationComponent:_componentsPagination2.default,PresentationPlayerComponent:_componentsPresentationPlayer2.default,PresentationSidepanelComponent:_componentsPresentationSidepanel2.default,RumTrackingComponent:_componentsRumTracking2.default,SelectableComponent:_componentsSelectable2.default,ShareButtonComponent:_componentsShareButton2.default,TimeDisplayComponent:_componentsTimeDisplay2.default,ToolbarComponent:_componentsToolbar2.default,VerticalSliderComponent:_componentsVerticalSlider2.default,VideoPlayerComponent:_componentsVideoPlayer2.default,VolumeSwitchComponent:_componentsVolumeSwitch2.default,EndcardBehavior:_behaviorsEndcard2.default,FullscreenBehavior:_behaviorsFullscreen2.default,ModalManagerBehavior:_behaviorsModalManager2.default,PresentationBehavior:_behaviorsPresentation2.default,ShareLinkBehavior:_behaviorsShareLink2.default,ShareModalBehavior:_behaviorsShareModal2.default,VideojsBufferBehavior:_behaviorsVideojsBuffer2.default,VideojsMetricsBehavior:_behaviorsVideojsMetrics2.default,VideojsPlaybackBehavior:_behaviorsVideojsPlayback2.default,VideojsTimeBehavior:_behaviorsVideojsTime2.default,VideojsTrackingBehavior:_behaviorsVideojsTracking2.default,VideojsUserActivityBehavior:_behaviorsVideojsUserActivity2.default,VideojsVolumeBehavior:_behaviorsVideojsVolume2.default,VideojsWaitingBehavior:_behaviorsVideojsWaiting2.default,initDocument:_playersDocument2.default,initPresentation:_playersPresentation2.default,initVideo:_playersVideo2.default.create.bind(_playersVideo2.default),VideoPlayer:_playersVideo2.default,EventListener:_coreEventListener2.default,tracking:tracking},module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(32),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(33),__webpack_require__(77),module.exports=__webpack_require__(41).Array.from},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(34)(!0);__webpack_require__(37)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var O=this._t,index=this._i,point;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(35),defined=__webpack_require__(36);module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(38),$export=__webpack_require__(39),redefine=__webpack_require__(55),hide=__webpack_require__(44),Iterators=__webpack_require__(56),$iterCreate=__webpack_require__(57),setToStringTag=__webpack_require__(73),getPrototypeOf=__webpack_require__(75),ITERATOR=__webpack_require__(74)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native,methods,key,IteratorPrototype;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){var global=__webpack_require__(40),core=__webpack_require__(41),ctx=__webpack_require__(42),hide=__webpack_require__(44),has=__webpack_require__(54),PROTOTYPE="prototype",$export=function(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype,key,own,out;for(key in IS_GLOBAL&&(source=name),source)(own=!IS_FORCED&&target&&void 0!==target[key])&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"2.5.7"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(43);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(45),createDesc=__webpack_require__(53);module.exports=__webpack_require__(49)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(46),IE8_DOM_DEFINE=__webpack_require__(48),toPrimitive=__webpack_require__(52),dP=Object.defineProperty;exports.f=__webpack_require__(49)?Object.defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(49)&&!__webpack_require__(50)(function(){return 7!=Object.defineProperty(__webpack_require__(51)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(50)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),document=__webpack_require__(40).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(44)},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(58),descriptor=__webpack_require__(53),setToStringTag=__webpack_require__(73),IteratorPrototype={};__webpack_require__(44)(IteratorPrototype,__webpack_require__(74)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(46),dPs=__webpack_require__(59),enumBugKeys=__webpack_require__(71),IE_PROTO=__webpack_require__(68)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframe=__webpack_require__(51)("iframe"),i=enumBugKeys.length,lt="<",gt=">",iframeDocument;for(iframe.style.display="none",__webpack_require__(72).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(45),anObject=__webpack_require__(46),getKeys=__webpack_require__(60);module.exports=__webpack_require__(49)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var keys=getKeys(Properties),length=keys.length,i=0,P;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(61),enumBugKeys=__webpack_require__(71);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(54),toIObject=__webpack_require__(62),arrayIndexOf=__webpack_require__(65)(!1),IE_PROTO=__webpack_require__(68)("IE_PROTO");module.exports=function(object,names){var O=toIObject(object),i=0,result=[],key;for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(63),defined=__webpack_require__(36);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(64);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(62),toLength=__webpack_require__(66),toAbsoluteIndex=__webpack_require__(67);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length),value;if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(35),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(35),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(69)("keys"),uid=__webpack_require__(70);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(41),global=__webpack_require__(40),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(38)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var document=__webpack_require__(40).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var def=__webpack_require__(45).f,has=__webpack_require__(54),TAG=__webpack_require__(74)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var store=__webpack_require__(69)("wks"),uid=__webpack_require__(70),Symbol=__webpack_require__(40).Symbol,USE_SYMBOL="function"==typeof Symbol,$exports;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){var has=__webpack_require__(54),toObject=__webpack_require__(76),IE_PROTO=__webpack_require__(68)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var defined=__webpack_require__(36);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(42),$export=__webpack_require__(39),toObject=__webpack_require__(76),call=__webpack_require__(78),isArrayIter=__webpack_require__(79),toLength=__webpack_require__(66),createProperty=__webpack_require__(80),getIterFn=__webpack_require__(81);$export($export.S+$export.F*!__webpack_require__(83)(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O),length,result,step,iterator;if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(46);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(56),ITERATOR=__webpack_require__(74)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(45),createDesc=__webpack_require__(53);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){var classof=__webpack_require__(82),ITERATOR=__webpack_require__(74)("iterator"),Iterators=__webpack_require__(56);module.exports=__webpack_require__(41).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var cof=__webpack_require__(64),TAG=__webpack_require__(74)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(74)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(85)},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(87)},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_ui,_ui2,ActivatableComponent=function(_UIComponent){function ActivatableComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,ActivatableComponent),_get(Object.getPrototypeOf(ActivatableComponent.prototype),"constructor",this).call(this,element),this.options=(0,_lodashDefaultsdeep2.default)({},options,{activeClass:"ssplayer-active"})}return _inherits(ActivatableComponent,_UIComponent),_createClass(ActivatableComponent,[{key:"active",get:function get(){return this.isActive},set:function set(isActive){this.isActive=isActive,this.adapter.toggleClass(this.adaptedElement,this.options.activeClass,isActive)}}]),ActivatableComponent}(_interopRequireDefault(__webpack_require__(135)).default);exports.default=ActivatableComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _getPrototypeOf,_getPrototypeOf2=_interopRequireDefault(__webpack_require__(90)),_getOwnPropertyDescriptor,_getOwnPropertyDescriptor2=_interopRequireDefault(__webpack_require__(94));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=(0,_getOwnPropertyDescriptor2.default)(object,property);if(void 0===desc){var parent=(0,_getPrototypeOf2.default)(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(91),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(92),module.exports=__webpack_require__(41).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(76),$getPrototypeOf=__webpack_require__(75);__webpack_require__(93)("getPrototypeOf",function(){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(39),core=__webpack_require__(41),fails=__webpack_require__(50);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(95),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(96);var $Object=__webpack_require__(41).Object;module.exports=function getOwnPropertyDescriptor(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(62),$getOwnPropertyDescriptor=__webpack_require__(97).f;__webpack_require__(93)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){var pIE=__webpack_require__(98),createDesc=__webpack_require__(53),toIObject=__webpack_require__(62),toPrimitive=__webpack_require__(52),has=__webpack_require__(54),IE8_DOM_DEFINE=__webpack_require__(48),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(49)?gOPD:function getOwnPropertyDescriptor(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _setPrototypeOf,_setPrototypeOf2=_interopRequireDefault(__webpack_require__(100)),_create,_create2=_interopRequireDefault(__webpack_require__(104)),_typeof2,_typeof3=_interopRequireDefault(__webpack_require__(107));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":(0,_typeof3.default)(superClass)));subClass.prototype=(0,_create2.default)(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(subClass,superClass):subClass.__proto__=superClass)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(101),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(102),module.exports=__webpack_require__(41).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(39);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(103).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),anObject=__webpack_require__(46),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(42)(Function.call,__webpack_require__(97).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(105),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(106);var $Object=__webpack_require__(41).Object;module.exports=function create(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(39);$export($export.S,"Object",{create:__webpack_require__(58)})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _iterator,_iterator2=_interopRequireDefault(__webpack_require__(108)),_symbol,_symbol2=_interopRequireDefault(__webpack_require__(115)),_typeof="function"==typeof _symbol2.default&&"symbol"==typeof _iterator2.default?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":typeof obj};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default="function"==typeof _symbol2.default&&"symbol"===_typeof(_iterator2.default)?function(obj){return void 0===obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(109),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(33),__webpack_require__(110),module.exports=__webpack_require__(114).f("iterator")},function(module,exports,__webpack_require__){__webpack_require__(111);for(var global=__webpack_require__(40),hide=__webpack_require__(44),Iterators=__webpack_require__(56),TO_STRING_TAG=__webpack_require__(74)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(112),step=__webpack_require__(113),Iterators=__webpack_require__(56),toIObject=__webpack_require__(62);module.exports=__webpack_require__(37)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(74)},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(116),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(117),__webpack_require__(125),__webpack_require__(126),__webpack_require__(127),module.exports=__webpack_require__(41).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(40),has=__webpack_require__(54),DESCRIPTORS=__webpack_require__(49),$export=__webpack_require__(39),redefine=__webpack_require__(55),META=__webpack_require__(118).KEY,$fails=__webpack_require__(50),shared=__webpack_require__(69),setToStringTag=__webpack_require__(73),uid=__webpack_require__(70),wks=__webpack_require__(74),wksExt=__webpack_require__(114),wksDefine=__webpack_require__(119),enumKeys=__webpack_require__(120),isArray=__webpack_require__(122),anObject=__webpack_require__(46),isObject=__webpack_require__(47),toIObject=__webpack_require__(62),toPrimitive=__webpack_require__(52),createDesc=__webpack_require__(53),_create=__webpack_require__(58),gOPNExt=__webpack_require__(123),$GOPD=__webpack_require__(97),$DP=__webpack_require__(45),$keys=__webpack_require__(60),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);for(var keys=enumKeys(P=toIObject(P)),i=0,l=keys.length,key;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function create(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var names=gOPN(toIObject(it)),result=[],i=0,key;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0,key;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(124).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(98).f=$propertyIsEnumerable,__webpack_require__(121).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(38)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function stringify(it){for(var args=[it],i=1,replacer,$replacer;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(44)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var META=__webpack_require__(70)("meta"),isObject=__webpack_require__(47),has=__webpack_require__(54),setDesc=__webpack_require__(45).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(50)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){var global=__webpack_require__(40),core=__webpack_require__(41),LIBRARY=__webpack_require__(38),wksExt=__webpack_require__(114),defineProperty=__webpack_require__(45).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(60),gOPS=__webpack_require__(121),pIE=__webpack_require__(98);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var symbols=getSymbols(it),isEnum=pIE.f,i=0,key;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var cof=__webpack_require__(64);module.exports=Array.isArray||function isArray(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(62),gOPN=__webpack_require__(124).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(61),hiddenKeys=__webpack_require__(71).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(119)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(119)("observable")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(129)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperty,_defineProperty2=_interopRequireDefault(__webpack_require__(130));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2.default)(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(131),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(132);var $Object=__webpack_require__(41).Object;module.exports=function defineProperty(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(39);$export($export.S+$export.F*!__webpack_require__(49),"Object",{defineProperty:__webpack_require__(45).f})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(134)},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _domAdapterJqueryInternal,_domAdapterJqueryInternal2=_interopRequireDefault(__webpack_require__(136)),_coreEventListener,_coreEventListener2,UIComponent=function(_EventListener){function UIComponent(element){_classCallCheck(this,UIComponent),_get(Object.getPrototypeOf(UIComponent.prototype),"constructor",this).call(this),this.element=element,this.adapter=this.constructor.createDomAdapter(),this.adaptedElement=this.adapter.adapt(element),this.hideClass="ssplayer-component-hide"}return _inherits(UIComponent,_EventListener),_createClass(UIComponent,[{key:"hide",value:function hide(){this.adaptedElement.addClass(this.hideClass)}},{key:"show",value:function show(){this.adaptedElement.removeClass(this.hideClass)}}],[{key:"createDomAdapter",value:function createDomAdapter(){return new _domAdapterJqueryInternal2.default}}]),UIComponent}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=UIComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _jquery,_jquery2=_interopRequireDefault(__webpack_require__(137)),_vendorJqueryInternal,_vendorJqueryInternal2=_interopRequireDefault(__webpack_require__(173)),InternalJqueryDOMAdapter=function(_JQueryDOMAdapter){function InternalJqueryDOMAdapter(){_classCallCheck(this,InternalJqueryDOMAdapter),_get(Object.getPrototypeOf(InternalJqueryDOMAdapter.prototype),"constructor",this).call(this,_vendorJqueryInternal2.default)}return _inherits(InternalJqueryDOMAdapter,_JQueryDOMAdapter),InternalJqueryDOMAdapter}(_jquery2.default);exports.default=InternalJqueryDOMAdapter,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_lodashPairs,_lodashPairs2=_interopRequireDefault(__webpack_require__(171)),_abstract,_abstract2=_interopRequireDefault(__webpack_require__(172)),splice=_linkedinSlideshareClientUtils.fn.imperative(Array.prototype.splice),JQueryDOMAdapter=function(_AbstractDOMAdapter){function JQueryDOMAdapter($){_classCallCheck(this,JQueryDOMAdapter),_get(Object.getPrototypeOf(JQueryDOMAdapter.prototype),"constructor",this).call(this),this.$=$}return _inherits(JQueryDOMAdapter,_AbstractDOMAdapter),_createClass(JQueryDOMAdapter,[{key:"adapt",value:function adapt(element){return this.$(element)}},{key:"adaptAll",value:function adaptAll(elements){return this.$(elements)}},{key:"query",value:function query(selector){return this.$(this.$(selector)[0])}},{key:"queryAll",value:function queryAll(selector){return this.$(selector)}},{key:"find",value:function find(element,selector){return this.$(element.find(selector)[0])}},{key:"filter",value:function filter(elements,selector,not){return not?elements.not(selector):elements.filter(selector)}},{key:"forEach",value:function forEach(elements,func){this.$.each(elements,function(i,element){func(element,i)})}}]),JQueryDOMAdapter}(_abstract2.default);exports.default=JQueryDOMAdapter;var methods={findAll:"find",children:"children",one:"one",getAttr:"attr",setAttr:"attr",removeAttr:"removeAttr",getCss:"css",setCss:"css",getData:"data",setData:"data",getHtml:"html",setHtml:"html",getText:"text",setText:"text",restore:"get",addClass:"addClass",removeClass:"removeClass",toggleClass:"toggleClass",hasClass:"hasClass",wrap:"wrap",wrapAll:"wrapAll",getHeight:"height",setHeight:"height",getWidth:"width",setWidth:"width"};JQueryDOMAdapter.prototype=(0,_lodashPairs2.default)(methods).reduce(function(prototype,_ref){var _ref2=_slicedToArray(_ref,2),methodName=_ref2[0],jMethodName=_ref2[1];return prototype[methodName]=function(elements){return elements[jMethodName].apply(elements,_toConsumableArray(splice(arguments,1)))},prototype},JQueryDOMAdapter.prototype),module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__(139)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _isIterable2,_isIterable3=_interopRequireDefault(__webpack_require__(140)),_getIterator2,_getIterator3=_interopRequireDefault(__webpack_require__(143));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=(0,_getIterator3.default)(arr),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if((0,_isIterable3.default)(Object(arr)))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(141),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(110),__webpack_require__(33),module.exports=__webpack_require__(142)},function(module,exports,__webpack_require__){var classof=__webpack_require__(82),ITERATOR=__webpack_require__(74)("iterator"),Iterators=__webpack_require__(56);module.exports=__webpack_require__(41).isIterable=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(144),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(110),__webpack_require__(33),module.exports=__webpack_require__(145)},function(module,exports,__webpack_require__){var anObject=__webpack_require__(46),get=__webpack_require__(81);module.exports=__webpack_require__(41).getIterator=function(it){var iterFn=get(it);if("function"!=typeof iterFn)throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(147)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _from,_from2=_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return(0,_from2.default)(arr)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0});var _dom,dom=_interopRequireWildcard(__webpack_require__(149)),_events,events=_interopRequireWildcard(__webpack_require__(159)),_fn,fn=_interopRequireWildcard(__webpack_require__(162)),_lang,lang=_interopRequireWildcard(__webpack_require__(163)),_li,li=_interopRequireWildcard(__webpack_require__(164)),_net,net=_interopRequireWildcard(__webpack_require__(166)),_string,string=_interopRequireWildcard(__webpack_require__(165)),_svg,svg=_interopRequireWildcard(__webpack_require__(168)),_tracking,tracking=_interopRequireWildcard(__webpack_require__(169)),_url,url=_interopRequireWildcard(__webpack_require__(170));exports.default={dom:dom,events:events,fn:fn,lang:lang,li:li,net:net,string:string,svg:svg,tracking:tracking,url:url},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createContentLoadedPromise=createContentLoadedPromise;var _promise,_promise2=_interopRequireDefault(__webpack_require__(150));function createContentLoadedPromise(){var doc=arguments.length<=0||void 0===arguments[0]?document:arguments[0];return new _promise2.default(function(resolve){"interactive"===doc.readyState||"complete"===doc.readyState?resolve(doc):doc.addEventListener("DOMContentLoaded",function(){return resolve(doc)})})}var onContentLoaded=createContentLoadedPromise(document);exports.onContentLoaded=onContentLoaded},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(151),__webpack_require__(156),__webpack_require__(157),__webpack_require__(158)},function(module,exports,__webpack_require__){"use strict";var asap=__webpack_require__(152);function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");var state=null,value=null,deferreds=[],self=this;function handle(deferred){null!==state?asap(function(){var cb=state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){var ret;try{ret=cb(value)}catch(e){return void deferred.reject(e)}deferred.resolve(ret)}else(state?deferred.resolve:deferred.reject)(value)}):deferreds.push(deferred)}function resolve(newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if("function"==typeof then)return void doResolve(then.bind(newValue),resolve,reject)}state=!0,value=newValue,finale()}catch(e){reject(e)}}function reject(newValue){state=!1,value=newValue,finale()}function finale(){for(var i=0,len=deferreds.length;i<len;i++)handle(deferreds[i]);deferreds=null}this.then=function(onFulfilled,onRejected){return new self.constructor(function(resolve,reject){handle(new Handler(onFulfilled,onRejected,resolve,reject))})},doResolve(fn,resolve,reject)}function Handler(onFulfilled,onRejected,resolve,reject){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.resolve=resolve,this.reject=reject}function doResolve(fn,onFulfilled,onRejected){var done=!1;try{fn(function(value){done||(done=!0,onFulfilled(value))},function(reason){done||(done=!0,onRejected(reason))})}catch(ex){if(done)return;done=!0,onRejected(ex)}}module.exports=Promise},function(module,exports,__webpack_require__){(function(process,setImmediate){var head={task:void 0,next:null},tail=head,flushing=!1,requestFlush=void 0,isNodeJS=!1;function flush(){for(;head.next;){var task=(head=head.next).task;head.task=void 0;var domain=head.domain;domain&&(head.domain=void 0,domain.enter());try{task()}catch(e){if(isNodeJS)throw domain&&domain.exit(),setTimeout(flush,0),domain&&domain.enter(),e;setTimeout(function(){throw e},0)}domain&&domain.exit()}flushing=!1}if(void 0!==process&&process.nextTick)isNodeJS=!0,requestFlush=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)requestFlush="undefined"!=typeof window?setImmediate.bind(window,flush):function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=flush,requestFlush=function(){channel.port2.postMessage(0)}}else requestFlush=function(){setTimeout(flush,0)};function asap(task){tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null},flushing||(flushing=!0,requestFlush())}module.exports=asap}).call(exports,__webpack_require__(153),__webpack_require__(154).setImmediate)},function(module,exports){var process=module.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function onTimeout(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(155),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,registerImmediate,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():global.MessageChannel?installMessageChannelImplementation():doc&&"onreadystatechange"in doc.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle;runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(exports,function(){return this}(),__webpack_require__(153))},function(module,exports,__webpack_require__){"use strict";var Promise=__webpack_require__(151),asap=__webpack_require__(152);module.exports=Promise,Promise.prototype.done=function(onFulfilled,onRejected){var self;(arguments.length?this.then.apply(this,arguments):this).then(null,function(err){asap(function(){throw err})})}},function(module,exports,__webpack_require__){"use strict";var Promise=__webpack_require__(151),asap=__webpack_require__(152);function ValuePromise(value){this.then=function(onFulfilled){return"function"!=typeof onFulfilled?this:new Promise(function(resolve,reject){asap(function(){try{resolve(onFulfilled(value))}catch(ex){reject(ex)}})})}}module.exports=Promise,ValuePromise.prototype=Promise.prototype;var TRUE=new ValuePromise(!0),FALSE=new ValuePromise(!1),NULL=new ValuePromise(null),UNDEFINED=new ValuePromise(void 0),ZERO=new ValuePromise(0),EMPTYSTRING=new ValuePromise("");Promise.resolve=function(value){if(value instanceof Promise)return value;if(null===value)return NULL;if(void 0===value)return UNDEFINED;if(!0===value)return TRUE;if(!1===value)return FALSE;if(0===value)return ZERO;if(""===value)return EMPTYSTRING;if("object"==typeof value||"function"==typeof value)try{var then=value.then;if("function"==typeof then)return new Promise(then.bind(value))}catch(ex){return new Promise(function(resolve,reject){reject(ex)})}return new ValuePromise(value)},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){values.forEach(function(value){Promise.resolve(value).then(resolve,reject)})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)}},function(module,exports,__webpack_require__){"use strict";var Promise=__webpack_require__(151),asap=__webpack_require__(152);module.exports=Promise,Promise.denodeify=function(fn,argumentCount){return argumentCount=argumentCount||1/0,function(){var self=this,args=Array.prototype.slice.call(arguments);return new Promise(function(resolve,reject){for(;args.length&&args.length>argumentCount;)args.pop();args.push(function(err,res){err?reject(err):resolve(res)});var res=fn.apply(self,args);!res||"object"!=typeof res&&"function"!=typeof res||"function"!=typeof res.then||resolve(res)})}},Promise.nodeify=function(fn){return function(){var args=Array.prototype.slice.call(arguments),callback="function"==typeof args[args.length-1]?args.pop():null,ctx=this;try{return fn.apply(this,arguments).nodeify(callback,ctx)}catch(ex){if(null==callback)return new Promise(function(resolve,reject){reject(ex)});asap(function(){callback.call(ctx,ex)})}}},Promise.prototype.nodeify=function(callback,ctx){if("function"!=typeof callback)return this;this.then(function(value){asap(function(){callback.call(ctx,null,value)})},function(err){asap(function(){callback.call(ctx,err)})})}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=mixin;var _eventemitter3,_eventemitter32=_interopRequireDefault(__webpack_require__(160)),_es6Mixin=__webpack_require__(161);function mixin(){var target=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,_es6Mixin.mixin)(target,_eventemitter32.default)}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix="function"!=typeof Object.create&&"~";function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){}EventEmitter.prototype._events=void 0,EventEmitter.prototype.eventNames=function eventNames(){var events=this._events,names=[],name;if(!events)return names;for(name in events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event,exists){var evt=prefix?prefix+event:event,available=this._events&&this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++)ee[i]=available[i].fn;return ee},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events||!this._events[evt])return!1;var listeners=this._events[evt],len=arguments.length,args,i;if("function"==typeof listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var length=listeners.length,j;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):this._events[evt]=listener,this},EventEmitter.prototype.once=function once(event,fn,context){var listener=new EE(fn,context||this,!0),evt=prefix?prefix+event:event;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):this._events[evt]=listener,this},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events||!this._events[evt])return this;var listeners=this._events[evt],events=[];if(fn)if(listeners.fn)(listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context)&&events.push(listeners);else for(var i=0,length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);return events.length?this._events[evt]=1===events.length?events[0]:events:delete this._events[evt],this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){return this._events?(event?delete this._events[prefix?prefix+event:event]:this._events=prefix?{}:Object.create(null),this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this},EventEmitter.prefixed=prefix,module.exports=EventEmitter},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function entries(object){return Object.getOwnPropertyNames(object).map(function(key){return[key,object[key]]})}exports.mixin=mixin;var Mixin=exports.Mixin=function(){function Mixin(){_classCallCheck(this,Mixin)}return _createClass(Mixin,null,[{key:"mixin",value:function mixin(){for(var target=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],MixedIn=arguments.length<=1||void 0===arguments[1]?this:arguments[1],_len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];var instance=new(Function.prototype.bind.apply(MixedIn,[null].concat(args)));return entries(MixedIn.prototype).filter(function(_ref){var _ref2=_slicedToArray(_ref,2),methodName=_ref2[0],method;return"function"==typeof _ref2[1]&&"constructor"!==methodName}).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),methodName=_ref4[0],method=_ref4[1];return target[methodName]=method.bind(instance)}),target}}]),Mixin}();function mixin(){for(var target=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],MixedIn=arguments.length<=1||void 0===arguments[1]?Mixin:arguments[1],_len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];return Mixin.mixin.apply(Mixin,[target,MixedIn].concat(args))}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.imperative=imperative;var call=Function.prototype.call;function imperative(method){return function(){return call.apply(method,arguments)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.isDescendantClass=isDescendantClass,exports.assign=assign,exports.defaults=defaults,exports.entries=entries;var _fn=__webpack_require__(162);function isDescendantClass(child,ancestor){return Boolean(ancestor&&child&&child.prototype&&child.prototype instanceof ancestor)}function assign(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return sources.reduce(function(target,source){return entries(source).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];target[key]=value}),target},target)}var hasOwn=(0,_fn.imperative)(Object.prototype.hasOwnProperty);function defaults(target){for(var _len2=arguments.length,sources=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)sources[_key2-1]=arguments[_key2];return sources.reduce(function(target,source){return entries(source).forEach(function(_ref3){var _ref32=_slicedToArray(_ref3,2),key=_ref32[0],value=_ref32[1];hasOwn(target,key)||(target[key]=value)}),target},target)}var slice=(0,_fn.imperative)(Array.prototype.slice),toArray=function toArray(o){return slice(o)};function entries(o){return Object.keys(o).map(function(key){return[key,o[key]]})}exports.toArray=toArray},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUrn=getUrn,exports.getPageKey=getPageKey;var _string=__webpack_require__(165),urnMap={clip:"slideShareClip",clipboard:"slideShareClipboard",guest:"slideShareGuest",slideshow:"slideShareSlideshow",user:"slideShareUser"},urnPrefix="urn:li";function getUrn(entityType,entityId){if(!entityType)return null;var urn=urnMap[entityType];return urn||(urn="slideShare"+(0,_string.capitalize)(entityType)),[urnPrefix,urn,entityId].join(":")}function getPageKey(){var el=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0],match=/^pagekey-(.*)/.exec(el.id);if(match&&match[1])return match[1]}},function(module,exports){"use strict";function capitalize(word){return"string"==typeof word?word.charAt(0).toUpperCase()+word.substring(1):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.capitalize=capitalize},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.request=request,exports.requestXml=requestXml;var _promise,_promise2=_interopRequireDefault(__webpack_require__(150)),_netHeaders,_netHeaders2=_interopRequireDefault(__webpack_require__(167));function request(url){var _ref=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],_ref$method=_ref.method,method=void 0===_ref$method?"get":_ref$method,body=_ref.body,_ref$headers=_ref.headers,headers=void 0===_ref$headers?{}:_ref$headers,xhr=new XMLHttpRequest;xhr.open(method,url,!0),_netHeaders2.default.create(headers).addTo(xhr);var promise=new _promise2.default(function(resolve,reject){xhr.addEventListener("readystatechange",function(){4===this.readyState&&(this.status>=200&&this.status<400?resolve(this):reject(this))})});return xhr.send(body),promise}function requestXml(){return request.apply(void 0,arguments).then(function(xhr){return xhr.responseXML})}exports.Headers=_netHeaders2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _lang=__webpack_require__(163),nameToKey=function nameToKey(name){return name.toLowerCase()},Headers=function(){function Headers(){_classCallCheck(this,Headers),this._values=Object.create(null)}return _createClass(Headers,[{key:"append",value:function append(name,value){var key=nameToKey(name);this._values[key]||(this._values[key]=[]),this._values[key].push(value)}},{key:"keys",value:function keys(){return Object.keys(this._values)}},{key:"getAll",value:function getAll(name){var key=nameToKey(name);return this._values[key].slice(0)}},{key:"entries",value:function entries(){var _this=this;return this.keys().reduce(function(entries,key){return _this.getAll(key).forEach(function(value){return entries.push([key,value])}),entries},[])}},{key:"addTo",value:function addTo(xhr){this.entries().forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),name=_ref2[0],value=_ref2[1];return xhr.setRequestHeader(name,value)})}},{key:"nameToKey",value:function nameToKey(name){return name.toLowerCase()}}],[{key:"create",value:function create(obj){var objEntries;return(obj instanceof Headers?obj.entries():(0,_lang.entries)(obj)).reduce(function(headers,_ref3){var _ref32=_slicedToArray(_ref3,2),name=_ref32[0],value=_ref32[1];return headers.append(name,value),headers},new Headers)}}]),Headers}();exports.default=Headers,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSvgUrls=getSvgUrls,exports.injectSvg=injectSvg,exports.loadSvgs=loadSvgs;var _lang=__webpack_require__(163),_promise,_promise2=_interopRequireDefault(__webpack_require__(150)),_net=__webpack_require__(166);function getSvgUrls(){var el=arguments.length<=0||void 0===arguments[0]?document:arguments[0],metaTagName=arguments.length<=1||void 0===arguments[1]?"ss-svg-icons":arguments[1],metas;return(0,_lang.toArray)(el.querySelectorAll('meta[name="'+metaTagName+'"]')).map(function(meta){return meta.getAttribute("content")})}function injectSvg(xml){var el=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],firstChild=xml.firstChild;firstChild.style.display="none",el.insertBefore(firstChild,el.firstChild)}function loadSvgs(){var searchEl=arguments.length<=0||void 0===arguments[0]?document:arguments[0],destEl=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],svgPromises=getSvgUrls(searchEl).map(function(url){return(0,_net.requestXml)(url).then(function(svg){return injectSvg(svg,destEl)})});return _promise2.default.all(svgPromises)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGlobalTrackingUrl=getGlobalTrackingUrl;var metaTagName="globalTrackingUrl";function getGlobalTrackingUrl(){var meta=document.querySelector('meta[name="'+metaTagName+'"]');return meta?meta.getAttribute("content"):null}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTrackingCode=getTrackingCode;var _url,_url2=_interopRequireDefault(__webpack_require__(22));function getTrackingCode(link){if("string"!=typeof link)throw new TypeError("link argument must be a string; found "+typeof link);var query=_url2.default.parse(link,!0).query;if(query){var trk=query.trk;if(trk)return Array.isArray(trk)?trk[trk.length-1]:trk}return null}},function(module,exports,__webpack_require__){var keys=__webpack_require__(4);function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}module.exports=pairs},function(module,exports,__webpack_require__){"use strict";var _classCallCheck=__webpack_require__(133).default;Object.defineProperty(exports,"__esModule",{value:!0});var AbstractDOMAdapter=function AbstractDOMAdapter(){_classCallCheck(this,AbstractDOMAdapter),this.components={}};exports.default=AbstractDOMAdapter,module.exports=exports.default},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_Object$defineProperties=__webpack_require__(174).default,global,factory;
/*!
	 * jQuery JavaScript Library v2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-event-alias,-css/hiddenVisibleSelectors
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-09-28T03:15Z
	 */global="undefined"!=typeof window?window:void 0,factory=function(window,noGlobal){var arr=[],_slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-event-alias,-css/hiddenVisibleSelectors",jQuery=function jQuery(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function fcamelCase(all,letter){return letter.toUpperCase()};function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&(!(1!==obj.nodeType||!length)||("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj))}jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function toArray(){return _slice.call(this)},get:function get(num){return null!=num?num<0?this[num+this.length]:this[num]:_slice.call(this)},pushStack:function pushStack(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function each(callback,args){return jQuery.each(this,callback,args)},map:function map(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function slice(){return this.pushStack(_slice.apply(this,arguments))},first:function first(){return this.eq(0)},last:function last(){return this.eq(-1)},eq:function eq(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function end(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],target!==(copy=options[name])&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function error(msg){throw new Error(msg)},noop:function noop(){},isFunction:function isFunction(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function isWindow(obj){return null!=obj&&obj===obj.window},isNumeric:function isNumeric(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)>=0},isPlainObject:function isPlainObject(obj){return"object"===jQuery.type(obj)&&!obj.nodeType&&!jQuery.isWindow(obj)&&!(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function isEmptyObject(obj){var name;for(name in obj)return!1;return!0},type:function type(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function globalEval(code){var script,indirect=eval;(code=jQuery.trim(code))&&(1===code.indexOf("use strict")?((script=document.createElement("script")).text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function each(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;i<length&&!1!==(value=callback.apply(obj[i],args));i++);else for(i in obj)if(!1===(value=callback.apply(obj[i],args)))break}else if(isArray)for(;i<length&&!1!==(value=callback.call(obj[i],i,obj[i]));i++);else for(i in obj)if(!1===(value=callback.call(obj[i],i,obj[i])))break;return obj},trim:function trim(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function makeArray(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function inArray(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function merge(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function grep(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)(callbackInverse=!callback(elems[i],i))!==callbackExpect&&matches.push(elems[i]);return matches},map:function map(elems,callback,arg){var value,i=0,length=elems.length,isArray,ret=[];if(isArraylike(elems))for(;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function proxy(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var docElem,selector_hasDuplicate,matches=(docElem=window.document.documentElement).matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector,selector_sortOrder=function selector_sortOrder(a,b){if(a===b)return selector_hasDuplicate=!0,0;var compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return compare?1&compare?a===document||jQuery.contains(document,a)?-1:b===document||jQuery.contains(document,b)?1:0:4&compare?-1:1:a.compareDocumentPosition?-1:1};jQuery.extend({find:function find(selector,context,results,seed){var elem,nodeType,i=0;if(results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=(context=context||document).nodeType)&&9!==nodeType)return[];if(seed)for(;elem=seed[i++];)jQuery.find.matchesSelector(elem,selector)&&results.push(elem);else jQuery.merge(results,context.querySelectorAll(selector));return results},unique:function unique(results){var elem,duplicates=[],i=0,j=0;if(selector_hasDuplicate=!1,results.sort(selector_sortOrder),selector_hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return results},text:function text(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType)return elem.textContent;if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=jQuery.text(node);return ret},contains:function contains(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!adown.contains(bup))},isXMLDoc:function isXMLDoc(elem){return"HTML"!==(elem.ownerDocument||elem).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),jQuery.extend(jQuery.find,{matches:function matches(expr,elements){return jQuery.find(expr,null,null,elements)},matchesSelector:function matchesSelector(elem,expr){return matches.call(elem,expr)},attr:function attr(elem,name){return elem.getAttribute(name)}});var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function find(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return(ret=this.pushStack(len>1?jQuery.unique(ret):ret)).selector=this.selector?this.selector+" "+selector:selector,ret},filter:function filter(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function not(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function is(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init;(jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.extend({dir:function dir(elem,_dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[_dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function sibling(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function has(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function closest(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function index(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function add(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function addBack(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function parent(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function parents(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function parentsUntil(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function next(elem){return sibling(elem,"nextSibling")},prev:function prev(elem){return sibling(elem,"previousSibling")},nextAll:function nextAll(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function prevAll(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function nextUntil(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function prevUntil(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function siblings(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function children(elem){return jQuery.sibling(elem.firstChild)},contents:function contents(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={},readyList;function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,_fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function fire(data){for(memory=options.memory&&data,_fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingIndex<firingLength;firingIndex++)if(!1===list[firingIndex].apply(data[0],data[1])&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function add(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function remove(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(index<=firingLength&&firingLength--,index<=firingIndex&&firingIndex--)}),this},has:function has(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function empty(){return list=[],firingLength=0,this},disable:function disable(){return list=stack=memory=void 0,this},disabled:function disabled(){return!list},lock:function lock(){return stack=void 0,memory||self.disable(),this},locked:function locked(){return!stack},fireWith:function fireWith(context,args){return!list||_fired&&!stack||(args=[context,(args=args||[]).slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function fire(){return self.fireWith(this,arguments),this},fired:function fired(){return!!_fired}};return self},jQuery.extend({Deferred:function Deferred(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],_state="pending",_promise={state:function state(){return _state},always:function always(){return deferred.done(arguments).fail(arguments),this},then:function then(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===_promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function promise(obj){return null!=obj?jQuery.extend(obj,_promise):_promise}},deferred={};return _promise.pipe=_promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];_promise[tuple[1]]=list.add,stateString&&list.add(function(){_state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?_promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),_promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function when(subordinate){var i=0,resolveValues=_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function updateFunc(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}},progressValues,progressContexts,resolveContexts;if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function holdReady(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function ready(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==wait&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key))for(i in chainable=!0,key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};function Data(){Object.defineProperty(this.cache={},0,{get:function get(){return{}}}),this.expando=jQuery.expando+Math.random()}jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function key(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},_Object$defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function set(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function get(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function access(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?void 0!==(stored=this.get(owner,key))?stored:this.get(owner,jQuery.camelCase(key)):(this.set(owner,key,value),void 0!==value?value:key)},remove:function remove(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),name=key in cache?[key,camel]:(name=camel)in cache?[name]:name.match(rnotwhite)||[]),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function hasData(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function discard(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function hasData(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function data(elem,name,_data){return data_user.access(elem,name,_data)},removeData:function removeData(elem,name){data_user.remove(elem,name)},_data:function _data(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function _removeData(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function data(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value)return void 0!==(data=data_user.get(elem,key))?data:void 0!==(data=data_user.get(elem,camelKey))?data:void 0!==(data=dataAttr(elem,camelKey,void 0))?data:void 0;this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function removeData(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function queue(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function dequeue(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function next(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function _queueHooks(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function queue(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function dequeue(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function clearQueue(type){return this.queue(type||"fx",[])},promise:function promise(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function resolve(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=data_priv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function isHidden(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i,fragment,div,input;div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue;var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function add(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function remove(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function trigger(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,(handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function dispatch(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=_slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.namespace_re&&!event.namespace_re.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function handlers(event,_handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=_handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(!0!==cur.disabled||"click"!==event.type){for(matches=[],i=0;i<delegateCount;i++)void 0===matches[sel=(handleObj=_handlers[i]).selector+" "]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<_handlers.length&&handlerQueue.push({elem:this,handlers:_handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function filter(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function filter(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(doc=(eventDoc=event.target.ownerDocument||document).documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function fix(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)event[prop=copy[i]]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function trigger(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function trigger(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function trigger(){if("checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function _default(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function postDispatch(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function simulate(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function preventDefault(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function stopPropagation(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function stopImmediatePropagation(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function handle(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function handler(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function setup(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function teardown(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function on(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function one(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function off(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function trigger(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function triggerHandler(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events))for(type in delete pdataCur.handle,pdataCur.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function clone(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return(destElements=getAll(clone,"script")).length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function buildFragment(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function cleanData(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando])&&(data=data_priv.cache[key])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function text(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function append(){return this.domManip(arguments,function(elem){var target;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function prepend(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function before(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function after(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function remove(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function empty(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function clone(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function html(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function replaceWith(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function detach(selector){return this.remove(selector,!0)},domManip:function domManip(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(first=(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this)).firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||("none"!==(display=actualDisplay(nodeName,doc))&&display||((doc=(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentDocument).write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}var rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function getStyles(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)};function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return(computed=computed||getStyles(elem))&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function get(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function pixelPosition(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function boxSizingReliable(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function reliableMarginRight(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(val<=0||null==val){if(((val=curCSS(elem,name,styles))<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)(elem=elements[index]).style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}jQuery.extend({cssHooks:{opacity:{get:function get(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function style(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value==value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value))}},css:function css(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function get(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function set(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function expand(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function css(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function show(){return showHide(this,!0)},hide:function hide(){return showHide(this)},toggle:function toggle(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function attr(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function removeAttr(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function attr(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?void 0:ret:null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function removeAttr(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function set(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function set(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function prop(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function removeProp(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{for:"htmlFor",class:"className"},prop:function prop(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return(notxml=1!==nType||!jQuery.isXMLDoc(elem))&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function get(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function get(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function addClass(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(cur=1===(elem=this[i]).nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function removeClass(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(cur=1===(elem=this[i]).nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function toggleClass(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else"undefined"!==type&&"boolean"!==type||(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||!1===value?"":data_priv.get(this,"__className__")||"")})},hasClass:function hasClass(selector){for(var className=" "+selector+" ",i=0,l=this.length;i<l;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function val(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=isFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function get(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function get(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function set(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function set(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function hover(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function bind(types,data,fn){return this.on(types,null,data,fn)},unbind:function unbind(types,fn){return this.off(types,null,fn)},delegate:function delegate(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function undelegate(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}}),jQuery.fn.extend({wrapAll:function wrapAll(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function wrapInner(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function wrap(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function unwrap(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}jQuery.param=function(a,traditional){var prefix,s=[],add=function add(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function serialize(){return jQuery.param(this.serializeArray())},serializeArray:function serializeArray(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}jQuery.offset={setOffset:function setOffset(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),(calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1)?(curTop=(curPosition=curElem.position()).top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function offset(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;return doc?(docElem=doc.documentElement,jQuery.contains(docElem,elem)?(void 0!==elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box):void 0},position:function position(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function offsetParent(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return jQuery}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},void 0===noGlobal&&(window.jQuery=window.$=jQuery),jQuery},"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(175),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(176);var $Object=__webpack_require__(41).Object;module.exports=function defineProperties(T,D){return $Object.defineProperties(T,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(39);$export($export.S+$export.F*!__webpack_require__(49),"Object",{defineProperties:__webpack_require__(59)})},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_bind=__webpack_require__(178).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _eventBinder,_eventBinder2=_interopRequireDefault(__webpack_require__(179)),EventListener=function(){function EventListener(){_classCallCheck(this,EventListener),this.eventBinders=[],this.initialized=!1}return _createClass(EventListener,[{key:"addEvents",value:function addEvents(){for(var _len=arguments.length,events=Array(_len),_key=0;_key<_len;_key++)events[_key]=arguments[_key];this.eventBinders=this.eventBinders.concat(events.map(_eventBinder2.default.create))}},{key:"init",value:function init(){if(this.initialized)throw new Error("Trying to call init on an already initialized event listener");this.beforeInit(),this.bindEvents(),this.initialized=!0}},{key:"beforeInit",value:function beforeInit(){}},{key:"bindEvents",value:function bindEvents(){var _this=this;this.eventBinders.forEach(function(binder){return binder.bind(_this)})}},{key:"dispose",value:function dispose(){if(!this.initialized)throw new Error("Trying to call dispose on non-initialized event listener");this.beforeDispose(),this.unbindEvents(),this.eventBinders=[],this.initialized=!1}},{key:"beforeDispose",value:function beforeDispose(){}},{key:"unbindEvents",value:function unbindEvents(){this.eventBinders.forEach(function(binder){return binder.unbind()})}}],[{key:"create",value:function create(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var listener=new(_bind.apply(this,[null].concat(args)));return listener.init(),listener}}]),EventListener}();exports.default=EventListener,module.exports=exports.default},function(module,exports){"use strict";exports.default=Function.prototype.bind,exports.__esModule=!0},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_toConsumableArray=__webpack_require__(146).default,_bind=__webpack_require__(178).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashIsfunction,_lodashIsfunction2=_interopRequireDefault(__webpack_require__(180)),_lodashIsobject,_lodashIsobject2=_interopRequireDefault(__webpack_require__(181)),_lodashIsstring,_lodashIsstring2=_interopRequireDefault(__webpack_require__(183)),_domEventEmitter,_domEventEmitter2=_interopRequireDefault(__webpack_require__(184)),EventBinder=function(){function EventBinder(target,eventName,handler){if(_classCallCheck(this,EventBinder),!(0,_lodashIsstring2.default)(eventName))throw new Error("Expecting eventName to be a string, got "+typeof eventName);if(!(0,_lodashIsobject2.default)(target))throw new Error('Expecting target for event "'+eventName+'" to be an object, got '+typeof target);if(!(0,_lodashIsfunction2.default)(handler))throw new Error('Expecting handler for event "'+eventName+'" to be a function, got '+typeof handler);this.target=target,this.eventName=eventName,this.handler=handler}return _createClass(EventBinder,[{key:"bind",value:function bind(context){this.boundHandler&&this.unbind(),this.boundHandler=this.handler.bind(context),this.target.on(this.eventName,this.boundHandler)}},{key:"unbind",value:function unbind(){this.boundHandler&&(this.target.off(this.eventName,this.boundHandler),delete this.boundHandler)}}],[{key:"fromArray",value:function fromArray(array){return new(_bind.apply(this,[null].concat(_toConsumableArray(array))))}},{key:"create",value:function create(o,eventName,handler){if(o instanceof EventBinder)return o;if(Array.isArray(o))return EventBinder.create.apply(EventBinder,_toConsumableArray(o));if((0,_lodashIsobject2.default)(o)&&(0,_lodashIsstring2.default)(eventName)&&(0,_lodashIsfunction2.default)(handler)){for(var target=_domEventEmitter2.default.isEventTarget(o)?new _domEventEmitter2.default(o):o,_len=arguments.length,args=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)args[_key-3]=arguments[_key];return new(_bind.apply(this,[null].concat([target,eventName,handler],args)))}throw new TypeError("Could not infer argument format")}}]),EventBinder}();exports.default=EventBinder,module.exports=exports.default},function(module,exports){function isFunction(value){return"function"==typeof value}module.exports=isFunction},function(module,exports,__webpack_require__){var objectTypes=__webpack_require__(182);function isObject(value){return!(!value||!objectTypes[typeof value])}module.exports=isObject},function(module,exports){var objectTypes={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};module.exports=objectTypes},function(module,exports){var stringTag="[object String]";function isObjectLike(value){return!!value&&"object"==typeof value}var objectProto,objToString=Object.prototype.toString;function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}module.exports=isString},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashIsfunction,_lodashIsfunction2=_interopRequireDefault(__webpack_require__(180)),_lodashIsobject,_lodashIsobject2=_interopRequireDefault(__webpack_require__(181)),DomEventEmitter=function(){function DomEventEmitter(target){var useCapture=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];_classCallCheck(this,DomEventEmitter),this.target=target,this.useCapture=useCapture}return _createClass(DomEventEmitter,null,[{key:"isEventTarget",value:function isEventTarget(o){return(0,_lodashIsobject2.default)(o)&&["addEventListener","removeEventListener"].every(function(p){return(0,_lodashIsfunction2.default)(o[p])})}}]),_createClass(DomEventEmitter,[{key:"on",value:function on(eventName,listener){this.target.addEventListener(eventName,listener,this.useCapture)}},{key:"off",value:function off(eventName,listener){this.target.removeEventListener(eventName,listener)}}]),DomEventEmitter}();exports.default=DomEventEmitter,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),defaultBuffered=0,BufferComponent=function(_EventListener){function BufferComponent(element){_classCallCheck(this,BufferComponent),_get(Object.getPrototypeOf(BufferComponent.prototype),"constructor",this).call(this),this.element=element,this.buffered=defaultBuffered}return _inherits(BufferComponent,_EventListener),_createClass(BufferComponent,[{key:"buffered",get:function get(){return this.element.value},set:function set(value){this.element.value=value}}]),BufferComponent}(_coreEventListener2.default);exports.default=BufferComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_helpersA11yHelper=__webpack_require__(187),_activatable,_activatable2,ButtonComponent=function(_ActivatableComponent){function ButtonComponent(buttonElement){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(_classCallCheck(this,ButtonComponent),_get(Object.getPrototypeOf(ButtonComponent.prototype),"constructor",this).call(this,buttonElement,options),_linkedinSlideshareClientUtils.events.mixin(this),options.a11yControlText){var a11yControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(options.a11yControlText);this.adaptedElement.append(a11yControlTextElement)}}return _inherits(ButtonComponent,_ActivatableComponent),_createClass(ButtonComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",this.onClick])}},{key:"onClick",value:function onClick(){this.emit("click")}}]),ButtonComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=ButtonComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _defineProperty=__webpack_require__(188).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_Object$keys=__webpack_require__(190).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDefaultControlTextObj=getDefaultControlTextObj,exports.testControlTextObj=testControlTextObj,exports.testLanguageControlTextObj=testLanguageControlTextObj,exports.getDefaultLanguageControlTextObj=getDefaultLanguageControlTextObj,exports.createA11yControlTextElement=createA11yControlTextElement;var _languageCodes=__webpack_require__(193),KEY_CODE={TAB:9,ESCAPE:27,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,ARROW_DOWN:40};exports.KEY_CODE=KEY_CODE;var SLIDER_TYPE={PLAYBACK:"playback",VOLUME:"volume"};exports.SLIDER_TYPE=SLIDER_TYPE;var DEFAULT_A11Y_OBJECT,ERROR_MESSAGE_OBJECT,CONTROL_TEXT_OBJECT_MAP={a11y:{videoPlayerContainerA11yAriaLabel:"video player",bigPlayButtonA11yControlText:"play video",linkedinLogoLinkA11yControlText:"visit linkedin",backButtonA11yControlText:"back button",playButtonA11yControlText:"play",replayButtonA11yControlText:"replay",pauseButtonA11yControlText:"pause",shareButtonA11yControlText:"share",zoomInButtonA11yControlText:"zoom in",zoomOutButtonA11yControlText:"zoom out",zoomSelectA11yControlText:"select zoom value",volumeOnButtonA11yControlText:"volume on",volumeOffButtonA11yControlText:"volume off",fullscreenOnButtonA11yControlText:"fullscreen on",fullscreenOffButtonA11yControlText:"fullscreen off",progressSliderA11yControlText:"playback progress slider",volumeSliderA11yControlText:"volume slider",volumeSliderAriaValueTextA11yControlText:"volume",closeModalButtonA11yControlText:"close share overlay"},errorMessage:{"You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it."}};function getDefaultControlTextObj(controlTextObjType){return CONTROL_TEXT_OBJECT_MAP[controlTextObjType]}function testControlTextObj(controlTextObj,controlTextObjType){void 0===controlTextObj&&(controlTextObj={});var isValidInput=!0;return!console&&!console.warn||window.__karma__?isValidInput:(_Object$keys(CONTROL_TEXT_OBJECT_MAP[controlTextObjType]).forEach(function(controlText){controlTextObj[controlText]||(console.warn("Please define "+controlText+" for i18n."),isValidInput=!1)}),isValidInput)}function testLanguageControlTextObj(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],language=_ref.language,languages=_ref.languages,languagesKey;return language&&"string"==typeof language&&-1!==_languageCodes.languageCodes.indexOf(language.split("-")[0])?languages&&"object"==typeof languages&&-1!==_Object$keys(languages).indexOf(language)?(_Object$keys(languages).forEach(function(key){var errorMessageControlTextObj;return!!testControlTextObj(languages[key],"errorMessage")}),!0):(console.warn("languages key in languageControlTextObj has error"),!1):(console.warn("language key in languageControlTextObj has error"),!1)}function getDefaultLanguageControlTextObj(){var videoLocale="en-US";return{language:"en-US",languages:_defineProperty({},"en-US",getDefaultControlTextObj("errorMessage"))}}function createA11yControlTextElement(a11yControlText){var spanElem=document.createElement("span");return spanElem.className="a11y-text",spanElem.textContent=a11yControlText,spanElem}var PlayerStateManager=function(){function PlayerStateManager(){_classCallCheck(this,PlayerStateManager),this.fullscreenOn=!1,this.focusActive=!1,this.disableA11y=!1}return _createClass(PlayerStateManager,[{key:"isFullscreenOn",get:function get(){return this.fullscreenOn},set:function set(isFullscreenOn){this.fullscreenOn=isFullscreenOn}},{key:"isFocusActive",get:function get(){return this.focusActive},set:function set(isFocusActive){this.focusActive=isFocusActive}},{key:"isDisableA11y",get:function get(){return this.disableA11y},set:function set(isDisableA11y){this.disableA11y=isDisableA11y}}]),PlayerStateManager}();exports.PlayerStateManager=PlayerStateManager},function(module,exports,__webpack_require__){module.exports=__webpack_require__(189)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperty,_defineProperty2=_interopRequireDefault(__webpack_require__(130));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(obj,key,value){return key in obj?(0,_defineProperty2.default)(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(191),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(192),module.exports=__webpack_require__(41).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(76),$keys=__webpack_require__(60);__webpack_require__(93)("keys",function(){return function keys(it){return $keys(toObject(it))}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var languageCodes=["aa","ab","af","ak","sq","am","ar","an","hy","as","av","ae","ay","az","ba","bm","eu","be","bn","bh","bi","bs","br","bg","my","ca","ch","ce","zh","cu","cv","kw","co","cr","cs","da","dv","nl","dz","en","eo","et","ee","fo","fj","fi","fr","fy","ff","ka","de","gd","ga","gl","gv","el","gn","gu","ht","ha","he","hz","hi","ho","hr","hu","ig","is","io","ii","iu","ie","ia","id","ik","it","jv","ja","kl","kn","ks","kr","kk","km","ki","rw","ky","kv","kg","ko","kj","ku","lo","la","lv","li","ln","lt","lb","lu","lg","mk","mh","ml","mi","mr","ms","mg","mt","mn","na","nv","nr","nd","ng","ne","nn","nb","no","ny","oc","oj","or","om","os","pa","fa","pi","pl","pt","ps","qu","rm","ro","rn","ru","sg","sa","si","sk","sl","se","sm","sn","sd","so","st","es","sc","sr","ss","su","sw","sv","ty","ta","tt","te","tg","tl","th","bo","ti","to","tn","ts","tk","tr","tw","ug","uk","ur","uz","ve","vi","vo","cy","wa","wo","xh","yi","yo","za","zu"];exports.languageCodes=languageCodes},function(module,exports,__webpack_require__){"use strict";var _taggedTemplateLiteral=__webpack_require__(195).default,_get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_toConsumableArray=__webpack_require__(146).default,_Object$keys=__webpack_require__(190).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _templateObject=_taggedTemplateLiteral(['<div class="','"/>'],['<div class="','"/>']),_hammerjs,_hammerjs2=_interopRequireDefault(__webpack_require__(200)),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashDefer,_lodashDefer2=_interopRequireDefault(__webpack_require__(201)),_lodashNoop,_lodashNoop2=_interopRequireDefault(__webpack_require__(204)),_screenfull,_screenfull2=_interopRequireDefault(__webpack_require__(205)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_linkedinSlideshareClientUtils=__webpack_require__(148),_helpersTransition=__webpack_require__(207),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),_helpersSlidesSlide,_helpersSlidesSlide2=_interopRequireDefault(__webpack_require__(217)),CarouselComponent=function(_UIComponent){function CarouselComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],window=arguments.length<=2||void 0===arguments[2]?element.ownerDocument.defaultView:arguments[2];return function(){_classCallCheck(this,CarouselComponent),_get(Object.getPrototypeOf(CarouselComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{aspectRatio:null,numPages:null,slideMarginPx:32,startPosition:0,heightOffset:0,swipeSpeed:.8,swipeSpeedEdge:.2,trackContainerHeightOffset:0,initialSlideConfigs:{},classes:{animate:"carousel-animate",initialized:"carousel-initialized",lazyElement:"carousel-lazy-element",slide:"carousel-slide",slideActive:"carousel-slide-active",track:"carousel-track",trackContainer:"carousel-track-container",visiblyHidden:"ssplayer-carousel--visibly-hidden"},selectors:{loader:".ssplayer-loader.ssplayer-carousel-loader-template"},attrs:{index:"data-ssplayer-slide-index"},loadOffsets:{other:[-2,-1,1,2,3,4],first:[-1,1]}}),this.window=window,this._validateOptions(this.options),this.zoomScale=1,this.slides=[],this.position=this.options.startPosition,this.numPages=this.options.numPages,this.slideRatio=this.options.aspectRatio,this.startPosition=this.options.startPosition,this.heightOffset=this.options.heightOffset,this.setup()}.apply(this,arguments)}return _inherits(CarouselComponent,_UIComponent),_createClass(CarouselComponent,[{key:"setup",value:function setup(){this.$track=this.adapter.find(this.adaptedElement,"ul"),this.adapter.wrap(this.$track,_linkedinJsecure2.default.mk(_templateObject,this.options.classes.trackContainer)),this.$trackContainer=this.adapter.find(this.adaptedElement,"."+this.options.classes.trackContainer),this.adapter.addClass(this.$track,this.options.classes.track),this.adapter.setAttr(this.$trackContainer,"aria-live","polite"),this.$track.append(this.createSlideElems(this.numPages)),this.$slides=this.adapter.children(this.$track,this.slideSelector)}},{key:"beforeInit",value:function beforeInit(){this.hammer=new _hammerjs2.default(this.element,{recognizers:[[_hammerjs2.default.Pan,{direction:_hammerjs2.default.DIRECTION_HORIZONTAL}]]});var slides=this.adapter.restore(this.$slides),baseEvents=[[this.element.ownerDocument.defaultView,"resize",this.onWindowResize]],navigationEvents=[[this.hammer,"panstart panright panleft",this.onPanMove],[this.hammer,"panend",this.onPanEnd]].concat(_toConsumableArray(slides.map(function(el){return[el,"dragstart",function(event){return event.preventDefault()}]}))),mergedEvents=this.numPages>1?baseEvents.concat(navigationEvents):baseEvents;this.addEvents.apply(this,_toConsumableArray(mergedEvents)),this.applySlideConfigs(this.options.initialSlideConfigs),this.setDimensions(),this.changePosition(this.startPosition,!1),this.adapter.addClass(this.adaptedElement,this.options.classes.initialized)}},{key:"createSlideElems",value:function createSlideElems(numElems){for(var slideClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.slide),indexAttribute=_linkedinJsecure2.default.htmlEncode(this.options.attrs.index),loaderElementTemplate=this.element.querySelector(this.options.selectors.loader),slideElems=[],i=0;i<numElems;i+=1){var newSlide=new _helpersSlidesSlide2.default(i,{className:slideClass,indexAttrName:indexAttribute,loaderElementTemplate:loaderElementTemplate});this.slides.push(newSlide),slideElems.push(newSlide.containerElement)}return slideElems}},{key:"applySlideConfigs",value:function applySlideConfigs(configs){var _this=this;_Object$keys(configs).forEach(function(index){_this.applySlideConfigForType(index,configs[index].type,configs[index].config)})}},{key:"applySlideConfigForType",value:function applySlideConfigForType(index,type,config){switch(type){case"image":this.applyImageSlideConfig({index:index,config:config});break;default:throw new Error("Cannot generate slide node for type: "+type)}}},{key:"applyTranscriptToSlide",value:function applyTranscriptToSlide(index,transcript){this.slides[index].imageElement.setAttribute("alt",transcript)}},{key:"applyImageSlideConfig",value:function applyImageSlideConfig(_ref){var index=_ref.index,config=_ref.config,_ref$clearSlide=_ref.clearSlide,clearSlide=void 0===_ref$clearSlide||_ref$clearSlide;this._validateImageSlideConfig(index,config);var slideForIndex=this.slides[index];slideForIndex.update(config.src,{attrsToClear:_Object$keys(this.options.attrs),isPortrait:this.isPortrait,force:clearSlide}),index===this.position&&slideForIndex.loadImage()}},{key:"setDimensions",value:function setDimensions(){if(this.slideWidth=this.element.parentElement.getBoundingClientRect().width,this.slideHeight=this.slideWidth/this.slideRatio,_screenfull2.default.element===this.element.parentElement||this.options.constrainHeight){var heightOffset=_screenfull2.default.element===this.element.parentElement?0:this.heightOffset,winHeight=this.adapter.getHeight(this.adapter.adapt(this.window))-heightOffset;this.slideHeight>winHeight&&this.adapter.getHeight(this.adaptedElement)>0&&(this.slideHeight=winHeight,this.slideWidth=this.slideHeight*this.slideRatio)}this.slideWidth=Math.ceil(this.slideWidth*this.zoomScale),this.slideHeight=Math.floor(this.slideHeight*this.zoomScale),this.adapter.setWidth(this.$slides,this.slideWidth),this.adapter.setHeight(this.$slides,this.slideHeight),this.adapter.setWidth(this.$track,this.slideCount*(this.slideWidth+this.options.slideMarginPx));var actualSlideHeight=this.$slides.get(0).getBoundingClientRect().height;this.adapter.setHeight(this.$trackContainer,actualSlideHeight+this.options.trackContainerHeightOffset),this.adapter.setWidth(this.$trackContainer,this.slideWidth)}},{key:"toggleAnimation",value:function toggleAnimation(enable){this.adapter.toggleClass(this.$track,this.options.classes.animate,enable)}},{key:"toggleAccessibilityVisibility",value:function toggleAccessibilityVisibility(shouldHide){var shouldHideVisibly=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];this.adaptedElement.attr("aria-hidden",shouldHide),void 0!==shouldHideVisibly&&this.adaptedElement.toggleClass(this.options.classes.visiblyHidden,shouldHideVisibly)}},{key:"onWindowResize",value:function onWindowResize(){var _this2=this;setTimeout(function(){_this2.setDimensions(),_this2.changePosition(_this2.position,!1),_this2.emit("resize")},1)}},{key:"onPanMove",value:function onPanMove(_ref2){var deltaX=_ref2.deltaX,center=_ref2.center,first=0===this.position&&deltaX>0,last=this.position===this.slideCount-1&&deltaX<0,_options=this.options,swipeSpeed=_options.swipeSpeed,swipeSpeedEdge=_options.swipeSpeedEdge,delta=deltaX*(first||last?swipeSpeedEdge:swipeSpeed);0===center.x&&0===center.y||this.move(this.position*(this.slideWidth+this.options.slideMarginPx)-delta)}},{key:"onPanEnd",value:function onPanEnd(event){Math.abs(event.deltaX)>=this.slideWidth/6?event.deltaX>0?this.previous():this.next():this.changePosition(this.position,!0)}},{key:"setZoom",value:function setZoom(scale){var isZoomed=1!==scale;this.zoomScale=scale,this.adapter.toggleClass(this.$trackContainer,"carousel-track-container--single-page-mode",isZoomed),this.adaptedElement.toggleClass("ssplayer-carousel--single-page-mode",isZoomed),this.onWindowResize()}},{key:"next",value:function next(){this.changePosition(this.position+1,!0)}},{key:"previous",value:function previous(){this.changePosition(this.position-1,!0)}},{key:"changePosition",value:function changePosition(position,animate){var _this3=this,callback=arguments.length<=2||void 0===arguments[2]?_lodashNoop2.default:arguments[2],newPos=Math.max(0,Math.min(position||0,this.slideCount-1)),oldPos=this.position,slide=this.slides[newPos],offset=newPos*(this.slideWidth+this.options.slideMarginPx);animate=animate&&1===Math.abs(oldPos-newPos),this.adapter.removeClass(this.$slides,this.options.classes.slideActive),this.adapter.setAttr(this.$slides,"tabindex",-1),this.adapter.setAttr(this.$slides,"aria-hidden",!0),slide.setActive(this.options.classes.slideActive),slide.loadImage(),this._fireChangeEvent("positionChange",slide.containerElement,oldPos,newPos),this.position=newPos,this.move(offset,animate,function(){_this3._fireChangeEvent("afterPositionChange",slide.containerElement,oldPos,newPos);var startPosition=newPos===_this3.startPosition?"first":"other",offsets;_this3.options.loadOffsets[startPosition].forEach(function(offsetBy){_this3.slides[newPos+offsetBy]&&_this3.slides[newPos+offsetBy].loadImage()}),callback()})}},{key:"move",value:function move(offset,animate){var _this4=this,callback=arguments.length<=2||void 0===arguments[2]?_lodashNoop2.default:arguments[2];this.toggleAnimation(animate),offset*=-1,this.adapter.setCss(this.$track,"transform","translateX("+offset+"px)"),animate&&_helpersTransition.transitionEndEvent?this.adapter.one(this.$track,_helpersTransition.transitionEndEvent,function(){_this4.toggleAnimation(!1),callback()}):(0,_lodashDefer2.default)(callback)}},{key:"getSlideElement",value:function getSlideElement(index){return this.slides[index].containerElement}},{key:"_fireChangeEvent",value:function _fireChangeEvent(name,slideElement,oldPosition,newPosition){(this.initialized&&oldPosition!==newPosition||newPosition===this.slideCount-1||0===newPosition)&&this.emit(name,{slideElement:slideElement,oldPosition:oldPosition,newPosition:newPosition,position:newPosition,length:this.slideCount,slideCount:this.slideCount})}},{key:"_validateOptions",value:function _validateOptions(options){if(!options.aspectRatio)throw new Error("Carousel: Must be initialized with aspectRatio!");if(!options.numPages)throw new Error("Carousel: Must be initialized with numPages!")}},{key:"_validateImageSlideConfig",value:function _validateImageSlideConfig(index,config){if(index<0||index>this.numPages-1)throw new RangeError("Carousel: Attempting to apply a config to out of range index: "+index);if("string"!=typeof config.src)throw new TypeError("No src string in slide config at index: "+index)}},{key:"isPortrait",get:function get(){return this.slideRatio<1}},{key:"slideCount",get:function get(){return(this.$slides||[]).length}},{key:"isOnFirstPage",get:function get(){return this.position===this.startPosition}}]),CarouselComponent}(_ui2.default);exports.default=CarouselComponent,module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__(196)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperties,_defineProperties2=_interopRequireDefault(__webpack_require__(174)),_freeze,_freeze2=_interopRequireDefault(__webpack_require__(197));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(strings,raw){return(0,_freeze2.default)((0,_defineProperties2.default)(strings,{raw:{value:(0,_freeze2.default)(raw)}}))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(198),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(199),module.exports=__webpack_require__(41).Object.freeze},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),meta=__webpack_require__(118).onFreeze;__webpack_require__(93)("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(window,document,exportName,undefined){"use strict";var VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=document.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs=Math.abs,now=Date.now,assign;function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){return!!Array.isArray(arg)&&(each(arg,context[fn],context),!0)}function each(obj,iterator,context){var i;if(obj)if(obj.forEach)obj.forEach(iterator,context);else if(obj.length!==undefined)for(i=0;i<obj.length;)iterator.call(context,obj[i],i,obj),i++;else for(i in obj)obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}function deprecate(method,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace"),stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",log=window.console&&(window.console.warn||window.console.log);return log&&log.call(window.console,deprecationMessage,stack),method.apply(this,arguments)}}assign="function"!=typeof Object.assign?function assign(target){if(target===undefined||null===target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&null!==source)for(var nextKey in source)source.hasOwnProperty(nextKey)&&(output[nextKey]=source[nextKey])}return output}:Object.assign;var extend=deprecate(function extend(dest,src,merge){for(var keys=Object.keys(src),i=0;i<keys.length;)(!merge||merge&&dest[keys[i]]===undefined)&&(dest[keys[i]]=src[keys[i]]),i++;return dest},"extend","Use `assign`."),merge=deprecate(function merge(dest,src){return extend(dest,src,!0)},"merge","Use `assign`.");function inherit(child,base,properties){var baseP=base.prototype,childP;(childP=child.prototype=Object.create(baseP)).constructor=child,childP._super=baseP,properties&&assign(childP,properties)}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}function boolOrFn(val,args){return typeof val==TYPE_FUNCTION?val.apply(args&&args[0]||undefined,args):val}function ifUndefined(val1,val2){return val1===undefined?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,!1)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,!1)})}function hasParent(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey)return src.indexOf(find);for(var i=0;i<src.length;){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find)return i;i++}return-1}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];inArray(values,val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function sortUniqueArray(a,b){return a[key]>b[key]}):results.sort()),results}function prefixed(obj,property){for(var prefix,prop,camelProp=property[0].toUpperCase()+property.slice(1),i=0;i<VENDOR_PREFIXES.length;){if((prop=(prefix=VENDOR_PREFIXES[i])?prefix+camelProp:property)in obj)return prop;i++}return undefined}var _uniqueId=1;function uniqueId(){return _uniqueId++}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_POINTER_EVENTS=prefixed(window,"PointerEvent")!==undefined,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function Input(manager,callback){var self=this;this.manager=manager,this.callback=callback,this.element=manager.element,this.target=manager.options.inputTarget,this.domHandler=function(ev){boolOrFn(manager.options.enable,[manager])&&self.handler(ev)},this.init()}function createInputInstance(manager){var Type,inputClass=manager.options.inputClass;return new(Type=inputClass||(SUPPORT_POINTER_EVENTS?PointerEventInput:SUPPORT_ONLY_TOUCH?TouchInput:SUPPORT_TOUCH?TouchMouseInput:MouseInput))(manager,inputHandler)}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length,changedPointersLen=input.changedPointers.length,isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen==0,isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen==0;input.isFirst=!!isFirst,input.isFinal=!!isFinal,isFirst&&(manager.session={}),input.eventType=eventType,computeInputData(manager,input),manager.emit("hammer.input",input),manager.recognize(input),manager.session.prevInput=input}function computeInputData(manager,input){var session=manager.session,pointers=input.pointers,pointersLength=pointers.length;session.firstInput||(session.firstInput=simpleCloneInputData(input)),pointersLength>1&&!session.firstMultiple?session.firstMultiple=simpleCloneInputData(input):1===pointersLength&&(session.firstMultiple=!1);var firstInput=session.firstInput,firstMultiple=session.firstMultiple,offsetCenter=firstMultiple?firstMultiple.center:firstInput.center,center=input.center=getCenter(pointers);input.timeStamp=now(),input.deltaTime=input.timeStamp-firstInput.timeStamp,input.angle=getAngle(offsetCenter,center),input.distance=getDistance(offsetCenter,center),computeDeltaXY(session,input),input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x,input.overallVelocityY=overallVelocity.y,input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y,input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1,input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0,input.maxPointers=session.prevInput?input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers:input.pointers.length,computeIntervalInputData(session,input);var target=manager.element;hasParent(input.srcEvent.target,target)&&(target=input.srcEvent.target),input.target=target}function computeDeltaXY(session,input){var center=input.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevInput=session.prevInput||{};input.eventType!==INPUT_START&&prevInput.eventType!==INPUT_END||(prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y}),input.deltaX=prevDelta.x+(center.x-offset.x),input.deltaY=prevDelta.y+(center.y-offset.y)}function computeIntervalInputData(session,input){var last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp,velocity,velocityX,velocityY,direction;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===undefined)){var deltaX=input.deltaX-last.deltaX,deltaY=input.deltaY-last.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY),session.lastInterval=input}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;input.velocity=velocity,input.velocityX=velocityX,input.velocityY=velocityY,input.direction=direction}function simpleCloneInputData(input){for(var pointers=[],i=0;i<input.pointers.length;)pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)},i++;return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(1===pointersLength)return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)};for(var x=0,y=0,i=0;i<pointersLength;)x+=pointers[i].clientX,y+=pointers[i].clientY,i++;return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){return x===y?DIRECTION_NONE:abs(x)>=abs(y)?x<0?DIRECTION_LEFT:DIRECTION_RIGHT:y<0?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return 180*Math.atan2(y,x)/Math.PI}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup";function MouseInput(){this.evEl=MOUSE_ELEMENT_EVENTS,this.evWin=MOUSE_WINDOW_EVENTS,this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];eventType&INPUT_START&&0===ev.button&&(this.pressed=!0),eventType&INPUT_MOVE&&1!==ev.which&&(eventType=INPUT_END),this.pressed&&(eventType&INPUT_END&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:"mouse",srcEvent:ev}))}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:"touch",3:"pen",4:"mouse",5:"kinect"},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}window.MSPointerEvent&&!window.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(ev){var store=this.store,removePointer=!1,eventTypeNormalized=ev.type.toLowerCase().replace("ms",""),eventType=POINTER_INPUT_MAP[eventTypeNormalized],pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType,isTouch="touch"==pointerType,storeIndex=inArray(store,ev.pointerId,"pointerId");eventType&INPUT_START&&(0===ev.button||isTouch)?storeIndex<0&&(store.push(ev),storeIndex=store.length-1):eventType&(INPUT_END|INPUT_CANCEL)&&(removePointer=!0),storeIndex<0||(store[storeIndex]=ev,this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev}),removePointer&&store.splice(storeIndex,1))}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS,this.evWin=SINGLE_TOUCH_WINDOW_EVENTS,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(ev,type){var all=toArray(ev.touches),changed=toArray(ev.changedTouches);return type&(INPUT_END|INPUT_CANCEL)&&(all=uniqueArray(all.concat(changed),"identifier",!0)),[all,changed]}inherit(SingleTouchInput,Input,{handler:function TEhandler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START&&(this.started=!0),this.started){var touches=normalizeSingleTouches.call(this,ev,type);type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length==0&&(this.started=!1),this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}}});var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=TOUCH_TARGET_EVENTS,this.targetIds={},Input.apply(this,arguments)}function getTouches(ev,type){var allTouches=toArray(ev.touches),targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&1===allTouches.length)return targetIds[allTouches[0].identifier]=!0,[allTouches,allTouches];var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)}),type===INPUT_START)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;for(i=0;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),type&(INPUT_END|INPUT_CANCEL)&&delete targetIds[changedTouches[i].identifier],i++;return changedTargetTouches.length?[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0),changedTargetTouches]:void 0}inherit(TouchInput,Input,{handler:function MTEhandler(ev){var type=TOUCH_INPUT_MAP[ev.type],touches=getTouches.call(this,ev,type);touches&&this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}});var DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler),this.mouse=new MouseInput(this.manager,handler),this.primaryTouch=null,this.lastTouches=[]}function recordTouches(eventType,eventData){eventType&INPUT_START?(this.primaryTouch=eventData.changedPointers[0].identifier,setLastTouch.call(this,eventData)):eventType&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,eventData)}function setLastTouch(eventData){var touch=eventData.changedPointers[0];if(touch.identifier===this.primaryTouch){var lastTouch={x:touch.clientX,y:touch.clientY};this.lastTouches.push(lastTouch);var lts=this.lastTouches,removeLastTouch;setTimeout(function(){var i=lts.indexOf(lastTouch);i>-1&&lts.splice(i,1)},DEDUP_TIMEOUT)}}function isSyntheticEvent(eventData){for(var x=eventData.srcEvent.clientX,y=eventData.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var t=this.lastTouches[i],dx=Math.abs(x-t.x),dy=Math.abs(y-t.y);if(dx<=DEDUP_DISTANCE&&dy<=DEDUP_DISTANCE)return!0}return!1}inherit(TouchMouseInput,Input,{handler:function TMEhandler(manager,inputEvent,inputData){var isTouch="touch"==inputData.pointerType,isMouse="mouse"==inputData.pointerType;if(!(isMouse&&inputData.sourceCapabilities&&inputData.sourceCapabilities.firesTouchEvents)){if(isTouch)recordTouches.call(this,inputEvent,inputData);else if(isMouse&&isSyntheticEvent.call(this,inputData))return;this.callback(manager,inputEvent,inputData)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==undefined,TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=getTouchActionProps();function TouchAction(manager,value){this.manager=manager,this.set(value)}function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);return hasPanX&&hasPanY?TOUCH_ACTION_NONE:hasPanX||hasPanY?hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(actions,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var touchMap={},cssSupports=window.CSS&&window.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(val){touchMap[val]=!cssSupports||window.CSS.supports("touch-action",val)}),touchMap}TouchAction.prototype={set:function(value){"compute"==value&&(value=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[value]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=value),this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];return each(this.manager.recognizers,function(recognizer){boolOrFn(recognizer.options.enable,[recognizer])&&(actions=actions.concat(recognizer.getTouchAction()))}),cleanTouchActions(actions.join(" "))},preventDefaults:function(input){var srcEvent=input.srcEvent,direction=input.offsetDirection;if(this.manager.session.prevented)srcEvent.preventDefault();else{var actions=this.actions,hasNone=inStr(actions,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],hasPanX=inStr(actions,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(hasNone){var isTapPointer=1===input.pointers.length,isTapMovement=input.distance<2,isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime)return}if(!hasPanX||!hasPanY)return hasNone||hasPanY&&direction&DIRECTION_HORIZONTAL||hasPanX&&direction&DIRECTION_VERTICAL?this.preventSrc(srcEvent):void 0}},preventSrc:function(srcEvent){this.manager.session.prevented=!0,srcEvent.preventDefault()}};var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32;function Recognizer(options){this.options=assign({},this.defaults,options||{}),this.id=uniqueId(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}function stateStr(state){return state&STATE_CANCELLED?"cancel":state&STATE_ENDED?"end":state&STATE_CHANGED?"move":state&STATE_BEGAN?"start":""}function directionStr(direction){return direction==DIRECTION_DOWN?"down":direction==DIRECTION_UP?"up":direction==DIRECTION_LEFT?"left":direction==DIRECTION_RIGHT?"right":""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;return manager?manager.get(otherRecognizer):otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(element,options){return(options=options||{}).recognizers=ifUndefined(options.recognizers,Hammer.defaults.preset),new Manager(element,options)}Recognizer.prototype={defaults:{},set:function(options){return assign(this.options,options),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this))return this;var simultaneous=this.simultaneous;return simultaneous[(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this)).id]||(simultaneous[otherRecognizer.id]=otherRecognizer,otherRecognizer.recognizeWith(this)),this},dropRecognizeWith:function(otherRecognizer){return invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)?this:(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),delete this.simultaneous[otherRecognizer.id],this)},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this))return this;var requireFail=this.requireFail;return-1===inArray(requireFail,otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this))&&(requireFail.push(otherRecognizer),otherRecognizer.requireFailure(this)),this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this))return this;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);return index>-1&&this.requireFail.splice(index,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){var self=this,state=this.state;function emit(event){self.manager.emit(event,input)}state<STATE_ENDED&&emit(self.options.event+stateStr(state)),emit(self.options.event),input.additionalEvent&&emit(input.additionalEvent),state>=STATE_ENDED&&emit(self.options.event+stateStr(state))},tryEmit:function(input){if(this.canEmit())return this.emit(input);this.state=32},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(32|STATE_POSSIBLE)))return!1;i++}return!0},recognize:function(inputData){var inputDataClone=assign({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone]))return this.reset(),void(this.state=32);this.state&(STATE_RECOGNIZED|STATE_CANCELLED|32)&&(this.state=STATE_POSSIBLE),this.state=this.process(inputDataClone),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(inputDataClone)},process:function(inputData){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return 0===optionPointers||input.pointers.length===optionPointers},process:function(input){var state=this.state,eventType=input.eventType,isRecognized=state&(STATE_BEGAN|STATE_CHANGED),isValid=this.attrTest(input);return isRecognized&&(eventType&INPUT_CANCEL||!isValid)?state|STATE_CANCELLED:isRecognized||isValid?eventType&INPUT_END?state|STATE_ENDED:state&STATE_BEGAN?state|STATE_CHANGED:STATE_BEGAN:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction,actions=[];return direction&DIRECTION_HORIZONTAL&&actions.push(TOUCH_ACTION_PAN_Y),direction&DIRECTION_VERTICAL&&actions.push(TOUCH_ACTION_PAN_X),actions},directionTest:function(input){var options=this.options,hasMoved=!0,distance=input.distance,direction=input.direction,x=input.deltaX,y=input.deltaY;return direction&options.direction||(options.direction&DIRECTION_HORIZONTAL?(direction=0===x?DIRECTION_NONE:x<0?DIRECTION_LEFT:DIRECTION_RIGHT,hasMoved=x!=this.pX,distance=Math.abs(input.deltaX)):(direction=0===y?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN,hasMoved=y!=this.pY,distance=Math.abs(input.deltaY))),input.direction=direction,hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var direction=directionStr(input.direction);direction&&(input.additionalEvent=this.options.event+direction),this._super.emit.call(this,input)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){if(1!==input.scale){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}this._super.emit.call(this,input)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTime=input.deltaTime>options.time;if(this._input=input,!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime)this.reset();else if(input.eventType&INPUT_START)this.reset(),this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.time,this);else if(input.eventType&INPUT_END)return STATE_RECOGNIZED;return 32},reset:function(){clearTimeout(this._timer)},emit:function(input){this.state===STATE_RECOGNIZED&&(input&&input.eventType&INPUT_END?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var direction=this.options.direction,velocity;return direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?velocity=input.overallVelocity:direction&DIRECTION_HORIZONTAL?velocity=input.overallVelocityX:direction&DIRECTION_VERTICAL&&(velocity=input.overallVelocityY),this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.offsetDirection);direction&&this.manager.emit(this.options.event+direction,input),this.manager.emit(this.options.event,input)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTouchTime=input.deltaTime<options.time;if(this.reset(),input.eventType&INPUT_START&&0===this.count)return this.failTimeout();if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END)return this.failTimeout();var validInterval=!this.pTime||input.timeStamp-this.pTime<options.interval,validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold,tapCount;if(this.pTime=input.timeStamp,this.pCenter=input.center,validMultiTap&&validInterval?this.count+=1:this.count=1,this._input=input,0===this.count%options.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.interval,this),STATE_BEGAN):STATE_RECOGNIZED}return 32},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var STOP=1,FORCED_STOP=2,freeGlobal;function Manager(element,options){this.options=assign({},Hammer.defaults,options||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=element,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]),item[3]&&recognizer.requireFailure(item[3])},this)}function toggleCssProps(manager,add){var element=manager.element,prop;element.style&&(each(manager.options.cssProps,function(value,name){prop=prefixed(element.style,name),add?(manager.oldCssProps[prop]=element.style[prop],element.style[prop]=value):element.style[prop]=manager.oldCssProps[prop]||""}),add||(manager.oldCssProps={}))}function triggerDomEvent(event,data){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,!0,!0),gestureEvent.gesture=data,data.target.dispatchEvent(gestureEvent)}Manager.prototype={set:function(options){return assign(this.options,options),options.touchAction&&this.touchAction.update(),options.inputTarget&&(this.input.destroy(),this.input.target=options.inputTarget,this.input.init()),this},stop:function(force){this.session.stopped=force?2:1},recognize:function(inputData){var session=this.session;if(!session.stopped){var recognizer;this.touchAction.preventDefaults(inputData);var recognizers=this.recognizers,curRecognizer=session.curRecognizer;(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED)&&(curRecognizer=session.curRecognizer=null);for(var i=0;i<recognizers.length;)recognizer=recognizers[i],2===session.stopped||curRecognizer&&recognizer!=curRecognizer&&!recognizer.canRecognizeWith(curRecognizer)?recognizer.reset():recognizer.recognize(inputData),!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(curRecognizer=session.curRecognizer=recognizer),i++}},get:function(recognizer){if(recognizer instanceof Recognizer)return recognizer;for(var recognizers=this.recognizers,i=0;i<recognizers.length;i++)if(recognizers[i].options.event==recognizer)return recognizers[i];return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this))return this;var existing=this.get(recognizer.options.event);return existing&&this.remove(existing),this.recognizers.push(recognizer),recognizer.manager=this,this.touchAction.update(),recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this))return this;if(recognizer=this.get(recognizer)){var recognizers=this.recognizers,index=inArray(recognizers,recognizer);-1!==index&&(recognizers.splice(index,1),this.touchAction.update())}return this},on:function(events,handler){if(events!==undefined&&handler!==undefined){var handlers=this.handlers;return each(splitStr(events),function(event){handlers[event]=handlers[event]||[],handlers[event].push(handler)}),this}},off:function(events,handler){if(events!==undefined){var handlers=this.handlers;return each(splitStr(events),function(event){handler?handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1):delete handlers[event]}),this}},emit:function(event,data){this.options.domEvents&&triggerDomEvent(event,data);var handlers=this.handlers[event]&&this.handlers[event].slice();if(handlers&&handlers.length){data.type=event,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<handlers.length;)handlers[i](data),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},assign(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:32,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:DIRECTION_LEFT,DIRECTION_RIGHT:DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,assign:assign,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),(void 0!==window?window:"undefined"!=typeof self?self:{}).Hammer=Hammer,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Hammer}.call(exports,__webpack_require__,exports,module))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window,document,"Hammer")},function(module,exports,__webpack_require__){var baseDelay=__webpack_require__(202),restParam,defer=__webpack_require__(203)(function(func,args){return baseDelay(func,1,args)});module.exports=defer},function(module,exports){var FUNC_ERROR_TEXT="Expected a function";function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(void 0,args)},wait)}module.exports=baseDelay},function(module,exports){var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(void 0===start?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}module.exports=restParam},function(module,exports){function noop(){}module.exports=noop},function(module,exports){
/*!
	* screenfull
	* v3.3.3 - 2018-09-04
	* (c) Sindre Sorhus; MIT License
	*/
!function(){"use strict";var document="undefined"!=typeof window&&void 0!==window.document?window.document:{},isCommonjs=void 0!==module&&module.exports,keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,fn=function(){for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if((val=fnMap[i])&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror},screenfull={request:function(elem){var request=fn.requestFullscreen;elem=elem||document.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?elem[request]():elem[request](keyboardAllowed?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){this.isFullscreen?this.exit():this.request(elem)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){var eventName=eventNameMap[event];eventName&&document.addEventListener(eventName,callback,!1)},off:function(event,callback){var eventName=eventNameMap[event];eventName&&document.removeEventListener(eventName,callback,!1)},raw:fn};fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),isCommonjs?module.exports=screenfull:window.screenfull=screenfull):isCommonjs?module.exports=!1:window.screenfull=!1}()},function(module,exports,__webpack_require__){var global,factory;global=this,factory=function(){"use strict";var VERY_COMMON_ATTRS="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",COMMON_ATTRS="alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width",OTHER_ATTRS="border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding",TEXT_CONTENT_PROP=hasTextContent()?"textContent":"innerText",FORMATTING_TAGS=["b","del","em","i","s","strong","sub","sup"],ALLOWED_TAGS=FORMATTING_TAGS.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),ALLOWED_ATTRS=[VERY_COMMON_ATTRS,COMMON_ATTRS,OTHER_ATTRS].join("|"),ALLOWED_URL_ATTRS="href|src",ALLOWED_URL_PREFIXES="data:image/(?:gif|jpg|jpeg|png);base64,",constants__ALLOWED_URL_SCHEMES="https?|ftp|mailto",ENTITIES_PATTERN,R_ENTITIES=new RegExp("&#?[a-zA-Z0-9]{1,10};");function ValueString(){}function hasTextContent(){return"undefined"==typeof document||"textContent"in document.createElement("div")}function log(message,level){if(level=level||"log",window&&window.jet&&"error"===level.toLowerCase())try{throw new Error(message)}catch(e){try{window.jet.error(e)}catch(recatch){}}"undefined"!=typeof console&&"function"==typeof console[level]&&console[level](message)}var htmlEncode=(rHtmlChars=/[&<>"'\u0000\\=]/g,htmlCharsToEntities={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(str){return null==str?null:str.toString().replace(rHtmlChars,function(match){return htmlCharsToEntities[match]})}),rHtmlChars,htmlCharsToEntities,htmlUnencode=function(){var helperDiv,rEntities=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,decodeNumericEntity;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};helperDiv=document.createElement("div");var decodedEntities={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'};function decodeNamedEntity(entity){var decoded;return decodedEntities.hasOwnProperty(entity)?decodedEntities[entity]:(helperDiv.innerHTML="&"+entity+";",decoded=helperDiv[TEXT_CONTENT_PROP],decodedEntities[entity]=decoded,decoded)}return decodeNumericEntity="function"==typeof String.fromCodePoint?function(num){return String.fromCodePoint(num)}:function(num){return num<=65535?String.fromCharCode(num):"�"},function htmlUnencode(encodedText){return null==encodedText?null:(encodedText+"").replace(rEntities,function(match,named,hex,dec){return named?decodeNamedEntity(named):hex||dec?decodeNumericEntity(parseInt(hex||dec,hex?16:10)||65533):"�"})}}();function reEncode(string){return htmlEncode(htmlUnencode(string))}function text(string){return log("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),htmlEncode(string)}var isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};function containsHTML(string){return/[<&]/.test(string)}function escapeRegexChars(string){return(string+"").replace(/[\-#$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")}function extend(target,source){for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key]);return target}function flattenShallow(array){return array.reduce(function(newArray,el){return newArray.concat(el)},[])}var forEach=Array.prototype.forEach?function(array,fn){Array.prototype.forEach.call(array,fn)}:function(array,fn){for(var i=0,length=array.length;i<length;i++)fn(array[i],i)},OPTIONAL_WHITESPACE="[ \t\r\n]*",SOME_WHITESPACE="[ \t\r\n]+";function generateWhitelist(options){options=isArray(options)?options:[options];var tags,attrs,checkUrlAttrs,captureGroupCount=0,r="<(?!/?";return r+="(?:",forEach(options,function(o,idx){tags=o.tags||ALLOWED_TAGS,attrs=o.attrs||ALLOWED_ATTRS,checkUrlAttrs=o.checkUrlAttrs||!1,0!==idx&&(r+="|"),r+="(?:"+tags.join("|")+")",r+="(?:",r+=OPTIONAL_WHITESPACE,r+="|"+SOME_WHITESPACE,r+="(?:(?:",r+="(?:"+attrs+")(?:=([\"'])[^'\"<>]*\\"+ ++captureGroupCount+")?",checkUrlAttrs&&(r+="|(?:"+ALLOWED_URL_ATTRS+")=([\"'])(?:(?:"+constants__ALLOWED_URL_SCHEMES+")(?::|&#(?:58|x3a);)|(?:"+ALLOWED_URL_PREFIXES+")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++captureGroupCount),r+=")"+OPTIONAL_WHITESPACE+")+",r+=")"}),r+=")",r+="/?>)",new RegExp(r,"i")}function createHTMLWhitelist(tags){return generateWhitelist({tags:tags=tags||ALLOWED_TAGS,checkUrlAttrs:!0})}function createCustomElementWhitelist(){var liIconCustomElement={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return generateWhitelist([{tags:ALLOWED_TAGS,checkUrlAttrs:!0},{tags:[liIconCustomElement.tag],attrs:[VERY_COMMON_ATTRS,liIconCustomElement.attrs].join("|"),checkUrlAttrs:!1}])}function isSafeHTML(string,options){var isSafe=!1,rHtmlWhitelist,customTagWhitelist=(options=options||{}).allowTags,checkCustomElement=!1!==options.hasCustomElementMarkup;return customTagWhitelist?!(rHtmlWhitelist=createHTMLWhitelist(customTagWhitelist)).test(string):checkCustomElement?!isSafeHTML.R_UNSAFE_CUSTOM_ELEMENT.test(string):!isSafeHTML.R_UNSAFE_HTML.test(string)}function stripTags(string){return string.replace(/<[^>]*>|[<>'"&\\]/g,"")}function processString(string,replacements,options){if(null==string)return null;string=string.toString();var replacedString=replacements?replacePlaceholders(string,replacements):string,origString=string;return containsHTML(replacedString)&&!isSafeHTML(replacedString,options)&&(replacedString=stripTags(replacedString),log("Content contains non-whitelisted tags or attributes:\nContent: "+origString,"error")),replacedString}function replacePlaceholders(string,replacements){var processedReplacements={};return string.replace(/\{([^}]+)\}/g,function(match,placeholder){var replacement=match,isString,isNumber;if(processedReplacements.hasOwnProperty(placeholder))return processedReplacements[placeholder];if(replacements.hasOwnProperty(placeholder)){if(!((isString="string"==typeof(replacement=replacements[placeholder]))||replacement instanceof ValueString||(isNumber="number"==typeof replacement)))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");replacement=isString?htmlEncode(replacement):replacement.toString()}return processedReplacements[placeholder]=replacement,replacement})}function merge(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first}isSafeHTML.R_UNSAFE_HTML=createHTMLWhitelist(),isSafeHTML.R_UNSAFE_CUSTOM_ELEMENT=createCustomElementWhitelist();var wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rtagName=/<([\w:]+)/;function buildFragment(htmls,context){var tag,wrap,fragment=context.createDocumentFragment(),wrapped,tmp,nodes=[],html,i,j,l;for(i=0,l=htmls.length;i<l;i++)if((html=htmls[i])||0===html)if("string"==typeof html){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(html)||["",""])[1].toLowerCase(),setElementContent(tmp,wrapped=(wrap=wrapMap[tag]||wrapMap._default)[1]+html+wrap[2]),j=wrap[0];j--;)tmp.lastChild&&tmp.lastChild.nodeType===Node.ELEMENT_NODE&&(tmp=tmp.lastChild);merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else merge(nodes,html.nodeType?[html]:html);for(fragment.textContent="",html=nodes[i=0];html;)fragment.appendChild(html),html=nodes[++i];return fragment}function parseHTML(template,context){var parsed;if(context=context||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof template)parsed=buildFragment([template],context);else{if(!isArray(template))return template;parsed=buildFragment(template,context)}return merge([],parsed.childNodes)}var manipulation_parseHTML=parseHTML,processTemplate=processString,sanitizeHTML=processString;function setElementContent(el,template,replacements){var processedTemplate=processString(template,replacements);return containsHTML(processedTemplate)?el.innerHTML=processedTemplate:el[TEXT_CONTENT_PROP]=processedTemplate,processedTemplate}function parseSelector(selector){var rQuickExpr;return"string"==typeof selector&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(selector)?[]:selector}function unsafe(text){return text}function UnsafeString(string,options){if(!(this instanceof UnsafeString))return new UnsafeString(string,options);(options=options||{}).allowTags=options.allowTags?flattenShallow(options.allowTags):null,this._string=string,this._options=options}function mk(quasis){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];var html="",param=void 0,l=params.length;return quasis&&quasis.forEach(function(string,i){html+=string,i<l&&(param=params[i],html+=param instanceof UnsafeString?param:htmlEncode(param))}),sanitizeHTML(html)}UnsafeString.prototype=extend(new ValueString,{toString:function toString(){var string=this._string,stringVal=this._stringVal,origString=string;return void 0!==stringVal?stringVal:(isSafeHTML(string,this._options)||(origString=string,string=stripTags(string),log("UnsafeString contains non-whitelisted tags or attributes.\nString: "+origString,"error")),this._stringVal=string,string)}});var tagged_template_literal_mk=mk,_url__ALLOWED_URL_SCHEMES,ALLOWED_DATA_URI_SCHEMES,RELATIVE_HASH_OR_QUERY_ONLY="[/.#?]",rALL_SPACES=/ /g,rBAD_CHARS=/[\s\u0000<>"]|%00/,rBACKSLASH=/\\/,rDOT_DOT=/([.]|%2e){2}/i,rAllowedStartOfUrl=new RegExp("^(?:"+"https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension"+"|"+"data:(?:(?:image/(?:gif|jpe?g|png))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]"+"|[/.#?])");function sanitizeUrl(url){var testUrl=void 0,defaultUrl="invalid://";if("string"!=typeof url)return log("jSecure Warning: url must be a string","error"),defaultUrl;if((testUrl=url.trim()).indexOf(" ")>-1&&(log("jSecure Warning: url should not contain spaces: "+url,"warn"),testUrl=testUrl.replace(rALL_SPACES,"+")),!rAllowedStartOfUrl.test(testUrl))return log("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+url,"error"),defaultUrl;if(rBAD_CHARS.test(testUrl))return log("jSecure Error: not valid url character found in url: "+url,"error"),defaultUrl;var path=testUrl.split("?")[0];return rBACKSLASH.test(path)||rDOT_DOT.test(path)||rDOT_DOT.test(decodeURI(path))?(log("jSecure Error: malicious data found in url path: "+path,"error"),defaultUrl):url}var _redirector={redirect:function redirect(sanitizedUrl){window&&(window.location.href=sanitizedUrl)}},index;function _url__redirect(url){var sanitizedUrl=sanitizeUrl(url);sanitizedUrl===url&&_redirector.redirect(sanitizedUrl)}return{ALLOWED_TAGS:ALLOWED_TAGS,FORMATTING_TAGS:FORMATTING_TAGS,htmlEncode:htmlEncode,htmlUnencode:htmlUnencode,log:log,mk:mk,parseHTML:parseHTML,parseSelector:parseSelector,processTemplate:processTemplate,reEncode:reEncode,_redirector:_redirector,redirect:_url__redirect,sanitizeHTML:sanitizeHTML,sanitizeUrl:sanitizeUrl,setElementContent:setElementContent,text:text,unsafe:unsafe,UnsafeString:UnsafeString}},module.exports=factory()},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=__webpack_require__(138).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashIsundefined,_lodashIsundefined2=_interopRequireDefault(__webpack_require__(208)),_lodashFind,_lodashFind2=_interopRequireDefault(__webpack_require__(209)),_lodashPairs,_lodashPairs2=_interopRequireDefault(__webpack_require__(171));function getTransitionEndEvent(){var el=document.createElement("temp"),transitions={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"};return(0,_lodashFind2.default)((0,_lodashPairs2.default)(transitions),function(_ref){var _ref2,name=_slicedToArray(_ref,1)[0];return!(0,_lodashIsundefined2.default)(el.style[name])})[1]}var transitionEndEvent=getTransitionEndEvent();exports.transitionEndEvent=transitionEndEvent},function(module,exports){function isUndefined(value){return void 0===value}module.exports=isUndefined},function(module,exports,__webpack_require__){var baseCallback=__webpack_require__(210),baseEach=__webpack_require__(214),baseFind=__webpack_require__(215),baseFindIndex=__webpack_require__(216),isArray=__webpack_require__(7);function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=baseCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:void 0}return baseFind(collection,predicate,eachFunc)}}var find=createFind(baseEach);module.exports=find},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(211),bindCallback=__webpack_require__(213),isArray=__webpack_require__(7),pairs=__webpack_require__(171),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g;function baseToString(value){return null==value?"":value+""}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?void 0===thisArg?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):void 0===thisArg?property(func):baseMatchesProperty(func,thisArg)}function baseGet(object,path,pathKey){if(null!=object){void 0!==pathKey&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&index<length;)object=object[path[index++]];return index&&index==length?object:void 0}}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):void 0;if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object[key]===value&&(void 0!==value||key in toObject(object)))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(null==(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1))))return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?void 0!==srcValue||key in object:baseIsEqual(srcValue,object[key],void 0,!0)}}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;(start=null==start?0:+start||0)<0&&(start=-start>length?0:length+start),(end=void 0===end||end>length?length:+end||0)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function isKey(value,object){var type=typeof value,result;return!!("string"==type&&reIsPlainProp.test(value)||"number"==type)||!isArray(value)&&(!reIsDeepProp.test(value)||null!=object&&value in toObject(object))}function isStrictComparable(value){return value==value&&!isObject(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function last(array){var length=array?array.length:0;return length?array[length-1]:void 0}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}module.exports=baseCallback},function(module,exports,__webpack_require__){var isArray=__webpack_require__(7),isTypedArray=__webpack_require__(212),keys=__webpack_require__(4),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]";function isObjectLike(value){return!!value&&"object"==typeof value}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB))}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||((objTag=objToString.call(object))==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||((othTag=objToString.call(other))==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):void 0;if(void 0!==result){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps,othLength;if(objLength!=keys(other).length&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):void 0;if(!(void 0===result?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=baseIsEqual},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag,float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto,objectToString=Object.prototype.toString;function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObjectLike(value){return!!value&&"object"==typeof value}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}module.exports=isTypedArray},function(module,exports){function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(void 0===thisArg)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},function(module,exports,__webpack_require__){var keys=__webpack_require__(4),MAX_SAFE_INTEGER=9007199254740991,baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}var getLength=baseProperty("length");function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=baseEach},function(module,exports){function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}module.exports=baseFind},function(module,exports){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}module.exports=baseFindIndex},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_createSlide,_createSlide2=_interopRequireDefault(__webpack_require__(218)),_resetSlide,_resetSlide2=_interopRequireDefault(__webpack_require__(219)),LOAD_ERROR_CLASS="carousel-element-load-error",LOAD_SUCCESS_CLASS="carousel-element-load-success",LOAD_STARTED_CLASS="carousel-element-loaded",SLIDE_ERROR_CLASS="carousel-slide-error",IS_PORTRAIT_CLASS="carousel-slide-is-portrait",LAZY_ELEMENT_CLASS="carousel-lazy-element",LOADER_ACTIVE_CLASS="ssplayer-active",Slide=function(){function Slide(index,_ref){var className=_ref.className,indexAttrName=_ref.indexAttrName,loaderElementTemplate=_ref.loaderElementTemplate;_classCallCheck(this,Slide),this.index=index,this.className=className,this.indexAttrName=indexAttrName,this.loaderElementTemplate=loaderElementTemplate,this.containerElement=(0,_createSlide2.default)({index:index,slideClass:className,indexAttribute:indexAttrName})}return _createClass(Slide,[{key:"setActive",value:function setActive(activeClass){this.containerElement.classList.add(activeClass),this.containerElement.removeAttribute("tabindex"),this.containerElement.removeAttribute("aria-hidden")}},{key:"update",value:function update(imageSource,_ref2){var attrsToClear=_ref2.attrsToClear,isPortrait=_ref2.isPortrait,force=_ref2.force;if(!this.initialized||force)this._create(imageSource,{attrsToClear:attrsToClear,isPortrait:isPortrait}),this.initialized=!0;else{var sanitizedImageSrc=_linkedinJsecure2.default.sanitizeUrl(imageSource);this.imageElement.classList.remove(LOAD_STARTED_CLASS,LOAD_SUCCESS_CLASS,LOAD_ERROR_CLASS),this.imageElement.dataset.src=sanitizedImageSrc}}},{key:"loadImage",value:function loadImage(){var _this=this,src=this.imageElement.dataset.src,shadowImage=new Image;shadowImage.onerror=function(){_this.containerElement.classList.add(SLIDE_ERROR_CLASS),_this.imageElement.classList.add(LOAD_STARTED_CLASS,LOAD_ERROR_CLASS)},shadowImage.onload=function(){src===_this.imageElement.dataset.src&&(_this.imageElement.classList.add(LOAD_STARTED_CLASS,LOAD_SUCCESS_CLASS),_this.imageElement.src=shadowImage.src,_this._stopLoader())},this.imageElement.src||this._startLoader(),shadowImage.src=src}},{key:"_create",value:function _create(imageSource,_ref3){var _imageElement$classList,attrsToClear=_ref3.attrsToClear,isPortrait=_ref3.isPortrait,sanitizedImageSrc=_linkedinJsecure2.default.sanitizeUrl(imageSource);this.containerElement=(0,_resetSlide2.default)({slide:this.containerElement,slideClass:this.className,indexAttribute:this.indexAttrName,index:this.index,clearAttrs:attrsToClear}),this.imageElement=document.createElement("img");var imageClasses=isPortrait?[LAZY_ELEMENT_CLASS,IS_PORTRAIT_CLASS]:[LAZY_ELEMENT_CLASS];(_imageElement$classList=this.imageElement.classList).add.apply(_imageElement$classList,imageClasses),this.imageElement.dataset.src=sanitizedImageSrc,this.imageElement.alt=this.index+1,this.containerElement.appendChild(this.imageElement)}},{key:"_startLoader",value:function _startLoader(){this.loaderElementTemplate.classList.add("ssplayer-active")}},{key:"_stopLoader",value:function _stopLoader(){this.loaderElementTemplate.classList.remove("ssplayer-active")}}]),Slide}();exports.default=Slide,module.exports=exports.default},function(module,exports){"use strict";function createSlide(_ref){var element=_ref.element,slideClass=_ref.slideClass,indexAttribute=_ref.indexAttribute,index=_ref.index,slide=element||document.createElement("li");return"string"==typeof slideClass&&slide.setAttribute("class",slideClass),"string"==typeof indexAttribute&&"number"==typeof index&&slide.setAttribute(indexAttribute,index),slide}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createSlide,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=resetSlide;var _createSlide,_createSlide2=_interopRequireDefault(__webpack_require__(218));function resetSlide(_ref){var slide=_ref.slide,slideClass=_ref.slideClass,indexAttribute=_ref.indexAttribute,index=_ref.index,clearAttrs=_ref.clearAttrs;return slide.textContent="",clearAttrs.forEach(function(attribute){slide.removeAttribute(attribute)}),(0,_createSlide2.default)({element:slide,slideClass:slideClass,indexAttribute:indexAttribute,index:index})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_helpersMouseEvents=__webpack_require__(221),_position,_position2,DiscreteProgressComponent=function(_PositionComponent){function DiscreteProgressComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],document=arguments.length<=2||void 0===arguments[2]?element.ownerDocument:arguments[2];return function(){_classCallCheck(this,DiscreteProgressComponent),_get(Object.getPrototypeOf(DiscreteProgressComponent.prototype),"constructor",this).call(this,element,options),this.options=(0,_lodashDefaultsdeep2.default)({},options,{classes:{progress:"ssplayer-progress-bar__progress",progressBarScrubber:"ssplayer-progress-bar__scrubber",progressContainer:"ssplayer-progress-bar__container",progressValue:"ssplayer-progress-bar__progress-value"}}),this.length-=1,this.$progress=this.adapter.find(this.adaptedElement,"."+this.options.classes.progress),this.$progressValue=this.adapter.find(this.adaptedElement,"."+this.options.classes.progressValue),this.$progressContainer=this.adapter.find(this.adaptedElement,"."+this.options.classes.progressContainer),this.$scrubber=this.adapter.find(this.adaptedElement,"."+this.options.classes.progressBarScrubber),this.document=document,this.adaptedElement.attr({"aria-valuemin":1,"aria-valuemax":this.length+1}),this._setAriaForPosition(this.position),this.options.isSinglePage&&this.hide()}.apply(this,arguments)}return _inherits(DiscreteProgressComponent,_PositionComponent),_createClass(DiscreteProgressComponent,[{key:"beforeInit",value:function beforeInit(){_get(Object.getPrototypeOf(DiscreteProgressComponent.prototype),"beforeInit",this).call(this),this.addEvents([this.element,"mouseenter",this.onMouseEnter],[this.element,"mouseleave",this.onMouseLeave],[this.element,"mousedown",this.onMouseDown],[this.$progressContainer,"click",this.onClick],[this.$progressContainer,"mousemove",this.onMouseMove])}},{key:"calculatePosition",value:function calculatePosition(event){var _getCoordinates=(0,_helpersMouseEvents.getCoordinates)(event,this.element),x=_getCoordinates.x,width=_getCoordinates.width;return(0,_helpersMouseEvents.calculateNormalizedValue)(x,width,0,this.length)}},{key:"toggleAnimation",value:function toggleAnimation(value){this.adapter.toggleClass(this.adaptedElement,"meter-animated",value)}},{key:"changePosition",value:function changePosition(position,animate){this.toggleAnimation(animate),this.position=position;var lengthInPx,unitInPx=this.$progress.width()/this.length,translation=Math.floor(unitInPx*this.position);this.$scrubber.css({transform:"translateX("+translation+"px)"}),this.$progressValue.css({width:this.position/this.length*100+"%"}),this._setAriaForPosition(this.position),this.emit("positionChange",this.position)}},{key:"onClick",value:function onClick(event){this.emit("positionClick",this.calculatePosition(event))}},{key:"onMouseDown",value:function onMouseDown(){this._unregisterOneOffListener(),this._oneOffOnDocumentMouseDrag=this.onDocumentMouseDrag.bind(this),this.document.addEventListener("mousemove",this._oneOffOnDocumentMouseDrag),this._oneOffOnDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.document.addEventListener("mouseup",this._oneOffOnDocumentMouseUp)}},{key:"onMouseEnter",value:function onMouseEnter(){this.progressOver=!0,this.emit("mouseEnter")}},{key:"onMouseLeave",value:function onMouseLeave(){this.progressOver=!1,this.emit("mouseLeave")}},{key:"onMouseMove",value:function onMouseMove(event){var _getCoordinates2,x=(0,_helpersMouseEvents.getCoordinates)(event,this.element).x;this.emit("positionHover",{x:x,position:this.calculatePosition(event)})}},{key:"onDocumentMouseDrag",value:function onDocumentMouseDrag(event){var _getCoordinates3=(0,_helpersMouseEvents.getCoordinates)(event,this.$progressContainer[0]),x=_getCoordinates3.x,widthOfProgressContainer=_getCoordinates3.width,position=(0,_helpersMouseEvents.calculateNormalizedValue)(x,widthOfProgressContainer,0,this.length);this.emit("positionHover",{x:x,position:position}),this.emit("showThumbnailPreview"),this.emit("positionDrag",position)}},{key:"onDocumentMouseUp",value:function onDocumentMouseUp(){this.progressOver||this.emit("hideThumbnailPreview"),this._unregisterOneOffListener()}},{key:"_unregisterOneOffListener",value:function _unregisterOneOffListener(){this.document.removeEventListener("mousemove",this._oneOffOnDocumentMouseDrag),this.document.removeEventListener("mouseup",this._oneOffOnDocumentMouseUp)}},{key:"_setAriaForPosition",value:function _setAriaForPosition(position){var displayPosition=position+1;this.adaptedElement.attr({"aria-valuenow":displayPosition,"aria-valuetext":displayPosition})}},{key:"progressBarWidthInPx",get:function get(){return this.$progress.width()}}]),DiscreteProgressComponent}(_interopRequireDefault(__webpack_require__(222)).default);exports.default=DiscreteProgressComponent,module.exports=exports.default},function(module,exports){"use strict";function getCoordinates(event){var target=arguments.length<=1||void 0===arguments[1]?event.target:arguments[1],_target$getBoundingClientRect,left,top,width,height;return _target$getBoundingClientRect=target.getBoundingClientRect(),left=_target$getBoundingClientRect.left,top=_target$getBoundingClientRect.top,width=_target$getBoundingClientRect.width,height=_target$getBoundingClientRect.height,{x:event.clientX-Math.round(left),y:event.clientY-Math.round(top),width:width,height:height}}function calculateValue(inputValue,inputSize){var min=arguments.length<=2||void 0===arguments[2]?0:arguments[2],max=arguments.length<=3||void 0===arguments[3]?1:arguments[3];return 0===inputSize?min:Math.max(min,Math.min(min+(max-min)*inputValue/inputSize,max))}function calculateNormalizedValue(inputValue,inputSize){var min=arguments.length<=2||void 0===arguments[2]?0:arguments[2],max=arguments.length<=3||void 0===arguments[3]?1:arguments[3];if(0===inputValue)return min;var unit=1/(max-min+1),idx;return Math.floor(Math.min(Math.max(min,Math.floor(inputValue/inputSize/unit)+min),max))}function calculateHorizontalValue(event){var target=arguments.length<=1||void 0===arguments[1]?event.target:arguments[1],min=arguments.length<=2||void 0===arguments[2]?0:arguments[2],max=arguments.length<=3||void 0===arguments[3]?1:arguments[3],_getCoordinates,x,width;return calculateValue((_getCoordinates=getCoordinates(event,target)).x,_getCoordinates.width,min,max)}function calculateVerticalValue(event){var target=arguments.length<=1||void 0===arguments[1]?event.target:arguments[1],min=arguments.length<=2||void 0===arguments[2]?0:arguments[2],max=arguments.length<=3||void 0===arguments[3]?1:arguments[3],_getCoordinates2,y,height;return calculateValue((_getCoordinates2=getCoordinates(event,target)).y,_getCoordinates2.height,min,max)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCoordinates=getCoordinates,exports.calculateValue=calculateValue,exports.calculateNormalizedValue=calculateNormalizedValue,exports.calculateHorizontalValue=calculateHorizontalValue,exports.calculateVerticalValue=calculateVerticalValue},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_accessibleComponent,_accessibleComponent2,PositionComponent=function(_AccessibleComponent){function PositionComponent(element,options,a11yControlMap){void 0===options&&(options={}),_classCallCheck(this,PositionComponent),_get(Object.getPrototypeOf(PositionComponent.prototype),"constructor",this).call(this,element,options,a11yControlMap),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{position:0,length:0}),this.position=this.options.position,this.length=this.options.length}return _inherits(PositionComponent,_AccessibleComponent),_createClass(PositionComponent,[{key:"next",value:function next(){this.position=Math.min(this.length-1,this.position+1)}},{key:"previous",value:function previous(){this.position=Math.max(0,this.position-1)}}]),PositionComponent}(_interopRequireDefault(__webpack_require__(223)).default);exports.default=PositionComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_Object$keys=__webpack_require__(190).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashIncludes,_lodashIncludes2=_interopRequireDefault(__webpack_require__(224)),_lodashIsempty,_lodashIsempty2=_interopRequireDefault(__webpack_require__(225)),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),_helpersConsoleWarn=__webpack_require__(226),_helpersA11yHelper=__webpack_require__(187);function validateA11yOptions(options){_Object$keys(options).map(function(key){return options[key]}).forEach(function(control){if("string"!=typeof control)throw new TypeError("Control label '"+control+"' was type "+typeof control+", expected string.")})}function validateControlMap(controlMap,controls){var controlMapKeys=_Object$keys(controlMap);_Object$keys(controls).forEach(function(control){(0,_lodashIncludes2.default)(controlMapKeys,control)||(0,_helpersConsoleWarn.warn)("Control '"+control+"' does not have a corresponding entry in the given control map. This will lead to a no-op when a11y attributes are applied! The control map is:",controlMap)})}var AccessibleComponent=function(_UIComponent){function AccessibleComponent(element,_ref,controlMap){var a11y=_ref.a11y;if(_classCallCheck(this,AccessibleComponent),_get(Object.getPrototypeOf(AccessibleComponent.prototype),"constructor",this).call(this,element),(0,_lodashIsempty2.default)(a11y)||(0,_lodashIsempty2.default)(controlMap))return(0,_lodashIsempty2.default)(a11y)&&(0,_helpersConsoleWarn.warn)(this.constructor.name+" is an AccessibleComponent but is missing a11y options."),void((0,_lodashIsempty2.default)(controlMap)&&(0,_helpersConsoleWarn.warn)(this.constructor.name+" is an AccessibleComponent but is missing a control map."));validateA11yOptions(a11y),validateControlMap(controlMap,a11y),this._applyAccessibilityControls(controlMap,a11y)}return _inherits(AccessibleComponent,_UIComponent),_createClass(AccessibleComponent,[{key:"_applyAccessibilityControls",value:function _applyAccessibilityControls(controlMap,controls){var _this=this,controlMapKeys=_Object$keys(controlMap);_Object$keys(controls).filter(function(controlName){return(0,_lodashIncludes2.default)(controlMapKeys,controlName)}).forEach(function(controlName){_this._applyA11yOnElement(controlMap[controlName],controls[controlName])})}},{key:"_applyA11yOnElement",value:function _applyA11yOnElement(selector,a11yControlText){var $el=this.adaptedElement.find(selector);if(0!==$el.length&&a11yControlText){var a11YControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(a11yControlText);$el.append(a11YControlTextElement)}}}]),AccessibleComponent}(_ui2.default);exports.default=AccessibleComponent,module.exports=exports.default},function(module,exports){var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",stringTag="[object String]",symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,freeParseInt=parseInt;function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!=value)return baseFindIndex(array,baseIsNaN,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsNaN(value){return value!=value}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function overArg(func,transform){return function(arg){return func(transform(arg))}}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max;function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor,proto;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toFinite(value){return value?(value=toNumber(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0;var sign}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function values(object){return object?baseValues(object,keys(object)):[]}module.exports=includes},function(module,exports,__webpack_require__){(function(global,module){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports;function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}var funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",uid,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value));var pattern}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}var getTag=baseGetTag;function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse;function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(nonEnumShadows||isPrototype(value))return!nativeKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function stubFalse(){return!1}module.exports=isEmpty}).call(exports,function(){return this}(),__webpack_require__(12)(module))},function(module,exports){"use strict";function warn(){var consoleExists=console&&console.warn,isInKarma=window&&window.__karma__;consoleExists&&!isInKarma&&console.warn.apply(console,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.warn=warn},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtilsDistCjsIndex=__webpack_require__(148),_ui,_ui2,PreviewThumbnailComponent=function(_UIComponent){function PreviewThumbnailComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PreviewThumbnailComponent),_get(Object.getPrototypeOf(PreviewThumbnailComponent.prototype),"constructor",this).call(this,element,options),_linkedinSlideshareClientUtilsDistCjsIndex.events.mixin(this),options.isSinglePage&&this.hide()}return _inherits(PreviewThumbnailComponent,_UIComponent),_createClass(PreviewThumbnailComponent,[{key:"changeThumbnailImage",value:function changeThumbnailImage(src){var thumbnailImage=this.adapter.find(this.adaptedElement,".thumbnail-image");this.adapter.setAttr(thumbnailImage,"src",src)}},{key:"changeThumbnailPagination",value:function changeThumbnailPagination(pagination){var thumbnailPagination=this.adapter.find(this.adaptedElement,".thumbnail-pagination");this.adapter.setText(thumbnailPagination,pagination)}},{key:"changeThumbnailPosition",value:function changeThumbnailPosition(x,progressBarWidthInPx){var leftSideOffsetInPx=2,leftActionsWidthInPx=document.querySelector(".left-actions").getBoundingClientRect().width,rightActionsWidthInPx=document.querySelector(".right-actions").getBoundingClientRect().width||leftActionsWidthInPx,thumbnailWidthInPx=this.adaptedElement.children("img")[0].getBoundingClientRect().width,xPosInPx=leftActionsWidthInPx+x-thumbnailWidthInPx/2,translation=Math.max(2,Math.min(xPosInPx,leftActionsWidthInPx+progressBarWidthInPx+rightActionsWidthInPx-thumbnailWidthInPx));this.adaptedElement.css({transform:"translateX("+translation+"px)"})}},{key:"toggleThumbnail",value:function toggleThumbnail(isShown){this.adapter.toggleClass(this.adaptedElement,"ssplayer-component-hide",!isShown)}}]),PreviewThumbnailComponent}(_interopRequireDefault(__webpack_require__(135)).default);exports.default=PreviewThumbnailComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_helpersDom=__webpack_require__(229),_coreEventListener,_coreEventListener2,EndcardComponent=function(_EventListener){function EndcardComponent(element){_classCallCheck(this,EndcardComponent),_get(Object.getPrototypeOf(EndcardComponent.prototype),"constructor",this).call(this),_linkedinSlideshareClientUtils.events.mixin(this),this.element=element}return _inherits(EndcardComponent,_EventListener),_createClass(EndcardComponent,[{key:"beforeInit",value:function beforeInit(){var _this=this;this.addEvents([this.element,"click",(0,_helpersDom.delegated)(".ssplayer-endcard-replay",function(){return _this.emit("play")})],[this.element,"click",(0,_helpersDom.delegated)(".ssplayer-endcard-lynda",function(){return _this.emit("lynda")})],[this.element,"click",(0,_helpersDom.delegated)(".ssplayer-endcard-share",function(){return _this.emit("share")})],[this.element,"click",(0,_helpersDom.delegated)(".ssplayer-endcard-view-on-ss",function(){return _this.emit("visit")})])}}]),EndcardComponent}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=EndcardComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.findDelegateEventTarget=findDelegateEventTarget,exports.delegated=delegated;var _matchesSelector,_matchesSelector2=_interopRequireDefault(__webpack_require__(230));function findDelegateEventTarget(event,selector){for(var element=event.target;element&&element!==event.currentTarget.parentElement;element=element.parentElement)if((0,_matchesSelector2.default)(element,selector))return element;return null}function delegated(selector,callback){return function delegatedFn(event){var delegateTarget=findDelegateEventTarget(event,selector),fn=void 0;return delegateTarget&&(fn=callback.call(this,event,delegateTarget)),fn}}},function(module,exports){"use strict";var proto=Element.prototype,vendor=proto.matches||proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;function match(el,selector){if(vendor)return vendor.call(el,selector);for(var nodes=el.parentNode.querySelectorAll(selector),i=0;i<nodes.length;i++)if(nodes[i]==el)return!0;return!1}module.exports=match},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_activatable,_activatable2,FocusableComponent=function(_ActivatableComponent){function FocusableComponent(element){var playerStateManager=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,FocusableComponent),_get(Object.getPrototypeOf(FocusableComponent.prototype),"constructor",this).call(this,element,options),_linkedinSlideshareClientUtils.events.mixin(this),this.playerStateManager=playerStateManager}return _inherits(FocusableComponent,_ActivatableComponent),_createClass(FocusableComponent,[{key:"beforeInit",value:function beforeInit(){this.playerStateManager.isDisableA11y||this.addEvents([this.element,"focusin",this._onFocus],[this.element,"focusout",this._onBlur])}},{key:"_onFocus",value:function _onFocus(){this.active=!0}},{key:"_onBlur",value:function _onBlur(){this.active=!1}}]),FocusableComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=FocusableComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _helpersMouseEvents=__webpack_require__(221),_slider,_slider2,HorizontalSliderComponent=function(_SliderComponent){function HorizontalSliderComponent(){_classCallCheck(this,HorizontalSliderComponent),_get(Object.getPrototypeOf(HorizontalSliderComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(HorizontalSliderComponent,_SliderComponent),_createClass(HorizontalSliderComponent,[{key:"calculateValue",value:function calculateValue(event){return(0,_helpersMouseEvents.calculateHorizontalValue)(event,this.progressElement,0,this.max)}}]),HorizontalSliderComponent}(_interopRequireDefault(__webpack_require__(233)).default);exports.default=HorizontalSliderComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_helpersA11yHelper=__webpack_require__(187),_helpersMouseEvents=__webpack_require__(221),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),UPDATE_SLIDER_VALUE_TIME_INTERVAL=1e3,SliderComponent=function(_UIComponent){function SliderComponent(element,playerStateManager,options,sliderType){if(void 0===playerStateManager&&(playerStateManager={}),void 0===options&&(options={}),_classCallCheck(this,SliderComponent),_get(Object.getPrototypeOf(SliderComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{initialMax:1,handleSelector:".ssplayer-handle",classes:{active:"ssplayer-menu-active"}}),this.playerStateManager=playerStateManager,this.document=element.ownerDocument,this.sliderType=sliderType,this.lastTimeCallUpdateSliderAriaValue=0,this.handle=this.element.querySelector(this.options.handleSelector),this.isDragging=!1,this.max=this.options.initialMax,this.playerStateManager.isDisableA11y||(this.adaptedElement.attr("tabindex",0),this.adaptedElement.attr("role","slider"),this.adaptedElement.attr({"aria-valuemin":0})),this.keyPressHandler=this.handleKeyPress.bind(this),options.a11yControlText){var a11yControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(options.a11yControlText);this.adaptedElement.append(a11yControlTextElement)}}return _inherits(SliderComponent,_UIComponent),_createClass(SliderComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",this.onClick],[this.element,"mousedown",this.onMouseDown],[this.document,"mousemove",this.onDocumentMouseMove],[this.document,"mouseup",this.onDocumentMouseUp]),this.playerStateManager.isDisableA11y||this.addEvents([this.element,"focus",this.onFocus],[this.element,"blur",this.onBlur])}},{key:"onClick",value:function onClick(event){this.value=this.calculateValue(event),this.emit("valueChanged")}},{key:"onMouseDown",value:function onMouseDown(){this.dragging=!0}},{key:"onDocumentMouseMove",value:function onDocumentMouseMove(event){this.dragging&&(this.value=this.calculateValue(event))}},{key:"onDocumentMouseUp",value:function onDocumentMouseUp(event){this.dragging&&(this.value=this.calculateValue(event),this.dragging=!1)}},{key:"onFocus",value:function onFocus(){this.adaptedElement.parent().addClass(this.options.classes.active),this.adaptedElement.on("keydown",this.keyPressHandler)}},{key:"onBlur",value:function onBlur(){this.adaptedElement.parent().removeClass(this.options.classes.active),this.adaptedElement.off("keydown",this.keyPressHandler)}},{key:"handleKeyPress",value:function handleKeyPress(event){var maxValue=this.max,step=maxValue/10;event.keyCode===_helpersA11yHelper.KEY_CODE.ARROW_LEFT||event.keyCode===_helpersA11yHelper.KEY_CODE.ARROW_DOWN?(event.preventDefault(),this.stepBack(maxValue,step)):event.keyCode!==_helpersA11yHelper.KEY_CODE.ARROW_UP&&event.keyCode!==_helpersA11yHelper.KEY_CODE.ARROW_RIGHT||(event.preventDefault(),this.stepForward(maxValue,step))}},{key:"stepForward",value:function stepForward(maxValue,step){this.value=Math.min(maxValue,this.value+step),this.emit("valueChanged")}},{key:"stepBack",value:function stepBack(maxValue,step){this.value=Math.max(0,this.value-step),this.emit("valueChanged")}},{key:"updateSliderAriaValue",value:function updateSliderAriaValue(sliderValue){if(this.adaptedElement.attr({"aria-valuenow":sliderValue}),this.sliderType===_helpersA11yHelper.SLIDER_TYPE.PLAYBACK){var curValue=Number(sliderValue).toFixed(0),maxValue=Number(this.max).toFixed(0);this.adaptedElement.attr({"aria-valuetext":this.convertTime(curValue)+" out of "+this.convertTime(maxValue)})}else if(this.sliderType===_helpersA11yHelper.SLIDER_TYPE.VOLUME){var curValue=sliderValue>=0&&sliderValue<=1?(100*Number(sliderValue)).toFixed(0)+"%":sliderValue;this.adaptedElement.attr({"aria-valuetext":curValue+" "+this.options.volumeSliderAriaValueTextA11yControlText})}}},{key:"convertTime",value:function convertTime(value){var base=new Date;base.setHours(0),base.setMinutes(0),base.setSeconds(0);var date=new Date(base.getTime()+1e3*value),hours,minutes,seconds;return[date.getHours(),date.getMinutes(),date.getSeconds()].join(":")}},{key:"progressElement",get:function get(){return this.adapter.restore(this.adapter.find(this.adaptedElement,"progress"),0)}},{key:"handleLeftRange",get:function get(){var _progressElement=this.progressElement,offsetLeft=_progressElement.offsetLeft,clientWidth;return{start:offsetLeft,end:offsetLeft+_progressElement.clientWidth}}},{key:"value",get:function get(){return this.progressElement.value},set:function set(value){var _this=this;if(this.progressElement.value=value,this.playerStateManager.isDisableA11y||(clearTimeout(this.callLater),Date.now()-this.lastTimeCallUpdateSliderAriaValue>1e3?(this.updateSliderAriaValue(value),this.lastTimeCallUpdateSliderAriaValue=Date.now()):this.callLater=setTimeout(function(){_this.updateSliderAriaValue(value),_this.lastTimeCallUpdateSliderAriaValue=Date.now()},1e3)),this.handle){var percents=(0,_helpersMouseEvents.calculateValue)(this.value,this.max,0,100);this.handle.style.left=percents+"%"}this.dragging&&this.emit("valueChanged")}},{key:"max",get:function get(){return this.progressElement.max},set:function set(value){this.progressElement.max=value,this.adaptedElement.attr({"aria-valuemax":value})}},{key:"dragging",get:function get(){return this.isDragging},set:function set(isDragging){isDragging!==this.isDragging&&(this.isDragging=isDragging,this.adapter.toggleClass(this.adaptedElement.parent(),this.options.classes.active,isDragging),this.emit(isDragging?"draggingStart":"draggingEnd"))}}]),SliderComponent}(_ui2.default);exports.default=SliderComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.getKeyName=getKeyName;var _linkedinSlideshareClientUtils=__webpack_require__(148),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),KEYS={189:"minus",187:"plus",39:"rightArrow",37:"leftArrow",9:"tab"};function getKeyName(ev){var key=KEYS[ev.which];return key&&ev.altKey?"alt"+key.charAt(0).toUpperCase()+key.substr(1):key}var KeyboardComponent=function(_EventListener){function KeyboardComponent(){var doc=arguments.length<=0||void 0===arguments[0]?window.document:arguments[0],options=arguments.length<=1||void 0===arguments[1]?{shouldPreventScroll:!0}:arguments[1];_classCallCheck(this,KeyboardComponent),_get(Object.getPrototypeOf(KeyboardComponent.prototype),"constructor",this).apply(this,arguments),_linkedinSlideshareClientUtils.events.mixin(this),this.document=doc,this.shouldPreventScroll=options.shouldPreventScroll}return _inherits(KeyboardComponent,_EventListener),_createClass(KeyboardComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.document,"keydown",this.onDocumentKeydown])}},{key:"onDocumentKeydown",value:function onDocumentKeydown(ev){var key=getKeyName(ev);key&&this.emit(key,ev),!this.shouldPreventScroll||"rightArrow"!==key&&"leftArrow"!==key&&"altRightArrow"!==key&&"altLeftArrow"!==key||ev.preventDefault()}}]),KeyboardComponent}(_coreEventListener2.default);exports.default=KeyboardComponent},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _activatable,_activatable2,LoaderComponent=function(_ActivatableComponent){function LoaderComponent(){_classCallCheck(this,LoaderComponent),_get(Object.getPrototypeOf(LoaderComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(LoaderComponent,_ActivatableComponent),_createClass(LoaderComponent,[{key:"show",value:function show(){_get(Object.getPrototypeOf(LoaderComponent.prototype),"show",this).call(this),this.active=!0}},{key:"hide",value:function hide(){_get(Object.getPrototypeOf(LoaderComponent.prototype),"hide",this).call(this),this.active=!1}}]),LoaderComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=LoaderComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_helpersA11yHelper=__webpack_require__(187),_helpersDom=__webpack_require__(229),_activatable,_activatable2,ModalComponent=function(_ActivatableComponent){function ModalComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],playerStateManager=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],_ref=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],closeModalButtonA11yControlText=_ref.closeModalButtonA11yControlText,fullscreenOffButtonA11yControlText=_ref.fullscreenOffButtonA11yControlText;if(_classCallCheck(this,ModalComponent),_get(Object.getPrototypeOf(ModalComponent.prototype),"constructor",this).call(this,element,(0,_lodashDefaultsdeep2.default)({},options,{frontClass:"ssplayer-modal-front",backClass:"ssplayer-modal-back",levelAttribute:"data-ssplayer-modal-level",closeButtonSelector:"[data-ssplayer-modal-close]",exitFullscreenButtonSelector:"[data-ssplayer-modal-fullscreen-off]"})),_linkedinSlideshareClientUtils.events.mixin(this),this.playerStateManager=playerStateManager,this.hide(),this.document=element.ownerDocument,this.focusableElements=this.adaptedElement.find("button"),this.curFocusableElementIndex=0,this.closeButtonElement=this.adapter.find(this.adaptedElement,this.options.closeButtonSelector),0!==this.closeButtonElement.length&&closeModalButtonA11yControlText){var a11YControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(closeModalButtonA11yControlText);this.adapter.adapt(this.closeButtonElement).append(a11YControlTextElement)}var fullscreenOffButtonElement=this.adapter.find(this.adaptedElement,this.options.exitFullscreenButtonSelector);if(0!==fullscreenOffButtonElement.length&&fullscreenOffButtonA11yControlText){var a11yControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(fullscreenOffButtonA11yControlText);this.adapter.adapt(fullscreenOffButtonElement).append(a11yControlTextElement)}}return _inherits(ModalComponent,_ActivatableComponent),_createClass(ModalComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",(0,_helpersDom.delegated)(this.options.closeButtonSelector,this.onCloseButtonClick)],[this.element,"click",(0,_helpersDom.delegated)(this.options.exitFullscreenButtonSelector,this.onExitFullscreenButtonClick)]),this.playerStateManager.isDisableA11y||this.addEvents([this.element,"keydown",this.keyPressHandler.bind(this)])}},{key:"open",value:function open(){this.active=!0,this.show(),this.emit("opened"),this.playerStateManager.isFocusActive&&(this.focusedElementBeforeModal=this.document.activeElement,this.focusableElements[this.curFocusableElementIndex].focus())}},{key:"close",value:function close(){this.active=!1,this.hide(),this.emit("closed"),this.curFocusableElementIndex=0,this.playerStateManager.isFocusActive&&this.focusedElementBeforeModal&&this.focusedElementBeforeModal.focus()}},{key:"onCloseButtonClick",value:function onCloseButtonClick(){this.close()}},{key:"onExitFullscreenButtonClick",value:function onExitFullscreenButtonClick(){this.emit("exitFullscreen")}},{key:"keyPressHandler",value:function keyPressHandler(event){event.keyCode===_helpersA11yHelper.KEY_CODE.TAB&&this.playerStateManager.isFullscreenOn?(event.preventDefault(),event.shiftKey?0===this.curFocusableElementIndex?this.curFocusableElementIndex=this.focusableElements.length-1:this.curFocusableElementIndex-=1:this.curFocusableElementIndex===this.focusableElements.length-1?this.curFocusableElementIndex=0:this.curFocusableElementIndex+=1,this.focusableElements[this.curFocusableElementIndex].focus()):event.keyCode===_helpersA11yHelper.KEY_CODE.ESCAPE&&0!==this.closeButtonElement.length&&this.close()}},{key:"level",set:function set(level){this.adapter.setAttr(this.adaptedElement,this.options.levelAttribute,level),this.adapter.toggleClass(this.adaptedElement,this.options.backClass,0!==level),this.adapter.toggleClass(this.adaptedElement,this.options.frontClass,0===level),0!==level?this.hide():this.show()}}]),ModalComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=ModalComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _position,_position2=_interopRequireDefault(__webpack_require__(222)),_helpersToNumber,_helpersToNumber2=_interopRequireDefault(__webpack_require__(238)),PaginationComponent=function(_PositionComponent){function PaginationComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PaginationComponent);var a11yControlMap={paginationValue:"[data-pagination-value]",paginationLength:"[data-pagination-length]"};_get(Object.getPrototypeOf(PaginationComponent.prototype),"constructor",this).call(this,element,options,a11yControlMap)}return _inherits(PaginationComponent,_PositionComponent),_createClass(PaginationComponent,[{key:"changePosition",value:function changePosition(position){this.position=position,this.emit("positionChange",this.position)}},{key:"_applyA11yOnElement",value:function _applyA11yOnElement(selector,a11yControlText){var $el=this.adaptedElement.find(selector);0!==$el.length&&a11yControlText&&$el.attr("aria-label",a11yControlText)}},{key:"lengthElement",get:function get(){return this.adaptedElement.find("[data-pagination-length]")}},{key:"valueElement",get:function get(){return this.adaptedElement.find("[data-pagination-value]")}},{key:"length",get:function get(){return(0,_helpersToNumber2.default)(this.adapter.getHtml(this.lengthElement))},set:function set(length){this.adapter.setText(this.lengthElement,length)}},{key:"position",get:function get(){return(0,_helpersToNumber2.default)(this.adapter.getHtml(this.valueElement))-1},set:function set(position){this.adapter.setText(this.valueElement,position+1)}}]),PaginationComponent}(_position2.default);exports.default=PaginationComponent,module.exports=exports.default},function(module,exports){"use strict";function toNumber(value){var defaultValue=arguments.length<=1||void 0===arguments[1]?1:arguments[1];if("number"!=typeof defaultValue)throw new TypeError("toNumber provided with non-number defaultValue");var returnValue=parseInt(value,10);return isNaN(returnValue)?defaultValue:returnValue}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toNumber,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashThrottle,_lodashThrottle2=_interopRequireDefault(__webpack_require__(240)),_screenfull,_screenfull2=_interopRequireDefault(__webpack_require__(205)),_linkedinSlideshareClientUtils=__webpack_require__(148),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),MOUSE_MOVE_THROTTLE_MS=150,PresentationPlayerComponent=function(_UIComponent){function PresentationPlayerComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],document=arguments.length<=2||void 0===arguments[2]?element.ownerDocument:arguments[2];return function(){_classCallCheck(this,PresentationPlayerComponent),_get(Object.getPrototypeOf(PresentationPlayerComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{classes:{initialized:"player-initialized",fullscreen:"ssplayer-fullscreen",idle:"ssplayer-idle",rtl:"ssplayer-rtl",isZoomed:"ssplayer-is-zoomed",initialLoad:"ssplayer-initial-load"}}),this.document=document,this.isMouseover=!1}.apply(this,arguments)}return _inherits(PresentationPlayerComponent,_UIComponent),_createClass(PresentationPlayerComponent,[{key:"beforeInit",value:function beforeInit(){var eventsToAdd=[];_screenfull2.default.enabled&&eventsToAdd.push([_screenfull2.default,"change",this.onFullscreen]),eventsToAdd.push([this.element,"mouseenter",this.onMouseEnter],[this.element,"mousemove",(0,_lodashThrottle2.default)(this.onMouseMove,150)],[this.element,"mouseleave",this.onMouseLeave]),this.addEvents.apply(this,eventsToAdd),this.adapter.addClass(this.adaptedElement,this.options.classes.initialized)}},{key:"onMouseEnter",value:function onMouseEnter(){this.isMouseover=!0,this.emit("mouseEnter")}},{key:"onMouseMove",value:function onMouseMove(){this.emit("mouseMove")}},{key:"onMouseLeave",value:function onMouseLeave(){this.isMouseover=!1,this.emit("mouseLeave")}},{key:"setRtl",value:function setRtl(isRtl){this.adaptedElement.toggleClass(this.options.classes.rtl,isRtl)}},{key:"setIsZoomed",value:function setIsZoomed(isZoomed){isZoomed||(this.adaptedElement.scrollLeft(0),this.adaptedElement.scrollTop(0)),this.adaptedElement.toggleClass(this.options.classes.isZoomed,isZoomed)}},{key:"removeInitialLoadState",value:function removeInitialLoadState(){this.adapter.removeClass(this.adaptedElement,this.options.classes.initialLoad)}},{key:"enterFullscreen",value:function enterFullscreen(){_screenfull2.default.element||_screenfull2.default.request(this.element)}},{key:"exitFullscreen",value:function exitFullscreen(){_screenfull2.default.element&&_screenfull2.default.exit()}},{key:"onFullscreen",value:function onFullscreen(){this.adapter.toggleClass(this.adaptedElement,this.options.classes.fullscreen,_screenfull2.default.isFullscreen),this.emit("fullscreen",_screenfull2.default.isFullscreen)}},{key:"idle",set:function set(isIdle){this.adapter.toggleClass(this.adaptedElement,this.options.classes.idle,isIdle)}}]),PresentationPlayerComponent}(_ui2.default);exports.default=PresentationPlayerComponent,module.exports=exports.default},function(module,exports){(function(global){var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto,objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall,timeSinceLastInvoke,result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}function flush(){return void 0===timerId?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=throttle}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_accessibleComponent,_accessibleComponent2,PresentationSidepanelComponent=function(_AccessibleComponent){function PresentationSidepanelComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PresentationSidepanelComponent);var a11yControlMap={navButton:".nav-button"};_get(Object.getPrototypeOf(PresentationSidepanelComponent.prototype),"constructor",this).call(this,element,options,a11yControlMap),_linkedinSlideshareClientUtils.events.mixin(this),options.isSinglePage&&this.hide()}return _inherits(PresentationSidepanelComponent,_AccessibleComponent),_createClass(PresentationSidepanelComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element.querySelector(".nav-button"),"click",this.onClick],[this.element,"mouseover",this.onMouseOver],[this.element,"mouseout",this.onMouseOut])}},{key:"onClick",value:function onClick(){this.emit("click")}},{key:"onMouseOver",value:function onMouseOver(){this.isMouseOver=!0}},{key:"onMouseOut",value:function onMouseOut(){this.isMouseOver=!1}},{key:"toggleEnabled",value:function toggleEnabled(enabled){enabled?this.show():this.hide()}}]),PresentationSidepanelComponent}(_interopRequireDefault(__webpack_require__(223)).default);exports.default=PresentationSidepanelComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinVideoRumjsExportsCjsRum_video_module,_linkedinVideoRumjsExportsCjsRum_video_module2=_interopRequireDefault(__webpack_require__(243)),_coreEventListener,_coreEventListener2,RumTrackingComponent=function(_EventListener){function RumTrackingComponent(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],appId=_ref.appId,sessionTrackingId=_ref.sessionTrackingId,videoUrn=_ref.videoUrn,pageKey=_ref.pageKey,mediaHeaderObj=_ref.mediaHeaderObj,rumVideoConfig=_ref.rumVideoConfig,tracker=arguments.length<=1||void 0===arguments[1]?new _linkedinVideoRumjsExportsCjsRum_video_module2.default(rumVideoConfig):arguments[1];return function(){_classCallCheck(this,RumTrackingComponent),_get(Object.getPrototypeOf(RumTrackingComponent.prototype),"constructor",this).call(this),this.tracker=tracker,this.tracker.setApplicationName(appId),this.tracker.setVideoTrackingId(sessionTrackingId),this.tracker.setVideoUrn(videoUrn),pageKey?this.tracker.setPageKey(pageKey):console&&console.warn&&console.warn("Missing pageKey for RumTrackingComponent."),mediaHeaderObj?this.tracker.setMediaHeader(mediaHeaderObj):console&&console.warn&&console.warn("Missing mediaHeaderObj with cdnProvider and accountAccessType for RumTrackingComponent."),this.bufferId=0}.apply(this,arguments)}return _inherits(RumTrackingComponent,_EventListener),_createClass(RumTrackingComponent,[{key:"videoInitializationStart",value:function videoInitializationStart(){this.tracker.videoInitializationStart()}},{key:"videoInitializationEnd",value:function videoInitializationEnd(){this.tracker.videoInitializationEnd()}},{key:"bufferingStart",value:function bufferingStart(){this.bufferId+=1,this.tracker.bufferingStart(this.bufferId)}},{key:"bufferingEnd",value:function bufferingEnd(){this.tracker.bufferingEnd(this.bufferId)}},{key:"videoPlaybackError",value:function videoPlaybackError(errorType,errorMsg,exceptionFields){this.tracker.mediaPlaybackError(errorType,errorMsg,exceptionFields)}}]),RumTrackingComponent}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=RumTrackingComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinWebTrackingTransport,_linkedinWebTrackingTransport2=_interopRequireDefault(__webpack_require__(244));function RumVideoTracking(configJson){var videoTrackingId,applicationName,pageKey,videoUrn,initializationStartTs,initializationEndTs,bufferingRanges,webTracking,validPlaybackErrorTypes={CUSTOM:!0,NETWORK:!0,DECODING:!0,SOURCE_FILE:!0,ENCRYPTION:!0,AUDIO:!0,RENDERING:!0},exceptionFieldToDefaults={message:"",lineNumber:-1,columnNumber:-1,sourceFile:"",stackTrace:"",programLanguage:"JAVASCRIPT",type:""},mediaHeader,trackingEnabled,bitrateChangedFields=["newBitrate","viewingDisplaySize","encodedDisplaySize","audioCodec","videoCodec","newSegmentDuration","targetSegmentDuration","frameRate"];function init(configJson){var trackingUrl;bufferingRanges={},(trackingEnabled=!1!==(configJson=configJson||{}).trackingEnabled)&&("object"==typeof configJson["web-tracking-obj"]?webTracking=configJson["web-tracking-obj"]:"object"==typeof(webTracking=_linkedinWebTrackingTransport2.default)&&(trackingUrl=configJson["tracking-url"]||"https://www.linkedin.com/li/track",webTracking.setTrackingUrl(trackingUrl)))}function sendVideoInitializationBeacon(isStart){var eventBody={header:{time:isStart?initializationStartTs:initializationEndTs},requestHeader:{pageKey:pageKey},mobileHeader:null,mediaHeader:"object"==typeof mediaHeader?mediaHeader:{},mediaTrackingObject:{objectUrn:"string"==typeof videoUrn?videoUrn:"",trackingId:videoTrackingId},initializationStartTime:initializationStartTs},eventInfo={eventName:isStart?"MediaInitializationStartEvent":"MediaInitializationEndEvent",appId:applicationName};if(isStart||(eventBody.duration=initializationEndTs-initializationStartTs),trackingEnabled&&"object"==typeof webTracking)webTracking.sendEvent(eventInfo,eventBody);else if(!trackingEnabled)return{eventInfo:eventInfo,eventBody:eventBody}}function sendBufferingEventBeacon(bufferingId,isStart){var bufferingRange=bufferingRanges[bufferingId],eventBody={header:{time:isStart?bufferingRange.start:bufferingRange.end},requestHeader:{pageKey:pageKey},mobileHeader:null,mediaHeader:"object"==typeof mediaHeader?mediaHeader:{},mediaTrackingObject:{objectUrn:"string"==typeof videoUrn?videoUrn:"",trackingId:videoTrackingId},bufferingType:bufferingRange.type,initializationStartTime:initializationStartTs,bufferingStartTime:bufferingRange.start},eventInfo={eventName:isStart?"MediaBufferingStartEvent":"MediaBufferingEndEvent",appId:applicationName};if(isStart||(eventBody.duration=bufferingRange.end-bufferingRange.start,deleteBufferingRangeById(bufferingId)),trackingEnabled&&"object"==typeof webTracking)webTracking.sendEvent(eventInfo,eventBody);else if(!trackingEnabled)return{eventInfo:eventInfo,eventBody:eventBody}}function sendMediaPlaybackErrorEventBeacon(errorType,errorMsg,errorException,ts){var eventBody={header:{time:ts},requestHeader:{pageKey:pageKey},mobileHeader:null,mediaHeader:"object"==typeof mediaHeader?mediaHeader:{},mediaTrackingObject:{objectUrn:"string"==typeof videoUrn?videoUrn:"",trackingId:videoTrackingId},errorType:errorType},eventInfo={eventName:"MediaPlaybackErrorEvent",appId:applicationName};if("string"==typeof errorMsg&&(eventBody.errorMessage=errorMsg),eventBody.errorException="object"==typeof errorException?errorException:null,trackingEnabled&&"object"==typeof webTracking)webTracking.sendEvent(eventInfo,eventBody);else if(!trackingEnabled)return{eventInfo:eventInfo,eventBody:eventBody}}function sendMediaBitrateChangedEventBeacon(extraFields,ts){var eventBody={header:{time:ts},requestHeader:{pageKey:pageKey},mobileHeader:null,mediaHeader:"object"==typeof mediaHeader?mediaHeader:{},mediaTrackingObject:{objectUrn:"string"==typeof videoUrn?videoUrn:"",trackingId:videoTrackingId}},eventInfo={eventName:"MediaBitrateChangedEvent",appId:applicationName};if("object"==typeof extraFields&&(eventBody=extend(eventBody,extraFields)),trackingEnabled&&"object"==typeof webTracking)webTracking.sendEvent(eventInfo,eventBody);else if(!trackingEnabled)return{eventInfo:eventInfo,eventBody:eventBody}}function deleteBufferingRangeById(bufferingId){delete bufferingRanges[bufferingId]}function throwErrorIfInitializationEventInvalid(isStart){if(trackingEnabled&&(void 0===videoTrackingId||void 0===applicationName))throw new Error("must set videoTrackingId and applicationName before recording events");if(!isStart&&"number"!=typeof initializationStartTs)throw new Error("videoInitializationStart not called")}function throwErrorIfBufferingEventInvalid(bufferingId,isStart){if(trackingEnabled&&(void 0===videoTrackingId||void 0===applicationName))throw new Error("must set videoTrackingId and applicationName before recording events");if("number"!=typeof initializationStartTs)throw new Error("videoInitializationStart not called");if("number"!=typeof bufferingId)throw new TypeError("bufferingId not a number");if(isStart){if("object"==typeof bufferingRanges[bufferingId])throw new Error("duplicate bufferingId")}else if("object"!=typeof bufferingRanges[bufferingId]||"number"!=typeof bufferingRanges[bufferingId].start||void 0!==bufferingRanges[bufferingId].end||null!==bufferingRanges[bufferingId].type)throw new Error("incorrect bufferingId or wrong buffering type")}function throwErrorIfPlaybackErrorEventIsInvalid(errorType,errorMessage,errorException){if(trackingEnabled&&(void 0===videoTrackingId||void 0===applicationName))throw new Error("must set videoTrackingId and applicationName before recording events");if("string"!=typeof errorType||!(errorType in validPlaybackErrorTypes))throw new Error("invalid error type. Expected one of: "+Object.keys(validPlaybackErrorTypes));if("string"!=typeof errorMessage&&void 0!==errorMessage)throw new TypeError("error message is not a string or undefined");if("object"==typeof errorException)Object.keys(errorException).forEach(function(key){if(!(key in exceptionFieldToDefaults))throw new Error("invalid field in the exception object")});else if(void 0!==errorException)throw new TypeError("error exception is not an object or undefined")}function throwErrorIfBitrateChangedEventInvalid(extraFields){if(trackingEnabled&&(void 0===videoTrackingId||void 0===applicationName))throw new Error("must set videoTrackingId and applicationName before recording events");if("object"==typeof extraFields)bitrateChangedFields.forEach(function(key){if(!(key in extraFields))throw new Error("key: "+key+" not in fields")});else if(void 0===extraFields)throw new TypeError("extraFields is not an object or undefined")}function getPerformanceTime(){return window.performance&&window.performance.timing&&"function"==typeof window.performance.now?Math.round(window.performance.now())+window.performance.timing.navigationStart:(new Date).getTime()}function getExceptionObjectFromFieldsAndDefaults(exceptionFields){return extend(exceptionFieldToDefaults,exceptionFields)}function getBitrateChangedExtraFieldsFromInputAndDefaults(extraFields){return extend(bitrateChangedDefaults,extraFields)}function extend(a,b){for(var key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a}init(configJson),this.setVideoTrackingId=function(id){videoTrackingId=id},this.setApplicationName=function(appName){applicationName=appName,"string"!=typeof pageKey&&(pageKey=appName)},this.setPageKey=function(videoPageKey){pageKey=videoPageKey},this.setVideoUrn=function(urn){videoUrn=urn},this.setMediaHeader=function(mediaHeaderObj){mediaHeader=mediaHeaderObj},this.videoInitializationStart=function(){var isStart=!0;return initializationStartTs=getPerformanceTime(),throwErrorIfInitializationEventInvalid(!0),sendVideoInitializationBeacon(!0)},this.videoInitializationEnd=function(){var ts=getPerformanceTime(),isStart=!1;return throwErrorIfInitializationEventInvalid(!1),initializationEndTs=ts,sendVideoInitializationBeacon(!1)},this.bufferingStart=function(bufferingId){var ts=getPerformanceTime(),isStart=!0;return throwErrorIfBufferingEventInvalid(bufferingId,!0),bufferingRanges[bufferingId]={},bufferingRanges[bufferingId].start=ts,bufferingRanges[bufferingId].type=null,sendBufferingEventBeacon(bufferingId,!0)},this.bufferingEnd=function(bufferingId){var ts=getPerformanceTime(),isStart=!1;return throwErrorIfBufferingEventInvalid(bufferingId,!1),bufferingRanges[bufferingId].end=ts,sendBufferingEventBeacon(bufferingId,!1)},this.mediaPlaybackError=function(errorType,errorMsg,exceptionFields){var ts=getPerformanceTime(),exceptionObj;return throwErrorIfPlaybackErrorEventIsInvalid(errorType,errorMsg,exceptionFields),"object"==typeof exceptionFields&&(exceptionObj=getExceptionObjectFromFieldsAndDefaults(exceptionFields)),sendMediaPlaybackErrorEventBeacon(errorType,errorMsg,exceptionObj,ts)},this.bitrateChangedEvent=function(bitrateChangedFields){var ts=getPerformanceTime(),extraFieldsObj;return throwErrorIfBitrateChangedEventInvalid(bitrateChangedFields),sendMediaBitrateChangedEventBeacon(bitrateChangedFields,ts)}}exports.default=RumVideoTracking,module.exports=exports.default},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,global,factory,mod;global=this,factory=function(exports,module){"use strict";var isBrowser="undefined"!=typeof window&&window&&"node"!==window.appEnvironment,useRequestIdleCallback=isBrowser&&!!window.requestIdleCallback,idleThreshold=8,webTrackingTransport={AJAX_METHOD:"POST",DEFAULT_PAGE_TYPE:"ajax",globalTrackingUrl:null,globalTrackingAppId:"no.app.id",queue:[],paused:!1,maxQueueSize:1,queueTimeout:1e3,timeoutId:null,csrfToken:"",testId:"",testSegId:"",setProperty:function setProperty(key,value){value&&(this[key]=value)},setTrackingUrl:function setTrackingUrl(trackingUrl){this.setProperty("globalTrackingUrl",trackingUrl)},setAppId:function setAppId(appId){this.setProperty("globalTrackingAppId",appId)},setCsrfToken:function setCsrfToken(token){this.setProperty("csrfToken",token)},setTestId:function setTestId(testId){this.setProperty("testId",testId)},setTestSegId:function setTestSegId(testSegId){this.setProperty("testSegId",testSegId)},getCookieString:function getCookieString(){return document.cookie},getCsrfToken:function getCsrfToken(){for(var token="JSESSIONID=",ca=this.getCookieString().split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(-1!==c.indexOf(token)){var value=c.substring(token.length,c.length);return'"'===value[0]&&'"'===value[value.length-1]&&(value=value.substring(1,value.length-1)),value}}return""},createXmlHttpObject:function createXmlHttpObject(){return isBrowser&&window.XMLHttpRequest?new XMLHttpRequest:null},ajax:function ajax(postData,success,failure,trackingEndpointUrl){var req;(trackingEndpointUrl=trackingEndpointUrl||this.globalTrackingUrl)?(req=this.createXmlHttpObject())&&(req.open(this.AJAX_METHOD,trackingEndpointUrl,!0),req.withCredentials=!0,req.setRequestHeader("Content-type","application/json"),this.csrfToken?req.setRequestHeader("Csrf-Token",this.csrfToken):req.setRequestHeader("Csrf-Token",this.getCsrfToken()),this.testId&&req.setRequestHeader("X-LinkedIn-traceDataContext-ENG_TEST_ID",this.testId),this.testSegId&&req.setRequestHeader("X-LinkedIn-traceDataContext-ENG_TEST_SEGMENT_ID",this.testSegId),req.onreadystatechange=function(){4===req.readyState&&(200===req.status||304===req.status?"function"==typeof success&&success(req):failure&&failure(req))},4!==req.readyState&&req.send(postData)):failure&&failure("Tracking url is not defined")},pause:function pause(){this.paused=!0},unpause:function unpause(){this.paused=!1,this.queue.length>=this.maxQueueSize&&this.flush()},flush:function flush(){if(this.queue.length>0){var self=this;this.ajax(JSON.stringify(this.queue),null,this.logError),this.queue=[]}useRequestIdleCallback?cancelIdleCallback(this.timeoutId):clearTimeout(this.timeoutId),this.timeoutId=null,this.paused=!1},idleFlush:function idleFlush(timeout){var _this=this,startTime=Date.now();return requestIdleCallback(function(deadline){deadline.timeRemaining()>8||deadline.didTimeout?_this.flush():_this.timeoutId=_this.idleFlush(timeout-(Date.now()-startTime))},{timeout:timeout})},addToQueue:function addToQueue(payload){if(this.queue.push(payload),this.queue.length>=this.maxQueueSize&&!this.paused)return this.flush();if(!this.timeoutId){var self=this;useRequestIdleCallback&&!this.paused?this.timeoutId=this.idleFlush(this.queueTimeout):this.timeoutId=setTimeout(function(){self.flush()},this.queueTimeout)}},validateEvent:function validateEvent(eventInfoOrName,eventBody,callback){this.ajax(JSON.stringify([{eventInfo:this.populateEventInfo(eventInfoOrName),eventBody:this.populateEventHeaders(eventBody)}]),function(requestObject){return callback(null,requestObject)},function(requestObject){return callback(requestObject)},this.globalTrackingUrl+"/validate")},sendEvent:function sendEvent(eventInfoOrName,eventBody){this.addToQueue({eventInfo:this.populateEventInfo(eventInfoOrName),eventBody:this.populateEventHeaders(eventBody)})},getTimestamp:function getTimestamp(){return Math.round((new Date).getTime()/1e3)},populateEventInfo:function populateEventInfo(eventInfo){return"string"==typeof eventInfo&&(eventInfo={eventName:eventInfo}),eventInfo&&"object"==typeof eventInfo?(eventInfo.appId||(eventInfo.appId=this.globalTrackingAppId),eventInfo):(this.logError("Event info must be object"),{})},populateEventHeaders:function populateEventHeaders(eventBody){return eventBody&&"object"==typeof eventBody?eventBody:(this.logError("Event body must be object"),{})},logError:function logError(message){var console=window.console;console&&console.error&&console.error(message)},init:function init(){this.setTrackingUrl(),this.setAppId(),this.onBeforeUnload=this.onBeforeUnload.bind(this),isBrowser&&window.addEventListener("beforeunload",this.onBeforeUnload)},destroy:function destroy(){isBrowser&&window.removeEventListener("beforeunload",this.onBeforeUnload)},onBeforeUnload:function onBeforeUnload(){this.flush()}};webTrackingTransport.init(),module.exports=webTrackingTransport},__WEBPACK_AMD_DEFINE_ARRAY__=[exports,module],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_coreEventListener,_coreEventListener2,SelectableComponent=function(_EventListener){function SelectableComponent(element){_classCallCheck(this,SelectableComponent),_get(Object.getPrototypeOf(SelectableComponent.prototype),"constructor",this).call(this),_linkedinSlideshareClientUtils.events.mixin(this),this.element=element}return _inherits(SelectableComponent,_EventListener),_createClass(SelectableComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",this.onClick])}},{key:"onClick",value:function onClick(){this.select()}},{key:"select",value:function select(){var selection=window.getSelection();selection.removeAllRanges();var range=document.createRange();range.selectNodeContents(this.element),selection.addRange(range),this.emit("selected")}}]),SelectableComponent}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=SelectableComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashPairs,_lodashPairs2=_interopRequireDefault(__webpack_require__(171)),_linkedinSlideshareClientUtils=__webpack_require__(148),_helpersA11yHelper=__webpack_require__(187),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),_helpersControlNames=__webpack_require__(248);function getCenteredXOffset(width){return(window.document.documentElement.clientWidth-width)/2}function getCenteredYOffset(height){return(window.document.documentElement.clientHeight-height)/2}var ShareButtonComponent=function(_UIComponent){function ShareButtonComponent(element,videoAdapter){var options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],window=arguments.length<=3||void 0===arguments[3]?element.ownerDocument.defaultView:arguments[3],playerStateManager=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];return function(){if(_classCallCheck(this,ShareButtonComponent),_get(Object.getPrototypeOf(ShareButtonComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{urlAttribute:"data-ssplayer-share-url",networkAttribute:"data-ssplayer-share-network",windowSettings:{menubar:"no",toolbar:"no",resizable:"yes",scrollbars:"yes",height:600,width:600}}),this.element=element,this.window=window,this.network=options.network||this.adapter.getAttr(this.element,this.options.networkAttribute),this.url=options.url||this.adapter.getAttr(this.element,this.options.urlAttribute),this.videoAdapter=videoAdapter,this.playerStateManager=playerStateManager,!this.playerStateManager.isDisableA11y&&this.network){var a11YControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(this.network);this.adaptedElement.append(a11YControlTextElement)}}.apply(this,arguments)}return _inherits(ShareButtonComponent,_UIComponent),_createClass(ShareButtonComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",this.onClick])}},{key:"onClick",value:function onClick(){this.openSharingWindow()}},{key:"getWindowSettings",value:function getWindowSettings(){var offsetLeft=getCenteredXOffset(this.options.windowSettings.width),offsetTop=getCenteredYOffset(this.options.windowSettings.height);return(0,_lodashPairs2.default)(this.options.windowSettings).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key,setting;return _ref2[0]+"="+_ref2[1]}).concat(["left="+offsetLeft,"top="+offsetTop]).join(",")}},{key:"openSharingWindow",value:function openSharingWindow(){this.window.open(this.url,"",this.getWindowSettings());var data={network:this.network,url:this.url};this.emit("shared",data),this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.SHARE_EXTERNAL,{network:this.network,controlName:_helpersControlNames.CONTROL_PREFIX+"_share_"+this.network})}}]),ShareButtonComponent}(_ui2.default);exports.default=ShareButtonComponent,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EVENTS_MAP={PAUSE:"pause",PLAY:"play",SEEKED:"seeked",TIME_UPDATE:"timeupdate",ENDED:"ended",ERROR:"error",VOLUME_CHANGE:"volumechange",MUTE:"mute",UNMUTE:"unmute",ENTER_FULLSCREEN:"enterfullscreen",EXIT_FULLSCREEN:"exitfullscreen",INIT:"init",BUFFER_START:"bufferstart",BUFFER_END:"bufferend",BITRATE_CHANGED:"bitrateChanged",SHARE_MODAL_OPEN:"sharemodalopen",SHARE_MODAL_CLOSE:"sharemodalclose",SHARE_EXTERNAL:"shareexternal"};exports.default=EVENTS_MAP,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CONTROL_PREFIX="video",CONTROL_NAME={TOOLBAR:{FULLSCREEN:"video_toolbar_fullscreen",SHARE:"video_toolbar_share",REPLAY:"video_toolbar_replay",PLAY:"video_toolbar_play",PAUSE:"video_toolbar_pause",MUTE_TOGGLE:"video_toolbar_mute_unmute",PLAYBACK_RATE:"video_toolbar_playback_rate"},HERO:{PLAY:"video_hero_play"},ELEMENT:{PLAY:"video_element_play"},ENDCARD:{FULLSCREEN:"video_endcard_fullscreen",REPLAY:"video_endcard_replay",PLAY:"video_endcard_play",SHARE:"video_endcard_share"}};exports.CONTROL_NAME=CONTROL_NAME,exports.CONTROL_PREFIX="video"},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_helpersFormatTime,_helpersFormatTime2=_interopRequireDefault(__webpack_require__(250)),_activatable,_activatable2=_interopRequireDefault(__webpack_require__(88)),defaultCurrentTime=0,defaultDuration=void 0,TimeDisplayComponent=function(_ActivatableComponent){function TimeDisplayComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,TimeDisplayComponent),_get(Object.getPrototypeOf(TimeDisplayComponent.prototype),"constructor",this).call(this,element,(0,_lodashDefaultsdeep2.default)({},options,{durationSelector:".ssplayer-time-display-duration",currentTimeSelector:".ssplayer-time-display-current-time"})),this.duration=defaultDuration,this.currentTime=defaultCurrentTime}return _inherits(TimeDisplayComponent,_ActivatableComponent),_createClass(TimeDisplayComponent,[{key:"durationElement",get:function get(){return this.adapter.adapt(this.adapter.children(this.adaptedElement,this.options.durationSelector))}},{key:"currentTimeElement",get:function get(){return this.adapter.adapt(this.adapter.find(this.adaptedElement,this.options.currentTimeSelector))}},{key:"duration",get:function get(){return this.durationValue},set:function set(value){this.durationValue=value,this.adapter.setText(this.durationElement,(0,_helpersFormatTime2.default)(value)),this.active=value!==defaultDuration}},{key:"currentTime",get:function get(){return this.currentTimeValue},set:function set(value){this.currentTimeValue=value,this.adapter.setText(this.currentTimeElement,(0,_helpersFormatTime2.default)(value,this.duration||value))}}]),TimeDisplayComponent}(_activatable2.default);exports.default=TimeDisplayComponent,module.exports=exports.default},function(module,exports){"use strict";function formatTime(seconds){var guide=arguments.length<=1||void 0===arguments[1]?seconds:arguments[1];return function(){seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);return(null==seconds||isNaN(seconds)||seconds===1/0)&&(h="-",m="-",s="-"),(h=h>0||gh>0?h+":":"")+(m=((h||gm>=10)&&m<10?"0"+m:m)+":")+(s=s<10?"0"+s:s)}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=formatTime,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_screenfull,_screenfull2=_interopRequireDefault(__webpack_require__(205)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_linkedinSlideshareClientUtils=__webpack_require__(148),_control,_control2=_interopRequireDefault(__webpack_require__(252)),_helpersA11yHelper=__webpack_require__(187),_helpersDom=__webpack_require__(229),_helpersConsoleWarn=__webpack_require__(226),ToolbarComponent=function(_ControlComponent){function ToolbarComponent(element,options,document,playerStateManager,videojsPlayer,a11yControlTextObj,a11yCustomControlTextPairs){return void 0===options&&(options={}),void 0===document&&(document=element.ownerDocument),void 0===playerStateManager&&(playerStateManager={}),function(){if(_classCallCheck(this,ToolbarComponent),_get(Object.getPrototypeOf(ToolbarComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{hideOnFullscreen:!0,tocEnabled:!1,playButtonSelector:".ssplayer-play-button",pauseButtonSelector:".ssplayer-pause-button",fullScreenOnButtonSelector:".ssplayer-fullscreen-on-button",fullScreenOffButtonSelector:".ssplayer-fullscreen-off-button",progressSliderSelector:".ssplayer-progress.ssplayer-progress-slider",firstFocusableElementSelector:".ssplayer-progress.ssplayer-progress-slider",lastFocusableElementSelector:".ssplayer-fullscreen-off-button",zoomInButtonSelector:".ssplayer-zoom-in-button",zoomOutButtonSelector:".ssplayer-zoom-out-button",zoomSelectSelector:".ssplayer-zoom-options-select",hcmDescriptionLabel:"High Contrast Mode",hcmOnStateLabel:"On",hcmOffStateLabel:"Off",hcmDescriptionLabelSelector:".ssplayer-hcm-description-label",hcmStateLabelSelector:".ssplayer-hcm-state-label",hcmToggleSelector:".ssplayer-hcm-toggle",withToc:"ssplayer-toolbar-with-toc"}),this.document=document,this.playerStateManager=playerStateManager,this.videojsPlayer=videojsPlayer,this.playButton=this.adaptedElement.find(this.options.playButtonSelector)[0],this.pauseButton=this.adaptedElement.find(this.options.pauseButtonSelector)[0],this.fullScreenOnButton=this.adaptedElement.find(this.options.fullScreenOnButtonSelector)[0],this.fullScreenOffButton=this.adaptedElement.find(this.options.fullScreenOffButtonSelector)[0],this.progressSlider=this.adaptedElement.find(this.options.progressSliderSelector)[0],this.firstFocusableElement=this.adaptedElement.find(this.options.firstFocusableElementSelector)[0],this.lastFocusableElement=this.adaptedElement.find(this.options.lastFocusableElementSelector)[0],this.keyPressHandler=this.handleKeyPress.bind(this),this.zoomInButtonElement=this.adaptedElement.find(this.options.zoomInButtonSelector)[0],this.zoomOutButtonElement=this.adaptedElement.find(this.options.zoomOutButtonSelector)[0],this.zoomSelectElement=this.adaptedElement.find(this.options.zoomSelectSelector)[0],this.isMouseOver=!1,this.addA11yControlText(a11yControlTextObj,a11yCustomControlTextPairs),this.zoomScale=1,this.hcmDescriptionLabelElement=this.adaptedElement.find(this.options.hcmDescriptionLabelSelector)[0],this.hcmStateLabelElement=this.adaptedElement.find(this.options.hcmStateLabelSelector)[0],this.hcmToggleElement=this.adaptedElement.find(this.options.hcmToggleSelector)[0],this.hcmDescriptionLabelElement&&this.hcmStateLabelElement&&this.hcmToggleElement&&(this.hcmDescriptionLabelElement.innerText=this.options.hcmDescriptionLabel,this.hcmMode=!1),this.options.tocEnabled){var withTocClass=_linkedinJsecure2.default.htmlEncode(this.options.withToc);this.adaptedElement.addClass(withTocClass)}this.options.checkFullscreenAPI&&!_screenfull2.default.enabled&&((0,_helpersConsoleWarn.warn)("Full screen API not detected-- hiding full screen button!"),this.adaptedElement.find(this.options.fullScreenOnButtonSelector).hide())}.apply(this,arguments)}return _inherits(ToolbarComponent,_ControlComponent),_createClass(ToolbarComponent,[{key:"beforeInit",value:function beforeInit(){_get(Object.getPrototypeOf(ToolbarComponent.prototype),"beforeInit",this).call(this);var toolbarEvents=[[this.element,"click",(0,_helpersDom.delegated)("[data-ssplayer-event]",this.onClick)],[this.zoomSelectElement,"change",this.onZoomSelectChange],[this.zoomInButtonElement,"click",this.onZoomIn],[this.zoomOutButtonElement,"click",this.onZoomOut],[this.hcmToggleElement,"change",this.onHcmModeChange]].filter(function(_ref){var _ref2,target;return _slicedToArray(_ref,1)[0]});this.addEvents.apply(this,_toConsumableArray(toolbarEvents)),this.options.hideOnFullscreen&&_screenfull2.default.raw&&_screenfull2.default.raw.fullscreenchange&&this.addEvents([this.document,_screenfull2.default.raw.fullscreenchange,this.onFullscreenChange,this.document,"mousemove",this.onDocumentMouseMove])}},{key:"onClick",value:function onClick(event,delegateTarget){var target=this.adapter.adapt(delegateTarget),eventName=this.adapter.getAttr(target,"data-ssplayer-event"),eventData=this.adapter.getAttr(target,"data-ssplayer-event-data");this.emit(eventName,{originalEvent:event,delegateTarget:delegateTarget,data:eventData&&JSON.parse(eventData)})}},{key:"toggleTocToolbarStyle",value:function toggleTocToolbarStyle(){var withTocClass=_linkedinJsecure2.default.htmlEncode(this.options.withToc);this.adaptedElement.toggleClass(withTocClass)}},{key:"onZoomSelectChange",value:function onZoomSelectChange(e){this._updateZoom(e.target.value)}},{key:"onZoomIn",value:function onZoomIn(){var newZoomScaleIdx=Math.min(this.zoomSelectElement.selectedIndex+1,this.zoomSelectElement.options.length-1),newZoomScaleValue=this.zoomSelectElement.options[newZoomScaleIdx].value;this._updateZoom(newZoomScaleValue)}},{key:"onZoomOut",value:function onZoomOut(){var newZoomScaleIdx=Math.max(this.zoomSelectElement.selectedIndex-1,0),newZoomScaleValue=this.zoomSelectElement.options[newZoomScaleIdx].value;this._updateZoom(newZoomScaleValue)}},{key:"_updateZoomButtonStates",value:function _updateZoomButtonStates(){this.zoomOutButtonElement&&this.zoomInButtonElement&&this.zoomSelectElement&&(this.zoomOutButtonElement.disabled=0===this.zoomSelectElement.selectedIndex,this.zoomInButtonElement.disabled=this.zoomSelectElement.selectedIndex===this.zoomSelectElement.options.length-1)}},{key:"_updateZoom",value:function _updateZoom(zoomScale){zoomScale=parseFloat(zoomScale,10),isNaN(zoomScale)&&(zoomScale=1),this.zoomSelectElement.value=zoomScale,this.zoomScale=zoomScale,this.emit("zoom",zoomScale),this._updateZoomButtonStates()}},{key:"onHcmModeChange",value:function onHcmModeChange(e){var isHighContrastModeOn=e.target.checked;this.hcmMode=isHighContrastModeOn,this.emit("hcmToggle",this.hcmMode)}},{key:"handleKeyPress",value:function handleKeyPress(event){event.keyCode===_helpersA11yHelper.KEY_CODE.TAB&&this.playerStateManager.isFullscreenOn&&(this.options.dynamicKeyTrap&&(this.firstFocusableElement=this.videojsPlayer.paused()?this.playButton:this.pauseButton),event.shiftKey?this.document.activeElement===this.firstFocusableElement&&(event.preventDefault(),this.lastFocusableElement.focus()):this.document.activeElement===this.lastFocusableElement&&(event.preventDefault(),this.firstFocusableElement.focus()))}},{key:"resetZoom",value:function resetZoom(){this._updateZoom(1)}},{key:"toggleVisible",value:function toggleVisible(show){this.adapter.toggleClass(this.adaptedElement.parent(".ssplayer-video-player"),"ssplayer-idle",!show)}},{key:"toggleAccessibilityVisibility",value:function toggleAccessibilityVisibility(shouldHide){this.adaptedElement.attr("aria-hidden",shouldHide)}},{key:"onFullscreenChange",value:function onFullscreenChange(){_screenfull2.default.element?(this.restartHideTimeout(),this.playerStateManager.isDisableA11y||this.adaptedElement.on("keydown",this.keyPressHandler)):(this.clearHideTimeout(),this.playerStateManager.isDisableA11y||this.adaptedElement.off("keydown",this.keyPressHandler))}},{key:"onDocumentMouseMove",value:function onDocumentMouseMove(){this.restartHideTimeout()}},{key:"restartHideTimeout",value:function restartHideTimeout(){var _this=this;clearTimeout(this.idleId),this.toggleVisible(!0),this.idleId=setTimeout(function(){_this.toggleVisible(!1),delete _this.idleId},3e3)}},{key:"clearHideTimeout",value:function clearHideTimeout(){clearTimeout(this.idleId),this.toggleVisible(!0),delete this.idleId}},{key:"addA11yControlText",value:function addA11yControlText(){var _this2=this,a11yControlTextObj=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],a11yCustomControlTextPairs=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],defaulta11yCustomControlTextPairs=[{cssSelector:".ssplayer-play-button",key:"playButtonA11yControlText"},{cssSelector:".ssplayer-pause-button",key:"pauseButtonA11yControlText"},{cssSelector:".ssplayer-share-button",key:"shareButtonA11yControlText"},{cssSelector:".ssplayer-zoom-in-button",key:"zoomInButtonA11yControlText"},{cssSelector:".ssplayer-zoom-out-button",key:"zoomOutButtonA11yControlText"},{cssSelector:".ssplayer-zoom-options-select-label",key:"zoomSelectA11yControlText"},{cssSelector:".ssplayer-volume-switch",key:"volumeOnButtonA11yControlText"},{cssSelector:".ssplayer-fullscreen-on-button",key:"fullscreenOnButtonA11yControlText"},{cssSelector:".ssplayer-fullscreen-off-button",key:"fullscreenOffButtonA11yControlText"},{cssSelector:".ssplayer-linkedin-logo-link",key:"linkedinLogoLinkA11yControlText"},{cssSelector:".chevron-left-button",key:"previousButtonA11yControlText"},{cssSelector:".chevron-right-button",key:"nextButtonA11yControlText"}];(a11yCustomControlTextPairs=a11yCustomControlTextPairs.concat(defaulta11yCustomControlTextPairs)).forEach(function(_ref3){var cssSelector=_ref3.cssSelector,key=_ref3.key,a11yControlText=a11yControlTextObj[key];a11yControlText&&_this2.createA11yControlTextEl(cssSelector,a11yControlText)})}},{key:"createA11yControlTextEl",value:function createA11yControlTextEl(selector){var a11yControlText=arguments.length<=1||void 0===arguments[1]?"":arguments[1],$el=this.adaptedElement.find(selector);if(0!==$el.length&&a11yControlText){var a11YControlTextElement=(0,_helpersA11yHelper.createA11yControlTextElement)(a11yControlText);$el.append(a11YControlTextElement)}}},{key:"hcmMode",get:function get(){return this.hcm},set:function set(isHcmOn){this.hcm=isHcmOn,this.hcmStateLabelElement.innerText=!0===this.hcm?this.options.hcmOnStateLabel:this.options.hcmOffStateLabel}}]),ToolbarComponent}(_control2.default);exports.default=ToolbarComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_ui,_ui2,ControlComponent=function(_UIComponent){function ControlComponent(element){_classCallCheck(this,ControlComponent),_get(Object.getPrototypeOf(ControlComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.isMouseOver=!1}return _inherits(ControlComponent,_UIComponent),_createClass(ControlComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"mouseover",this.onMouseOver],[this.element,"mouseout",this.onMouseOut])}},{key:"onMouseOver",value:function onMouseOver(){this.isMouseOver=!0,this.emit("mouseOver")}},{key:"onMouseOut",value:function onMouseOut(){this.isMouseOver=!1,this.emit("mouseOut")}}]),ControlComponent}(_interopRequireDefault(__webpack_require__(135)).default);exports.default=ControlComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _helpersMouseEvents=__webpack_require__(221),_slider,_slider2,VerticalSliderComponent=function(_SliderComponent){function VerticalSliderComponent(){_classCallCheck(this,VerticalSliderComponent),_get(Object.getPrototypeOf(VerticalSliderComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(VerticalSliderComponent,_SliderComponent),_createClass(VerticalSliderComponent,[{key:"calculateValue",value:function calculateValue(event){return this.max-(0,_helpersMouseEvents.calculateVerticalValue)(event,this.progressElement,0,this.max)}}]),VerticalSliderComponent}(_interopRequireDefault(__webpack_require__(233)).default);exports.default=VerticalSliderComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_helpersDom=__webpack_require__(229),_fullscreenTarget,_fullscreenTarget2,VideoPlayerComponent=function(_FullscreenTargetComponent){function VideoPlayerComponent(element,options,playerStateManager){void 0===options&&(options={}),_classCallCheck(this,VideoPlayerComponent),_get(Object.getPrototypeOf(VideoPlayerComponent.prototype),"constructor",this).call(this,element,(0,_lodashDefaultsdeep2.default)({},options,{classes:{playing:"ssplayer-playing",paused:"ssplayer-paused",idle:"ssplayer-idle",ended:"ssplayer-ended"}}),void 0,playerStateManager),_linkedinSlideshareClientUtils.events.mixin(this),options.a11yControlText&&this.adaptedElement.attr({"aria-label":options.a11yControlText})}return _inherits(VideoPlayerComponent,_FullscreenTargetComponent),_createClass(VideoPlayerComponent,[{key:"beforeInit",value:function beforeInit(){_get(Object.getPrototypeOf(VideoPlayerComponent.prototype),"beforeInit",this).call(this),this.addEvents([this.element,"click",(0,_helpersDom.delegated)("video",this.onVideoClick)],[this.element,"click",this.onClick])}},{key:"onVideoClick",value:function onVideoClick(){this.emit("click")}},{key:"onClick",value:function onClick(){this.emit("userInteracted")}},{key:"idle",set:function set(isHidle){this.adapter.toggleClass(this.adaptedElement,this.options.classes.idle,isHidle)}},{key:"ended",set:function set(isEnded){this.adapter.toggleClass(this.adaptedElement,this.options.classes.ended,isEnded)}},{key:"paused",set:function set(isPaused){this.adapter.toggleClass(this.adaptedElement,this.options.classes.paused,isPaused),this.adapter.toggleClass(this.adaptedElement,this.options.classes.playing,!isPaused)}}]),VideoPlayerComponent}(_interopRequireDefault(__webpack_require__(255)).default);exports.default=VideoPlayerComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_screenfull,_screenfull2=_interopRequireDefault(__webpack_require__(205)),_ui,_ui2,FullscreenTargetComponent=function(_UIComponent){function FullscreenTargetComponent(element,options,document,playerStateManager){return void 0===options&&(options={}),void 0===document&&(document=element.ownerDocument),function(){_classCallCheck(this,FullscreenTargetComponent),_get(Object.getPrototypeOf(FullscreenTargetComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{classes:{fullscreenDisabled:"ssplayer-fullscreen-disabled",fullscreen:"ssplayer-fullscreen"}}),this.document=document,this.playerStateManager=playerStateManager,this.adapter.toggleClass(this.adaptedElement,this.options.classes.fullscreenDisabled,!_screenfull2.default.enabled)}.apply(this,arguments)}return _inherits(FullscreenTargetComponent,_UIComponent),_createClass(FullscreenTargetComponent,[{key:"beforeInit",value:function beforeInit(){_screenfull2.default.raw&&_screenfull2.default.raw.fullscreenchange&&this.addEvents([this.document,_screenfull2.default.raw.fullscreenchange,this.onDocumentFullscreenchange])}},{key:"onDocumentFullscreenchange",value:function onDocumentFullscreenchange(){this.adapter.toggleClass(this.adaptedElement,this.options.classes.fullscreen,this.fullscreen),this.playerStateManager.isFullscreenOn=_screenfull2.default.isFullscreen,this.emit("changeFullscreen",this.fullscreen)}},{key:"fullscreenEnabled",get:function get(){return _screenfull2.default.enabled}},{key:"fullscreen",get:function get(){return _screenfull2.default.element===this.element},set:function set(isFullscreen){isFullscreen?_screenfull2.default.request(this.element):_screenfull2.default.exit(this.element)}}]),FullscreenTargetComponent}(_interopRequireDefault(__webpack_require__(135)).default);exports.default=FullscreenTargetComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_activatable,_activatable2,VolumeSwitchComponent=function(_ActivatableComponent){function VolumeSwitchComponent(){_classCallCheck(this,VolumeSwitchComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_get(Object.getPrototypeOf(VolumeSwitchComponent.prototype),"constructor",this).apply(this,args),_linkedinSlideshareClientUtils.events.mixin(this)}return _inherits(VolumeSwitchComponent,_ActivatableComponent),_createClass(VolumeSwitchComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"click",this.onClick])}},{key:"onClick",value:function onClick(){this.emit(0===this.volumeValue?"unmute":"mute")}},{key:"iconVolumeRanges",get:function get(){return[["ssplayer-volume-muted",-1/0,0],["ssplayer-volume-min",0,.33],["ssplayer-volume-med",.33,.66],["ssplayer-volume-max",.66,1/0]]}},{key:"volume",set:function set(value){var _this=this;this.volumeValue=value,this.iconVolumeRanges.forEach(function(_ref){var _ref2=_slicedToArray(_ref,3),className=_ref2[0],min=_ref2[1],max=_ref2[2],iconElement=_this.adapter.find(_this.adaptedElement,"."+className),classes=[className];value>min&&value<=max&&classes.push(_this.options.activeClass),_this.adapter.setAttr(iconElement,"class",classes.join(" "))})}}]),VolumeSwitchComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=VolumeSwitchComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),_helpersControlNames,ENDCARD=__webpack_require__(248).CONTROL_NAME.ENDCARD,EndcardBehavior=function(_EventListener){function EndcardBehavior(videojsPlayer,videoAdapter,controlTracker,endcard,endcardModal,shareModal){_classCallCheck(this,EndcardBehavior),_get(Object.getPrototypeOf(EndcardBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.videoAdapter=videoAdapter,this.controlTracker=controlTracker,this.endcard=endcard,this.endcardModal=endcardModal,this.shareModal=shareModal}return _inherits(EndcardBehavior,_EventListener),_createClass(EndcardBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"ended",this.onVideojsEnded],[this.videojsPlayer,"play",this.onVideojsPlay],[this.endcard,"share",this.onEndcardShare],[this.endcard,"play",this.onEndcardPlay],[this.endcardModal,"exitFullscreen",this.onEndcardModalExitFullscreen])}},{key:"onVideojsEnded",value:function onVideojsEnded(){this.endcardModal.open()}},{key:"onVideojsPlay",value:function onVideojsPlay(){this.endcardModal.close()}},{key:"onEndcardShare",value:function onEndcardShare(){this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.SHARE_MODAL_OPEN,ENDCARD.SHARE),this.shareModal.open()}},{key:"onEndcardPlay",value:function onEndcardPlay(){this.endcardModal.close(),this.controlTracker.controlName=this.videojsPlayer.ended()?ENDCARD.REPLAY:ENDCARD.PLAY,this.videojsPlayer.play()}},{key:"onEndcardModalExitFullscreen",value:function onEndcardModalExitFullscreen(){this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.EXIT_FULLSCREEN,ENDCARD.FULLSCREEN),this.videojsPlayer.exitFullscreen()}}]),EndcardBehavior}(_coreEventListener2.default);exports.default=EndcardBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),_helpersControlNames,CONTROL_NAME_FULLSCREEN=__webpack_require__(248).CONTROL_NAME.TOOLBAR.FULLSCREEN,ROOT_FULLSCREEN_CLASS="ssplayer-fullscreen",WAIT_TIME_FOR_ANIMATION=1e3,FullscreenBehavior=function(_EventListener){function FullscreenBehavior(fullscreenTarget,videoAdapter,toolbar){var playerStateManager=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];_classCallCheck(this,FullscreenBehavior),_get(Object.getPrototypeOf(FullscreenBehavior.prototype),"constructor",this).call(this),this.fullscreenTarget=fullscreenTarget,this.videoAdapter=videoAdapter,this.toolbar=toolbar,this.playerStateManager=playerStateManager}return _inherits(FullscreenBehavior,_EventListener),_createClass(FullscreenBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.toolbar,"enterFullscreen",this.onToolbarEnterFullscreen],[this.toolbar,"exitFullscreen",this.onToolbarExitFullscreen],[this.fullscreenTarget,"changeFullscreen",this.onChangeFullscreen])}},{key:"onToolbarEnterFullscreen",value:function onToolbarEnterFullscreen(){var _this=this;this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.ENTER_FULLSCREEN,CONTROL_NAME_FULLSCREEN),this.fullscreenTarget.fullscreen=!0,!this.playerStateManager.isDisableA11y&&this.playerStateManager.isFocusActive&&setTimeout(function(){return _this.toolbar.fullScreenOffButton.focus()},1e3)}},{key:"onToolbarExitFullscreen",value:function onToolbarExitFullscreen(){var _this2=this;this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.EXIT_FULLSCREEN,CONTROL_NAME_FULLSCREEN),this.fullscreenTarget.fullscreen=!1,!this.playerStateManager.isDisableA11y&&this.playerStateManager.isFocusActive&&setTimeout(function(){return _this2.toolbar.fullScreenOnButton.focus()},1e3)}},{key:"onChangeFullscreen",value:function onChangeFullscreen(isFullscreen){isFullscreen?document.documentElement.classList.add("ssplayer-fullscreen"):document.documentElement.classList.remove("ssplayer-fullscreen")}}]),FullscreenBehavior}(_coreEventListener2.default);exports.default=FullscreenBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2,ModalManagerBehavior=function(_EventListener){function ModalManagerBehavior(toolbar){_classCallCheck(this,ModalManagerBehavior),_get(Object.getPrototypeOf(ModalManagerBehavior.prototype),"constructor",this).call(this);for(var _len=arguments.length,modals=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)modals[_key-1]=arguments[_key];this.modals=modals.reverse(),this.toolbar=toolbar,this.openedModal=0}return _inherits(ModalManagerBehavior,_EventListener),_createClass(ModalManagerBehavior,[{key:"beforeInit",value:function beforeInit(){var _this=this;this.modals.forEach(function(modal){_this.addEvents([modal,"opened",_this.onModalOpened],[modal,"closed",_this.onModalClosed])}),this.updateActiveModalsLevels()}},{key:"updateActiveModalsLevels",value:function updateActiveModalsLevels(){this.modals.filter(function(modal){return modal.active}).forEach(function(modal,level){modal.level=level})}},{key:"onModalOpened",value:function onModalOpened(){this.updateActiveModalsLevels(),this.openedModal+=1,1===this.openedModal&&this.toolbar.hide()}},{key:"onModalClosed",value:function onModalClosed(){this.updateActiveModalsLevels(),this.openedModal-=1,0===this.openedModal&&this.toolbar.show()}}]),ModalManagerBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=ModalManagerBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_coreEventListener,_coreEventListener2,PresentationBehavior=function(_EventListener){function PresentationBehavior(components,options){_classCallCheck(this,PresentationBehavior),_get(Object.getPrototypeOf(PresentationBehavior.prototype),"constructor",this).call(this),this.components=components,this.options=(0,_lodashDefaultsdeep2.default)(options,{isRtl:!1,callbacks:{}}),this.isAccessibilityModeEnabled=!1}return _inherits(PresentationBehavior,_EventListener),_createClass(PresentationBehavior,[{key:"beforeInit",value:function beforeInit(){var _components=this.components,carousel=_components.carousel,keyboard=_components.keyboard,sidepanelRight=_components.sidepanelRight,sidepanelLeft=_components.sidepanelLeft,progress=_components.progress,toolbar=_components.toolbar,topbar=_components.topbar,bottombar=_components.bottombar,presentation=_components.presentation,events=[[carousel,"positionChange",this.onCarouselPosition],[carousel,"loadingStart",this.onCarouselLoadingStart],[carousel,"loadingEnd",this.onCarouselLoadingEnd],[keyboard,"rightArrow",this.onRightKey],[keyboard,"leftArrow",this.onLeftKey],[keyboard,"plus",this.onPlusKey],[keyboard,"minus",this.onMinusKey],[sidepanelRight,"click",this.onRightNav],[sidepanelLeft,"click",this.onLeftNav],[progress,"positionClick",this.onPositionChange],[progress,"positionDrag",this.onProgressDrag],[progress,"positionHover",this.onProgressHover],[progress,"mouseEnter",this.onProgressEnter],[progress,"mouseLeave",this.onProgressLeave],[progress,"showThumbnailPreview",this.onShowThumbnailPreview],[progress,"hideThumbnailPreview",this.onHideThumbnailPreview],[toolbar,"enterFullscreen",this.onEnterFullscreen],[toolbar,"zoom",this.onZoom],[topbar,"cancel",this.onExitFullscreen],[topbar,"download",this.onDownload],[topbar,"accessibility",this.onAccessibility],[presentation,"fullscreen",this.onFullscreen]].filter(function(_ref){var _ref2,target;return _slicedToArray(_ref,1)[0]});this.addEvents.apply(this,_toConsumableArray(events)),(0,_lodashInvoke2.default)(this.components.presentation,"setRtl",this.options.isRtl),(0,_lodashInvoke2.default)(this.components,"progress.changePosition",carousel.position,!1),this._updateSidepanelVisibility(carousel.position,carousel.slideCount),bottombar&&((0,_lodashInvoke2.default)(this.components.bottombar,"show"),(0,_lodashInvoke2.default)(this.components.toolbar,"hide"),(0,_lodashInvoke2.default)(this.components.sidepanelRight,"hide"),(0,_lodashInvoke2.default)(this.components.sidepanelLeft,"hide"))}},{key:"onZoom",value:function onZoom(){var scale=arguments.length<=0||void 0===arguments[0]?1:arguments[0],isZoomed=1!==scale;(0,_lodashInvoke2.default)(this.components,"presentation.setIsZoomed",isZoomed),(0,_lodashInvoke2.default)(this.components,"sidepanelLeft.setIsZoomed",isZoomed),(0,_lodashInvoke2.default)(this.components,"sidepanelRight.setIsZoomed",isZoomed),(0,_lodashInvoke2.default)(this.components,"carousel.setZoom",scale)}},{key:"onDownload",value:function onDownload(){(0,_lodashInvoke2.default)(this.options.callbacks,"onClickDownload"),(0,_lodashInvoke2.default)(this.components,"virusScan.execute",function(){},!0,!0)}},{key:"onAccessibility",value:function onAccessibility(){var _this=this,toggleAccessibilityModeFn=function toggleAccessibilityModeFn(){_this.isAccessibilityModeEnabled=!_this.isAccessibilityModeEnabled,_this._toggleAccessibilityControls(_this.isAccessibilityModeEnabled)};(0,_lodashInvoke2.default)(this.options.callbacks,"onClickAccessibilityMode"),this.isAccessibilityModeEnabled?toggleAccessibilityModeFn():(0,_lodashInvoke2.default)(this.components,"virusScan.execute",toggleAccessibilityModeFn,!1)}},{key:"onCarouselPosition",value:function onCarouselPosition(data){(0,_lodashInvoke2.default)(this.options.callbacks,"onChangePosition",data),(0,_lodashInvoke2.default)(this.components,"pagination.changePosition",data.position),(0,_lodashInvoke2.default)(this.components,"progress.changePosition",data.position,!0),this._updateSidepanelVisibility(data.position,data.length)}},{key:"onCarouselLoadingStart",value:function onCarouselLoadingStart(){(0,_lodashInvoke2.default)(this.components,"loader.show")}},{key:"onCarouselLoadingEnd",value:function onCarouselLoadingEnd(){(0,_lodashInvoke2.default)(this.components,"loader.hide")}},{key:"onLeftNav",value:function onLeftNav(){var _this2=this;this._executeCallbackOnPositionChange(function(){return(0,_lodashInvoke2.default)(_this2.options.callbacks,"onClickLeftNav")},function(){return _this2.onSlidePrevious()})}},{key:"onRightNav",value:function onRightNav(){var _this3=this;this._executeCallbackOnPositionChange(function(){return(0,_lodashInvoke2.default)(_this3.options.callbacks,"onClickRightNav")},function(){return _this3.onSlideNext()})}},{key:"onLeftKey",value:function onLeftKey(){var _this4=this;this._executeCallbackOnPositionChange(function(){return(0,_lodashInvoke2.default)(_this4.options.callbacks,"onLeftKeyPress")},function(){return _this4.onSlidePrevious()})}},{key:"onRightKey",value:function onRightKey(){var _this5=this;this._executeCallbackOnPositionChange(function(){return(0,_lodashInvoke2.default)(_this5.options.callbacks,"onRightKeyPress")},function(){return _this5.onSlideNext()})}},{key:"onPlusKey",value:function onPlusKey(){this.isFullscreen&&(0,_lodashInvoke2.default)(this.components,"toolbar.onZoomIn")}},{key:"onMinusKey",value:function onMinusKey(){this.isFullscreen&&(0,_lodashInvoke2.default)(this.components,"toolbar.onZoomOut")}},{key:"onSlideNext",value:function onSlideNext(){(0,_lodashInvoke2.default)(this.components,"carousel.next")}},{key:"onSlidePrevious",value:function onSlidePrevious(){(0,_lodashInvoke2.default)(this.components,"carousel.previous")}},{key:"onPositionChange",value:function onPositionChange(position){var _this6=this;this._executeCallbackOnPositionChange(function(){return(0,_lodashInvoke2.default)(_this6.options.callbacks,"onProgressMove",position)},function(){return(0,_lodashInvoke2.default)(_this6.components,"carousel.changePosition",position,!1)})}},{key:"onProgressDrag",value:function onProgressDrag(position){(0,_lodashInvoke2.default)(this.components,"progress.changePosition",position,!1),this.onPositionChange(position)}},{key:"onFullscreen",value:function onFullscreen(isFullscreen){this.isFullscreen=isFullscreen,(0,_lodashInvoke2.default)(this.options.callbacks,"onFullscreen",isFullscreen),isFullscreen?(0,_lodashInvoke2.default)(this.components,"topbar.setFocus"):(this.isAccessibilityModeEnabled=!1,this._toggleAccessibilityControls(this.isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"toolbar.resetZoom")),(0,_lodashInvoke2.default)(this.components,"carousel.onWindowResize"),(0,_lodashInvoke2.default)(this.components,"progress.changePosition",this.components.carousel.position,!1)}},{key:"onEnterFullscreen",value:function onEnterFullscreen(){(0,_lodashInvoke2.default)(this.options.callbacks,"onClickEnterFullscreen"),(0,_lodashInvoke2.default)(this.components,"presentation.enterFullscreen")}},{key:"onExitFullscreen",value:function onExitFullscreen(){(0,_lodashInvoke2.default)(this.options.callbacks,"onClickExitFullscreen"),(0,_lodashInvoke2.default)(this.components,"presentation.exitFullscreen")}},{key:"onProgressHover",value:function onProgressHover(positionInfo){var progressBarWidthInPx=this.components.progress.progressBarWidthInPx;(0,_lodashInvoke2.default)(this.components,"previewThumbnail.changeThumbnailPosition",positionInfo.x,progressBarWidthInPx),(0,_lodashInvoke2.default)(this.components,"previewThumbnail.changeThumbnailPagination",positionInfo.position+1)}},{key:"onProgressEnter",value:function onProgressEnter(){this.onShowThumbnailPreview()}},{key:"onProgressLeave",value:function onProgressLeave(){this.onHideThumbnailPreview()}},{key:"onShowThumbnailPreview",value:function onShowThumbnailPreview(){(0,_lodashInvoke2.default)(this.components,"previewThumbnail.toggleThumbnail",!0)}},{key:"onHideThumbnailPreview",value:function onHideThumbnailPreview(){(0,_lodashInvoke2.default)(this.components,"previewThumbnail.toggleThumbnail",!1)}},{key:"_toggleAccessibilityControls",value:function _toggleAccessibilityControls(isAccessibilityModeEnabled){(0,_lodashInvoke2.default)(this.components,"topbar.setAccessibilityButtonState",isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"accessibilityModeFrame.toggle",isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"sidepanelLeft.toggleEnabled",!isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"sidepanelRight.toggleEnabled",!isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"carousel.toggleAccessibilityVisibility",isAccessibilityModeEnabled,isAccessibilityModeEnabled),(0,_lodashInvoke2.default)(this.components,"toolbar.toggleAccessibilityVisibility",isAccessibilityModeEnabled)}},{key:"_updateSidepanelVisibility",value:function _updateSidepanelVisibility(currentPosition,numberPages){(0,_lodashInvoke2.default)(this.components,"sidepanelRight.toggleEnabled",currentPosition<numberPages-1),(0,_lodashInvoke2.default)(this.components,"sidepanelLeft.toggleEnabled",currentPosition>0)}},{key:"_executeCallbackOnPositionChange",value:function _executeCallbackOnPositionChange(callbackFunc,funcThatMayCausePositionChange){var positionBefore=this.components.carousel.position;funcThatMayCausePositionChange(),this.components.carousel.position!==positionBefore&&callbackFunc()}}]),PresentationBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=PresentationBehavior,module.exports=exports.default},function(module,exports){(function(global){var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",uid,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,nativeMax=Math.max,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data;return this.__data__[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key),lastIndex;return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key).delete(key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGet(object,path){for(var index=0,length=(path=isKey(path,object)?[path]:castPath(path)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseInvoke(object,path,args){isKey(path,object)||(object=parent(object,path=castPath(path)),path=last(path));var func=null==object?object:object[toKey(path)];return null==func?void 0:apply(func,object,args)}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value));var pattern}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function parent(object,path){return 1==path.length?object:baseGet(object,baseSlice(path,0,-1))}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function last(array){var length=array?array.length:0;return length?array[length-1]:void 0}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!=value&&other!=other}memoize.Cache=MapCache;var isArray=Array.isArray;function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}var invoke=baseRest(baseInvoke);module.exports=invoke}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2,ShareLinkBehavior=function(_EventListener){function ShareLinkBehavior(shareModal,shareLink){_classCallCheck(this,ShareLinkBehavior),_get(Object.getPrototypeOf(ShareLinkBehavior.prototype),"constructor",this).call(this),this.shareModal=shareModal,this.shareLink=shareLink}return _inherits(ShareLinkBehavior,_EventListener),_createClass(ShareLinkBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.shareModal,"opened",this.onShareModalOpen])}},{key:"onShareModalOpen",value:function onShareModalOpen(){this.shareLink.select()}}]),ShareLinkBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=ShareLinkBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),_helpersControlNames=__webpack_require__(248),ShareModalBehavior=function(_EventListener){function ShareModalBehavior(videojsPlayer,videoAdapter,controlTracker,toolbar,shareModal){_classCallCheck(this,ShareModalBehavior),_get(Object.getPrototypeOf(ShareModalBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.videoAdapter=videoAdapter,this.controlTracker=controlTracker,this.toolbar=toolbar,this.shareModal=shareModal}return _inherits(ShareModalBehavior,_EventListener),_createClass(ShareModalBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.toolbar,"share",this.onToolbarShare],[this.shareModal,"closed",this.onShareModalClose])}},{key:"onToolbarShare",value:function onToolbarShare(){var controlName=_helpersControlNames.CONTROL_NAME.TOOLBAR.SHARE;this.videojsPlayer.paused()?this.alreadyPaused=!0:(this.controlTracker.controlName=controlName,this.videojsPlayer.pause()),this.shareModal.open(),this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.SHARE_MODAL_OPEN,controlName)}},{key:"onShareModalClose",value:function onShareModalClose(){this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.SHARE_MODAL_CLOSE),!this.videojsPlayer.ended()&&this.videojsPlayer.paused()&&(this.alreadyPaused?this.alreadyPaused=!1:this.videojsPlayer.play())}}]),ShareModalBehavior}(_coreEventListener2.default);exports.default=ShareModalBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2,VideojsBufferBehavior=function(_EventListener){function VideojsBufferBehavior(videojsPlayer,buffer){_classCallCheck(this,VideojsBufferBehavior),_get(Object.getPrototypeOf(VideojsBufferBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.buffer=buffer}return _inherits(VideojsBufferBehavior,_EventListener),_createClass(VideojsBufferBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"progress",this.onVideojsProgress]),this.updateProgress()}},{key:"updateProgress",value:function updateProgress(){this.buffer.buffered=this.videojsPlayer.bufferedPercent()}},{key:"onVideojsProgress",value:function onVideojsProgress(){this.updateProgress()}}]),VideojsBufferBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=VideojsBufferBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersVideojsErrors,_helpersVideojsErrors2=_interopRequireDefault(__webpack_require__(266)),states={stopped:"stopped",waiting:"waiting",playing:"playing"},TIMEUPDATE_THRESHOLD=500,VideojsMetricsBehavior=function(_EventListener){function VideojsMetricsBehavior(videojsInstance,tracker){_classCallCheck(this,VideojsMetricsBehavior),_get(Object.getPrototypeOf(VideojsMetricsBehavior.prototype),"constructor",this).call(this),this.tracker=tracker,this.videojs=videojsInstance,this.isPreloadNone="none"===this.videojs.preload(),this.state=states.stopped,this.seeking=!1,this.initializationStarted=!1,this.initializationEnded=!1,this.isBuffering=!1}return _inherits(VideojsMetricsBehavior,_EventListener),_createClass(VideojsMetricsBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojs,"loadeddata",this.onLoadeddata],[this.videojs,"loadstart",this.onLoadstart],[this.videojs,"pause",this.onPause],[this.videojs,"play",this.onPlay],[this.videojs,"seeked",this.onSeeked],[this.videojs,"seeking",this.onSeeking],[this.videojs,"timeupdate",this.onTimeupdate],[this.videojs,"waiting",this.onWaiting],[this.videojs,"error",this.onError])}},{key:"setInitializationStarted",value:function setInitializationStarted(){this.initializationStarted||(this.tracker.videoInitializationStart(),this.initializationStarted=!0)}},{key:"setInitializationEnded",value:function setInitializationEnded(){this.initializationEnded||(this.setInitializationStarted(),this.tracker.videoInitializationEnd(),this.initializationEnded=!0)}},{key:"bufferingStart",value:function bufferingStart(){this.seeking||(this.isBuffering=!0,this.tracker.bufferingStart())}},{key:"bufferingEnd",value:function bufferingEnd(){!this.seeking&&this.isBuffering&&(this.isBuffering=!1,this.tracker.bufferingEnd())}},{key:"onSeeking",value:function onSeeking(){this.seeking=!0}},{key:"onSeeked",value:function onSeeked(){this.seeking=!1}},{key:"onWaiting",value:function onWaiting(){this.state===states.playing&&(this.state=states.waiting,this.bufferingStart(),this.bufferingStartTime=Date.now())}},{key:"onTimeupdate",value:function onTimeupdate(){var isTimeupdateFiredDuringBuffering;Date.now()-this.bufferingStartTime<500||this.state!==states.waiting||(this.state=states.playing,this.bufferingEnd())}},{key:"onPause",value:function onPause(){this.state=states.stopped}},{key:"onPlay",value:function onPlay(){this.isPreloadNone&&this.setInitializationStarted(),this.state=states.playing}},{key:"onLoadstart",value:function onLoadstart(){this.isPreloadNone||this.setInitializationStarted()}},{key:"onLoadeddata",value:function onLoadeddata(){this.setInitializationEnded()}},{key:"onError",value:function onError(){if(this.tracker.videoPlaybackError){var videoError=this.videojs.error();this.tracker.videoPlaybackError(_helpersVideojsErrors2.default[videoError.code],videoError.message)}}}]),VideojsMetricsBehavior}(_coreEventListener2.default);exports.default=VideojsMetricsBehavior,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var errorTypes={0:"CUSTOM",1:"ABORTED",2:"NETWORK",3:"DECODING",4:"SOURCE_FILE",5:"ENCRYPTION"};exports.default=errorTypes,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_helpersA11yHelper=__webpack_require__(187),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersControlNames=__webpack_require__(248),TOOLBAR=_helpersControlNames.CONTROL_NAME.TOOLBAR,VideojsPlaybackBehavior=function(_EventListener){function VideojsPlaybackBehavior(videojsPlayer,videoPlayer,controlTracker,toolbar,bigPlayButton,document,playerStateManager,_ref){void 0===playerStateManager&&(playerStateManager={});var playButtonA11yControlText=_ref.playButtonA11yControlText,replayButtonA11yControlText=_ref.replayButtonA11yControlText;_classCallCheck(this,VideojsPlaybackBehavior),_get(Object.getPrototypeOf(VideojsPlaybackBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.videoPlayer=videoPlayer,this.controlTracker=controlTracker,this.toolbar=toolbar,this.bigPlayButton=bigPlayButton,this.document=document,this.playerStateManager=playerStateManager,this.playButtonA11yControlText=playButtonA11yControlText,this.replayButtonA11yControlText=replayButtonA11yControlText}return _inherits(VideojsPlaybackBehavior,_EventListener),_createClass(VideojsPlaybackBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"play",this.onVideojsPlay],[this.videojsPlayer,"ended",this.onVideojsEnded],[this.videojsPlayer,"pause",this.onVideojsPause],[this.videojsPlayer,"seeked",this.onVideojsSeeked],[this.toolbar,"play",this.onToolbarPlay],[this.toolbar,"pause",this.onToolbarPause],[this.videoPlayer,"click",this.onVideoPlayerClick]),this.playerStateManager.isDisableA11y||this.addEvents([this.document,"keydown",this.onKeyPress]),this.bigPlayButton&&(this.addEvents([this.bigPlayButton,"click",this.onBigPlayButtonClick]),this.bigPlayButton.active=!0),this.updateVideoPlayer(),this.bigPlayButton&&this.toolbar.hide()}},{key:"updateVideoPlayer",value:function updateVideoPlayer(){if(this.videoPlayer.paused=this.videojsPlayer.paused(),this.videoPlayer.ended=this.videojsPlayer.ended(),!this.playerStateManager.isDisableA11y&&this.playerStateManager.isFocusActive){if(this.document.activeElement!==this.toolbar.playButton&&this.document.activeElement!==this.toolbar.pauseButton)return;var buttonToFocus;(this.videojsPlayer.paused()?this.toolbar.playButton:this.toolbar.pauseButton).focus()}}},{key:"onVideojsPlay",value:function onVideojsPlay(){this.bigPlayButton&&this.bigPlayButton.active&&(this.bigPlayButton.active=!1,this.bigPlayButton.hide(),this.toolbar.show(),this.toolbar.restartHideTimeout(),!this.playerStateManager.isDisableA11y&&this.toolbar.firstFocusableElement&&this.toolbar.firstFocusableElement.focus()),_linkedinJsecure2.default.setElementContent(this.toolbar.playButton.querySelector(".a11y-text"),this.playButtonA11yControlText),this.updateVideoPlayer()}},{key:"onVideojsEnded",value:function onVideojsEnded(){_linkedinJsecure2.default.setElementContent(this.toolbar.playButton.querySelector(".a11y-text"),this.replayButtonA11yControlText),this.updateVideoPlayer()}},{key:"onVideojsPause",value:function onVideojsPause(){this.updateVideoPlayer()}},{key:"onVideojsSeeked",value:function onVideojsSeeked(){this.updateVideoPlayer()}},{key:"onToolbarPlay",value:function onToolbarPlay(){this.controlTracker.controlName=this.videojsPlayer.ended()?TOOLBAR.REPLAY:TOOLBAR.PLAY,this.videojsPlayer.play()}},{key:"onToolbarPause",value:function onToolbarPause(){this.controlTracker.controlName=TOOLBAR.PAUSE,this.videojsPlayer.pause()}},{key:"onBigPlayButtonClick",value:function onBigPlayButtonClick(){this.controlTracker.controlName=_helpersControlNames.CONTROL_NAME.HERO.PLAY,this.videojsPlayer.play()}},{key:"onVideoPlayerClick",value:function onVideoPlayerClick(){this.videojsPlayer.paused()?(this.controlTracker.controlName=_helpersControlNames.CONTROL_NAME.ELEMENT.PLAY,this.videojsPlayer.play()):(this.controlTracker.controlName=_helpersControlNames.CONTROL_NAME.ELEMENT.PAUSE,this.videojsPlayer.pause()),this.playerStateManager.isFocusActive=!1}},{key:"onKeyPress",value:function onKeyPress(event){this.bigPlayButton&&this.bigPlayButton.active||this.toolbar.restartHideTimeout(),event.keyCode===_helpersA11yHelper.KEY_CODE.TAB&&(this.playerStateManager.isFocusActive=!0)}}]),VideojsPlaybackBehavior}(_coreEventListener2.default);exports.default=VideojsPlaybackBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),ONE_SECOND=1,VideojsTimeBehavior=function(_EventListener){function VideojsTimeBehavior(videojsPlayer,timeDisplay,slider){_classCallCheck(this,VideojsTimeBehavior),_get(Object.getPrototypeOf(VideojsTimeBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.timeDisplay=timeDisplay,this.slider=slider,this.previousTime=0}return _inherits(VideojsTimeBehavior,_EventListener),_createClass(VideojsTimeBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"durationchange",this.onVideojsDurationChange],[this.videojsPlayer,"timeupdate",this.onVideojsTimeupdate]),this.slider&&this.addEvents([this.slider,"valueChanged",this.onProgressValueChanged]),this.updateDuration(),this.updateCurrentTime()}},{key:"updateDuration",value:function updateDuration(){var duration=this.videojsPlayer.duration()||0;this.timeDisplay&&(this.timeDisplay.duration=duration),this.slider&&(this.slider.max=duration)}},{key:"updateCurrentTime",value:function updateCurrentTime(){var currentTime=this.videojsPlayer.currentTime(),curSecond=Math.floor(currentTime),preSecond=Math.floor(this.previousTime);(0===this.previousTime||Math.abs(curSecond-preSecond)>=1)&&this.timeDisplay&&(this.previousTime=curSecond,this.timeDisplay.currentTime=currentTime),this.slider&&!this.slider.dragging&&(this.slider.value=currentTime)}},{key:"onVideojsDurationChange",value:function onVideojsDurationChange(){this.updateDuration()}},{key:"onVideojsTimeupdate",value:function onVideojsTimeupdate(){this.updateCurrentTime()}},{key:"onProgressValueChanged",value:function onProgressValueChanged(){this.videojsPlayer.currentTime(this.slider.value)}}]),VideojsTimeBehavior}(_coreEventListener2.default);exports.default=VideojsTimeBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_Object$defineProperty=__webpack_require__(130).default,_Object$getOwnPropertyDescriptor=__webpack_require__(94).default,_Object$keys=__webpack_require__(190).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinVideoTrackingAdaptors=__webpack_require__(270),_linkedinVideoTrackingAdaptors2=_interopRequireDefault(_linkedinVideoTrackingAdaptors),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),FEATURE={ON:"ON",OFF:"OFF",NOT_SUPPORTED:"NOT_SUPPORTED",NOT_MEASURED:"NOT_MEASURED"};exports.FEATURE=FEATURE;var DEBOUNCE_MS=300;exports.DEBOUNCE_MS=300;var BEACON_INTERVALS=[0,3e3,7e3,2e4,3e4],MEDIA_TRACKING_FIELDS_MAP={objectUrn:"mediaUrn",trackingId:"sessionTrackingId"},VideojsTrackingBehavior=function(_EventListener){function VideojsTrackingBehavior(videojsInstance,videoPlayer,options){_classCallCheck(this,VideojsTrackingBehavior),_get(Object.getPrototypeOf(VideojsTrackingBehavior.prototype),"constructor",this).call(this);var appId=options.appId,header=options.header,requestHeader=options.requestHeader,mobileHeader=options.mobileHeader,_options$pollingInterval=options.pollingInterval,pollingInterval=void 0===_options$pollingInterval?3e3:_options$pollingInterval,topicNamePrefix=options.topicNamePrefix,trackingUrl=options.trackingUrl,_options$usePlayerBeaconEvent=options.usePlayerBeaconEvent,usePlayerBeaconEvent=void 0!==_options$usePlayerBeaconEvent&&_options$usePlayerBeaconEvent,_options$useHeartbeatEventV2=options.useHeartbeatEventV2,useHeartbeatEventV2=void 0!==_options$useHeartbeatEventV2&&_options$useHeartbeatEventV2;Object.prototype.hasOwnProperty.call(options,"ccVisible")||(options.ccVisible=FEATURE.NOT_MEASURED),this.videojsInstance=videojsInstance,this.videoPlayer=videoPlayer,this.videoTrackingAdapter=new _linkedinVideoTrackingAdaptors2.default(appId,requestHeader,mobileHeader,topicNamePrefix,{header:header,trackingUrl:trackingUrl}),this.timeElapsed=0,this.isStarted=!1,this.pollingInterval=pollingInterval,this.usePlayerBeaconEvent=usePlayerBeaconEvent,this.useHeartbeatEventV2=useHeartbeatEventV2,this.videoTrackingAdapter.state=options,this.videoTrackingAdapter.mediaTrackingObject=_linkedinVideoTrackingAdaptors.MEDIA_TRACKING_OBJECT_FIELDS.reduce(function(obj,targetField){var sourceField=MEDIA_TRACKING_FIELDS_MAP[targetField]||targetField;return Object.prototype.hasOwnProperty.call(options,sourceField)&&_Object$defineProperty(obj,targetField,_Object$getOwnPropertyDescriptor(options,sourceField)),obj},{})}return _inherits(VideojsTrackingBehavior,_EventListener),_createClass(VideojsTrackingBehavior,[{key:"beforeInit",value:function beforeInit(){this.debounced={seeked:(0,_lodashDebounce2.default)(this.onVideojsSeeked,300),volumechange:(0,_lodashDebounce2.default)(this.onVideojsVolumechange,300)},this.addEvents([this.videojsInstance,"playing",this.onVideojsPlaying],[this.videojsInstance,"play",this.onVideojsPlayPause],[this.videojsInstance,"pause",this.onVideojsPlayPause],[this.videojsInstance,"waiting",this.onVideojsWaiting],[this.videojsInstance,"timeupdate",this.onVideojsTimeupdate],[this.videojsInstance,"volumechange",this.debounced.volumechange],[this.videojsInstance,"seeking",this.onVideojsSeeking],[this.videojsInstance,"seeked",this.debounced.seeked],[this.videojsInstance,"ended",this.onVideojsEnded],[this.videojsInstance,"loadedmetadata",this.onVideojsLoadedmetadata],[this.videojsInstance,"ratechange",this.onVideojsRateChange],[this.videoPlayer,"changeFullscreen",this.onFullscreenChange],[this.videoPlayer,"userInteracted",this.onUserInteracted],[window,"beforeunload",this.onBeforeUnload]),this.videojsInstance.ready(this.initState.bind(this))}},{key:"beforeDispose",value:function beforeDispose(){var _this=this;this.debounced&&_Object$keys(this.debounced).forEach(function(eventName){return _this.debounced[eventName].cancel()}),this.usePlayerBeaconEvent?this.stopBeaconPolling():this.stopPositionPolling(),this.videoTrackingAdapter=null}},{key:"initState",value:function initState(){var volume=this.videojsInstance.volume();this.timeElapsed=this.videojsInstance.currentTime(),this.videoTrackingAdapter.state={isPlaying:!this.videojsInstance.paused(),timeElapsed:this.timeElapsed,length:this.videojsInstance.duration(),volume:volume,fullScreen:this.fullscreenState(),speed:this.videojsInstance.playbackRate()},this.previousVolume=volume}},{key:"onVideojsLoadedmetadata",value:function onVideojsLoadedmetadata(){this.videoTrackingAdapter.state={length:this.videojsInstance.duration()}}},{key:"startPositionPolling",value:function startPositionPolling(){this.stopPositionPolling(),this.poller=setInterval(this.firePositionChangedEvent.bind(this),this.pollingInterval)}},{key:"stopPositionPolling",value:function stopPositionPolling(){this.poller&&(clearInterval(this.poller),this.poller=null)}},{key:"startBeaconPolling",value:function startBeaconPolling(){this.isPolling=!0,this._cancelBeaconInterval(),this._runBeaconInterval(BEACON_INTERVALS[0])}},{key:"restartBeaconPolling",value:function restartBeaconPolling(){this.isPolling&&this.startBeaconPolling()}},{key:"stopBeaconPolling",value:function stopBeaconPolling(){this.isPolling&&(this.isPolling=!1,this._cancelBeaconInterval(),this._fireBeaconEvent(),this._timeLastBeaconCalled=null)}},{key:"_runBeaconInterval",value:function _runBeaconInterval(interval){var nextInterval=BEACON_INTERVALS[BEACON_INTERVALS.indexOf(interval)+1]||BEACON_INTERVALS[BEACON_INTERVALS.length-1],timeElapsed=this.videoTrackingAdapter.state.timeElapsed;timeElapsed===this._beaconTimeElapsed&&interval>0?this._cancelBeaconInterval():(this._beaconTimeElapsed=timeElapsed,this._fireBeaconEvent(),this._beaconPoll=setTimeout(this._runBeaconInterval.bind(this,nextInterval),nextInterval))}},{key:"_cancelBeaconInterval",value:function _cancelBeaconInterval(){this._beaconPoll&&(clearTimeout(this._beaconPoll),this._beaconPoll=null)}},{key:"_fireBeaconEvent",value:function _fireBeaconEvent(){var now=Date.now(),timeSinceLastBeacon=now-(this._timeLastBeaconCalled||now);this._timeLastBeaconCalled=now,this.videoTrackingAdapter.trackPlayerEvent(_linkedinVideoTrackingAdaptors.PLAYER_BEACON_EVENT,!!this.videojsInstance.autoplay(),timeSinceLastBeacon)}},{key:"onVideojsPlayPause",value:function onVideojsPlayPause(){var isPaused=this.videojsInstance.paused();isPaused||this.isStarted||(this.isStarted=!0),this.videoTrackingAdapter.state={isPlaying:!isPaused},isPaused?this.usePlayerBeaconEvent?this.stopBeaconPolling():this.stopPositionPolling():this.usePlayerBeaconEvent||this.useHeartbeatEventV2||this.startPositionPolling(),this.videoTrackingAdapter.trackPlayerEvent(_linkedinVideoTrackingAdaptors.PLAYER_PLAY_PAUSE_EVENT,_linkedinVideoTrackingAdaptors.PLAYER_STATE_CHANGED_REASONS.USER_TRIGGERED)}},{key:"onVideojsPlaying",value:function onVideojsPlaying(){this.videoTrackingAdapter.state={isPlaying:!0},this.usePlayerBeaconEvent?this.startBeaconPolling():this.useHeartbeatEventV2&&this.startPositionPolling()}},{key:"onVideojsWaiting",value:function onVideojsWaiting(){this.videoTrackingAdapter.state={isPlaying:!1},this.usePlayerBeaconEvent?this.stopBeaconPolling():this.useHeartbeatEventV2&&this.stopPositionPolling()}},{key:"onVideojsTimeupdate",value:function onVideojsTimeupdate(){var currentTime=this.videojsInstance.currentTime(),isPaused=this.videojsInstance.paused();this.isStarted||isPaused||(this.isStarted=!0,this.usePlayerBeaconEvent||this.useHeartbeatEventV2||this.startPositionPolling()),this.timeElapsed=currentTime,this.videoTrackingAdapter.state={timeElapsed:this.timeElapsed}}},{key:"onVideojsVolumechange",value:function onVideojsVolumechange(){var volume=this.videojsInstance.volume();this.videoTrackingAdapter.state={volume:volume},this.videoTrackingAdapter.trackPlayerEvent(_linkedinVideoTrackingAdaptors.PLAYER_VOLUME_CHANGED_EVENT,this.previousVolume),this.usePlayerBeaconEvent&&this.restartBeaconPolling(),this.previousVolume=volume}},{key:"onFullscreenChange",value:function onFullscreenChange(){var fullScreen=this.fullscreenState();this.videoTrackingAdapter.state={fullScreen:fullScreen},this.usePlayerBeaconEvent&&this.restartBeaconPolling()}},{key:"onVideojsRateChange",value:function onVideojsRateChange(){var speed=this.videojsInstance.playbackRate();this.videoTrackingAdapter.state={speed:speed},this.usePlayerBeaconEvent&&this.restartBeaconPolling()}},{key:"onVideojsSeeking",value:function onVideojsSeeking(){this.seeking||(this.seeking=!0,this.previousElapsedTime=this.timeElapsed,this.usePlayerBeaconEvent&&this.stopBeaconPolling())}},{key:"onVideojsSeeked",value:function onVideojsSeeked(){this.videoTrackingAdapter.state={timeElapsed:this.videojsInstance.currentTime()},this.videoTrackingAdapter.trackPlayerEvent(_linkedinVideoTrackingAdaptors.PLAYER_SEEK_EVENT,this.previousElapsedTime),this.seeking=!1}},{key:"onVideojsEnded",value:function onVideojsEnded(){this.isStarted=!1,this.videoTrackingAdapter.state={isPlaying:!1},this.usePlayerBeaconEvent||(this.stopPositionPolling(),this.firePositionChangedEvent())}},{key:"onUserInteracted",value:function onUserInteracted(){this.videojsInstance.autoplay(!1)}},{key:"onBeforeUnload",value:function onBeforeUnload(){this.usePlayerBeaconEvent&&this.stopBeaconPolling()}},{key:"firePositionChangedEvent",value:function firePositionChangedEvent(){this.videoTrackingAdapter.trackPlayerEvent(_linkedinVideoTrackingAdaptors.PLAYER_POSITION_CHANGED_EVENT)}},{key:"fullscreenState",value:function fullscreenState(){return this.videoPlayer.fullscreenEnabled?this.videoPlayer.fullscreen?FEATURE.ON:FEATURE.OFF:FEATURE.NOT_SUPPORTED}}]),VideojsTrackingBehavior}(_coreEventListener2.default);exports.default=VideojsTrackingBehavior},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _linkedinWebTrackingTransport,_linkedinWebTrackingTransport2=_interopRequireDefault(__webpack_require__(244)),PLAYER_PLAY_PAUSE_EVENT="PlayerPlayPauseEvent",PLAYER_POSITION_CHANGED_EVENT="PlayerPositionChangedEvent",PLAYER_BEACON_EVENT="PlayerBeaconEvent",PLAYER_SEEK_EVENT="PlayerSeekEvent",PLAYER_VOLUME_CHANGED_EVENT="PlayerVolumeChangedEvent",PLAYER_QUALITY_EVENT="PlayerQualityEvent",PLAYER_FULLSCREEN_EVENT="PlayerFullscreenEvent",STATE_FIELDS=["mediaUrn","length","mediaViewTrackingId","volume","timeElapsed","isPlaying","ccVisible","downloaded","fullScreen","speed","casting","bitrate","isAudioOnly"],MEDIA_TRACKING_OBJECT_FIELDS=["objectUrn","trackingId"],PLAYER_STATE_CHANGED_REASONS={ENTERED_VIEWPORT:"ENTERED_VIEWPORT",EXITED_VIEWPORT:"EXITED_VIEWPORT",USER_TRIGGERED:"USER_TRIGGERED",VIDEO_PRIORITY_CHANGED:"VIDEO_PRIORITY_CHANGED"};exports.PLAYER_PLAY_PAUSE_EVENT="PlayerPlayPauseEvent",exports.PLAYER_POSITION_CHANGED_EVENT="PlayerPositionChangedEvent",exports.PLAYER_BEACON_EVENT="PlayerBeaconEvent",exports.PLAYER_SEEK_EVENT="PlayerSeekEvent",exports.PLAYER_VOLUME_CHANGED_EVENT="PlayerVolumeChangedEvent",exports.PLAYER_QUALITY_EVENT="PlayerQualityEvent",exports.PLAYER_FULLSCREEN_EVENT="PlayerFullscreenEvent",exports.STATE_FIELDS=STATE_FIELDS,exports.MEDIA_TRACKING_OBJECT_FIELDS=MEDIA_TRACKING_OBJECT_FIELDS,exports.PLAYER_STATE_CHANGED_REASONS=PLAYER_STATE_CHANGED_REASONS;var METHOD_PREFIX="construct";function _getMethodName(eventName){return METHOD_PREFIX+eventName}var VideoTrackingAdaptor=function(){function VideoTrackingAdaptor(appId,requestHeader,mobileHeader,topicNamePrefix){var options=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];_classCallCheck(this,VideoTrackingAdaptor),_linkedinWebTrackingTransport2.default.setAppId(appId),_linkedinWebTrackingTransport2.default.setProperty("maxQueueSize",3),options.trackingUrl&&_linkedinWebTrackingTransport2.default.setTrackingUrl(options.trackingUrl),this._state={},this._mediaTrackingObject={},this.header=options.header,this.requestHeader=requestHeader,this.mobileHeader=mobileHeader,this._topicNamePrefix=topicNamePrefix}return _createClass(VideoTrackingAdaptor,[{key:_getMethodName("PlayerPositionChangedEvent"),value:function value(){return{header:this.header,requestHeader:this.requestHeader,mobileHeader:this.mobileHeader,state:this.state,mediaTrackingObject:this.hasMediaTrackingId?this.mediaTrackingObject:null}}},{key:_getMethodName("PlayerBeaconEvent"),value:function value(isAutoplaying,timeSinceLastBeacon){var eventBody=this[_getMethodName("PlayerPositionChangedEvent")]();return eventBody.isAutoplaying=isAutoplaying,eventBody.timeSinceLastBeacon=timeSinceLastBeacon,eventBody}},{key:_getMethodName("PlayerPlayPauseEvent"),value:function value(reason){var eventBody=this[_getMethodName("PlayerPositionChangedEvent")]();if(!PLAYER_STATE_CHANGED_REASONS[reason])throw new Error("The reason for a player change event must be a valid PlayPauseChangedReason enum value.");return eventBody.reason=reason,eventBody}},{key:_getMethodName("PlayerSeekEvent"),value:function value(previousTimeElapsed){var eventBody=this[_getMethodName("PlayerPositionChangedEvent")]();return eventBody.previousTimeElapsed=previousTimeElapsed,eventBody}},{key:_getMethodName("PlayerVolumeChangedEvent"),value:function value(previousVolume){var eventBody=this[_getMethodName("PlayerPositionChangedEvent")]();return eventBody.previousVolume=previousVolume,eventBody}},{key:"_constructSchema",value:function _constructSchema(eventName,eventBody){var schema={eventInfo:{eventName:eventName,appId:this.appId},eventBody:eventBody};return"string"==typeof this._topicNamePrefix&&(schema.eventInfo.topicName=this._topicNamePrefix+eventName),schema}},{key:"trackPlayerEvent",value:function trackPlayerEvent(eventName){for(var _len=arguments.length,eventValues=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)eventValues[_key-1]=arguments[_key];var schema=this._constructSchema(eventName,this[_getMethodName(eventName)].apply(this,eventValues));_linkedinWebTrackingTransport2.default.sendEvent(schema.eventInfo,schema.eventBody)}},{key:"state",set:function set(stateToSet){var _this=this;null!=stateToSet&&"object"==typeof stateToSet&&STATE_FIELDS.forEach(function(fieldName){stateToSet.hasOwnProperty(fieldName)&&Object.defineProperty(_this._state,fieldName,Object.getOwnPropertyDescriptor(stateToSet,fieldName))})},get:function get(){var _this2=this;return STATE_FIELDS.reduce(function(state,fieldName){return _this2._state.hasOwnProperty(fieldName)&&(state[fieldName]=_this2._state[fieldName]),state},{})}},{key:"mediaTrackingObject",set:function set(data){var _this3=this;null!=data&&"object"==typeof data&&MEDIA_TRACKING_OBJECT_FIELDS.forEach(function(fieldName){data.hasOwnProperty(fieldName)&&Object.defineProperty(_this3._mediaTrackingObject,fieldName,Object.getOwnPropertyDescriptor(data,fieldName))})},get:function get(){var _this4=this;return MEDIA_TRACKING_OBJECT_FIELDS.reduce(function(trackingObject,fieldName){return _this4._mediaTrackingObject.hasOwnProperty(fieldName)&&(trackingObject[fieldName]=_this4._mediaTrackingObject[fieldName]),trackingObject},{})}},{key:"hasMediaTrackingId",get:function get(){return this._mediaTrackingObject&&this._mediaTrackingObject.trackingId}}]),VideoTrackingAdaptor}();exports.default=VideoTrackingAdaptor},function(module,exports,__webpack_require__){var getNative=__webpack_require__(5),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeNow,now=getNative(Date,"now")||function(){return(new Date).getTime()};function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=wait<0?0:+wait||0,!0===options){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=void 0}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=void 0,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=void 0))}function delayed(){var remaining=wait-(now()-stamp);remaining<=0||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),!1===maxWait)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=void 0),result}return debounced.cancel=cancel,debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=debounce},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2,VideojsUserActivityBehavior=function(_EventListener){function VideojsUserActivityBehavior(videojsPlayer,videoPlayer,toolbar){var sliders=arguments.length<=3||void 0===arguments[3]?[]:arguments[3];_classCallCheck(this,VideojsUserActivityBehavior),_get(Object.getPrototypeOf(VideojsUserActivityBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.videoPlayer=videoPlayer,this.toolbar=toolbar,this.sliders=sliders}return _inherits(VideojsUserActivityBehavior,_EventListener),_createClass(VideojsUserActivityBehavior,[{key:"beforeInit",value:function beforeInit(){var _this=this;this.addEvents([this.videojsPlayer,"useractive",this.onUserActivity],[this.videojsPlayer,"userinactive",this.onUserActivity]),this.toolbar&&this.addEvents([this.toolbar,"mouseOver",this.onUserActivity],[this.toolbar,"mouseOut",this.onUserActivity]),this.sliders.forEach(function(slider){slider&&_this.addEvents([slider,"draggingStart",_this.onUserActivity],[slider,"draggingEnd",_this.onUserActivity],[slider,"mouseOver",_this.onUserActivity],[slider,"mouseOut",_this.onUserActivity])})}},{key:"onUserActivity",value:function onUserActivity(){this.videoPlayer.idle=!(this.videojsPlayer.userActive()||this.toolbar&&this.toolbar.isMouseOver||this.sliders.some(function(slider){return slider&&slider.dragging}))}}]),VideojsUserActivityBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=VideojsUserActivityBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersControlNames=__webpack_require__(248),unmuteVolumeWhenZero=.5,CONTROL_NAME_MUTE_TOGGLE=_helpersControlNames.CONTROL_NAME.TOOLBAR.MUTE_TOGGLE,VideojsVolumeBehavior=function(_EventListener){function VideojsVolumeBehavior(videojsPlayer,controlTracker,volumeSwitch,volumeSlider,volumeOnButtonA11yControlText,volumeOffButtonA11yControlText){_classCallCheck(this,VideojsVolumeBehavior),_get(Object.getPrototypeOf(VideojsVolumeBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.controlTracker=controlTracker,this.volumeSwitch=volumeSwitch,this.volumeSlider=volumeSlider,this.volumeOnButtonA11yControlText=volumeOnButtonA11yControlText,this.volumeOffButtonA11yControlText=volumeOffButtonA11yControlText,this.volumeSwitch&&(this.a11yTextSpan=volumeSwitch.element.querySelector(".a11y-text"))}return _inherits(VideojsVolumeBehavior,_EventListener),_createClass(VideojsVolumeBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"volumechange",this.onVideojsVolumeChange]),this.volumeSwitch&&this.addEvents([this.volumeSwitch,"mute",this.onVolumeSwitchMute],[this.volumeSwitch,"unmute",this.onVolumeSwitchUnmute]),this.volumeSlider&&this.addEvents([this.volumeSlider,"valueChanged",this.onSliderValueChanged]),this.updateSwitchAndSlider()}},{key:"updateSwitchAndSlider",value:function updateSwitchAndSlider(){var volume=void 0;this.videojsPlayer.muted()?(volume=0,this._setA11yControlText(this.volumeOffButtonA11yControlText)):(volume=this.videojsPlayer.volume(),this._setA11yControlText(this.volumeOnButtonA11yControlText)),this.volumeSwitch&&(this.volumeSwitch.volume=volume),this.volumeSlider&&(this.volumeSlider.value=volume)}},{key:"onVideojsVolumeChange",value:function onVideojsVolumeChange(){this.updateSwitchAndSlider()}},{key:"onVolumeSwitchMute",value:function onVolumeSwitchMute(){this.controlTracker.controlName=CONTROL_NAME_MUTE_TOGGLE,this.videojsPlayer.muted(!0)}},{key:"onVolumeSwitchUnmute",value:function onVolumeSwitchUnmute(){this.controlTracker.controlName=CONTROL_NAME_MUTE_TOGGLE,this.videojsPlayer.muted(!1),0===this.videojsPlayer.volume()&&this.videojsPlayer.volume(.5)}},{key:"onSliderValueChanged",value:function onSliderValueChanged(){var value=this.volumeSlider.value;this.videojsPlayer.muted(0===value),this.videojsPlayer.volume(value)}},{key:"_setA11yControlText",value:function _setA11yControlText(a11yControlText){this.a11yTextSpan&&_linkedinJsecure2.default.setElementContent(this.a11yTextSpan,a11yControlText)}}]),VideojsVolumeBehavior}(_coreEventListener2.default);exports.default=VideojsVolumeBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2,VideojsWaitingBehavior=function(_EventListener){function VideojsWaitingBehavior(videojsPlayer,loader){_classCallCheck(this,VideojsWaitingBehavior),_get(Object.getPrototypeOf(VideojsWaitingBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.loader=loader,this.currentTime=0}return _inherits(VideojsWaitingBehavior,_EventListener),_createClass(VideojsWaitingBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"waiting",this.onVideojsWaiting],[this.videojsPlayer,"timeupdate",this.onVideojsTimeupdate]),this.loader.hide()}},{key:"onVideojsWaiting",value:function onVideojsWaiting(){this.loader.show(),this.currentTime=this.videojsPlayer.currentTime()}},{key:"onVideojsTimeupdate",value:function onVideojsTimeupdate(){this.videojsPlayer.currentTime()!==this.currentTime&&(this.loader.hide(),this.currentTime=this.videojsPlayer.currentTime())}}]),VideojsWaitingBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=VideojsWaitingBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_toConsumableArray=__webpack_require__(146).default,_slicedToArray=__webpack_require__(138).default,_bind=__webpack_require__(178).default,_Object$getOwnPropertyNames=__webpack_require__(276).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashIsfunction,_lodashIsfunction2=_interopRequireDefault(__webpack_require__(180)),_lodashIsobject,_lodashIsobject2=_interopRequireDefault(__webpack_require__(181)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279));__webpack_require__(388);var _helpersVideojsAdapter,_helpersVideojsAdapter2=_interopRequireDefault(__webpack_require__(462)),_helpersControlTracker,_helpersControlTracker2=_interopRequireDefault(__webpack_require__(463)),_helpersA11yHelper=__webpack_require__(187),_componentsBuffer,_componentsBuffer2=_interopRequireDefault(__webpack_require__(185)),_componentsButton,_componentsButton2=_interopRequireDefault(__webpack_require__(186)),_componentsEndcard,_componentsEndcard2=_interopRequireDefault(__webpack_require__(228)),_componentsHorizontalSlider,_componentsHorizontalSlider2=_interopRequireDefault(__webpack_require__(232)),_componentsLoader,_componentsLoader2=_interopRequireDefault(__webpack_require__(235)),_componentsModal,_componentsModal2=_interopRequireDefault(__webpack_require__(236)),_componentsPlaybackRateLabel,_componentsPlaybackRateLabel2=_interopRequireDefault(__webpack_require__(464)),_componentsPlaybackRateMenu,_componentsPlaybackRateMenu2=_interopRequireDefault(__webpack_require__(465)),_componentsPlaybackRateOption,_componentsPlaybackRateOption2=_interopRequireDefault(__webpack_require__(466)),_componentsRumTracking,_componentsRumTracking2=_interopRequireDefault(__webpack_require__(242)),_componentsRumPlayerjs,_componentsRumPlayerjs2=_interopRequireDefault(__webpack_require__(467)),_componentsSelectable,_componentsSelectable2=_interopRequireDefault(__webpack_require__(245)),_componentsShareButton,_componentsShareButton2=_interopRequireDefault(__webpack_require__(246)),_componentsTimeDisplay,_componentsTimeDisplay2=_interopRequireDefault(__webpack_require__(249)),_componentsToolbar,_componentsToolbar2=_interopRequireDefault(__webpack_require__(251)),_componentsVerticalSlider,_componentsVerticalSlider2=_interopRequireDefault(__webpack_require__(253)),_componentsVideoPlayer,_componentsVideoPlayer2=_interopRequireDefault(__webpack_require__(254)),_componentsVolumeSwitch,_componentsVolumeSwitch2=_interopRequireDefault(__webpack_require__(256)),_behaviorsEndcard,_behaviorsEndcard2=_interopRequireDefault(__webpack_require__(257)),_behaviorsFullscreen,_behaviorsFullscreen2=_interopRequireDefault(__webpack_require__(258)),_behaviorsModalManager,_behaviorsModalManager2=_interopRequireDefault(__webpack_require__(259)),_behaviorsShareLink,_behaviorsShareLink2=_interopRequireDefault(__webpack_require__(262)),_behaviorsShareModal,_behaviorsShareModal2=_interopRequireDefault(__webpack_require__(263)),_behaviorsVideojsBuffer,_behaviorsVideojsBuffer2=_interopRequireDefault(__webpack_require__(264)),_behaviorsVideojsMetrics,_behaviorsVideojsMetrics2=_interopRequireDefault(__webpack_require__(265)),_behaviorsVideojsPlayback,_behaviorsVideojsPlayback2=_interopRequireDefault(__webpack_require__(267)),_behaviorsVideojsTime,_behaviorsVideojsTime2=_interopRequireDefault(__webpack_require__(268)),_behaviorsVideojsTracking,_behaviorsVideojsTracking2=_interopRequireDefault(__webpack_require__(269)),_behaviorsVideojsUserActivity,_behaviorsVideojsUserActivity2=_interopRequireDefault(__webpack_require__(272)),_behaviorsVideojsVolume,_behaviorsVideojsVolume2=_interopRequireDefault(__webpack_require__(273)),_behaviorsVideojsPlaybackRate,_behaviorsVideojsPlaybackRate2=_interopRequireDefault(__webpack_require__(469)),_behaviorsVideojsWaiting,_behaviorsVideojsWaiting2=_interopRequireDefault(__webpack_require__(274)),defaultVideojsOptions={controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,autoplay:!1,techOrder:["html5"],html5:{hls:{withCredentials:!1}}};exports.defaultVideojsOptions=defaultVideojsOptions;var VideoPlayer=function(){function VideoPlayer(videoPlayerElement,options){if(_classCallCheck(this,VideoPlayer),!videoPlayerElement)throw new TypeError("Missing video player element");if(!options||!options.videojsElement)throw new TypeError("Missing videojs element");this.videoPlayerElement=videoPlayerElement,this.playerStateManager=new _helpersA11yHelper.PlayerStateManager,this.options=(0,_lodashDefaultsdeep2.default)({},options,{videojsOptions:defaultVideojsOptions,shareButtons:[],playerName:"LinkedIn Video Player"}),this.controlTextOptions(this.options)}return _createClass(VideoPlayer,[{key:"setup",value:function setup(){var options=this.options,videoPlayer=this.createVideoPlayerComponent(this.videoPlayerElement,options.a11yControlTextObj,this.playerStateManager),videojsPlayer=this.createVideojsPlayer(options.videojsElement,options.videojsOptions),controlTracker=new _helpersControlTracker2.default,playerjsVideojsAdapter=this.createPlayerjs(videojsPlayer,controlTracker,options.playerjs),sliderOptions={a11yControlText:options.a11yControlTextObj.progressSliderA11yControlText};(0,_lodashAssign2.default)(this,{videoPlayer:videoPlayer,videojsPlayer:videojsPlayer,playerjsVideojsAdapter:playerjsVideojsAdapter,controlTracker:controlTracker}),(0,_lodashAssign2.default)(this,this.createBigPlayButton(options.bigPlayButtonElement,options.a11yControlTextObj)),(0,_lodashAssign2.default)(this,this.createLoader(videojsPlayer,options.loaderElement)),(0,_lodashAssign2.default)(this,this.createToolbar(videojsPlayer,videoPlayer,playerjsVideojsAdapter,controlTracker,options.toolbarElement,this.bigPlayButton,this.playerStateManager,options,options.a11yControlTextObj,options.a11yCustomControlTextPairs)),(0,_lodashAssign2.default)(this,this.createBuffer(videojsPlayer,options.bufferElement)),(0,_lodashAssign2.default)(this,this.createTime(videojsPlayer,options.timeDisplayElement,options.progressElement,this.playerStateManager,sliderOptions)),(0,_lodashAssign2.default)(this,this.createVolume(videojsPlayer,controlTracker,options.volumeSwitchElement,options.volumeSliderElement,options.volumeSliderVertical,this.playerStateManager,options.a11yControlTextObj)),(0,_lodashAssign2.default)(this,this.createPlaybackRate(videojsPlayer,controlTracker,options.playbackRateLabel,options.playbackRateMenu,options.playbackRateOptions,this.playerStateManager,options.playbackRate)),(0,_lodashAssign2.default)(this,this.createUserActivity(videojsPlayer,videoPlayer,this.toolbar,this.progress,this.volumeSlider)),(0,_lodashAssign2.default)(this,this.createShareModal.apply(this,[videojsPlayer,playerjsVideojsAdapter,controlTracker,this.toolbar,options.shareModalElement,options.shareLinkElement,this.playerStateManager,options.a11yControlTextObj].concat(_toConsumableArray(options.shareButtons)))),(0,_lodashAssign2.default)(this,this.createEndcard(videojsPlayer,playerjsVideojsAdapter,controlTracker,this.shareModal,options.endcardModalElement,options.endcardElement,this.playerStateManager,options.a11yControlTextObj)),(0,_lodashAssign2.default)(this,this.createModalManager(this.toolbar,this.endcardModal,this.shareModal)),(0,_lodashAssign2.default)(this,this.createTracking(videojsPlayer,videoPlayer,options.trackingSettings)),(0,_lodashAssign2.default)(this,this.createMetrics(videojsPlayer,options.rumOptions,options.metricsTracker)),(0,_lodashAssign2.default)(this,this.createPlayerJsMetrics(videojsPlayer,playerjsVideojsAdapter)),options.playerjs&&this.playerJsReady()}},{key:"controlTextOptions",value:function controlTextOptions(options){options.a11yControlTextObj=options.a11yControlTextObj||{},options.disableA11y?this.playerStateManager.isDisableA11y=!0:options.a11yControlTextObj=(0,_helpersA11yHelper.testControlTextObj)(options.a11yControlTextObj,"a11y")?options.a11yControlTextObj:(0,_helpersA11yHelper.getDefaultControlTextObj)("a11y"),options.languageControlTextObj&&(0,_helpersA11yHelper.testLanguageControlTextObj)(options.languageControlTextObj)?options.videojsOptions=(0,_lodashDefaultsdeep2.default)(options.videojsOptions,options.languageControlTextObj):options.videojsOptions=(0,_lodashDefaultsdeep2.default)(options.videojsOptions,(0,_helpersA11yHelper.getDefaultLanguageControlTextObj)())}},{key:"createVideoPlayerComponent",value:function createVideoPlayerComponent(videoPlayerElement,_x,playerStateManager){var _ref,a11yControlText=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).videoPlayerContainerA11yAriaLabel;return _componentsVideoPlayer2.default.create(videoPlayerElement,{a11yControlText:a11yControlText},playerStateManager)}},{key:"createVideojsPlayer",value:function createVideojsPlayer(videoElement){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.options.disableVideoContextMenu&&videoElement.addEventListener("contextmenu",function(event){event.preventDefault()},!1),(0,_videoJs2.default)(videoElement,options)}},{key:"createPlayerjs",value:function createPlayerjs(videojsPlayer,controlTracker){return new _helpersVideojsAdapter2.default(videojsPlayer,controlTracker)}},{key:"createBigPlayButton",value:function createBigPlayButton(buttonElement){var _ref2,a11yControlText=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).bigPlayButtonA11yControlText,bigPlayButton;if(buttonElement)return{bigPlayButton:_componentsButton2.default.create(buttonElement,{a11yControlText:a11yControlText})}}},{key:"createLoader",value:function createLoader(videojsPlayer,loaderElement){if(loaderElement){var loader=_componentsLoader2.default.create(loaderElement),videojsWaitingBehavior;return{loader:loader,videojsWaitingBehavior:_behaviorsVideojsWaiting2.default.create(videojsPlayer,loader)}}}},{key:"createToolbar",value:function createToolbar(videojsPlayer,videoPlayer,videoAdapter,controlTracker,toolbarElement,bigPlayButton,playerStateManager,options,a11yControlTextObj,a11yCustomControlTextPairs){if(void 0===a11yControlTextObj&&(a11yControlTextObj={}),toolbarElement){var toolbar=_componentsToolbar2.default.create(toolbarElement,options,void 0,playerStateManager,videojsPlayer,a11yControlTextObj,a11yCustomControlTextPairs),videojsPlaybackBehavior,fullscreenBehavior;return{toolbar:toolbar,videojsPlaybackBehavior:_behaviorsVideojsPlayback2.default.create(videojsPlayer,videoPlayer,controlTracker,toolbar,bigPlayButton,toolbarElement.ownerDocument,playerStateManager,a11yControlTextObj),fullscreenBehavior:_behaviorsFullscreen2.default.create(videoPlayer,videoAdapter,toolbar,playerStateManager)}}}},{key:"createBuffer",value:function createBuffer(videojsPlayer,bufferElement){if(bufferElement){var buffer=_componentsBuffer2.default.create(bufferElement),videojsBufferBehavior;return{buffer:buffer,videojsBufferBehavior:_behaviorsVideojsBuffer2.default.create(videojsPlayer,buffer)}}}},{key:"createTime",value:function createTime(videojsPlayer,timeDisplayElement,progressElement,playerStateManager){var sliderOptions=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],timeDisplay=void 0;timeDisplayElement&&(timeDisplay=_componentsTimeDisplay2.default.create(timeDisplayElement));var progress=void 0,videojsTimeBehavior;return progressElement&&(progress=_componentsHorizontalSlider2.default.create(progressElement,playerStateManager,sliderOptions,_helpersA11yHelper.SLIDER_TYPE.PLAYBACK)),{progress:progress,timeDisplay:timeDisplay,videojsTimeBehavior:_behaviorsVideojsTime2.default.create(videojsPlayer,timeDisplay,progress)}}},{key:"createVolume",value:function createVolume(videojsPlayer,controlTracker,volumeSwitchElement,volumeSliderElement,volumeSliderVertical,playerStateManager){void 0===volumeSliderVertical&&(volumeSliderVertical=!0);var _ref3=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],a11yControlText=_ref3.volumeSliderA11yControlText,volumeOnButtonA11yControlText=_ref3.volumeOnButtonA11yControlText,volumeOffButtonA11yControlText=_ref3.volumeOffButtonA11yControlText,volumeSliderAriaValueTextA11yControlText=_ref3.volumeSliderAriaValueTextA11yControlText,volumeSwitch=void 0;volumeSwitchElement&&(volumeSwitch=_componentsVolumeSwitch2.default.create(volumeSwitchElement));var volumeSlider=void 0,SliderComponent,videojsVolumeBehavior;volumeSliderElement&&(volumeSlider=(volumeSliderVertical?_componentsVerticalSlider2.default:_componentsHorizontalSlider2.default).create(volumeSliderElement,playerStateManager,{a11yControlText:a11yControlText,volumeSliderAriaValueTextA11yControlText:volumeSliderAriaValueTextA11yControlText},_helpersA11yHelper.SLIDER_TYPE.VOLUME));return{volumeSwitch:volumeSwitch,volumeSlider:volumeSlider,videojsVolumeBehavior:_behaviorsVideojsVolume2.default.create(videojsPlayer,controlTracker,volumeSwitch,volumeSlider,volumeOnButtonA11yControlText,volumeOffButtonA11yControlText)}}},{key:"createPlaybackRate",value:function createPlaybackRate(videojsPlayer,controlTracker,playbackRateLabelElement,playbackRateMenuElement,playbackRateOptionElements,playerStateManager){var _ref4=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],labelOptions=_ref4.label,menuOptions=_ref4.menu,optionOptions=_ref4.option;if(playbackRateLabelElement&&playbackRateMenuElement&&playbackRateOptionElements){var playbackRateLabel=_componentsPlaybackRateLabel2.default.create(playbackRateLabelElement,labelOptions),playbackRateMenu=_componentsPlaybackRateMenu2.default.create(playbackRateMenuElement,playerStateManager,menuOptions),playbackRateOptions=playbackRateOptionElements.map(function(rateOption){return _componentsPlaybackRateOption2.default.create(rateOption,optionOptions)}),videojsPlaybackRateBehavior;return{playbackRateLabel:playbackRateLabel,playbackRateMenu:playbackRateMenu,playbackRateOptions:playbackRateOptions,videojsPlaybackRateBehavior:_behaviorsVideojsPlaybackRate2.default.create(videojsPlayer,controlTracker,playbackRateLabel,playbackRateMenu,playbackRateOptions,playerStateManager)}}}},{key:"createUserActivity",value:function createUserActivity(videojsPlayer,videoPlayer,toolbar){for(var _len=arguments.length,sliders=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)sliders[_key-3]=arguments[_key];var userActivityBehavior;return sliders=sliders.filter(function(o){return!!o}),{userActivityBehavior:_behaviorsVideojsUserActivity2.default.create(videojsPlayer,videoPlayer,toolbar,sliders)}}},{key:"createShareModal",value:function createShareModal(videojsPlayer,videoAdapter,controlTracker,toolbar,shareModalElement,shareLinkElement,playerStateManager,a11yControlTextObj){if(shareModalElement){for(var shareModal=_componentsModal2.default.create(shareModalElement,void 0,playerStateManager,a11yControlTextObj),shareModalBehavior=_behaviorsShareModal2.default.create(videojsPlayer,videoAdapter,controlTracker,toolbar,shareModal),_len2=arguments.length,shareButtonDescriptors=Array(_len2>8?_len2-8:0),_key2=8;_key2<_len2;_key2++)shareButtonDescriptors[_key2-8]=arguments[_key2];var shareButtons=shareButtonDescriptors.map(function(_ref5){var _ref52=_slicedToArray(_ref5,3),element=_ref52[0],network=_ref52[1],url=_ref52[2];return _componentsShareButton2.default.create(element,videoAdapter,{network:network,url:url},void 0,playerStateManager)}),shareLink=void 0,shareLinkBehavior=void 0;return shareLinkElement&&(shareLink=_componentsSelectable2.default.create(shareLinkElement),shareLinkBehavior=_behaviorsShareLink2.default.create(shareModal,shareLink)),{shareModal:shareModal,shareModalBehavior:shareModalBehavior,shareButtons:shareButtons,shareLink:shareLink,shareLinkBehavior:shareLinkBehavior}}}},{key:"createEndcard",value:function createEndcard(videojsPlayer,videoAdapter,controlTracker,shareModal,endcardModalElement,endcardElement,playerStateManager,a11yControlTextObj){if(endcardModalElement&&endcardElement){var endcard=_componentsEndcard2.default.create(endcardElement),endcardModal=_componentsModal2.default.create(endcardModalElement,void 0,playerStateManager,a11yControlTextObj),endcardBehavior;return{endcard:endcard,endcardModal:endcardModal,endcardBehavior:_behaviorsEndcard2.default.create(videojsPlayer,videoAdapter,controlTracker,endcard,endcardModal,shareModal)}}}},{key:"createModalManager",value:function createModalManager(toolbar){for(var _len3=arguments.length,modals=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)modals[_key3-1]=arguments[_key3];var modalManagerBehavior;if((modals=modals.filter(function(o){return!!o})).length>0)return{modalManagerBehavior:_behaviorsModalManager2.default.create.apply(_behaviorsModalManager2.default,[toolbar].concat(_toConsumableArray(modals)))}}},{key:"createTracking",value:function createTracking(videojsPlayer,videoPlayer,trackingSettings){var videojsTrackingBehavior;if(trackingSettings)return{videojsTrackingBehavior:_behaviorsVideojsTracking2.default.create(videojsPlayer,videoPlayer,trackingSettings)}}},{key:"createMetrics",value:function createMetrics(videojsPlayer,rumOptions,tracker){if(tracker||rumOptions){rumOptions&&(rumOptions.videoUrn=rumOptions.videoUrn||videojsPlayer.src());var metricsTracker=tracker||_componentsRumTracking2.default.create(rumOptions),videojsMetricsBehavior;return{metricsTracker:metricsTracker,videojsMetricsBehavior:_behaviorsVideojsMetrics2.default.create(videojsPlayer,metricsTracker)}}}},{key:"createPlayerJsMetrics",value:function createPlayerJsMetrics(videojsPlayer,videoAdapter,tracker){var playerJsMetricsTracker=tracker||_componentsRumPlayerjs2.default.create(videoAdapter),playerJsMetricsBehavior;return{playerJsMetricsTracker:playerJsMetricsTracker,playerJsMetricsBehavior:_behaviorsVideojsMetrics2.default.create(videojsPlayer,playerJsMetricsTracker)}}},{key:"dispose",value:function dispose(){var _this=this,immutableProperties=["videoPlayerElement","options"],lastDisposedProperties=["videojsPlayer","videoPlayer"];_Object$getOwnPropertyNames(this).forEach(function(propertyName){-1===immutableProperties.indexOf(propertyName)&&-1===lastDisposedProperties.indexOf(propertyName)&&_this.disposeOne(propertyName)}),lastDisposedProperties.forEach(this.disposeOne,this)}},{key:"disposeOne",value:function disposeOne(propertyName){(0,_lodashIsobject2.default)(this[propertyName])&&(0,_lodashIsfunction2.default)(this[propertyName].dispose)&&this[propertyName].dispose(),delete this[propertyName]}},{key:"registerPlayerJsEvent",value:function registerPlayerJsEvent(eventName){this.playerjsVideojsAdapter.registerEvent(eventName)}},{key:"emitPlayerJsEvent",value:function emitPlayerJsEvent(eventName,data){this.playerjsVideojsAdapter.emit(eventName,data)}},{key:"playerJsReady",value:function playerJsReady(){var _this2=this;this.videojsPlayer.ready(function(){return _this2.playerjsVideojsAdapter.ready()})}}],[{key:"create",value:function create(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];var player=new(_bind.apply(this,[null].concat(args)));return player.setup(),player}}]),VideoPlayer}();exports.default=VideoPlayer},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(277),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(278);var $Object=__webpack_require__(41).Object;module.exports=function getOwnPropertyNames(it){return $Object.getOwnPropertyNames(it)}},function(module,exports,__webpack_require__){__webpack_require__(93)("getOwnPropertyNames",function(){return __webpack_require__(123).f})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_window,_window2=_interopRequireDefault(__webpack_require__(280)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_setup,setup=_interopRequireWildcard(__webpack_require__(289)),_stylesheet,stylesheet=_interopRequireWildcard(__webpack_require__(291)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_eventTarget,_eventTarget2=_interopRequireDefault(__webpack_require__(296)),_events,Events=_interopRequireWildcard(__webpack_require__(290)),_player,_player2=_interopRequireDefault(__webpack_require__(297)),_plugins,_plugins2=_interopRequireDefault(__webpack_require__(384)),_mergeOptions2,_mergeOptions3=_interopRequireDefault(__webpack_require__(295)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_textTrack,_textTrack2=_interopRequireDefault(__webpack_require__(307)),_audioTrack,_audioTrack2=_interopRequireDefault(__webpack_require__(385)),_videoTrack,_videoTrack2=_interopRequireDefault(__webpack_require__(386)),_timeRanges=__webpack_require__(298),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_url,Url=_interopRequireWildcard(__webpack_require__(311)),_obj=__webpack_require__(287),_computedStyle,_computedStyle2=_interopRequireDefault(__webpack_require__(349)),_extend,_extend2=_interopRequireDefault(__webpack_require__(387)),_xhr,_xhr2=_interopRequireDefault(__webpack_require__(312)),_tech,_tech2=_interopRequireDefault(__webpack_require__(305));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function videojs(id,options,ready){var tag=void 0;if("string"==typeof id){if(0===id.indexOf("#")&&(id=id.slice(1)),videojs.getPlayers()[id])return options&&_log2.default.warn('Player "'+id+'" is already initialised. Options will not be applied.'),ready&&videojs.getPlayers()[id].ready(ready),videojs.getPlayers()[id];tag=Dom.getEl(id)}else tag=id;if(!tag||!tag.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(tag.player||_player2.default.players[tag.playerId])return tag.player||_player2.default.players[tag.playerId];options=options||{},videojs.hooks("beforesetup").forEach(function(hookFunction){var opts=hookFunction(tag,(0,_mergeOptions3.default)(options));(0,_obj.isObject)(opts)&&!Array.isArray(opts)?options=(0,_mergeOptions3.default)(options,opts):_log2.default.error("please return an object in beforesetup hooks")});var PlayerComponent,player=new(_component2.default.getComponent("Player"))(tag,options,ready);return videojs.hooks("setup").forEach(function(hookFunction){return hookFunction(player)}),player}if("undefined"==typeof HTMLVideoElement&&Dom.isReal()&&(_document2.default.createElement("video"),_document2.default.createElement("audio"),_document2.default.createElement("track")),videojs.hooks_={},videojs.hooks=function(type,fn){return videojs.hooks_[type]=videojs.hooks_[type]||[],fn&&(videojs.hooks_[type]=videojs.hooks_[type].concat(fn)),videojs.hooks_[type]},videojs.hook=function(type,fn){videojs.hooks(type,fn)},videojs.removeHook=function(type,fn){var index=videojs.hooks(type).indexOf(fn);return!(index<=-1)&&(videojs.hooks_[type]=videojs.hooks_[type].slice(),videojs.hooks_[type].splice(index,1),!0)},!0!==_window2.default.VIDEOJS_NO_DYNAMIC_STYLE&&Dom.isReal()){var style=Dom.$(".vjs-styles-defaults");if(!style){style=stylesheet.createStyleElement("vjs-styles-defaults");var head=Dom.$("head");head&&head.insertBefore(style,head.firstChild),stylesheet.setTextContent(style,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}setup.autoSetupTimeout(1,videojs),videojs.VERSION="5.20.4",videojs.options=_player2.default.prototype.options_,videojs.getPlayers=function(){return _player2.default.players},videojs.players=_player2.default.players,videojs.getComponent=_component2.default.getComponent,videojs.registerComponent=function(name,comp){_tech2.default.isTech(comp)&&_log2.default.warn("The "+name+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_component2.default.registerComponent.call(_component2.default,name,comp)},videojs.getTech=_tech2.default.getTech,videojs.registerTech=_tech2.default.registerTech,videojs.browser=browser,videojs.TOUCH_ENABLED=browser.TOUCH_ENABLED,videojs.extend=_extend2.default,videojs.mergeOptions=_mergeOptions3.default,videojs.bind=Fn.bind,videojs.plugin=_plugins2.default,videojs.addLanguage=function(code,data){var _mergeOptions;return code=(""+code).toLowerCase(),videojs.options.languages=(0,_mergeOptions3.default)(videojs.options.languages,((_mergeOptions={})[code]=data,_mergeOptions)),videojs.options.languages[code]},videojs.log=_log2.default,videojs.createTimeRange=videojs.createTimeRanges=_timeRanges.createTimeRanges,videojs.formatTime=_formatTime2.default,videojs.parseUrl=Url.parseUrl,videojs.isCrossOrigin=Url.isCrossOrigin,videojs.EventTarget=_eventTarget2.default,videojs.on=Events.on,videojs.one=Events.one,videojs.off=Events.off,videojs.trigger=Events.trigger,videojs.xhr=_xhr2.default,videojs.TextTrack=_textTrack2.default,videojs.AudioTrack=_audioTrack2.default,videojs.VideoTrack=_videoTrack2.default,videojs.isEl=Dom.isEl,videojs.isTextNode=Dom.isTextNode,videojs.createEl=Dom.createEl,videojs.hasClass=Dom.hasElClass,videojs.addClass=Dom.addElClass,videojs.removeClass=Dom.removeElClass,videojs.toggleClass=Dom.toggleElClass,videojs.setAttributes=Dom.setElAttributes,videojs.getAttributes=Dom.getElAttributes,videojs.emptyEl=Dom.emptyEl,videojs.appendContent=Dom.appendContent,videojs.insertContent=Dom.insertContent,videojs.computedStyle=_computedStyle2.default,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return videojs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),exports.default=videojs},function(module,exports){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global){var topLevel=void 0!==global?global:"undefined"!=typeof window?window:{},minDoc=__webpack_require__(282),doccy;"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"])||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}).call(exports,function(){return this}())},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.BACKGROUND_SIZE_SUPPORTED=exports.TOUCH_ENABLED=exports.IS_ANY_SAFARI=exports.IS_SAFARI=exports.IE_VERSION=exports.IS_IE8=exports.CHROME_VERSION=exports.IS_CHROME=exports.IS_EDGE=exports.IS_FIREFOX=exports.IS_NATIVE_ANDROID=exports.IS_OLD_ANDROID=exports.ANDROID_VERSION=exports.IS_ANDROID=exports.IOS_VERSION=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=void 0;var _dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_window,_window2=_interopRequireDefault(__webpack_require__(280));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}var USER_AGENT=_window2.default.navigator&&_window2.default.navigator.userAgent||"",webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPAD=exports.IS_IPAD=/iPad/i.test(USER_AGENT),IS_IPHONE=exports.IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD,IS_IPOD=exports.IS_IPOD=/iPod/i.test(USER_AGENT),IS_IOS=exports.IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IOS_VERSION=exports.IOS_VERSION=(match=USER_AGENT.match(/OS (\d+)_/i))&&match[1]?match[1]:null,match,IS_ANDROID=exports.IS_ANDROID=/Android/i.test(USER_AGENT),ANDROID_VERSION=exports.ANDROID_VERSION=function(){var match=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!match)return null;var major=match[1]&&parseFloat(match[1]),minor=match[2]&&parseFloat(match[2]);return major&&minor?parseFloat(match[1]+"."+match[2]):major||null}(),IS_OLD_ANDROID=exports.IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&ANDROID_VERSION<2.3,IS_NATIVE_ANDROID=exports.IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537,IS_FIREFOX=exports.IS_FIREFOX=/Firefox/i.test(USER_AGENT),IS_EDGE=exports.IS_EDGE=/Edge/i.test(USER_AGENT),IS_CHROME=exports.IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT),CHROME_VERSION=exports.CHROME_VERSION=function(){var match=USER_AGENT.match(/Chrome\/(\d+)/);return match&&match[1]?parseFloat(match[1]):null}(),IS_IE8=exports.IS_IE8=/MSIE\s8\.0/.test(USER_AGENT),IE_VERSION=exports.IE_VERSION=(result=/MSIE\s(\d+)\.\d/.exec(USER_AGENT),!(version=result&&parseFloat(result[1]))&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)&&(version=11),version),result,version,IS_SAFARI=exports.IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE,IS_ANY_SAFARI=exports.IS_ANY_SAFARI=IS_SAFARI||IS_IOS,TOUCH_ENABLED=exports.TOUCH_ENABLED=Dom.isReal()&&("ontouchstart"in _window2.default||_window2.default.DocumentTouch&&_window2.default.document instanceof _window2.default.DocumentTouch),BACKGROUND_SIZE_SUPPORTED=exports.BACKGROUND_SIZE_SUPPORTED=Dom.isReal()&&"backgroundSize"in _window2.default.document.createElement("video").style},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.$$=exports.$=void 0;var _templateObject=_taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);exports.isReal=isReal,exports.isEl=isEl,exports.getEl=getEl,exports.createEl=createEl,exports.textContent=textContent,exports.insertElFirst=insertElFirst,exports.getElData=getElData,exports.hasElData=hasElData,exports.removeElData=removeElData,exports.hasElClass=hasElClass,exports.addElClass=addElClass,exports.removeElClass=removeElClass,exports.toggleElClass=toggleElClass,exports.setElAttributes=setElAttributes,exports.getElAttributes=getElAttributes,exports.getAttribute=getAttribute,exports.setAttribute=setAttribute,exports.removeAttribute=removeAttribute,exports.blockTextSelection=blockTextSelection,exports.unblockTextSelection=unblockTextSelection,exports.findElPosition=findElPosition,exports.getPointerPosition=getPointerPosition,exports.isTextNode=isTextNode,exports.emptyEl=emptyEl,exports.normalizeContent=normalizeContent,exports.appendContent=appendContent,exports.insertContent=insertContent;var _document,_document2=_interopRequireDefault(__webpack_require__(281)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_guid,Guid=_interopRequireWildcard(__webpack_require__(285)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_tsml,_tsml2=_interopRequireDefault(__webpack_require__(288)),_obj=__webpack_require__(287);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function isNonBlankString(str){return"string"==typeof str&&/\S/.test(str)}function throwIfWhitespace(str){if(/\s/.test(str))throw new Error("class has illegal whitespace characters")}function classRegExp(className){return new RegExp("(^|\\s)"+className+"($|\\s)")}function isReal(){return _document2.default===_window2.default.document&&void 0!==_document2.default.createElement}function isEl(value){return(0,_obj.isObject)(value)&&1===value.nodeType}function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector))return _document2.default[method](null);isNonBlankString(context)&&(context=_document2.default.querySelector(context));var ctx=isEl(context)?context:_document2.default;return ctx[method]&&ctx[method](selector)}}function getEl(id){return 0===id.indexOf("#")&&(id=id.slice(1)),_document2.default.getElementById(id)}function createEl(){var tagName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},content=arguments[3],el=_document2.default.createElement(tagName);return Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];-1!==propName.indexOf("aria-")||"role"===propName||"type"===propName?(_log2.default.warn((0,_tsml2.default)(_templateObject,propName,val)),el.setAttribute(propName,val)):"textContent"===propName?textContent(el,val):el[propName]=val}),Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName])}),content&&appendContent(el,content),el}function textContent(el,text){return void 0===el.textContent?el.innerText=text:el.textContent=text,el}function insertElFirst(child,parent){parent.firstChild?parent.insertBefore(child,parent.firstChild):parent.appendChild(child)}var elData={},elIdAttr="vdata"+(new Date).getTime();function getElData(el){var id=el[elIdAttr];return id||(id=el[elIdAttr]=Guid.newGUID()),elData[id]||(elData[id]={}),elData[id]}function hasElData(el){var id=el[elIdAttr];return!!id&&!!Object.getOwnPropertyNames(elData[id]).length}function removeElData(el){var id=el[elIdAttr];if(id){delete elData[id];try{delete el[elIdAttr]}catch(e){el.removeAttribute?el.removeAttribute(elIdAttr):el[elIdAttr]=null}}}function hasElClass(element,classToCheck){return throwIfWhitespace(classToCheck),element.classList?element.classList.contains(classToCheck):classRegExp(classToCheck).test(element.className)}function addElClass(element,classToAdd){return element.classList?element.classList.add(classToAdd):hasElClass(element,classToAdd)||(element.className=(element.className+" "+classToAdd).trim()),element}function removeElClass(element,classToRemove){return element.classList?element.classList.remove(classToRemove):(throwIfWhitespace(classToRemove),element.className=element.className.split(/\s+/).filter(function(c){return c!==classToRemove}).join(" ")),element}function toggleElClass(element,classToToggle,predicate){var has=hasElClass(element,classToToggle);if("function"==typeof predicate&&(predicate=predicate(element,classToToggle)),"boolean"!=typeof predicate&&(predicate=!has),predicate!==has)return predicate?addElClass(element,classToToggle):removeElClass(element,classToToggle),element}function setElAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];null==attrValue||!1===attrValue?el.removeAttribute(attrName):el.setAttribute(attrName,!0===attrValue?"":attrValue)})}function getElAttributes(tag){var obj={},knownBooleans=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(tag&&tag.attributes&&tag.attributes.length>0)for(var attrs=tag.attributes,i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name,attrVal=attrs[i].value;"boolean"!=typeof tag[attrName]&&-1===knownBooleans.indexOf(","+attrName+",")||(attrVal=null!==attrVal),obj[attrName]=attrVal}return obj}function getAttribute(el,attribute){return el.getAttribute(attribute)}function setAttribute(el,attribute,value){el.setAttribute(attribute,value)}function removeAttribute(el,attribute){el.removeAttribute(attribute)}function blockTextSelection(){_document2.default.body.focus(),_document2.default.onselectstart=function(){return!1}}function unblockTextSelection(){_document2.default.onselectstart=function(){return!0}}function findElPosition(el){var box=void 0;if(el.getBoundingClientRect&&el.parentNode&&(box=el.getBoundingClientRect()),!box)return{left:0,top:0};var docEl=_document2.default.documentElement,body=_document2.default.body,clientLeft=docEl.clientLeft||body.clientLeft||0,scrollLeft=_window2.default.pageXOffset||body.scrollLeft,left=box.left+scrollLeft-clientLeft,clientTop=docEl.clientTop||body.clientTop||0,scrollTop=_window2.default.pageYOffset||body.scrollTop,top=box.top+scrollTop-clientTop;return{left:Math.round(left),top:Math.round(top)}}function getPointerPosition(el,event){var position={},box=findElPosition(el),boxW=el.offsetWidth,boxH=el.offsetHeight,boxY=box.top,boxX=box.left,pageY=event.pageY,pageX=event.pageX;return event.changedTouches&&(pageX=event.changedTouches[0].pageX,pageY=event.changedTouches[0].pageY),position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH)),position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW)),position}function isTextNode(value){return(0,_obj.isObject)(value)&&3===value.nodeType}function emptyEl(el){for(;el.firstChild;)el.removeChild(el.firstChild);return el}function normalizeContent(content){return"function"==typeof content&&(content=content()),(Array.isArray(content)?content:[content]).map(function(value){return"function"==typeof value&&(value=value()),isEl(value)||isTextNode(value)?value:"string"==typeof value&&/\S/.test(value)?_document2.default.createTextNode(value):void 0}).filter(function(value){return value})}function appendContent(el,content){return normalizeContent(content).forEach(function(node){return el.appendChild(node)}),el}function insertContent(el,content){return appendContent(emptyEl(el),content)}var $=exports.$=createQuerier("querySelector"),$$=exports.$$=createQuerier("querySelectorAll")},function(module,exports){"use strict";exports.__esModule=!0,exports.newGUID=newGUID;var _guid=1;function newGUID(){return _guid++}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.logByType=void 0;var _window,_window2=_interopRequireDefault(__webpack_require__(280)),_browser=__webpack_require__(283),_obj=__webpack_require__(287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var log=void 0,logByType=exports.logByType=function logByType(type,args){var stringify=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!_browser.IE_VERSION&&_browser.IE_VERSION<11;"log"!==type&&args.unshift(type.toUpperCase()+":"),log.history.push(args),args.unshift("VIDEOJS:");var fn=_window2.default.console&&_window2.default.console[type];fn&&(stringify&&(args=args.map(function(a){if((0,_obj.isObject)(a)||Array.isArray(a))try{return JSON.stringify(a)}catch(x){return String(a)}return String(a)}).join(" ")),fn.apply?fn[Array.isArray(args)?"apply":"call"](_window2.default.console,args):fn(args))};(log=function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];logByType("log",args)}).history=[],log.error=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return logByType("error",args)},log.warn=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return logByType("warn",args)},exports.default=log},function(module,exports){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.each=each,exports.reduce=reduce,exports.assign=assign,exports.isObject=isObject,exports.isPlain=isPlain;var toString=Object.prototype.toString,keys=function keys(object){return isObject(object)?Object.keys(object):[]};function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key)})}function reduce(object,fn){var initial=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return keys(object).reduce(function(accum,key){return fn(accum,object[key],key)},initial)}function assign(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return Object.assign?Object.assign.apply(Object,[target].concat(sources)):(sources.forEach(function(source){source&&each(source,function(value,key){target[key]=value})}),target)}function isObject(value){return!!value&&"object"===(void 0===value?"undefined":_typeof(value))}function isPlain(value){return isObject(value)&&"[object Object]"===toString.call(value)&&value.constructor===Object}},function(module,exports){function clean(s){return s.replace(/\n\r?\s*/g,"")}module.exports=function tsml(sa){for(var s="",i=0;i<arguments.length;i++)s+=clean(sa[i])+(arguments[i+1]||"");return s}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.hasLoaded=exports.autoSetupTimeout=exports.autoSetup=void 0;var _dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_events,Events=_interopRequireWildcard(__webpack_require__(290)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_window,_window2=_interopRequireDefault(__webpack_require__(280));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}var _windowLoaded=!1,videojs=void 0,autoSetup=function autoSetup(){if(Dom.isReal()){var vids=_document2.default.getElementsByTagName("video"),audios=_document2.default.getElementsByTagName("audio"),mediaEls=[];if(vids&&vids.length>0)for(var i=0,e=vids.length;i<e;i++)mediaEls.push(vids[i]);if(audios&&audios.length>0)for(var _i=0,_e=audios.length;_i<_e;_i++)mediaEls.push(audios[_i]);if(mediaEls&&mediaEls.length>0)for(var _i2=0,_e2=mediaEls.length;_i2<_e2;_i2++){var mediaEl=mediaEls[_i2],options;if(!mediaEl||!mediaEl.getAttribute){autoSetupTimeout(1);break}void 0===mediaEl.player&&null!==mediaEl.getAttribute("data-setup")&&videojs(mediaEl)}else _windowLoaded||autoSetupTimeout(1)}};function autoSetupTimeout(wait,vjs){vjs&&(videojs=vjs),_window2.default.setTimeout(autoSetup,wait)}Dom.isReal()&&"complete"===_document2.default.readyState?_windowLoaded=!0:Events.one(_window2.default,"load",function(){_windowLoaded=!0});var hasLoaded=function hasLoaded(){return _windowLoaded};exports.autoSetup=autoSetup,exports.autoSetupTimeout=autoSetupTimeout,exports.hasLoaded=hasLoaded},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.fixEvent=fixEvent,exports.on=on,exports.off=off,exports.trigger=trigger,exports.one=one;var _dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_guid,Guid=_interopRequireWildcard(__webpack_require__(285)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _cleanUpEvents(elem,type){var data=Dom.getElData(elem);0===data.handlers[type].length&&(delete data.handlers[type],elem.removeEventListener?elem.removeEventListener(type,data.dispatcher,!1):elem.detachEvent&&elem.detachEvent("on"+type,data.dispatcher)),Object.getOwnPropertyNames(data.handlers).length<=0&&(delete data.handlers,delete data.dispatcher,delete data.disabled),0===Object.getOwnPropertyNames(data).length&&Dom.removeElData(elem)}function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){fn(elem,type,callback)})}function fixEvent(event){function returnTrue(){return!0}function returnFalse(){return!1}if(!event||!event.isPropagationStopped){var old=event||_window2.default.event;for(var key in event={},old)"layerX"!==key&&"layerY"!==key&&"keyLocation"!==key&&"webkitMovementX"!==key&&"webkitMovementY"!==key&&("returnValue"===key&&old.preventDefault||(event[key]=old[key]));if(event.target||(event.target=event.srcElement||_document2.default),event.relatedTarget||(event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement),event.preventDefault=function(){old.preventDefault&&old.preventDefault(),event.returnValue=!1,old.returnValue=!1,event.defaultPrevented=!0},event.defaultPrevented=!1,event.stopPropagation=function(){old.stopPropagation&&old.stopPropagation(),event.cancelBubble=!0,old.cancelBubble=!0,event.isPropagationStopped=returnTrue},event.isPropagationStopped=returnFalse,event.stopImmediatePropagation=function(){old.stopImmediatePropagation&&old.stopImmediatePropagation(),event.isImmediatePropagationStopped=returnTrue,event.stopPropagation()},event.isImmediatePropagationStopped=returnFalse,null!==event.clientX&&void 0!==event.clientX){var doc=_document2.default.documentElement,body=_document2.default.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode,null!==event.button&&void 0!==event.button&&(event.button=1&event.button?0:4&event.button?1:2&event.button?2:0)}return event}var _supportsPassive=!1;!function(){try{var opts=Object.defineProperty({},"passive",{get:function get(){_supportsPassive=!0}});_window2.default.addEventListener("test",null,opts)}catch(e){}}();var passiveEvents=["touchstart","touchmove"];function on(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(on,elem,type,fn);var data=Dom.getElData(elem);if(data.handlers||(data.handlers={}),data.handlers[type]||(data.handlers[type]=[]),fn.guid||(fn.guid=Guid.newGUID()),data.handlers[type].push(fn),data.dispatcher||(data.disabled=!1,data.dispatcher=function(event,hash){if(!data.disabled){event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers)for(var handlersCopy=handlers.slice(0),m=0,n=handlersCopy.length;m<n&&!event.isImmediatePropagationStopped();m++)try{handlersCopy[m].call(elem,event,hash)}catch(e){_log2.default.error(e)}}}),1===data.handlers[type].length)if(elem.addEventListener){var options=!1;_supportsPassive&&passiveEvents.indexOf(type)>-1&&(options={passive:!0}),elem.addEventListener(type,data.dispatcher,options)}else elem.attachEvent&&elem.attachEvent("on"+type,data.dispatcher)}function off(elem,type,fn){if(Dom.hasElData(elem)){var data=Dom.getElData(elem);if(data.handlers){if(Array.isArray(type))return _handleMultipleEvents(off,elem,type,fn);var removeType=function removeType(t){data.handlers[t]=[],_cleanUpEvents(elem,t)};if(type){var handlers=data.handlers[type];if(handlers)if(fn){if(fn.guid)for(var n=0;n<handlers.length;n++)handlers[n].guid===fn.guid&&handlers.splice(n--,1);_cleanUpEvents(elem,type)}else removeType(type)}else for(var t in data.handlers)removeType(t)}}}function trigger(elem,event,hash){var elemData=Dom.hasElData(elem)?Dom.getElData(elem):{},parent=elem.parentNode||elem.ownerDocument;if("string"==typeof event&&(event={type:event,target:elem}),event=fixEvent(event),elemData.dispatcher&&elemData.dispatcher.call(elem,event,hash),parent&&!event.isPropagationStopped()&&!0===event.bubbles)trigger.call(null,parent,event,hash);else if(!parent&&!event.defaultPrevented){var targetData=Dom.getElData(event.target);event.target[event.type]&&(targetData.disabled=!0,"function"==typeof event.target[event.type]&&event.target[event.type](),targetData.disabled=!1)}return!event.defaultPrevented}function one(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(one,elem,type,fn);var func=function func(){off(elem,type,func),fn.apply(this,arguments)};func.guid=fn.guid=fn.guid||Guid.newGUID(),on(elem,type,func)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.setTextContent=exports.createStyleElement=void 0;var _document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createStyleElement=exports.createStyleElement=function createStyleElement(className){var style=_document2.default.createElement("style");return style.className=className,style},setTextContent=exports.setTextContent=function setTextContent(el,content){el.styleSheet?el.styleSheet.cssText=content:el.textContent=content}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _window,_window2=_interopRequireDefault(__webpack_require__(280)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_guid,Guid=_interopRequireWildcard(__webpack_require__(285)),_events,Events=_interopRequireWildcard(__webpack_require__(290)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Component=function(){function Component(player,options,ready){if(_classCallCheck(this,Component),!player&&this.play?this.player_=player=this:this.player_=player,this.options_=(0,_mergeOptions2.default)({},this.options_),options=this.options_=(0,_mergeOptions2.default)(this.options_,options),this.id_=options.id||options.el&&options.el.id,!this.id_){var id=player&&player.id&&player.id()||"no_player";this.id_=id+"_component_"+Guid.newGUID()}this.name_=options.name||null,options.el?this.el_=options.el:!1!==options.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==options.initChildren&&this.initChildren(),this.ready(ready),!1!==options.reportTouchActivity&&this.enableTouchActivity()}return Component.prototype.dispose=function dispose(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Dom.removeElData(this.el_),this.el_=null},Component.prototype.player=function player(){return this.player_},Component.prototype.options=function options(obj){return _log2.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),obj?(this.options_=(0,_mergeOptions2.default)(this.options_,obj),this.options_):this.options_},Component.prototype.el=function el(){return this.el_},Component.prototype.createEl=function createEl(tagName,properties,attributes){return Dom.createEl(tagName,properties,attributes)},Component.prototype.localize=function localize(string){var code=this.player_.language&&this.player_.language(),languages=this.player_.languages&&this.player_.languages();if(!code||!languages)return string;var language=languages[code];if(language&&language[string])return language[string];var primaryCode,primaryLang=languages[code.split("-")[0]];return primaryLang&&primaryLang[string]?primaryLang[string]:string},Component.prototype.contentEl=function contentEl(){return this.contentEl_||this.el_},Component.prototype.id=function id(){return this.id_},Component.prototype.name=function name(){return this.name_},Component.prototype.children=function children(){return this.children_},Component.prototype.getChildById=function getChildById(id){return this.childIndex_[id]},Component.prototype.getChild=function getChild(name){if(name)return name=(0,_toTitleCase2.default)(name),this.childNameIndex_[name]},Component.prototype.addChild=function addChild(child){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,component=void 0,componentName=void 0;if("string"==typeof child){componentName=(0,_toTitleCase2.default)(child),options||(options={}),!0===options&&(_log2.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),options={});var componentClassName=options.componentClass||componentName;options.name=componentName;var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass)throw new Error("Component "+componentClassName+" does not exist");if("function"!=typeof ComponentClass)return null;component=new ComponentClass(this.player_||this,options)}else component=child;if(this.children_.splice(index,0,component),"function"==typeof component.id&&(this.childIndex_[component.id()]=component),(componentName=componentName||component.name&&(0,_toTitleCase2.default)(component.name()))&&(this.childNameIndex_[componentName]=component),"function"==typeof component.el&&component.el()){var childNodes,refNode=this.contentEl().children[index]||null;this.contentEl().insertBefore(component.el(),refNode)}return component},Component.prototype.removeChild=function removeChild(component){if("string"==typeof component&&(component=this.getChild(component)),component&&this.children_){for(var childFound=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===component){childFound=!0,this.children_.splice(i,1);break}if(childFound){this.childIndex_[component.id()]=null,this.childNameIndex_[component.name()]=null;var compEl=component.el();compEl&&compEl.parentNode===this.contentEl()&&this.contentEl().removeChild(component.el())}}},Component.prototype.initChildren=function initChildren(){var _this=this,children=this.options_.children;if(children){var parentOptions=this.options_,handleAdd=function handleAdd(child){var name=child.name,opts=child.opts;if(void 0!==parentOptions[name]&&(opts=parentOptions[name]),!1!==opts){!0===opts&&(opts={}),opts.playerOptions=_this.options_.playerOptions;var newChild=_this.addChild(name,opts);newChild&&(_this[name]=newChild)}},workingChildren=void 0,Tech=Component.getComponent("Tech");(workingChildren=Array.isArray(children)?children:Object.keys(children)).concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){return"string"==typeof wchild?child===wchild:child===wchild.name})})).map(function(child){var name=void 0,opts=void 0;return"string"==typeof child?opts=children[name=child]||_this.options_[name]||{}:(name=child.name,opts=child),{name:name,opts:opts}}).filter(function(child){var c=Component.getComponent(child.opts.componentClass||(0,_toTitleCase2.default)(child.name));return c&&!Tech.isTech(c)}).forEach(handleAdd)}},Component.prototype.buildCSSClass=function buildCSSClass(){return""},Component.prototype.on=function on(first,second,third){var _this2=this;if("string"==typeof first||Array.isArray(first))Events.on(this.el_,first,Fn.bind(this,second));else{var target=first,type=second,fn=Fn.bind(this,third),removeOnDispose=function removeOnDispose(){return _this2.off(target,type,fn)};removeOnDispose.guid=fn.guid,this.on("dispose",removeOnDispose);var cleanRemover=function cleanRemover(){return _this2.off("dispose",removeOnDispose)};cleanRemover.guid=fn.guid,first.nodeName?(Events.on(target,type,fn),Events.on(target,"dispose",cleanRemover)):"function"==typeof first.on&&(target.on(type,fn),target.on("dispose",cleanRemover))}return this},Component.prototype.off=function off(first,second,third){if(!first||"string"==typeof first||Array.isArray(first))Events.off(this.el_,first,second);else{var target=first,type=second,fn=Fn.bind(this,third);this.off("dispose",fn),first.nodeName?(Events.off(target,type,fn),Events.off(target,"dispose",fn)):(target.off(type,fn),target.off("dispose",fn))}return this},Component.prototype.one=function one(first,second,third){var _this3=this,_arguments=arguments;if("string"==typeof first||Array.isArray(first))Events.one(this.el_,first,Fn.bind(this,second));else{var target=first,type=second,fn=Fn.bind(this,third),newFunc=function newFunc(){_this3.off(target,type,newFunc),fn.apply(null,_arguments)};newFunc.guid=fn.guid,this.on(target,type,newFunc)}return this},Component.prototype.trigger=function trigger(event,hash){return Events.trigger(this.el_,event,hash),this},Component.prototype.ready=function ready(fn){var sync=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fn&&(this.isReady_?sync?fn.call(this):this.setTimeout(fn,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(fn))),this},Component.prototype.triggerReady=function triggerReady(){this.isReady_=!0,this.setTimeout(function(){var readyQueue=this.readyQueue_;this.readyQueue_=[],readyQueue&&readyQueue.length>0&&readyQueue.forEach(function(fn){fn.call(this)},this),this.trigger("ready")},1)},Component.prototype.$=function $(selector,context){return Dom.$(selector,context||this.contentEl())},Component.prototype.$$=function $$(selector,context){return Dom.$$(selector,context||this.contentEl())},Component.prototype.hasClass=function hasClass(classToCheck){return Dom.hasElClass(this.el_,classToCheck)},Component.prototype.addClass=function addClass(classToAdd){return Dom.addElClass(this.el_,classToAdd),this},Component.prototype.removeClass=function removeClass(classToRemove){return Dom.removeElClass(this.el_,classToRemove),this},Component.prototype.toggleClass=function toggleClass(classToToggle,predicate){return Dom.toggleElClass(this.el_,classToToggle,predicate),this},Component.prototype.show=function show(){return this.removeClass("vjs-hidden"),this},Component.prototype.hide=function hide(){return this.addClass("vjs-hidden"),this},Component.prototype.lockShowing=function lockShowing(){return this.addClass("vjs-lock-showing"),this},Component.prototype.unlockShowing=function unlockShowing(){return this.removeClass("vjs-lock-showing"),this},Component.prototype.getAttribute=function getAttribute(attribute){return Dom.getAttribute(this.el_,attribute)},Component.prototype.setAttribute=function setAttribute(attribute,value){return Dom.setAttribute(this.el_,attribute,value),this},Component.prototype.removeAttribute=function removeAttribute(attribute){return Dom.removeAttribute(this.el_,attribute),this},Component.prototype.width=function width(num,skipListeners){return this.dimension("width",num,skipListeners)},Component.prototype.height=function height(num,skipListeners){return this.dimension("height",num,skipListeners)},Component.prototype.dimensions=function dimensions(width,height){return this.width(width,!0).height(height)},Component.prototype.dimension=function dimension(widthOrHeight,num,skipListeners){if(void 0!==num)return null!==num&&num==num||(num=0),-1!==(""+num).indexOf("%")||-1!==(""+num).indexOf("px")?this.el_.style[widthOrHeight]=num:this.el_.style[widthOrHeight]="auto"===num?"":num+"px",skipListeners||this.trigger("resize"),this;if(!this.el_)return 0;var val=this.el_.style[widthOrHeight],pxIndex=val.indexOf("px");return-1!==pxIndex?parseInt(val.slice(0,pxIndex),10):parseInt(this.el_["offset"+(0,_toTitleCase2.default)(widthOrHeight)],10)},Component.prototype.currentDimension=function currentDimension(widthOrHeight){var computedWidthOrHeight=0;if("width"!==widthOrHeight&&"height"!==widthOrHeight)throw new Error("currentDimension only accepts width or height value");if("function"==typeof _window2.default.getComputedStyle){var computedStyle=_window2.default.getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight]}if(0===(computedWidthOrHeight=parseFloat(computedWidthOrHeight))){var rule="offset"+(0,_toTitleCase2.default)(widthOrHeight);computedWidthOrHeight=this.el_[rule]}return computedWidthOrHeight},Component.prototype.currentDimensions=function currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},Component.prototype.currentWidth=function currentWidth(){return this.currentDimension("width")},Component.prototype.currentHeight=function currentHeight(){return this.currentDimension("height")},Component.prototype.focus=function focus(){this.el_.focus()},Component.prototype.blur=function blur(){this.el_.blur()},Component.prototype.emitTapEvents=function emitTapEvents(){var touchStart=0,firstTouch=null,tapMovementThreshold=10,touchTimeThreshold=200,couldBeTap=void 0;this.on("touchstart",function(event){1===event.touches.length&&(firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY},touchStart=(new Date).getTime(),couldBeTap=!0)}),this.on("touchmove",function(event){if(event.touches.length>1)couldBeTap=!1;else if(firstTouch){var xdiff=event.touches[0].pageX-firstTouch.pageX,ydiff=event.touches[0].pageY-firstTouch.pageY,touchDistance;Math.sqrt(xdiff*xdiff+ydiff*ydiff)>10&&(couldBeTap=!1)}});var noTap=function noTap(){couldBeTap=!1};this.on("touchleave",noTap),this.on("touchcancel",noTap),this.on("touchend",function(event){var touchTime;(firstTouch=null,!0===couldBeTap)&&((new Date).getTime()-touchStart<200&&(event.preventDefault(),this.trigger("tap")))})},Component.prototype.enableTouchActivity=function enableTouchActivity(){if(this.player()&&this.player().reportUserActivity){var report=Fn.bind(this.player(),this.player().reportUserActivity),touchHolding=void 0;this.on("touchstart",function(){report(),this.clearInterval(touchHolding),touchHolding=this.setInterval(report,250)});var touchEnd=function touchEnd(event){report(),this.clearInterval(touchHolding)};this.on("touchmove",report),this.on("touchend",touchEnd),this.on("touchcancel",touchEnd)}},Component.prototype.setTimeout=function setTimeout(fn,timeout){fn=Fn.bind(this,fn);var timeoutId=_window2.default.setTimeout(fn,timeout),disposeFn=function disposeFn(){this.clearTimeout(timeoutId)};return disposeFn.guid="vjs-timeout-"+timeoutId,this.on("dispose",disposeFn),timeoutId},Component.prototype.clearTimeout=function clearTimeout(timeoutId){_window2.default.clearTimeout(timeoutId);var disposeFn=function disposeFn(){};return disposeFn.guid="vjs-timeout-"+timeoutId,this.off("dispose",disposeFn),timeoutId},Component.prototype.setInterval=function setInterval(fn,interval){fn=Fn.bind(this,fn);var intervalId=_window2.default.setInterval(fn,interval),disposeFn=function disposeFn(){this.clearInterval(intervalId)};return disposeFn.guid="vjs-interval-"+intervalId,this.on("dispose",disposeFn),intervalId},Component.prototype.clearInterval=function clearInterval(intervalId){_window2.default.clearInterval(intervalId);var disposeFn=function disposeFn(){};return disposeFn.guid="vjs-interval-"+intervalId,this.off("dispose",disposeFn),intervalId},Component.registerComponent=function registerComponent(name,comp){if(name){if(name=(0,_toTitleCase2.default)(name),Component.components_||(Component.components_={}),"Player"===name&&Component.components_[name]){var Player=Component.components_[name];if(Player.players&&Object.keys(Player.players).length>0&&Object.keys(Player.players).map(function(playerName){return Player.players[playerName]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return Component.components_[name]=comp,comp}},Component.getComponent=function getComponent(name){if(name)return name=(0,_toTitleCase2.default)(name),Component.components_&&Component.components_[name]?Component.components_[name]:_window2.default&&_window2.default.videojs&&_window2.default.videojs[name]?(_log2.default.warn("The "+name+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),_window2.default.videojs[name]):void 0},Component.extend=function extend(props){props=props||{},_log2.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var init=props.init||props.init||this.prototype.init||this.prototype.init||function(){},subObj=function subObj(){init.apply(this,arguments)};for(var name in(subObj.prototype=Object.create(this.prototype)).constructor=subObj,subObj.extend=Component.extend,props)props.hasOwnProperty(name)&&(subObj.prototype[name]=props[name]);return subObj},Component}();Component.registerComponent("Component",Component),exports.default=Component},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.throttle=exports.bind=void 0;var _guid=__webpack_require__(285),bind=exports.bind=function bind(context,fn,uid){fn.guid||(fn.guid=(0,_guid.newGUID)());var bound=function bound(){return fn.apply(context,arguments)};return bound.guid=uid?uid+"_"+fn.guid:fn.guid,bound},throttle=exports.throttle=function throttle(fn,wait){var last=Date.now(),throttled;return function throttled(){var now=Date.now();now-last>=wait&&(fn.apply(void 0,arguments),last=now)}}},function(module,exports){"use strict";function toTitleCase(string){return"string"!=typeof string?string:string.charAt(0).toUpperCase()+string.slice(1)}exports.__esModule=!0,exports.default=toTitleCase},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=mergeOptions;var _obj=__webpack_require__(287);function mergeOptions(){for(var result={},_len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++)sources[_key]=arguments[_key];return sources.forEach(function(source){source&&(0,_obj.each)(source,function(value,key){(0,_obj.isPlain)(value)?((0,_obj.isPlain)(result[key])||(result[key]={}),result[key]=mergeOptions(result[key],value)):result[key]=value})}),result}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _events,Events=_interopRequireWildcard(__webpack_require__(290));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}var EventTarget=function EventTarget(){};EventTarget.prototype.allowedEvents_={},EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){},Events.on(this,type,fn),this.addEventListener=ael},EventTarget.prototype.addEventListener=EventTarget.prototype.on,EventTarget.prototype.off=function(type,fn){Events.off(this,type,fn)},EventTarget.prototype.removeEventListener=EventTarget.prototype.off,EventTarget.prototype.one=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){},Events.one(this,type,fn),this.addEventListener=ael},EventTarget.prototype.trigger=function(event){var type=event.type||event;"string"==typeof event&&(event={type:type}),event=Events.fixEvent(event),this.allowedEvents_[type]&&this["on"+type]&&this["on"+type](event),Events.trigger(this,event)},EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger,exports.default=EventTarget},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_events,Events=_interopRequireWildcard(__webpack_require__(290)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_guid,Guid=_interopRequireWildcard(__webpack_require__(285)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294)),_timeRanges=__webpack_require__(298),_buffer=__webpack_require__(299),_stylesheet,stylesheet=_interopRequireWildcard(__webpack_require__(291)),_fullscreenApi,_fullscreenApi2=_interopRequireDefault(__webpack_require__(300)),_mediaError,_mediaError2=_interopRequireDefault(__webpack_require__(301)),_tuple,_tuple2=_interopRequireDefault(__webpack_require__(302)),_obj=__webpack_require__(287),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_textTrackListConverter,_textTrackListConverter2=_interopRequireDefault(__webpack_require__(303)),_modalDialog,_modalDialog2=_interopRequireDefault(__webpack_require__(304)),_tech,_tech2=_interopRequireDefault(__webpack_require__(305)),_audioTrackList,_audioTrackList2=_interopRequireDefault(__webpack_require__(323)),_videoTrackList,_videoTrackList2=_interopRequireDefault(__webpack_require__(322));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(328),__webpack_require__(329),__webpack_require__(331),__webpack_require__(333),__webpack_require__(334),__webpack_require__(335),__webpack_require__(337),__webpack_require__(338),__webpack_require__(381),__webpack_require__(382),__webpack_require__(383);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Player=function(_Component){function Player(tag,options,ready){if(_classCallCheck(this,Player),tag.id=tag.id||"vjs_video_"+Guid.newGUID(),(options=(0,_obj.assign)(Player.getTagSettings(tag),options)).initChildren=!1,options.createEl=!1,options.reportTouchActivity=!1,!options.language)if("function"==typeof tag.closest){var closest=tag.closest("[lang]");closest&&(options.language=closest.getAttribute("lang"))}else for(var element=tag;element&&1===element.nodeType;){if(Dom.getElAttributes(element).hasOwnProperty("lang")){options.language=element.getAttribute("lang");break}element=element.parentNode}var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));if(!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(_this.tag=tag,_this.tagAttributes=tag&&Dom.getElAttributes(tag),_this.language(_this.options_.language),options.languages){var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name){languagesToLower[name.toLowerCase()]=options.languages[name]}),_this.languages_=languagesToLower}else _this.languages_=Player.prototype.options_.languages;_this.cache_={},_this.poster_=options.poster||"",_this.controls_=!!options.controls,tag.controls=!1,_this.scrubbing_=!1,_this.el_=_this.createEl();var playerOptionsCopy=(0,_mergeOptions2.default)(_this.options_);if(options.plugins){var plugins=options.plugins;Object.getOwnPropertyNames(plugins).forEach(function(name){"function"==typeof this[name]?this[name](plugins[name]):_log2.default.error("Unable to find plugin:",name)},_this)}_this.options_.playerOptions=playerOptionsCopy,_this.initChildren(),_this.isAudio("audio"===tag.nodeName.toLowerCase()),_this.controls()?_this.addClass("vjs-controls-enabled"):_this.addClass("vjs-controls-disabled"),_this.el_.setAttribute("role","region"),_this.isAudio()?_this.el_.setAttribute("aria-label","audio player"):_this.el_.setAttribute("aria-label","video player"),_this.isAudio()&&_this.addClass("vjs-audio"),_this.flexNotSupported_()&&_this.addClass("vjs-no-flex"),browser.IS_IOS||_this.addClass("vjs-workinghover"),Player.players[_this.id_]=_this;var majorVersion="5.20.4".split(".")[0];return _this.addClass("vjs-v"+majorVersion),_this.userActive(!0),_this.reportUserActivity(),_this.listenForUserActivity_(),_this.on("fullscreenchange",_this.handleFullscreenChange_),_this.on("stageclick",_this.handleStageClick_),_this}return _inherits(Player,_Component),Player.prototype.dispose=function dispose(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),_Component.prototype.dispose.call(this)},Player.prototype.createEl=function createEl(){var tag=this.tag,el=void 0,playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute("data-vjs-player");el=this.el_=playerElIngest?tag.parentNode:_Component.prototype.createEl.call(this,"div"),tag.setAttribute("tabindex","-1"),tag.removeAttribute("width"),tag.removeAttribute("height");var attrs=Dom.getElAttributes(tag);if(Object.getOwnPropertyNames(attrs).forEach(function(attr){"class"===attr?el.className+=" "+attrs[attr]:el.setAttribute(attr,attrs[attr])}),tag.playerId=tag.id,tag.id+="_html5_api",tag.className="vjs-tech",tag.player=el.player=this,this.addClass("vjs-paused"),!0!==_window2.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=stylesheet.createStyleElement("vjs-styles-dimensions");var defaultsStyleEl=Dom.$(".vjs-styles-defaults"),head=Dom.$("head");head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var links=tag.getElementsByTagName("a"),i=0;i<links.length;i++){var linkEl=links.item(i);Dom.addElClass(linkEl,"vjs-hidden"),linkEl.setAttribute("hidden","hidden")}return tag.initNetworkState_=tag.networkState,tag.parentNode&&!playerElIngest&&tag.parentNode.insertBefore(el,tag),Dom.insertElFirst(tag,el),this.children_.unshift(tag),this.el_=el,el},Player.prototype.width=function width(value){return this.dimension("width",value)},Player.prototype.height=function height(value){return this.dimension("height",value)},Player.prototype.dimension=function dimension(_dimension,value){var privDimension=_dimension+"_";if(void 0===value)return this[privDimension]||0;if(""===value)this[privDimension]=void 0;else{var parsedVal=parseFloat(value);if(isNaN(parsedVal))return _log2.default.error('Improper value "'+value+'" supplied for for '+_dimension),this;this[privDimension]=parsedVal}return this.updateStyleEl_(),this},Player.prototype.fluid=function fluid(bool){if(void 0===bool)return!!this.fluid_;this.fluid_=!!bool,bool?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Player.prototype.aspectRatio=function aspectRatio(ratio){if(void 0===ratio)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(ratio))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=ratio,this.fluid(!0),this.updateStyleEl_()},Player.prototype.updateStyleEl_=function updateStyleEl_(){if(!0!==_window2.default.VIDEOJS_NO_DYNAMIC_STYLE){var width=void 0,height=void 0,aspectRatio=void 0,idClass=void 0,ratioParts=(aspectRatio=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),ratioMultiplier=ratioParts[1]/ratioParts[0];width=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/ratioMultiplier:this.videoWidth()||300,height=void 0!==this.height_?this.height_:width*ratioMultiplier,idClass=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(idClass),stylesheet.setTextContent(this.styleEl_,"\n      ."+idClass+" {\n        width: "+width+"px;\n        height: "+height+"px;\n      }\n\n      ."+idClass+".vjs-fluid {\n        padding-top: "+100*ratioMultiplier+"%;\n      }\n    ")}else{var _width="number"==typeof this.width_?this.width_:this.options_.width,_height="number"==typeof this.height_?this.height_:this.options_.height,techEl=this.tech_&&this.tech_.el();techEl&&(_width>=0&&(techEl.width=_width),_height>=0&&(techEl.height=_height))}},Player.prototype.loadTech_=function loadTech_(techName,source){var _this2=this;this.tech_&&this.unloadTech_(),"Html5"!==techName&&this.tag&&(_tech2.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=techName,this.isReady_=!1;var techOptions=(0,_obj.assign)({source:source,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+techName+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[techName.toLowerCase()]);this.tag&&(techOptions.tag=this.tag),source&&(this.currentType_=source.type,source.src===this.cache_.src&&this.cache_.currentTime>0&&(techOptions.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=source,this.cache_.src=source.src);var TechComponent=_tech2.default.getTech(techName);TechComponent||(TechComponent=_component2.default.getComponent(techName)),this.tech_=new TechComponent(techOptions),this.tech_.ready(Fn.bind(this,this.handleTechReady_),!0),_textTrackListConverter2.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach(function(event){_this2.on(_this2.tech_,event,_this2["handleTech"+(0,_toTitleCase2.default)(event)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===techName&&this.tag||Dom.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Player.prototype.unloadTech_=function unloadTech_(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=_textTrackListConverter2.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},Player.prototype.tech=function tech(safety){if(safety&&safety.IWillNotUseThisInPlugins)return this.tech_;var errorText="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw _window2.default.alert(errorText),new Error(errorText)},Player.prototype.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Player.prototype.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Player.prototype.handleTechReady_=function handleTechReady_(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,_log2.default)("deleting tag.poster throws in some browsers",e)}this.play()}},Player.prototype.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},Player.prototype.hasStarted=function hasStarted(_hasStarted){return void 0!==_hasStarted?(this.hasStarted_!==_hasStarted&&(this.hasStarted_=_hasStarted,_hasStarted?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},Player.prototype.handleTechPlay_=function handleTechPlay_(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Player.prototype.handleTechWaiting_=function handleTechWaiting_(){var _this3=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return _this3.removeClass("vjs-waiting")})},Player.prototype.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Player.prototype.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Player.prototype.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")},Player.prototype.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")},Player.prototype.handleTechSeeked_=function handleTechSeeked_(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Player.prototype.handleTechFirstPlay_=function handleTechFirstPlay_(){this.options_.starttime&&(_log2.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Player.prototype.handleTechPause_=function handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Player.prototype.handleTechEnded_=function handleTechEnded_(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Player.prototype.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_("duration"))},Player.prototype.handleTechClick_=function handleTechClick_(event){0===event.button&&this.controls()&&(this.paused()?this.play():this.pause())},Player.prototype.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive())},Player.prototype.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive()},Player.prototype.handleTechTouchMove_=function handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()},Player.prototype.handleTechTouchEnd_=function handleTechTouchEnd_(event){event.preventDefault()},Player.prototype.handleFullscreenChange_=function handleFullscreenChange_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Player.prototype.handleStageClick_=function handleStageClick_(){this.reportUserActivity()},Player.prototype.handleTechFullscreenChange_=function handleTechFullscreenChange_(event,data){data&&this.isFullscreen(data.isFullscreen),this.trigger("fullscreenchange")},Player.prototype.handleTechError_=function handleTechError_(){var error=this.tech_.error();this.error(error)},Player.prototype.handleTechTextData_=function handleTechTextData_(){var data=null;arguments.length>1&&(data=arguments[1]),this.trigger("textdata",data)},Player.prototype.getCache=function getCache(){return this.cache_},Player.prototype.techCall_=function techCall_(method,arg){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[method](arg)},!0);else try{this.tech_&&this.tech_[method](arg)}catch(e){throw(0,_log2.default)(e),e}},Player.prototype.techGet_=function techGet_(method){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[method]()}catch(e){throw void 0===this.tech_[method]?(0,_log2.default)("Video.js: "+method+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,_log2.default)("Video.js: "+method+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,_log2.default)(e),e}},Player.prototype.play=function play(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},Player.prototype.pause=function pause(){return this.techCall_("pause"),this},Player.prototype.paused=function paused(){return!1!==this.techGet_("paused")},Player.prototype.scrubbing=function scrubbing(isScrubbing){return void 0!==isScrubbing?(this.scrubbing_=!!isScrubbing,isScrubbing?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},Player.prototype.currentTime=function currentTime(seconds){return void 0!==seconds?(this.techCall_("setCurrentTime",seconds),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},Player.prototype.duration=function duration(seconds){return void 0===seconds?void 0!==this.cache_.duration?this.cache_.duration:NaN:((seconds=parseFloat(seconds))<0&&(seconds=1/0),seconds!==this.cache_.duration&&(this.cache_.duration=seconds,seconds===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},Player.prototype.remainingTime=function remainingTime(){return this.duration()-this.currentTime()},Player.prototype.buffered=function buffered(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=(0,_timeRanges.createTimeRange)(0,0)),buffered},Player.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration())},Player.prototype.bufferedEnd=function bufferedEnd(){var buffered=this.buffered(),duration=this.duration(),end=buffered.end(buffered.length-1);return end>duration&&(end=duration),end},Player.prototype.volume=function volume(percentAsDecimal){var vol=void 0;return void 0!==percentAsDecimal?(vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal))),this.cache_.volume=vol,this.techCall_("setVolume",vol),this):(vol=parseFloat(this.techGet_("volume")),isNaN(vol)?1:vol)},Player.prototype.muted=function muted(_muted){return void 0!==_muted?(this.techCall_("setMuted",_muted),this):this.techGet_("muted")||!1},Player.prototype.supportsFullScreen=function supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1},Player.prototype.isFullscreen=function isFullscreen(isFS){return void 0!==isFS?(this.isFullscreen_=!!isFS,this):!!this.isFullscreen_},Player.prototype.requestFullscreen=function requestFullscreen(){var fsApi=_fullscreenApi2.default;return this.isFullscreen(!0),fsApi.requestFullscreen?(Events.on(_document2.default,fsApi.fullscreenchange,Fn.bind(this,function documentFullscreenChange(e){this.isFullscreen(_document2.default[fsApi.fullscreenElement]),!1===this.isFullscreen()&&Events.off(_document2.default,fsApi.fullscreenchange,documentFullscreenChange),this.trigger("fullscreenchange")})),this.el_[fsApi.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},Player.prototype.exitFullscreen=function exitFullscreen(){var fsApi=_fullscreenApi2.default;return this.isFullscreen(!1),fsApi.requestFullscreen?_document2.default[fsApi.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},Player.prototype.enterFullWindow=function enterFullWindow(){this.isFullWindow=!0,this.docOrigOverflow=_document2.default.documentElement.style.overflow,Events.on(_document2.default,"keydown",Fn.bind(this,this.fullWindowOnEscKey)),_document2.default.documentElement.style.overflow="hidden",Dom.addElClass(_document2.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},Player.prototype.fullWindowOnEscKey=function fullWindowOnEscKey(event){27===event.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Player.prototype.exitFullWindow=function exitFullWindow(){this.isFullWindow=!1,Events.off(_document2.default,"keydown",this.fullWindowOnEscKey),_document2.default.documentElement.style.overflow=this.docOrigOverflow,Dom.removeElClass(_document2.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},Player.prototype.canPlayType=function canPlayType(type){for(var can=void 0,i=0,j=this.options_.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2.default)(j[i]),tech=_tech2.default.getTech(techName);if(tech||(tech=_component2.default.getComponent(techName)),tech){if(tech.isSupported()&&(can=tech.canPlayType(type)))return can}else _log2.default.error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.')}return""},Player.prototype.selectSource=function selectSource(sources){var _this4=this,techs=this.options_.techOrder.map(_toTitleCase2.default).map(function(techName){return[techName,_tech2.default.getTech(techName)||_component2.default.getComponent(techName)]}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];return tech?tech.isSupported():(_log2.default.error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),findFirstPassingTechSourcePair=function findFirstPassingTechSourcePair(outerArray,innerArray,tester){var found=void 0;return outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){if(found=tester(outerChoice,innerChoice))return!0})}),found},foundSourceAndTech=void 0,flip=function flip(fn){return function(a,b){return fn(b,a)}},finder=function finder(_ref2,source){var techName=_ref2[0],tech;if(_ref2[1].canPlaySource(source,_this4.options_[techName.toLowerCase()]))return{source:source,tech:techName}};return(foundSourceAndTech=this.options_.sourceOrder?findFirstPassingTechSourcePair(sources,techs,flip(finder)):findFirstPassingTechSourcePair(techs,sources,finder))||!1},Player.prototype.src=function src(source){if(void 0===source)return this.techGet_("src");var currentTech=_tech2.default.getTech(this.techName_);return currentTech||(currentTech=_component2.default.getComponent(this.techName_)),Array.isArray(source)?this.sourceList_(source):"string"==typeof source?this.src({src:source}):source instanceof Object&&(source.type&&!currentTech.canPlaySource(source,this.options_[this.techName_.toLowerCase()])?this.sourceList_([source]):(this.cache_.sources=null,this.cache_.source=source,this.cache_.src=source.src,this.currentType_=source.type||"",this.ready(function(){currentTech.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",source):this.techCall_("src",source.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},Player.prototype.sourceList_=function sourceList_(sources){var sourceTech=this.selectSource(sources);sourceTech?(sourceTech.tech===this.techName_?this.src(sourceTech.source):this.loadTech_(sourceTech.tech,sourceTech.source),this.cache_.sources=sources):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},Player.prototype.load=function load(){return this.techCall_("load"),this},Player.prototype.reset=function reset(){return this.loadTech_((0,_toTitleCase2.default)(this.options_.techOrder[0]),null),this.techCall_("reset"),this},Player.prototype.currentSources=function currentSources(){var source=this.currentSource(),sources=[];return 0!==Object.keys(source).length&&sources.push(source),this.cache_.sources||sources},Player.prototype.currentSource=function currentSource(){var source={},src=this.currentSrc();return src&&(source.src=src),this.cache_.source||source},Player.prototype.currentSrc=function currentSrc(){return this.techGet_("currentSrc")||this.cache_.src||""},Player.prototype.currentType=function currentType(){return this.currentType_||""},Player.prototype.preload=function preload(value){return void 0!==value?(this.techCall_("setPreload",value),this.options_.preload=value,this):this.techGet_("preload")},Player.prototype.autoplay=function autoplay(value){return void 0!==value?(this.techCall_("setAutoplay",value),this.options_.autoplay=value,this):this.techGet_("autoplay",value)},Player.prototype.playsinline=function playsinline(value){return void 0!==value?(this.techCall_("setPlaysinline",value),this.options_.playsinline=value,this):this.techGet_("playsinline")},Player.prototype.loop=function loop(value){return void 0!==value?(this.techCall_("setLoop",value),this.options_.loop=value,this):this.techGet_("loop")},Player.prototype.poster=function poster(src){return void 0===src?this.poster_:(src||(src=""),this.poster_=src,this.techCall_("setPoster",src),this.trigger("posterchange"),this)},Player.prototype.handleTechPosterChange_=function handleTechPosterChange_(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},Player.prototype.controls=function controls(bool){return void 0!==bool?(bool=!!bool,this.controls_!==bool&&(this.controls_=bool,this.usingNativeControls()&&this.techCall_("setControls",bool),bool?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},Player.prototype.usingNativeControls=function usingNativeControls(bool){return void 0!==bool?(bool=!!bool,this.usingNativeControls_!==bool&&(this.usingNativeControls_=bool,bool?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},Player.prototype.error=function error(err){return void 0===err?this.error_||null:null===err?(this.error_=err,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new _mediaError2.default(err),this.addClass("vjs-error"),_log2.default.error("(CODE:"+this.error_.code+" "+_mediaError2.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},Player.prototype.reportUserActivity=function reportUserActivity(event){this.userActivity_=!0},Player.prototype.userActive=function userActive(bool){return void 0!==bool?((bool=!!bool)!==this.userActive_&&(this.userActive_=bool,bool?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},Player.prototype.listenForUserActivity_=function listenForUserActivity_(){var mouseInProgress=void 0,lastMoveX=void 0,lastMoveY=void 0,handleActivity=Fn.bind(this,this.reportUserActivity),handleMouseMove=function handleMouseMove(e){e.screenX===lastMoveX&&e.screenY===lastMoveY||(lastMoveX=e.screenX,lastMoveY=e.screenY,handleActivity())},handleMouseDown=function handleMouseDown(){handleActivity(),this.clearInterval(mouseInProgress),mouseInProgress=this.setInterval(handleActivity,250)},handleMouseUp=function handleMouseUp(event){handleActivity(),this.clearInterval(mouseInProgress)};this.on("mousedown",handleMouseDown),this.on("mousemove",handleMouseMove),this.on("mouseup",handleMouseUp),this.on("keydown",handleActivity),this.on("keyup",handleActivity);var inactivityTimeout=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;timeout>0&&(inactivityTimeout=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},timeout))}},250)},Player.prototype.playbackRate=function playbackRate(rate){return void 0!==rate?(this.techCall_("setPlaybackRate",rate),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},Player.prototype.isAudio=function isAudio(bool){return void 0!==bool?(this.isAudio_=!!bool,this):!!this.isAudio_},Player.prototype.videoTracks=function videoTracks(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new _videoTrackList2.default,this.videoTracks_)},Player.prototype.audioTracks=function audioTracks(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new _audioTrackList2.default,this.audioTracks_)},Player.prototype.textTracks=function textTracks(){if(this.tech_)return this.tech_.textTracks()},Player.prototype.remoteTextTracks=function remoteTextTracks(){if(this.tech_)return this.tech_.remoteTextTracks()},Player.prototype.remoteTextTrackEls=function remoteTextTrackEls(){if(this.tech_)return this.tech_.remoteTextTrackEls()},Player.prototype.addTextTrack=function addTextTrack(kind,label,language){if(this.tech_)return this.tech_.addTextTrack(kind,label,language)},Player.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){if(this.tech_)return this.tech_.addRemoteTextTrack(options,manualCleanup)},Player.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(){var _ref3,_ref3$track=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,track=void 0===_ref3$track?arguments[0]:_ref3$track;if(this.tech_)return this.tech_.removeRemoteTextTrack(track)},Player.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")},Player.prototype.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Player.prototype.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Player.prototype.language=function language(code){return void 0===code?this.language_:(this.language_=String(code).toLowerCase(),this)},Player.prototype.languages=function languages(){return(0,_mergeOptions2.default)(Player.prototype.options_.languages,this.languages_)},Player.prototype.toJSON=function toJSON(){var options=(0,_mergeOptions2.default)(this.options_),tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];(track=(0,_mergeOptions2.default)(track)).player=void 0,options.tracks[i]=track}return options},Player.prototype.createModal=function createModal(content,options){var _this5=this;(options=options||{}).content=content||"";var modal=new _modalDialog2.default(this,options);return this.addChild(modal),modal.on("dispose",function(){_this5.removeChild(modal)}),modal.open()},Player.getTagSettings=function getTagSettings(tag){var baseOptions={sources:[],tracks:[]},tagOptions=Dom.getElAttributes(tag),dataSetup=tagOptions["data-setup"];if(Dom.hasElClass(tag,"vjs-fluid")&&(tagOptions.fluid=!0),null!==dataSetup){var _safeParseTuple=(0,_tuple2.default)(dataSetup||"{}"),err=_safeParseTuple[0],data=_safeParseTuple[1];err&&_log2.default.error(err),(0,_obj.assign)(tagOptions,data)}if((0,_obj.assign)(baseOptions,tagOptions),tag.hasChildNodes())for(var children=tag.childNodes,i=0,j=children.length;i<j;i++){var child=children[i],childName=child.nodeName.toLowerCase();"source"===childName?baseOptions.sources.push(Dom.getElAttributes(child)):"track"===childName&&baseOptions.tracks.push(Dom.getElAttributes(child))}return baseOptions},Player.prototype.flexNotSupported_=function flexNotSupported_(){var elem=_document2.default.createElement("i");return!("flexBasis"in elem.style||"webkitFlexBasis"in elem.style||"mozFlexBasis"in elem.style||"msFlexBasis"in elem.style||"msFlexOrder"in elem.style)},Player}(_component2.default);Player.players={};var navigator=_window2.default.navigator;Player.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn)}}),TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype["handleTech"+(0,_toTitleCase2.default)(event)+"_"]=function(){return this.trigger(event)}}),_component2.default.registerComponent("Player",Player),exports.default=Player},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.createTimeRange=void 0,exports.createTimeRanges=createTimeRanges;var _log,_log2=_interopRequireDefault(__webpack_require__(286));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function rangeCheck(fnName,index,maxIndex){if(index<0||index>maxIndex)throw new Error("Failed to execute '"+fnName+"' on 'TimeRanges': The index provided ("+index+") is greater than or equal to the maximum bound ("+maxIndex+").")}function getRange(fnName,valueIndex,ranges,rangeIndex){return void 0===rangeIndex&&(_log2.default.warn("DEPRECATED: Function '"+fnName+"' on 'TimeRanges' called without an index argument."),rangeIndex=0),rangeCheck(fnName,rangeIndex,ranges.length-1),ranges[rangeIndex][valueIndex]}function createTimeRangesObj(ranges){return void 0===ranges||0===ranges.length?{length:0,start:function start(){throw new Error("This TimeRanges object is empty")},end:function end(){throw new Error("This TimeRanges object is empty")}}:{length:ranges.length,start:getRange.bind(null,"start",0,ranges),end:getRange.bind(null,"end",1,ranges)}}function createTimeRanges(start,end){return Array.isArray(start)?createTimeRangesObj(start):void 0===start||void 0===end?createTimeRangesObj():createTimeRangesObj([[start,end]])}exports.createTimeRange=createTimeRanges},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.bufferedPercent=bufferedPercent;var _timeRanges=__webpack_require__(298);function bufferedPercent(buffered,duration){var bufferedDuration=0,start=void 0,end=void 0;if(!duration)return 0;buffered&&buffered.length||(buffered=(0,_timeRanges.createTimeRange)(0,0));for(var i=0;i<buffered.length;i++)start=buffered.start(i),(end=buffered.end(i))>duration&&(end=duration),bufferedDuration+=end-start;return bufferedDuration/duration}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}for(var FullscreenApi={},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],specApi=apiMap[0],browserApi=void 0,i=0;i<apiMap.length;i++)if(apiMap[i][1]in _document2.default){browserApi=apiMap[i];break}if(browserApi)for(var _i=0;_i<browserApi.length;_i++)FullscreenApi[specApi[_i]]=browserApi[_i];exports.default=FullscreenApi},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _obj=__webpack_require__(287);function MediaError(value){if(value instanceof MediaError)return value;"number"==typeof value?this.code=value:"string"==typeof value?this.message=value:(0,_obj.isObject)(value)&&("number"==typeof value.code&&(this.code=value.code),(0,_obj.assign)(this,value)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;exports.default=MediaError},function(module,exports){function SafeParseTuple(obj,reviver){var json,error=null;try{json=JSON.parse(obj,reviver)}catch(err){error=err}return[error,json]}module.exports=SafeParseTuple},function(module,exports){"use strict";exports.__esModule=!0;var trackToJson_=function trackToJson_(track){var ret;return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(acc,prop,i){return track[prop]&&(acc[prop]=track[prop]),acc},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id}})})},textTracksToJson=function textTracksToJson(tech){var trackEls=tech.$$("track"),trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track}),tracks;return Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);return trackEl.src&&(json.src=trackEl.src),json}).concat(Array.prototype.filter.call(tech.textTracks(),function(track){return-1===trackObjs.indexOf(track)}).map(trackToJson_))},jsonToTextTracks=function jsonToTextTracks(json,tech){return json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;!track.src&&track.cues&&track.cues.forEach(function(cue){return addedTrack.addCue(cue)})}),tech.textTracks()};exports.default={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MODAL_CLASS_NAME="vjs-modal-dialog",ESC=27,ModalDialog=function(_Component){function ModalDialog(player,options){_classCallCheck(this,ModalDialog);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=!1,_this.closeable(!_this.options_.uncloseable),_this.content(_this.options_.content),_this.contentEl_=Dom.createEl("div",{className:MODAL_CLASS_NAME+"-content"},{role:"document"}),_this.descEl_=Dom.createEl("p",{className:MODAL_CLASS_NAME+"-description vjs-offscreen",id:_this.el().getAttribute("aria-describedby")}),Dom.textContent(_this.descEl_,_this.description()),_this.el_.appendChild(_this.descEl_),_this.el_.appendChild(_this.contentEl_),_this}return _inherits(ModalDialog,_Component),ModalDialog.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},ModalDialog.prototype.buildCSSClass=function buildCSSClass(){return MODAL_CLASS_NAME+" vjs-hidden "+_Component.prototype.buildCSSClass.call(this)},ModalDialog.prototype.handleKeyPress=function handleKeyPress(e){27===e.which&&this.closeable()&&this.close()},ModalDialog.prototype.label=function label(){return this.options_.label||this.localize("Modal Window")},ModalDialog.prototype.description=function description(){var desc=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(desc+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),desc},ModalDialog.prototype.open=function open(){if(!this.opened_){var player=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!player.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&player.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Fn.bind(this,this.handleKeyPress)),player.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},ModalDialog.prototype.opened=function opened(value){return"boolean"==typeof value&&this[value?"open":"close"](),this.opened_},ModalDialog.prototype.close=function close(){if(this.opened_){var player=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&player.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Fn.bind(this,this.handleKeyPress)),player.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},ModalDialog.prototype.closeable=function closeable(value){if("boolean"==typeof value){var closeable=this.closeable_=!!value,close=this.getChild("closeButton");if(closeable&&!close){var temp=this.contentEl_;this.contentEl_=this.el_,close=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=temp,this.on(close,"close",this.close)}!closeable&&close&&(this.off(close,"close",this.close),this.removeChild(close),close.dispose())}return this.closeable_},ModalDialog.prototype.fill=function fill(){return this.fillWith(this.content())},ModalDialog.prototype.fillWith=function fillWith(content){var contentEl=this.contentEl(),parentEl=contentEl.parentNode,nextSiblingEl=contentEl.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,parentEl.removeChild(contentEl),this.empty(),Dom.insertContent(contentEl,content),this.trigger("modalfill"),nextSiblingEl?parentEl.insertBefore(contentEl,nextSiblingEl):parentEl.appendChild(contentEl),this},ModalDialog.prototype.empty=function empty(){return this.trigger("beforemodalempty"),Dom.emptyEl(this.contentEl()),this.trigger("modalempty"),this},ModalDialog.prototype.content=function content(value){return void 0!==value&&(this.content_=value),this.content_},ModalDialog}(_component2.default);ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0},_component2.default.registerComponent("ModalDialog",ModalDialog),exports.default=ModalDialog},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_htmlTrackElement,_htmlTrackElement2=_interopRequireDefault(__webpack_require__(306)),_htmlTrackElementList,_htmlTrackElementList2=_interopRequireDefault(__webpack_require__(319)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_textTrack,_textTrack2=_interopRequireDefault(__webpack_require__(307)),_textTrackList,_textTrackList2=_interopRequireDefault(__webpack_require__(320)),_videoTrackList,_videoTrackList2=_interopRequireDefault(__webpack_require__(322)),_audioTrackList,_audioTrackList2=_interopRequireDefault(__webpack_require__(323)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_timeRanges=__webpack_require__(298),_buffer=__webpack_require__(299),_mediaError,_mediaError2=_interopRequireDefault(__webpack_require__(301)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_obj=__webpack_require__(287);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createTrackHelper(self,kind,label,language){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},tracks=self.textTracks();options.kind=kind,label&&(options.label=label),language&&(options.language=language),options.tech=self;var track=new _textTrack2.default(options);return tracks.addTrack_(track),track}var Tech=function(_Component){function Tech(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ready=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};_classCallCheck(this,Tech),options.reportTouchActivity=!1;var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));return _this.hasStarted_=!1,_this.on("playing",function(){this.hasStarted_=!0}),_this.on("loadstart",function(){this.hasStarted_=!1}),_this.textTracks_=options.textTracks,_this.videoTracks_=options.videoTracks,_this.audioTracks_=options.audioTracks,_this.featuresProgressEvents||_this.manualProgressOn(),_this.featuresTimeupdateEvents||_this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(track){!1===options["native"+track+"Tracks"]&&(_this["featuresNative"+track+"Tracks"]=!1)}),!1===options.nativeCaptions&&(_this.featuresNativeTextTracks=!1),_this.featuresNativeTextTracks||_this.emulateTextTracks(),_this.autoRemoteTextTracks_=new _textTrackList2.default,_this.initTextTrackListeners(),_this.initTrackListeners(),options.nativeControlsForTouch||_this.emitTapEvents(),_this.constructor&&(_this.name_=_this.constructor.name||"Unknown Tech"),_this}return _inherits(Tech,_Component),Tech.prototype.manualProgressOn=function manualProgressOn(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Tech.prototype.manualProgressOff=function manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Tech.prototype.trackProgress=function trackProgress(event){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Fn.bind(this,function(){var numBufferedPercent=this.bufferedPercent();this.bufferedPercent_!==numBufferedPercent&&this.trigger("progress"),this.bufferedPercent_=numBufferedPercent,1===numBufferedPercent&&this.stopTrackingProgress()}),500)},Tech.prototype.onDurationChange=function onDurationChange(event){this.duration_=this.duration()},Tech.prototype.buffered=function buffered(){return(0,_timeRanges.createTimeRange)(0,0)},Tech.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration_)},Tech.prototype.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval)},Tech.prototype.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Tech.prototype.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Tech.prototype.trackCurrentTime=function trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Tech.prototype.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.dispose=function dispose(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),_Component.prototype.dispose.call(this)},Tech.prototype.clearTracks=function clearTracks(types){var _this2=this;(types=[].concat(types)).forEach(function(type){for(var list=_this2[type+"Tracks"]()||[],i=list.length;i--;){var track=list[i];"text"===type&&_this2.removeRemoteTextTrack(track),list.removeTrack_(track)}})},Tech.prototype.cleanupAutoTextTracks=function cleanupAutoTextTracks(){for(var list=this.autoRemoteTextTracks_||[],i=list.length;i--;){var track=list[i];this.removeRemoteTextTrack(track)}},Tech.prototype.reset=function reset(){},Tech.prototype.error=function error(err){return void 0!==err&&(this.error_=new _mediaError2.default(err),this.trigger("error")),this.error_},Tech.prototype.played=function played(){return this.hasStarted_?(0,_timeRanges.createTimeRange)(0,0):(0,_timeRanges.createTimeRange)()},Tech.prototype.setCurrentTime=function setCurrentTime(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.initTextTrackListeners=function initTextTrackListeners(){var textTrackListChanges=Fn.bind(this,function(){this.trigger("texttrackchange")}),tracks=this.textTracks();tracks&&(tracks.addEventListener("removetrack",textTrackListChanges),tracks.addEventListener("addtrack",textTrackListChanges),this.on("dispose",Fn.bind(this,function(){tracks.removeEventListener("removetrack",textTrackListChanges),tracks.removeEventListener("addtrack",textTrackListChanges)})))},Tech.prototype.initTrackListeners=function initTrackListeners(){var _this3=this,trackTypes;["video","audio"].forEach(function(type){var trackListChanges=function trackListChanges(){_this3.trigger(type+"trackchange")},tracks=_this3[type+"Tracks"]();tracks.addEventListener("removetrack",trackListChanges),tracks.addEventListener("addtrack",trackListChanges),_this3.on("dispose",function(){tracks.removeEventListener("removetrack",trackListChanges),tracks.removeEventListener("addtrack",trackListChanges)})})},Tech.prototype.addWebVttScript_=function addWebVttScript_(){var _this4=this;if(!_window2.default.WebVTT)if(_document2.default.body.contains(this.el())){var vtt=__webpack_require__(324);if(!this.options_["vtt.js"]&&(0,_obj.isPlain)(vtt)&&Object.keys(vtt).length>0)return void this.trigger("vttjsloaded");var script=_document2.default.createElement("script");script.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",script.onload=function(){_this4.trigger("vttjsloaded")},script.onerror=function(){_this4.trigger("vttjserror")},this.on("dispose",function(){script.onload=null,script.onerror=null}),_window2.default.WebVTT=!0,this.el().parentNode.appendChild(script)}else this.ready(this.addWebVttScript_)},Tech.prototype.emulateTextTracks=function emulateTextTracks(){var _this5=this,tracks=this.textTracks();if(tracks){var remoteTracks=this.remoteTextTracks(),handleAddTrack=function handleAddTrack(e){return tracks.addTrack_(e.track)},handleRemoveTrack=function handleRemoveTrack(e){return tracks.removeTrack_(e.track)};remoteTracks.on("addtrack",handleAddTrack),remoteTracks.on("removetrack",handleRemoveTrack),this.addWebVttScript_();var updateDisplay=function updateDisplay(){return _this5.trigger("texttrackchange")},textTracksChanges=function textTracksChanges(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener("cuechange",updateDisplay),"showing"===track.mode&&track.addEventListener("cuechange",updateDisplay)}};textTracksChanges(),tracks.addEventListener("change",textTracksChanges),tracks.addEventListener("addtrack",textTracksChanges),tracks.addEventListener("removetrack",textTracksChanges),this.on("dispose",function(){remoteTracks.off("addtrack",handleAddTrack),remoteTracks.off("removetrack",handleRemoveTrack),tracks.removeEventListener("change",textTracksChanges),tracks.removeEventListener("addtrack",textTracksChanges),tracks.removeEventListener("removetrack",textTracksChanges);for(var i=0;i<tracks.length;i++){var track;tracks[i].removeEventListener("cuechange",updateDisplay)}})}},Tech.prototype.videoTracks=function videoTracks(){return this.videoTracks_=this.videoTracks_||new _videoTrackList2.default,this.videoTracks_},Tech.prototype.audioTracks=function audioTracks(){return this.audioTracks_=this.audioTracks_||new _audioTrackList2.default,this.audioTracks_},Tech.prototype.textTracks=function textTracks(){return this.textTracks_=this.textTracks_||new _textTrackList2.default,this.textTracks_},Tech.prototype.remoteTextTracks=function remoteTextTracks(){return this.remoteTextTracks_=this.remoteTextTracks_||new _textTrackList2.default,this.remoteTextTracks_},Tech.prototype.remoteTextTrackEls=function remoteTextTrackEls(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new _htmlTrackElementList2.default,this.remoteTextTrackEls_},Tech.prototype.addTextTrack=function addTextTrack(kind,label,language){if(!kind)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,kind,label,language)},Tech.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){var track=(0,_mergeOptions2.default)(options,{tech:this});return new _htmlTrackElement2.default(track)},Tech.prototype.addRemoteTextTrack=function addRemoteTextTrack(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},manualCleanup=arguments[1],htmlTrackElement=this.createRemoteTextTrack(options);return!0!==manualCleanup&&!1!==manualCleanup&&(_log2.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),manualCleanup=!0),this.remoteTextTrackEls().addTrackElement_(htmlTrackElement),this.remoteTextTracks().addTrack_(htmlTrackElement.track),!0!==manualCleanup&&this.autoRemoteTextTracks_.addTrack_(htmlTrackElement.track),htmlTrackElement},Tech.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);this.remoteTextTrackEls().removeTrackElement_(trackElement),this.remoteTextTracks().removeTrack_(track),this.autoRemoteTextTracks_.removeTrack_(track)},Tech.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{}},Tech.prototype.setPoster=function setPoster(){},Tech.prototype.playsinline=function playsinline(){},Tech.prototype.setPlaysinline=function setPlaysinline(){},Tech.prototype.canPlayType=function canPlayType(){return""},Tech.isTech=function isTech(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech},Tech.registerTech=function registerTech(name,tech){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(tech))throw new Error("Tech "+name+" must be a Tech");return Tech.techs_[name]=tech,tech},Tech.getTech=function getTech(name){return Tech.techs_&&Tech.techs_[name]?Tech.techs_[name]:_window2.default&&_window2.default.videojs&&_window2.default.videojs[name]?(_log2.default.warn("The "+name+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),_window2.default.videojs[name]):void 0},Tech}(_component2.default);Tech.prototype.textTracks_,Tech.prototype.audioTracks_,Tech.prototype.videoTracks_,Tech.prototype.featuresVolumeControl=!0,Tech.prototype.featuresFullscreenResize=!1,Tech.prototype.featuresPlaybackRate=!1,Tech.prototype.featuresProgressEvents=!1,Tech.prototype.featuresTimeupdateEvents=!1,Tech.prototype.featuresNativeTextTracks=!1,Tech.withSourceHandlers=function(_Tech){var deferrable;_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;handlers||(handlers=_Tech.sourceHandlers=[]),void 0===index&&(index=handlers.length),handlers.splice(index,0,handler)},_Tech.canPlayType=function(type){for(var handlers=_Tech.sourceHandlers||[],can=void 0,i=0;i<handlers.length;i++)if(can=handlers[i].canPlayType(type))return can;return""},_Tech.selectSourceHandler=function(source,options){for(var handlers=_Tech.sourceHandlers||[],can=void 0,i=0;i<handlers.length;i++)if(can=handlers[i].canHandleSource(source,options))return handlers[i];return null},_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);return sh?sh.canHandleSource(srcObj,options):""},["seekable","duration"].forEach(function(fnName){var originalFn=this[fnName];"function"==typeof originalFn&&(this[fnName]=function(){return this.sourceHandler_&&this.sourceHandler_[fnName]?this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments):originalFn.apply(this,arguments)})},_Tech.prototype),_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);return sh||(_Tech.nativeSourceHandler?sh=_Tech.nativeSourceHandler:_log2.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),sh!==_Tech.nativeSourceHandler&&(this.currentSource_=source,this.off(this.el_,"loadstart",_Tech.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",_Tech.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",_Tech.prototype.firstLoadStartListener_)),this.sourceHandler_=sh.handleSource(source,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},_Tech.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",_Tech.prototype.successiveLoadStartListener_)},_Tech.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",_Tech.prototype.successiveLoadStartListener_)},_Tech.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",_Tech.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",_Tech.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_component2.default.registerComponent("Tech",Tech),_component2.default.registerComponent("MediaTechController",Tech),Tech.registerTech("Tech",Tech),exports.default=Tech},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_eventTarget,_eventTarget2=_interopRequireDefault(__webpack_require__(296)),_textTrack,_textTrack2=_interopRequireDefault(__webpack_require__(307));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var NONE=0,LOADING=1,LOADED=2,ERROR=3,HTMLTrackElement=function(_EventTarget){function HTMLTrackElement(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,HTMLTrackElement);var _this=_possibleConstructorReturn(this,_EventTarget.call(this)),readyState=void 0,trackElement=_this;if(browser.IS_IE8)for(var prop in trackElement=_document2.default.createElement("custom"),HTMLTrackElement.prototype)"constructor"!==prop&&(trackElement[prop]=HTMLTrackElement.prototype[prop]);var track=new _textTrack2.default(options),_ret;return trackElement.kind=track.kind,trackElement.src=track.src,trackElement.srclang=track.language,trackElement.label=track.label,trackElement.default=track.default,Object.defineProperty(trackElement,"readyState",{get:function get(){return readyState}}),Object.defineProperty(trackElement,"track",{get:function get(){return track}}),readyState=NONE,track.addEventListener("loadeddata",function(){readyState=LOADED,trackElement.trigger({type:"load",target:trackElement})}),browser.IS_IE8?_possibleConstructorReturn(_this,_ret=trackElement):_this}return _inherits(HTMLTrackElement,_EventTarget),HTMLTrackElement}(_eventTarget2.default);HTMLTrackElement.prototype.allowedEvents_={load:"load"},HTMLTrackElement.NONE=NONE,HTMLTrackElement.LOADING=1,HTMLTrackElement.LOADED=LOADED,HTMLTrackElement.ERROR=3,exports.default=HTMLTrackElement},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackCueList,_textTrackCueList2=_interopRequireDefault(__webpack_require__(308)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_trackEnums=__webpack_require__(309),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_track,_track2=_interopRequireDefault(__webpack_require__(310)),_url=__webpack_require__(311),_xhr,_xhr2=_interopRequireDefault(__webpack_require__(312)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_browser,browser=_interopRequireWildcard(__webpack_require__(283));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var parseCues=function parseCues(srcContent,track){var parser=new _window2.default.WebVTT.Parser(_window2.default,_window2.default.vttjs,_window2.default.WebVTT.StringDecoder()),errors=[];parser.oncue=function(cue){track.addCue(cue)},parser.onparsingerror=function(error){errors.push(error)},parser.onflush=function(){track.trigger({type:"loadeddata",target:track})},parser.parse(srcContent),errors.length>0&&(_window2.default.console&&_window2.default.console.groupCollapsed&&_window2.default.console.groupCollapsed("Text Track parsing errors for "+track.src),errors.forEach(function(error){return _log2.default.error(error)}),_window2.default.console&&_window2.default.console.groupEnd&&_window2.default.console.groupEnd()),parser.flush()},loadTrack=function loadTrack(src,track){var opts={uri:src},crossOrigin=(0,_url.isCrossOrigin)(src);crossOrigin&&(opts.cors=crossOrigin),(0,_xhr2.default)(opts,Fn.bind(this,function(err,response,responseBody){if(err)return _log2.default.error(err,response);if(track.loaded_=!0,"function"!=typeof _window2.default.WebVTT){if(track.tech_){var loadHandler=function loadHandler(){return parseCues(responseBody,track)};track.tech_.on("vttjsloaded",loadHandler),track.tech_.on("vttjserror",function(){_log2.default.error("vttjs failed to load, stopping trying to process "+track.src),track.tech_.off("vttjsloaded",loadHandler)})}}else parseCues(responseBody,track)}))},TextTrack=function(_Track){function TextTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,TextTrack),!options.tech)throw new Error("A tech was not provided.");var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.TextTrackKind[options.kind]||"subtitles",language:options.language||options.srclang||""}),mode=_trackEnums.TextTrackMode[settings.mode]||"disabled",default_=settings.default;"metadata"!==settings.kind&&"chapters"!==settings.kind||(mode="hidden");var tt=_this=_possibleConstructorReturn(this,_Track.call(this,settings));if(tt.tech_=settings.tech,browser.IS_IE8)for(var prop in TextTrack.prototype)"constructor"!==prop&&(tt[prop]=TextTrack.prototype[prop]);tt.cues_=[],tt.activeCues_=[];var cues=new _textTrackCueList2.default(tt.cues_),activeCues=new _textTrackCueList2.default(tt.activeCues_),changed=!1,timeupdateHandler=Fn.bind(tt,function(){this.activeCues,changed&&(this.trigger("cuechange"),changed=!1)});return"disabled"!==mode&&tt.tech_.ready(function(){tt.tech_.on("timeupdate",timeupdateHandler)},!0),Object.defineProperty(tt,"default",{get:function get(){return default_},set:function set(){}}),Object.defineProperty(tt,"mode",{get:function get(){return mode},set:function set(newMode){var _this2=this;_trackEnums.TextTrackMode[newMode]&&("showing"===(mode=newMode)&&this.tech_.ready(function(){_this2.tech_.on("timeupdate",timeupdateHandler)},!0),this.trigger("modechange"))}}),Object.defineProperty(tt,"cues",{get:function get(){return this.loaded_?cues:null},set:function set(){}}),Object.defineProperty(tt,"activeCues",{get:function get(){if(!this.loaded_)return null;if(0===this.cues.length)return activeCues;for(var ct=this.tech_.currentTime(),active=[],i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];cue.startTime<=ct&&cue.endTime>=ct?active.push(cue):cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+.5>=ct&&active.push(cue)}if(changed=!1,active.length!==this.activeCues_.length)changed=!0;else for(var _i=0;_i<active.length;_i++)-1===this.activeCues_.indexOf(active[_i])&&(changed=!0);return this.activeCues_=active,activeCues.setCues_(this.activeCues_),activeCues},set:function set(){}}),settings.src?(tt.src=settings.src,loadTrack(settings.src,tt)):tt.loaded_=!0,_possibleConstructorReturn(_this,_ret=tt)}return _inherits(TextTrack,_Track),TextTrack.prototype.addCue=function addCue(originalCue){var cue=originalCue;if(_window2.default.vttjs&&!(originalCue instanceof _window2.default.vttjs.VTTCue)){for(var prop in cue=new _window2.default.vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text),originalCue)prop in cue||(cue[prop]=originalCue[prop]);cue.id=originalCue.id,cue.originalCue_=originalCue}var tracks=this.tech_.textTracks();if(tracks)for(var i=0;i<tracks.length;i++)tracks[i]!==this&&tracks[i].removeCue(cue);this.cues_.push(cue),this.cues.setCues_(this.cues_)},TextTrack.prototype.removeCue=function removeCue(_removeCue){for(var i=this.cues_.length;i--;){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}},TextTrack}(_track2.default);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},exports.default=TextTrack},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var TextTrackCueList=function(){function TextTrackCueList(cues){_classCallCheck(this,TextTrackCueList);var list=this;if(browser.IS_IE8)for(var prop in list=_document2.default.createElement("custom"),TextTrackCueList.prototype)"constructor"!==prop&&(list[prop]=TextTrackCueList.prototype[prop]);if(TextTrackCueList.prototype.setCues_.call(list,cues),Object.defineProperty(list,"length",{get:function get(){return this.length_}}),browser.IS_IE8)return list}return TextTrackCueList.prototype.setCues_=function setCues_(cues){var oldLength=this.length||0,i=0,l=cues.length;this.cues_=cues,this.length_=cues.length;var defineProp=function defineProp(index){""+index in this||Object.defineProperty(this,""+index,{get:function get(){return this.cues_[index]}})};if(oldLength<l)for(i=oldLength;i<l;i++)defineProp.call(this,i)},TextTrackCueList.prototype.getCueById=function getCueById(id){for(var result=null,i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break}}return result},TextTrackCueList}();exports.default=TextTrackCueList},function(module,exports){"use strict";exports.__esModule=!0;var VideoTrackKind=exports.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},AudioTrackKind=exports.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},TextTrackKind=exports.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TextTrackMode=exports.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_guid,Guid=_interopRequireWildcard(__webpack_require__(285)),_eventTarget,_eventTarget2;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Track=function(_EventTarget){function Track(){var _ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Track);var _this=_possibleConstructorReturn(this,_EventTarget.call(this)),track=_this;if(browser.IS_IE8)for(var prop in track=_document2.default.createElement("custom"),Track.prototype)"constructor"!==prop&&(track[prop]=Track.prototype[prop]);var trackProps={id:options.id||"vjs_track_"+Guid.newGUID(),kind:options.kind||"",label:options.label||"",language:options.language||""},_loop=function _loop(key){Object.defineProperty(track,key,{get:function get(){return trackProps[key]},set:function set(){}})};for(var key in trackProps)_loop(key);return _possibleConstructorReturn(_this,_ret=track)}return _inherits(Track,_EventTarget),Track}(_interopRequireDefault(__webpack_require__(296)).default);exports.default=Track},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.isCrossOrigin=exports.getFileExtension=exports.getAbsoluteURL=exports.parseUrl=void 0;var _document,_document2=_interopRequireDefault(__webpack_require__(281)),_window,_window2=_interopRequireDefault(__webpack_require__(280));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var parseUrl=exports.parseUrl=function parseUrl(url){var props=["protocol","hostname","port","pathname","search","hash","host"],a=_document2.default.createElement("a");a.href=url;var addToBody=""===a.host&&"file:"!==a.protocol,div=void 0;addToBody&&((div=_document2.default.createElement("div")).innerHTML='<a href="'+url+'"></a>',a=div.firstChild,div.setAttribute("style","display:none; position:absolute;"),_document2.default.body.appendChild(div));for(var details={},i=0;i<props.length;i++)details[props[i]]=a[props[i]];return"http:"===details.protocol&&(details.host=details.host.replace(/:80$/,"")),"https:"===details.protocol&&(details.host=details.host.replace(/:443$/,"")),addToBody&&_document2.default.body.removeChild(div),details},getAbsoluteURL=exports.getAbsoluteURL=function getAbsoluteURL(url){if(!url.match(/^https?:\/\//)){var div=_document2.default.createElement("div");div.innerHTML='<a href="'+url+'">x</a>',url=div.firstChild.href}return url},getFileExtension=exports.getFileExtension=function getFileExtension(path){if("string"==typeof path){var splitPathRe,pathParts=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(path);if(pathParts)return pathParts.pop().toLowerCase()}return""},isCrossOrigin=exports.isCrossOrigin=function isCrossOrigin(url){var winLoc=_window2.default.location,urlInfo=parseUrl(url),srcProtocol,crossOrigin;return(":"===urlInfo.protocol?winLoc.protocol:urlInfo.protocol)+urlInfo.host!==winLoc.protocol+winLoc.host}},function(module,exports,__webpack_require__){"use strict";var window=__webpack_require__(280),isFunction=__webpack_require__(313),parseHeaders=__webpack_require__(314),xtend=__webpack_require__(318);function forEachArray(array,iterator){for(var i=0;i<array.length;i++)iterator(array[i])}function isEmpty(obj){for(var i in obj)if(obj.hasOwnProperty(i))return!1;return!0}function initParams(uri,options,callback){var params=uri;return isFunction(options)?(callback=options,"string"==typeof uri&&(params={uri:uri})):params=xtend(options,{uri:uri}),params.callback=callback,params}function createXHR(uri,options,callback){return _createXHR(options=initParams(uri,options,callback))}function _createXHR(options){if(void 0===options.callback)throw new Error("callback argument missing");var called=!1,callback=function cbOnce(err,response,body){called||(called=!0,options.callback(err,response,body))};function readystatechange(){4===xhr.readyState&&loadFunc()}function getBody(){var body=void 0;if(body=xhr.response?xhr.response:xhr.responseText||getXml(xhr),isJson)try{body=JSON.parse(body)}catch(e){}return body}var failureResponse={body:void 0,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};function errorFunc(evt){return clearTimeout(timeoutTimer),evt instanceof Error||(evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))),evt.statusCode=0,callback(evt,failureResponse)}function loadFunc(){if(!aborted){var status;clearTimeout(timeoutTimer),status=options.useXDR&&void 0===xhr.status?200:1223===xhr.status?204:xhr.status;var response=failureResponse,err=null;return 0!==status?(response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr},xhr.getAllResponseHeaders&&(response.headers=parseHeaders(xhr.getAllResponseHeaders()))):err=new Error("Internal XMLHttpRequest Error"),callback(err,response,response.body)}}var xhr=options.xhr||null,key,aborted;xhr||(xhr=options.cors||options.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var uri=xhr.url=options.uri||options.url,method=xhr.method=options.method||"GET",body=options.body||options.data||null,headers=xhr.headers=options.headers||{},sync=!!options.sync,isJson=!1,timeoutTimer;if("json"in options&&(isJson=!0,headers.accept||headers.Accept||(headers.Accept="application/json"),"GET"!==method&&"HEAD"!==method&&(headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json"),body=JSON.stringify(options.json))),xhr.onreadystatechange=readystatechange,xhr.onload=loadFunc,xhr.onerror=errorFunc,xhr.onprogress=function(){},xhr.ontimeout=errorFunc,xhr.open(method,uri,!sync,options.username,options.password),sync||(xhr.withCredentials=!!options.withCredentials),!sync&&options.timeout>0&&(timeoutTimer=setTimeout(function(){aborted=!0,xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",errorFunc(e)},options.timeout)),xhr.setRequestHeader)for(key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key]);else if(options.headers&&!isEmpty(options.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in options&&(xhr.responseType=options.responseType),"beforeSend"in options&&"function"==typeof options.beforeSend&&options.beforeSend(xhr),xhr.send(body),xhr}function getXml(xhr){if("document"===xhr.responseType)return xhr.responseXML;var firefoxBugTakenEffect=204===xhr.status&&xhr.responseXML&&"parsererror"===xhr.responseXML.documentElement.nodeName;return""!==xhr.responseType||firefoxBugTakenEffect?null:xhr.responseXML}function noop(){}module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(method){createXHR["delete"===method?"del":method]=function(uri,options,callback){return(options=initParams(uri,options,callback)).method=method.toUpperCase(),_createXHR(options)}})},function(module,exports){module.exports=isFunction;var toString=Object.prototype.toString;function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}},function(module,exports,__webpack_require__){var trim=__webpack_require__(315),forEach=__webpack_require__(316),isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};module.exports=function(headers){if(!headers)return{};var result={};return forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));void 0===result[key]?result[key]=value:isArray(result[key])?result[key].push(value):result[key]=[result[key],value]}),result}},function(module,exports){function trim(str){return str.replace(/^\s*|\s*$/g,"")}(exports=module.exports=trim).left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}},function(module,exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(317),toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function forEachArray(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&(null==receiver?iterator(array[i],i,array):iterator.call(receiver,array[i],i,array))},forEachString=function forEachString(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++)null==receiver?iterator(string.charAt(i),i,string):iterator.call(receiver,string.charAt(i),i,string)},forEachObject=function forEachObject(object,iterator,receiver){for(var k in object)hasOwnProperty.call(object,k)&&(null==receiver?iterator(object[k],k,object):iterator.call(receiver,object[k],k,object))},forEach=function forEach(list,iterator,thisArg){if(!isCallable(iterator))throw new TypeError("iterator must be a function");var receiver;arguments.length>=3&&(receiver=thisArg),"[object Array]"===toStr.call(list)?forEachArray(list,iterator,receiver):"string"==typeof list?forEachString(list,iterator,receiver):forEachObject(list,iterator,receiver)};module.exports=forEach},function(module,exports){"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class\b/,isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},tryFunctionObject=function tryFunctionToStr(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}},toStr=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;if(hasToStringTag)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return strClass===fnClass||strClass===genClass}},function(module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var HtmlTrackElementList=function(){function HtmlTrackElementList(){var trackElements=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,HtmlTrackElementList);var list=this;if(browser.IS_IE8)for(var prop in list=_document2.default.createElement("custom"),HtmlTrackElementList.prototype)"constructor"!==prop&&(list[prop]=HtmlTrackElementList.prototype[prop]);list.trackElements_=[],Object.defineProperty(list,"length",{get:function get(){return this.trackElements_.length}});for(var i=0,length=trackElements.length;i<length;i++)list.addTrackElement_(trackElements[i]);if(browser.IS_IE8)return list}return HtmlTrackElementList.prototype.addTrackElement_=function addTrackElement_(trackElement){var index=this.trackElements_.length;""+index in this||Object.defineProperty(this,index,{get:function get(){return this.trackElements_[index]}}),-1===this.trackElements_.indexOf(trackElement)&&this.trackElements_.push(trackElement)},HtmlTrackElementList.prototype.getTrackElementByTrack_=function getTrackElementByTrack_(track){for(var trackElement_=void 0,i=0,length=this.trackElements_.length;i<length;i++)if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break}return trackElement_},HtmlTrackElementList.prototype.removeTrackElement_=function removeTrackElement_(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++)if(trackElement===this.trackElements_[i]){this.trackElements_.splice(i,1);break}},HtmlTrackElementList}();exports.default=HtmlTrackElementList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackList,_trackList2=_interopRequireDefault(__webpack_require__(321)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TextTrackList=function(_TrackList){function TextTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,TextTrackList);var list=void 0;if(browser.IS_IE8){for(var prop in list=_document2.default.createElement("custom"),_trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in TextTrackList.prototype)"constructor"!==_prop&&(list[_prop]=TextTrackList.prototype[_prop])}return _possibleConstructorReturn(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_ret=list=_this)}return _inherits(TextTrackList,_TrackList),TextTrackList.prototype.addTrack_=function addTrack_(track){_TrackList.prototype.addTrack_.call(this,track),track.addEventListener("modechange",Fn.bind(this,function(){this.trigger("change")}))},TextTrackList}(_trackList2.default);exports.default=TextTrackList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _eventTarget,_eventTarget2=_interopRequireDefault(__webpack_require__(296)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TrackList=function(_EventTarget){function TrackList(){var tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_ret,list=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,TrackList);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));if(!list&&(list=_this,browser.IS_IE8))for(var prop in list=_document2.default.createElement("custom"),TrackList.prototype)"constructor"!==prop&&(list[prop]=TrackList.prototype[prop]);list.tracks_=[],Object.defineProperty(list,"length",{get:function get(){return this.tracks_.length}});for(var i=0;i<tracks.length;i++)list.addTrack_(tracks[i]);return _possibleConstructorReturn(_this,_ret=list)}return _inherits(TrackList,_EventTarget),TrackList.prototype.addTrack_=function addTrack_(track){var index=this.tracks_.length;""+index in this||Object.defineProperty(this,index,{get:function get(){return this.tracks_[index]}}),-1===this.tracks_.indexOf(track)&&(this.tracks_.push(track),this.trigger({track:track,type:"addtrack"}))},TrackList.prototype.removeTrack_=function removeTrack_(rtrack){for(var track=void 0,i=0,l=this.length;i<l;i++)if(this[i]===rtrack){(track=this[i]).off&&track.off(),this.tracks_.splice(i,1);break}track&&this.trigger({track:track,type:"removetrack"})},TrackList.prototype.getTrackById=function getTrackById(id){for(var result=null,i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break}}return result},TrackList}(_eventTarget2.default);for(var event in TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},TrackList.prototype.allowedEvents_)TrackList.prototype["on"+event]=null;exports.default=TrackList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackList,_trackList2=_interopRequireDefault(__webpack_require__(321)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++)track.id!==list[i].id&&(list[i].selected=!1)},VideoTrackList=function(_TrackList){function VideoTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,VideoTrackList);for(var list=void 0,i=tracks.length-1;i>=0;i--)if(tracks[i].selected){disableOthers(tracks,tracks[i]);break}if(browser.IS_IE8){for(var prop in list=_document2.default.createElement("custom"),_trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in VideoTrackList.prototype)"constructor"!==_prop&&(list[_prop]=VideoTrackList.prototype[_prop])}return(list=_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list))).changing_=!1,Object.defineProperty(list,"selectedIndex",{get:function get(){for(var _i=0;_i<this.length;_i++)if(this[_i].selected)return _i;return-1},set:function set(){}}),_possibleConstructorReturn(_this,_ret=list)}return _inherits(VideoTrackList,_TrackList),VideoTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;track.selected&&disableOthers(this,track),_TrackList.prototype.addTrack_.call(this,track),track.addEventListener&&track.addEventListener("selectedchange",function(){_this2.changing_||(_this2.changing_=!0,disableOthers(_this2,track),_this2.changing_=!1,_this2.trigger("change"))})},VideoTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track)},VideoTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track)},VideoTrackList}(_trackList2.default);exports.default=VideoTrackList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackList,_trackList2=_interopRequireDefault(__webpack_require__(321)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++)track.id!==list[i].id&&(list[i].enabled=!1)},AudioTrackList=function(_TrackList){function AudioTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,AudioTrackList);for(var list=void 0,i=tracks.length-1;i>=0;i--)if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break}if(browser.IS_IE8){for(var prop in list=_document2.default.createElement("custom"),_trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in AudioTrackList.prototype)"constructor"!==_prop&&(list[_prop]=AudioTrackList.prototype[_prop])}return(list=_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list))).changing_=!1,_possibleConstructorReturn(_this,_ret=list)}return _inherits(AudioTrackList,_TrackList),AudioTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;track.enabled&&disableOthers(this,track),_TrackList.prototype.addTrack_.call(this,track),track.addEventListener&&track.addEventListener("enabledchange",function(){_this2.changing_||(_this2.changing_=!0,disableOthers(_this2,track),_this2.changing_=!1,_this2.trigger("change"))})},AudioTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track)},AudioTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track)},AudioTrackList}(_trackList2.default);exports.default=AudioTrackList},function(module,exports,__webpack_require__){var window=__webpack_require__(280),vttjs=module.exports={WebVTT:__webpack_require__(325),VTTCue:__webpack_require__(326),VTTRegion:__webpack_require__(327)};window.vttjs=vttjs,window.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window.VTTCue,nativeVTTRegion=window.VTTRegion;vttjs.shim=function(){window.VTTCue=cueShim,window.VTTRegion=regionShim},vttjs.restore=function(){window.VTTCue=nativeVTTCue,window.VTTRegion=nativeVTTRegion},window.VTTCue||vttjs.shim()},function(module,exports){var _objCreate=Object.create||function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=o,new F}}();function ParsingError(errorData,message){this.name="ParsingError",this.code=errorData.code,this.message=message||errorData.message}function parseTimeStamp(input){function computeSeconds(h,m,s,f){return 3600*(0|h)+60*(0|m)+(0|s)+(0|f)/1e3}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return m?m[3]?computeSeconds(m[1],m[2],m[3].replace(":",""),m[4]):m[1]>59?computeSeconds(m[1],m[2],0,m[4]):computeSeconds(0,m[1],m[2],m[4]):null}function Settings(){this.values=_objCreate(null)}function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups)if("string"==typeof groups[i]){var kv=groups[i].split(keyValueDelim),k,v;if(2===kv.length)callback(kv[0],kv[1])}}function parseCue(input,cue,regionList){var oInput=input;function consumeTimeStamp(){var ts=parseTimeStamp(input);if(null===ts)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);return input=input.replace(/^[^\sa-zA-Z-]+/,""),ts}function consumeCueSettings(input,cue){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"region":for(var i=regionList.length-1;i>=0;i--)if(regionList[i].id===v){settings.set(k,regionList[i].region);break}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0),settings.percent(k,vals0)&&settings.set("snapToLines",!1),settings.alt(k,vals0,["auto"]),2===vals.length&&settings.alt("lineAlign",vals[1],["start","middle","end"]);break;case"position":vals=v.split(","),settings.percent(k,vals[0]),2===vals.length&&settings.alt("positionAlign",vals[1],["start","middle","end"]);break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"])}},/:/,/\s/),cue.region=settings.get("region",null),cue.vertical=settings.get("vertical",""),cue.line=settings.get("line","auto"),cue.lineAlign=settings.get("lineAlign","start"),cue.snapToLines=settings.get("snapToLines",!0),cue.size=settings.get("size",100),cue.align=settings.get("align","middle"),cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align),cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align)}function skipWhitespace(){input=input.replace(/^\s+/,"")}if(skipWhitespace(),cue.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==input.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+oInput);input=input.substr(3),skipWhitespace(),cue.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(input,cue)}ParsingError.prototype=_objCreate(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(k,v){this.get(k)||""===v||(this.values[k]=v)},get:function(k,dflt,defaultKey){return defaultKey?this.has(k)?this.values[k]:dflt[defaultKey]:this.has(k)?this.values[k]:dflt},has:function(k){return k in this.values},alt:function(k,v,a){for(var n=0;n<a.length;++n)if(v===a[n]){this.set(k,v);break}},integer:function(k,v){/^-?\d+$/.test(v)&&this.set(k,parseInt(v,10))},percent:function(k,v){var m;return!!((m=v.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(v=parseFloat(v))>=0&&v<=100)&&(this.set(k,v),!0)}};var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"};function parseContent(window,input){function nextToken(){if(!input)return null;function consume(result){return input=input.substr(result.length),result}var m=input.match(/^([^<]*)(<[^>]+>?)?/);return consume(m[1]?m[1]:m[2])}function unescape1(e){return ESCAPE[e]}function unescape(s){for(;m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)s=s.replace(m[0],unescape1);return s}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName)return null;var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];return name&&annotation&&(element[name]=annotation.trim()),element}for(var rootDiv=window.document.createElement("div"),current=rootDiv,t,tagStack=[];null!==(t=nextToken());)if("<"!==t[0])current.appendChild(window.document.createTextNode(unescape(t)));else{if("/"===t[1]){tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")&&(tagStack.pop(),current=current.parentNode);continue}var ts=parseTimeStamp(t.substr(1,t.length-2)),node;if(ts){node=window.document.createProcessingInstruction("timestamp",ts),current.appendChild(node);continue}var m=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m)continue;if(!(node=createElement(m[1],m[3])))continue;if(!shouldAdd(current,node))continue;m[2]&&(node.className=m[2].substr(1).replace("."," ")),tagStack.push(m[1]),current.appendChild(node),current=node}return rootDiv}var strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(charCode){for(var i=0;i<strongRTLRanges.length;i++){var currentRange=strongRTLRanges[i];if(charCode>=currentRange[0]&&charCode<=currentRange[1])return!0}return!1}function determineBidi(cueDiv){var nodeStack=[],text="",charCode;if(!cueDiv||!cueDiv.childNodes)return"ltr";function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--)nodeStack.push(node.childNodes[i])}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length)return null;var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\n|\r)/);return m?(nodeStack.length=0,m[0]):text}return"ruby"===node.tagName?nextTextNode(nodeStack):node.childNodes?(pushNodes(nodeStack,node),nextTextNode(nodeStack)):void 0}for(pushNodes(nodeStack,cueDiv);text=nextTextNode(nodeStack);)for(var i=0;i<text.length;i++)if(isStrongRTLChar(charCode=text.charCodeAt(i)))return"rtl";return"ltr"}function computeLinePos(cue){if("number"==typeof cue.line&&(cue.snapToLines||cue.line>=0&&cue.line<=100))return cue.line;if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement)return-1;for(var track=cue.track,trackList=track.textTrackList,count=0,i=0;i<trackList.length&&trackList[i]!==track;i++)"showing"===trackList[i].mode&&count++;return-1*++count}function StyleBox(){}function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\s8\.0/.test(navigator.userAgent),color="rgba(255, 255, 255, 1)",backgroundColor="rgba(0, 0, 0, 0.8)";isIE8&&(color="rgb(255, 255, 255)",backgroundColor="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=cue,this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};isIE8||(styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl",styles.unicodeBidi="plaintext"),this.applyStyles(styles,this.cueDiv),this.div=window.document.createElement("div"),styles={textAlign:"middle"===cue.align?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"},isIE8||(styles.direction=determineBidi(this.cueDiv),styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(styles),this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-cue.size/2;break;case"end":textPos=cue.position-cue.size}""===cue.vertical?this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")}):this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")}),this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")})}}function BoxPosition(obj){var isIE8=/MSIE\s8\.0/.test(navigator.userAgent),lh,height,width,top;if(obj.div){height=obj.div.offsetHeight,width=obj.div.offsetWidth,top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect(),lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0}this.left=obj.left,this.right=obj.right,this.top=obj.top||top,this.height=obj.height||height,this.bottom=obj.bottom||top+(obj.height||height),this.width=obj.width||width,this.lineHeight=void 0!==lh?lh:obj.lineHeight,isIE8&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){for(var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1,i=0;i<axis.length;i++){for(;b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions);)b.move(axis[i]);if(b.within(containerBox))return b;var p=b.intersectPercentage(containerBox);percentage>p&&(bestPosition=new BoxPosition(b),percentage=p),b=new BoxPosition(specifiedPosition)}return bestPosition||specifiedPosition}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"],size="height";break;case"rl":axis=["+x","-x"],size="width";break;case"lr":axis=["-x","+x"],size="width"}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];Math.abs(position)>maxPosition&&(position=position<0?-1:1,position*=Math.ceil(maxPosition/step)*step),linePos<0&&(position+=""===cue.vertical?containerBox.height:containerBox.width,axis=axis.reverse()),boxPosition.move(initialAxis,position)}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case"middle":linePos-=calculatedPercentage/2;break;case"end":linePos-=calculatedPercentage}switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")})}axis=["+y","-x","+x","-y"],boxPosition=new BoxPosition(styleBox)}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox))}function WebVTT(){}StyleBox.prototype.applyStyles=function(styles,div){for(var prop in div=div||this.div,styles)styles.hasOwnProperty(prop)&&(div.style[prop]=styles[prop])},StyleBox.prototype.formatStyle=function(val,unit){return 0===val?0:val+unit},CueStyleBox.prototype=_objCreate(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(axis,toMove){switch(toMove=void 0!==toMove?toMove:this.lineHeight,axis){case"+x":this.left+=toMove,this.right+=toMove;break;case"-x":this.left-=toMove,this.right-=toMove;break;case"+y":this.top+=toMove,this.bottom+=toMove;break;case"-y":this.top-=toMove,this.bottom-=toMove}},BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top},BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++)if(this.overlaps(boxes[i]))return!0;return!1},BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right},BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom}},BoxPosition.prototype.intersectPercentage=function(b2){var x,y,intersectArea;return Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left))*Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0,width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0,top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0,ret;return{left:(obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj).left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width}},WebVTT.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},WebVTT.convertCueToDOMTree=function(window,cuetext){return window&&cuetext?parseContent(window,cuetext):null};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT.processCues=function(window,cues,overlay){if(!window||!cues||!overlay)return null;for(;overlay.firstChild;)overlay.removeChild(overlay.firstChild);var paddedOverlay=window.document.createElement("div");function shouldCompute(cues){for(var i=0;i<cues.length;i++)if(cues[i].hasBeenReset||!cues[i].displayState)return!0;return!1}if(paddedOverlay.style.position="absolute",paddedOverlay.style.left="0",paddedOverlay.style.right="0",paddedOverlay.style.top="0",paddedOverlay.style.bottom="0",paddedOverlay.style.margin="1.5%",overlay.appendChild(paddedOverlay),shouldCompute(cues)){var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize,styleOptions={font:Math.round(.05*containerBox.height*100)/100+"px "+FONT_STYLE};!function(){for(var styleBox,cue,i=0;i<cues.length;i++)cue=cues[i],styleBox=new CueStyleBox(window,cue,styleOptions),paddedOverlay.appendChild(styleBox.div),moveBoxToLinePosition(window,styleBox,containerBox,boxPositions),cue.displayState=styleBox.div,boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))}()}else for(var i=0;i<cues.length;i++)paddedOverlay.appendChild(cues[i].displayState)},WebVTT.Parser=function(window,vttjs,decoder){decoder||(decoder=vttjs,vttjs={}),vttjs||(vttjs={}),this.window=window,this.vttjs=vttjs,this.state="INITIAL",this.buffer="",this.decoder=decoder||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(data){var self=this;function collectNextLine(){for(var buffer=self.buffer,pos=0;pos<buffer.length&&"\r"!==buffer[pos]&&"\n"!==buffer[pos];)++pos;var line=buffer.substr(0,pos);return"\r"===buffer[pos]&&++pos,"\n"===buffer[pos]&&++pos,self.buffer=buffer.substr(pos),line}function parseRegion(input){var settings=new Settings;if(parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(",");if(2!==xy.length)break;var anchor=new Settings;if(anchor.percent("x",xy[0]),anchor.percent("y",xy[1]),!anchor.has("x")||!anchor.has("y"))break;settings.set(k+"X",anchor.get("x")),settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"])}},/=/,/\s/),settings.has("id")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion);region.width=settings.get("width",100),region.lines=settings.get("lines",3),region.regionAnchorX=settings.get("regionanchorX",0),region.regionAnchorY=settings.get("regionanchorY",100),region.viewportAnchorX=settings.get("viewportanchorX",0),region.viewportAnchorY=settings.get("viewportanchorY",100),region.scroll=settings.get("scroll",""),self.onregion&&self.onregion(region),self.regionList.push({id:settings.get("id"),region:region})}}function parseTimestampMap(input){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"MPEGT":settings.integer(k+"S",v);break;case"LOCA":settings.set(k+"L",parseTimeStamp(v))}},/[^\d]:/,/,/),self.ontimestampmap&&self.ontimestampmap({MPEGTS:settings.get("MPEGTS"),LOCAL:settings.get("LOCAL")})}function parseHeader(input){input.match(/X-TIMESTAMP-MAP/)?parseOptions(input,function(k,v){switch(k){case"X-TIMESTAMP-MAP":parseTimestampMap(v)}},/=/):parseOptions(input,function(k,v){switch(k){case"Region":parseRegion(v)}},/:/)}data&&(self.buffer+=self.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===self.state){if(!/\r\n|\n/.test(self.buffer))return this;var m=(line=collectNextLine()).match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0])throw new ParsingError(ParsingError.Errors.BadSignature);self.state="HEADER"}for(var alreadyCollectedLine=!1;self.buffer;){if(!/\r\n|\n/.test(self.buffer))return this;switch(alreadyCollectedLine?alreadyCollectedLine=!1:line=collectNextLine(),self.state){case"HEADER":/:/.test(line)?parseHeader(line):line||(self.state="ID");continue;case"NOTE":line||(self.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break}if(!line)continue;if(self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,""),self.state="CUE",-1===line.indexOf("--\x3e")){self.cue.id=line;continue}case"CUE":try{parseCue(line,self.cue,self.regionList)}catch(e){self.reportOrThrowError(e),self.cue=null,self.state="BADCUE";continue}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=-1!==line.indexOf("--\x3e");if(!line||hasSubstring&&(alreadyCollectedLine=!0)){self.oncue&&self.oncue(self.cue),self.cue=null,self.state="ID";continue}self.cue.text&&(self.cue.text+="\n"),self.cue.text+=line;continue;case"BADCUE":line||(self.state="ID");continue}}}catch(e){self.reportOrThrowError(e),"CUETEXT"===self.state&&self.cue&&self.oncue&&self.oncue(self.cue),self.cue=null,self.state="INITIAL"===self.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var self=this;try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},module.exports=WebVTT},function(module,exports){var autoKeyword="auto",directionSetting={"":!0,lr:!0,rl:!0},alignSetting={start:!0,middle:!0,end:!0,left:!0,right:!0};function findDirectionSetting(value){return"string"==typeof value&&(!!directionSetting[value.toLowerCase()]&&value.toLowerCase());var dir}function findAlignSetting(value){return"string"==typeof value&&(!!alignSetting[value.toLowerCase()]&&value.toLowerCase());var align}function extend(obj){for(var i=1;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj)obj[p]=cobj[p]}return obj}function VTTCue(startTime,endTime,text){var cue=this,isIE8=/MSIE\s8\.0/.test(navigator.userAgent),baseObj={};isIE8?cue=document.createElement("custom"):baseObj.enumerable=!0,cue.hasBeenReset=!1;var _id="",_pauseOnExit=!1,_startTime=startTime,_endTime=endTime,_text=text,_region=null,_vertical="",_snapToLines=!0,_line="auto",_lineAlign="start",_position=50,_positionAlign="middle",_size=50,_align="middle";if(Object.defineProperty(cue,"id",extend({},baseObj,{get:function(){return _id},set:function(value){_id=""+value}})),Object.defineProperty(cue,"pauseOnExit",extend({},baseObj,{get:function(){return _pauseOnExit},set:function(value){_pauseOnExit=!!value}})),Object.defineProperty(cue,"startTime",extend({},baseObj,{get:function(){return _startTime},set:function(value){if("number"!=typeof value)throw new TypeError("Start time must be set to a number.");_startTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"endTime",extend({},baseObj,{get:function(){return _endTime},set:function(value){if("number"!=typeof value)throw new TypeError("End time must be set to a number.");_endTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"text",extend({},baseObj,{get:function(){return _text},set:function(value){_text=""+value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"region",extend({},baseObj,{get:function(){return _region},set:function(value){_region=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"vertical",extend({},baseObj,{get:function(){return _vertical},set:function(value){var setting=findDirectionSetting(value);if(!1===setting)throw new SyntaxError("An invalid or illegal string was specified.");_vertical=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"snapToLines",extend({},baseObj,{get:function(){return _snapToLines},set:function(value){_snapToLines=!!value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"line",extend({},baseObj,{get:function(){return _line},set:function(value){if("number"!=typeof value&&value!==autoKeyword)throw new SyntaxError("An invalid number or illegal string was specified.");_line=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"lineAlign",extend({},baseObj,{get:function(){return _lineAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_lineAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"position",extend({},baseObj,{get:function(){return _position},set:function(value){if(value<0||value>100)throw new Error("Position must be between 0 and 100.");_position=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"positionAlign",extend({},baseObj,{get:function(){return _positionAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_positionAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"size",extend({},baseObj,{get:function(){return _size},set:function(value){if(value<0||value>100)throw new Error("Size must be between 0 and 100.");_size=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"align",extend({},baseObj,{get:function(){return _align},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_align=setting,this.hasBeenReset=!0}})),cue.displayState=void 0,isIE8)return cue}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},module.exports=VTTCue},function(module,exports){var scrollSetting={"":!0,up:!0};function findScrollSetting(value){return"string"==typeof value&&(!!scrollSetting[value.toLowerCase()]&&value.toLowerCase());var scroll}function isValidPercentValue(value){return"number"==typeof value&&value>=0&&value<=100}function VTTRegion(){var _width=100,_lines=3,_regionAnchorX=0,_regionAnchorY=100,_viewportAnchorX=0,_viewportAnchorY=100,_scroll="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return _width},set:function(value){if(!isValidPercentValue(value))throw new Error("Width must be between 0 and 100.");_width=value}},lines:{enumerable:!0,get:function(){return _lines},set:function(value){if("number"!=typeof value)throw new TypeError("Lines must be set to a number.");_lines=value}},regionAnchorY:{enumerable:!0,get:function(){return _regionAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorX must be between 0 and 100.");_regionAnchorY=value}},regionAnchorX:{enumerable:!0,get:function(){return _regionAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorY must be between 0 and 100.");_regionAnchorX=value}},viewportAnchorY:{enumerable:!0,get:function(){return _viewportAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorY must be between 0 and 100.");_viewportAnchorY=value}},viewportAnchorX:{enumerable:!0,get:function(){return _viewportAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorX must be between 0 and 100.");_viewportAnchorX=value}},scroll:{enumerable:!0,get:function(){return _scroll},set:function(value){var setting=findScrollSetting(value);if(!1===setting)throw new SyntaxError("An invalid or illegal string was specified.");_scroll=setting}}})}module.exports=VTTRegion},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_tech,_tech2=_interopRequireDefault(__webpack_require__(305)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MediaLoader=function(_Component){function MediaLoader(player,options,ready){_classCallCheck(this,MediaLoader);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));if(options.playerOptions.sources&&0!==options.playerOptions.sources.length)player.src(options.playerOptions.sources);else for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2.default)(j[i]),tech=_tech2.default.getTech(techName);if(techName||(tech=_component2.default.getComponent(techName)),tech&&tech.isSupported()){player.loadTech_(techName);break}}return _this}return _inherits(MediaLoader,_Component),MediaLoader}(_component2.default);_component2.default.registerComponent("MediaLoader",MediaLoader),exports.default=MediaLoader},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _tech,_tech2=_interopRequireDefault(__webpack_require__(305)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_url,Url=_interopRequireWildcard(__webpack_require__(311)),_timeRanges=__webpack_require__(298),_flashRtmp,_flashRtmp2=_interopRequireDefault(__webpack_require__(330)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_obj=__webpack_require__(287);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var navigator=_window2.default.navigator,Flash=function(_Tech){function Flash(options,ready){_classCallCheck(this,Flash);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready));return options.source&&_this.ready(function(){this.setSource(options.source)},!0),options.startTime&&_this.ready(function(){this.load(),this.play(),this.currentTime(options.startTime)},!0),_window2.default.videojs=_window2.default.videojs||{},_window2.default.videojs.Flash=_window2.default.videojs.Flash||{},_window2.default.videojs.Flash.onReady=Flash.onReady,_window2.default.videojs.Flash.onEvent=Flash.onEvent,_window2.default.videojs.Flash.onError=Flash.onError,_this.on("seeked",function(){this.lastSeekTarget_=void 0}),_this}return _inherits(Flash,_Tech),Flash.prototype.createEl=function createEl(){var options=this.options_;if(!options.swf){var ver="5.4.1";options.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf"}var objId=options.techId,flashVars=(0,_obj.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:options.autoplay,preload:options.preload,loop:options.loop,muted:options.muted},options.flashVars),params=(0,_obj.assign)({wmode:"opaque",bgcolor:"#000000"},options.params),attributes=(0,_obj.assign)({id:objId,name:objId,class:"vjs-tech"},options.attributes);return this.el_=Flash.embed(options.swf,flashVars,params,attributes),this.el_.tech=this,this.el_},Flash.prototype.play=function play(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},Flash.prototype.pause=function pause(){this.el_.vjs_pause()},Flash.prototype.src=function src(_src){return void 0===_src?this.currentSrc():this.setSrc(_src)},Flash.prototype.setSrc=function setSrc(src){var _this2=this;src=Url.getAbsoluteURL(src),this.el_.vjs_src(src),this.autoplay()&&this.setTimeout(function(){return _this2.play()},0)},Flash.prototype.seeking=function seeking(){return void 0!==this.lastSeekTarget_},Flash.prototype.setCurrentTime=function setCurrentTime(time){var seekable=this.seekable();seekable.length&&(time=(time=time>seekable.start(0)?time:seekable.start(0))<seekable.end(seekable.length-1)?time:seekable.end(seekable.length-1),this.lastSeekTarget_=time,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",time),_Tech.prototype.setCurrentTime.call(this))},Flash.prototype.currentTime=function currentTime(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},Flash.prototype.currentSrc=function currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},Flash.prototype.duration=function duration(){if(0===this.readyState())return NaN;var duration=this.el_.vjs_getProperty("duration");return duration>=0?duration:1/0},Flash.prototype.load=function load(){this.el_.vjs_load()},Flash.prototype.poster=function poster(){this.el_.vjs_getProperty("poster")},Flash.prototype.setPoster=function setPoster(){},Flash.prototype.seekable=function seekable(){var duration=this.duration();return 0===duration?(0,_timeRanges.createTimeRange)():(0,_timeRanges.createTimeRange)(0,duration)},Flash.prototype.buffered=function buffered(){var ranges=this.el_.vjs_getProperty("buffered");return 0===ranges.length?(0,_timeRanges.createTimeRange)():(0,_timeRanges.createTimeRange)(ranges[0][0],ranges[0][1])},Flash.prototype.supportsFullScreen=function supportsFullScreen(){return!1},Flash.prototype.enterFullScreen=function enterFullScreen(){return!1},Flash.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){var videoPlaybackQuality=this.el_.vjs_getProperty("getVideoPlaybackQuality");return _window2.default.performance&&"function"==typeof _window2.default.performance.now?videoPlaybackQuality.creationTime=_window2.default.performance.now():_window2.default.performance&&_window2.default.performance.timing&&"number"==typeof _window2.default.performance.timing.navigationStart&&(videoPlaybackQuality.creationTime=_window2.default.Date.now()-_window2.default.performance.timing.navigationStart),videoPlaybackQuality},Flash}(_tech2.default),_api=Flash.prototype,_readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),_readOnly="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function _createSetter(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);_api["set"+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val)}}function _createGetter(attr){_api[attr]=function(){return this.el_.vjs_getProperty(attr)}}for(var i=0;i<_readWrite.length;i++)_createGetter(_readWrite[i]),_createSetter(_readWrite[i]);for(var _i=0;_i<_readOnly.length;_i++)_createGetter(_readOnly[_i]);Flash.isSupported=function(){return Flash.version()[0]>=10},_tech2.default.withSourceHandlers(Flash),Flash.nativeSourceHandler={},Flash.nativeSourceHandler.canPlayType=function(type){return type in Flash.formats?"maybe":""},Flash.nativeSourceHandler.canHandleSource=function(source,options){var type=void 0;function guessMimeType(src){var ext=Url.getFileExtension(src);return ext?"video/"+ext:""}return type=source.type?source.type.replace(/;.*/,"").toLowerCase():guessMimeType(source.src),Flash.nativeSourceHandler.canPlayType(type)},Flash.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src)},Flash.nativeSourceHandler.dispose=function(){},Flash.registerSourceHandler(Flash.nativeSourceHandler),Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},Flash.onReady=function(currSwf){var el=Dom.getEl(currSwf),tech=el&&el.tech;tech&&tech.el()&&Flash.checkReady(tech)},Flash.checkReady=function(tech){tech.el()&&(tech.el().vjs_getProperty?tech.triggerReady():this.setTimeout(function(){Flash.checkReady(tech)},50))},Flash.onEvent=function(swfID,eventName){var tech=Dom.getEl(swfID).tech,args=Array.prototype.slice.call(arguments,2);tech.setTimeout(function(){tech.trigger(eventName,args)},1)},Flash.onError=function(swfID,err){var tech=Dom.getEl(swfID).tech;if("srcnotfound"===err)return tech.error(4);tech.error("FLASH: "+err)},Flash.version=function(){var version="0,0,0";try{version=new _window2.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(err){}}return version.split(",")},Flash.embed=function(swf,flashVars,params,attributes){var code=Flash.getEmbedCode(swf,flashVars,params,attributes),obj;return Dom.createEl("div",{innerHTML:code}).childNodes[0]},Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash" ',flashVarsString="",paramsString="",attrsString="";return flashVars&&Object.getOwnPropertyNames(flashVars).forEach(function(key){flashVarsString+=key+"="+flashVars[key]+"&amp;"}),params=(0,_obj.assign)({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params),Object.getOwnPropertyNames(params).forEach(function(key){paramsString+='<param name="'+key+'" value="'+params[key]+'" />'}),attributes=(0,_obj.assign)({data:swf,width:"100%",height:"100%"},attributes),Object.getOwnPropertyNames(attributes).forEach(function(key){attrsString+=key+'="'+attributes[key]+'" '}),""+objTag+attrsString+">"+paramsString+"</object>"},(0,_flashRtmp2.default)(Flash),_component2.default.registerComponent("Flash",Flash),_tech2.default.registerTech("Flash",Flash),exports.default=Flash},function(module,exports){"use strict";function FlashRtmpDecorator(Flash){return Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},Flash.streamFromParts=function(connection,stream){return connection+"&"+stream},Flash.streamToParts=function(src){var parts={connection:"",stream:""};if(!src)return parts;var connEnd=src.search(/&(?!\w+=)/),streamBegin=void 0;return-1!==connEnd?streamBegin=connEnd+1:0===(connEnd=streamBegin=src.lastIndexOf("/")+1)&&(connEnd=streamBegin=src.length),parts.connection=src.substring(0,connEnd),parts.stream=src.substring(streamBegin,src.length),parts},Flash.isStreamingType=function(srcType){return srcType in Flash.streamingFormats},Flash.RTMP_RE=/^rtmp[set]?:\/\//i,Flash.isStreamingSrc=function(src){return Flash.RTMP_RE.test(src)},Flash.rtmpSourceHandler={},Flash.rtmpSourceHandler.canPlayType=function(type){return Flash.isStreamingType(type)?"maybe":""},Flash.rtmpSourceHandler.canHandleSource=function(source,options){var can=Flash.rtmpSourceHandler.canPlayType(source.type);return can||(Flash.isStreamingSrc(source.src)?"maybe":"")},Flash.rtmpSourceHandler.handleSource=function(source,tech,options){var srcParts=Flash.streamToParts(source.src);tech.setRtmpConnection(srcParts.connection),tech.setRtmpStream(srcParts.stream)},Flash.registerSourceHandler(Flash.rtmpSourceHandler),Flash}exports.__esModule=!0,exports.default=FlashRtmpDecorator},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _clickableComponent,_clickableComponent2=_interopRequireDefault(__webpack_require__(332)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_browser,browser=_interopRequireWildcard(__webpack_require__(283));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PosterImage=function(_ClickableComponent){function PosterImage(player,options){_classCallCheck(this,PosterImage);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.update(),player.on("posterchange",Fn.bind(_this,_this.update)),_this}return _inherits(PosterImage,_ClickableComponent),PosterImage.prototype.dispose=function dispose(){this.player().off("posterchange",this.update),_ClickableComponent.prototype.dispose.call(this)},PosterImage.prototype.createEl=function createEl(){var el=Dom.createEl("div",{className:"vjs-poster",tabIndex:-1});return browser.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=Dom.createEl("img"),el.appendChild(this.fallbackImg_)),el},PosterImage.prototype.update=function update(event){var url=this.player().poster();this.setSrc(url),url?this.show():this.hide()},PosterImage.prototype.setSrc=function setSrc(url){if(this.fallbackImg_)this.fallbackImg_.src=url;else{var backgroundImage="";url&&(backgroundImage='url("'+url+'")'),this.el_.style.backgroundImage=backgroundImage}},PosterImage.prototype.handleClick=function handleClick(event){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},PosterImage}(_clickableComponent2.default);_component2.default.registerComponent("PosterImage",PosterImage),exports.default=PosterImage},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_events,Events=_interopRequireWildcard(__webpack_require__(290)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_obj=__webpack_require__(287);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ClickableComponent=function(_Component){function ClickableComponent(player,options){_classCallCheck(this,ClickableComponent);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.emitTapEvents(),_this.enable(),_this}return _inherits(ClickableComponent,_Component),ClickableComponent.prototype.createEl=function createEl(){var tag=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass(),tabIndex:0},props),"button"===tag&&_log2.default.error("Creating a ClickableComponent with an HTML element of "+tag+" is not supported; use a Button instead."),attributes=(0,_obj.assign)({role:"button","aria-live":"polite"},attributes),this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);return this.createControlTextEl(el),el},ClickableComponent.prototype.createControlTextEl=function createControlTextEl(el){return this.controlTextEl_=Dom.createEl("span",{className:"vjs-control-text"}),el&&el.appendChild(this.controlTextEl_),this.controlText(this.controlText_,el),this.controlTextEl_},ClickableComponent.prototype.controlText=function controlText(text){var el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!text)return this.controlText_||"Need Text";var localizedText=this.localize(text);return this.controlText_=text,this.controlTextEl_.innerHTML=localizedText,this.nonIconControl||el.setAttribute("title",localizedText),this},ClickableComponent.prototype.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this)},ClickableComponent.prototype.enable=function enable(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},ClickableComponent.prototype.disable=function disable(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},ClickableComponent.prototype.handleClick=function handleClick(event){},ClickableComponent.prototype.handleFocus=function handleFocus(event){Events.on(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},ClickableComponent.prototype.handleKeyPress=function handleKeyPress(event){32===event.which||13===event.which?(event.preventDefault(),this.handleClick(event)):_Component.prototype.handleKeyPress&&_Component.prototype.handleKeyPress.call(this,event)},ClickableComponent.prototype.handleBlur=function handleBlur(event){Events.off(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},ClickableComponent}(_component2.default);_component2.default.registerComponent("ClickableComponent",ClickableComponent),exports.default=ClickableComponent},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_window,_window2=_interopRequireDefault(__webpack_require__(280));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(color,opacity){return"rgba("+parseInt(color[1]+color[1],16)+","+parseInt(color[2]+color[2],16)+","+parseInt(color[3]+color[3],16)+","+opacity+")"}function tryUpdateStyle(el,style,rule){try{el.style[style]=rule}catch(e){return}}var TextTrackDisplay=function(_Component){function TextTrackDisplay(player,options,ready){_classCallCheck(this,TextTrackDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));return player.on("loadstart",Fn.bind(_this,_this.toggleDisplay)),player.on("texttrackchange",Fn.bind(_this,_this.updateDisplay)),player.ready(Fn.bind(_this,function(){if(player.tech_&&player.tech_.featuresNativeTextTracks)this.hide();else{player.on("fullscreenchange",Fn.bind(this,this.updateDisplay));for(var tracks=this.options_.playerOptions.tracks||[],i=0;i<tracks.length;i++)this.player_.addRemoteTextTrack(tracks[i],!0);var modes={captions:1,subtitles:1},trackList=this.player_.textTracks(),firstDesc=void 0,firstCaptions=void 0;if(trackList){for(var _i=0;_i<trackList.length;_i++){var track=trackList[_i];track.default&&("descriptions"!==track.kind||firstDesc?track.kind in modes&&!firstCaptions&&(firstCaptions=track):firstDesc=track)}firstCaptions?firstCaptions.mode="showing":firstDesc&&(firstDesc.mode="showing")}}})),_this}return _inherits(TextTrackDisplay,_Component),TextTrackDisplay.prototype.toggleDisplay=function toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},TextTrackDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},TextTrackDisplay.prototype.clearDisplay=function clearDisplay(){"function"==typeof _window2.default.WebVTT&&_window2.default.WebVTT.processCues(_window2.default,[],this.el_)},TextTrackDisplay.prototype.updateDisplay=function updateDisplay(){var tracks=this.player_.textTracks();if(this.clearDisplay(),tracks){for(var descriptionsTrack=null,captionsSubtitlesTrack=null,i=tracks.length;i--;){var track=tracks[i];"showing"===track.mode&&("descriptions"===track.kind?descriptionsTrack=track:captionsSubtitlesTrack=track)}captionsSubtitlesTrack?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(captionsSubtitlesTrack)):descriptionsTrack&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(descriptionsTrack))}},TextTrackDisplay.prototype.updateForTrack=function updateForTrack(track){if("function"==typeof _window2.default.WebVTT&&track.activeCues){for(var overrides=this.player_.textTrackSettings.getValues(),cues=[],_i2=0;_i2<track.activeCues.length;_i2++)cues.push(track.activeCues[_i2]);_window2.default.WebVTT.processCues(_window2.default,cues,this.el_);for(var i=cues.length;i--;){var cue=cues[i];if(cue){var cueDiv=cue.displayState;if(overrides.color&&(cueDiv.firstChild.style.color=overrides.color),overrides.textOpacity&&tryUpdateStyle(cueDiv.firstChild,"color",constructColor(overrides.color||"#fff",overrides.textOpacity)),overrides.backgroundColor&&(cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor),overrides.backgroundOpacity&&tryUpdateStyle(cueDiv.firstChild,"backgroundColor",constructColor(overrides.backgroundColor||"#000",overrides.backgroundOpacity)),overrides.windowColor&&(overrides.windowOpacity?tryUpdateStyle(cueDiv,"backgroundColor",constructColor(overrides.windowColor,overrides.windowOpacity)):cueDiv.style.backgroundColor=overrides.windowColor),overrides.edgeStyle&&("dropshadow"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===overrides.edgeStyle&&(cueDiv.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),overrides.fontPercent&&1!==overrides.fontPercent){var fontSize=_window2.default.parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+"px",cueDiv.style.height="auto",cueDiv.style.top="auto",cueDiv.style.bottom="2px"}overrides.fontFamily&&"default"!==overrides.fontFamily&&("small-caps"===overrides.fontFamily?cueDiv.firstChild.style.fontVariant="small-caps":cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily])}}}},TextTrackDisplay}(_component2.default);_component2.default.registerComponent("TextTrackDisplay",TextTrackDisplay),exports.default=TextTrackDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LoadingSpinner=function(_Component){function LoadingSpinner(){return _classCallCheck(this,LoadingSpinner),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(LoadingSpinner,_Component),LoadingSpinner.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},LoadingSpinner}(_component2.default);_component2.default.registerComponent("LoadingSpinner",LoadingSpinner),exports.default=LoadingSpinner},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _button,_button2=_interopRequireDefault(__webpack_require__(336)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var BigPlayButton=function(_Button){function BigPlayButton(player,options){_classCallCheck(this,BigPlayButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.mouseused_=!1,_this.on("mousedown",_this.handleMouseDown),_this}return _inherits(BigPlayButton,_Button),BigPlayButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-big-play-button"},BigPlayButton.prototype.handleClick=function handleClick(event){var playPromise=this.player_.play();if(!(this.mouseused_&&event.clientX&&event.clientY)){var cb=this.player_.getChild("controlBar"),playToggle=cb&&cb.getChild("playToggle");if(playToggle){var playFocus=function playFocus(){return playToggle.focus()};if(playPromise&&playPromise.then){var ignoreRejectedPlayPromise=function ignoreRejectedPlayPromise(){};playPromise.then(playFocus,ignoreRejectedPlayPromise)}else this.setTimeout(playFocus,1)}else this.player_.focus()}},BigPlayButton.prototype.handleKeyPress=function handleKeyPress(event){this.mouseused_=!1,_Button.prototype.handleKeyPress.call(this,event)},BigPlayButton.prototype.handleMouseDown=function handleMouseDown(event){this.mouseused_=!0},BigPlayButton}(_button2.default);BigPlayButton.prototype.controlText_="Play Video",_component2.default.registerComponent("BigPlayButton",BigPlayButton),exports.default=BigPlayButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _clickableComponent,_clickableComponent2=_interopRequireDefault(__webpack_require__(332)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_obj=__webpack_require__(287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Button=function(_ClickableComponent){function Button(){return _classCallCheck(this,Button),_possibleConstructorReturn(this,_ClickableComponent.apply(this,arguments))}return _inherits(Button,_ClickableComponent),Button.prototype.createEl=function createEl(){var tag=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass()},props),"button"!==tag&&(_log2.default.warn("Creating a Button with an HTML element of "+tag+" is deprecated; use ClickableComponent instead."),props=(0,_obj.assign)({tabIndex:0},props),attributes=(0,_obj.assign)({role:"button"},attributes)),attributes=(0,_obj.assign)({type:"button","aria-live":"polite"},attributes);var el=_component2.default.prototype.createEl.call(this,tag,props,attributes);return this.createControlTextEl(el),el},Button.prototype.addChild=function addChild(child){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},className=this.constructor.name;return _log2.default.warn("Adding an actionable (user controllable) child to a Button ("+className+") is not supported; use a ClickableComponent instead."),_component2.default.prototype.addChild.call(this,child,options)},Button.prototype.enable=function enable(){_ClickableComponent.prototype.enable.call(this),this.el_.removeAttribute("disabled")},Button.prototype.disable=function disable(){_ClickableComponent.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},Button.prototype.handleKeyPress=function handleKeyPress(event){32!==event.which&&13!==event.which&&_ClickableComponent.prototype.handleKeyPress.call(this,event)},Button}(_clickableComponent2.default);_component2.default.registerComponent("Button",Button),exports.default=Button},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _button,_button2=_interopRequireDefault(__webpack_require__(336)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CloseButton=function(_Button){function CloseButton(player,options){_classCallCheck(this,CloseButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.controlText(options&&options.controlText||_this.localize("Close")),_this}return _inherits(CloseButton,_Button),CloseButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+_Button.prototype.buildCSSClass.call(this)},CloseButton.prototype.handleClick=function handleClick(event){this.trigger({type:"close",bubbles:!1})},CloseButton}(_button2.default);_component2.default.registerComponent("CloseButton",CloseButton),exports.default=CloseButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(339),__webpack_require__(340),__webpack_require__(342),__webpack_require__(343),__webpack_require__(344),__webpack_require__(345),__webpack_require__(346),__webpack_require__(354),__webpack_require__(355),__webpack_require__(358),__webpack_require__(361),__webpack_require__(362),__webpack_require__(371),__webpack_require__(372),__webpack_require__(373),__webpack_require__(375),__webpack_require__(377),__webpack_require__(379);var ControlBar=function(_Component){function ControlBar(){return _classCallCheck(this,ControlBar),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(ControlBar,_Component),ControlBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},ControlBar}(_component2.default);ControlBar.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},_component2.default.registerComponent("ControlBar",ControlBar),exports.default=ControlBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _button,_button2=_interopRequireDefault(__webpack_require__(336)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PlayToggle=function(_Button){function PlayToggle(player,options){_classCallCheck(this,PlayToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.on(player,"play",_this.handlePlay),_this.on(player,"pause",_this.handlePause),_this}return _inherits(PlayToggle,_Button),PlayToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+_Button.prototype.buildCSSClass.call(this)},PlayToggle.prototype.handleClick=function handleClick(event){this.player_.paused()?this.player_.play():this.player_.pause()},PlayToggle.prototype.handlePlay=function handlePlay(event){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},PlayToggle.prototype.handlePause=function handlePause(event){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},PlayToggle}(_button2.default);PlayToggle.prototype.controlText_="Play",_component2.default.registerComponent("PlayToggle",PlayToggle),exports.default=PlayToggle},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CurrentTimeDisplay=function(_Component){function CurrentTimeDisplay(player,options){_classCallCheck(this,CurrentTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"timeupdate",_this.updateContent),_this}return _inherits(CurrentTimeDisplay,_Component),CurrentTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},CurrentTimeDisplay.prototype.updateContent=function updateContent(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),localizedText=this.localize("Current Time"),formattedTime=(0,_formatTime2.default)(time,this.player_.duration());formattedTime!==this.formattedTime_&&(this.formattedTime_=formattedTime,this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime)},CurrentTimeDisplay}(_component2.default);_component2.default.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay),exports.default=CurrentTimeDisplay},function(module,exports){"use strict";function formatTime(seconds){var guide=arguments.length>1&&void 0!==arguments[1]?arguments[1]:seconds;seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);return(isNaN(seconds)||seconds===1/0)&&(h=m=s="-"),(h=h>0||gh>0?h+":":"")+(m=((h||gm>=10)&&m<10?"0"+m:m)+":")+(s=s<10?"0"+s:s)}exports.__esModule=!0,exports.default=formatTime},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DurationDisplay=function(_Component){function DurationDisplay(player,options){_classCallCheck(this,DurationDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"durationchange",_this.updateContent),_this.on(player,"timeupdate",_this.updateContent),_this.on(player,"loadedmetadata",_this.updateContent),_this}return _inherits(DurationDisplay,_Component),DurationDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},DurationDisplay.prototype.updateContent=function updateContent(event){var duration=this.player_.duration();if(duration&&this.duration_!==duration){this.duration_=duration;var localizedText=this.localize("Duration Time"),formattedTime=(0,_formatTime2.default)(duration);this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime}},DurationDisplay}(_component2.default);_component2.default.registerComponent("DurationDisplay",DurationDisplay),exports.default=DurationDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TimeDivider=function(_Component){function TimeDivider(){return _classCallCheck(this,TimeDivider),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(TimeDivider,_Component),TimeDivider.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},TimeDivider}(_component2.default);_component2.default.registerComponent("TimeDivider",TimeDivider),exports.default=TimeDivider},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var RemainingTimeDisplay=function(_Component){function RemainingTimeDisplay(player,options){_classCallCheck(this,RemainingTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"timeupdate",_this.updateContent),_this.on(player,"durationchange",_this.updateContent),_this}return _inherits(RemainingTimeDisplay,_Component),RemainingTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},RemainingTimeDisplay.prototype.updateContent=function updateContent(event){if(this.player_.duration()){var localizedText=this.localize("Remaining Time"),formattedTime=(0,_formatTime2.default)(this.player_.remainingTime());formattedTime!==this.formattedTime_&&(this.formattedTime_=formattedTime,this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> -"+formattedTime)}},RemainingTimeDisplay}(_component2.default);_component2.default.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay),exports.default=RemainingTimeDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LiveDisplay=function(_Component){function LiveDisplay(player,options){_classCallCheck(this,LiveDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.updateShowing(),_this.on(_this.player(),"durationchange",_this.updateShowing),_this}return _inherits(LiveDisplay,_Component),LiveDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},LiveDisplay.prototype.updateShowing=function updateShowing(event){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(_component2.default);_component2.default.registerComponent("LiveDisplay",LiveDisplay),exports.default=LiveDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(347),__webpack_require__(353);var ProgressControl=function(_Component){function ProgressControl(){return _classCallCheck(this,ProgressControl),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(ProgressControl,_Component),ProgressControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},ProgressControl}(_component2.default);ProgressControl.prototype.options_={children:["seekBar"]},_component2.default.registerComponent("ProgressControl",ProgressControl),exports.default=ProgressControl},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _slider,_slider2=_interopRequireDefault(__webpack_require__(348)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341)),_computedStyle,_computedStyle2=_interopRequireDefault(__webpack_require__(349));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(350),__webpack_require__(351),__webpack_require__(352);var SeekBar=function(_Slider){function SeekBar(player,options){_classCallCheck(this,SeekBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));return _this.on(player,"timeupdate",_this.updateProgress),_this.on(player,"ended",_this.updateProgress),player.ready(Fn.bind(_this,_this.updateProgress)),options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside&&(_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside),_this.keepTooltipsInside&&(_this.tooltipProgressBar=_this.addChild("TooltipProgressBar")),_this}return _inherits(SeekBar,_Slider),SeekBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},SeekBar.prototype.updateProgress=function updateProgress(event){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var playerWidth=parseFloat((0,_computedStyle2.default)(this.player().el(),"width")),tooltipWidth=parseFloat((0,_computedStyle2.default)(this.tooltipProgressBar.tooltip,"width")),tooltipStyle=this.tooltipProgressBar.el().style;tooltipStyle.maxWidth=Math.floor(playerWidth-tooltipWidth/2)+"px",tooltipStyle.minWidth=Math.ceil(tooltipWidth/2)+"px",tooltipStyle.right="-"+tooltipWidth/2+"px"}},SeekBar.prototype.updateAriaAttributes=function updateAriaAttributes(el){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();el.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),el.setAttribute("aria-valuetext",(0,_formatTime2.default)(time,this.player_.duration()))},SeekBar.prototype.getPercent=function getPercent(){var percent=this.player_.currentTime()/this.player_.duration();return percent>=1?1:percent},SeekBar.prototype.handleMouseDown=function handleMouseDown(event){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),_Slider.prototype.handleMouseDown.call(this,event)},SeekBar.prototype.handleMouseMove=function handleMouseMove(event){var newTime=this.calculateDistance(event)*this.player_.duration();newTime===this.player_.duration()&&(newTime-=.1),this.player_.currentTime(newTime)},SeekBar.prototype.handleMouseUp=function handleMouseUp(event){_Slider.prototype.handleMouseUp.call(this,event),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},SeekBar.prototype.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+5)},SeekBar.prototype.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-5)},SeekBar}(_slider2.default);SeekBar.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},SeekBar.prototype.playerEvent="timeupdate",_component2.default.registerComponent("SeekBar",SeekBar),exports.default=SeekBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_obj=__webpack_require__(287);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Slider=function(_Component){function Slider(player,options){_classCallCheck(this,Slider);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.bar=_this.getChild(_this.options_.barName),_this.vertical(!!_this.options_.vertical),_this.on("mousedown",_this.handleMouseDown),_this.on("touchstart",_this.handleMouseDown),_this.on("focus",_this.handleFocus),_this.on("blur",_this.handleBlur),_this.on("click",_this.handleClick),_this.on(player,"controlsvisible",_this.update),_this.on(player,_this.playerEvent,_this.update),_this}return _inherits(Slider,_Component),Slider.prototype.createEl=function createEl(type){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return props.className=props.className+" vjs-slider",props=(0,_obj.assign)({tabIndex:0},props),attributes=(0,_obj.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attributes),_Component.prototype.createEl.call(this,type,props,attributes)},Slider.prototype.handleMouseDown=function handleMouseDown(event){var doc=this.bar.el_.ownerDocument;event.preventDefault(),Dom.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(doc,"mousemove",this.handleMouseMove),this.on(doc,"mouseup",this.handleMouseUp),this.on(doc,"touchmove",this.handleMouseMove),this.on(doc,"touchend",this.handleMouseUp),this.handleMouseMove(event)},Slider.prototype.handleMouseMove=function handleMouseMove(event){},Slider.prototype.handleMouseUp=function handleMouseUp(){var doc=this.bar.el_.ownerDocument;Dom.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(doc,"mousemove",this.handleMouseMove),this.off(doc,"mouseup",this.handleMouseUp),this.off(doc,"touchmove",this.handleMouseMove),this.off(doc,"touchend",this.handleMouseUp),this.update()},Slider.prototype.update=function update(){if(this.el_){var progress=this.getPercent(),bar=this.bar;if(bar){("number"!=typeof progress||progress!=progress||progress<0||progress===1/0)&&(progress=0);var percentage=(100*progress).toFixed(2)+"%";this.vertical()?bar.el().style.height=percentage:bar.el().style.width=percentage}}},Slider.prototype.calculateDistance=function calculateDistance(event){var position=Dom.getPointerPosition(this.el_,event);return this.vertical()?position.y:position.x},Slider.prototype.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleKeyPress=function handleKeyPress(event){37===event.which||40===event.which?(event.preventDefault(),this.stepBack()):38!==event.which&&39!==event.which||(event.preventDefault(),this.stepForward())},Slider.prototype.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleClick=function handleClick(event){event.stopImmediatePropagation(),event.preventDefault()},Slider.prototype.vertical=function vertical(bool){return void 0===bool?this.vertical_||!1:(this.vertical_=!!bool,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},Slider}(_component2.default);_component2.default.registerComponent("Slider",Slider),exports.default=Slider},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=computedStyle;var _window,_window2=_interopRequireDefault(__webpack_require__(280));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function computedStyle(el,prop){if(!el||!prop)return"";if("function"==typeof _window2.default.getComputedStyle){var cs=_window2.default.getComputedStyle(el);return cs?cs[prop]:""}return el.currentStyle[prop]||""}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LoadProgressBar=function(_Component){function LoadProgressBar(player,options){_classCallCheck(this,LoadProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.partEls_=[],_this.on(player,"progress",_this.update),_this}return _inherits(LoadProgressBar,_Component),LoadProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},LoadProgressBar.prototype.update=function update(event){var buffered=this.player_.buffered(),duration=this.player_.duration(),bufferedEnd=this.player_.bufferedEnd(),children=this.partEls_,percentify=function percentify(time,end){var percent=time/end||0;return 100*(percent>=1?1:percent)+"%"};this.el_.style.width=percentify(bufferedEnd,duration);for(var i=0;i<buffered.length;i++){var start=buffered.start(i),end=buffered.end(i),part=children[i];part||(part=this.el_.appendChild(Dom.createEl()),children[i]=part),part.style.left=percentify(start,bufferedEnd),part.style.width=percentify(end-start,bufferedEnd)}for(var _i=children.length;_i>buffered.length;_i--)this.el_.removeChild(children[_i-1]);children.length=buffered.length},LoadProgressBar}(_component2.default);_component2.default.registerComponent("LoadProgressBar",LoadProgressBar),exports.default=LoadProgressBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PlayProgressBar=function(_Component){function PlayProgressBar(player,options){_classCallCheck(this,PlayProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.updateDataAttr(),_this.on(player,"timeupdate",_this.updateDataAttr),player.ready(Fn.bind(_this,_this.updateDataAttr)),options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside&&(_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside),_this.keepTooltipsInside&&_this.addClass("vjs-keep-tooltips-inside"),_this}return _inherits(PlayProgressBar,_Component),PlayProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},PlayProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,_formatTime2.default)(time,this.player_.duration()))},PlayProgressBar}(_component2.default);_component2.default.registerComponent("PlayProgressBar",PlayProgressBar),exports.default=PlayProgressBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TooltipProgressBar=function(_Component){function TooltipProgressBar(player,options){_classCallCheck(this,TooltipProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.updateDataAttr(),_this.on(player,"timeupdate",_this.updateDataAttr),player.ready(Fn.bind(_this,_this.updateDataAttr)),_this}return _inherits(TooltipProgressBar,_Component),TooltipProgressBar.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=el.querySelector(".vjs-time-tooltip"),el},TooltipProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),formattedTime=(0,_formatTime2.default)(time,this.player_.duration());this.el_.setAttribute("data-current-time",formattedTime),this.tooltip.innerHTML=formattedTime},TooltipProgressBar}(_component2.default);_component2.default.registerComponent("TooltipProgressBar",TooltipProgressBar),exports.default=TooltipProgressBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_formatTime,_formatTime2=_interopRequireDefault(__webpack_require__(341)),_computedStyle,_computedStyle2=_interopRequireDefault(__webpack_require__(349));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MouseTimeDisplay=function(_Component){function MouseTimeDisplay(player,options){_classCallCheck(this,MouseTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside&&(_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside),_this.keepTooltipsInside&&(_this.tooltip=Dom.createEl("div",{className:"vjs-time-tooltip"}),_this.el().appendChild(_this.tooltip),_this.addClass("vjs-keep-tooltips-inside")),_this.update(0,0),player.on("ready",function(){_this.on(player.controlBar.progressControl.el(),"mousemove",Fn.throttle(Fn.bind(_this,_this.handleMouseMove),25))}),_this}return _inherits(MouseTimeDisplay,_Component),MouseTimeDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},MouseTimeDisplay.prototype.handleMouseMove=function handleMouseMove(event){var duration=this.player_.duration(),newTime=this.calculateDistance(event)*duration,position=event.pageX-Dom.findElPosition(this.el().parentNode).left;this.update(newTime,position)},MouseTimeDisplay.prototype.update=function update(newTime,position){var time=(0,_formatTime2.default)(newTime,this.player_.duration());if(this.el().style.left=position+"px",this.el().setAttribute("data-current-time",time),this.keepTooltipsInside){var clampedPosition,difference=position-this.clampPosition_(position)+1,tooltipWidth,tooltipWidthHalf=parseFloat((0,_computedStyle2.default)(this.tooltip,"width"))/2;this.tooltip.innerHTML=time,this.tooltip.style.right="-"+(tooltipWidthHalf-difference)+"px"}},MouseTimeDisplay.prototype.calculateDistance=function calculateDistance(event){return Dom.getPointerPosition(this.el().parentNode,event).x},MouseTimeDisplay.prototype.clampPosition_=function clampPosition_(position){if(!this.keepTooltipsInside)return position;var playerWidth=parseFloat((0,_computedStyle2.default)(this.player().el(),"width")),tooltipWidth,tooltipWidthHalf=parseFloat((0,_computedStyle2.default)(this.tooltip,"width"))/2,actualPosition=position;return position<tooltipWidthHalf?actualPosition=Math.ceil(tooltipWidthHalf):position>playerWidth-tooltipWidthHalf&&(actualPosition=Math.floor(playerWidth-tooltipWidthHalf)),actualPosition},MouseTimeDisplay}(_component2.default);_component2.default.registerComponent("MouseTimeDisplay",MouseTimeDisplay),exports.default=MouseTimeDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _button,_button2=_interopRequireDefault(__webpack_require__(336)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FullscreenToggle=function(_Button){function FullscreenToggle(player,options){_classCallCheck(this,FullscreenToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.on(player,"fullscreenchange",_this.handleFullscreenChange),_this}return _inherits(FullscreenToggle,_Button),FullscreenToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+_Button.prototype.buildCSSClass.call(this)},FullscreenToggle.prototype.handleFullscreenChange=function handleFullscreenChange(event){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},FullscreenToggle.prototype.handleClick=function handleClick(event){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(_button2.default);FullscreenToggle.prototype.controlText_="Fullscreen",_component2.default.registerComponent("FullscreenToggle",FullscreenToggle),exports.default=FullscreenToggle},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(356);var VolumeControl=function(_Component){function VolumeControl(player,options){_classCallCheck(this,VolumeControl);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return player.tech_&&!1===player.tech_.featuresVolumeControl&&_this.addClass("vjs-hidden"),_this.on(player,"loadstart",function(){!1===player.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),_this}return _inherits(VolumeControl,_Component),VolumeControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},VolumeControl}(_component2.default);VolumeControl.prototype.options_={children:["volumeBar"]},_component2.default.registerComponent("VolumeControl",VolumeControl),exports.default=VolumeControl},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _slider,_slider2=_interopRequireDefault(__webpack_require__(348)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(357);var VolumeBar=function(_Slider){function VolumeBar(player,options){_classCallCheck(this,VolumeBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));return _this.on(player,"volumechange",_this.updateARIAAttributes),player.ready(Fn.bind(_this,_this.updateARIAAttributes)),_this}return _inherits(VolumeBar,_Slider),VolumeBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},VolumeBar.prototype.handleMouseMove=function handleMouseMove(event){this.checkMuted(),this.player_.volume(this.calculateDistance(event))},VolumeBar.prototype.checkMuted=function checkMuted(){this.player_.muted()&&this.player_.muted(!1)},VolumeBar.prototype.getPercent=function getPercent(){return this.player_.muted()?0:this.player_.volume()},VolumeBar.prototype.stepForward=function stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},VolumeBar.prototype.stepBack=function stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},VolumeBar.prototype.updateARIAAttributes=function updateARIAAttributes(event){var volume=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",volume),this.el_.setAttribute("aria-valuetext",volume+"%")},VolumeBar}(_slider2.default);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},VolumeBar.prototype.playerEvent="volumechange",_component2.default.registerComponent("VolumeBar",VolumeBar),exports.default=VolumeBar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var VolumeLevel=function(_Component){function VolumeLevel(){return _classCallCheck(this,VolumeLevel),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(VolumeLevel,_Component),VolumeLevel.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},VolumeLevel}(_component2.default);_component2.default.registerComponent("VolumeLevel",VolumeLevel),exports.default=VolumeLevel},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_popup,_popup2=_interopRequireDefault(__webpack_require__(359)),_popupButton,_popupButton2=_interopRequireDefault(__webpack_require__(360)),_muteToggle,_muteToggle2=_interopRequireDefault(__webpack_require__(361)),_volumeBar,_volumeBar2=_interopRequireDefault(__webpack_require__(356));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var VolumeMenuButton=function(_PopupButton){function VolumeMenuButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,VolumeMenuButton),void 0===options.inline&&(options.inline=!0),void 0===options.vertical&&(options.inline?options.vertical=!1:options.vertical=!0),options.volumeBar=options.volumeBar||{},options.volumeBar.vertical=!!options.vertical;var _this=_possibleConstructorReturn(this,_PopupButton.call(this,player,options));function updateVisibility(){player.tech_&&!1===player.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return _this.on(player,"volumechange",_this.volumeUpdate),_this.on(player,"loadstart",_this.volumeUpdate),updateVisibility.call(_this),_this.on(player,"loadstart",updateVisibility),_this.on(_this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),_this.on(_this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),_this.on(_this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),_this.on(_this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),_this}return _inherits(VolumeMenuButton,_PopupButton),VolumeMenuButton.prototype.buildCSSClass=function buildCSSClass(){var orientationClass="";return orientationClass=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+_PopupButton.prototype.buildCSSClass.call(this)+" "+orientationClass},VolumeMenuButton.prototype.createPopup=function createPopup(){var popup=new _popup2.default(this.player_,{contentElType:"div"}),vb=new _volumeBar2.default(this.player_,this.options_.volumeBar);return popup.addChild(vb),this.menuContent=popup,this.volumeBar=vb,this.attachVolumeBarEvents(),popup},VolumeMenuButton.prototype.handleClick=function handleClick(event){_muteToggle2.default.prototype.handleClick.call(this),_PopupButton.prototype.handleClick.call(this)},VolumeMenuButton.prototype.attachVolumeBarEvents=function attachVolumeBarEvents(){this.menuContent.on(["mousedown","touchdown"],Fn.bind(this,this.handleMouseDown))},VolumeMenuButton.prototype.handleMouseDown=function handleMouseDown(event){this.on(["mousemove","touchmove"],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},VolumeMenuButton.prototype.handleMouseUp=function handleMouseUp(event){this.off(["mousemove","touchmove"],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove))},VolumeMenuButton}(_popupButton2.default);VolumeMenuButton.prototype.volumeUpdate=_muteToggle2.default.prototype.update,VolumeMenuButton.prototype.controlText_="Mute",_component2.default.registerComponent("VolumeMenuButton",VolumeMenuButton),exports.default=VolumeMenuButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_events,Events=_interopRequireWildcard(__webpack_require__(290));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Popup=function(_Component){function Popup(){return _classCallCheck(this,Popup),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(Popup,_Component),Popup.prototype.addItem=function addItem(component){this.addChild(component),component.on("click",Fn.bind(this,function(){this.unlockShowing()}))},Popup.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||"ul";this.contentEl_=Dom.createEl(contentElType,{className:"vjs-menu-content"});var el=_Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return el.appendChild(this.contentEl_),Events.on(el,"click",function(event){event.preventDefault(),event.stopImmediatePropagation()}),el},Popup}(_component2.default);_component2.default.registerComponent("Popup",Popup),exports.default=Popup},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _clickableComponent,_clickableComponent2=_interopRequireDefault(__webpack_require__(332)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PopupButton=function(_ClickableComponent){function PopupButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,PopupButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.update(),_this}return _inherits(PopupButton,_ClickableComponent),PopupButton.prototype.update=function update(){var popup=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=popup,this.addChild(popup),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},PopupButton.prototype.createPopup=function createPopup(){},PopupButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},PopupButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass="vjs-menu-button";return!0===this.options_.inline?menuButtonClass+="-inline":menuButtonClass+="-popup","vjs-menu-button "+menuButtonClass+" "+_ClickableComponent.prototype.buildCSSClass.call(this)},PopupButton}(_clickableComponent2.default);_component2.default.registerComponent("PopupButton",PopupButton),exports.default=PopupButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _button,_button2=_interopRequireDefault(__webpack_require__(336)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MuteToggle=function(_Button){function MuteToggle(player,options){_classCallCheck(this,MuteToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.on(player,"volumechange",_this.update),player.tech_&&!1===player.tech_.featuresVolumeControl&&_this.addClass("vjs-hidden"),_this.on(player,"loadstart",function(){this.update(),!1===player.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),_this}return _inherits(MuteToggle,_Button),MuteToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+_Button.prototype.buildCSSClass.call(this)},MuteToggle.prototype.handleClick=function handleClick(event){this.player_.muted(!this.player_.muted())},MuteToggle.prototype.update=function update(event){var vol=this.player_.volume(),level=3;this.player_.muted()?level=0:vol<.33?level=1:vol<.67&&(level=2);var toMute=this.player_.muted()?"Unmute":"Mute";this.controlText()!==toMute&&this.controlText(toMute);for(var i=0;i<4;i++)Dom.removeElClass(this.el_,"vjs-vol-"+i);Dom.addElClass(this.el_,"vjs-vol-"+level)},MuteToggle}(_button2.default);MuteToggle.prototype.controlText_="Mute",_component2.default.registerComponent("MuteToggle",MuteToggle),exports.default=MuteToggle},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackButton,_textTrackButton2=_interopRequireDefault(__webpack_require__(363)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_chaptersTrackMenuItem,_chaptersTrackMenuItem2=_interopRequireDefault(__webpack_require__(370)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ChaptersButton=function(_TextTrackButton){function ChaptersButton(player,options,ready){_classCallCheck(this,ChaptersButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));return _this.el_.setAttribute("aria-label","Chapters Menu"),_this}return _inherits(ChaptersButton,_TextTrackButton),ChaptersButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},ChaptersButton.prototype.update=function update(event){this.track_&&(!event||"addtrack"!==event.type&&"removetrack"!==event.type)||this.setTrack(this.findChaptersTrack()),_TextTrackButton.prototype.update.call(this)},ChaptersButton.prototype.setTrack=function setTrack(track){if(this.track_!==track){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);remoteTextTrackEl&&remoteTextTrackEl.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=track,this.track_){this.track_.mode="hidden";var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);_remoteTextTrackEl&&_remoteTextTrackEl.addEventListener("load",this.updateHandler_)}}},ChaptersButton.prototype.findChaptersTrack=function findChaptersTrack(){for(var tracks=this.player_.textTracks()||[],i=tracks.length-1;i>=0;i--){var track=tracks[i];if(track.kind===this.kind_)return track}},ChaptersButton.prototype.getMenuCaption=function getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,_toTitleCase2.default)(this.kind_))},ChaptersButton.prototype.createMenu=function createMenu(){return this.options_.title=this.getMenuCaption(),_TextTrackButton.prototype.createMenu.call(this)},ChaptersButton.prototype.createItems=function createItems(){var items=[];if(!this.track_)return items;var cues=this.track_.cues;if(!cues)return items;for(var i=0,l=cues.length;i<l;i++){var cue=cues[i],mi=new _chaptersTrackMenuItem2.default(this.player_,{track:this.track_,cue:cue});items.push(mi)}return items},ChaptersButton}(_textTrackButton2.default);ChaptersButton.prototype.kind_="chapters",ChaptersButton.prototype.controlText_="Chapters",_component2.default.registerComponent("ChaptersButton",ChaptersButton),exports.default=ChaptersButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackButton,_trackButton2=_interopRequireDefault(__webpack_require__(364)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_textTrackMenuItem,_textTrackMenuItem2=_interopRequireDefault(__webpack_require__(367)),_offTextTrackMenuItem,_offTextTrackMenuItem2=_interopRequireDefault(__webpack_require__(369));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TextTrackButton=function(_TrackButton){function TextTrackButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,TextTrackButton),options.tracks=player.textTracks(),_possibleConstructorReturn(this,_TrackButton.call(this,player,options))}return _inherits(TextTrackButton,_TrackButton),TextTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];items.push(new _offTextTrackMenuItem2.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var tracks=this.player_.textTracks();if(!tracks)return items;for(var i=0;i<tracks.length;i++){var track=tracks[i];track.kind===this.kind_&&items.push(new _textTrackMenuItem2.default(this.player_,{track:track,selectable:!0}))}return items},TextTrackButton}(_trackButton2.default);_component2.default.registerComponent("TextTrackButton",TextTrackButton),exports.default=TextTrackButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _menuButton,_menuButton2=_interopRequireDefault(__webpack_require__(365)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TrackButton=function(_MenuButton){function TrackButton(player,options){_classCallCheck(this,TrackButton);var tracks=options.tracks,_this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));if(_this.items.length<=1&&_this.hide(),!tracks)return _possibleConstructorReturn(_this);var updateHandler=Fn.bind(_this,_this.update);return tracks.addEventListener("removetrack",updateHandler),tracks.addEventListener("addtrack",updateHandler),_this.player_.on("dispose",function(){tracks.removeEventListener("removetrack",updateHandler),tracks.removeEventListener("addtrack",updateHandler)}),_this}return _inherits(TrackButton,_MenuButton),TrackButton}(_menuButton2.default);_component2.default.registerComponent("TrackButton",TrackButton),exports.default=TrackButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _clickableComponent,_clickableComponent2=_interopRequireDefault(__webpack_require__(332)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_menu,_menu2=_interopRequireDefault(__webpack_require__(366)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MenuButton=function(_ClickableComponent){function MenuButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,MenuButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.update(),_this.enabled_=!0,_this.el_.setAttribute("aria-haspopup","true"),_this.el_.setAttribute("role","menuitem"),_this.on("keydown",_this.handleSubmenuKeyPress),_this}return _inherits(MenuButton,_ClickableComponent),MenuButton.prototype.update=function update(){var menu=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=menu,this.addChild(menu),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},MenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2.default(this.player_);if(this.hideThreshold_=0,this.options_.title){var title=Dom.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_toTitleCase2.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,menu.children_.unshift(title),Dom.insertElFirst(title,menu.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)menu.addItem(this.items[i]);return menu},MenuButton.prototype.createItems=function createItems(){},MenuButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},MenuButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass="vjs-menu-button";return!0===this.options_.inline?menuButtonClass+="-inline":menuButtonClass+="-popup","vjs-menu-button "+menuButtonClass+" "+_ClickableComponent.prototype.buildCSSClass.call(this)},MenuButton.prototype.handleClick=function handleClick(event){this.one(this.menu.contentEl(),"mouseleave",Fn.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},MenuButton.prototype.handleKeyPress=function handleKeyPress(event){27===event.which||9===event.which?(this.buttonPressed_&&this.unpressButton(),9!==event.which&&event.preventDefault()):38===event.which||40===event.which?this.buttonPressed_||(this.pressButton(),event.preventDefault()):_ClickableComponent.prototype.handleKeyPress.call(this,event)},MenuButton.prototype.handleSubmenuKeyPress=function handleSubmenuKeyPress(event){27!==event.which&&9!==event.which||(this.buttonPressed_&&this.unpressButton(),9!==event.which&&event.preventDefault())},MenuButton.prototype.pressButton=function pressButton(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},MenuButton.prototype.unpressButton=function unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},MenuButton.prototype.disable=function disable(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,_ClickableComponent.prototype.disable.call(this)},MenuButton.prototype.enable=function enable(){return this.enabled_=!0,_ClickableComponent.prototype.enable.call(this)},MenuButton}(_clickableComponent2.default);_component2.default.registerComponent("MenuButton",MenuButton),exports.default=MenuButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_events,Events=_interopRequireWildcard(__webpack_require__(290));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Menu=function(_Component){function Menu(player,options){_classCallCheck(this,Menu);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.focusedChild_=-1,_this.on("keydown",_this.handleKeyPress),_this}return _inherits(Menu,_Component),Menu.prototype.addItem=function addItem(component){this.addChild(component),component.on("click",Fn.bind(this,function(event){this.unlockShowing()}))},Menu.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||"ul";this.contentEl_=Dom.createEl(contentElType,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var el=_Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return el.setAttribute("role","presentation"),el.appendChild(this.contentEl_),Events.on(el,"click",function(event){event.preventDefault(),event.stopImmediatePropagation()}),el},Menu.prototype.handleKeyPress=function handleKeyPress(event){37===event.which||40===event.which?(event.preventDefault(),this.stepForward()):38!==event.which&&39!==event.which||(event.preventDefault(),this.stepBack())},Menu.prototype.stepForward=function stepForward(){var stepChild=0;void 0!==this.focusedChild_&&(stepChild=this.focusedChild_+1),this.focus(stepChild)},Menu.prototype.stepBack=function stepBack(){var stepChild=0;void 0!==this.focusedChild_&&(stepChild=this.focusedChild_-1),this.focus(stepChild)},Menu.prototype.focus=function focus(){var item=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,children=this.children().slice(),haveTitle;children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className)&&children.shift(),children.length>0&&(item<0?item=0:item>=children.length&&(item=children.length-1),this.focusedChild_=item,children[item].el_.focus())},Menu}(_component2.default);_component2.default.registerComponent("Menu",Menu),exports.default=Menu},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_menuItem,_menuItem2=_interopRequireDefault(__webpack_require__(368)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_document,_document2=_interopRequireDefault(__webpack_require__(281));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TextTrackMenuItem=function(_MenuItem){function TextTrackMenuItem(player,options){_classCallCheck(this,TextTrackMenuItem);var track=options.track,tracks=player.textTracks();options.label=track.label||track.language||"Unknown",options.selected=track.default||"showing"===track.mode;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));if(_this.track=track,tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);player.on(["loadstart","texttrackchange"],changeHandler),tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)})}if(tracks&&void 0===tracks.onchange){var event=void 0;_this.on(["tap","click"],function(){if("object"!==_typeof(_window2.default.Event))try{event=new _window2.default.Event("change")}catch(err){}event||(event=_document2.default.createEvent("Event")).initEvent("change",!0,!0),tracks.dispatchEvent(event)})}return _this}return _inherits(TextTrackMenuItem,_MenuItem),TextTrackMenuItem.prototype.handleClick=function handleClick(event){var kind=this.track.kind,tracks=this.player_.textTracks();if(_MenuItem.prototype.handleClick.call(this,event),tracks)for(var i=0;i<tracks.length;i++){var track=tracks[i];track.kind===kind&&(track===this.track?"showing"!==track.mode&&(track.mode="showing"):"disabled"!==track.mode&&(track.mode="disabled"))}},TextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected("showing"===this.track.mode)},TextTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("TextTrackMenuItem",TextTrackMenuItem),exports.default=TextTrackMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _clickableComponent,_clickableComponent2=_interopRequireDefault(__webpack_require__(332)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_obj=__webpack_require__(287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MenuItem=function(_ClickableComponent){function MenuItem(player,options){_classCallCheck(this,MenuItem);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.selectable=options.selectable,_this.selected(options.selected),_this.selectable?_this.el_.setAttribute("role","menuitemcheckbox"):_this.el_.setAttribute("role","menuitem"),_this}return _inherits(MenuItem,_ClickableComponent),MenuItem.prototype.createEl=function createEl(type,props,attrs){return this.nonIconControl=!0,_ClickableComponent.prototype.createEl.call(this,"li",(0,_obj.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},props),attrs)},MenuItem.prototype.handleClick=function handleClick(event){this.selected(!0)},MenuItem.prototype.selected=function selected(_selected){this.selectable&&(_selected?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},MenuItem}(_clickableComponent2.default);_component2.default.registerComponent("MenuItem",MenuItem),exports.default=MenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackMenuItem,_textTrackMenuItem2=_interopRequireDefault(__webpack_require__(367)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var OffTextTrackMenuItem=function(_TextTrackMenuItem){function OffTextTrackMenuItem(player,options){_classCallCheck(this,OffTextTrackMenuItem),options.track={player:player,kind:options.kind,label:options.kind+" off",default:!1,mode:"disabled"},options.selectable=!0;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));return _this.selected(!0),_this}return _inherits(OffTextTrackMenuItem,_TextTrackMenuItem),OffTextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){for(var tracks=this.player().textTracks(),selected=!0,i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind===this.track.kind&&"showing"===track.mode){selected=!1;break}}this.selected(selected)},OffTextTrackMenuItem}(_textTrackMenuItem2.default);_component2.default.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem),exports.default=OffTextTrackMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _menuItem,_menuItem2=_interopRequireDefault(__webpack_require__(368)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ChaptersTrackMenuItem=function(_MenuItem){function ChaptersTrackMenuItem(player,options){_classCallCheck(this,ChaptersTrackMenuItem);var track=options.track,cue=options.cue,currentTime=player.currentTime();options.selectable=!0,options.label=cue.text,options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));return _this.track=track,_this.cue=cue,track.addEventListener("cuechange",Fn.bind(_this,_this.update)),_this}return _inherits(ChaptersTrackMenuItem,_MenuItem),ChaptersTrackMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ChaptersTrackMenuItem.prototype.update=function update(event){var cue=this.cue,currentTime=this.player_.currentTime();this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime)},ChaptersTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem),exports.default=ChaptersTrackMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackButton,_textTrackButton2=_interopRequireDefault(__webpack_require__(363)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DescriptionsButton=function(_TextTrackButton){function DescriptionsButton(player,options,ready){_classCallCheck(this,DescriptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute("aria-label","Descriptions Menu");var tracks=player.textTracks();if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)})}return _this}return _inherits(DescriptionsButton,_TextTrackButton),DescriptionsButton.prototype.handleTracksChange=function handleTracksChange(event){for(var tracks=this.player().textTracks(),disabled=!1,i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&"showing"===track.mode){disabled=!0;break}}disabled?this.disable():this.enable()},DescriptionsButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},DescriptionsButton}(_textTrackButton2.default);DescriptionsButton.prototype.kind_="descriptions",DescriptionsButton.prototype.controlText_="Descriptions",_component2.default.registerComponent("DescriptionsButton",DescriptionsButton),exports.default=DescriptionsButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackButton,_textTrackButton2=_interopRequireDefault(__webpack_require__(363)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SubtitlesButton=function(_TextTrackButton){function SubtitlesButton(player,options,ready){_classCallCheck(this,SubtitlesButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));return _this.el_.setAttribute("aria-label","Subtitles Menu"),_this}return _inherits(SubtitlesButton,_TextTrackButton),SubtitlesButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},SubtitlesButton}(_textTrackButton2.default);SubtitlesButton.prototype.kind_="subtitles",SubtitlesButton.prototype.controlText_="Subtitles",_component2.default.registerComponent("SubtitlesButton",SubtitlesButton),exports.default=SubtitlesButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackButton,_textTrackButton2=_interopRequireDefault(__webpack_require__(363)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_captionSettingsMenuItem,_captionSettingsMenuItem2=_interopRequireDefault(__webpack_require__(374));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CaptionsButton=function(_TextTrackButton){function CaptionsButton(player,options,ready){_classCallCheck(this,CaptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));return _this.el_.setAttribute("aria-label","Captions Menu"),_this}return _inherits(CaptionsButton,_TextTrackButton),CaptionsButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},CaptionsButton.prototype.createItems=function createItems(){var items=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(items.push(new _captionSettingsMenuItem2.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),_TextTrackButton.prototype.createItems.call(this,items)},CaptionsButton}(_textTrackButton2.default);CaptionsButton.prototype.kind_="captions",CaptionsButton.prototype.controlText_="Captions",_component2.default.registerComponent("CaptionsButton",CaptionsButton),exports.default=CaptionsButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _textTrackMenuItem,_textTrackMenuItem2=_interopRequireDefault(__webpack_require__(367)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CaptionSettingsMenuItem=function(_TextTrackMenuItem){function CaptionSettingsMenuItem(player,options){_classCallCheck(this,CaptionSettingsMenuItem),options.track={player:player,kind:options.kind,label:options.kind+" settings",selectable:!1,default:!1,mode:"disabled"},options.selectable=!1;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));return _this.addClass("vjs-texttrack-settings"),_this.controlText(", opens "+options.kind+" settings dialog"),_this}return _inherits(CaptionSettingsMenuItem,_TextTrackMenuItem),CaptionSettingsMenuItem.prototype.handleClick=function handleClick(event){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},CaptionSettingsMenuItem}(_textTrackMenuItem2.default);_component2.default.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem),exports.default=CaptionSettingsMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackButton,_trackButton2=_interopRequireDefault(__webpack_require__(364)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_audioTrackMenuItem,_audioTrackMenuItem2=_interopRequireDefault(__webpack_require__(376));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AudioTrackButton=function(_TrackButton){function AudioTrackButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,AudioTrackButton),options.tracks=player.audioTracks&&player.audioTracks();var _this=_possibleConstructorReturn(this,_TrackButton.call(this,player,options));return _this.el_.setAttribute("aria-label","Audio Menu"),_this}return _inherits(AudioTrackButton,_TrackButton),AudioTrackButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+_TrackButton.prototype.buildCSSClass.call(this)},AudioTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var tracks=this.player_.audioTracks&&this.player_.audioTracks();if(!tracks)return items;for(var i=0;i<tracks.length;i++){var track=tracks[i];items.push(new _audioTrackMenuItem2.default(this.player_,{track:track,selectable:!0}))}return items},AudioTrackButton}(_trackButton2.default);AudioTrackButton.prototype.controlText_="Audio Track",_component2.default.registerComponent("AudioTrackButton",AudioTrackButton),exports.default=AudioTrackButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _menuItem,_menuItem2=_interopRequireDefault(__webpack_require__(368)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AudioTrackMenuItem=function(_MenuItem){function AudioTrackMenuItem(player,options){_classCallCheck(this,AudioTrackMenuItem);var track=options.track,tracks=player.audioTracks();options.label=track.label||track.language||"Unknown",options.selected=track.enabled;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));if(_this.track=track,tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)})}return _this}return _inherits(AudioTrackMenuItem,_MenuItem),AudioTrackMenuItem.prototype.handleClick=function handleClick(event){var tracks=this.player_.audioTracks();if(_MenuItem.prototype.handleClick.call(this,event),tracks)for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track}},AudioTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected(this.track.enabled)},AudioTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem),exports.default=AudioTrackMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _menuButton,_menuButton2=_interopRequireDefault(__webpack_require__(365)),_menu,_menu2=_interopRequireDefault(__webpack_require__(366)),_playbackRateMenuItem,_playbackRateMenuItem2=_interopRequireDefault(__webpack_require__(378)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PlaybackRateMenuButton=function(_MenuButton){function PlaybackRateMenuButton(player,options){_classCallCheck(this,PlaybackRateMenuButton);var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));return _this.updateVisibility(),_this.updateLabel(),_this.on(player,"loadstart",_this.updateVisibility),_this.on(player,"ratechange",_this.updateLabel),_this}return _inherits(PlaybackRateMenuButton,_MenuButton),PlaybackRateMenuButton.prototype.createEl=function createEl(){var el=_MenuButton.prototype.createEl.call(this);return this.labelEl_=Dom.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),el.appendChild(this.labelEl_),el},PlaybackRateMenuButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+_MenuButton.prototype.buildCSSClass.call(this)},PlaybackRateMenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2.default(this.player()),rates=this.playbackRates();if(rates)for(var i=rates.length-1;i>=0;i--)menu.addChild(new _playbackRateMenuItem2.default(this.player(),{rate:rates[i]+"x"}));return menu},PlaybackRateMenuButton.prototype.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},PlaybackRateMenuButton.prototype.handleClick=function handleClick(event){for(var currentRate=this.player().playbackRate(),rates=this.playbackRates(),newRate=rates[0],i=0;i<rates.length;i++)if(rates[i]>currentRate){newRate=rates[i];break}this.player().playbackRate(newRate)},PlaybackRateMenuButton.prototype.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},PlaybackRateMenuButton.prototype.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},PlaybackRateMenuButton.prototype.updateVisibility=function updateVisibility(event){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},PlaybackRateMenuButton.prototype.updateLabel=function updateLabel(event){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(_menuButton2.default);PlaybackRateMenuButton.prototype.controlText_="Playback Rate",_component2.default.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton),exports.default=PlaybackRateMenuButton},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _menuItem,_menuItem2=_interopRequireDefault(__webpack_require__(368)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PlaybackRateMenuItem=function(_MenuItem){function PlaybackRateMenuItem(player,options){_classCallCheck(this,PlaybackRateMenuItem);var label=options.rate,rate=parseFloat(label,10);options.label=label,options.selected=1===rate,options.selectable=!0;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));return _this.label=label,_this.rate=rate,_this.on(player,"ratechange",_this.update),_this}return _inherits(PlaybackRateMenuItem,_MenuItem),PlaybackRateMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},PlaybackRateMenuItem.prototype.update=function update(event){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(_menuItem2.default);PlaybackRateMenuItem.prototype.contentElType="button",_component2.default.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem),exports.default=PlaybackRateMenuItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _spacer,_spacer2=_interopRequireDefault(__webpack_require__(380)),_component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CustomControlSpacer=function(_Spacer){function CustomControlSpacer(){return _classCallCheck(this,CustomControlSpacer),_possibleConstructorReturn(this,_Spacer.apply(this,arguments))}return _inherits(CustomControlSpacer,_Spacer),CustomControlSpacer.prototype.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+_Spacer.prototype.buildCSSClass.call(this)},CustomControlSpacer.prototype.createEl=function createEl(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});return el.innerHTML="&nbsp;",el},CustomControlSpacer}(_spacer2.default);_component2.default.registerComponent("CustomControlSpacer",CustomControlSpacer),exports.default=CustomControlSpacer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Spacer=function(_Component){function Spacer(){return _classCallCheck(this,Spacer),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(Spacer,_Component),Spacer.prototype.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+_Component.prototype.buildCSSClass.call(this)},Spacer.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Spacer}(_component2.default);_component2.default.registerComponent("Spacer",Spacer),exports.default=Spacer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _component,_component2=_interopRequireDefault(__webpack_require__(292)),_modalDialog,_modalDialog2=_interopRequireDefault(__webpack_require__(304)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ErrorDisplay=function(_ModalDialog){function ErrorDisplay(player,options){_classCallCheck(this,ErrorDisplay);var _this=_possibleConstructorReturn(this,_ModalDialog.call(this,player,options));return _this.on(player,"error",_this.open),_this}return _inherits(ErrorDisplay,_ModalDialog),ErrorDisplay.prototype.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+_ModalDialog.prototype.buildCSSClass.call(this)},ErrorDisplay.prototype.content=function content(){var error=this.player().error();return error?this.localize(error.message):""},ErrorDisplay}(_modalDialog2.default);ErrorDisplay.prototype.options_=(0,_mergeOptions2.default)(_modalDialog2.default.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_component2.default.registerComponent("ErrorDisplay",ErrorDisplay),exports.default=ErrorDisplay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _window,_window2=_interopRequireDefault(__webpack_require__(280)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom=__webpack_require__(284),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_obj,Obj=_interopRequireWildcard(__webpack_require__(287)),_log,_log2=_interopRequireDefault(__webpack_require__(286));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LOCAL_STORAGE_KEY="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function parser(v){return"1.00"===v?null:Number(v)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};function parseOptionValue(value,parser){if(parser&&(value=parser(value)),value&&"none"!==value)return value}function getSelectedOptionValue(el,parser){var value;return parseOptionValue(el.options[el.options.selectedIndex].value,parser)}function setSelectedOption(el,value,parser){if(value)for(var i=0;i<el.options.length;i++)if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break}}selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;var TextTrackSettings=function(_Component){function TextTrackSettings(player,options){_classCallCheck(this,TextTrackSettings);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.setDefaults(),_this.hide(),_this.updateDisplay=Fn.bind(_this,_this.updateDisplay),void 0===options.persistTextTrackSettings&&(_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings),_this.on(_this.$(".vjs-done-button"),"click",function(){_this.saveSettings(),_this.hide()}),_this.on(_this.$(".vjs-default-button"),"click",function(){_this.setDefaults(),_this.updateDisplay()}),Obj.each(selectConfigs,function(config){_this.on(_this.$(config.selector),"change",_this.updateDisplay)}),_this.options_.persistTextTrackSettings&&_this.restoreSettings(),_this}return _inherits(TextTrackSettings,_Component),TextTrackSettings.prototype.createElSelect_=function createElSelect_(key){var _this2=this,config=selectConfigs[key],id=config.id.replace("%s",this.id_);return[(0,_dom.createEl)("label",{className:"vjs-label",textContent:config.label},{for:id}),(0,_dom.createEl)("select",{id:id},void 0,config.options.map(function(o){return(0,_dom.createEl)("option",{textContent:_this2.localize(o[1]),value:o[0]})}))]},TextTrackSettings.prototype.createElFgColor_=function createElFgColor_(){var legend=(0,_dom.createEl)("legend",{textContent:this.localize("Text")}),select=this.createElSelect_("color"),opacity=(0,_dom.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,_dom.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElBgColor_=function createElBgColor_(){var legend=(0,_dom.createEl)("legend",{textContent:this.localize("Background")}),select=this.createElSelect_("backgroundColor"),opacity=(0,_dom.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,_dom.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElWinColor_=function createElWinColor_(){var legend=(0,_dom.createEl)("legend",{textContent:this.localize("Window")}),select=this.createElSelect_("windowColor"),opacity=(0,_dom.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,_dom.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElColors_=function createElColors_(){return(0,_dom.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},TextTrackSettings.prototype.createElFont_=function createElFont_(){var fontPercent=(0,_dom.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),edgeStyle=(0,_dom.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),fontFamily=(0,_dom.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,_dom.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[fontPercent,edgeStyle,fontFamily])},TextTrackSettings.prototype.createElControls_=function createElControls_(){var defaultsButton=(0,_dom.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),doneButton=(0,_dom.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,_dom.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[defaultsButton,doneButton])},TextTrackSettings.prototype.createEl=function createEl(){var settings=(0,_dom.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),heading=(0,_dom.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),description=(0,_dom.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),doc=(0,_dom.createEl)("div",void 0,{role:"document"},[heading,description,settings]);return(0,_dom.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":heading.id,"aria-describedby":description.id},doc)},TextTrackSettings.prototype.getValues=function getValues(){var _this3=this;return Obj.reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);return void 0!==value&&(accum[key]=value),accum},{})},TextTrackSettings.prototype.setValues=function setValues(values){var _this4=this;Obj.each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser)})},TextTrackSettings.prototype.setDefaults=function setDefaults(){var _this5=this;Obj.each(selectConfigs,function(config){var index=config.hasOwnProperty("default")?config.default:0;_this5.$(config.selector).selectedIndex=index})},TextTrackSettings.prototype.restoreSettings=function restoreSettings(){var values=void 0;try{values=JSON.parse(_window2.default.localStorage.getItem(LOCAL_STORAGE_KEY))}catch(err){_log2.default.warn(err)}values&&this.setValues(values)},TextTrackSettings.prototype.saveSettings=function saveSettings(){if(this.options_.persistTextTrackSettings){var values=this.getValues();try{Object.keys(values).length?_window2.default.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values)):_window2.default.localStorage.removeItem(LOCAL_STORAGE_KEY)}catch(err){_log2.default.warn(err)}}},TextTrackSettings.prototype.updateDisplay=function updateDisplay(){var ttDisplay=this.player_.getChild("textTrackDisplay");ttDisplay&&ttDisplay.updateDisplay()},TextTrackSettings}(_component2.default);_component2.default.registerComponent("TextTrackSettings",TextTrackSettings),exports.default=TextTrackSettings},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),_tech,_tech2=_interopRequireDefault(__webpack_require__(305)),_component,_component2=_interopRequireDefault(__webpack_require__(292)),_dom,Dom=_interopRequireWildcard(__webpack_require__(284)),_url,Url=_interopRequireWildcard(__webpack_require__(311)),_fn,Fn=_interopRequireWildcard(__webpack_require__(293)),_log,_log2=_interopRequireDefault(__webpack_require__(286)),_tsml,_tsml2=_interopRequireDefault(__webpack_require__(288)),_browser,browser=_interopRequireWildcard(__webpack_require__(283)),_document,_document2=_interopRequireDefault(__webpack_require__(281)),_window,_window2=_interopRequireDefault(__webpack_require__(280)),_obj=__webpack_require__(287),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_toTitleCase,_toTitleCase2=_interopRequireDefault(__webpack_require__(294));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Html5=function(_Tech){function Html5(options,ready){_classCallCheck(this,Html5);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready)),source=options.source,crossoriginTracks=!1,trackTypes;if(source&&(_this.el_.currentSrc!==source.src||options.tag&&3===options.tag.initNetworkState_)?_this.setSource(source):_this.handleLateInit_(_this.el_),_this.el_.hasChildNodes()){for(var nodes=_this.el_.childNodes,nodesLength=nodes.length,removeNodes=[];nodesLength--;){var node=nodes[nodesLength],nodeName;"track"===node.nodeName.toLowerCase()&&(_this.featuresNativeTextTracks?(_this.remoteTextTrackEls().addTrackElement_(node),_this.remoteTextTracks().addTrack_(node.track),crossoriginTracks||_this.el_.hasAttribute("crossorigin")||!Url.isCrossOrigin(node.src)||(crossoriginTracks=!0)):removeNodes.push(node))}for(var i=0;i<removeNodes.length;i++)_this.el_.removeChild(removeNodes[i])}return["audio","video"].forEach(function(type){var elTracks=_this.el()[type+"Tracks"],techTracks=_this[type+"Tracks"](),capitalType=(0,_toTitleCase2.default)(type);_this["featuresNative"+capitalType+"Tracks"]&&elTracks&&elTracks.addEventListener&&(_this["handle"+capitalType+"TrackChange_"]=function(e){techTracks.trigger({type:"change",target:techTracks,currentTarget:techTracks,srcElement:techTracks})},_this["handle"+capitalType+"TrackAdd_"]=function(e){return techTracks.addTrack(e.track)},_this["handle"+capitalType+"TrackRemove_"]=function(e){return techTracks.removeTrack(e.track)},elTracks.addEventListener("change",_this["handle"+capitalType+"TrackChange_"]),elTracks.addEventListener("addtrack",_this["handle"+capitalType+"TrackAdd_"]),elTracks.addEventListener("removetrack",_this["handle"+capitalType+"TrackRemove_"]),_this["removeOld"+capitalType+"Tracks_"]=function(e){return _this.removeOldTracks_(techTracks,elTracks)},_this.on("loadstart",_this["removeOld"+capitalType+"Tracks_"]))}),_this.featuresNativeTextTracks&&(crossoriginTracks&&_log2.default.warn((0,_tsml2.default)(_templateObject)),_this.handleTextTrackChange_=Fn.bind(_this,_this.handleTextTrackChange),_this.handleTextTrackAdd_=Fn.bind(_this,_this.handleTextTrackAdd),_this.handleTextTrackRemove_=Fn.bind(_this,_this.handleTextTrackRemove),_this.proxyNativeTextTracks_()),_this.restoreMetadataTracksInIOSNativePlayer_(),(browser.TOUCH_ENABLED||browser.IS_IPHONE||browser.IS_NATIVE_ANDROID)&&!0===options.nativeControlsForTouch&&_this.setControls(!0),_this.proxyWebkitFullscreen_(),_this.triggerReady(),_this}return _inherits(Html5,_Tech),Html5.prototype.dispose=function dispose(){var _this2=this;["audio","video","text"].forEach(function(type){var capitalType=(0,_toTitleCase2.default)(type),tl=_this2.el_[type+"Tracks"];tl&&tl.removeEventListener&&(tl.removeEventListener("change",_this2["handle"+capitalType+"TrackChange_"]),tl.removeEventListener("addtrack",_this2["handle"+capitalType+"TrackAdd_"]),tl.removeEventListener("removetrack",_this2["handle"+capitalType+"TrackRemove_"])),tl&&_this2.off("loadstart",_this2["removeOld"+capitalType+"Tracks_"])}),Html5.disposeMediaElement(this.el_),_Tech.prototype.dispose.call(this)},Html5.prototype.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var textTracks=this.textTracks(),metadataTracksPreFullscreenState=void 0,takeMetadataTrackSnapshot=function takeMetadataTrackSnapshot(){metadataTracksPreFullscreenState=[];for(var i=0;i<textTracks.length;i++){var track=textTracks[i];"metadata"===track.kind&&metadataTracksPreFullscreenState.push({track:track,storedMode:track.mode})}};takeMetadataTrackSnapshot(),textTracks.addEventListener("change",takeMetadataTrackSnapshot);var restoreTrackMode=function restoreTrackMode(){for(var i=0;i<metadataTracksPreFullscreenState.length;i++){var storedTrack=metadataTracksPreFullscreenState[i];"disabled"===storedTrack.track.mode&&storedTrack.track.mode!==storedTrack.storedMode&&(storedTrack.track.mode=storedTrack.storedMode)}textTracks.removeEventListener("change",restoreTrackMode)};this.on("webkitbeginfullscreen",function(){textTracks.removeEventListener("change",takeMetadataTrackSnapshot),textTracks.removeEventListener("change",restoreTrackMode),textTracks.addEventListener("change",restoreTrackMode)}),this.on("webkitendfullscreen",function(){textTracks.removeEventListener("change",takeMetadataTrackSnapshot),textTracks.addEventListener("change",takeMetadataTrackSnapshot),textTracks.removeEventListener("change",restoreTrackMode)})},Html5.prototype.createEl=function createEl(){var el=this.options_.tag;if(!el||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(el){var clone=el.cloneNode(!0);el.parentNode&&el.parentNode.insertBefore(clone,el),Html5.disposeMediaElement(el),el=clone}else{el=_document2.default.createElement("video");var tagAttributes=this.options_.tag&&Dom.getElAttributes(this.options_.tag),attributes=(0,_mergeOptions2.default)({},tagAttributes);browser.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete attributes.controls,Dom.setElAttributes(el,(0,_obj.assign)(attributes,{id:this.options_.techId,class:"vjs-tech"}))}el.playerId=this.options_.playerId}void 0!==this.options_.preload&&Dom.setAttribute(el,"preload",this.options_.preload);for(var settingsAttrs=["loop","muted","playsinline","autoplay"],i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i],value=this.options_[attr];void 0!==value&&(value?Dom.setAttribute(el,attr,attr):Dom.removeAttribute(el,attr),el[attr]=value)}return el},Html5.prototype.handleLateInit_=function handleLateInit_(el){if(0!==el.networkState&&3!==el.networkState){if(0===el.readyState){var loadstartFired=!1,setLoadstartFired=function setLoadstartFired(){loadstartFired=!0};this.on("loadstart",setLoadstartFired);var triggerLoadstart=function triggerLoadstart(){loadstartFired||this.trigger("loadstart")};return this.on("loadedmetadata",triggerLoadstart),void this.ready(function(){this.off("loadstart",setLoadstartFired),this.off("loadedmetadata",triggerLoadstart),loadstartFired||this.trigger("loadstart")})}var eventsToTrigger=["loadstart"];eventsToTrigger.push("loadedmetadata"),el.readyState>=2&&eventsToTrigger.push("loadeddata"),el.readyState>=3&&eventsToTrigger.push("canplay"),el.readyState>=4&&eventsToTrigger.push("canplaythrough"),this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type)},this)})}},Html5.prototype.proxyNativeTextTracks_=function proxyNativeTextTracks_(){var tt=this.el().textTracks;if(tt){for(var i=0;i<tt.length;i++)this.textTracks().addTrack_(tt[i]);tt.addEventListener&&(tt.addEventListener("change",this.handleTextTrackChange_),tt.addEventListener("addtrack",this.handleTextTrackAdd_),tt.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},Html5.prototype.handleTextTrackChange=function handleTextTrackChange(e){var tt=this.textTracks();this.textTracks().trigger({type:"change",target:tt,currentTarget:tt,srcElement:tt})},Html5.prototype.handleTextTrackAdd=function handleTextTrackAdd(e){this.textTracks().addTrack_(e.track)},Html5.prototype.handleTextTrackRemove=function handleTextTrackRemove(e){this.textTracks().removeTrack_(e.track)},Html5.prototype.removeOldTracks_=function removeOldTracks_(techTracks,elTracks){var removeTracks=[];if(elTracks){for(var i=0;i<techTracks.length;i++){for(var techTrack=techTracks[i],found=!1,j=0;j<elTracks.length;j++)if(elTracks[j]===techTrack){found=!0;break}found||removeTracks.push(techTrack)}for(var _i=0;_i<removeTracks.length;_i++){var track=removeTracks[_i];techTracks.removeTrack_(track)}}},Html5.prototype.removeOldTextTracks_=function removeOldTextTracks_(e){var techTracks=this.textTracks(),elTracks=this.el().textTracks;this.removeOldTracks_(techTracks,elTracks)},Html5.prototype.play=function play(){var playPromise=this.el_.play();void 0!==playPromise&&"function"==typeof playPromise.then&&playPromise.then(null,function(e){})},Html5.prototype.setCurrentTime=function setCurrentTime(seconds){try{this.el_.currentTime=seconds}catch(e){(0,_log2.default)(e,"Video is not ready. (Video.js)")}},Html5.prototype.duration=function duration(){var _this3=this;if(this.el_.duration===1/0&&browser.IS_ANDROID&&browser.IS_CHROME&&0===this.el_.currentTime){var checkProgress=function checkProgress(){_this3.el_.currentTime>0&&(_this3.el_.duration===1/0&&_this3.trigger("durationchange"),_this3.off("timeupdate",checkProgress))};return this.on("timeupdate",checkProgress),NaN}return this.el_.duration||NaN},Html5.prototype.width=function width(){return this.el_.offsetWidth},Html5.prototype.height=function height(){return this.el_.offsetHeight},Html5.prototype.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var _this4=this;if("webkitDisplayingFullscreen"in this.el_){var endFn=function endFn(){this.trigger("fullscreenchange",{isFullscreen:!1})},beginFn=function beginFn(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",endFn),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",beginFn),this.on("dispose",function(){_this4.off("webkitbeginfullscreen",beginFn),_this4.off("webkitendfullscreen",endFn)})}},Html5.prototype.supportsFullScreen=function supportsFullScreen(){if("function"==typeof this.el_.webkitEnterFullScreen){var userAgent=_window2.default.navigator&&_window2.default.navigator.userAgent||"";if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent))return!0}return!1},Html5.prototype.enterFullScreen=function enterFullScreen(){var video=this.el_;video.paused&&video.networkState<=video.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){video.pause(),video.webkitEnterFullScreen()},0)):video.webkitEnterFullScreen()},Html5.prototype.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen()},Html5.prototype.src=function src(_src){if(void 0===_src)return this.el_.src;this.setSrc(_src)},Html5.prototype.reset=function reset(){Html5.resetMediaElement(this.el_)},Html5.prototype.currentSrc=function currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},Html5.prototype.setControls=function setControls(val){this.el_.controls=!!val},Html5.prototype.addTextTrack=function addTextTrack(kind,label,language){return this.featuresNativeTextTracks?this.el_.addTextTrack(kind,label,language):_Tech.prototype.addTextTrack.call(this,kind,label,language)},Html5.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){if(!this.featuresNativeTextTracks)return _Tech.prototype.createRemoteTextTrack.call(this,options);var htmlTrackElement=_document2.default.createElement("track");return options.kind&&(htmlTrackElement.kind=options.kind),options.label&&(htmlTrackElement.label=options.label),(options.language||options.srclang)&&(htmlTrackElement.srclang=options.language||options.srclang),options.default&&(htmlTrackElement.default=options.default),options.id&&(htmlTrackElement.id=options.id),options.src&&(htmlTrackElement.src=options.src),htmlTrackElement},Html5.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);return this.featuresNativeTextTracks&&this.el().appendChild(htmlTrackElement),htmlTrackElement},Html5.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){if(_Tech.prototype.removeRemoteTextTrack.call(this,track),this.featuresNativeTextTracks)for(var tracks=this.$$("track"),i=tracks.length;i--;)track!==tracks[i]&&track!==tracks[i].track||this.el().removeChild(tracks[i])},Html5.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var videoPlaybackQuality={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(videoPlaybackQuality.droppedVideoFrames=this.el().webkitDroppedFrameCount,videoPlaybackQuality.totalVideoFrames=this.el().webkitDecodedFrameCount),_window2.default.performance&&"function"==typeof _window2.default.performance.now?videoPlaybackQuality.creationTime=_window2.default.performance.now():_window2.default.performance&&_window2.default.performance.timing&&"number"==typeof _window2.default.performance.timing.navigationStart&&(videoPlaybackQuality.creationTime=_window2.default.Date.now()-_window2.default.performance.timing.navigationStart),videoPlaybackQuality},Html5}(_tech2.default);if(Dom.isReal()){Html5.TEST_VID=_document2.default.createElement("video");var track=_document2.default.createElement("track");track.kind="captions",track.srclang="en",track.label="English",Html5.TEST_VID.appendChild(track)}Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch(e){return!1}return!(!Html5.TEST_VID||!Html5.TEST_VID.canPlayType)},Html5.canControlVolume=function(){try{var volume=Html5.TEST_VID.volume;return Html5.TEST_VID.volume=volume/2+.1,volume!==Html5.TEST_VID.volume}catch(e){return!1}},Html5.canControlPlaybackRate=function(){if(browser.IS_ANDROID&&browser.IS_CHROME&&browser.CHROME_VERSION<58)return!1;try{var playbackRate=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=playbackRate/2+.1,playbackRate!==Html5.TEST_VID.playbackRate}catch(e){return!1}},Html5.supportsNativeTextTracks=function(){return browser.IS_ANY_SAFARI},Html5.supportsNativeVideoTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.videoTracks)},Html5.supportsNativeAudioTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.audioTracks)},Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],Html5.prototype.featuresVolumeControl=Html5.canControlVolume(),Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate(),Html5.prototype.movingMediaElementInDOM=!browser.IS_IOS,Html5.prototype.featuresFullscreenResize=!0,Html5.prototype.featuresProgressEvents=!0,Html5.prototype.featuresTimeupdateEvents=!0,Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks(),Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks(),Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType,mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i;Html5.patchCanPlayType=function(){browser.ANDROID_VERSION>=4&&!browser.IS_FIREFOX?Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mpegurlRE.test(type)?"maybe":canPlayType.call(this,type)}:browser.IS_OLD_ANDROID&&(Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mp4RE.test(type)?"maybe":canPlayType.call(this,type)})},Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;return Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType,r},Html5.patchCanPlayType(),Html5.disposeMediaElement=function(el){if(el){for(el.parentNode&&el.parentNode.removeChild(el);el.hasChildNodes();)el.removeChild(el.firstChild);el.removeAttribute("src"),"function"==typeof el.load&&function(){try{el.load()}catch(e){}}()}},Html5.resetMediaElement=function(el){if(el){for(var sources=el.querySelectorAll("source"),i=sources.length;i--;)el.removeChild(sources[i]);el.removeAttribute("src"),"function"==typeof el.load&&function(){try{el.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]||this.el_.hasAttribute(prop)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(prop){Html5.prototype["set"+(0,_toTitleCase2.default)(prop)]=function(v){this.el_[prop]=v,v?this.el_.setAttribute(prop,prop):this.el_.removeAttribute(prop)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]}}),["volume","src","poster","preload","playbackRate"].forEach(function(prop){Html5.prototype["set"+(0,_toTitleCase2.default)(prop)]=function(v){this.el_[prop]=v}}),["pause","load"].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]()}}),_tech2.default.withSourceHandlers(Html5),Html5.nativeSourceHandler={},Html5.nativeSourceHandler.canPlayType=function(type){try{return Html5.TEST_VID.canPlayType(type)}catch(e){return""}},Html5.nativeSourceHandler.canHandleSource=function(source,options){if(source.type)return Html5.nativeSourceHandler.canPlayType(source.type);if(source.src){var ext=Url.getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType("video/"+ext)}return""},Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src)},Html5.nativeSourceHandler.dispose=function(){},Html5.registerSourceHandler(Html5.nativeSourceHandler),_component2.default.registerComponent("Html5",Html5),_tech2.default.registerTech("Html5",Html5),exports.default=Html5},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _player,_player2=_interopRequireDefault(__webpack_require__(297));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var plugin=function plugin(name,init){_player2.default.prototype[name]=init};exports.default=plugin},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackEnums=__webpack_require__(309),_track,_track2=_interopRequireDefault(__webpack_require__(310)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_browser,browser=_interopRequireWildcard(__webpack_require__(283));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AudioTrack=function(_Track){function AudioTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,AudioTrack);var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.AudioTrackKind[options.kind]||""}),track=_this=_possibleConstructorReturn(this,_Track.call(this,settings)),enabled=!1;if(browser.IS_IE8)for(var prop in AudioTrack.prototype)"constructor"!==prop&&(track[prop]=AudioTrack.prototype[prop]);return Object.defineProperty(track,"enabled",{get:function get(){return enabled},set:function set(newEnabled){"boolean"==typeof newEnabled&&newEnabled!==enabled&&(enabled=newEnabled,this.trigger("enabledchange"))}}),settings.enabled&&(track.enabled=settings.enabled),track.loaded_=!0,_possibleConstructorReturn(_this,_ret=track)}return _inherits(AudioTrack,_Track),AudioTrack}(_track2.default);exports.default=AudioTrack},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _trackEnums=__webpack_require__(309),_track,_track2=_interopRequireDefault(__webpack_require__(310)),_mergeOptions,_mergeOptions2=_interopRequireDefault(__webpack_require__(295)),_browser,browser=_interopRequireWildcard(__webpack_require__(283));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var VideoTrack=function(_Track){function VideoTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VideoTrack);var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.VideoTrackKind[options.kind]||""}),track=_this=_possibleConstructorReturn(this,_Track.call(this,settings)),selected=!1;if(browser.IS_IE8)for(var prop in VideoTrack.prototype)"constructor"!==prop&&(track[prop]=VideoTrack.prototype[prop]);return Object.defineProperty(track,"selected",{get:function get(){return selected},set:function set(newSelected){"boolean"==typeof newSelected&&newSelected!==selected&&(selected=newSelected,this.trigger("selectedchange"))}}),settings.selected&&(track.selected=settings.selected),_possibleConstructorReturn(_this,_ret=track)}return _inherits(VideoTrack,_Track),VideoTrack}(_track2.default);exports.default=VideoTrack},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_log,_log2=_interopRequireDefault(__webpack_require__(286)),_obj=__webpack_require__(287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _inherits=function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.super_=superClass)},extendFn=function extendFn(superClass){var subClassMethods=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},subClass=function subClass(){superClass.apply(this,arguments)},methods={};for(var name in(0,_obj.isObject)(subClassMethods)?("function"==typeof subClassMethods.init&&(_log2.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),subClassMethods.constructor=subClassMethods.init),subClassMethods.constructor!==Object.prototype.constructor&&(subClass=subClassMethods.constructor),methods=subClassMethods):"function"==typeof subClassMethods&&(subClass=subClassMethods),_inherits(subClass,superClass),methods)methods.hasOwnProperty(name)&&(subClass.prototype[name]=methods[name]);return subClass};exports.default=extendFn},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x4,_x5,_x6){for(var _again=!0;_again;){var object=_x4,property=_x5,receiver=_x6;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x4=parent,_x5=property,_x6=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _globalDocument,_globalDocument2=_interopRequireDefault(__webpack_require__(281)),_playlistLoader,_playlistLoader2=_interopRequireDefault(__webpack_require__(389)),_playlist,_playlist2=_interopRequireDefault(__webpack_require__(397)),_xhr,_xhr2=_interopRequireDefault(__webpack_require__(398)),_aesDecrypter=__webpack_require__(399),_binUtils,_binUtils2=_interopRequireDefault(__webpack_require__(407)),_videojsContribMediaSources=__webpack_require__(408),_m3u8Parser,_m3u8Parser2=_interopRequireDefault(__webpack_require__(392)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_masterPlaylistController=__webpack_require__(442),_config,_config2=_interopRequireDefault(__webpack_require__(445)),_renditionMixin,_renditionMixin2=_interopRequireDefault(__webpack_require__(459)),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_playbackWatcher,_playbackWatcher2=_interopRequireDefault(__webpack_require__(460)),_reloadSourceOnError,_reloadSourceOnError2=_interopRequireDefault(__webpack_require__(461)),_playlistSelectorsJs=__webpack_require__(448),Hls={PlaylistLoader:_playlistLoader2.default,Playlist:_playlist2.default,Decrypter:_aesDecrypter.Decrypter,AsyncStream:_aesDecrypter.AsyncStream,decrypt:_aesDecrypter.decrypt,utils:_binUtils2.default,STANDARD_PLAYLIST_SELECTOR:_playlistSelectorsJs.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:_playlistSelectorsJs.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:_playlistSelectorsJs.comparePlaylistBandwidth,comparePlaylistResolution:_playlistSelectorsJs.comparePlaylistResolution,xhr:(0,_xhr2.default)()},INITIAL_BANDWIDTH=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(prop){Object.defineProperty(Hls,prop,{get:function get(){return _videoJs2.default.log.warn("using Hls."+prop+" is UNSAFE be sure you know what you are doing"),_config2.default[prop]},set:function set(value){_videoJs2.default.log.warn("using Hls."+prop+" is UNSAFE be sure you know what you are doing"),"number"!=typeof value||value<0?_videoJs2.default.log.warn("value of Hls."+prop+" must be greater than or equal to 0"):_config2.default[prop]=value}})});var handleHlsMediaChange=function handleHlsMediaChange(qualityLevels,playlistLoader){for(var newPlaylist=playlistLoader.media(),selectedIndex=-1,i=0;i<qualityLevels.length;i++)if(qualityLevels[i].id===newPlaylist.uri){selectedIndex=i;break}qualityLevels.selectedIndex_=selectedIndex,qualityLevels.trigger({selectedIndex:selectedIndex,type:"change"})},handleHlsLoadedMetadata=function handleHlsLoadedMetadata(qualityLevels,hls){hls.representations().forEach(function(rep){qualityLevels.addQualityLevel(rep)}),handleHlsMediaChange(qualityLevels,hls.playlists)},video,canPlay;Hls.canPlaySource=function(){return _videoJs2.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},Hls.supportsNativeHls=(video=_globalDocument2.default.createElement("video"),!!_videoJs2.default.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(canItPlay){return/maybe|probably/i.test(video.canPlayType(canItPlay))})),Hls.isSupported=function(){return _videoJs2.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Component,HlsHandler=function(_Component){function HlsHandler(source,tech,options){var _this=this;if(_classCallCheck(this,HlsHandler),_get(Object.getPrototypeOf(HlsHandler.prototype),"constructor",this).call(this,tech,options.hls),tech.options_&&tech.options_.playerId){var _player=(0,_videoJs2.default)(tech.options_.playerId);_player.hasOwnProperty("hls")||Object.defineProperty(_player,"hls",{get:function get(){return _videoJs2.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),tech.trigger({type:"usage",name:"hls-player-access"}),_this}})}if(this.tech_=tech,this.source_=source,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(tech.featuresNativeVideoTracks||tech.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(_globalDocument2.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(event){var fullscreenElement=_globalDocument2.default.fullscreenElement||_globalDocument2.default.webkitFullscreenElement||_globalDocument2.default.mozFullScreenElement||_globalDocument2.default.msFullscreenElement;fullscreenElement&&fullscreenElement.contains(_this.tech_.el())&&_this.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return _inherits(HlsHandler,_Component),_createClass(HlsHandler,[{key:"setOptions_",value:function setOptions_(){var _this2=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(option){void 0!==_this2.source_[option]&&(_this2.options_[option]=_this2.source_[option])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function src(_src){var _this3=this;_src&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Hls,this.masterPlaylistController_=new _masterPlaylistController.MasterPlaylistController(this.options_),this.playbackWatcher_=new _playbackWatcher2.default(_videoJs2.default.mergeOptions(this.options_,{seekable:function seekable(){return _this3.seekable()}})),this.masterPlaylistController_.on("error",function(){var player;_videoJs2.default.players[_this3.tech_.options_.playerId].error(_this3.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Hls.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Hls.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function get(){return this.masterPlaylistController_.selectPlaylist},set:function set(selectPlaylist){this.masterPlaylistController_.selectPlaylist=selectPlaylist.bind(this)}},throughput:{get:function get(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function set(throughput){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=throughput,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function get(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function set(bandwidth){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=bandwidth,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function get(){var invBandwidth=1/(this.bandwidth||1),invThroughput=void 0,systemBitrate;return invThroughput=this.throughput>0?1/this.throughput:0,Math.floor(1/(invBandwidth+invThroughput))},set:function set(){_videoJs2.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function get(){return _this3.bandwidth||0},enumerable:!0},mediaRequests:{get:function get(){return _this3.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function get(){return _this3.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function get(){return _this3.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function get(){return _this3.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function get(){return _this3.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function get(){return _this3.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function get(){return _this3.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,_renditionMixin2.default)(_this3)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return _this3.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(_videoJs2.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function setupQualityLevels_(){var _this4=this,player=_videoJs2.default.players[this.tech_.options_.playerId];player&&player.qualityLevels&&(this.qualityLevels_=player.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){handleHlsLoadedMetadata(_this4.qualityLevels_,_this4)}),this.playlists.on("mediachange",function(){handleHlsMediaChange(_this4.qualityLevels_,_this4.playlists)}))}},{key:"play",value:function play(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function setCurrentTime(currentTime){this.masterPlaylistController_.setCurrentTime(currentTime)}},{key:"duration",value:function duration(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function seekable(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),_get(Object.getPrototypeOf(HlsHandler.prototype),"dispose",this).call(this)}}]),HlsHandler}(_videoJs2.default.getComponent("Component")),HlsSourceHandler=function HlsSourceHandler(mode){return{canHandleSource:function canHandleSource(srcObj){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],localOptions=_videoJs2.default.mergeOptions(_videoJs2.default.options,options);return(!localOptions.hls||!localOptions.hls.mode||localOptions.hls.mode===mode)&&HlsSourceHandler.canPlayType(srcObj.type,localOptions)},handleSource:function handleSource(source,tech){var options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],localOptions=_videoJs2.default.mergeOptions(_videoJs2.default.options,options,{hls:{mode:mode}});return"flash"===mode&&tech.setTimeout(function(){tech.trigger("loadstart")},1),tech.hls=new HlsHandler(source,tech,localOptions),tech.hls.xhr=(0,_xhr2.default)(),tech.hls.src(source.src),tech.hls},canPlayType:function canPlayType(type){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],localOptions=_videoJs2.default.mergeOptions(_videoJs2.default.options,options);return HlsSourceHandler.canPlayType(type,localOptions)?"maybe":""}}};HlsSourceHandler.canPlayType=function(type,options){if(_videoJs2.default.browser.IE_VERSION&&_videoJs2.default.browser.IE_VERSION<=10)return!1;var mpegurlRE=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!options.hls.overrideNative&&Hls.supportsNativeHls)&&mpegurlRE.test(type)},void 0!==_videoJs2.default.MediaSource&&void 0!==_videoJs2.default.URL||(_videoJs2.default.MediaSource=_videojsContribMediaSources.MediaSource,_videoJs2.default.URL=_videojsContribMediaSources.URL);var flashTech=_videoJs2.default.getTech("Flash");_videojsContribMediaSources.MediaSource.supportsNativeMediaSources()&&_videoJs2.default.getTech("Html5").registerSourceHandler(HlsSourceHandler("html5"),0),_globalWindow2.default.Uint8Array&&flashTech&&flashTech.registerSourceHandler(HlsSourceHandler("flash")),_videoJs2.default.HlsHandler=HlsHandler,_videoJs2.default.HlsSourceHandler=HlsSourceHandler,_videoJs2.default.Hls=Hls,_videoJs2.default.use||_videoJs2.default.registerComponent("Hls",Hls),_videoJs2.default.m3u8=_m3u8Parser2.default,_videoJs2.default.options.hls=_videoJs2.default.options.hls||{},_videoJs2.default.registerPlugin?_videoJs2.default.registerPlugin("reloadSourceOnError",_reloadSourceOnError2.default):_videoJs2.default.plugin("reloadSourceOnError",_reloadSourceOnError2.default),module.exports={Hls:Hls,HlsHandler:HlsHandler,HlsSourceHandler:HlsSourceHandler}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _resolveUrl,_resolveUrl2=_interopRequireDefault(__webpack_require__(390)),_videoJs=__webpack_require__(279),_m3u8Parser,_m3u8Parser2=_interopRequireDefault(__webpack_require__(392)),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),updateSegments=function updateSegments(original,update,offset){var result=update.slice();offset=offset||0;for(var length=Math.min(original.length,update.length+offset),i=offset;i<length;i++)result[i-offset]=(0,_videoJs.mergeOptions)(original[i],result[i-offset]);return result};exports.updateSegments=updateSegments;var resolveSegmentUris=function resolveSegmentUris(segment,baseUri){segment.resolvedUri||(segment.resolvedUri=(0,_resolveUrl2.default)(baseUri,segment.uri)),segment.key&&!segment.key.resolvedUri&&(segment.key.resolvedUri=(0,_resolveUrl2.default)(baseUri,segment.key.uri)),segment.map&&!segment.map.resolvedUri&&(segment.map.resolvedUri=(0,_resolveUrl2.default)(baseUri,segment.map.uri))};exports.resolveSegmentUris=resolveSegmentUris;var updateMaster=function updateMaster(master,media){var result=(0,_videoJs.mergeOptions)(master,{}),playlist=result.playlists.filter(function(p){return p.uri===media.uri})[0];if(!playlist)return null;if(playlist.segments&&media.segments&&playlist.segments.length===media.segments.length&&playlist.mediaSequence===media.mediaSequence)return null;var mergedPlaylist=(0,_videoJs.mergeOptions)(playlist,media);playlist.segments&&(mergedPlaylist.segments=updateSegments(playlist.segments,media.segments,media.mediaSequence-playlist.mediaSequence)),mergedPlaylist.segments.forEach(function(segment){resolveSegmentUris(segment,mergedPlaylist.resolvedUri)});for(var i=0;i<result.playlists.length;i++)result.playlists[i].uri===media.uri&&(result.playlists[i]=mergedPlaylist);return result.playlists[media.uri]=mergedPlaylist,result};exports.updateMaster=updateMaster;var setupMediaPlaylists=function setupMediaPlaylists(master){for(var i=master.playlists.length;i--;){var playlist=master.playlists[i];master.playlists[playlist.uri]=playlist,playlist.resolvedUri=(0,_resolveUrl2.default)(master.uri,playlist.uri),playlist.attributes||(playlist.attributes={},_videoJs.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};exports.setupMediaPlaylists=setupMediaPlaylists;var resolveMediaGroupUris=function resolveMediaGroupUris(master){["AUDIO","SUBTITLES"].forEach(function(mediaType){for(var groupKey in master.mediaGroups[mediaType])for(var labelKey in master.mediaGroups[mediaType][groupKey]){var mediaProperties=master.mediaGroups[mediaType][groupKey][labelKey];mediaProperties.uri&&(mediaProperties.resolvedUri=(0,_resolveUrl2.default)(master.uri,mediaProperties.uri))}})};exports.resolveMediaGroupUris=resolveMediaGroupUris;var refreshDelay=function refreshDelay(media,update){var lastSegment=media.segments[media.segments.length-1],delay=void 0;return delay=update&&lastSegment&&lastSegment.duration?1e3*lastSegment.duration:500*(media.targetDuration||10)};exports.refreshDelay=refreshDelay;var PlaylistLoader=function(_EventTarget){function PlaylistLoader(srcUrl,hls,withCredentials){var _this=this;if(_classCallCheck(this,PlaylistLoader),_get(Object.getPrototypeOf(PlaylistLoader.prototype),"constructor",this).call(this),this.srcUrl=srcUrl,this.hls_=hls,this.withCredentials=withCredentials,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===_this.state&&(_this.state="HAVE_CURRENT_METADATA",_this.request=_this.hls_.xhr({uri:(0,_resolveUrl2.default)(_this.master.uri,_this.media().uri),withCredentials:_this.withCredentials},function(error,req){if(_this.request)return error?_this.playlistRequestError(_this.request,_this.media().uri,"HAVE_METADATA"):void _this.haveMetadata(_this.request,_this.media().uri)}))})}return _inherits(PlaylistLoader,_EventTarget),_createClass(PlaylistLoader,[{key:"playlistRequestError",value:function playlistRequestError(xhr,url,startingState){this.request=null,startingState&&(this.state=startingState),this.error={playlist:this.master.playlists[url],status:xhr.status,message:"HLS playlist request error at URL: "+url,responseText:xhr.responseText,code:xhr.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function haveMetadata(xhr,url){var _this2=this;this.request=null,this.state="HAVE_METADATA";var parser=new _m3u8Parser2.default.Parser;parser.push(xhr.responseText),parser.end(),parser.manifest.uri=url,parser.manifest.attributes=parser.manifest.attributes||{};var update=updateMaster(this.master,parser.manifest);this.targetDuration=parser.manifest.targetDuration,update?(this.master=update,this.media_=this.master.playlists[parser.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(_globalWindow2.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=_globalWindow2.default.setTimeout(function(){_this2.trigger("mediaupdatetimeout")},refreshDelay(this.media(),!!update))),this.trigger("loadedplaylist")}},{key:"dispose",value:function dispose(){this.stopRequest(),_globalWindow2.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function stopRequest(){if(this.request){var oldRequest=this.request;this.request=null,oldRequest.onreadystatechange=null,oldRequest.abort()}}},{key:"media",value:function media(playlist){var _this3=this;if(!playlist)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var startingState=this.state;if("string"==typeof playlist){if(!this.master.playlists[playlist])throw new Error("Unknown playlist URI: "+playlist);playlist=this.master.playlists[playlist]}var mediaChange=!this.media_||playlist.uri!==this.media_.uri;if(this.master.playlists[playlist.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=playlist,void(mediaChange&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(mediaChange){if(this.state="SWITCHING_MEDIA",this.request){if((0,_resolveUrl2.default)(this.master.uri,playlist.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,_resolveUrl2.default)(this.master.uri,playlist.uri),withCredentials:this.withCredentials},function(error,req){if(_this3.request){if(error)return _this3.playlistRequestError(_this3.request,playlist.uri,startingState);_this3.haveMetadata(req,playlist.uri),"HAVE_MASTER"===startingState?_this3.trigger("loadedmetadata"):_this3.trigger("mediachange")}})}}},{key:"pause",value:function pause(){this.stopRequest(),_globalWindow2.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function load(isFinalRendition){var _this4=this;_globalWindow2.default.clearTimeout(this.mediaUpdateTimeout);var media=this.media();if(isFinalRendition){var delay=media?media.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=_globalWindow2.default.setTimeout(function(){return _this4.load()},delay)}else this.started?media&&!media.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function start(){var _this5=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(error,req){if(_this5.request){if(_this5.request=null,error)return _this5.error={status:req.status,message:"HLS playlist request error at URL: "+_this5.srcUrl,responseText:req.responseText,code:2},"HAVE_NOTHING"===_this5.state&&(_this5.started=!1),_this5.trigger("error");var parser=new _m3u8Parser2.default.Parser;return parser.push(req.responseText),parser.end(),_this5.state="HAVE_MASTER",parser.manifest.uri=_this5.srcUrl,parser.manifest.playlists?(_this5.master=parser.manifest,setupMediaPlaylists(_this5.master),resolveMediaGroupUris(_this5.master),_this5.trigger("loadedplaylist"),void(_this5.request||_this5.media(parser.manifest.playlists[0]))):(_this5.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:_globalWindow2.default.location.href,playlists:[{uri:_this5.srcUrl}]},_this5.master.playlists[_this5.srcUrl]=_this5.master.playlists[0],_this5.master.playlists[0].resolvedUri=_this5.srcUrl,_this5.master.playlists[0].attributes=_this5.master.playlists[0].attributes||{},_this5.haveMetadata(req,_this5.srcUrl),_this5.trigger("loadedmetadata"))}})}}]),PlaylistLoader}(_videoJs.EventTarget);exports.default=PlaylistLoader},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _urlToolkit,_urlToolkit2=_interopRequireDefault(__webpack_require__(391)),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),resolveUrl=function resolveUrl(baseURL,relativeURL){return/^[a-z]+:/i.test(relativeURL)?relativeURL:(/\/\//i.test(baseURL)||(baseURL=_urlToolkit2.default.buildAbsoluteURL(_globalWindow2.default.location.href,baseURL)),_urlToolkit2.default.buildAbsoluteURL(baseURL,relativeURL))};exports.default=resolveUrl,module.exports=exports.default},function(module,exports,__webpack_require__){var root,URL_REGEX,FIRST_SEGMENT_REGEX,SLASH_DOT_REGEX,SLASH_DOT_DOT_REGEX,URLToolkit;root=this,URL_REGEX=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,FIRST_SEGMENT_REGEX=/^([^\/?#]*)(.*)$/,SLASH_DOT_REGEX=/(?:\/|^)\.(?=\/)/g,SLASH_DOT_DOT_REGEX=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,URLToolkit={buildAbsoluteURL:function(baseURL,relativeURL,opts){if(opts=opts||{},baseURL=baseURL.trim(),!(relativeURL=relativeURL.trim())){if(!opts.alwaysNormalize)return baseURL;var basePartsForNormalise=URLToolkit.parseURL(baseURL);if(!basePartsForNormalise)throw new Error("Error trying to parse base URL.");return basePartsForNormalise.path=URLToolkit.normalizePath(basePartsForNormalise.path),URLToolkit.buildURLFromParts(basePartsForNormalise)}var relativeParts=URLToolkit.parseURL(relativeURL);if(!relativeParts)throw new Error("Error trying to parse relative URL.");if(relativeParts.scheme)return opts.alwaysNormalize?(relativeParts.path=URLToolkit.normalizePath(relativeParts.path),URLToolkit.buildURLFromParts(relativeParts)):relativeURL;var baseParts=URLToolkit.parseURL(baseURL);if(!baseParts)throw new Error("Error trying to parse base URL.");if(!baseParts.netLoc&&baseParts.path&&"/"!==baseParts.path[0]){var pathParts=FIRST_SEGMENT_REGEX.exec(baseParts.path);baseParts.netLoc=pathParts[1],baseParts.path=pathParts[2]}baseParts.netLoc&&!baseParts.path&&(baseParts.path="/");var builtParts={scheme:baseParts.scheme,netLoc:relativeParts.netLoc,path:null,params:relativeParts.params,query:relativeParts.query,fragment:relativeParts.fragment};if(!relativeParts.netLoc&&(builtParts.netLoc=baseParts.netLoc,"/"!==relativeParts.path[0]))if(relativeParts.path){var baseURLPath=baseParts.path,newPath=baseURLPath.substring(0,baseURLPath.lastIndexOf("/")+1)+relativeParts.path;builtParts.path=URLToolkit.normalizePath(newPath)}else builtParts.path=baseParts.path,relativeParts.params||(builtParts.params=baseParts.params,relativeParts.query||(builtParts.query=baseParts.query));return null===builtParts.path&&(builtParts.path=opts.alwaysNormalize?URLToolkit.normalizePath(relativeParts.path):relativeParts.path),URLToolkit.buildURLFromParts(builtParts)},parseURL:function(url){var parts=URL_REGEX.exec(url);return parts?{scheme:parts[1]||"",netLoc:parts[2]||"",path:parts[3]||"",params:parts[4]||"",query:parts[5]||"",fragment:parts[6]||""}:null},normalizePath:function(path){for(path=path.split("").reverse().join("").replace(SLASH_DOT_REGEX,"");path.length!==(path=path.replace(SLASH_DOT_DOT_REGEX,"")).length;);return path.split("").reverse().join("")},buildURLFromParts:function(parts){return parts.scheme+parts.netLoc+parts.path+parts.params+parts.query+parts.fragment}},module.exports=URLToolkit},function(module,exports,__webpack_require__){"use strict";var _lineStream,_lineStream2=_interopRequireDefault(__webpack_require__(393)),_parseStream,_parseStream2=_interopRequireDefault(__webpack_require__(395)),_parser,_parser2=_interopRequireDefault(__webpack_require__(396));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports={LineStream:_lineStream2.default,ParseStream:_parseStream2.default,Parser:_parser2.default}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_stream,_stream2;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LineStream=function(_Stream){function LineStream(){_classCallCheck(this,LineStream);var _this=_possibleConstructorReturn(this,(LineStream.__proto__||Object.getPrototypeOf(LineStream)).call(this));return _this.buffer="",_this}return _inherits(LineStream,_Stream),_createClass(LineStream,[{key:"push",value:function push(data){var nextNewline=void 0;for(this.buffer+=data,nextNewline=this.buffer.indexOf("\n");nextNewline>-1;nextNewline=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,nextNewline)),this.buffer=this.buffer.substring(nextNewline+1)}}]),LineStream}(_interopRequireDefault(__webpack_require__(394)).default);exports.default=LineStream},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Stream=function(){function Stream(){_classCallCheck(this,Stream),this.listeners={}}return _createClass(Stream,[{key:"on",value:function on(type,listener){this.listeners[type]||(this.listeners[type]=[]),this.listeners[type].push(listener)}},{key:"off",value:function off(type,listener){if(!this.listeners[type])return!1;var index=this.listeners[type].indexOf(listener);return this.listeners[type].splice(index,1),index>-1}},{key:"trigger",value:function trigger(type){var callbacks=this.listeners[type],i=void 0,length=void 0,args=void 0;if(callbacks)if(2===arguments.length)for(length=callbacks.length,i=0;i<length;++i)callbacks[i].call(this,arguments[1]);else for(args=Array.prototype.slice.call(arguments,1),length=callbacks.length,i=0;i<length;++i)callbacks[i].apply(this,args)}},{key:"dispose",value:function dispose(){this.listeners={}}},{key:"pipe",value:function pipe(destination){this.on("data",function(data){destination.push(data)})}}]),Stream}();exports.default=Stream},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_stream,_stream2=_interopRequireDefault(__webpack_require__(394));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var attributeSeparator=function attributeSeparator(){var key="[^=]*",value,keyvalue;return new RegExp("(?:^|,)("+("(?:[^=]*)=(?:"+'"[^"]*"|[^,]*'+")")+")")},parseAttributes=function parseAttributes(attributes){for(var attrs=attributes.split(attributeSeparator()),result={},i=attrs.length,attr=void 0;i--;)""!==attrs[i]&&((attr=/([^=]*)=(.*)/.exec(attrs[i]).slice(1))[0]=attr[0].replace(/^\s+|\s+$/g,""),attr[1]=attr[1].replace(/^\s+|\s+$/g,""),attr[1]=attr[1].replace(/^['"](.*)['"]$/g,"$1"),result[attr[0]]=attr[1]);return result},ParseStream=function(_Stream){function ParseStream(){return _classCallCheck(this,ParseStream),_possibleConstructorReturn(this,(ParseStream.__proto__||Object.getPrototypeOf(ParseStream)).call(this))}return _inherits(ParseStream,_Stream),_createClass(ParseStream,[{key:"push",value:function push(line){var match=void 0,event=void 0;if(0!==(line=line.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===line[0])if(0===line.indexOf("#EXT"))if(line=line.replace("\r",""),match=/^#EXTM3U/.exec(line))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(match=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(line))return event={type:"tag",tagType:"inf"},match[1]&&(event.duration=parseFloat(match[1])),match[2]&&(event.title=match[2]),void this.trigger("data",event);if(match=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(line))return event={type:"tag",tagType:"targetduration"},match[1]&&(event.duration=parseInt(match[1],10)),void this.trigger("data",event);if(match=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(line))return event={type:"tag",tagType:"totalduration"},match[1]&&(event.duration=parseInt(match[1],10)),void this.trigger("data",event);if(match=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(line))return event={type:"tag",tagType:"version"},match[1]&&(event.version=parseInt(match[1],10)),void this.trigger("data",event);if(match=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(line))return event={type:"tag",tagType:"media-sequence"},match[1]&&(event.number=parseInt(match[1],10)),void this.trigger("data",event);if(match=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(line))return event={type:"tag",tagType:"discontinuity-sequence"},match[1]&&(event.number=parseInt(match[1],10)),void this.trigger("data",event);if(match=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(line))return event={type:"tag",tagType:"playlist-type"},match[1]&&(event.playlistType=match[1]),void this.trigger("data",event);if(match=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(line))return event={type:"tag",tagType:"byterange"},match[1]&&(event.length=parseInt(match[1],10)),match[2]&&(event.offset=parseInt(match[2],10)),void this.trigger("data",event);if(match=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(line))return event={type:"tag",tagType:"allow-cache"},match[1]&&(event.allowed=!/NO/.test(match[1])),void this.trigger("data",event);if(match=/^#EXT-X-MAP:?(.*)$/.exec(line)){if(event={type:"tag",tagType:"map"},match[1]){var attributes=parseAttributes(match[1]);if(attributes.URI&&(event.uri=attributes.URI),attributes.BYTERANGE){var _attributes$BYTERANGE=attributes.BYTERANGE.split("@"),_attributes$BYTERANGE2=_slicedToArray(_attributes$BYTERANGE,2),length=_attributes$BYTERANGE2[0],offset=_attributes$BYTERANGE2[1];event.byterange={},length&&(event.byterange.length=parseInt(length,10)),offset&&(event.byterange.offset=parseInt(offset,10))}}this.trigger("data",event)}else if(match=/^#EXT-X-STREAM-INF:?(.*)$/.exec(line)){if(event={type:"tag",tagType:"stream-inf"},match[1]){if(event.attributes=parseAttributes(match[1]),event.attributes.RESOLUTION){var split=event.attributes.RESOLUTION.split("x"),resolution={};split[0]&&(resolution.width=parseInt(split[0],10)),split[1]&&(resolution.height=parseInt(split[1],10)),event.attributes.RESOLUTION=resolution}event.attributes.BANDWIDTH&&(event.attributes.BANDWIDTH=parseInt(event.attributes.BANDWIDTH,10)),event.attributes["PROGRAM-ID"]&&(event.attributes["PROGRAM-ID"]=parseInt(event.attributes["PROGRAM-ID"],10))}this.trigger("data",event)}else{if(match=/^#EXT-X-MEDIA:?(.*)$/.exec(line))return event={type:"tag",tagType:"media"},match[1]&&(event.attributes=parseAttributes(match[1])),void this.trigger("data",event);if(match=/^#EXT-X-ENDLIST/.exec(line))this.trigger("data",{type:"tag",tagType:"endlist"});else if(match=/^#EXT-X-DISCONTINUITY/.exec(line))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(match=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(line))return event={type:"tag",tagType:"program-date-time"},match[1]&&(event.dateTimeString=match[1],event.dateTimeObject=new Date(match[1])),void this.trigger("data",event);if(match=/^#EXT-X-KEY:?(.*)$/.exec(line))return event={type:"tag",tagType:"key"},match[1]&&(event.attributes=parseAttributes(match[1]),event.attributes.IV&&("0x"===event.attributes.IV.substring(0,2).toLowerCase()&&(event.attributes.IV=event.attributes.IV.substring(2)),event.attributes.IV=event.attributes.IV.match(/.{8}/g),event.attributes.IV[0]=parseInt(event.attributes.IV[0],16),event.attributes.IV[1]=parseInt(event.attributes.IV[1],16),event.attributes.IV[2]=parseInt(event.attributes.IV[2],16),event.attributes.IV[3]=parseInt(event.attributes.IV[3],16),event.attributes.IV=new Uint32Array(event.attributes.IV))),void this.trigger("data",event);if(match=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(line))return event={type:"tag",tagType:"cue-out-cont"},match[1]?event.data=match[1]:event.data="",void this.trigger("data",event);if(match=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(line))return event={type:"tag",tagType:"cue-out"},match[1]?event.data=match[1]:event.data="",void this.trigger("data",event);if(match=/^#EXT-X-CUE-IN:?(.*)?$/.exec(line))return event={type:"tag",tagType:"cue-in"},match[1]?event.data=match[1]:event.data="",void this.trigger("data",event);this.trigger("data",{type:"tag",data:line.slice(4)})}}}else this.trigger("data",{type:"comment",text:line.slice(1)});else this.trigger("data",{type:"uri",uri:line})}}]),ParseStream}(_stream2.default);exports.default=ParseStream},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_stream,_stream2=_interopRequireDefault(__webpack_require__(394)),_lineStream,_lineStream2=_interopRequireDefault(__webpack_require__(393)),_parseStream,_parseStream2=_interopRequireDefault(__webpack_require__(395));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Parser=function(_Stream){function Parser(){_classCallCheck(this,Parser);var _this=_possibleConstructorReturn(this,(Parser.__proto__||Object.getPrototypeOf(Parser)).call(this));_this.lineStream=new _lineStream2.default,_this.parseStream=new _parseStream2.default,_this.lineStream.pipe(_this.parseStream);var self=_this,uris=[],currentUri={},currentMap=void 0,_key=void 0,noop=function noop(){},defaultMediaGroups={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},currentTimeline=0;return _this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},_this.parseStream.on("data",function(entry){var mediaGroup=void 0,rendition=void 0;({tag:function tag(){(({"allow-cache":function allowCache(){this.manifest.allowCache=entry.allowed,"allowed"in entry||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function byterange(){var byterange={};"length"in entry&&(currentUri.byterange=byterange,byterange.length=entry.length,"offset"in entry||(this.trigger("info",{message:"defaulting offset to zero"}),entry.offset=0)),"offset"in entry&&(currentUri.byterange=byterange,byterange.offset=entry.offset)},endlist:function endlist(){this.manifest.endList=!0},inf:function inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),entry.duration>0&&(currentUri.duration=entry.duration),0===entry.duration&&(currentUri.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=uris},key:function key(){entry.attributes?"NONE"!==entry.attributes.METHOD?entry.attributes.URI?(entry.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),_key={method:entry.attributes.METHOD||"AES-128",uri:entry.attributes.URI},void 0!==entry.attributes.IV&&(_key.iv=entry.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):_key=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function mediaSequence(){isFinite(entry.number)?this.manifest.mediaSequence=entry.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+entry.number})},"discontinuity-sequence":function discontinuitySequence(){isFinite(entry.number)?(this.manifest.discontinuitySequence=entry.number,currentTimeline=entry.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+entry.number})},"playlist-type":function playlistType(){/VOD|EVENT/.test(entry.playlistType)?this.manifest.playlistType=entry.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+entry.playlist})},map:function map(){currentMap={},entry.uri&&(currentMap.uri=entry.uri),entry.byterange&&(currentMap.byterange=entry.byterange)},"stream-inf":function streamInf(){this.manifest.playlists=uris,this.manifest.mediaGroups=this.manifest.mediaGroups||defaultMediaGroups,entry.attributes?(currentUri.attributes||(currentUri.attributes={}),_extends(currentUri.attributes,entry.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||defaultMediaGroups,entry.attributes&&entry.attributes.TYPE&&entry.attributes["GROUP-ID"]&&entry.attributes.NAME){var mediaGroupType=this.manifest.mediaGroups[entry.attributes.TYPE];mediaGroupType[entry.attributes["GROUP-ID"]]=mediaGroupType[entry.attributes["GROUP-ID"]]||{},mediaGroup=mediaGroupType[entry.attributes["GROUP-ID"]],(rendition={default:/yes/i.test(entry.attributes.DEFAULT)}).default?rendition.autoselect=!0:rendition.autoselect=/yes/i.test(entry.attributes.AUTOSELECT),entry.attributes.LANGUAGE&&(rendition.language=entry.attributes.LANGUAGE),entry.attributes.URI&&(rendition.uri=entry.attributes.URI),entry.attributes["INSTREAM-ID"]&&(rendition.instreamId=entry.attributes["INSTREAM-ID"]),entry.attributes.CHARACTERISTICS&&(rendition.characteristics=entry.attributes.CHARACTERISTICS),entry.attributes.FORCED&&(rendition.forced=/yes/i.test(entry.attributes.FORCED)),mediaGroup[entry.attributes.NAME]=rendition}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function discontinuity(){currentTimeline+=1,currentUri.discontinuity=!0,this.manifest.discontinuityStarts.push(uris.length)},"program-date-time":function programDateTime(){this.manifest.dateTimeString=entry.dateTimeString,this.manifest.dateTimeObject=entry.dateTimeObject},targetduration:function targetduration(){!isFinite(entry.duration)||entry.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+entry.duration}):this.manifest.targetDuration=entry.duration},totalduration:function totalduration(){!isFinite(entry.duration)||entry.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+entry.duration}):this.manifest.totalDuration=entry.duration},"cue-out":function cueOut(){currentUri.cueOut=entry.data},"cue-out-cont":function cueOutCont(){currentUri.cueOutCont=entry.data},"cue-in":function cueIn(){currentUri.cueIn=entry.data}})[entry.tagType]||noop).call(self)},uri:function uri(){currentUri.uri=entry.uri,uris.push(currentUri),!this.manifest.targetDuration||"duration"in currentUri||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),currentUri.duration=this.manifest.targetDuration),_key&&(currentUri.key=_key),currentUri.timeline=currentTimeline,currentMap&&(currentUri.map=currentMap),currentUri={}},comment:function comment(){}})[entry.type].call(self)}),_this}return _inherits(Parser,_Stream),_createClass(Parser,[{key:"push",value:function push(chunk){this.lineStream.push(chunk)}},{key:"end",value:function end(){this.lineStream.push("\n")}}]),Parser}(_stream2.default);exports.default=Parser},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _videoJs=__webpack_require__(279),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),backwardDuration=function backwardDuration(playlist,endSequence){var result=0,i=endSequence-playlist.mediaSequence,segment=playlist.segments[i];if(segment){if(void 0!==segment.start)return{result:segment.start,precise:!0};if(void 0!==segment.end)return{result:segment.end-segment.duration,precise:!0}}for(;i--;){if(void 0!==(segment=playlist.segments[i]).end)return{result:result+segment.end,precise:!0};if(result+=segment.duration,void 0!==segment.start)return{result:result+segment.start,precise:!0}}return{result:result,precise:!1}},forwardDuration=function forwardDuration(playlist,endSequence){for(var result=0,segment=void 0,i=endSequence-playlist.mediaSequence;i<playlist.segments.length;i++){if(void 0!==(segment=playlist.segments[i]).start)return{result:segment.start-result,precise:!0};if(result+=segment.duration,void 0!==segment.end)return{result:segment.end-result,precise:!0}}return{result:-1,precise:!1}},intervalDuration=function intervalDuration(playlist,endSequence,expired){var backward=void 0,forward=void 0;return void 0===endSequence&&(endSequence=playlist.mediaSequence+playlist.segments.length),endSequence<playlist.mediaSequence?0:(backward=backwardDuration(playlist,endSequence)).precise?backward.result:(forward=forwardDuration(playlist,endSequence)).precise?forward.result:backward.result+expired},duration=function duration(playlist,endSequence,expired){if(!playlist)return 0;if("number"!=typeof expired&&(expired=0),void 0===endSequence){if(playlist.totalDuration)return playlist.totalDuration;if(!playlist.endList)return _globalWindow2.default.Infinity}return intervalDuration(playlist,endSequence,expired)};exports.duration=duration;var sumDurations=function sumDurations(playlist,startIndex,endIndex){var durations=0;if(startIndex>endIndex){var _ref=[endIndex,startIndex];startIndex=_ref[0],endIndex=_ref[1]}if(startIndex<0){for(var i=startIndex;i<Math.min(0,endIndex);i++)durations+=playlist.targetDuration;startIndex=0}for(var i=startIndex;i<endIndex;i++)durations+=playlist.segments[i].duration;return durations};exports.sumDurations=sumDurations;var safeLiveIndex=function safeLiveIndex(playlist){if(!playlist.segments.length)return 0;for(var i=playlist.segments.length-1,distanceFromEnd=playlist.segments[i].duration||playlist.targetDuration,safeDistance=distanceFromEnd+2*playlist.targetDuration;i--&&!((distanceFromEnd+=playlist.segments[i].duration)>=safeDistance););return Math.max(0,i)};exports.safeLiveIndex=safeLiveIndex;var playlistEnd=function playlistEnd(playlist,expired,useSafeLiveEnd){if(!playlist||!playlist.segments)return null;if(playlist.endList)return duration(playlist);if(null===expired)return null;expired=expired||0;var endSequence=useSafeLiveEnd?safeLiveIndex(playlist):playlist.segments.length;return intervalDuration(playlist,playlist.mediaSequence+endSequence,expired)};exports.playlistEnd=playlistEnd;var seekable=function seekable(playlist,expired){var useSafeLiveEnd=!0,seekableStart=expired||0,seekableEnd=playlistEnd(playlist,expired,!0);return null===seekableEnd?(0,_videoJs.createTimeRange)():(0,_videoJs.createTimeRange)(seekableStart,seekableEnd)};exports.seekable=seekable;var isWholeNumber=function isWholeNumber(num){return num-Math.floor(num)==0},roundSignificantDigit=function roundSignificantDigit(increment,num){if(isWholeNumber(num))return num+.1*increment;for(var numDecimalDigits=num.toString().split(".")[1].length,i=1;i<=numDecimalDigits;i++){var scale=Math.pow(10,i),temp=num*scale;if(isWholeNumber(temp)||i===numDecimalDigits)return(temp+increment)/scale}},ceilLeastSignificantDigit=roundSignificantDigit.bind(null,1),floorLeastSignificantDigit=roundSignificantDigit.bind(null,-1),getMediaInfoForTime=function getMediaInfoForTime(playlist,currentTime,startIndex,startTime){var i=void 0,segment=void 0,numSegments=playlist.segments.length,time=currentTime-startTime;if(time<0){if(startIndex>0)for(i=startIndex-1;i>=0;i--)if(segment=playlist.segments[i],(time+=floorLeastSignificantDigit(segment.duration))>0)return{mediaIndex:i,startTime:startTime-sumDurations(playlist,startIndex,i)};return{mediaIndex:0,startTime:currentTime}}if(startIndex<0){for(i=startIndex;i<0;i++)if((time-=playlist.targetDuration)<0)return{mediaIndex:0,startTime:currentTime};startIndex=0}for(i=startIndex;i<numSegments;i++)if(segment=playlist.segments[i],(time-=ceilLeastSignificantDigit(segment.duration))<0)return{mediaIndex:i,startTime:startTime+sumDurations(playlist,startIndex,i)};return{mediaIndex:numSegments-1,startTime:currentTime}};exports.getMediaInfoForTime=getMediaInfoForTime;var isBlacklisted=function isBlacklisted(playlist){return playlist.excludeUntil&&playlist.excludeUntil>Date.now()};exports.isBlacklisted=isBlacklisted;var isIncompatible=function isIncompatible(playlist){return playlist.excludeUntil&&playlist.excludeUntil===1/0};exports.isIncompatible=isIncompatible;var isEnabled=function isEnabled(playlist){var blacklisted=isBlacklisted(playlist);return!playlist.disabled&&!blacklisted};exports.isEnabled=isEnabled;var isDisabled=function isDisabled(playlist){return playlist.disabled};exports.isDisabled=isDisabled;var isAes=function isAes(media){for(var i=0;i<media.segments.length;i++)if(media.segments[i].key)return!0;return!1};exports.isAes=isAes;var isFmp4=function isFmp4(media){for(var i=0;i<media.segments.length;i++)if(media.segments[i].map)return!0;return!1};exports.isFmp4=isFmp4;var hasAttribute=function hasAttribute(attr,playlist){return playlist.attributes&&playlist.attributes[attr]};exports.hasAttribute=hasAttribute;var estimateSegmentRequestTime=function estimateSegmentRequestTime(segmentDuration,bandwidth,playlist){var bytesReceived=arguments.length<=3||void 0===arguments[3]?0:arguments[3],size;return hasAttribute("BANDWIDTH",playlist)?(segmentDuration*playlist.attributes.BANDWIDTH-8*bytesReceived)/bandwidth:NaN};exports.estimateSegmentRequestTime=estimateSegmentRequestTime;var isLowestEnabledRendition=function isLowestEnabledRendition(master,media){if(1===master.playlists.length)return!0;var currentBandwidth=media.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===master.playlists.filter(function(playlist){return!!isEnabled(playlist)&&(playlist.attributes.BANDWIDTH||0)<currentBandwidth}).length};exports.isLowestEnabledRendition=isLowestEnabledRendition,exports.default={duration:duration,seekable:seekable,safeLiveIndex:safeLiveIndex,getMediaInfoForTime:getMediaInfoForTime,isEnabled:isEnabled,isDisabled:isDisabled,isBlacklisted:isBlacklisted,isIncompatible:isIncompatible,playlistEnd:playlistEnd,isAes:isAes,isFmp4:isFmp4,hasAttribute:hasAttribute,estimateSegmentRequestTime:estimateSegmentRequestTime,isLowestEnabledRendition:isLowestEnabledRendition}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _videoJs=__webpack_require__(279),_videoJs2=_interopRequireDefault(_videoJs),xhrFactory=function xhrFactory(){var xhr;return function XhrFunction(options,callback){options=(0,_videoJs.mergeOptions)({timeout:45e3},options);var beforeRequest=XhrFunction.beforeRequest||_videoJs2.default.Hls.xhr.beforeRequest;if(beforeRequest&&"function"==typeof beforeRequest){var newOptions=beforeRequest(options);newOptions&&(options=newOptions)}var request=(0,_videoJs.xhr)(options,function(error,response){var reqResponse=request.response;!error&&reqResponse&&(request.responseTime=Date.now(),request.roundTripTime=request.responseTime-request.requestTime,request.bytesReceived=reqResponse.byteLength||reqResponse.length,request.bandwidth||(request.bandwidth=Math.floor(request.bytesReceived/request.roundTripTime*8*1e3))),error&&"ETIMEDOUT"===error.code&&(request.timedout=!0),error||request.aborted||200===response.statusCode||206===response.statusCode||0===response.statusCode||(error=new Error("XHR Failed with a response of: "+(request&&(reqResponse||request.responseText)))),callback(error,request)}),originalAbort=request.abort;return request.abort=function(){return request.aborted=!0,originalAbort.apply(request,arguments)},request.uri=options.uri,request.requestTime=Date.now(),request}};exports.default=xhrFactory,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _decrypter=__webpack_require__(400),_asyncStream,_asyncStream2=_interopRequireDefault(__webpack_require__(402));exports.default={decrypt:_decrypter.decrypt,Decrypter:_decrypter.Decrypter,AsyncStream:_asyncStream2.default},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _aes,_aes2=_interopRequireDefault(__webpack_require__(401)),_asyncStream,_asyncStream2=_interopRequireDefault(__webpack_require__(402)),_pkcs7=__webpack_require__(404),ntoh=function ntoh(word){return word<<24|(65280&word)<<8|(16711680&word)>>8|word>>>24},decrypt=function decrypt(encrypted,key,initVector){var encrypted32=new Int32Array(encrypted.buffer,encrypted.byteOffset,encrypted.byteLength>>2),decipher=new _aes2.default(Array.prototype.slice.call(key)),decrypted=new Uint8Array(encrypted.byteLength),decrypted32=new Int32Array(decrypted.buffer),init0=void 0,init1=void 0,init2=void 0,init3=void 0,encrypted0=void 0,encrypted1=void 0,encrypted2=void 0,encrypted3=void 0,wordIx=void 0;for(init0=initVector[0],init1=initVector[1],init2=initVector[2],init3=initVector[3],wordIx=0;wordIx<encrypted32.length;wordIx+=4)encrypted0=ntoh(encrypted32[wordIx]),encrypted1=ntoh(encrypted32[wordIx+1]),encrypted2=ntoh(encrypted32[wordIx+2]),encrypted3=ntoh(encrypted32[wordIx+3]),decipher.decrypt(encrypted0,encrypted1,encrypted2,encrypted3,decrypted32,wordIx),decrypted32[wordIx]=ntoh(decrypted32[wordIx]^init0),decrypted32[wordIx+1]=ntoh(decrypted32[wordIx+1]^init1),decrypted32[wordIx+2]=ntoh(decrypted32[wordIx+2]^init2),decrypted32[wordIx+3]=ntoh(decrypted32[wordIx+3]^init3),init0=encrypted0,init1=encrypted1,init2=encrypted2,init3=encrypted3;return decrypted};exports.decrypt=decrypt;var Decrypter=function(){function Decrypter(encrypted,key,initVector,done){_classCallCheck(this,Decrypter);var step=Decrypter.STEP,encrypted32=new Int32Array(encrypted.buffer),decrypted=new Uint8Array(encrypted.byteLength),i=0;for(this.asyncStream_=new _asyncStream2.default,this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i,i+step),key,initVector,decrypted)),i=step;i<encrypted32.length;i+=step)initVector=new Uint32Array([ntoh(encrypted32[i-4]),ntoh(encrypted32[i-3]),ntoh(encrypted32[i-2]),ntoh(encrypted32[i-1])]),this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i,i+step),key,initVector,decrypted));this.asyncStream_.push(function(){done(null,(0,_pkcs7.unpad)(decrypted))})}return _createClass(Decrypter,[{key:"decryptChunk_",value:function decryptChunk_(encrypted,key,initVector,decrypted){return function(){var bytes=decrypt(encrypted,key,initVector);decrypted.set(bytes,encrypted.byteOffset)}}}],[{key:"STEP",get:function get(){return 32e3}}]),Decrypter}();exports.Decrypter=Decrypter,exports.default={Decrypter:Decrypter,decrypt:decrypt}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var precompute=function precompute(){var tables=[[[],[],[],[],[]],[[],[],[],[],[]]],encTable=tables[0],decTable=tables[1],sbox=encTable[4],sboxInv=decTable[4],i=void 0,x=void 0,xInv=void 0,d=[],th=[],x2=void 0,x4=void 0,x8=void 0,s=void 0,tEnc=void 0,tDec=void 0;for(i=0;i<256;i++)th[(d[i]=i<<1^283*(i>>7))^i]=i;for(x=xInv=0;!sbox[x];x^=x2||1,xInv=th[xInv]||1)for(s=(s=xInv^xInv<<1^xInv<<2^xInv<<3^xInv<<4)>>8^255&s^99,sbox[x]=s,sboxInv[s]=x,tDec=16843009*(x8=d[x4=d[x2=d[x]]])^65537*x4^257*x2^16843008*x,tEnc=257*d[s]^16843008*s,i=0;i<4;i++)encTable[i][x]=tEnc=tEnc<<24^tEnc>>>8,decTable[i][s]=tDec=tDec<<24^tDec>>>8;for(i=0;i<5;i++)encTable[i]=encTable[i].slice(0),decTable[i]=decTable[i].slice(0);return tables},aesTables=null,AES=function(){function AES(key){_classCallCheck(this,AES),aesTables||(aesTables=precompute()),this._tables=[[aesTables[0][0].slice(),aesTables[0][1].slice(),aesTables[0][2].slice(),aesTables[0][3].slice(),aesTables[0][4].slice()],[aesTables[1][0].slice(),aesTables[1][1].slice(),aesTables[1][2].slice(),aesTables[1][3].slice(),aesTables[1][4].slice()]];var i=void 0,j=void 0,tmp=void 0,encKey=void 0,decKey=void 0,sbox=this._tables[0][4],decTable=this._tables[1],keyLen=key.length,rcon=1;if(4!==keyLen&&6!==keyLen&&8!==keyLen)throw new Error("Invalid aes key size");for(encKey=key.slice(0),decKey=[],this._key=[encKey,decKey],i=keyLen;i<4*keyLen+28;i++)tmp=encKey[i-1],(i%keyLen==0||8===keyLen&&i%keyLen==4)&&(tmp=sbox[tmp>>>24]<<24^sbox[tmp>>16&255]<<16^sbox[tmp>>8&255]<<8^sbox[255&tmp],i%keyLen==0&&(tmp=tmp<<8^tmp>>>24^rcon<<24,rcon=rcon<<1^283*(rcon>>7))),encKey[i]=encKey[i-keyLen]^tmp;for(j=0;i;j++,i--)tmp=encKey[3&j?i:i-4],decKey[j]=i<=4||j<4?tmp:decTable[0][sbox[tmp>>>24]]^decTable[1][sbox[tmp>>16&255]]^decTable[2][sbox[tmp>>8&255]]^decTable[3][sbox[255&tmp]]}return _createClass(AES,[{key:"decrypt",value:function decrypt(encrypted0,encrypted1,encrypted2,encrypted3,out,offset){var key=this._key[1],a=encrypted0^key[0],b=encrypted3^key[1],c=encrypted2^key[2],d=encrypted1^key[3],a2=void 0,b2=void 0,c2=void 0,nInnerRounds=key.length/4-2,i=void 0,kIndex=4,table=this._tables[1],table0=table[0],table1=table[1],table2=table[2],table3=table[3],sbox=table[4];for(i=0;i<nInnerRounds;i++)a2=table0[a>>>24]^table1[b>>16&255]^table2[c>>8&255]^table3[255&d]^key[kIndex],b2=table0[b>>>24]^table1[c>>16&255]^table2[d>>8&255]^table3[255&a]^key[kIndex+1],c2=table0[c>>>24]^table1[d>>16&255]^table2[a>>8&255]^table3[255&b]^key[kIndex+2],d=table0[d>>>24]^table1[a>>16&255]^table2[b>>8&255]^table3[255&c]^key[kIndex+3],kIndex+=4,a=a2,b=b2,c=c2;for(i=0;i<4;i++)out[(3&-i)+offset]=sbox[a>>>24]<<24^sbox[b>>16&255]<<16^sbox[c>>8&255]<<8^sbox[255&d]^key[kIndex++],a2=a,a=b,b=c,c=d,d=a2}}]),AES}();exports.default=AES,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _stream,_stream2=_interopRequireDefault(__webpack_require__(403)),AsyncStream=function(_Stream){function AsyncStream(){_classCallCheck(this,AsyncStream),_get(Object.getPrototypeOf(AsyncStream.prototype),"constructor",this).call(this,_stream2.default),this.jobs=[],this.delay=1,this.timeout_=null}return _inherits(AsyncStream,_Stream),_createClass(AsyncStream,[{key:"processJob_",value:function processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function push(job){this.jobs.push(job),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),AsyncStream}(_stream2.default);exports.default=AsyncStream,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Stream=function(){function Stream(){_classCallCheck(this,Stream),this.listeners={}}return _createClass(Stream,[{key:"on",value:function on(type,listener){this.listeners[type]||(this.listeners[type]=[]),this.listeners[type].push(listener)}},{key:"off",value:function off(type,listener){var index=void 0;return!!this.listeners[type]&&(index=this.listeners[type].indexOf(listener),this.listeners[type].splice(index,1),index>-1)}},{key:"trigger",value:function trigger(type){var callbacks=void 0,i=void 0,length=void 0,args=void 0;if(callbacks=this.listeners[type])if(2===arguments.length)for(length=callbacks.length,i=0;i<length;++i)callbacks[i].call(this,arguments[1]);else for(args=Array.prototype.slice.call(arguments,1),length=callbacks.length,i=0;i<length;++i)callbacks[i].apply(this,args)}},{key:"dispose",value:function dispose(){this.listeners={}}},{key:"pipe",value:function pipe(destination){this.on("data",function(data){destination.push(data)})}}]),Stream}();exports.default=Stream,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.pad=__webpack_require__(405),exports.unpad=__webpack_require__(406)},function(module,exports){"use strict";var PADDING;module.exports=function pad(plaintext){var padding=PADDING[plaintext.byteLength%16||0],result=new Uint8Array(plaintext.byteLength+padding.length);return result.set(plaintext),result.set(padding,plaintext.byteLength),result},PADDING=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},function(module,exports){"use strict";module.exports=function unpad(padded){return padded.subarray(0,padded.byteLength-padded[padded.byteLength-1])}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var textRange=function textRange(range,i){return range.start(i)+"-"+range.end(i)},formatHexString=function formatHexString(e,i){var value=e.toString(16);return"00".substring(0,2-value.length)+value+(i%2?" ":"")},formatAsciiString=function formatAsciiString(e){return e>=32&&e<126?String.fromCharCode(e):"."},createTransferableMessage,initSegmentId,utils={hexDump:function hexDump(data){for(var bytes=Array.prototype.slice.call(data),step=16,result="",hex=void 0,ascii=void 0,j=0;j<bytes.length/16;j++)result+=(hex=bytes.slice(16*j,16*j+16).map(formatHexString).join(""))+" "+(ascii=bytes.slice(16*j,16*j+16).map(formatAsciiString).join(""))+"\n";return result},tagDump:function tagDump(tag){return utils.hexDump(tag.bytes)},textRanges:function textRanges(ranges){var result="",i=void 0;for(i=0;i<ranges.length;i++)result+=textRange(ranges,i)+" ";return result},createTransferableMessage:function createTransferableMessage(message){var transferable={};return Object.keys(message).forEach(function(key){var value=message[key];ArrayBuffer.isView(value)?transferable[key]={bytes:value.buffer,byteOffset:value.byteOffset,byteLength:value.byteLength}:transferable[key]=value}),transferable},initSegmentId:function initSegmentId(initSegment){var byterange=initSegment.byterange||{length:1/0,offset:0};return[byterange.length,byterange.offset,initSegment.resolvedUri].join(",")}};exports.default=utils,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_flashMediaSource,_flashMediaSource2=_interopRequireDefault(__webpack_require__(409)),_htmlMediaSource,_htmlMediaSource2=_interopRequireDefault(__webpack_require__(433)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),urlCount=0,defaults={mode:"auto"};_videoJs2.default.mediaSources={};var open=function open(msObjectURL,swfId){var mediaSource=_videoJs2.default.mediaSources[msObjectURL];if(!mediaSource)throw new Error("Media Source not found (Video.js)");mediaSource.trigger({type:"sourceopen",swfId:swfId})},supportsNativeMediaSources=function supportsNativeMediaSources(){return!!_globalWindow2.default.MediaSource&&!!_globalWindow2.default.MediaSource.isTypeSupported&&_globalWindow2.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},MediaSource=function MediaSource(options){var settings=_videoJs2.default.mergeOptions(defaults,options);if(this.MediaSource={open:open,supportsNativeMediaSources:supportsNativeMediaSources},"html5"===settings.mode||"auto"===settings.mode&&supportsNativeMediaSources())return new _htmlMediaSource2.default;if(_videoJs2.default.getTech("Flash"))return new _flashMediaSource2.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};exports.MediaSource=MediaSource,MediaSource.open=open,MediaSource.supportsNativeMediaSources=supportsNativeMediaSources;var URL={createObjectURL:function createObjectURL(object){var objectUrlPrefix="blob:vjs-media-source/",url=void 0;return object instanceof _htmlMediaSource2.default?(url=_globalWindow2.default.URL.createObjectURL(object.nativeMediaSource_),object.url_=url,url):object instanceof _flashMediaSource2.default?(url=objectUrlPrefix+urlCount,urlCount++,_videoJs2.default.mediaSources[url]=object,url):(url=_globalWindow2.default.URL.createObjectURL(object),object.url_=url,url)}};exports.URL=URL,_videoJs2.default.MediaSource=MediaSource,_videoJs2.default.URL=URL},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _globalDocument,_globalDocument2=_interopRequireDefault(__webpack_require__(281)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_flashSourceBuffer,_flashSourceBuffer2=_interopRequireDefault(__webpack_require__(410)),_flashConstants,_flashConstants2=_interopRequireDefault(__webpack_require__(431)),_codecUtils=__webpack_require__(432),FlashMediaSource=function(_videojs$EventTarget){function FlashMediaSource(){var _this=this;_classCallCheck(this,FlashMediaSource),_get(Object.getPrototypeOf(FlashMediaSource.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(event){_this.swfObj=_globalDocument2.default.getElementById(event.swfId),_this.player_=(0,_videoJs2.default)(_this.swfObj.parentNode),_this.tech_=_this.swfObj.tech,_this.readyState="open",_this.tech_.on("seeking",function(){for(var i=_this.sourceBuffers.length;i--;)_this.sourceBuffers[i].abort()}),_this.swfObj&&_this.swfObj.vjs_load()})}return _inherits(FlashMediaSource,_videojs$EventTarget),_createClass(FlashMediaSource,[{key:"addSeekableRange_",value:function addSeekableRange_(){}},{key:"addSourceBuffer",value:function addSourceBuffer(type){var parsedType=(0,_codecUtils.parseContentType)(type),sourceBuffer=void 0;if("video/mp2t"!==parsedType.type&&"audio/mp2t"!==parsedType.type)throw new Error("NotSupportedError (Video.js)");return sourceBuffer=new _flashSourceBuffer2.default(this),this.sourceBuffers.push(sourceBuffer),sourceBuffer}},{key:"endOfStream",value:function endOfStream(error){"network"===error?this.tech_.error(2):"decode"===error&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),FlashMediaSource}(_videoJs2.default.EventTarget);exports.default=FlashMediaSource;try{Object.defineProperty(FlashMediaSource.prototype,"duration",{get:function get(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function set(value){var i=void 0,oldDuration=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",value),value<oldDuration)for(i=0;i<this.sourceBuffers.length;i++)this.sourceBuffers[i].remove(value,oldDuration);return value}})}catch(e){FlashMediaSource.prototype.duration=NaN}for(var property in _flashConstants2.default)FlashMediaSource[property]=_flashConstants2.default[property];module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_muxJsLibFlv,_muxJsLibFlv2=_interopRequireDefault(__webpack_require__(411)),_removeCuesFromTrack,_removeCuesFromTrack2=_interopRequireDefault(__webpack_require__(426)),_createTextTracksIfNecessary,_createTextTracksIfNecessary2=_interopRequireDefault(__webpack_require__(427)),_addTextTrackData=__webpack_require__(428),_flashTransmuxerWorker,_flashTransmuxerWorker2=_interopRequireDefault(__webpack_require__(429)),_webwackify,_webwackify2=_interopRequireDefault(__webpack_require__(430)),_flashConstants,_flashConstants2=_interopRequireDefault(__webpack_require__(431)),resolveFlashTransmuxWorker=function resolveFlashTransmuxWorker(){var result=void 0;try{result=429}catch(e){}return result},scheduleTick=function scheduleTick(func){_globalWindow2.default.setTimeout(func,_flashConstants2.default.TIME_BETWEEN_CHUNKS)},generateRandomString=function generateRandomString(){return Math.random().toString(36).slice(2,8)},toDecimalPlaces=function toDecimalPlaces(num,places){("number"!=typeof places||places<0)&&(places=0);var scale=Math.pow(10,places);return Math.round(num*scale)/scale},FlashSourceBuffer=function(_videojs$EventTarget){function FlashSourceBuffer(mediaSource){var _this=this;_classCallCheck(this,FlashSourceBuffer),_get(Object.getPrototypeOf(FlashSourceBuffer.prototype),"constructor",this).call(this);var encodedHeader=void 0;this.chunkSize_=_flashConstants2.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=mediaSource,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,encodedHeader=_globalWindow2.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(_muxJsLibFlv2.default.getFlvHeader())));var safePlayerId=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+safePlayerId+generateRandomString(),this.flashEncodedDataName_="vjs_flashEncodedData_"+safePlayerId+generateRandomString(),_globalWindow2.default[this.flashEncodedHeaderName_]=function(){return delete _globalWindow2.default[_this.flashEncodedHeaderName_],encodedHeader},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,_webwackify2.default)(_flashTransmuxerWorker2.default,resolveFlashTransmuxWorker()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(event){"data"===event.data.action&&_this.receiveBuffer_(event.data.segment)},this.one("updateend",function(){_this.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function get(){return this.timestampOffset_},set:function set(val){"number"==typeof val&&val>=0&&(this.timestampOffset_=val,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function get(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return _videoJs2.default.createTimeRange();var buffered=this.mediaSource_.swfObj.vjs_getProperty("buffered");return buffered&&buffered.length&&(buffered[0][0]=toDecimalPlaces(buffered[0][0],3),buffered[0][1]=toDecimalPlaces(buffered[0][1],3)),_videoJs2.default.createTimeRanges(buffered)}}),this.mediaSource_.player_.on("seeked",function(){if((0,_removeCuesFromTrack2.default)(0,1/0,_this.metadataTrack_),_this.inbandTextTracks_)for(var track in _this.inbandTextTracks_)(0,_removeCuesFromTrack2.default)(0,1/0,_this.inbandTextTracks_[track])});var onHlsReset=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",onHlsReset),this.mediaSource_.player_.tech_.hls.on("dispose",function(){_this.transmuxer_.terminate(),_this.mediaSource_.player_.tech_.off("hls-reset",onHlsReset)})}return _inherits(FlashSourceBuffer,_videojs$EventTarget),_createClass(FlashSourceBuffer,[{key:"appendBuffer",value:function appendBuffer(bytes){var error=void 0;if(this.updating)throw(error=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",error.code=11,error;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:bytes.buffer,byteOffset:bytes.byteOffset,byteLength:bytes.byteLength},[bytes.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function abort(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function remove(start,end){if((0,_removeCuesFromTrack2.default)(start,end,this.metadataTrack_),this.inbandTextTracks_)for(var track in this.inbandTextTracks_)(0,_removeCuesFromTrack2.default)(start,end,this.inbandTextTracks_[track]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function receiveBuffer_(segment){var _this2=this;(0,_createTextTracksIfNecessary2.default)(this,this.mediaSource_,segment),(0,_addTextTrackData.addTextTrackData)(this,segment.captions,segment.metadata),scheduleTick(function(){var flvBytes=_this2.convertTagsToData_(segment);0===_this2.buffer_.length&&scheduleTick(_this2.processBuffer_.bind(_this2)),flvBytes&&(_this2.buffer_.push(flvBytes),_this2.bufferSize_+=flvBytes.byteLength)})}},{key:"processBuffer_",value:function processBuffer_(){var _this3=this,chunkSize=_flashConstants2.default.BYTES_PER_CHUNK;if(this.buffer_.length){var chunk=this.buffer_[0].subarray(0,chunkSize);chunk.byteLength<chunkSize||this.buffer_[0].byteLength===chunkSize?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(chunkSize),this.bufferSize_-=chunk.byteLength;for(var binary=[],length=chunk.byteLength,i=0;i<length;i++)binary.push(String.fromCharCode(chunk[i]));var b64str=_globalWindow2.default.btoa(binary.join(""));_globalWindow2.default[this.flashEncodedDataName_]=function(){return scheduleTick(_this3.processBuffer_.bind(_this3)),delete _globalWindow2.default[_this3.flashEncodedDataName_],b64str},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function convertTagsToData_(segmentData){var segmentByteLength=0,tech=this.mediaSource_.tech_,videoTargetPts=0,segment=void 0,videoTags=segmentData.tags.videoTags,audioTags=segmentData.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(videoTags.length||audioTags.length)){var firstVideoTag=videoTags[0]||{pts:1/0},firstAudioTag=audioTags[0]||{pts:1/0};this.basePtsOffset_=Math.min(firstAudioTag.pts,firstVideoTag.pts)}tech.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(tech.buffered().length&&(videoTargetPts=tech.buffered().end(0)-this.timestampOffset),tech.seeking()&&(videoTargetPts=Math.max(videoTargetPts,tech.currentTime()-this.timestampOffset)),videoTargetPts*=1e3,videoTargetPts+=this.basePtsOffset_):videoTargetPts=this.videoBufferEnd_+.1;var currentIndex=videoTags.length;if(currentIndex&&videoTags[currentIndex-1].pts>=videoTargetPts){for(;--currentIndex;){var currentTag=videoTags[currentIndex];if(!(currentTag.pts>videoTargetPts)&&(currentTag.keyFrame||currentTag.metaDataTag))break}for(;currentIndex;){var nextTag;if(!videoTags[currentIndex-1].metaDataTag)break;currentIndex--}}var filteredVideoTags=videoTags.slice(currentIndex),audioTargetPts=void 0;for(audioTargetPts=isNaN(this.audioBufferEnd_)?videoTargetPts:this.audioBufferEnd_+.1,filteredVideoTags.length&&(audioTargetPts=Math.min(audioTargetPts,filteredVideoTags[0].pts)),currentIndex=0;currentIndex<audioTags.length&&!(audioTags[currentIndex].pts>=audioTargetPts);)currentIndex++;var filteredAudioTags=audioTags.slice(currentIndex);filteredAudioTags.length&&(this.audioBufferEnd_=filteredAudioTags[filteredAudioTags.length-1].pts),filteredVideoTags.length&&(this.videoBufferEnd_=filteredVideoTags[filteredVideoTags.length-1].pts);var tags=this.getOrderedTags_(filteredVideoTags,filteredAudioTags);if(0!==tags.length){if(tags[0].pts<videoTargetPts&&tech.seeking()){var fudgeFactor=1/30,currentTime,diff,adjustedTime=tech.currentTime()-(videoTargetPts-tags[0].pts)/1e3;adjustedTime<1/30&&(adjustedTime=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(adjustedTime)}catch(e){}}for(var i=0;i<tags.length;i++)segmentByteLength+=tags[i].bytes.byteLength;segment=new Uint8Array(segmentByteLength);for(var i=0,j=0;i<tags.length;i++)segment.set(tags[i].bytes,j),j+=tags[i].bytes.byteLength;return segment}}},{key:"getOrderedTags_",value:function getOrderedTags_(videoTags,audioTags){for(var tag=void 0,tags=[];videoTags.length||audioTags.length;)tag=videoTags.length?audioTags.length&&audioTags[0].dts<videoTags[0].dts?audioTags.shift():videoTags.shift():audioTags.shift(),tags.push(tag);return tags}},{key:"onHlsReset_",value:function onHlsReset_(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),FlashSourceBuffer}(_videoJs2.default.EventTarget);exports.default=FlashSourceBuffer,module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={tag:__webpack_require__(412),Transmuxer:__webpack_require__(413),getFlvHeader:__webpack_require__(425)}},function(module,exports){"use strict";var FlvTag;(FlvTag=function(type,extraData){var adHoc=0,bufferStartSize=16384,prepareWrite=function(flv,count){var bytes,minLength=flv.position+count;minLength<flv.bytes.byteLength||((bytes=new Uint8Array(2*minLength)).set(flv.bytes.subarray(0,flv.position),0),flv.bytes=bytes,flv.view=new DataView(flv.bytes.buffer))},widthBytes=FlvTag.widthBytes||new Uint8Array("width".length),heightBytes=FlvTag.heightBytes||new Uint8Array("height".length),videocodecidBytes=FlvTag.videocodecidBytes||new Uint8Array("videocodecid".length),i;if(!FlvTag.widthBytes){for(i=0;i<"width".length;i++)widthBytes[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)heightBytes[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)videocodecidBytes[i]="videocodecid".charCodeAt(i);FlvTag.widthBytes=widthBytes,FlvTag.heightBytes=heightBytes,FlvTag.videocodecidBytes=videocodecidBytes}switch(this.keyFrame=!1,type){case FlvTag.VIDEO_TAG:this.length=16,bufferStartSize*=6;break;case FlvTag.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case FlvTag.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(bufferStartSize),this.view=new DataView(this.bytes.buffer),this.bytes[0]=type,this.position=this.length,this.keyFrame=extraData,this.pts=0,this.dts=0,this.writeBytes=function(bytes,offset,length){var start=offset||0,end;end=start+(length=length||bytes.byteLength),prepareWrite(this,length),this.bytes.set(bytes.subarray(start,end),this.position),this.position+=length,this.length=Math.max(this.length,this.position)},this.writeByte=function(byte){prepareWrite(this,1),this.bytes[this.position]=byte,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(short){prepareWrite(this,2),this.view.setUint16(this.position,short),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(pos){return this.bytes[this.length-pos]},this.nalUnitSize=function(){return 0===adHoc?0:this.length-(adHoc+4)},this.startNalUnit=function(){if(adHoc>0)throw new Error("Attempted to create new NAL wihout closing the old one");adHoc=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(nalContainer){var nalStart,nalLength;this.length===adHoc+4?this.length-=4:adHoc>0&&(nalStart=adHoc+4,nalLength=this.length-nalStart,this.position=adHoc,this.view.setUint32(this.position,nalLength),this.position=this.length,nalContainer&&nalContainer.push(this.bytes.subarray(nalStart,nalStart+nalLength))),adHoc=0},this.writeMetaDataDouble=function(key,val){var i;if(prepareWrite(this,2+key.length+9),this.view.setUint16(this.position,key.length),this.position+=2,"width"===key)this.bytes.set(widthBytes,this.position),this.position+=5;else if("height"===key)this.bytes.set(heightBytes,this.position),this.position+=6;else if("videocodecid"===key)this.bytes.set(videocodecidBytes,this.position),this.position+=12;else for(i=0;i<key.length;i++)this.bytes[this.position]=key.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,val),this.position+=8,this.length=Math.max(this.length,this.position),++adHoc},this.writeMetaDataBoolean=function(key,val){var i;for(prepareWrite(this,2),this.view.setUint16(this.position,key.length),this.position+=2,i=0;i<key.length;i++)prepareWrite(this,1),this.bytes[this.position]=key.charCodeAt(i),this.position++;prepareWrite(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,val?1:0),this.position++,this.length=Math.max(this.length,this.position),++adHoc},this.finalize=function(){var dtsDelta,len;switch(this.bytes[0]){case FlvTag.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||extraData?16:32),this.bytes[12]=extraData?0:1,dtsDelta=this.pts-this.dts,this.bytes[13]=(16711680&dtsDelta)>>>16,this.bytes[14]=(65280&dtsDelta)>>>8,this.bytes[15]=(255&dtsDelta)>>>0;break;case FlvTag.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=extraData?0:1;break;case FlvTag.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,adHoc),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return len=this.length-11,this.bytes[1]=(16711680&len)>>>16,this.bytes[2]=(65280&len)>>>8,this.bytes[3]=(255&len)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,prepareWrite(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=FlvTag.frameTime(this.bytes),this}}).AUDIO_TAG=8,FlvTag.VIDEO_TAG=9,FlvTag.METADATA_TAG=18,FlvTag.isAudioFrame=function(tag){return FlvTag.AUDIO_TAG===tag[0]},FlvTag.isVideoFrame=function(tag){return FlvTag.VIDEO_TAG===tag[0]},FlvTag.isMetaData=function(tag){return FlvTag.METADATA_TAG===tag[0]},FlvTag.isKeyFrame=function(tag){return FlvTag.isVideoFrame(tag)?23===tag[11]:!!FlvTag.isAudioFrame(tag)||!!FlvTag.isMetaData(tag)},FlvTag.frameTime=function(tag){var pts=tag[4]<<16;return pts|=tag[5]<<8,pts|=tag[6]<<0,pts|=tag[7]<<24},module.exports=FlvTag},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),FlvTag=__webpack_require__(412),m2ts=__webpack_require__(415),AdtsStream=__webpack_require__(420),H264Stream=__webpack_require__(421).H264Stream,CoalesceStream=__webpack_require__(423),TagList=__webpack_require__(424),Transmuxer,VideoSegmentStream,AudioSegmentStream,collectTimelineInfo,metaDataTag,extraDataTag;collectTimelineInfo=function(track,data){"number"==typeof data.pts&&(void 0===track.timelineStartInfo.pts?track.timelineStartInfo.pts=data.pts:track.timelineStartInfo.pts=Math.min(track.timelineStartInfo.pts,data.pts)),"number"==typeof data.dts&&(void 0===track.timelineStartInfo.dts?track.timelineStartInfo.dts=data.dts:track.timelineStartInfo.dts=Math.min(track.timelineStartInfo.dts,data.dts))},metaDataTag=function(track,pts){var tag=new FlvTag(FlvTag.METADATA_TAG);return tag.dts=pts,tag.pts=pts,tag.writeMetaDataDouble("videocodecid",7),tag.writeMetaDataDouble("width",track.width),tag.writeMetaDataDouble("height",track.height),tag},extraDataTag=function(track,pts){var i,tag=new FlvTag(FlvTag.VIDEO_TAG,!0);for(tag.dts=pts,tag.pts=pts,tag.writeByte(1),tag.writeByte(track.profileIdc),tag.writeByte(track.profileCompatibility),tag.writeByte(track.levelIdc),tag.writeByte(255),tag.writeByte(225),tag.writeShort(track.sps[0].length),tag.writeBytes(track.sps[0]),tag.writeByte(track.pps.length),i=0;i<track.pps.length;++i)tag.writeShort(track.pps[i].length),tag.writeBytes(track.pps[i]);return tag},(AudioSegmentStream=function(track){var adtsFrames=[],videoKeyFrames=[],oldExtraData;AudioSegmentStream.prototype.init.call(this),this.push=function(data){collectTimelineInfo(track,data),track&&(track.audioobjecttype=data.audioobjecttype,track.channelcount=data.channelcount,track.samplerate=data.samplerate,track.samplingfrequencyindex=data.samplingfrequencyindex,track.samplesize=data.samplesize,track.extraData=track.audioobjecttype<<11|track.samplingfrequencyindex<<7|track.channelcount<<3),data.pts=Math.round(data.pts/90),data.dts=Math.round(data.dts/90),adtsFrames.push(data)},this.flush=function(){var currentFrame,adtsFrame,lastMetaPts,tags=new TagList;if(0!==adtsFrames.length){for(lastMetaPts=-1/0;adtsFrames.length;)currentFrame=adtsFrames.shift(),videoKeyFrames.length&&currentFrame.pts>=videoKeyFrames[0]&&(lastMetaPts=videoKeyFrames.shift(),this.writeMetaDataTags(tags,lastMetaPts)),(track.extraData!==oldExtraData||currentFrame.pts-lastMetaPts>=1e3)&&(this.writeMetaDataTags(tags,currentFrame.pts),oldExtraData=track.extraData,lastMetaPts=currentFrame.pts),(adtsFrame=new FlvTag(FlvTag.AUDIO_TAG)).pts=currentFrame.pts,adtsFrame.dts=currentFrame.dts,adtsFrame.writeBytes(currentFrame.data),tags.push(adtsFrame.finalize());videoKeyFrames.length=0,oldExtraData=null,this.trigger("data",{track:track,tags:tags.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(tags,pts){var adtsFrame;(adtsFrame=new FlvTag(FlvTag.METADATA_TAG)).pts=pts,adtsFrame.dts=pts,adtsFrame.writeMetaDataDouble("audiocodecid",10),adtsFrame.writeMetaDataBoolean("stereo",2===track.channelcount),adtsFrame.writeMetaDataDouble("audiosamplerate",track.samplerate),adtsFrame.writeMetaDataDouble("audiosamplesize",16),tags.push(adtsFrame.finalize()),(adtsFrame=new FlvTag(FlvTag.AUDIO_TAG,!0)).pts=pts,adtsFrame.dts=pts,adtsFrame.view.setUint16(adtsFrame.position,track.extraData),adtsFrame.position+=2,adtsFrame.length=Math.max(adtsFrame.length,adtsFrame.position),tags.push(adtsFrame.finalize())},this.onVideoKeyFrame=function(pts){videoKeyFrames.push(pts)}}).prototype=new Stream,(VideoSegmentStream=function(track){var nalUnits=[],config,h264Frame;VideoSegmentStream.prototype.init.call(this),this.finishFrame=function(tags,frame){if(frame){if(config&&track&&track.newMetadata&&(frame.keyFrame||0===tags.length)){var metaTag=metaDataTag(config,frame.dts).finalize(),extraTag=extraDataTag(track,frame.dts).finalize();metaTag.metaDataTag=extraTag.metaDataTag=!0,tags.push(metaTag),tags.push(extraTag),track.newMetadata=!1,this.trigger("keyframe",frame.dts)}frame.endNalUnit(),tags.push(frame.finalize()),h264Frame=null}},this.push=function(data){collectTimelineInfo(track,data),data.pts=Math.round(data.pts/90),data.dts=Math.round(data.dts/90),nalUnits.push(data)},this.flush=function(){for(var currentNal,tags=new TagList;nalUnits.length&&"access_unit_delimiter_rbsp"!==nalUnits[0].nalUnitType;)nalUnits.shift();if(0!==nalUnits.length){for(;nalUnits.length;)"seq_parameter_set_rbsp"===(currentNal=nalUnits.shift()).nalUnitType?(track.newMetadata=!0,config=currentNal.config,track.width=config.width,track.height=config.height,track.sps=[currentNal.data],track.profileIdc=config.profileIdc,track.levelIdc=config.levelIdc,track.profileCompatibility=config.profileCompatibility,h264Frame.endNalUnit()):"pic_parameter_set_rbsp"===currentNal.nalUnitType?(track.newMetadata=!0,track.pps=[currentNal.data],h264Frame.endNalUnit()):"access_unit_delimiter_rbsp"===currentNal.nalUnitType?(h264Frame&&this.finishFrame(tags,h264Frame),(h264Frame=new FlvTag(FlvTag.VIDEO_TAG)).pts=currentNal.pts,h264Frame.dts=currentNal.dts):("slice_layer_without_partitioning_rbsp_idr"===currentNal.nalUnitType&&(h264Frame.keyFrame=!0),h264Frame.endNalUnit()),h264Frame.startNalUnit(),h264Frame.writeBytes(currentNal.data);h264Frame&&this.finishFrame(tags,h264Frame),this.trigger("data",{track:track,tags:tags.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new Stream,(Transmuxer=function(options){var self=this,packetStream,parseStream,elementaryStream,videoTimestampRolloverStream,audioTimestampRolloverStream,timedMetadataTimestampRolloverStream,adtsStream,h264Stream,videoSegmentStream,audioSegmentStream,captionStream,coalesceStream;Transmuxer.prototype.init.call(this),options=options||{},this.metadataStream=new m2ts.MetadataStream,options.metadataStream=this.metadataStream,packetStream=new m2ts.TransportPacketStream,parseStream=new m2ts.TransportParseStream,elementaryStream=new m2ts.ElementaryStream,videoTimestampRolloverStream=new m2ts.TimestampRolloverStream("video"),audioTimestampRolloverStream=new m2ts.TimestampRolloverStream("audio"),timedMetadataTimestampRolloverStream=new m2ts.TimestampRolloverStream("timed-metadata"),adtsStream=new AdtsStream,h264Stream=new H264Stream,coalesceStream=new CoalesceStream(options),packetStream.pipe(parseStream).pipe(elementaryStream),elementaryStream.pipe(videoTimestampRolloverStream).pipe(h264Stream),elementaryStream.pipe(audioTimestampRolloverStream).pipe(adtsStream),elementaryStream.pipe(timedMetadataTimestampRolloverStream).pipe(this.metadataStream).pipe(coalesceStream),captionStream=new m2ts.CaptionStream,h264Stream.pipe(captionStream).pipe(coalesceStream),elementaryStream.on("data",function(data){var i,videoTrack,audioTrack;if("metadata"===data.type){for(i=data.tracks.length;i--;)"video"===data.tracks[i].type?videoTrack=data.tracks[i]:"audio"===data.tracks[i].type&&(audioTrack=data.tracks[i]);videoTrack&&!videoSegmentStream&&(coalesceStream.numberOfTracks++,videoSegmentStream=new VideoSegmentStream(videoTrack),h264Stream.pipe(videoSegmentStream).pipe(coalesceStream)),audioTrack&&!audioSegmentStream&&(coalesceStream.numberOfTracks++,audioSegmentStream=new AudioSegmentStream(audioTrack),adtsStream.pipe(audioSegmentStream).pipe(coalesceStream),videoSegmentStream&&videoSegmentStream.on("keyframe",audioSegmentStream.onVideoKeyFrame))}}),this.push=function(data){packetStream.push(data)},this.flush=function(){packetStream.flush()},this.resetCaptions=function(){captionStream.reset()},coalesceStream.on("data",function(event){self.trigger("data",event)}),coalesceStream.on("done",function(){self.trigger("done")})}).prototype=new Stream,module.exports=Transmuxer},function(module,exports){"use strict";var Stream=function(){this.init=function(){var listeners={};this.on=function(type,listener){listeners[type]||(listeners[type]=[]),listeners[type]=listeners[type].concat(listener)},this.off=function(type,listener){var index;return!!listeners[type]&&(index=listeners[type].indexOf(listener),listeners[type]=listeners[type].slice(),listeners[type].splice(index,1),index>-1)},this.trigger=function(type){var callbacks,i,length,args;if(callbacks=listeners[type])if(2===arguments.length)for(length=callbacks.length,i=0;i<length;++i)callbacks[i].call(this,arguments[1]);else{for(args=[],i=arguments.length,i=1;i<arguments.length;++i)args.push(arguments[i]);for(length=callbacks.length,i=0;i<length;++i)callbacks[i].apply(this,args)}},this.dispose=function(){listeners={}}}};Stream.prototype.pipe=function(destination){return this.on("data",function(data){destination.push(data)}),this.on("done",function(flushSource){destination.flush(flushSource)}),destination},Stream.prototype.push=function(data){this.trigger("data",data)},Stream.prototype.flush=function(flushSource){this.trigger("done",flushSource)},module.exports=Stream},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),CaptionStream=__webpack_require__(416),StreamTypes=__webpack_require__(417),TimestampRolloverStream=__webpack_require__(418).TimestampRolloverStream,m2tsStreamTypes=__webpack_require__(417),TransportPacketStream,TransportParseStream,ElementaryStream,MP2T_PACKET_LENGTH=188,SYNC_BYTE=71;(TransportPacketStream=function(){var buffer=new Uint8Array(188),bytesInBuffer=0;TransportPacketStream.prototype.init.call(this),this.push=function(bytes){var startIndex=0,endIndex=188,everything;for(bytesInBuffer?((everything=new Uint8Array(bytes.byteLength+bytesInBuffer)).set(buffer.subarray(0,bytesInBuffer)),everything.set(bytes,bytesInBuffer),bytesInBuffer=0):everything=bytes;endIndex<everything.byteLength;)71!==everything[startIndex]||71!==everything[endIndex]?(startIndex++,endIndex++):(this.trigger("data",everything.subarray(startIndex,endIndex)),startIndex+=188,endIndex+=188);startIndex<everything.byteLength&&(buffer.set(everything.subarray(startIndex),0),bytesInBuffer=everything.byteLength-startIndex)},this.flush=function(){188===bytesInBuffer&&71===buffer[0]&&(this.trigger("data",buffer),bytesInBuffer=0),this.trigger("done")}}).prototype=new Stream,(TransportParseStream=function(){var parsePsi,parsePat,parsePmt,self;TransportParseStream.prototype.init.call(this),self=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,parsePsi=function(payload,psi){var offset=0;psi.payloadUnitStartIndicator&&(offset+=payload[offset]+1),"pat"===psi.type?parsePat(payload.subarray(offset),psi):parsePmt(payload.subarray(offset),psi)},parsePat=function(payload,pat){pat.section_number=payload[7],pat.last_section_number=payload[8],self.pmtPid=(31&payload[10])<<8|payload[11],pat.pmtPid=self.pmtPid},parsePmt=function(payload,pmt){var sectionLength,tableEnd,programInfoLength,offset;if(1&payload[5]){for(self.programMapTable={video:null,audio:null,"timed-metadata":{}},tableEnd=3+(sectionLength=(15&payload[1])<<8|payload[2])-4,offset=12+(programInfoLength=(15&payload[10])<<8|payload[11]);offset<tableEnd;){var streamType=payload[offset],pid=(31&payload[offset+1])<<8|payload[offset+2];streamType===StreamTypes.H264_STREAM_TYPE&&null===self.programMapTable.video?self.programMapTable.video=pid:streamType===StreamTypes.ADTS_STREAM_TYPE&&null===self.programMapTable.audio?self.programMapTable.audio=pid:streamType===StreamTypes.METADATA_STREAM_TYPE&&(self.programMapTable["timed-metadata"][pid]=streamType),offset+=5+((15&payload[offset+3])<<8|payload[offset+4])}pmt.programMapTable=self.programMapTable}},this.push=function(packet){var result={},offset=4;if(result.payloadUnitStartIndicator=!!(64&packet[1]),result.pid=31&packet[1],result.pid<<=8,result.pid|=packet[2],(48&packet[3])>>>4>1&&(offset+=packet[offset]+1),0===result.pid)result.type="pat",parsePsi(packet.subarray(offset),result),this.trigger("data",result);else if(result.pid===this.pmtPid)for(result.type="pmt",parsePsi(packet.subarray(offset),result),this.trigger("data",result);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([packet,offset,result]):this.processPes_(packet,offset,result)},this.processPes_=function(packet,offset,result){result.pid===this.programMapTable.video?result.streamType=StreamTypes.H264_STREAM_TYPE:result.pid===this.programMapTable.audio?result.streamType=StreamTypes.ADTS_STREAM_TYPE:result.streamType=this.programMapTable["timed-metadata"][result.pid],result.type="pes",result.data=packet.subarray(offset),this.trigger("data",result)}}).prototype=new Stream,TransportParseStream.STREAM_TYPES={h264:27,adts:15},(ElementaryStream=function(){var self=this,video={data:[],size:0},audio={data:[],size:0},timedMetadata={data:[],size:0},parsePes=function(payload,pes){var ptsDtsFlags;pes.packetLength=6+(payload[4]<<8|payload[5]),pes.dataAlignmentIndicator=0!=(4&payload[6]),192&(ptsDtsFlags=payload[7])&&(pes.pts=(14&payload[9])<<27|(255&payload[10])<<20|(254&payload[11])<<12|(255&payload[12])<<5|(254&payload[13])>>>3,pes.pts*=4,pes.pts+=(6&payload[13])>>>1,pes.dts=pes.pts,64&ptsDtsFlags&&(pes.dts=(14&payload[14])<<27|(255&payload[15])<<20|(254&payload[16])<<12|(255&payload[17])<<5|(254&payload[18])>>>3,pes.dts*=4,pes.dts+=(6&payload[18])>>>1)),pes.data=payload.subarray(9+payload[8])},flushStream=function(stream,type,forceFlush){var packetData=new Uint8Array(stream.size),event={type:type},i=0,offset=0,packetFlushable=!1,fragment;if(stream.data.length&&!(stream.size<9)){for(event.trackId=stream.data[0].pid,i=0;i<stream.data.length;i++)fragment=stream.data[i],packetData.set(fragment.data,offset),offset+=fragment.data.byteLength;parsePes(packetData,event),packetFlushable="video"===type||event.packetLength<=stream.size,(forceFlush||packetFlushable)&&(stream.size=0,stream.data.length=0),packetFlushable&&self.trigger("data",event)}};ElementaryStream.prototype.init.call(this),this.push=function(data){({pat:function(){},pes:function(){var stream,streamType;switch(data.streamType){case StreamTypes.H264_STREAM_TYPE:case m2tsStreamTypes.H264_STREAM_TYPE:stream=video,streamType="video";break;case StreamTypes.ADTS_STREAM_TYPE:stream=audio,streamType="audio";break;case StreamTypes.METADATA_STREAM_TYPE:stream=timedMetadata,streamType="timed-metadata";break;default:return}data.payloadUnitStartIndicator&&flushStream(stream,streamType,!0),stream.data.push(data),stream.size+=data.data.byteLength},pmt:function(){var event={type:"metadata",tracks:[]},programMapTable=data.programMapTable;null!==programMapTable.video&&event.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+programMapTable.video,codec:"avc",type:"video"}),null!==programMapTable.audio&&event.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+programMapTable.audio,codec:"adts",type:"audio"}),self.trigger("data",event)}})[data.type]()},this.flush=function(){flushStream(video,"video"),flushStream(audio,"audio"),flushStream(timedMetadata,"timed-metadata"),this.trigger("done")}}).prototype=new Stream;var m2ts={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:TransportPacketStream,TransportParseStream:TransportParseStream,ElementaryStream:ElementaryStream,TimestampRolloverStream:TimestampRolloverStream,CaptionStream:CaptionStream.CaptionStream,Cea608Stream:CaptionStream.Cea608Stream,MetadataStream:__webpack_require__(419)};for(var type in StreamTypes)StreamTypes.hasOwnProperty(type)&&(m2ts[type]=StreamTypes[type]);module.exports=m2ts},function(module,exports,__webpack_require__){"use strict";var USER_DATA_REGISTERED_ITU_T_T35=4,RBSP_TRAILING_BITS=128,Stream=__webpack_require__(414),parseSei=function(bytes){for(var i=0,result={payloadType:-1,payloadSize:0},payloadType=0,payloadSize=0;i<bytes.byteLength&&128!==bytes[i];){for(;255===bytes[i];)payloadType+=255,i++;for(payloadType+=bytes[i++];255===bytes[i];)payloadSize+=255,i++;if(payloadSize+=bytes[i++],!result.payload&&4===payloadType){result.payloadType=payloadType,result.payloadSize=payloadSize,result.payload=bytes.subarray(i,i+payloadSize);break}i+=payloadSize,payloadType=0,payloadSize=0}return result},parseUserData=function(sei){return 181!==sei.payload[0]?null:49!=(sei.payload[1]<<8|sei.payload[2])?null:"GA94"!==String.fromCharCode(sei.payload[3],sei.payload[4],sei.payload[5],sei.payload[6])?null:3!==sei.payload[7]?null:sei.payload.subarray(8,sei.payload.length-1)},parseCaptionPackets=function(pts,userData){var results=[],i,count,offset,data;if(!(64&userData[0]))return results;for(count=31&userData[0],i=0;i<count;i++)data={type:3&userData[(offset=3*i)+2],pts:pts},4&userData[offset+2]&&(data.ccData=userData[offset+3]<<8|userData[offset+4],results.push(data));return results},CaptionStream=function(){CaptionStream.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Cea608Stream(0,0),new Cea608Stream(0,1),new Cea608Stream(1,0),new Cea608Stream(1,1)],this.reset(),this.ccStreams_.forEach(function(cc){cc.on("data",this.trigger.bind(this,"data")),cc.on("done",this.trigger.bind(this,"done"))},this)};CaptionStream.prototype=new Stream,CaptionStream.prototype.push=function(event){var sei,userData;"sei_rbsp"===event.nalUnitType&&4===(sei=parseSei(event.escapedRBSP)).payloadType&&(userData=parseUserData(sei))&&(event.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:event.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(parseCaptionPackets(event.pts,userData)),this.latestDts_=event.dts))},CaptionStream.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(elem,idx){elem.presortIndex=idx}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(packet){packet.type<2&&this.dispatchCea608Packet(packet)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(cc){cc.flush()},this)):this.ccStreams_.forEach(function(cc){cc.flush()},this)},CaptionStream.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(ccStream){ccStream.reset()})},CaptionStream.prototype.dispatchCea608Packet=function(packet){this.setsChannel1Active(packet)?this.activeCea608Channel_[packet.type]=0:this.setsChannel2Active(packet)&&(this.activeCea608Channel_[packet.type]=1),null!==this.activeCea608Channel_[packet.type]&&this.ccStreams_[(packet.type<<1)+this.activeCea608Channel_[packet.type]].push(packet)},CaptionStream.prototype.setsChannel1Active=function(packet){return 4096==(30720&packet.ccData)},CaptionStream.prototype.setsChannel2Active=function(packet){return 6144==(30720&packet.ccData)};var CHARACTER_TRANSLATION={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},getCharFromCode=function(code){return null===code?"":(code=CHARACTER_TRANSLATION[code]||code,String.fromCharCode(code))},BOTTOM_ROW=14,ROWS=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],createDisplayBuffer=function(){for(var result=[],i=15;i--;)result.push("");return result},Cea608Stream=function(field,dataChannel){Cea608Stream.prototype.init.call(this),this.field_=field||0,this.dataChannel_=dataChannel||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(packet){var data,swap,char0,char1,text;if((data=32639&packet.ccData)!==this.lastControlCode_){if(4096==(61440&data)?this.lastControlCode_=data:data!==this.PADDING_&&(this.lastControlCode_=null),char0=data>>>8,char1=255&data,data!==this.PADDING_)if(data===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(data===this.END_OF_CAPTION_)this.clearFormatting(packet.pts),this.flushDisplayed(packet.pts),swap=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=swap,this.startPts_=packet.pts;else if(data===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(data===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(data===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(data===this.CARRIAGE_RETURN_)this.clearFormatting(packet.pts),this.flushDisplayed(packet.pts),this.shiftRowsUp_(),this.startPts_=packet.pts;else if(data===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(data===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(packet.pts),this.displayed_=createDisplayBuffer();else if(data===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=createDisplayBuffer();else if(data===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(char0,char1))text=getCharFromCode((char0=(3&char0)<<8)|char1),this[this.mode_](packet.pts,text),this.column_++;else if(this.isExtCharacter(char0,char1))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),text=getCharFromCode((char0=(3&char0)<<8)|char1),this[this.mode_](packet.pts,text),this.column_++;else if(this.isMidRowCode(char0,char1))this.clearFormatting(packet.pts),this[this.mode_](packet.pts," "),this.column_++,14==(14&char1)&&this.addFormatting(packet.pts,["i"]),1==(1&char1)&&this.addFormatting(packet.pts,["u"]);else if(this.isOffsetControlCode(char0,char1))this.column_+=3&char1;else if(this.isPAC(char0,char1)){var row=ROWS.indexOf(7968&data);row!==this.row_&&(this.clearFormatting(packet.pts),this.row_=row),1&char1&&-1===this.formatting_.indexOf("u")&&this.addFormatting(packet.pts,["u"]),16==(16&data)&&(this.column_=4*((14&data)>>1)),this.isColorPAC(char1)&&14==(14&char1)&&this.addFormatting(packet.pts,["i"])}else this.isNormalChar(char0)&&(0===char1&&(char1=null),text=getCharFromCode(char0),text+=getCharFromCode(char1),this[this.mode_](packet.pts,text),this.column_+=text.length)}else this.lastControlCode_=null}};Cea608Stream.prototype=new Stream,Cea608Stream.prototype.flushDisplayed=function(pts){var content=this.displayed_.map(function(row){return row.trim()}).join("\n").replace(/^\n+|\n+$/g,"");content.length&&this.trigger("data",{startPts:this.startPts_,endPts:pts,text:content,stream:this.name_})},Cea608Stream.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=createDisplayBuffer(),this.nonDisplayed_=createDisplayBuffer(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},Cea608Stream.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Cea608Stream.prototype.isSpecialCharacter=function(char0,char1){return char0===this.EXT_&&char1>=48&&char1<=63},Cea608Stream.prototype.isExtCharacter=function(char0,char1){return(char0===this.EXT_+1||char0===this.EXT_+2)&&char1>=32&&char1<=63},Cea608Stream.prototype.isMidRowCode=function(char0,char1){return char0===this.EXT_&&char1>=32&&char1<=47},Cea608Stream.prototype.isOffsetControlCode=function(char0,char1){return char0===this.OFFSET_&&char1>=33&&char1<=35},Cea608Stream.prototype.isPAC=function(char0,char1){return char0>=this.BASE_&&char0<this.BASE_+8&&char1>=64&&char1<=127},Cea608Stream.prototype.isColorPAC=function(char1){return char1>=64&&char1<=79||char1>=96&&char1<=127},Cea608Stream.prototype.isNormalChar=function(char){return char>=32&&char<=127},Cea608Stream.prototype.addFormatting=function(pts,format){this.formatting_=this.formatting_.concat(format);var text=format.reduce(function(text,format){return text+"<"+format+">"},"");this[this.mode_](pts,text)},Cea608Stream.prototype.clearFormatting=function(pts){if(this.formatting_.length){var text=this.formatting_.reverse().reduce(function(text,format){return text+"</"+format+">"},"");this.formatting_=[],this[this.mode_](pts,text)}},Cea608Stream.prototype.popOn=function(pts,text){var baseRow=this.nonDisplayed_[this.row_];baseRow+=text,this.nonDisplayed_[this.row_]=baseRow},Cea608Stream.prototype.rollUp=function(pts,text){var baseRow=this.displayed_[14];baseRow+=text,this.displayed_[14]=baseRow},Cea608Stream.prototype.shiftRowsUp_=function(){var i;for(i=0;i<this.topRow_;i++)this.displayed_[i]="";for(i=this.topRow_;i<14;i++)this.displayed_[i]=this.displayed_[i+1];this.displayed_[14]=""},Cea608Stream.prototype.paintOn=function(){},module.exports={CaptionStream:CaptionStream,Cea608Stream:Cea608Stream}},function(module,exports){"use strict";module.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),MAX_TS=8589934592,RO_THRESH=4294967296,handleRollover=function(value,reference){var direction=1;for(value>reference&&(direction=-1);Math.abs(reference-value)>RO_THRESH;)value+=direction*MAX_TS;return value},TimestampRolloverStream=function(type){var lastDTS,referenceDTS;TimestampRolloverStream.prototype.init.call(this),this.type_=type,this.push=function(data){data.type===this.type_&&(void 0===referenceDTS&&(referenceDTS=data.dts),data.dts=handleRollover(data.dts,referenceDTS),data.pts=handleRollover(data.pts,referenceDTS),lastDTS=data.dts,this.trigger("data",data))},this.flush=function(){referenceDTS=lastDTS,this.trigger("done")},this.discontinuity=function(){referenceDTS=void 0,lastDTS=void 0}};TimestampRolloverStream.prototype=new Stream,module.exports={TimestampRolloverStream:TimestampRolloverStream,handleRollover:handleRollover}},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),StreamTypes=__webpack_require__(417),percentEncode=function(bytes,start,end){var i,result="";for(i=start;i<end;i++)result+="%"+("00"+bytes[i].toString(16)).slice(-2);return result},parseUtf8=function(bytes,start,end){return decodeURIComponent(percentEncode(bytes,start,end))},parseIso88591=function(bytes,start,end){return unescape(percentEncode(bytes,start,end))},parseSyncSafeInteger=function(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3]},tagParsers={TXXX:function(tag){var i;if(3===tag.data[0]){for(i=1;i<tag.data.length;i++)if(0===tag.data[i]){tag.description=parseUtf8(tag.data,1,i),tag.value=parseUtf8(tag.data,i+1,tag.data.length).replace(/\0*$/,"");break}tag.data=tag.value}},WXXX:function(tag){var i;if(3===tag.data[0])for(i=1;i<tag.data.length;i++)if(0===tag.data[i]){tag.description=parseUtf8(tag.data,1,i),tag.url=parseUtf8(tag.data,i+1,tag.data.length);break}},PRIV:function(tag){var i;for(i=0;i<tag.data.length;i++)if(0===tag.data[i]){tag.owner=parseIso88591(tag.data,0,i);break}tag.privateData=tag.data.subarray(i+1),tag.data=tag.privateData}},MetadataStream;(MetadataStream=function(options){var settings={debug:!(!options||!options.debug),descriptor:options&&options.descriptor},tagSize=0,buffer=[],bufferSize=0,i;if(MetadataStream.prototype.init.call(this),this.dispatchType=StreamTypes.METADATA_STREAM_TYPE.toString(16),settings.descriptor)for(i=0;i<settings.descriptor.length;i++)this.dispatchType+=("00"+settings.descriptor[i].toString(16)).slice(-2);this.push=function(chunk){var tag,frameStart,frameSize,frame,i,frameHeader;if("timed-metadata"===chunk.type)if(chunk.dataAlignmentIndicator&&(bufferSize=0,buffer.length=0),0===buffer.length&&(chunk.data.length<10||chunk.data[0]!=="I".charCodeAt(0)||chunk.data[1]!=="D".charCodeAt(0)||chunk.data[2]!=="3".charCodeAt(0)))settings.debug&&console.log("Skipping unrecognized metadata packet");else if(buffer.push(chunk),bufferSize+=chunk.data.byteLength,1===buffer.length&&(tagSize=parseSyncSafeInteger(chunk.data.subarray(6,10)),tagSize+=10),!(bufferSize<tagSize)){for(tag={data:new Uint8Array(tagSize),frames:[],pts:buffer[0].pts,dts:buffer[0].dts},i=0;i<tagSize;)tag.data.set(buffer[0].data.subarray(0,tagSize-i),i),i+=buffer[0].data.byteLength,bufferSize-=buffer[0].data.byteLength,buffer.shift();frameStart=10,64&tag.data[5]&&(frameStart+=4,frameStart+=parseSyncSafeInteger(tag.data.subarray(10,14)),tagSize-=parseSyncSafeInteger(tag.data.subarray(16,20)));do{if((frameSize=parseSyncSafeInteger(tag.data.subarray(frameStart+4,frameStart+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((frame={id:frameHeader=String.fromCharCode(tag.data[frameStart],tag.data[frameStart+1],tag.data[frameStart+2],tag.data[frameStart+3]),data:tag.data.subarray(frameStart+10,frameStart+frameSize+10)}).key=frame.id,tagParsers[frame.id]&&(tagParsers[frame.id](frame),"com.apple.streaming.transportStreamTimestamp"===frame.owner)){var d=frame.data,size=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;size*=4,size+=3&d[7],frame.timeStamp=size,void 0===tag.pts&&void 0===tag.dts&&(tag.pts=frame.timeStamp,tag.dts=frame.timeStamp),this.trigger("timestamp",frame)}tag.frames.push(frame),frameStart+=10,frameStart+=frameSize}while(frameStart<tagSize);this.trigger("data",tag)}}}).prototype=new Stream,module.exports=MetadataStream},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),AdtsStream,ADTS_SAMPLING_FREQUENCIES=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(AdtsStream=function(){var buffer;AdtsStream.prototype.init.call(this),this.push=function(packet){var i=0,frameNum=0,frameLength,protectionSkipBytes,frameEnd,oldBuffer,sampleCount,adtsFrameDuration;if("audio"===packet.type)for(buffer?(oldBuffer=buffer,(buffer=new Uint8Array(oldBuffer.byteLength+packet.data.byteLength)).set(oldBuffer),buffer.set(packet.data,oldBuffer.byteLength)):buffer=packet.data;i+5<buffer.length;)if(255===buffer[i]&&240==(246&buffer[i+1])){if(protectionSkipBytes=2*(1&~buffer[i+1]),frameLength=(3&buffer[i+3])<<11|buffer[i+4]<<3|(224&buffer[i+5])>>5,adtsFrameDuration=9e4*(sampleCount=1024*(1+(3&buffer[i+6])))/ADTS_SAMPLING_FREQUENCIES[(60&buffer[i+2])>>>2],frameEnd=i+frameLength,buffer.byteLength<frameEnd)return;if(this.trigger("data",{pts:packet.pts+frameNum*adtsFrameDuration,dts:packet.dts+frameNum*adtsFrameDuration,sampleCount:sampleCount,audioobjecttype:1+(buffer[i+2]>>>6&3),channelcount:(1&buffer[i+2])<<2|(192&buffer[i+3])>>>6,samplerate:ADTS_SAMPLING_FREQUENCIES[(60&buffer[i+2])>>>2],samplingfrequencyindex:(60&buffer[i+2])>>>2,samplesize:16,data:buffer.subarray(i+7+protectionSkipBytes,frameEnd)}),buffer.byteLength===frameEnd)return void(buffer=void 0);frameNum++,buffer=buffer.subarray(frameEnd)}else i++},this.flush=function(){this.trigger("done")}}).prototype=new Stream,module.exports=AdtsStream},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),ExpGolomb=__webpack_require__(422),H264Stream,NalByteStream,PROFILES_WITH_OPTIONAL_SPS_DATA;(NalByteStream=function(){var syncPoint=0,i,buffer;NalByteStream.prototype.init.call(this),this.push=function(data){var swapBuffer;for(buffer?((swapBuffer=new Uint8Array(buffer.byteLength+data.data.byteLength)).set(buffer),swapBuffer.set(data.data,buffer.byteLength),buffer=swapBuffer):buffer=data.data;syncPoint<buffer.byteLength-3;syncPoint++)if(1===buffer[syncPoint+2]){i=syncPoint+5;break}for(;i<buffer.byteLength;)switch(buffer[i]){case 0:if(0!==buffer[i-1]){i+=2;break}if(0!==buffer[i-2]){i++;break}syncPoint+3!==i-2&&this.trigger("data",buffer.subarray(syncPoint+3,i-2));do{i++}while(1!==buffer[i]&&i<buffer.length);syncPoint=i-2,i+=3;break;case 1:if(0!==buffer[i-1]||0!==buffer[i-2]){i+=3;break}this.trigger("data",buffer.subarray(syncPoint+3,i-2)),syncPoint=i-2,i+=3;break;default:i+=3}buffer=buffer.subarray(syncPoint),i-=syncPoint,syncPoint=0},this.flush=function(){buffer&&buffer.byteLength>3&&this.trigger("data",buffer.subarray(syncPoint+3)),buffer=null,syncPoint=0,this.trigger("done")}}).prototype=new Stream,PROFILES_WITH_OPTIONAL_SPS_DATA={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(H264Stream=function(){var nalByteStream=new NalByteStream,self,trackId,currentPts,currentDts,discardEmulationPreventionBytes,readSequenceParameterSet,skipScalingList;H264Stream.prototype.init.call(this),self=this,this.push=function(packet){"video"===packet.type&&(trackId=packet.trackId,currentPts=packet.pts,currentDts=packet.dts,nalByteStream.push(packet))},nalByteStream.on("data",function(data){var event={trackId:trackId,pts:currentPts,dts:currentDts,data:data};switch(31&data[0]){case 5:event.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:event.nalUnitType="sei_rbsp",event.escapedRBSP=discardEmulationPreventionBytes(data.subarray(1));break;case 7:event.nalUnitType="seq_parameter_set_rbsp",event.escapedRBSP=discardEmulationPreventionBytes(data.subarray(1)),event.config=readSequenceParameterSet(event.escapedRBSP);break;case 8:event.nalUnitType="pic_parameter_set_rbsp";break;case 9:event.nalUnitType="access_unit_delimiter_rbsp"}self.trigger("data",event)}),nalByteStream.on("done",function(){self.trigger("done")}),this.flush=function(){nalByteStream.flush()},skipScalingList=function(count,expGolombDecoder){var lastScale=8,nextScale=8,j,deltaScale;for(j=0;j<count;j++)0!==nextScale&&(nextScale=(lastScale+(deltaScale=expGolombDecoder.readExpGolomb())+256)%256),lastScale=0===nextScale?lastScale:nextScale},discardEmulationPreventionBytes=function(data){for(var length=data.byteLength,emulationPreventionBytesPositions=[],i=1,newLength,newData;i<length-2;)0===data[i]&&0===data[i+1]&&3===data[i+2]?(emulationPreventionBytesPositions.push(i+2),i+=2):i++;if(0===emulationPreventionBytesPositions.length)return data;newLength=length-emulationPreventionBytesPositions.length,newData=new Uint8Array(newLength);var sourceIndex=0;for(i=0;i<newLength;sourceIndex++,i++)sourceIndex===emulationPreventionBytesPositions[0]&&(sourceIndex++,emulationPreventionBytesPositions.shift()),newData[i]=data[sourceIndex];return newData},readSequenceParameterSet=function(data){var frameCropLeftOffset=0,frameCropRightOffset=0,frameCropTopOffset=0,frameCropBottomOffset=0,sarScale=1,expGolombDecoder,profileIdc,levelIdc,profileCompatibility,chromaFormatIdc,picOrderCntType,numRefFramesInPicOrderCntCycle,picWidthInMbsMinus1,picHeightInMapUnitsMinus1,frameMbsOnlyFlag,scalingListCount,sarRatio,aspectRatioIdc,i;if(profileIdc=(expGolombDecoder=new ExpGolomb(data)).readUnsignedByte(),profileCompatibility=expGolombDecoder.readUnsignedByte(),levelIdc=expGolombDecoder.readUnsignedByte(),expGolombDecoder.skipUnsignedExpGolomb(),PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]&&(3===(chromaFormatIdc=expGolombDecoder.readUnsignedExpGolomb())&&expGolombDecoder.skipBits(1),expGolombDecoder.skipUnsignedExpGolomb(),expGolombDecoder.skipUnsignedExpGolomb(),expGolombDecoder.skipBits(1),expGolombDecoder.readBoolean()))for(scalingListCount=3!==chromaFormatIdc?8:12,i=0;i<scalingListCount;i++)expGolombDecoder.readBoolean()&&skipScalingList(i<6?16:64,expGolombDecoder);if(expGolombDecoder.skipUnsignedExpGolomb(),0===(picOrderCntType=expGolombDecoder.readUnsignedExpGolomb()))expGolombDecoder.readUnsignedExpGolomb();else if(1===picOrderCntType)for(expGolombDecoder.skipBits(1),expGolombDecoder.skipExpGolomb(),expGolombDecoder.skipExpGolomb(),numRefFramesInPicOrderCntCycle=expGolombDecoder.readUnsignedExpGolomb(),i=0;i<numRefFramesInPicOrderCntCycle;i++)expGolombDecoder.skipExpGolomb();if(expGolombDecoder.skipUnsignedExpGolomb(),expGolombDecoder.skipBits(1),picWidthInMbsMinus1=expGolombDecoder.readUnsignedExpGolomb(),picHeightInMapUnitsMinus1=expGolombDecoder.readUnsignedExpGolomb(),0===(frameMbsOnlyFlag=expGolombDecoder.readBits(1))&&expGolombDecoder.skipBits(1),expGolombDecoder.skipBits(1),expGolombDecoder.readBoolean()&&(frameCropLeftOffset=expGolombDecoder.readUnsignedExpGolomb(),frameCropRightOffset=expGolombDecoder.readUnsignedExpGolomb(),frameCropTopOffset=expGolombDecoder.readUnsignedExpGolomb(),frameCropBottomOffset=expGolombDecoder.readUnsignedExpGolomb()),expGolombDecoder.readBoolean()&&expGolombDecoder.readBoolean()){switch(aspectRatioIdc=expGolombDecoder.readUnsignedByte()){case 1:sarRatio=[1,1];break;case 2:sarRatio=[12,11];break;case 3:sarRatio=[10,11];break;case 4:sarRatio=[16,11];break;case 5:sarRatio=[40,33];break;case 6:sarRatio=[24,11];break;case 7:sarRatio=[20,11];break;case 8:sarRatio=[32,11];break;case 9:sarRatio=[80,33];break;case 10:sarRatio=[18,11];break;case 11:sarRatio=[15,11];break;case 12:sarRatio=[64,33];break;case 13:sarRatio=[160,99];break;case 14:sarRatio=[4,3];break;case 15:sarRatio=[3,2];break;case 16:sarRatio=[2,1];break;case 255:sarRatio=[expGolombDecoder.readUnsignedByte()<<8|expGolombDecoder.readUnsignedByte(),expGolombDecoder.readUnsignedByte()<<8|expGolombDecoder.readUnsignedByte()]}sarRatio&&(sarScale=sarRatio[0]/sarRatio[1])}return{profileIdc:profileIdc,levelIdc:levelIdc,profileCompatibility:profileCompatibility,width:Math.ceil((16*(picWidthInMbsMinus1+1)-2*frameCropLeftOffset-2*frameCropRightOffset)*sarScale),height:(2-frameMbsOnlyFlag)*(picHeightInMapUnitsMinus1+1)*16-2*frameCropTopOffset-2*frameCropBottomOffset}}}).prototype=new Stream,module.exports={H264Stream:H264Stream,NalByteStream:NalByteStream}},function(module,exports){"use strict";var ExpGolomb;ExpGolomb=function(workingData){var workingBytesAvailable=workingData.byteLength,workingWord=0,workingBitsAvailable=0;this.length=function(){return 8*workingBytesAvailable},this.bitsAvailable=function(){return 8*workingBytesAvailable+workingBitsAvailable},this.loadWord=function(){var position=workingData.byteLength-workingBytesAvailable,workingBytes=new Uint8Array(4),availableBytes=Math.min(4,workingBytesAvailable);if(0===availableBytes)throw new Error("no bytes available");workingBytes.set(workingData.subarray(position,position+availableBytes)),workingWord=new DataView(workingBytes.buffer).getUint32(0),workingBitsAvailable=8*availableBytes,workingBytesAvailable-=availableBytes},this.skipBits=function(count){var skipBytes;workingBitsAvailable>count?(workingWord<<=count,workingBitsAvailable-=count):(count-=workingBitsAvailable,count-=8*(skipBytes=Math.floor(count/8)),workingBytesAvailable-=skipBytes,this.loadWord(),workingWord<<=count,workingBitsAvailable-=count)},this.readBits=function(size){var bits=Math.min(workingBitsAvailable,size),valu=workingWord>>>32-bits;return(workingBitsAvailable-=bits)>0?workingWord<<=bits:workingBytesAvailable>0&&this.loadWord(),(bits=size-bits)>0?valu<<bits|this.readBits(bits):valu},this.skipLeadingZeros=function(){var leadingZeroCount;for(leadingZeroCount=0;leadingZeroCount<workingBitsAvailable;++leadingZeroCount)if(0!=(workingWord&2147483648>>>leadingZeroCount))return workingWord<<=leadingZeroCount,workingBitsAvailable-=leadingZeroCount,leadingZeroCount;return this.loadWord(),leadingZeroCount+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var clz=this.skipLeadingZeros();return this.readBits(clz+1)-1},this.readExpGolomb=function(){var valu=this.readUnsignedExpGolomb();return 1&valu?1+valu>>>1:-1*(valu>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},module.exports=ExpGolomb},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),CoalesceStream=function(options){this.numberOfTracks=0,this.metadataStream=options.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,CoalesceStream.prototype.init.call(this),this.push=function(output){return output.text?this.pendingCaptions.push(output):output.frames?this.pendingMetadata.push(output):("video"===output.track.type&&(this.videoTrack=output.track,this.videoTags=output.tags,this.pendingTracks++),void("audio"===output.track.type&&(this.audioTrack=output.track,this.audioTags=output.tags,this.pendingTracks++)))}};CoalesceStream.prototype=new Stream,CoalesceStream.prototype.flush=function(flushSource){var id3,caption,i,timelineStartPts,event={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==flushSource&&"AudioSegmentStream"!==flushSource)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?timelineStartPts=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(timelineStartPts=this.audioTrack.timelineStartInfo.pts),event.tags.videoTags=this.videoTags,event.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)(caption=this.pendingCaptions[i]).startTime=caption.startPts-timelineStartPts,caption.startTime/=9e4,caption.endTime=caption.endPts-timelineStartPts,caption.endTime/=9e4,event.captionStreams[caption.stream]=!0,event.captions.push(caption);for(i=0;i<this.pendingMetadata.length;i++)(id3=this.pendingMetadata[i]).cueTime=id3.pts-timelineStartPts,id3.cueTime/=9e4,event.metadata.push(id3);event.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",event),this.trigger("done")}},module.exports=CoalesceStream},function(module,exports){"use strict";var TagList=function(){var self=this;this.list=[],this.push=function(tag){this.list.push({bytes:tag.bytes,dts:tag.dts,pts:tag.pts,keyFrame:tag.keyFrame,metaDataTag:tag.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return self.list.length}})};module.exports=TagList},function(module,exports,__webpack_require__){"use strict";var FlvTag=__webpack_require__(412),getFlvHeader=function(duration,audio,video){var headBytes=new Uint8Array(9),head=new DataView(headBytes.buffer),metadata,result,metadataLength;return duration=duration||0,audio=void 0===audio||audio,video=void 0===video||video,head.setUint8(0,70),head.setUint8(1,76),head.setUint8(2,86),head.setUint8(3,1),head.setUint8(4,(audio?4:0)|(video?1:0)),head.setUint32(5,headBytes.byteLength),duration<=0?((result=new Uint8Array(headBytes.byteLength+4)).set(headBytes),result.set([0,0,0,0],headBytes.byteLength),result):((metadata=new FlvTag(FlvTag.METADATA_TAG)).pts=metadata.dts=0,metadata.writeMetaDataDouble("duration",duration),metadataLength=metadata.finalize().length,(result=new Uint8Array(headBytes.byteLength+metadataLength)).set(headBytes),result.set(head.byteLength,metadataLength),result)};module.exports=getFlvHeader},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var removeCuesFromTrack=function removeCuesFromTrack(start,end,track){var i=void 0,cue=void 0;if(track&&track.cues)for(i=track.cues.length;i--;)(cue=track.cues[i]).startTime<=end&&cue.endTime>=start&&track.removeCue(cue)};exports.default=removeCuesFromTrack,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var createTextTracksIfNecessary=function createTextTracksIfNecessary(sourceBuffer,mediaSource,segment){var player=mediaSource.player_;if(segment.captions&&segment.captions.length)for(var trackId in sourceBuffer.inbandTextTracks_||(sourceBuffer.inbandTextTracks_={}),segment.captionStreams)if(!sourceBuffer.inbandTextTracks_[trackId]){player.tech_.trigger({type:"usage",name:"hls-608"});var track=player.textTracks().getTrackById(trackId);sourceBuffer.inbandTextTracks_[trackId]=track||player.addRemoteTextTrack({kind:"captions",id:trackId,label:trackId},!1).track}segment.metadata&&segment.metadata.length&&!sourceBuffer.metadataTrack_&&(sourceBuffer.metadataTrack_=player.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType=segment.metadata.dispatchType)};exports.default=createTextTracksIfNecessary,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),deprecateOldCue=function deprecateOldCue(cue){Object.defineProperties(cue.frame,{id:{get:function get(){return _videoJs2.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),cue.value.key}},value:{get:function get(){return _videoJs2.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),cue.value.data}},privateData:{get:function get(){return _videoJs2.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),cue.value.data}}})},durationOfVideo=function durationOfVideo(duration){var dur=void 0;return dur=isNaN(duration)||Math.abs(duration)===1/0?Number.MAX_VALUE:duration},addTextTrackData=function addTextTrackData(sourceHandler,captionArray,metadataArray){var Cue=_globalWindow2.default.WebKitDataCue||_globalWindow2.default.VTTCue,videoDuration;captionArray&&captionArray.forEach(function(caption){var track=caption.stream;this.inbandTextTracks_[track].addCue(new Cue(caption.startTime+this.timestampOffset,caption.endTime+this.timestampOffset,caption.text))},sourceHandler),metadataArray&&(videoDuration=durationOfVideo(sourceHandler.mediaSource_.duration),metadataArray.forEach(function(metadata){var time=metadata.cueTime+this.timestampOffset;metadata.frames.forEach(function(frame){var cue=new Cue(time,time,frame.value||frame.url||frame.data||"");cue.frame=frame,cue.value=frame,deprecateOldCue(cue),this.metadataTrack_.addCue(cue)},this)},sourceHandler),sourceHandler.metadataTrack_&&sourceHandler.metadataTrack_.cues&&sourceHandler.metadataTrack_.cues.length&&function(){for(var cues=sourceHandler.metadataTrack_.cues,cuesArray=[],i=0;i<cues.length;i++)cues[i]&&cuesArray.push(cues[i]);var cuesGroupedByStartTime=cuesArray.reduce(function(obj,cue){var timeSlot=obj[cue.startTime]||[];return timeSlot.push(cue),obj[cue.startTime]=timeSlot,obj},{}),sortedStartTimes=Object.keys(cuesGroupedByStartTime).sort(function(a,b){return Number(a)-Number(b)});sortedStartTimes.forEach(function(startTime,idx){var cueGroup=cuesGroupedByStartTime[startTime],nextTime=Number(sortedStartTimes[idx+1])||videoDuration;cueGroup.forEach(function(cue){cue.endTime=nextTime})})}())};exports.default={addTextTrackData:addTextTrackData,durationOfVideo:durationOfVideo},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_muxJsLibFlv,_muxJsLibFlv2=_interopRequireDefault(__webpack_require__(411)),wireTransmuxerEvents=function wireTransmuxerEvents(transmuxer){transmuxer.on("data",function(segment){_globalWindow2.default.postMessage({action:"data",segment:segment})}),transmuxer.on("done",function(data){_globalWindow2.default.postMessage({action:"done"})})},MessageHandlers=function(){function MessageHandlers(options){_classCallCheck(this,MessageHandlers),this.options=options||{},this.init()}return _createClass(MessageHandlers,[{key:"init",value:function init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new _muxJsLibFlv2.default.Transmuxer(this.options),wireTransmuxerEvents(this.transmuxer)}},{key:"push",value:function push(data){var segment=new Uint8Array(data.data,data.byteOffset,data.byteLength);this.transmuxer.push(segment)}},{key:"reset",value:function reset(){this.init()}},{key:"flush",value:function flush(){this.transmuxer.flush()}},{key:"resetCaptions",value:function resetCaptions(){this.transmuxer.resetCaptions()}}]),MessageHandlers}(),FlashTransmuxerWorker=function FlashTransmuxerWorker(self){self.onmessage=function(event){"init"===event.data.action&&event.data.options?this.messageHandlers=new MessageHandlers(event.data.options):(this.messageHandlers||(this.messageHandlers=new MessageHandlers),event.data&&event.data.action&&"init"!==event.data.action&&this.messageHandlers[event.data.action]&&this.messageHandlers[event.data.action](event.data))}};exports.default=function(self){return new FlashTransmuxerWorker(self)},module.exports=exports.default},function(module,exports,__webpack_require__){var bundleFn=arguments[3],sources=arguments[4],cache=arguments[5],stringify=JSON.stringify,webpack=!1,webpackBootstrapFn;void 0===bundleFn&&(webpack=!0,bundleFn=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=entryModule)},sources=__webpack_require__.m);var bundleWithBrowserify=function(fn){for(var cacheKeys=Object.keys(cache),fnModuleKey,i=0;i<cacheKeys.length;i++){var cacheKey=cacheKeys[i],cacheExports=cache[cacheKey].exports;if(cacheExports===fn||cacheExports&&cacheExports.default===fn){fnModuleKey=cacheKey;break}}if(!fnModuleKey){fnModuleKey=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var fnModuleCache={},i=0;i<cacheKeys.length;i++){var cacheKey;fnModuleCache[cacheKey=cacheKeys[i]]=cacheKey}sources[fnModuleKey]=["function(require,module,exports){"+fn+"(self); }",fnModuleCache]}var entryKey=Math.floor(Math.pow(16,8)*Math.random()).toString(16),entryCache={};return entryCache[fnModuleKey]=fnModuleKey,sources[entryKey]=["function(require,module,exports){var f = require("+stringify(fnModuleKey)+");(f.default ? f.default : f)(self);}",entryCache],"("+bundleFn+")({"+Object.keys(sources).map(function(key){return stringify(key)+":["+sources[key][0]+","+stringify(sources[key][1])+"]"}).join(",")+"},{},["+stringify(entryKey)+"])"},bundleWithWebpack=function(fn,fnModuleId){var devMode="string"==typeof fnModuleId,sourceStrings;sourceStrings=devMode?{}:[],Object.keys(sources).forEach(function(sKey){sources[sKey]&&(sourceStrings[sKey]=sources[sKey].toString())});var fnModuleExports=__webpack_require__(fnModuleId),modulesString,mappedSourceStrings;if(!fnModuleExports||fnModuleExports!==fn&&fnModuleExports.default!==fn){var fnSourceString=sourceStrings[fnModuleId];sourceStrings[fnModuleId]=fnSourceString.substring(0,fnSourceString.length-1)+"\n"+fn.name+"();\n}"}devMode?(fnModuleId=stringify(fnModuleId),modulesString="{"+Object.keys(sourceStrings).map(function(sKey){return stringify(sKey)+":"+sourceStrings[sKey]}).join(",")+"}"):modulesString="["+sourceStrings.join(",")+"]";return"var fn = ("+bundleFn.toString().replace("entryModule",fnModuleId)+")("+modulesString+');\n(typeof fn === "function") && fn(self);'};module.exports=function webwackify(fn,fnModuleId){var src;src=webpack?bundleWithWebpack(fn,fnModuleId):bundleWithBrowserify(fn);var blob=new Blob([src],{type:"text/javascript"}),URL,workerUrl=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(blob),worker=new Worker(workerUrl);return worker.objectURL=workerUrl,worker}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var flashConstants={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};exports.default=flashConstants,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isAudioCodec=function isAudioCodec(codec){return/mp4a\.\d+.\d+/i.test(codec)},isVideoCodec=function isVideoCodec(codec){return/avc1\.[\da-f]+/i.test(codec)},parseContentType=function parseContentType(type){var object={type:"",parameters:{}},parameters=type.trim().split(";");return object.type=parameters.shift().trim(),parameters.forEach(function(parameter){var pair=parameter.trim().split("=");if(pair.length>1){var _name=pair[0].replace(/"/g,"").trim(),value=pair[1].replace(/"/g,"").trim();object.parameters[_name]=value}}),object},translateLegacyCodecs=function translateLegacyCodecs(codecs){return codecs.map(function(codec){return codec.replace(/avc1\.(\d+)\.(\d+)/i,function(orig,profile,avcLevel){var profileHex,avcLevelHex;return"avc1."+("00"+Number(profile).toString(16)).slice(-2)+"00"+("00"+Number(avcLevel).toString(16)).slice(-2)})})};exports.default={isAudioCodec:isAudioCodec,parseContentType:parseContentType,isVideoCodec:isVideoCodec,translateLegacyCodecs:translateLegacyCodecs},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_globalDocument,_globalDocument2=_interopRequireDefault(__webpack_require__(281)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_virtualSourceBuffer,_virtualSourceBuffer2=_interopRequireDefault(__webpack_require__(434)),_addTextTrackData=__webpack_require__(428),_codecUtils=__webpack_require__(432),HtmlMediaSource=function(_videojs$EventTarget){function HtmlMediaSource(){var _this=this;_classCallCheck(this,HtmlMediaSource),_get(Object.getPrototypeOf(HtmlMediaSource.prototype),"constructor",this).call(this);var property=void 0;for(property in this.nativeMediaSource_=new _globalWindow2.default.MediaSource,this.nativeMediaSource_)property in HtmlMediaSource.prototype||"function"!=typeof this.nativeMediaSource_[property]||(this[property]=this.nativeMediaSource_[property].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function get(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function set(duration){this.duration_=duration,duration===1/0||(this.nativeMediaSource_.duration=duration)}}),Object.defineProperty(this,"seekable",{get:function get(){return this.duration_===1/0?_videoJs2.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function get(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function get(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(_this.activeSourceBuffers_.length=0,1===_this.sourceBuffers.length){var sourceBuffer=_this.sourceBuffers[0];return sourceBuffer.appendAudioInitSegment_=!0,sourceBuffer.audioDisabled_=!sourceBuffer.audioCodec_,void _this.activeSourceBuffers_.push(sourceBuffer)}for(var disableCombined=!1,disableAudioOnly=!0,i=0;i<_this.player_.audioTracks().length;i++){var track=_this.player_.audioTracks()[i];if(track.enabled&&"main"!==track.kind){disableCombined=!0,disableAudioOnly=!1;break}}_this.sourceBuffers.forEach(function(sourceBuffer){if(sourceBuffer.appendAudioInitSegment_=!0,sourceBuffer.videoCodec_&&sourceBuffer.audioCodec_)sourceBuffer.audioDisabled_=disableCombined;else if(sourceBuffer.videoCodec_&&!sourceBuffer.audioCodec_)sourceBuffer.audioDisabled_=!0,disableAudioOnly=!1;else if(!sourceBuffer.videoCodec_&&sourceBuffer.audioCodec_&&(sourceBuffer.audioDisabled_=disableAudioOnly,disableAudioOnly))return;_this.activeSourceBuffers_.push(sourceBuffer)})},this.onPlayerMediachange_=function(){_this.sourceBuffers.forEach(function(sourceBuffer){sourceBuffer.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){_this.sourceBuffers.forEach(function(sourceBuffer){sourceBuffer.transmuxer_&&sourceBuffer.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(event){_this.sourceBuffers.forEach(function(buffer){return buffer.timeMapping_=event.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(eventName){this.nativeMediaSource_.addEventListener(eventName,this.trigger.bind(this))},this),this.on("sourceopen",function(event){var video=_globalDocument2.default.querySelector('[src="'+_this.url_+'"]');video&&(_this.player_=(0,_videoJs2.default)(video.parentNode),_this.player_.tech_.on("hls-reset",_this.onHlsReset_),_this.player_.tech_.on("hls-segment-time-mapping",_this.onHlsSegmentTimeMapping_),_this.player_.audioTracks&&_this.player_.audioTracks()&&(_this.player_.audioTracks().on("change",_this.updateActiveSourceBuffers_),_this.player_.audioTracks().on("addtrack",_this.updateActiveSourceBuffers_),_this.player_.audioTracks().on("removetrack",_this.updateActiveSourceBuffers_)),_this.player_.on("mediachange",_this.onPlayerMediachange_))}),this.on("sourceended",function(event){for(var duration=(0,_addTextTrackData.durationOfVideo)(_this.duration),i=0;i<_this.sourceBuffers.length;i++){var sourcebuffer=_this.sourceBuffers[i],cues=sourcebuffer.metadataTrack_&&sourcebuffer.metadataTrack_.cues;cues&&cues.length&&(cues[cues.length-1].endTime=duration)}}),this.on("sourceclose",function(event){this.sourceBuffers.forEach(function(sourceBuffer){sourceBuffer.transmuxer_&&sourceBuffer.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return _inherits(HtmlMediaSource,_videojs$EventTarget),_createClass(HtmlMediaSource,[{key:"addSeekableRange_",value:function addSeekableRange_(start,end){var error=void 0;if(this.duration!==1/0)throw(error=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",error.code=11,error;(end>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=end)}},{key:"addSourceBuffer",value:function addSourceBuffer(type){var buffer=void 0,parsedType=(0,_codecUtils.parseContentType)(type);if(/^(video|audio)\/mp2t$/i.test(parsedType.type)){var codecs=[];parsedType.parameters&&parsedType.parameters.codecs&&(codecs=parsedType.parameters.codecs.split(","),codecs=(codecs=(0,_codecUtils.translateLegacyCodecs)(codecs)).filter(function(codec){return(0,_codecUtils.isAudioCodec)(codec)||(0,_codecUtils.isVideoCodec)(codec)})),0===codecs.length&&(codecs=["avc1.4d400d","mp4a.40.2"]),buffer=new _virtualSourceBuffer2.default(this,codecs),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),buffer.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else buffer=this.nativeMediaSource_.addSourceBuffer(type);return this.sourceBuffers.push(buffer),buffer}}]),HtmlMediaSource}(_videoJs2.default.EventTarget);exports.default=HtmlMediaSource,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_createTextTracksIfNecessary,_createTextTracksIfNecessary2=_interopRequireDefault(__webpack_require__(427)),_removeCuesFromTrack,_removeCuesFromTrack2=_interopRequireDefault(__webpack_require__(426)),_addTextTrackData=__webpack_require__(428),_webwackify,_webwackify2=_interopRequireDefault(__webpack_require__(430)),_transmuxerWorker,_transmuxerWorker2=_interopRequireDefault(__webpack_require__(435)),_codecUtils=__webpack_require__(432),resolveTransmuxWorker=function resolveTransmuxWorker(){var result=void 0;try{result=435}catch(e){}return result},makeWrappedSourceBuffer=function makeWrappedSourceBuffer(mediaSource,mimeType){var sourceBuffer=mediaSource.addSourceBuffer(mimeType),wrapper=Object.create(null);wrapper.updating=!1,wrapper.realBuffer_=sourceBuffer;var _loop=function(key){"function"==typeof sourceBuffer[key]?wrapper[key]=function(){return sourceBuffer[key].apply(sourceBuffer,arguments)}:void 0===wrapper[key]&&Object.defineProperty(wrapper,key,{get:function get(){return sourceBuffer[key]},set:function set(v){return sourceBuffer[key]=v}})};for(var key in sourceBuffer)_loop(key);return wrapper},gopsSafeToAlignWith=function gopsSafeToAlignWith(buffer,player,mapping){if(!player||!buffer.length)return[];var currentTimePts=Math.ceil(9e4*(player.currentTime()-mapping+3)),i=void 0;for(i=0;i<buffer.length&&!(buffer[i].pts>currentTimePts);i++);return buffer.slice(i)};exports.gopsSafeToAlignWith=gopsSafeToAlignWith;var updateGopBuffer=function updateGopBuffer(buffer,gops,replace){if(!gops.length)return buffer;if(replace)return gops.slice();for(var start=gops[0].pts,i=0;i<buffer.length&&!(buffer[i].pts>=start);i++);return buffer.slice(0,i).concat(gops)};exports.updateGopBuffer=updateGopBuffer;var removeGopBuffer=function removeGopBuffer(buffer,start,end,mapping){for(var startPts=Math.ceil(9e4*(start-mapping)),endPts=Math.ceil(9e4*(end-mapping)),updatedBuffer=buffer.slice(),i=buffer.length;i--&&!(buffer[i].pts<=endPts););if(-1===i)return updatedBuffer;for(var j=i+1;j--&&!(buffer[j].pts<=startPts););return j=Math.max(j,0),updatedBuffer.splice(j,i-j+1),updatedBuffer};exports.removeGopBuffer=removeGopBuffer;var VirtualSourceBuffer=function(_videojs$EventTarget){function VirtualSourceBuffer(mediaSource,codecs){var _this=this;_classCallCheck(this,VirtualSourceBuffer),_get(Object.getPrototypeOf(VirtualSourceBuffer.prototype),"constructor",this).call(this,_videoJs2.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=mediaSource,this.codecs_=codecs,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=_videoJs2.default.browser.IE_VERSION>=11;var options={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(codec){(0,_codecUtils.isAudioCodec)(codec)?_this.audioCodec_=codec:(0,_codecUtils.isVideoCodec)(codec)&&(_this.videoCodec_=codec)}),this.transmuxer_=(0,_webwackify2.default)(_transmuxerWorker2.default,resolveTransmuxWorker()),this.transmuxer_.postMessage({action:"init",options:options}),this.transmuxer_.onmessage=function(event){return"data"===event.data.action?_this.data_(event):"done"===event.data.action?_this.done_(event):"gopInfo"===event.data.action?_this.appendGopInfo_(event):void 0},Object.defineProperty(this,"timestampOffset",{get:function get(){return this.timestampOffset_},set:function set(val){"number"==typeof val&&val>=0&&(this.timestampOffset_=val,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:val}))}}),Object.defineProperty(this,"appendWindowStart",{get:function get(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function set(start){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=start),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=start)}}),Object.defineProperty(this,"updating",{get:function get(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function get(){var start=null,end=null,arity=0,extents=[],ranges=[];if(!this.videoBuffer_&&!this.audioBuffer_)return _videoJs2.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return _videoJs2.default.createTimeRange();for(var videoBuffered=this.videoBuffer_.buffered,audioBuffered=this.audioBuffer_.buffered,count=videoBuffered.length;count--;)extents.push({time:videoBuffered.start(count),type:"start"}),extents.push({time:videoBuffered.end(count),type:"end"});for(count=audioBuffered.length;count--;)extents.push({time:audioBuffered.start(count),type:"start"}),extents.push({time:audioBuffered.end(count),type:"end"});for(extents.sort(function(a,b){return a.time-b.time}),count=0;count<extents.length;count++)"start"===extents[count].type?2===++arity&&(start=extents[count].time):"end"===extents[count].type&&1===--arity&&(end=extents[count].time),null!==start&&null!==end&&(ranges.push([start,end]),start=null,end=null);return _videoJs2.default.createTimeRanges(ranges)}})}return _inherits(VirtualSourceBuffer,_videojs$EventTarget),_createClass(VirtualSourceBuffer,[{key:"data_",value:function data_(event){var segment=event.data.segment;segment.data=new Uint8Array(segment.data,event.data.byteOffset,event.data.byteLength),segment.initSegment=new Uint8Array(segment.initSegment.data,segment.initSegment.byteOffset,segment.initSegment.byteLength),(0,_createTextTracksIfNecessary2.default)(this,this.mediaSource_,segment),this.pendingBuffers_.push(segment)}},{key:"done_",value:function done_(event){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function createRealSourceBuffers_(){var _this2=this,types=["audio","video"];types.forEach(function(type){if(_this2[type+"Codec_"]&&!_this2[type+"Buffer_"]){var buffer=null;if(_this2.mediaSource_[type+"Buffer_"])(buffer=_this2.mediaSource_[type+"Buffer_"]).updating=!1;else{var codecProperty,mimeType=type+'/mp4;codecs="'+_this2[type+"Codec_"]+'"';buffer=makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_,mimeType),_this2.mediaSource_[type+"Buffer_"]=buffer}_this2[type+"Buffer_"]=buffer,["update","updatestart","updateend"].forEach(function(event){buffer.addEventListener(event,function(){var shouldTrigger;if("audio"!==type||!_this2.audioDisabled_)return"updateend"===event&&(_this2[type+"Buffer_"].updating=!1),types.every(function(t){return!("audio"!==t||!_this2.audioDisabled_)||(type===t||!_this2[t+"Buffer_"]||!_this2[t+"Buffer_"].updating)})?_this2.trigger(event):void 0})})}})}},{key:"appendBuffer",value:function appendBuffer(segment){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var audioBuffered=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:audioBuffered.end(audioBuffered.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:gopsSafeToAlignWith(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:segment.buffer,byteOffset:segment.byteOffset,byteLength:segment.byteLength},[segment.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function appendGopInfo_(event){this.gopBuffer_=updateGopBuffer(this.gopBuffer_,event.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function remove(start,end){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(start,end),this.gopBuffer_=removeGopBuffer(this.gopBuffer_,start,end,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(start,end)),(0,_removeCuesFromTrack2.default)(start,end,this.metadataTrack_),this.inbandTextTracks_)for(var track in this.inbandTextTracks_)(0,_removeCuesFromTrack2.default)(start,end,this.inbandTextTracks_[track])}},{key:"processPendingSegments_",value:function processPendingSegments_(){var sortedSegments={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};sortedSegments=this.pendingBuffers_.reduce(function(segmentObj,segment){var type=segment.type,data=segment.data,initSegment=segment.initSegment;return segmentObj[type].segments.push(data),segmentObj[type].bytes+=data.byteLength,segmentObj[type].initSegment=initSegment,segment.captions&&(segmentObj.captions=segmentObj.captions.concat(segment.captions)),segment.info&&(segmentObj[type].info=segment.info),segment.metadata&&(segmentObj.metadata=segmentObj.metadata.concat(segment.metadata)),segmentObj},sortedSegments),this.videoBuffer_||this.audioBuffer_||(0===sortedSegments.video.bytes&&(this.videoCodec_=null),0===sortedSegments.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),sortedSegments.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:sortedSegments.audio.info}),sortedSegments.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:sortedSegments.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment),sortedSegments.audio.bytes+=sortedSegments.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var triggerUpdateend=!1;this.videoBuffer_&&sortedSegments.video.bytes?(sortedSegments.video.segments.unshift(sortedSegments.video.initSegment),sortedSegments.video.bytes+=sortedSegments.video.initSegment.byteLength,this.concatAndAppendSegments_(sortedSegments.video,this.videoBuffer_),(0,_addTextTrackData.addTextTrackData)(this,sortedSegments.captions,sortedSegments.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(triggerUpdateend=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(sortedSegments.audio,this.audioBuffer_),this.pendingBuffers_.length=0,triggerUpdateend&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function concatAndAppendSegments_(segmentObj,destinationBuffer){var offset=0,tempBuffer=void 0;if(segmentObj.bytes){tempBuffer=new Uint8Array(segmentObj.bytes),segmentObj.segments.forEach(function(segment){tempBuffer.set(segment,offset),offset+=segment.byteLength});try{destinationBuffer.updating=!0,destinationBuffer.appendBuffer(tempBuffer)}catch(error){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:error.message,originalError:error})}}}},{key:"abort",value:function abort(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),VirtualSourceBuffer}(_videoJs2.default.EventTarget);exports.default=VirtualSourceBuffer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_muxJsLibMp4,_muxJsLibMp42=_interopRequireDefault(__webpack_require__(436)),wireTransmuxerEvents=function wireTransmuxerEvents(transmuxer){transmuxer.on("data",function(segment){var initArray=segment.initSegment;segment.initSegment={data:initArray.buffer,byteOffset:initArray.byteOffset,byteLength:initArray.byteLength};var typedArray=segment.data;segment.data=typedArray.buffer,_globalWindow2.default.postMessage({action:"data",segment:segment,byteOffset:typedArray.byteOffset,byteLength:typedArray.byteLength},[segment.data])}),transmuxer.captionStream&&transmuxer.captionStream.on("data",function(caption){_globalWindow2.default.postMessage({action:"caption",data:caption})}),transmuxer.on("done",function(data){_globalWindow2.default.postMessage({action:"done"})}),transmuxer.on("gopInfo",function(gopInfo){_globalWindow2.default.postMessage({action:"gopInfo",gopInfo:gopInfo})})},MessageHandlers=function(){function MessageHandlers(options){_classCallCheck(this,MessageHandlers),this.options=options||{},this.init()}return _createClass(MessageHandlers,[{key:"init",value:function init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new _muxJsLibMp42.default.Transmuxer(this.options),wireTransmuxerEvents(this.transmuxer)}},{key:"push",value:function push(data){var segment=new Uint8Array(data.data,data.byteOffset,data.byteLength);this.transmuxer.push(segment)}},{key:"reset",value:function reset(){this.init()}},{key:"setTimestampOffset",value:function setTimestampOffset(data){var timestampOffset=data.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*timestampOffset))}},{key:"setAudioAppendStart",value:function setAudioAppendStart(data){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*data.appendStart))}},{key:"flush",value:function flush(data){this.transmuxer.flush()}},{key:"resetCaptions",value:function resetCaptions(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function alignGopsWith(data){this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice())}}]),MessageHandlers}(),TransmuxerWorker=function TransmuxerWorker(self){self.onmessage=function(event){"init"===event.data.action&&event.data.options?this.messageHandlers=new MessageHandlers(event.data.options):(this.messageHandlers||(this.messageHandlers=new MessageHandlers),event.data&&event.data.action&&"init"!==event.data.action&&this.messageHandlers[event.data.action]&&this.messageHandlers[event.data.action](event.data))}};exports.default=function(self){return new TransmuxerWorker(self)},module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={generator:__webpack_require__(437),Transmuxer:__webpack_require__(438).Transmuxer,AudioSegmentStream:__webpack_require__(438).AudioSegmentStream,VideoSegmentStream:__webpack_require__(438).VideoSegmentStream}},function(module,exports){"use strict";var UINT32_MAX=Math.pow(2,32)-1,box,dinf,esds,ftyp,mdat,mfhd,minf,moof,moov,mvex,mvhd,trak,tkhd,mdia,mdhd,hdlr,sdtp,stbl,stsd,traf,trex,trun,types,MAJOR_BRAND,MINOR_VERSION,AVC1_BRAND,VIDEO_HDLR,AUDIO_HDLR,HDLR_TYPES,VMHD,SMHD,DREF,STCO,STSC,STSZ,STTS,videoSample,audioSample,audioTrun,videoTrun,trunHeader;!function(){var i;if(types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(i in types)types.hasOwnProperty(i)&&(types[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)]);MAJOR_BRAND=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),AVC1_BRAND=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),MINOR_VERSION=new Uint8Array([0,0,0,1]),VIDEO_HDLR=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),AUDIO_HDLR=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),HDLR_TYPES={video:VIDEO_HDLR,audio:AUDIO_HDLR},DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),STCO=new Uint8Array([0,0,0,0,0,0,0,0]),STSC=STCO,STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),STTS=STCO,VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),box=function(type){var payload=[],size=0,i,result,view;for(i=1;i<arguments.length;i++)payload.push(arguments[i]);for(i=payload.length;i--;)size+=payload[i].byteLength;for(result=new Uint8Array(size+8),(view=new DataView(result.buffer,result.byteOffset,result.byteLength)).setUint32(0,result.byteLength),result.set(type,4),i=0,size=8;i<payload.length;i++)result.set(payload[i],size),size+=payload[i].byteLength;return result},dinf=function(){return box(types.dinf,box(types.dref,DREF))},esds=function(track){return box(types.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,track.audioobjecttype<<3|track.samplingfrequencyindex>>>1,track.samplingfrequencyindex<<7|track.channelcount<<3,6,1,2]))},ftyp=function(){return box(types.ftyp,MAJOR_BRAND,MINOR_VERSION,MAJOR_BRAND,AVC1_BRAND)},hdlr=function(type){return box(types.hdlr,HDLR_TYPES[type])},mdat=function(data){return box(types.mdat,data)},mdhd=function(track){var result=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,track.duration>>>24&255,track.duration>>>16&255,track.duration>>>8&255,255&track.duration,85,196,0,0]);return track.samplerate&&(result[12]=track.samplerate>>>24&255,result[13]=track.samplerate>>>16&255,result[14]=track.samplerate>>>8&255,result[15]=255&track.samplerate),box(types.mdhd,result)},mdia=function(track){return box(types.mdia,mdhd(track),hdlr(track.type),minf(track))},mfhd=function(sequenceNumber){return box(types.mfhd,new Uint8Array([0,0,0,0,(4278190080&sequenceNumber)>>24,(16711680&sequenceNumber)>>16,(65280&sequenceNumber)>>8,255&sequenceNumber]))},minf=function(track){return box(types.minf,"video"===track.type?box(types.vmhd,VMHD):box(types.smhd,SMHD),dinf(),stbl(track))},moof=function(sequenceNumber,tracks){for(var trackFragments=[],i=tracks.length;i--;)trackFragments[i]=traf(tracks[i]);return box.apply(null,[types.moof,mfhd(sequenceNumber)].concat(trackFragments))},moov=function(tracks){for(var i=tracks.length,boxes=[];i--;)boxes[i]=trak(tracks[i]);return box.apply(null,[types.moov,mvhd(4294967295)].concat(boxes).concat(mvex(tracks)))},mvex=function(tracks){for(var i=tracks.length,boxes=[];i--;)boxes[i]=trex(tracks[i]);return box.apply(null,[types.mvex].concat(boxes))},mvhd=function(duration){var bytes=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&duration)>>24,(16711680&duration)>>16,(65280&duration)>>8,255&duration,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return box(types.mvhd,bytes)},sdtp=function(track){var samples=track.samples||[],bytes=new Uint8Array(4+samples.length),flags,i;for(i=0;i<samples.length;i++)flags=samples[i].flags,bytes[i+4]=flags.dependsOn<<4|flags.isDependedOn<<2|flags.hasRedundancy;return box(types.sdtp,bytes)},stbl=function(track){return box(types.stbl,stsd(track),box(types.stts,STTS),box(types.stsc,STSC),box(types.stsz,STSZ),box(types.stco,STCO))},stsd=function(track){return box(types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===track.type?videoSample(track):audioSample(track))},videoSample=function(track){var sps=track.sps||[],pps=track.pps||[],sequenceParameterSets=[],pictureParameterSets=[],i;for(i=0;i<sps.length;i++)sequenceParameterSets.push((65280&sps[i].byteLength)>>>8),sequenceParameterSets.push(255&sps[i].byteLength),sequenceParameterSets=sequenceParameterSets.concat(Array.prototype.slice.call(sps[i]));for(i=0;i<pps.length;i++)pictureParameterSets.push((65280&pps[i].byteLength)>>>8),pictureParameterSets.push(255&pps[i].byteLength),pictureParameterSets=pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));return box(types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&track.width)>>8,255&track.width,(65280&track.height)>>8,255&track.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),box(types.avcC,new Uint8Array([1,track.profileIdc,track.profileCompatibility,track.levelIdc,255].concat([sps.length]).concat(sequenceParameterSets).concat([pps.length]).concat(pictureParameterSets))),box(types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},audioSample=function(track){return box(types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&track.channelcount)>>8,255&track.channelcount,(65280&track.samplesize)>>8,255&track.samplesize,0,0,0,0,(65280&track.samplerate)>>8,255&track.samplerate,0,0]),esds(track))},tkhd=function(track){var result=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&track.id)>>24,(16711680&track.id)>>16,(65280&track.id)>>8,255&track.id,0,0,0,0,(4278190080&track.duration)>>24,(16711680&track.duration)>>16,(65280&track.duration)>>8,255&track.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&track.width)>>8,255&track.width,0,0,(65280&track.height)>>8,255&track.height,0,0]);return box(types.tkhd,result)},traf=function(track){var trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun,sampleDependencyTable,dataOffset,upperWordBaseMediaDecodeTime,lowerWordBaseMediaDecodeTime;return trackFragmentHeader=box(types.tfhd,new Uint8Array([0,0,0,58,(4278190080&track.id)>>24,(16711680&track.id)>>16,(65280&track.id)>>8,255&track.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),upperWordBaseMediaDecodeTime=Math.floor(track.baseMediaDecodeTime/(UINT32_MAX+1)),lowerWordBaseMediaDecodeTime=Math.floor(track.baseMediaDecodeTime%(UINT32_MAX+1)),trackFragmentDecodeTime=box(types.tfdt,new Uint8Array([1,0,0,0,upperWordBaseMediaDecodeTime>>>24&255,upperWordBaseMediaDecodeTime>>>16&255,upperWordBaseMediaDecodeTime>>>8&255,255&upperWordBaseMediaDecodeTime,lowerWordBaseMediaDecodeTime>>>24&255,lowerWordBaseMediaDecodeTime>>>16&255,lowerWordBaseMediaDecodeTime>>>8&255,255&lowerWordBaseMediaDecodeTime])),dataOffset=92,"audio"===track.type?(trackFragmentRun=trun(track,92),box(types.traf,trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun)):(sampleDependencyTable=sdtp(track),trackFragmentRun=trun(track,sampleDependencyTable.length+92),box(types.traf,trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun,sampleDependencyTable))},trak=function(track){return track.duration=track.duration||4294967295,box(types.trak,tkhd(track),mdia(track))},trex=function(track){var result=new Uint8Array([0,0,0,0,(4278190080&track.id)>>24,(16711680&track.id)>>16,(65280&track.id)>>8,255&track.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==track.type&&(result[result.length-1]=0),box(types.trex,result)},trunHeader=function(samples,offset){var durationPresent=0,sizePresent=0,flagsPresent=0,compositionTimeOffset=0;return samples.length&&(void 0!==samples[0].duration&&(durationPresent=1),void 0!==samples[0].size&&(sizePresent=2),void 0!==samples[0].flags&&(flagsPresent=4),void 0!==samples[0].compositionTimeOffset&&(compositionTimeOffset=8)),[0,0,durationPresent|sizePresent|flagsPresent|compositionTimeOffset,1,(4278190080&samples.length)>>>24,(16711680&samples.length)>>>16,(65280&samples.length)>>>8,255&samples.length,(4278190080&offset)>>>24,(16711680&offset)>>>16,(65280&offset)>>>8,255&offset]},videoTrun=function(track,offset){var bytes,samples,sample,i;for(offset+=20+16*(samples=track.samples||[]).length,bytes=trunHeader(samples,offset),i=0;i<samples.length;i++)sample=samples[i],bytes=bytes.concat([(4278190080&sample.duration)>>>24,(16711680&sample.duration)>>>16,(65280&sample.duration)>>>8,255&sample.duration,(4278190080&sample.size)>>>24,(16711680&sample.size)>>>16,(65280&sample.size)>>>8,255&sample.size,sample.flags.isLeading<<2|sample.flags.dependsOn,sample.flags.isDependedOn<<6|sample.flags.hasRedundancy<<4|sample.flags.paddingValue<<1|sample.flags.isNonSyncSample,61440&sample.flags.degradationPriority,15&sample.flags.degradationPriority,(4278190080&sample.compositionTimeOffset)>>>24,(16711680&sample.compositionTimeOffset)>>>16,(65280&sample.compositionTimeOffset)>>>8,255&sample.compositionTimeOffset]);return box(types.trun,new Uint8Array(bytes))},audioTrun=function(track,offset){var bytes,samples,sample,i;for(offset+=20+8*(samples=track.samples||[]).length,bytes=trunHeader(samples,offset),i=0;i<samples.length;i++)sample=samples[i],bytes=bytes.concat([(4278190080&sample.duration)>>>24,(16711680&sample.duration)>>>16,(65280&sample.duration)>>>8,255&sample.duration,(4278190080&sample.size)>>>24,(16711680&sample.size)>>>16,(65280&sample.size)>>>8,255&sample.size]);return box(types.trun,new Uint8Array(bytes))},trun=function(track,offset){return"audio"===track.type?audioTrun(track,offset):videoTrun(track,offset)},module.exports={ftyp:ftyp,mdat:mdat,moof:moof,moov:moov,initSegment:function(tracks){var fileType=ftyp(),movie=moov(tracks),result;return(result=new Uint8Array(fileType.byteLength+movie.byteLength)).set(fileType),result.set(movie,fileType.byteLength),result}}},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),mp4=__webpack_require__(437),m2ts=__webpack_require__(415),AdtsStream=__webpack_require__(420),H264Stream=__webpack_require__(421).H264Stream,AacStream=__webpack_require__(439),coneOfSilence=__webpack_require__(440),clock=__webpack_require__(441),AUDIO_PROPERTIES=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],VIDEO_PROPERTIES=["width","height","profileIdc","levelIdc","profileCompatibility"],ONE_SECOND_IN_TS=9e4,VideoSegmentStream,AudioSegmentStream,Transmuxer,CoalesceStream,createDefaultSample,isLikelyAacData,collectDtsInfo,clearDtsInfo,calculateTrackBaseMediaDecodeTime,arrayEquals,sumFrameByteLengths;createDefaultSample=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},isLikelyAacData=function(data){return data[0]==="I".charCodeAt(0)&&data[1]==="D".charCodeAt(0)&&data[2]==="3".charCodeAt(0)},arrayEquals=function(a,b){var i;if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0},sumFrameByteLengths=function(array){var i,currentObj,sum=0;for(i=0;i<array.length;i++)sum+=(currentObj=array[i]).data.byteLength;return sum},(AudioSegmentStream=function(track){var adtsFrames=[],sequenceNumber=0,earliestAllowedDts=0,audioAppendStartTs=0,videoBaseMediaDecodeTime=1/0;AudioSegmentStream.prototype.init.call(this),this.push=function(data){collectDtsInfo(track,data),track&&AUDIO_PROPERTIES.forEach(function(prop){track[prop]=data[prop]}),adtsFrames.push(data)},this.setEarliestDts=function(earliestDts){earliestAllowedDts=earliestDts-track.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(baseMediaDecodeTime){videoBaseMediaDecodeTime=baseMediaDecodeTime},this.setAudioAppendStart=function(timestamp){audioAppendStartTs=timestamp},this.flush=function(){var frames,moof,mdat,boxes;0!==adtsFrames.length?(frames=this.trimAdtsFramesByEarliestDts_(adtsFrames),track.baseMediaDecodeTime=calculateTrackBaseMediaDecodeTime(track),this.prefixWithSilence_(track,frames),track.samples=this.generateSampleTable_(frames),mdat=mp4.mdat(this.concatenateFrameData_(frames)),adtsFrames=[],moof=mp4.moof(sequenceNumber,[track]),boxes=new Uint8Array(moof.byteLength+mdat.byteLength),sequenceNumber++,boxes.set(moof),boxes.set(mdat,moof.byteLength),clearDtsInfo(track),this.trigger("data",{track:track,boxes:boxes}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(track,frames){var baseMediaDecodeTimeTs,frameDuration=0,audioGapDuration=0,audioFillFrameCount=0,audioFillDuration=0,silentFrame,i;if(frames.length&&(baseMediaDecodeTimeTs=clock.audioTsToVideoTs(track.baseMediaDecodeTime,track.samplerate),frameDuration=Math.ceil(9e4/(track.samplerate/1024)),audioAppendStartTs&&videoBaseMediaDecodeTime&&(audioGapDuration=baseMediaDecodeTimeTs-Math.max(audioAppendStartTs,videoBaseMediaDecodeTime),audioFillDuration=(audioFillFrameCount=Math.floor(audioGapDuration/frameDuration))*frameDuration),!(audioFillFrameCount<1||audioFillDuration>45e3))){for((silentFrame=coneOfSilence[track.samplerate])||(silentFrame=frames[0].data),i=0;i<audioFillFrameCount;i++)frames.splice(i,0,{data:silentFrame});track.baseMediaDecodeTime-=Math.floor(clock.videoTsToAudioTs(audioFillDuration,track.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(adtsFrames){return track.minSegmentDts>=earliestAllowedDts?adtsFrames:(track.minSegmentDts=1/0,adtsFrames.filter(function(currentFrame){return currentFrame.dts>=earliestAllowedDts&&(track.minSegmentDts=Math.min(track.minSegmentDts,currentFrame.dts),track.minSegmentPts=track.minSegmentDts,!0)}))},this.generateSampleTable_=function(frames){var i,currentFrame,samples=[];for(i=0;i<frames.length;i++)currentFrame=frames[i],samples.push({size:currentFrame.data.byteLength,duration:1024});return samples},this.concatenateFrameData_=function(frames){var i,currentFrame,dataOffset=0,data=new Uint8Array(sumFrameByteLengths(frames));for(i=0;i<frames.length;i++)currentFrame=frames[i],data.set(currentFrame.data,dataOffset),dataOffset+=currentFrame.data.byteLength;return data}}).prototype=new Stream,(VideoSegmentStream=function(track,options){var sequenceNumber=0,nalUnits=[],gopsToAlignWith=[],config,pps;options=options||{},VideoSegmentStream.prototype.init.call(this),delete track.minPTS,this.gopCache_=[],this.push=function(nalUnit){collectDtsInfo(track,nalUnit),"seq_parameter_set_rbsp"!==nalUnit.nalUnitType||config||(config=nalUnit.config,track.sps=[nalUnit.data],VIDEO_PROPERTIES.forEach(function(prop){track[prop]=config[prop]},this)),"pic_parameter_set_rbsp"!==nalUnit.nalUnitType||pps||(pps=nalUnit.data,track.pps=[nalUnit.data]),nalUnits.push(nalUnit)},this.flush=function(){for(var frames,gopForFusion,gops,moof,mdat,boxes;nalUnits.length&&"access_unit_delimiter_rbsp"!==nalUnits[0].nalUnitType;)nalUnits.shift();if(0===nalUnits.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(frames=this.groupNalsIntoFrames_(nalUnits),(gops=this.groupFramesIntoGops_(frames))[0][0].keyFrame||((gopForFusion=this.getGopForFusion_(nalUnits[0],track))?(gops.unshift(gopForFusion),gops.byteLength+=gopForFusion.byteLength,gops.nalCount+=gopForFusion.nalCount,gops.pts=gopForFusion.pts,gops.dts=gopForFusion.dts,gops.duration+=gopForFusion.duration):gops=this.extendFirstKeyFrame_(gops)),gopsToAlignWith.length){var alignedGops;if(!(alignedGops=options.alignGopsAtEnd?this.alignGopsAtEnd_(gops):this.alignGopsAtStart_(gops)))return this.gopCache_.unshift({gop:gops.pop(),pps:track.pps,sps:track.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),nalUnits=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");clearDtsInfo(track),gops=alignedGops}collectDtsInfo(track,gops),track.samples=this.generateSampleTable_(gops),mdat=mp4.mdat(this.concatenateNalData_(gops)),track.baseMediaDecodeTime=calculateTrackBaseMediaDecodeTime(track),this.trigger("processedGopsInfo",gops.map(function(gop){return{pts:gop.pts,dts:gop.dts,byteLength:gop.byteLength}})),this.gopCache_.unshift({gop:gops.pop(),pps:track.pps,sps:track.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),nalUnits=[],this.trigger("baseMediaDecodeTime",track.baseMediaDecodeTime),this.trigger("timelineStartInfo",track.timelineStartInfo),moof=mp4.moof(sequenceNumber,[track]),boxes=new Uint8Array(moof.byteLength+mdat.byteLength),sequenceNumber++,boxes.set(moof),boxes.set(mdat,moof.byteLength),this.trigger("data",{track:track,boxes:boxes}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){clearDtsInfo(track),config=void 0,pps=void 0},this.getGopForFusion_=function(nalUnit){var halfSecond=45e3,allowableOverlap=1e4,nearestDistance=1/0,dtsDistance,nearestGopObj,currentGop,currentGopObj,i;for(i=0;i<this.gopCache_.length;i++)currentGop=(currentGopObj=this.gopCache_[i]).gop,track.pps&&arrayEquals(track.pps[0],currentGopObj.pps[0])&&track.sps&&arrayEquals(track.sps[0],currentGopObj.sps[0])&&(currentGop.dts<track.timelineStartInfo.dts||(dtsDistance=nalUnit.dts-currentGop.dts-currentGop.duration)>=-1e4&&dtsDistance<=45e3&&(!nearestGopObj||nearestDistance>dtsDistance)&&(nearestGopObj=currentGopObj,nearestDistance=dtsDistance));return nearestGopObj?nearestGopObj.gop:null},this.extendFirstKeyFrame_=function(gops){var currentGop;return!gops[0][0].keyFrame&&gops.length>1&&(currentGop=gops.shift(),gops.byteLength-=currentGop.byteLength,gops.nalCount-=currentGop.nalCount,gops[0][0].dts=currentGop.dts,gops[0][0].pts=currentGop.pts,gops[0][0].duration+=currentGop.duration),gops},this.groupNalsIntoFrames_=function(nalUnits){var i,currentNal,currentFrame=[],frames=[];for(currentFrame.byteLength=0,i=0;i<nalUnits.length;i++)"access_unit_delimiter_rbsp"===(currentNal=nalUnits[i]).nalUnitType?(currentFrame.length&&(currentFrame.duration=currentNal.dts-currentFrame.dts,frames.push(currentFrame)),(currentFrame=[currentNal]).byteLength=currentNal.data.byteLength,currentFrame.pts=currentNal.pts,currentFrame.dts=currentNal.dts):("slice_layer_without_partitioning_rbsp_idr"===currentNal.nalUnitType&&(currentFrame.keyFrame=!0),currentFrame.duration=currentNal.dts-currentFrame.dts,currentFrame.byteLength+=currentNal.data.byteLength,currentFrame.push(currentNal));return frames.length&&(!currentFrame.duration||currentFrame.duration<=0)&&(currentFrame.duration=frames[frames.length-1].duration),frames.push(currentFrame),frames},this.groupFramesIntoGops_=function(frames){var i,currentFrame,currentGop=[],gops=[];for(currentGop.byteLength=0,currentGop.nalCount=0,currentGop.duration=0,currentGop.pts=frames[0].pts,currentGop.dts=frames[0].dts,gops.byteLength=0,gops.nalCount=0,gops.duration=0,gops.pts=frames[0].pts,gops.dts=frames[0].dts,i=0;i<frames.length;i++)(currentFrame=frames[i]).keyFrame?(currentGop.length&&(gops.push(currentGop),gops.byteLength+=currentGop.byteLength,gops.nalCount+=currentGop.nalCount,gops.duration+=currentGop.duration),(currentGop=[currentFrame]).nalCount=currentFrame.length,currentGop.byteLength=currentFrame.byteLength,currentGop.pts=currentFrame.pts,currentGop.dts=currentFrame.dts,currentGop.duration=currentFrame.duration):(currentGop.duration+=currentFrame.duration,currentGop.nalCount+=currentFrame.length,currentGop.byteLength+=currentFrame.byteLength,currentGop.push(currentFrame));return gops.length&&currentGop.duration<=0&&(currentGop.duration=gops[gops.length-1].duration),gops.byteLength+=currentGop.byteLength,gops.nalCount+=currentGop.nalCount,gops.duration+=currentGop.duration,gops.push(currentGop),gops},this.generateSampleTable_=function(gops,baseDataOffset){var h,i,sample,currentGop,currentFrame,dataOffset=baseDataOffset||0,samples=[];for(h=0;h<gops.length;h++)for(currentGop=gops[h],i=0;i<currentGop.length;i++)currentFrame=currentGop[i],(sample={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=dataOffset,sample.compositionTimeOffset=currentFrame.pts-currentFrame.dts,sample.duration=currentFrame.duration,sample.size=4*currentFrame.length,sample.size+=currentFrame.byteLength,currentFrame.keyFrame&&(sample.flags.dependsOn=2),dataOffset+=sample.size,samples.push(sample);return samples},this.concatenateNalData_=function(gops){var h,i,j,currentGop,currentFrame,currentNal,dataOffset=0,nalsByteLength=gops.byteLength,numberOfNals=gops.nalCount,totalByteLength,data=new Uint8Array(nalsByteLength+4*numberOfNals),view=new DataView(data.buffer);for(h=0;h<gops.length;h++)for(currentGop=gops[h],i=0;i<currentGop.length;i++)for(currentFrame=currentGop[i],j=0;j<currentFrame.length;j++)currentNal=currentFrame[j],view.setUint32(dataOffset,currentNal.data.byteLength),dataOffset+=4,data.set(currentNal.data,dataOffset),dataOffset+=currentNal.data.byteLength;return data},this.alignGopsAtStart_=function(gops){var alignIndex,gopIndex,align,gop,byteLength,nalCount,duration,alignedGops;for(byteLength=gops.byteLength,nalCount=gops.nalCount,duration=gops.duration,alignIndex=gopIndex=0;alignIndex<gopsToAlignWith.length&&gopIndex<gops.length&&(align=gopsToAlignWith[alignIndex],gop=gops[gopIndex],align.pts!==gop.pts);)gop.pts>align.pts?alignIndex++:(gopIndex++,byteLength-=gop.byteLength,nalCount-=gop.nalCount,duration-=gop.duration);return 0===gopIndex?gops:gopIndex===gops.length?null:((alignedGops=gops.slice(gopIndex)).byteLength=byteLength,alignedGops.duration=duration,alignedGops.nalCount=nalCount,alignedGops.pts=alignedGops[0].pts,alignedGops.dts=alignedGops[0].dts,alignedGops)},this.alignGopsAtEnd_=function(gops){var alignIndex,gopIndex,align,gop,alignEndIndex,matchFound,trimIndex;for(alignIndex=gopsToAlignWith.length-1,gopIndex=gops.length-1,alignEndIndex=null,matchFound=!1;alignIndex>=0&&gopIndex>=0;){if(align=gopsToAlignWith[alignIndex],gop=gops[gopIndex],align.pts===gop.pts){matchFound=!0;break}align.pts>gop.pts?alignIndex--:(alignIndex===gopsToAlignWith.length-1&&(alignEndIndex=gopIndex),gopIndex--)}if(!matchFound&&null===alignEndIndex)return null;if(0===(trimIndex=matchFound?gopIndex:alignEndIndex))return gops;var alignedGops=gops.slice(trimIndex),metadata=alignedGops.reduce(function(total,gop){return total.byteLength+=gop.byteLength,total.duration+=gop.duration,total.nalCount+=gop.nalCount,total},{byteLength:0,duration:0,nalCount:0});return alignedGops.byteLength=metadata.byteLength,alignedGops.duration=metadata.duration,alignedGops.nalCount=metadata.nalCount,alignedGops.pts=alignedGops[0].pts,alignedGops.dts=alignedGops[0].dts,alignedGops},this.alignGopsWith=function(newGopsToAlignWith){gopsToAlignWith=newGopsToAlignWith}}).prototype=new Stream,collectDtsInfo=function(track,data){"number"==typeof data.pts&&(void 0===track.timelineStartInfo.pts&&(track.timelineStartInfo.pts=data.pts),void 0===track.minSegmentPts?track.minSegmentPts=data.pts:track.minSegmentPts=Math.min(track.minSegmentPts,data.pts),void 0===track.maxSegmentPts?track.maxSegmentPts=data.pts:track.maxSegmentPts=Math.max(track.maxSegmentPts,data.pts)),"number"==typeof data.dts&&(void 0===track.timelineStartInfo.dts&&(track.timelineStartInfo.dts=data.dts),void 0===track.minSegmentDts?track.minSegmentDts=data.dts:track.minSegmentDts=Math.min(track.minSegmentDts,data.dts),void 0===track.maxSegmentDts?track.maxSegmentDts=data.dts:track.maxSegmentDts=Math.max(track.maxSegmentDts,data.dts))},clearDtsInfo=function(track){delete track.minSegmentDts,delete track.maxSegmentDts,delete track.minSegmentPts,delete track.maxSegmentPts},calculateTrackBaseMediaDecodeTime=function(track){var baseMediaDecodeTime,scale,timeSinceStartOfTimeline=track.minSegmentDts-track.timelineStartInfo.dts;return baseMediaDecodeTime=track.timelineStartInfo.baseMediaDecodeTime,baseMediaDecodeTime+=timeSinceStartOfTimeline,baseMediaDecodeTime=Math.max(0,baseMediaDecodeTime),"audio"===track.type&&(baseMediaDecodeTime*=scale=track.samplerate/9e4,baseMediaDecodeTime=Math.floor(baseMediaDecodeTime)),baseMediaDecodeTime},(CoalesceStream=function(options,metadataStream){this.numberOfTracks=0,this.metadataStream=metadataStream,void 0!==options.remux?this.remuxTracks=!!options.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,CoalesceStream.prototype.init.call(this),this.push=function(output){return output.text?this.pendingCaptions.push(output):output.frames?this.pendingMetadata.push(output):(this.pendingTracks.push(output.track),this.pendingBoxes.push(output.boxes),this.pendingBytes+=output.boxes.byteLength,"video"===output.track.type&&(this.videoTrack=output.track),void("audio"===output.track.type&&(this.audioTrack=output.track)))}}).prototype=new Stream,CoalesceStream.prototype.flush=function(flushSource){var offset=0,event={captions:[],captionStreams:{},metadata:[],info:{}},caption,id3,initSegment,timelineStartPts=0,i;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==flushSource&&"AudioSegmentStream"!==flushSource)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(timelineStartPts=this.videoTrack.timelineStartInfo.pts,VIDEO_PROPERTIES.forEach(function(prop){event.info[prop]=this.videoTrack[prop]},this)):this.audioTrack&&(timelineStartPts=this.audioTrack.timelineStartInfo.pts,AUDIO_PROPERTIES.forEach(function(prop){event.info[prop]=this.audioTrack[prop]},this)),1===this.pendingTracks.length?event.type=this.pendingTracks[0].type:event.type="combined",this.emittedTracks+=this.pendingTracks.length,initSegment=mp4.initSegment(this.pendingTracks),event.initSegment=new Uint8Array(initSegment.byteLength),event.initSegment.set(initSegment),event.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)event.data.set(this.pendingBoxes[i],offset),offset+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(caption=this.pendingCaptions[i]).startTime=caption.startPts-timelineStartPts,caption.startTime/=9e4,caption.endTime=caption.endPts-timelineStartPts,caption.endTime/=9e4,event.captionStreams[caption.stream]=!0,event.captions.push(caption);for(i=0;i<this.pendingMetadata.length;i++)(id3=this.pendingMetadata[i]).cueTime=id3.pts-timelineStartPts,id3.cueTime/=9e4,event.metadata.push(id3);event.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",event),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Transmuxer=function(options){var self=this,hasFlushed=!0,videoTrack,audioTrack;Transmuxer.prototype.init.call(this),options=options||{},this.baseMediaDecodeTime=options.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var pipeline={};this.transmuxPipeline_=pipeline,pipeline.type="aac",pipeline.metadataStream=new m2ts.MetadataStream,pipeline.aacStream=new AacStream,pipeline.audioTimestampRolloverStream=new m2ts.TimestampRolloverStream("audio"),pipeline.timedMetadataTimestampRolloverStream=new m2ts.TimestampRolloverStream("timed-metadata"),pipeline.adtsStream=new AdtsStream,pipeline.coalesceStream=new CoalesceStream(options,pipeline.metadataStream),pipeline.headOfPipeline=pipeline.aacStream,pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream),pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream),pipeline.metadataStream.on("timestamp",function(frame){pipeline.aacStream.setTimestamp(frame.timeStamp)}),pipeline.aacStream.on("data",function(data){"timed-metadata"!==data.type||pipeline.audioSegmentStream||(audioTrack=audioTrack||{timelineStartInfo:{baseMediaDecodeTime:self.baseMediaDecodeTime},codec:"adts",type:"audio"},pipeline.coalesceStream.numberOfTracks++,pipeline.audioSegmentStream=new AudioSegmentStream(audioTrack),pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream))}),pipeline.coalesceStream.on("data",this.trigger.bind(this,"data")),pipeline.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var pipeline={};this.transmuxPipeline_=pipeline,pipeline.type="ts",pipeline.metadataStream=new m2ts.MetadataStream,pipeline.packetStream=new m2ts.TransportPacketStream,pipeline.parseStream=new m2ts.TransportParseStream,pipeline.elementaryStream=new m2ts.ElementaryStream,pipeline.videoTimestampRolloverStream=new m2ts.TimestampRolloverStream("video"),pipeline.audioTimestampRolloverStream=new m2ts.TimestampRolloverStream("audio"),pipeline.timedMetadataTimestampRolloverStream=new m2ts.TimestampRolloverStream("timed-metadata"),pipeline.adtsStream=new AdtsStream,pipeline.h264Stream=new H264Stream,pipeline.captionStream=new m2ts.CaptionStream,pipeline.coalesceStream=new CoalesceStream(options,pipeline.metadataStream),pipeline.headOfPipeline=pipeline.packetStream,pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream),pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream),pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream),pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream),pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream),pipeline.elementaryStream.on("data",function(data){var i;if("metadata"===data.type){for(i=data.tracks.length;i--;)videoTrack||"video"!==data.tracks[i].type?audioTrack||"audio"!==data.tracks[i].type||((audioTrack=data.tracks[i]).timelineStartInfo.baseMediaDecodeTime=self.baseMediaDecodeTime):(videoTrack=data.tracks[i]).timelineStartInfo.baseMediaDecodeTime=self.baseMediaDecodeTime;videoTrack&&!pipeline.videoSegmentStream&&(pipeline.coalesceStream.numberOfTracks++,pipeline.videoSegmentStream=new VideoSegmentStream(videoTrack,options),pipeline.videoSegmentStream.on("timelineStartInfo",function(timelineStartInfo){audioTrack&&(audioTrack.timelineStartInfo=timelineStartInfo,pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts))}),pipeline.videoSegmentStream.on("processedGopsInfo",self.trigger.bind(self,"gopInfo")),pipeline.videoSegmentStream.on("baseMediaDecodeTime",function(baseMediaDecodeTime){audioTrack&&pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime)}),pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream)),audioTrack&&!pipeline.audioSegmentStream&&(pipeline.coalesceStream.numberOfTracks++,pipeline.audioSegmentStream=new AudioSegmentStream(audioTrack),pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream))}}),pipeline.coalesceStream.on("data",this.trigger.bind(this,"data")),pipeline.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(baseMediaDecodeTime){var pipeline=this.transmuxPipeline_;this.baseMediaDecodeTime=baseMediaDecodeTime,audioTrack&&(audioTrack.timelineStartInfo.dts=void 0,audioTrack.timelineStartInfo.pts=void 0,clearDtsInfo(audioTrack),audioTrack.timelineStartInfo.baseMediaDecodeTime=baseMediaDecodeTime,pipeline.audioTimestampRolloverStream&&pipeline.audioTimestampRolloverStream.discontinuity()),videoTrack&&(pipeline.videoSegmentStream&&(pipeline.videoSegmentStream.gopCache_=[],pipeline.videoTimestampRolloverStream.discontinuity()),videoTrack.timelineStartInfo.dts=void 0,videoTrack.timelineStartInfo.pts=void 0,clearDtsInfo(videoTrack),pipeline.captionStream.reset(),videoTrack.timelineStartInfo.baseMediaDecodeTime=baseMediaDecodeTime),pipeline.timedMetadataTimestampRolloverStream&&pipeline.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(timestamp){audioTrack&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp)},this.alignGopsWith=function(gopsToAlignWith){videoTrack&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith)},this.push=function(data){if(hasFlushed){var isAac=isLikelyAacData(data);isAac&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():isAac||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),hasFlushed=!1}this.transmuxPipeline_.headOfPipeline.push(data)},this.flush=function(){hasFlushed=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Stream,module.exports={Transmuxer:Transmuxer,VideoSegmentStream:VideoSegmentStream,AudioSegmentStream:AudioSegmentStream,AUDIO_PROPERTIES:AUDIO_PROPERTIES,VIDEO_PROPERTIES:VIDEO_PROPERTIES}},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(414),AacStream;(AacStream=function(){var everything=new Uint8Array,timeStamp=0;AacStream.prototype.init.call(this),this.setTimestamp=function(timestamp){timeStamp=timestamp},this.parseId3TagSize=function(header,byteIndex){var returnSize=header[byteIndex+6]<<21|header[byteIndex+7]<<14|header[byteIndex+8]<<7|header[byteIndex+9],flags,footerPresent;return(16&header[byteIndex+5])>>4?returnSize+20:returnSize+10},this.parseAdtsSize=function(header,byteIndex){var lowThree=(224&header[byteIndex+5])>>5,middle=header[byteIndex+4]<<3,highTwo;return 6144&header[byteIndex+3]|middle|lowThree},this.push=function(bytes){var frameSize=0,byteIndex=0,bytesLeft,chunk,packet,tempLength;for(everything.length?(tempLength=everything.length,(everything=new Uint8Array(bytes.byteLength+tempLength)).set(everything.subarray(0,tempLength)),everything.set(bytes,tempLength)):everything=bytes;everything.length-byteIndex>=3;)if(everything[byteIndex]!=="I".charCodeAt(0)||everything[byteIndex+1]!=="D".charCodeAt(0)||everything[byteIndex+2]!=="3".charCodeAt(0))if(!0&everything[byteIndex]&&240==(240&everything[byteIndex+1])){if(everything.length-byteIndex<7)break;if((frameSize=this.parseAdtsSize(everything,byteIndex))>everything.length)break;packet={type:"audio",data:everything.subarray(byteIndex,byteIndex+frameSize),pts:timeStamp,dts:timeStamp},this.trigger("data",packet),byteIndex+=frameSize}else byteIndex++;else{if(everything.length-byteIndex<10)break;if((frameSize=this.parseId3TagSize(everything,byteIndex))>everything.length)break;chunk={type:"timed-metadata",data:everything.subarray(byteIndex,byteIndex+frameSize)},this.trigger("data",chunk),byteIndex+=frameSize}bytesLeft=everything.length-byteIndex,everything=bytesLeft>0?everything.subarray(byteIndex):new Uint8Array}}).prototype=new Stream,module.exports=AacStream},function(module,exports){var highPrefix=[33,16,5,32,164,27],lowPrefix=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],zeroFill=function(count){for(var a=[];count--;)a.push(0);return a},makeTable=function(metaTable){return Object.keys(metaTable).reduce(function(obj,key){return obj[key]=new Uint8Array(metaTable[key].reduce(function(arr,part){return arr.concat(part)},[])),obj},{})},coneOfSilence={96000:[highPrefix,[227,64],zeroFill(154),[56]],88200:[highPrefix,[231],zeroFill(170),[56]],64000:[highPrefix,[248,192],zeroFill(240),[56]],48000:[highPrefix,[255,192],zeroFill(268),[55,148,128],zeroFill(54),[112]],44100:[highPrefix,[255,192],zeroFill(268),[55,163,128],zeroFill(84),[112]],32000:[highPrefix,[255,192],zeroFill(268),[55,234],zeroFill(226),[112]],24000:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,112],zeroFill(126),[224]],16000:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,255],zeroFill(269),[223,108],zeroFill(195),[1,192]],12000:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,253,128],zeroFill(259),[56]],11025:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,255,192],zeroFill(268),[55,175,128],zeroFill(108),[112]],8000:[lowPrefix,zeroFill(268),[3,121,16],zeroFill(47),[7]]};module.exports=makeTable(coneOfSilence)},function(module,exports){var ONE_SECOND_IN_TS=9e4,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs;secondsToVideoTs=function(seconds){return 9e4*seconds},secondsToAudioTs=function(seconds,sampleRate){return seconds*sampleRate},videoTsToSeconds=function(timestamp){return timestamp/9e4},audioTsToSeconds=function(timestamp,sampleRate){return timestamp/sampleRate},audioTsToVideoTs=function(timestamp,sampleRate){return secondsToVideoTs(audioTsToSeconds(timestamp,sampleRate))},videoTsToAudioTs=function(timestamp,sampleRate){return secondsToAudioTs(videoTsToSeconds(timestamp),sampleRate)},module.exports={secondsToVideoTs:secondsToVideoTs,secondsToAudioTs:secondsToAudioTs,videoTsToSeconds:videoTsToSeconds,audioTsToSeconds:audioTsToSeconds,audioTsToVideoTs:audioTsToVideoTs,videoTsToAudioTs:videoTsToAudioTs}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _playlistLoader,_playlistLoader2=_interopRequireDefault(__webpack_require__(389)),_playlistJs=__webpack_require__(397),_segmentLoader,_segmentLoader2=_interopRequireDefault(__webpack_require__(443)),_vttSegmentLoader,_vttSegmentLoader2=_interopRequireDefault(__webpack_require__(450)),_ranges,_ranges2=_interopRequireDefault(__webpack_require__(447)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_adCueTags,_adCueTags2=_interopRequireDefault(__webpack_require__(451)),_syncController,_syncController2=_interopRequireDefault(__webpack_require__(452)),_videojsContribMediaSourcesEs5CodecUtils=__webpack_require__(432),_webwackify,_webwackify2=_interopRequireDefault(__webpack_require__(430)),_decrypterWorker,_decrypterWorker2=_interopRequireDefault(__webpack_require__(457)),_config,_config2=_interopRequireDefault(__webpack_require__(445)),_utilCodecsJs=__webpack_require__(449),_mediaGroups=__webpack_require__(458),ABORT_EARLY_BLACKLIST_SECONDS=120,Hls=void 0,defaultCodecs={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},loaderStats=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],sumLoaderStat=function sumLoaderStat(stat){return this.audioSegmentLoader_[stat]+this.mainSegmentLoader_[stat]},resolveDecrypterWorker=function resolveDecrypterWorker(){var result=void 0;try{result=457}catch(e){}return result},mapLegacyAvcCodecs_=function mapLegacyAvcCodecs_(codecString){return codecString.replace(/avc1\.(\d+)\.(\d+)/i,function(match){return(0,_videojsContribMediaSourcesEs5CodecUtils.translateLegacyCodecs)([match])[0]})};exports.mapLegacyAvcCodecs_=mapLegacyAvcCodecs_;var makeMimeTypeString=function makeMimeTypeString(type,container,codecs){return type+"/"+container+'; codecs="'+codecs.filter(function(c){return!!c}).join(", ")+'"'},getContainerType=function getContainerType(media){return media.segments&&media.segments.length&&media.segments[0].map?"mp4":"mp2t"},getCodecs=function getCodecs(media){var mediaAttributes=media.attributes||{};return mediaAttributes.CODECS?(0,_utilCodecsJs.parseCodecs)(mediaAttributes.CODECS):defaultCodecs},mimeTypesForPlaylist_=function mimeTypesForPlaylist_(master,media){var containerType=getContainerType(media),codecInfo=getCodecs(media),mediaAttributes=media.attributes||{},isMuxed=!0,isMaat=!1;if(!media)return[];if(master.mediaGroups.AUDIO&&mediaAttributes.AUDIO){var audioGroup=master.mediaGroups.AUDIO[mediaAttributes.AUDIO];if(audioGroup)for(var groupId in isMaat=!0,isMuxed=!1,audioGroup)if(!audioGroup[groupId].uri){isMuxed=!0;break}}isMaat&&!codecInfo.audioProfile&&(_videoJs2.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),codecInfo.audioProfile=defaultCodecs.audioProfile);var codecStrings={};codecInfo.videoCodec&&(codecStrings.video=""+codecInfo.videoCodec+codecInfo.videoObjectTypeIndicator),codecInfo.audioProfile&&(codecStrings.audio="mp4a.40."+codecInfo.audioProfile);var justAudio=makeMimeTypeString("audio",containerType,[codecStrings.audio]),justVideo=makeMimeTypeString("video",containerType,[codecStrings.video]),bothVideoAudio=makeMimeTypeString("video",containerType,[codecStrings.video,codecStrings.audio]);return isMaat?!isMuxed&&codecStrings.video?[justVideo,justAudio]:[bothVideoAudio,justAudio]:codecStrings.video?[bothVideoAudio]:[justAudio]};exports.mimeTypesForPlaylist_=mimeTypesForPlaylist_;var MasterPlaylistController=function(_videojs$EventTarget){function MasterPlaylistController(options){var _this=this;_classCallCheck(this,MasterPlaylistController),_get(Object.getPrototypeOf(MasterPlaylistController.prototype),"constructor",this).call(this);var url=options.url,withCredentials=options.withCredentials,mode=options.mode,tech=options.tech,bandwidth=options.bandwidth,externHls=options.externHls,useCueTags=options.useCueTags,blacklistDuration=options.blacklistDuration,enableLowInitialPlaylist=options.enableLowInitialPlaylist;if(!url)throw new Error("A non-empty playlist URL is required");Hls=externHls,this.withCredentials=withCredentials,this.tech_=tech,this.hls_=tech.hls,this.mode_=mode,this.useCueTags_=useCueTags,this.blacklistDuration=blacklistDuration,this.enableLowInitialPlaylist=enableLowInitialPlaylist,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,_mediaGroups.createMediaTypes)(),this.mediaSource=new _videoJs2.default.MediaSource({mode:mode}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=_videoJs2.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new _syncController2.default(options),this.segmentMetadataTrack_=tech.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,_webwackify2.default)(_decrypterWorker2.default,resolveDecrypterWorker());var segmentLoaderSettings={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function seekable(){return _this.seekable()},seeking:function seeking(){return _this.tech_.seeking()},duration:function duration(){return _this.mediaSource.duration},hasPlayed:function hasPlayed(){return _this.hasPlayed_()},goalBufferLength:function goalBufferLength(){return _this.goalBufferLength()},bandwidth:bandwidth,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new _playlistLoader2.default(url,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new _segmentLoader2.default(_videoJs2.default.mergeOptions(segmentLoaderSettings,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),options),this.audioSegmentLoader_=new _segmentLoader2.default(_videoJs2.default.mergeOptions(segmentLoaderSettings,{loaderType:"audio"}),options),this.subtitleSegmentLoader_=new _vttSegmentLoader2.default(_videoJs2.default.mergeOptions(segmentLoaderSettings,{loaderType:"vtt"}),options),this.setupSegmentLoaderListeners_(),loaderStats.forEach(function(stat){_this[stat+"_"]=sumLoaderStat.bind(_this,stat)}),this.masterPlaylistLoader_.load()}return _inherits(MasterPlaylistController,_videojs$EventTarget),_createClass(MasterPlaylistController,[{key:"setupMasterPlaylistLoaderListeners_",value:function setupMasterPlaylistLoaderListeners_(){var _this2=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var media=_this2.masterPlaylistLoader_.media(),requestTimeout=1.5*_this2.masterPlaylistLoader_.targetDuration*1e3;(0,_playlistJs.isLowestEnabledRendition)(_this2.masterPlaylistLoader_.master,_this2.masterPlaylistLoader_.media())?_this2.requestOptions_.timeout=0:_this2.requestOptions_.timeout=requestTimeout,media.endList&&"none"!==_this2.tech_.preload()&&(_this2.mainSegmentLoader_.playlist(media,_this2.requestOptions_),_this2.mainSegmentLoader_.load()),(0,_mediaGroups.setupMediaGroups)({segmentLoaders:{AUDIO:_this2.audioSegmentLoader_,SUBTITLES:_this2.subtitleSegmentLoader_,main:_this2.mainSegmentLoader_},tech:_this2.tech_,requestOptions:_this2.requestOptions_,masterPlaylistLoader:_this2.masterPlaylistLoader_,mode:_this2.mode_,hls:_this2.hls_,master:_this2.master(),mediaTypes:_this2.mediaTypes_,blacklistCurrentPlaylist:_this2.blacklistCurrentPlaylist.bind(_this2)}),_this2.triggerPresenceUsage_(_this2.master(),media);try{_this2.setupSourceBuffers_()}catch(e){return _videoJs2.default.log.warn("Failed to create SourceBuffers",e),_this2.mediaSource.endOfStream("decode")}_this2.setupFirstPlay(),_this2.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var updatedPlaylist=_this2.masterPlaylistLoader_.media(),addSeekableRange,onDurationchange;if(!updatedPlaylist){var selectedMedia=void 0;return _this2.enableLowInitialPlaylist&&(selectedMedia=_this2.selectInitialPlaylist()),selectedMedia||(selectedMedia=_this2.selectPlaylist()),_this2.initialMedia_=selectedMedia,void _this2.masterPlaylistLoader_.media(_this2.initialMedia_)}_this2.useCueTags_&&_this2.updateAdCues_(updatedPlaylist),_this2.mainSegmentLoader_.playlist(updatedPlaylist,_this2.requestOptions_),_this2.updateDuration(),_this2.tech_.paused()||_this2.mainSegmentLoader_.load(),updatedPlaylist.endList||(addSeekableRange=function addSeekableRange(){var seekable=_this2.seekable();0!==seekable.length&&_this2.mediaSource.addSeekableRange_(seekable.start(0),seekable.end(0))},_this2.duration()!==1/0?(onDurationchange=function onDurationchange(){_this2.duration()===1/0?addSeekableRange():_this2.tech_.one("durationchange",onDurationchange)},_this2.tech_.one("durationchange",onDurationchange)):addSeekableRange())}),this.masterPlaylistLoader_.on("error",function(){_this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){_this2.mainSegmentLoader_.abort(),_this2.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var media=_this2.masterPlaylistLoader_.media(),requestTimeout=1.5*_this2.masterPlaylistLoader_.targetDuration*1e3;(0,_playlistJs.isLowestEnabledRendition)(_this2.masterPlaylistLoader_.master,_this2.masterPlaylistLoader_.media())?_this2.requestOptions_.timeout=0:_this2.requestOptions_.timeout=requestTimeout,_this2.mainSegmentLoader_.playlist(media,_this2.requestOptions_),_this2.mainSegmentLoader_.load(),_this2.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var updatedPlaylist=_this2.masterPlaylistLoader_.media(),playlistOutdated;_this2.stuckAtPlaylistEnd_(updatedPlaylist)&&(_this2.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),_this2.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){_this2.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){_this2.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function triggerPresenceUsage_(master,media){var mediaGroups=master.mediaGroups||{},defaultDemuxed=!0,audioGroupKeys=Object.keys(mediaGroups.AUDIO);for(var mediaGroup in mediaGroups.AUDIO)for(var label in mediaGroups.AUDIO[mediaGroup]){var properties;mediaGroups.AUDIO[mediaGroup][label].uri||(defaultDemuxed=!1)}defaultDemuxed&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(mediaGroups.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Hls.Playlist.isAes(media)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Hls.Playlist.isFmp4(media)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),audioGroupKeys.length&&Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function setupSegmentLoaderListeners_(){var _this3=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var nextPlaylist=_this3.selectPlaylist(),currentPlaylist=_this3.masterPlaylistLoader_.media(),buffered=_this3.tech_.buffered(),forwardBuffer=buffered.length?buffered.end(buffered.length-1)-_this3.tech_.currentTime():0,bufferLowWaterLine=_this3.bufferLowWaterLine();(!currentPlaylist.endList||_this3.duration()<_config2.default.MAX_BUFFER_LOW_WATER_LINE||nextPlaylist.attributes.BANDWIDTH<currentPlaylist.attributes.BANDWIDTH||forwardBuffer>=bufferLowWaterLine)&&_this3.masterPlaylistLoader_.media(nextPlaylist),_this3.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){_this3.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){_this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){_this3.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){_this3.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){_this3.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){_this3.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){_this3.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){_this3.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(event){_this3.tech_.trigger({type:"hls-segment-time-mapping",mapping:event.mapping})}),this.audioSegmentLoader_.on("ended",function(){_this3.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function fastQualityChange_(){var media=this.selectPlaylist();media!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(media),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function play(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var seekable=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<seekable.start(0)?this.tech_.setCurrentTime(seekable.end(seekable.length-1)):void 0}}},{key:"setupFirstPlay",value:function setupFirstPlay(){var _this4=this,media=this.masterPlaylistLoader_.media(),seekable;if(!media||this.tech_.paused()||this.hasPlayed_())return!1;if(!media.endList){var _ret3=(seekable=_this4.seekable()).length?_videoJs2.default.browser.IE_VERSION&&"html5"===_this4.mode_&&0===_this4.tech_.readyState()?(_this4.tech_.one("loadedmetadata",function(){_this4.trigger("firstplay"),_this4.tech_.setCurrentTime(seekable.end(0)),_this4.hasPlayed_=function(){return!0}}),{v:!1}):(_this4.trigger("firstplay"),void _this4.tech_.setCurrentTime(seekable.end(0))):{v:!1};if("object"==typeof _ret3)return _ret3.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function handleSourceOpen_(){try{this.setupSourceBuffers_()}catch(e){return _videoJs2.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var playPromise=this.tech_.play();void 0!==playPromise&&"function"==typeof playPromise.then&&playPromise.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function onEndOfStream(){var isEndOfStream=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(isEndOfStream=isEndOfStream&&this.audioSegmentLoader_.ended_),isEndOfStream&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function stuckAtPlaylistEnd_(playlist){var seekable;if(!this.seekable().length)return!1;var expired=this.syncController_.getExpiredTime(playlist,this.mediaSource.duration);if(null===expired)return!1;var absolutePlaylistEnd=Hls.Playlist.playlistEnd(playlist,expired),currentTime=this.tech_.currentTime(),buffered=this.tech_.buffered();if(!buffered.length)return absolutePlaylistEnd-currentTime<=_ranges2.default.SAFE_TIME_DELTA;var bufferedEnd=buffered.end(buffered.length-1);return bufferedEnd-currentTime<=_ranges2.default.SAFE_TIME_DELTA&&absolutePlaylistEnd-bufferedEnd<=_ranges2.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function blacklistCurrentPlaylist(error,blacklistDuration){void 0===error&&(error={});var currentPlaylist=void 0,nextPlaylist=void 0;if(currentPlaylist=error.playlist||this.masterPlaylistLoader_.media(),blacklistDuration=blacklistDuration||error.blacklistDuration||this.blacklistDuration,!currentPlaylist){this.error=error;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var isFinalRendition=1===this.masterPlaylistLoader_.master.playlists.filter(_playlistJs.isEnabled).length;return isFinalRendition?(_videoJs2.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(isFinalRendition)):(currentPlaylist.excludeUntil=Date.now()+1e3*blacklistDuration,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),nextPlaylist=this.selectPlaylist(),_videoJs2.default.log.warn("Problem encountered with the current HLS playlist."+(error.message?" "+error.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(nextPlaylist))}},{key:"pauseLoading",value:function pauseLoading(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function setCurrentTime(currentTime){var buffered=_ranges2.default.findRange(this.tech_.buffered(),currentTime);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?buffered&&buffered.length&&"flash"!==this.mode_?currentTime:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function duration(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Hls.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function seekable(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function onSyncInfoUpdate_(){var mainSeekable=void 0,audioSeekable=void 0;if(this.masterPlaylistLoader_){var media=this.masterPlaylistLoader_.media();if(media){var expired=this.syncController_.getExpiredTime(media,this.mediaSource.duration);if(null!==expired&&0!==(mainSeekable=Hls.Playlist.seekable(media,expired)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(media=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(expired=this.syncController_.getExpiredTime(media,this.mediaSource.duration)))return;if(0===(audioSeekable=Hls.Playlist.seekable(media,expired)).length)return}audioSeekable?audioSeekable.start(0)>mainSeekable.end(0)||mainSeekable.start(0)>audioSeekable.end(0)?this.seekable_=mainSeekable:this.seekable_=_videoJs2.default.createTimeRanges([[audioSeekable.start(0)>mainSeekable.start(0)?audioSeekable.start(0):mainSeekable.start(0),audioSeekable.end(0)<mainSeekable.end(0)?audioSeekable.end(0):mainSeekable.end(0)]]):this.seekable_=mainSeekable,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function updateDuration(){var _this5=this,oldDuration=this.mediaSource.duration,newDuration=Hls.Playlist.duration(this.masterPlaylistLoader_.media()),buffered=this.tech_.buffered(),setDuration=function setDuration(){_this5.mediaSource.duration=newDuration,_this5.tech_.trigger("durationchange"),_this5.mediaSource.removeEventListener("sourceopen",setDuration)};buffered.length>0&&(newDuration=Math.max(newDuration,buffered.end(buffered.length-1))),oldDuration!==newDuration&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",setDuration):setDuration())}},{key:"dispose",value:function dispose(){var _this6=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(type){var groups=_this6.mediaTypes_[type].groups;for(var id in groups)groups[id].forEach(function(group){group.playlistLoader&&group.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function master(){return this.masterPlaylistLoader_.master}},{key:"media",value:function media(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function setupSourceBuffers_(){var media=this.masterPlaylistLoader_.media(),mimeTypes=void 0;if(media&&"open"===this.mediaSource.readyState){if((mimeTypes=mimeTypesForPlaylist_(this.masterPlaylistLoader_.master,media)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+media.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(mimeTypes[0]),mimeTypes[1]&&this.audioSegmentLoader_.mimeType(mimeTypes[1]),this.excludeIncompatibleVariants_(media)}}},{key:"excludeIncompatibleVariants_",value:function excludeIncompatibleVariants_(media){var master=this.masterPlaylistLoader_.master,codecCount=2,videoCodec=null,codecs=void 0;media.attributes.CODECS&&(codecs=(0,_utilCodecsJs.parseCodecs)(media.attributes.CODECS),videoCodec=codecs.videoCodec,codecCount=codecs.codecCount),master.playlists.forEach(function(variant){var variantCodecs={codecCount:2,videoCodec:null};if(variant.attributes.CODECS){var codecString=variant.attributes.CODECS;variantCodecs=(0,_utilCodecsJs.parseCodecs)(codecString),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+mapLegacyAvcCodecs_(codecString)+'"')&&(variant.excludeUntil=1/0)}variantCodecs.codecCount!==codecCount&&(variant.excludeUntil=1/0),variantCodecs.videoCodec!==videoCodec&&(variant.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function updateAdCues_(media){var offset=0,seekable=this.seekable();seekable.length&&(offset=seekable.start(0)),_adCueTags2.default.updateAdCues(media,this.cueTagsTrack_,offset)}},{key:"goalBufferLength",value:function goalBufferLength(){var currentTime=this.tech_.currentTime(),initial=_config2.default.GOAL_BUFFER_LENGTH,rate=_config2.default.GOAL_BUFFER_LENGTH_RATE,max=Math.max(initial,_config2.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(initial+currentTime*rate,max)}},{key:"bufferLowWaterLine",value:function bufferLowWaterLine(){var currentTime=this.tech_.currentTime(),initial=_config2.default.BUFFER_LOW_WATER_LINE,rate=_config2.default.BUFFER_LOW_WATER_LINE_RATE,max=Math.max(initial,_config2.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(initial+currentTime*rate,max)}}]),MasterPlaylistController}(_videoJs2.default.EventTarget);exports.MasterPlaylistController=MasterPlaylistController},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x4,_x5,_x6){for(var _again=!0;_again;){var object=_x4,property=_x5,receiver=_x6;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x4=parent,_x5=property,_x6=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _playlist,_playlist2=_interopRequireDefault(__webpack_require__(397)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_sourceUpdater,_sourceUpdater2=_interopRequireDefault(__webpack_require__(444)),_config,_config2=_interopRequireDefault(__webpack_require__(445)),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs,_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs2=_interopRequireDefault(__webpack_require__(426)),_binUtils=__webpack_require__(407),_mediaSegmentRequest=__webpack_require__(446),_ranges=__webpack_require__(447),_playlistSelectors=__webpack_require__(448),CHECK_BUFFER_DELAY=500,detectEndOfStream=function detectEndOfStream(playlist,mediaSource,segmentIndex){if(!playlist||!mediaSource)return!1;var segments,appendedLastSegment=segmentIndex===playlist.segments.length;return playlist.endList&&"open"===mediaSource.readyState&&appendedLastSegment},finite=function finite(num){return"number"==typeof num&&isFinite(num)},illegalMediaSwitch=function illegalMediaSwitch(loaderType,startingMedia,newSegmentMedia){return"main"===loaderType&&startingMedia&&newSegmentMedia?newSegmentMedia.containsAudio||newSegmentMedia.containsVideo?startingMedia.containsVideo&&!newSegmentMedia.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!startingMedia.containsVideo&&newSegmentMedia.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};exports.illegalMediaSwitch=illegalMediaSwitch;var safeBackBufferTrimTime=function safeBackBufferTrimTime(seekable,currentTime,targetDuration){var removeToTime=void 0;return removeToTime=seekable.length&&seekable.start(0)>0&&seekable.start(0)<currentTime?seekable.start(0):currentTime-30,Math.min(removeToTime,currentTime-targetDuration)};exports.safeBackBufferTrimTime=safeBackBufferTrimTime;var SegmentLoader=function(_videojs$EventTarget){function SegmentLoader(settings){var _this=this,options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(_classCallCheck(this,SegmentLoader),_get(Object.getPrototypeOf(SegmentLoader.prototype),"constructor",this).call(this),!settings)throw new TypeError("Initialization settings are required");if("function"!=typeof settings.currentTime)throw new TypeError("No currentTime getter specified");if(!settings.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=settings.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=settings.hasPlayed,this.currentTime_=settings.currentTime,this.seekable_=settings.seekable,this.seeking_=settings.seeking,this.duration_=settings.duration,this.mediaSource_=settings.mediaSource,this.hls_=settings.hls,this.loaderType_=settings.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=settings.segmentMetadataTrack,this.goalBufferLength_=settings.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=settings.decrypter,this.syncController_=settings.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return _this.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return _this.ended_=!1}),this.fetchAtBuffer_=!1,options.debug&&(this.logger_=_videoJs2.default.log.bind(_videoJs2.default,"segment-loader",this.loaderType_,"->"))}return _inherits(SegmentLoader,_videojs$EventTarget),_createClass(SegmentLoader,[{key:"resetStats_",value:function resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function dispose(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function error(_error){return void 0!==_error&&(this.error_=_error),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function endOfStream(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function buffered_(){return this.sourceUpdater_?this.sourceUpdater_.buffered():_videoJs2.default.createTimeRanges()}},{key:"initSegment",value:function initSegment(map){var set=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!map)return null;var id=(0,_binUtils.initSegmentId)(map),storedMap=this.initSegments_[id];return set&&!storedMap&&map.bytes&&(this.initSegments_[id]=storedMap={resolvedUri:map.resolvedUri,byterange:map.byterange,bytes:map.bytes}),storedMap||map}},{key:"couldBeginLoading_",value:function couldBeginLoading_(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function load(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function init_(){return this.state="READY",this.sourceUpdater_=new _sourceUpdater2.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function playlist(newPlaylist){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(newPlaylist){var oldPlaylist=this.playlist_,segmentInfo=this.pendingSegment_;if(this.playlist_=newPlaylist,this.xhrOptions_=options,this.hasPlayed_()||(newPlaylist.syncInfo={mediaSequence:newPlaylist.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(oldPlaylist&&oldPlaylist.uri===newPlaylist.uri){var mediaSequenceDiff=newPlaylist.mediaSequence-oldPlaylist.mediaSequence;this.logger_("mediaSequenceDiff",mediaSequenceDiff),null!==this.mediaIndex&&(this.mediaIndex-=mediaSequenceDiff),segmentInfo&&(segmentInfo.mediaIndex-=mediaSequenceDiff,segmentInfo.mediaIndex>=0&&(segmentInfo.segment=newPlaylist.segments[segmentInfo.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(oldPlaylist,newPlaylist)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function pause(){this.checkBufferTimeout_&&(_globalWindow2.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function paused(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function mimeType(_mimeType){this.mimeType_||(this.mimeType_=_mimeType,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function resetEverything(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function resyncLoader(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function remove(start,end){this.sourceUpdater_&&this.sourceUpdater_.remove(start,end),(0,_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs2.default)(start,end,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function monitorBuffer_(){this.checkBufferTimeout_&&_globalWindow2.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=_globalWindow2.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&_globalWindow2.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=_globalWindow2.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function fillBuffer_(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var segmentInfo=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),isEndOfStream;if(segmentInfo)detectEndOfStream(this.playlist_,this.mediaSource_,segmentInfo.mediaIndex)?this.endOfStream():(segmentInfo.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((segmentInfo.timeline!==this.currentTimeline_||null!==segmentInfo.startOfSegment&&segmentInfo.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),segmentInfo.timestampOffset=segmentInfo.startOfSegment),this.loadSegment_(segmentInfo))}}},{key:"checkBuffer_",value:function checkBuffer_(buffered,playlist,mediaIndex,hasPlayed,currentTime,syncPoint){var lastBufferedEnd=0,startOfSegment=void 0;buffered.length&&(lastBufferedEnd=buffered.end(buffered.length-1));var bufferedTime=Math.max(0,lastBufferedEnd-currentTime),mediaSourceInfo,mediaSourceInfo;if(!playlist.segments.length)return null;if(bufferedTime>=this.goalBufferLength_())return null;if(!hasPlayed&&bufferedTime>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",mediaIndex,"hasPlayed:",hasPlayed,"currentTime:",currentTime,"syncPoint:",syncPoint,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",bufferedTime),null===syncPoint)return mediaIndex=this.getSyncSegmentCandidate_(playlist),this.logger_("getSync","mediaIndex:",mediaIndex),this.generateSegmentInfo_(playlist,mediaIndex,null,!0);if(null!==mediaIndex){this.logger_("walkForward","mediaIndex:",mediaIndex+1);var segment=playlist.segments[mediaIndex];return startOfSegment=segment&&segment.end?segment.end:lastBufferedEnd,this.generateSegmentInfo_(playlist,mediaIndex+1,startOfSegment,!1)}this.fetchAtBuffer_?(mediaIndex=(mediaSourceInfo=_playlist2.default.getMediaInfoForTime(playlist,lastBufferedEnd,syncPoint.segmentIndex,syncPoint.time)).mediaIndex,startOfSegment=mediaSourceInfo.startTime):(mediaIndex=(mediaSourceInfo=_playlist2.default.getMediaInfoForTime(playlist,currentTime,syncPoint.segmentIndex,syncPoint.time)).mediaIndex,startOfSegment=mediaSourceInfo.startTime);return this.logger_("getMediaIndexForTime","mediaIndex:",mediaIndex,"startOfSegment:",startOfSegment),this.generateSegmentInfo_(playlist,mediaIndex,startOfSegment,!1)}},{key:"getSyncSegmentCandidate_",value:function getSyncSegmentCandidate_(playlist){var _this2=this;if(-1===this.currentTimeline_)return 0;var segmentIndexArray=playlist.segments.map(function(s,i){return{timeline:s.timeline,segmentIndex:i}}).filter(function(s){return s.timeline===_this2.currentTimeline_});return segmentIndexArray.length?segmentIndexArray[Math.min(segmentIndexArray.length-1,1)].segmentIndex:Math.max(playlist.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function generateSegmentInfo_(playlist,mediaIndex,startOfSegment,isSyncRequest){if(mediaIndex<0||mediaIndex>=playlist.segments.length)return null;var segment=playlist.segments[mediaIndex];return{requestId:"segment-loader-"+Math.random(),uri:segment.resolvedUri,mediaIndex:mediaIndex,isSyncRequest:isSyncRequest,startOfSegment:startOfSegment,playlist:playlist,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:segment.timeline,duration:segment.duration,segment:segment}}},{key:"abortRequestEarly_",value:function abortRequestEarly_(stats){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(stats.firstBytesReceivedAt||Date.now())<1e3)return!1;var currentTime=this.currentTime_(),measuredBandwidth=stats.bandwidth,segmentDuration=this.pendingSegment_.duration,requestTimeRemaining=_playlist2.default.estimateSegmentRequestTime(segmentDuration,measuredBandwidth,this.playlist_,stats.bytesReceived),timeUntilRebuffer=(0,_ranges.timeUntilRebuffer)(this.buffered_(),currentTime,this.hls_.tech_.playbackRate())-1;if(requestTimeRemaining<=timeUntilRebuffer)return!1;var switchCandidate=(0,_playlistSelectors.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:currentTime,bandwidth:measuredBandwidth,duration:this.duration_(),segmentDuration:segmentDuration,timeUntilRebuffer:timeUntilRebuffer,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(switchCandidate){var rebufferingImpact,timeSavedBySwitching=requestTimeRemaining-timeUntilRebuffer-switchCandidate.rebufferingImpact,minimumTimeSaving=.5;return timeUntilRebuffer<=_ranges.TIME_FUDGE_FACTOR&&(minimumTimeSaving=1),!switchCandidate.playlist||switchCandidate.playlist.uri===this.playlist_.uri||timeSavedBySwitching<minimumTimeSaving?!1:(this.bandwidth=switchCandidate.playlist.attributes.BANDWIDTH*_config2.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function handleProgress_(event,simpleSegment){this.pendingSegment_&&simpleSegment.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(simpleSegment.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function loadSegment_(segmentInfo){this.state="WAITING",this.pendingSegment_=segmentInfo,this.trimBackBuffer_(segmentInfo),segmentInfo.abortRequests=(0,_mediaSegmentRequest.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(segmentInfo),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function trimBackBuffer_(segmentInfo){var removeToTime=safeBackBufferTrimTime(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);removeToTime>0&&this.remove(0,removeToTime)}},{key:"createSimplifiedSegmentObj_",value:function createSimplifiedSegmentObj_(segmentInfo){var segment=segmentInfo.segment,simpleSegment={resolvedUri:segment.resolvedUri,byterange:segment.byterange,requestId:segmentInfo.requestId};if(segment.key){var iv=segment.key.iv||new Uint32Array([0,0,0,segmentInfo.mediaIndex+segmentInfo.playlist.mediaSequence]);simpleSegment.key={resolvedUri:segment.key.resolvedUri,iv:iv}}return segment.map&&(simpleSegment.map=this.initSegment(segment.map)),simpleSegment}},{key:"segmentRequestFinished_",value:function segmentRequestFinished_(error,simpleSegment){if(this.mediaRequests+=1,simpleSegment.stats&&(this.mediaBytesTransferred+=simpleSegment.stats.bytesReceived,this.mediaTransferDuration+=simpleSegment.stats.roundTripTime),this.pendingSegment_){if(simpleSegment.requestId===this.pendingSegment_.requestId){if(error)return this.pendingSegment_=null,this.state="READY",error.code===_mediaSegmentRequest.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),error.code===_mediaSegmentRequest.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(error),void this.trigger("error")));this.bandwidth=simpleSegment.stats.bandwidth,this.roundTrip=simpleSegment.stats.roundTripTime,simpleSegment.map&&(simpleSegment.map=this.initSegment(simpleSegment.map,!0)),this.processSegmentResponse_(simpleSegment)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function processSegmentResponse_(simpleSegment){var segmentInfo=this.pendingSegment_;segmentInfo.bytes=simpleSegment.bytes,simpleSegment.map&&(segmentInfo.segment.map.bytes=simpleSegment.map.bytes),segmentInfo.endOfAllRequests=simpleSegment.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function handleSegment_(){var _this3=this;if(this.pendingSegment_){var segmentInfo=this.pendingSegment_,segment=segmentInfo.segment,timingInfo=this.syncController_.probeSegmentInfo(segmentInfo);void 0===this.startingMedia_&&timingInfo&&(timingInfo.containsAudio||timingInfo.containsVideo)&&(this.startingMedia_={containsAudio:timingInfo.containsAudio,containsVideo:timingInfo.containsVideo});var illegalMediaSwitchError=illegalMediaSwitch(this.loaderType_,this.startingMedia_,timingInfo);if(illegalMediaSwitchError)return this.error({message:illegalMediaSwitchError,blacklistDuration:1/0}),void this.trigger("error");if(segmentInfo.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==segmentInfo.timestampOffset&&segmentInfo.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset),this.trigger("timestampoffset"));var timelineMapping=this.syncController_.mappingForTimeline(segmentInfo.timeline);null!==timelineMapping&&this.trigger({type:"segmenttimemapping",mapping:timelineMapping}),this.state="APPENDING",segment.map&&function(){var initId=(0,_binUtils.initSegmentId)(segment.map);if(!_this3.activeInitSegmentId_||_this3.activeInitSegmentId_!==initId){var initSegment=_this3.initSegment(segment.map);_this3.sourceUpdater_.appendBuffer(initSegment.bytes,function(){_this3.activeInitSegmentId_=initId})}}(),segmentInfo.byteLength=segmentInfo.bytes.byteLength,"number"==typeof segment.start&&"number"==typeof segment.end?this.mediaSecondsLoaded+=segment.end-segment.start:this.mediaSecondsLoaded+=segment.duration,this.sourceUpdater_.appendBuffer(segmentInfo.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function handleUpdateEnd_(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var segmentInfo=this.pendingSegment_,segment=segmentInfo.segment,isWalkingForward=null!==this.mediaIndex,isEndOfStream;(this.pendingSegment_=null,this.recordThroughput_(segmentInfo),this.addSegmentMetadataCue_(segmentInfo),this.state="READY",this.mediaIndex=segmentInfo.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=segmentInfo.timeline,this.trigger("syncinfoupdate"),segment.end&&this.currentTime_()-segment.end>3*segmentInfo.playlist.targetDuration)?this.resetEverything():(isWalkingForward&&this.trigger("bandwidthupdate"),this.trigger("progress"),detectEndOfStream(segmentInfo.playlist,this.mediaSource_,segmentInfo.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function recordThroughput_(segmentInfo){var rate=this.throughput.rate,segmentProcessingTime=Date.now()-segmentInfo.endOfAllRequests+1,segmentProcessingThroughput=Math.floor(segmentInfo.byteLength/segmentProcessingTime*8*1e3);this.throughput.rate+=(segmentProcessingThroughput-rate)/++this.throughput.count}},{key:"logger_",value:function logger_(){}},{key:"addSegmentMetadataCue_",value:function addSegmentMetadataCue_(segmentInfo){if(this.segmentMetadataTrack_){var segment=segmentInfo.segment,start=segment.start,end=segment.end;if(finite(start)&&finite(end)){(0,_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs2.default)(start,end,this.segmentMetadataTrack_);var Cue=_globalWindow2.default.WebKitDataCue||_globalWindow2.default.VTTCue,value={bandwidth:segmentInfo.playlist.attributes.BANDWIDTH,resolution:segmentInfo.playlist.attributes.RESOLUTION,codecs:segmentInfo.playlist.attributes.CODECS,byteLength:segmentInfo.byteLength,uri:segmentInfo.uri,timeline:segmentInfo.timeline,playlist:segmentInfo.playlist.uri,start:start,end:end},data,cue=new Cue(start,end,JSON.stringify(value));cue.value=value,this.segmentMetadataTrack_.addCue(cue)}}}}]),SegmentLoader}(_videoJs2.default.EventTarget);exports.default=SegmentLoader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),noop=function noop(){},SourceUpdater=function(){function SourceUpdater(mediaSource,mimeType){var _this=this;_classCallCheck(this,SourceUpdater);var createSourceBuffer=function createSourceBuffer(){_this.sourceBuffer_=mediaSource.addSourceBuffer(mimeType),_this.onUpdateendCallback_=function(){var pendingCallback=_this.pendingCallback_;_this.pendingCallback_=null,pendingCallback&&pendingCallback(),_this.runCallback_()},_this.sourceBuffer_.addEventListener("updateend",_this.onUpdateendCallback_),_this.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=mediaSource,this.processedAppend_=!1,"closed"===mediaSource.readyState?mediaSource.addEventListener("sourceopen",createSourceBuffer):createSourceBuffer()}return _createClass(SourceUpdater,[{key:"abort",value:function abort(done){var _this2=this;this.processedAppend_&&this.queueCallback_(function(){_this2.sourceBuffer_.abort()},done)}},{key:"appendBuffer",value:function appendBuffer(bytes,done){var _this3=this;this.processedAppend_=!0,this.queueCallback_(function(){_this3.sourceBuffer_.appendBuffer(bytes)},done)}},{key:"buffered",value:function buffered(){return this.sourceBuffer_?this.sourceBuffer_.buffered:_videoJs2.default.createTimeRanges()}},{key:"remove",value:function remove(start,end){var _this4=this;this.processedAppend_&&this.queueCallback_(function(){_this4.sourceBuffer_.remove(start,end)},noop)}},{key:"updating",value:function updating(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function timestampOffset(offset){var _this5=this;return void 0!==offset&&(this.queueCallback_(function(){_this5.sourceBuffer_.timestampOffset=offset}),this.timestampOffset_=offset),this.timestampOffset_}},{key:"queueCallback_",value:function queueCallback_(callback,done){this.callbacks_.push([callback.bind(this),done]),this.runCallback_()}},{key:"runCallback_",value:function runCallback_(){var callbacks=void 0;!this.updating()&&this.callbacks_.length&&(callbacks=this.callbacks_.shift(),this.pendingCallback_=callbacks[1],callbacks[0]())}},{key:"dispose",value:function dispose(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),SourceUpdater}();exports.default=SourceUpdater,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_binUtils=__webpack_require__(407),REQUEST_ERRORS={FAILURE:2,TIMEOUT:-101,ABORTED:-102};exports.REQUEST_ERRORS=REQUEST_ERRORS;var byterangeStr=function byterangeStr(byterange){var byterangeStart=void 0,byterangeEnd=void 0;return byterangeEnd=byterange.offset+byterange.length-1,"bytes="+(byterangeStart=byterange.offset)+"-"+byterangeEnd},segmentXhrHeaders=function segmentXhrHeaders(segment){var headers={};return segment.byterange&&(headers.Range=byterangeStr(segment.byterange)),headers},abortAll=function abortAll(activeXhrs){activeXhrs.forEach(function(xhr){xhr.abort()})},getRequestStats=function getRequestStats(request){return{bandwidth:request.bandwidth,bytesReceived:request.bytesReceived||0,roundTripTime:request.roundTripTime||0}},getProgressStats=function getProgressStats(progressEvent){var request=progressEvent.target,roundTripTime,stats={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-request.requestTime||0};return stats.bytesReceived=progressEvent.loaded,stats.bandwidth=Math.floor(stats.bytesReceived/stats.roundTripTime*8*1e3),stats},handleErrors=function handleErrors(error,request){return request.timedout?{status:request.status,message:"HLS request timed-out at URL: "+request.uri,code:REQUEST_ERRORS.TIMEOUT,xhr:request}:request.aborted?{status:request.status,message:"HLS request aborted at URL: "+request.uri,code:REQUEST_ERRORS.ABORTED,xhr:request}:error?{status:request.status,message:"HLS request errored at URL: "+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request}:null},handleKeyResponse=function handleKeyResponse(segment,finishProcessingFn){return function(error,request){var response=request.response,errorObj=handleErrors(error,request);if(errorObj)return finishProcessingFn(errorObj,segment);if(16!==response.byteLength)return finishProcessingFn({status:request.status,message:"Invalid HLS key at URL: "+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment);var view=new DataView(response);return segment.key.bytes=new Uint32Array([view.getUint32(0),view.getUint32(4),view.getUint32(8),view.getUint32(12)]),finishProcessingFn(null,segment)}},handleInitSegmentResponse=function handleInitSegmentResponse(segment,finishProcessingFn){return function(error,request){var response=request.response,errorObj=handleErrors(error,request);return errorObj?finishProcessingFn(errorObj,segment):0===response.byteLength?finishProcessingFn({status:request.status,message:"Empty HLS segment content at URL: "+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment):(segment.map.bytes=new Uint8Array(request.response),finishProcessingFn(null,segment))}},handleSegmentResponse=function handleSegmentResponse(segment,finishProcessingFn){return function(error,request){var response=request.response,errorObj=handleErrors(error,request);return errorObj?finishProcessingFn(errorObj,segment):0===response.byteLength?finishProcessingFn({status:request.status,message:"Empty HLS segment content at URL: "+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment):(segment.stats=getRequestStats(request),segment.key?segment.encryptedBytes=new Uint8Array(request.response):segment.bytes=new Uint8Array(request.response),finishProcessingFn(null,segment))}},decryptSegment=function decryptSegment(decrypter,segment,doneFn){var decryptionHandler=function decryptionHandler(event){if(event.data.source===segment.requestId){decrypter.removeEventListener("message",decryptionHandler);var decrypted=event.data.decrypted;return segment.bytes=new Uint8Array(decrypted.bytes,decrypted.byteOffset,decrypted.byteLength),doneFn(null,segment)}};decrypter.addEventListener("message",decryptionHandler),decrypter.postMessage((0,_binUtils.createTransferableMessage)({source:segment.requestId,encrypted:segment.encryptedBytes,key:segment.key.bytes,iv:segment.key.iv}),[segment.encryptedBytes.buffer,segment.key.bytes.buffer])},getMostImportantError=function getMostImportantError(errors){return errors.reduce(function(prev,err){return err.code>prev.code?err:prev})},waitForCompletion=function waitForCompletion(activeXhrs,decrypter,doneFn){var errors=[],count=0;return function(error,segment){if(error&&(abortAll(activeXhrs),errors.push(error)),(count+=1)===activeXhrs.length){if(segment.endOfAllRequests=Date.now(),errors.length>0){var worstError=getMostImportantError(errors);return doneFn(worstError,segment)}return segment.encryptedBytes?decryptSegment(decrypter,segment,doneFn):doneFn(null,segment)}}},handleProgress=function handleProgress(segment,progressFn){return function(event){return segment.stats=_videoJs2.default.mergeOptions(segment.stats,getProgressStats(event)),!segment.stats.firstBytesReceivedAt&&segment.stats.bytesReceived&&(segment.stats.firstBytesReceivedAt=Date.now()),progressFn(event,segment)}},mediaSegmentRequest=function mediaSegmentRequest(xhr,xhrOptions,decryptionWorker,segment,progressFn,doneFn){var activeXhrs=[],finishProcessingFn=waitForCompletion(activeXhrs,decryptionWorker,doneFn);if(segment.key){var keyRequestOptions,keyRequestCallback,keyXhr=xhr(_videoJs2.default.mergeOptions(xhrOptions,{uri:segment.key.resolvedUri,responseType:"arraybuffer"}),handleKeyResponse(segment,finishProcessingFn));activeXhrs.push(keyXhr)}if(segment.map&&!segment.map.bytes){var initSegmentOptions,initSegmentRequestCallback,initSegmentXhr=xhr(_videoJs2.default.mergeOptions(xhrOptions,{uri:segment.map.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(segment.map)}),handleInitSegmentResponse(segment,finishProcessingFn));activeXhrs.push(initSegmentXhr)}var segmentRequestOptions,segmentRequestCallback,segmentXhr=xhr(_videoJs2.default.mergeOptions(xhrOptions,{uri:segment.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(segment)}),handleSegmentResponse(segment,finishProcessingFn));return segmentXhr.addEventListener("progress",handleProgress(segment,progressFn)),activeXhrs.push(segmentXhr),function(){return abortAll(activeXhrs)}};exports.mediaSegmentRequest=mediaSegmentRequest},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),TIME_FUDGE_FACTOR=1/30,SAFE_TIME_DELTA=.1,clamp=function clamp(num,_ref){var _ref2=_slicedToArray(_ref,2),start=_ref2[0],end=_ref2[1];return Math.min(Math.max(start,num),end)},filterRanges=function filterRanges(timeRanges,predicate){var results=[],i=void 0;if(timeRanges&&timeRanges.length)for(i=0;i<timeRanges.length;i++)predicate(timeRanges.start(i),timeRanges.end(i))&&results.push([timeRanges.start(i),timeRanges.end(i)]);return _videoJs2.default.createTimeRanges(results)},findRange=function findRange(buffered,time){return filterRanges(buffered,function(start,end){return start-1/30<=time&&end+1/30>=time})},findNextRange=function findNextRange(timeRanges,time){return filterRanges(timeRanges,function(start){return start-1/30>=time})},findGaps=function findGaps(buffered){if(buffered.length<2)return _videoJs2.default.createTimeRanges();for(var ranges=[],i=1;i<buffered.length;i++){var start=buffered.end(i-1),end=buffered.start(i);ranges.push([start,end])}return _videoJs2.default.createTimeRanges(ranges)},findSoleUncommonTimeRangesEnd=function findSoleUncommonTimeRangesEnd(original,update){var i=void 0,start=void 0,end=void 0,result=[],edges=[],overlapsCurrentEnd=function overlapsCurrentEnd(span){return span[0]<=end&&span[1]>=end};if(original)for(i=0;i<original.length;i++)start=original.start(i),end=original.end(i),edges.push([start,end]);if(update)for(i=0;i<update.length;i++)start=update.start(i),end=update.end(i),edges.some(overlapsCurrentEnd)||result.push(end);return 1!==result.length?null:result[0]},bufferIntersection=function bufferIntersection(bufferA,bufferB){var start=null,end=null,arity=0,extents=[],ranges=[];if(!(bufferA&&bufferA.length&&bufferB&&bufferB.length))return _videoJs2.default.createTimeRange();for(var count=bufferA.length;count--;)extents.push({time:bufferA.start(count),type:"start"}),extents.push({time:bufferA.end(count),type:"end"});for(count=bufferB.length;count--;)extents.push({time:bufferB.start(count),type:"start"}),extents.push({time:bufferB.end(count),type:"end"});for(extents.sort(function(a,b){return a.time-b.time}),count=0;count<extents.length;count++)"start"===extents[count].type?2===++arity&&(start=extents[count].time):"end"===extents[count].type&&1===--arity&&(end=extents[count].time),null!==start&&null!==end&&(ranges.push([start,end]),start=null,end=null);return _videoJs2.default.createTimeRanges(ranges)},calculateBufferedPercent=function calculateBufferedPercent(adjustedRange,referenceRange,currentTime,buffered){for(var referenceDuration=referenceRange.end(0)-referenceRange.start(0),adjustedDuration,bufferMissingFromAdjusted=referenceDuration-(adjustedRange.end(0)-adjustedRange.start(0)),adjustedIntersection=bufferIntersection(adjustedRange,buffered),referenceIntersection=bufferIntersection(referenceRange,buffered),adjustedOverlap=0,referenceOverlap=0,count=adjustedIntersection.length;count--;)adjustedOverlap+=adjustedIntersection.end(count)-adjustedIntersection.start(count),adjustedIntersection.start(count)===currentTime&&(adjustedOverlap+=bufferMissingFromAdjusted);for(count=referenceIntersection.length;count--;)referenceOverlap+=referenceIntersection.end(count)-referenceIntersection.start(count);return Math.max(adjustedOverlap,referenceOverlap)/referenceDuration*100},getSegmentBufferedPercent=function getSegmentBufferedPercent(startOfSegment,segmentDuration,currentTime,buffered){var endOfSegment=startOfSegment+segmentDuration,originalSegmentRange=_videoJs2.default.createTimeRanges([[startOfSegment,endOfSegment]]),adjustedSegmentRange=_videoJs2.default.createTimeRanges([[clamp(startOfSegment,[currentTime,endOfSegment]),endOfSegment]]);if(adjustedSegmentRange.start(0)===adjustedSegmentRange.end(0))return 0;var percent=calculateBufferedPercent(adjustedSegmentRange,originalSegmentRange,currentTime,buffered);return isNaN(percent)||percent===1/0||percent===-1/0?0:percent},printableRange=function printableRange(range){var strArr=[];if(!range||!range.length)return"";for(var i=0;i<range.length;i++)strArr.push(range.start(i)+" => "+range.end(i));return strArr.join(", ")},timeUntilRebuffer=function timeUntilRebuffer(buffered,currentTime){var playbackRate=arguments.length<=2||void 0===arguments[2]?1:arguments[2],bufferedEnd;return((buffered.length?buffered.end(buffered.length-1):0)-currentTime)/playbackRate};exports.default={findRange:findRange,findNextRange:findNextRange,findGaps:findGaps,findSoleUncommonTimeRangesEnd:findSoleUncommonTimeRangesEnd,getSegmentBufferedPercent:getSegmentBufferedPercent,TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:printableRange,timeUntilRebuffer:timeUntilRebuffer},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _config,_config2=_interopRequireDefault(__webpack_require__(445)),_playlist,_playlist2=_interopRequireDefault(__webpack_require__(397)),_utilCodecsJs=__webpack_require__(449),safeGetComputedStyle=function safeGetComputedStyle(el,property){var result=void 0;return el&&(result=window.getComputedStyle(el))?result[property]:""},stableSort=function stableSort(array,sortFn){var newArray=array.slice();array.sort(function(left,right){var cmp=sortFn(left,right);return 0===cmp?newArray.indexOf(left)-newArray.indexOf(right):cmp})},comparePlaylistBandwidth=function comparePlaylistBandwidth(left,right){var leftBandwidth=void 0,rightBandwidth=void 0;return left.attributes.BANDWIDTH&&(leftBandwidth=left.attributes.BANDWIDTH),leftBandwidth=leftBandwidth||window.Number.MAX_VALUE,right.attributes.BANDWIDTH&&(rightBandwidth=right.attributes.BANDWIDTH),leftBandwidth-(rightBandwidth=rightBandwidth||window.Number.MAX_VALUE)};exports.comparePlaylistBandwidth=comparePlaylistBandwidth;var comparePlaylistResolution=function comparePlaylistResolution(left,right){var leftWidth=void 0,rightWidth=void 0;return left.attributes.RESOLUTION&&left.attributes.RESOLUTION.width&&(leftWidth=left.attributes.RESOLUTION.width),leftWidth=leftWidth||window.Number.MAX_VALUE,right.attributes.RESOLUTION&&right.attributes.RESOLUTION.width&&(rightWidth=right.attributes.RESOLUTION.width),leftWidth===(rightWidth=rightWidth||window.Number.MAX_VALUE)&&left.attributes.BANDWIDTH&&right.attributes.BANDWIDTH?left.attributes.BANDWIDTH-right.attributes.BANDWIDTH:leftWidth-rightWidth};exports.comparePlaylistResolution=comparePlaylistResolution;var simpleSelector=function simpleSelector(master,playerBandwidth,playerWidth,playerHeight){var sortedPlaylistReps=master.playlists.map(function(playlist){var width=void 0,height=void 0,bandwidth=void 0;return width=playlist.attributes.RESOLUTION&&playlist.attributes.RESOLUTION.width,height=playlist.attributes.RESOLUTION&&playlist.attributes.RESOLUTION.height,{bandwidth:bandwidth=(bandwidth=playlist.attributes.BANDWIDTH)||window.Number.MAX_VALUE,width:width,height:height,playlist:playlist}});stableSort(sortedPlaylistReps,function(left,right){return left.bandwidth-right.bandwidth});var enabledPlaylistReps=(sortedPlaylistReps=sortedPlaylistReps.filter(function(rep){return!_playlist2.default.isIncompatible(rep.playlist)})).filter(function(rep){return _playlist2.default.isEnabled(rep.playlist)});enabledPlaylistReps.length||(enabledPlaylistReps=sortedPlaylistReps.filter(function(rep){return!_playlist2.default.isDisabled(rep.playlist)}));var bandwidthPlaylistReps=enabledPlaylistReps.filter(function(rep){return rep.bandwidth*_config2.default.BANDWIDTH_VARIANCE<playerBandwidth}),highestRemainingBandwidthRep=bandwidthPlaylistReps[bandwidthPlaylistReps.length-1],bandwidthBestRep=bandwidthPlaylistReps.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth})[0],haveResolution=bandwidthPlaylistReps.filter(function(rep){return rep.width&&rep.height});stableSort(haveResolution,function(left,right){return left.width-right.width});var resolutionBestRepList=haveResolution.filter(function(rep){return rep.width===playerWidth&&rep.height===playerHeight});highestRemainingBandwidthRep=resolutionBestRepList[resolutionBestRepList.length-1];var resolutionBestRep=resolutionBestRepList.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth})[0],resolutionPlusOneList=void 0,resolutionPlusOneSmallest=void 0,resolutionPlusOneRep=void 0;resolutionBestRep||(resolutionPlusOneSmallest=(resolutionPlusOneList=haveResolution.filter(function(rep){return rep.width>playerWidth||rep.height>playerHeight})).filter(function(rep){return rep.width===resolutionPlusOneList[0].width&&rep.height===resolutionPlusOneList[0].height}),highestRemainingBandwidthRep=resolutionPlusOneSmallest[resolutionPlusOneSmallest.length-1],resolutionPlusOneRep=resolutionPlusOneSmallest.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth})[0]);var chosenRep=resolutionPlusOneRep||resolutionBestRep||bandwidthBestRep||enabledPlaylistReps[0]||sortedPlaylistReps[0];return chosenRep?chosenRep.playlist:null};exports.simpleSelector=simpleSelector;var lastBandwidthSelector=function lastBandwidthSelector(){return simpleSelector(this.playlists.master,this.systemBandwidth,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10),parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10))};exports.lastBandwidthSelector=lastBandwidthSelector;var movingAverageBandwidthSelector=function movingAverageBandwidthSelector(decay){var average=-1;if(decay<0||decay>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return average<0&&(average=this.systemBandwidth),average=decay*this.systemBandwidth+(1-decay)*average,simpleSelector(this.playlists.master,average,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10),parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10))}};exports.movingAverageBandwidthSelector=movingAverageBandwidthSelector;var minRebufferMaxBandwidthSelector=function minRebufferMaxBandwidthSelector(settings){var master=settings.master,currentTime=settings.currentTime,bandwidth=settings.bandwidth,duration=settings.duration,segmentDuration=settings.segmentDuration,timeUntilRebuffer=settings.timeUntilRebuffer,currentTimeline=settings.currentTimeline,syncController=settings.syncController,compatiblePlaylists=master.playlists.filter(function(playlist){return!_playlist2.default.isIncompatible(playlist)}),enabledPlaylists=compatiblePlaylists.filter(_playlist2.default.isEnabled);enabledPlaylists.length||(enabledPlaylists=compatiblePlaylists.filter(function(playlist){return!_playlist2.default.isDisabled(playlist)}));var bandwidthPlaylists,rebufferingEstimates=enabledPlaylists.filter(_playlist2.default.hasAttribute.bind(null,"BANDWIDTH")).map(function(playlist){var syncPoint,numRequests=syncController.getSyncPoint(playlist,duration,currentTimeline,currentTime)?1:2,requestTimeEstimate,rebufferingImpact;return{playlist:playlist,rebufferingImpact:_playlist2.default.estimateSegmentRequestTime(segmentDuration,bandwidth,playlist)*numRequests-timeUntilRebuffer}}),noRebufferingPlaylists=rebufferingEstimates.filter(function(estimate){return estimate.rebufferingImpact<=0});return stableSort(noRebufferingPlaylists,function(a,b){return comparePlaylistBandwidth(b.playlist,a.playlist)}),noRebufferingPlaylists.length?noRebufferingPlaylists[0]:(stableSort(rebufferingEstimates,function(a,b){return a.rebufferingImpact-b.rebufferingImpact}),rebufferingEstimates[0]||null)};exports.minRebufferMaxBandwidthSelector=minRebufferMaxBandwidthSelector;var lowestBitrateCompatibleVariantSelector=function lowestBitrateCompatibleVariantSelector(){var playlists=this.playlists.master.playlists.filter(_playlist2.default.isEnabled),playlistsWithVideo;return stableSort(playlists,function(a,b){return comparePlaylistBandwidth(a,b)}),playlists.filter(function(playlist){return(0,_utilCodecsJs.parseCodecs)(playlist.attributes.CODECS).videoCodec})[0]||null};exports.lowestBitrateCompatibleVariantSelector=lowestBitrateCompatibleVariantSelector},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parseCodecs=function parseCodecs(){var codecs=arguments.length<=0||void 0===arguments[0]?"":arguments[0],result={codecCount:0},parsed=void 0;return result.codecCount=codecs.split(",").length,result.codecCount=result.codecCount||2,(parsed=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(codecs))&&(result.videoCodec=parsed[2],result.videoObjectTypeIndicator=parsed[3]),result.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(codecs),result.audioProfile=result.audioProfile&&result.audioProfile[2],result};exports.parseCodecs=parseCodecs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x3,_x4,_x5){for(var _again=!0;_again;){var object=_x3,property=_x4,receiver=_x5;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x3=parent,_x4=property,_x5=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _segmentLoader,_segmentLoader2=_interopRequireDefault(__webpack_require__(443)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs,_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs2=_interopRequireDefault(__webpack_require__(426)),_binUtils=__webpack_require__(407),VTT_LINE_TERMINATORS=new Uint8Array("\n\n".split("").map(function(char){return char.charCodeAt(0)})),uintToString=function uintToString(uintArray){return String.fromCharCode.apply(null,uintArray)},VTTSegmentLoader=function(_SegmentLoader){function VTTSegmentLoader(settings){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,VTTSegmentLoader),_get(Object.getPrototypeOf(VTTSegmentLoader.prototype),"constructor",this).call(this,settings,options),this.mediaSource_=null,this.subtitlesTrack_=null}return _inherits(VTTSegmentLoader,_SegmentLoader),_createClass(VTTSegmentLoader,[{key:"buffered_",value:function buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return _videoJs2.default.createTimeRanges();var cues=this.subtitlesTrack_.cues,start=cues[0].startTime,end=cues[cues.length-1].startTime;return _videoJs2.default.createTimeRanges([[start,end]])}},{key:"initSegment",value:function initSegment(map){var set=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!map)return null;var id=(0,_binUtils.initSegmentId)(map),storedMap=this.initSegments_[id];if(set&&!storedMap&&map.bytes){var combinedByteLength=VTT_LINE_TERMINATORS.byteLength+map.bytes.byteLength,combinedSegment=new Uint8Array(combinedByteLength);combinedSegment.set(map.bytes),combinedSegment.set(VTT_LINE_TERMINATORS,map.bytes.byteLength),this.initSegments_[id]=storedMap={resolvedUri:map.resolvedUri,byterange:map.byterange,bytes:combinedSegment}}return storedMap||map}},{key:"couldBeginLoading_",value:function couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function track(_track){return void 0===_track?this.subtitlesTrack_:(this.subtitlesTrack_=_track,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function remove(start,end){(0,_videojsContribMediaSourcesEs5RemoveCuesFromTrackJs2.default)(start,end,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function fillBuffer_(){var _this=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var segmentInfo=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(segmentInfo=this.skipEmptySegments_(segmentInfo)){if(null===this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline)){var checkTimestampOffset=function checkTimestampOffset(){_this.state="READY",_this.paused()||_this.monitorBuffer_()};return this.syncController_.one("timestampoffset",checkTimestampOffset),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(segmentInfo)}}},{key:"skipEmptySegments_",value:function skipEmptySegments_(segmentInfo){for(;segmentInfo&&segmentInfo.segment.empty;)segmentInfo=this.generateSegmentInfo_(segmentInfo.playlist,segmentInfo.mediaIndex+1,segmentInfo.startOfSegment+segmentInfo.duration,segmentInfo.isSyncRequest);return segmentInfo}},{key:"handleSegment_",value:function handleSegment_(){var _this2=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var segmentInfo=this.pendingSegment_,segment=segmentInfo.segment,loadHandler;if("function"!=typeof _globalWindow2.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var _ret=(loadHandler=function loadHandler(){_this2.handleSegment_()},_this2.state="WAITING_ON_VTTJS",_this2.subtitlesTrack_.tech_.one("vttjsloaded",loadHandler),_this2.subtitlesTrack_.tech_.one("vttjserror",function(){_this2.subtitlesTrack_.tech_.off("vttjsloaded",loadHandler),_this2.error({message:"Error loading vtt.js"}),_this2.state="READY",_this2.pause(),_this2.trigger("error")}),{v:void 0});if("object"==typeof _ret)return _ret.v}segment.requested=!0;try{this.parseVTTCues_(segmentInfo)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(segmentInfo,this.syncController_.timelines[segmentInfo.timeline],this.playlist_),segmentInfo.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");segmentInfo.byteLength=segmentInfo.bytes.byteLength,this.mediaSecondsLoaded+=segment.duration,segmentInfo.cues.length&&this.remove(segmentInfo.cues[0].endTime,segmentInfo.cues[segmentInfo.cues.length-1].endTime),segmentInfo.cues.forEach(function(cue){_this2.subtitlesTrack_.addCue(cue)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function parseVTTCues_(segmentInfo){var decoder=void 0,decodeBytesToString=!1;"function"==typeof _globalWindow2.default.TextDecoder?decoder=new _globalWindow2.default.TextDecoder("utf8"):(decoder=_globalWindow2.default.WebVTT.StringDecoder(),decodeBytesToString=!0);var parser=new _globalWindow2.default.WebVTT.Parser(_globalWindow2.default,_globalWindow2.default.vttjs,decoder);if(segmentInfo.cues=[],segmentInfo.timestampmap={MPEGTS:0,LOCAL:0},parser.oncue=segmentInfo.cues.push.bind(segmentInfo.cues),parser.ontimestampmap=function(map){return segmentInfo.timestampmap=map},parser.onparsingerror=function(error){_videoJs2.default.log.warn("Error encountered when parsing cues: "+error.message)},segmentInfo.segment.map){var mapData=segmentInfo.segment.map.bytes;decodeBytesToString&&(mapData=uintToString(mapData)),parser.parse(mapData)}var segmentData=segmentInfo.bytes;decodeBytesToString&&(segmentData=uintToString(segmentData)),parser.parse(segmentData),parser.flush()}},{key:"updateTimeMapping_",value:function updateTimeMapping_(segmentInfo,mappingObj,playlist){var segment=segmentInfo.segment;if(mappingObj)if(segmentInfo.cues.length){var timestampmap=segmentInfo.timestampmap,diff=timestampmap.MPEGTS/9e4-timestampmap.LOCAL+mappingObj.mapping;if(segmentInfo.cues.forEach(function(cue){cue.startTime+=diff,cue.endTime+=diff}),!playlist.syncInfo){var firstStart=segmentInfo.cues[0].startTime,lastStart=segmentInfo.cues[segmentInfo.cues.length-1].startTime;playlist.syncInfo={mediaSequence:playlist.mediaSequence+segmentInfo.mediaIndex,time:Math.min(firstStart,lastStart-segment.duration)}}}else segment.empty=!0}}]),VTTSegmentLoader}(_segmentLoader2.default);exports.default=VTTSegmentLoader,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),findAdCue=function findAdCue(track,mediaTime){for(var cues=track.cues,i=0;i<cues.length;i++){var cue=cues[i];if(mediaTime>=cue.adStartTime&&mediaTime<=cue.adEndTime)return cue}return null},updateAdCues=function updateAdCues(media,track){var offset=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(media.segments)for(var mediaTime=offset,cue=void 0,i=0;i<media.segments.length;i++){var segment=media.segments[i];if(cue||(cue=findAdCue(track,mediaTime+segment.duration/2)),cue){if("cueIn"in segment){cue.endTime=mediaTime,cue.adEndTime=mediaTime,mediaTime+=segment.duration,cue=null;continue}if(mediaTime<cue.endTime){mediaTime+=segment.duration;continue}cue.endTime+=segment.duration}else if("cueOut"in segment&&((cue=new _globalWindow2.default.VTTCue(mediaTime,mediaTime+segment.duration,segment.cueOut)).adStartTime=mediaTime,cue.adEndTime=mediaTime+parseFloat(segment.cueOut),track.addCue(cue)),"cueOutCont"in segment){var adOffset=void 0,adTotal=void 0,_segment$cueOutCont$split$map=segment.cueOutCont.split("/").map(parseFloat),_segment$cueOutCont$split$map2=_slicedToArray(_segment$cueOutCont$split$map,2);adOffset=_segment$cueOutCont$split$map2[0],adTotal=_segment$cueOutCont$split$map2[1],(cue=new _globalWindow2.default.VTTCue(mediaTime,mediaTime+segment.duration,"")).adStartTime=mediaTime-adOffset,cue.adEndTime=cue.adStartTime+adTotal,track.addCue(cue)}mediaTime+=segment.duration}};exports.default={updateAdCues:updateAdCues,findAdCue:findAdCue},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(_x2,_x3,_x4){for(var _again=!0;_again;){var object=_x2,property=_x3,receiver=_x4;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x2=parent,_x3=property,_x4=receiver,_again=!0,desc=parent=void 0}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _muxJsLibMp4Probe,_muxJsLibMp4Probe2=_interopRequireDefault(__webpack_require__(453)),_muxJsLibToolsTsInspectorJs=__webpack_require__(454),_playlist=__webpack_require__(397),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),syncPointStrategies=[{name:"VOD",run:function run(syncController,playlist,duration,currentTimeline,currentTime){var syncPoint;return duration!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function run(syncController,playlist,duration,currentTimeline,currentTime){var playlistTime,playlistStart,syncPoint;return syncController.datetimeToDisplayTime&&playlist.dateTimeObject?{time:playlist.dateTimeObject.getTime()/1e3+syncController.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function run(syncController,playlist,duration,currentTimeline,currentTime){var segments=playlist.segments||[],syncPoint=null,lastDistance=null;currentTime=currentTime||0;for(var i=0;i<segments.length;i++){var segment=segments[i];if(segment.timeline===currentTimeline&&void 0!==segment.start){var distance=Math.abs(currentTime-segment.start);if(null!==lastDistance&&lastDistance<distance)break;(!syncPoint||null===lastDistance||lastDistance>=distance)&&(lastDistance=distance,syncPoint={time:segment.start,segmentIndex:i})}}return syncPoint}},{name:"Discontinuity",run:function run(syncController,playlist,duration,currentTimeline,currentTime){var syncPoint=null;if(currentTime=currentTime||0,playlist.discontinuityStarts&&playlist.discontinuityStarts.length)for(var lastDistance=null,i=0;i<playlist.discontinuityStarts.length;i++){var segmentIndex=playlist.discontinuityStarts[i],discontinuity=playlist.discontinuitySequence+i+1,discontinuitySync=syncController.discontinuities[discontinuity];if(discontinuitySync){var distance=Math.abs(currentTime-discontinuitySync.time);if(null!==lastDistance&&lastDistance<distance)break;(!syncPoint||null===lastDistance||lastDistance>=distance)&&(lastDistance=distance,syncPoint={time:discontinuitySync.time,segmentIndex:segmentIndex})}}return syncPoint}},{name:"Playlist",run:function run(syncController,playlist,duration,currentTimeline,currentTime){var syncPoint;return playlist.syncInfo?{time:playlist.syncInfo.time,segmentIndex:playlist.syncInfo.mediaSequence-playlist.mediaSequence}:null}}];exports.syncPointStrategies=syncPointStrategies;var SyncController=function(_videojs$EventTarget){function SyncController(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,SyncController),_get(Object.getPrototypeOf(SyncController.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,options.debug&&(this.logger_=_videoJs2.default.log.bind(_videoJs2.default,"sync-controller ->"))}return _inherits(SyncController,_videojs$EventTarget),_createClass(SyncController,[{key:"getSyncPoint",value:function getSyncPoint(playlist,duration,currentTimeline,currentTime){var syncPoints=this.runStrategies_(playlist,duration,currentTimeline,currentTime);return syncPoints.length?this.selectSyncPoint_(syncPoints,{key:"time",value:currentTime}):null}},{key:"getExpiredTime",value:function getExpiredTime(playlist,duration){if(!playlist||!playlist.segments)return null;var syncPoints=this.runStrategies_(playlist,duration,playlist.discontinuitySequence,0);if(!syncPoints.length)return null;var syncPoint=this.selectSyncPoint_(syncPoints,{key:"segmentIndex",value:0});return syncPoint.segmentIndex>0&&(syncPoint.time*=-1),Math.abs(syncPoint.time+(0,_playlist.sumDurations)(playlist,syncPoint.segmentIndex,0))}},{key:"runStrategies_",value:function runStrategies_(playlist,duration,currentTimeline,currentTime){for(var syncPoints=[],i=0;i<syncPointStrategies.length;i++){var strategy=syncPointStrategies[i],syncPoint=strategy.run(this,playlist,duration,currentTimeline,currentTime);syncPoint&&(syncPoint.strategy=strategy.name,syncPoints.push({strategy:strategy.name,syncPoint:syncPoint}),this.logger_("syncPoint found via <"+strategy.name+">:",syncPoint))}return syncPoints}},{key:"selectSyncPoint_",value:function selectSyncPoint_(syncPoints,target){for(var bestSyncPoint=syncPoints[0].syncPoint,bestDistance=Math.abs(syncPoints[0].syncPoint[target.key]-target.value),bestStrategy=syncPoints[0].strategy,i=1;i<syncPoints.length;i++){var newDistance=Math.abs(syncPoints[i].syncPoint[target.key]-target.value);newDistance<bestDistance&&(bestDistance=newDistance,bestSyncPoint=syncPoints[i].syncPoint,bestStrategy=syncPoints[i].strategy)}return this.logger_("syncPoint with strategy <"+bestStrategy+"> chosen: ",bestSyncPoint),bestSyncPoint}},{key:"saveExpiredSegmentInfo",value:function saveExpiredSegmentInfo(oldPlaylist,newPlaylist){for(var mediaSequenceDiff,i=newPlaylist.mediaSequence-oldPlaylist.mediaSequence-1;i>=0;i--){var lastRemovedSegment=oldPlaylist.segments[i];if(lastRemovedSegment&&void 0!==lastRemovedSegment.start){newPlaylist.syncInfo={mediaSequence:oldPlaylist.mediaSequence+i,time:lastRemovedSegment.start},this.logger_("playlist sync:",newPlaylist.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function setDateTimeMapping(playlist){if(!this.datetimeToDisplayTime&&playlist.dateTimeObject){var playlistTimestamp=playlist.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-playlistTimestamp}}},{key:"reset",value:function reset(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function probeSegmentInfo(segmentInfo){var segment=segmentInfo.segment,playlist=segmentInfo.playlist,timingInfo=void 0;return(timingInfo=segment.map?this.probeMp4Segment_(segmentInfo):this.probeTsSegment_(segmentInfo))&&this.calculateSegmentTimeMapping_(segmentInfo,timingInfo)&&(this.saveDiscontinuitySyncInfo_(segmentInfo),playlist.syncInfo||(playlist.syncInfo={mediaSequence:playlist.mediaSequence+segmentInfo.mediaIndex,time:segment.start})),timingInfo}},{key:"probeMp4Segment_",value:function probeMp4Segment_(segmentInfo){var segment=segmentInfo.segment,timescales=_muxJsLibMp4Probe2.default.timescale(segment.map.bytes),startTime=_muxJsLibMp4Probe2.default.startTime(timescales,segmentInfo.bytes);return null!==segmentInfo.timestampOffset&&(segmentInfo.timestampOffset-=startTime),{start:startTime,end:startTime+segment.duration}}},{key:"probeTsSegment_",value:function probeTsSegment_(segmentInfo){var timeInfo=(0,_muxJsLibToolsTsInspectorJs.inspect)(segmentInfo.bytes,this.inspectCache_),segmentStartTime=void 0,segmentEndTime=void 0;return timeInfo?(timeInfo.video&&2===timeInfo.video.length?(this.inspectCache_=timeInfo.video[1].dts,segmentStartTime=timeInfo.video[0].dtsTime,segmentEndTime=timeInfo.video[1].dtsTime):timeInfo.audio&&2===timeInfo.audio.length&&(this.inspectCache_=timeInfo.audio[1].dts,segmentStartTime=timeInfo.audio[0].dtsTime,segmentEndTime=timeInfo.audio[1].dtsTime),{start:segmentStartTime,end:segmentEndTime,containsVideo:timeInfo.video&&2===timeInfo.video.length,containsAudio:timeInfo.audio&&2===timeInfo.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function timestampOffsetForTimeline(timeline){return void 0===this.timelines[timeline]?null:this.timelines[timeline].time}},{key:"mappingForTimeline",value:function mappingForTimeline(timeline){return void 0===this.timelines[timeline]?null:this.timelines[timeline].mapping}},{key:"calculateSegmentTimeMapping_",value:function calculateSegmentTimeMapping_(segmentInfo,timingInfo){var segment=segmentInfo.segment,mappingObj=this.timelines[segmentInfo.timeline];if(null!==segmentInfo.timestampOffset)this.logger_("tsO:",segmentInfo.timestampOffset),mappingObj={time:segmentInfo.startOfSegment,mapping:segmentInfo.startOfSegment-timingInfo.start},this.timelines[segmentInfo.timeline]=mappingObj,this.trigger("timestampoffset"),segment.start=segmentInfo.startOfSegment,segment.end=timingInfo.end+mappingObj.mapping;else{if(!mappingObj)return!1;segment.start=timingInfo.start+mappingObj.mapping,segment.end=timingInfo.end+mappingObj.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function saveDiscontinuitySyncInfo_(segmentInfo){var playlist=segmentInfo.playlist,segment=segmentInfo.segment;if(segment.discontinuity)this.discontinuities[segment.timeline]={time:segment.start,accuracy:0};else if(playlist.discontinuityStarts.length)for(var i=0;i<playlist.discontinuityStarts.length;i++){var segmentIndex=playlist.discontinuityStarts[i],discontinuity=playlist.discontinuitySequence+i+1,mediaIndexDiff=segmentIndex-segmentInfo.mediaIndex,accuracy=Math.abs(mediaIndexDiff);if(!this.discontinuities[discontinuity]||this.discontinuities[discontinuity].accuracy>accuracy){var time=void 0;time=mediaIndexDiff<0?segment.start-(0,_playlist.sumDurations)(playlist,segmentInfo.mediaIndex,segmentIndex):segment.end+(0,_playlist.sumDurations)(playlist,segmentInfo.mediaIndex+1,segmentIndex),this.discontinuities[discontinuity]={time:time,accuracy:accuracy}}}}},{key:"logger_",value:function logger_(){}}]),SyncController}(_videoJs2.default.EventTarget);exports.default=SyncController},function(module,exports){"use strict";var findBox,parseType,timescale,startTime;findBox=function(data,path){var results=[],i,size,type,end,subresults;if(!path.length)return null;for(i=0;i<data.byteLength;)size=data[i]<<24,size|=data[i+1]<<16,size|=data[i+2]<<8,size|=data[i+3],type=parseType(data.subarray(i+4,i+8)),end=size>1?i+size:data.byteLength,type===path[0]&&(1===path.length?results.push(data.subarray(i+8,end)):(subresults=findBox(data.subarray(i+8,end),path.slice(1))).length&&(results=results.concat(subresults))),i=end;return results},parseType=function(buffer){var result="";return result+=String.fromCharCode(buffer[0]),result+=String.fromCharCode(buffer[1]),result+=String.fromCharCode(buffer[2]),result+=String.fromCharCode(buffer[3])},timescale=function(init){var result={},traks;return findBox(init,["moov","trak"]).reduce(function(result,trak){var tkhd,version,index,id,mdhd;return(tkhd=findBox(trak,["tkhd"])[0])?(id=tkhd[index=0===(version=tkhd[0])?12:20]<<24|tkhd[index+1]<<16|tkhd[index+2]<<8|tkhd[index+3],(mdhd=findBox(trak,["mdia","mdhd"])[0])?(index=0===(version=mdhd[0])?12:20,result[id]=mdhd[index]<<24|mdhd[index+1]<<16|mdhd[index+2]<<8|mdhd[index+3],result):null):null},result)},startTime=function(timescale,fragment){var trafs,baseTimes,result;return trafs=findBox(fragment,["moof","traf"]),baseTimes=[].concat.apply([],trafs.map(function(traf){return findBox(traf,["tfhd"]).map(function(tfhd){var id,scale,baseTime;return id=tfhd[4]<<24|tfhd[5]<<16|tfhd[6]<<8|tfhd[7],scale=timescale[id]||9e4,(baseTime=(baseTime=findBox(traf,["tfdt"]).map(function(tfdt){var version,result;return version=tfdt[0],result=tfdt[4]<<24|tfdt[5]<<16|tfdt[6]<<8|tfdt[7],1===version&&(result*=Math.pow(2,32),result+=tfdt[8]<<24|tfdt[9]<<16|tfdt[10]<<8|tfdt[11]),result})[0])||1/0)/scale})})),result=Math.min.apply(null,baseTimes),isFinite(result)?result:0},module.exports={parseType:parseType,timescale:timescale,startTime:startTime}},function(module,exports,__webpack_require__){"use strict";var StreamTypes=__webpack_require__(417),handleRollover=__webpack_require__(418).handleRollover,probe={};probe.ts=__webpack_require__(455),probe.aac=__webpack_require__(456);var PES_TIMESCALE=9e4,MP2T_PACKET_LENGTH=188,SYNC_BYTE=71,isLikelyAacData=function(data){return data[0]==="I".charCodeAt(0)&&data[1]==="D".charCodeAt(0)&&data[2]==="3".charCodeAt(0)},parsePsi_=function(bytes,pmt){for(var startIndex=0,endIndex=188,packet,type;endIndex<bytes.byteLength;)if(71!==bytes[startIndex]||71!==bytes[endIndex])startIndex++,endIndex++;else{switch(packet=bytes.subarray(startIndex,endIndex),type=probe.ts.parseType(packet,pmt.pid)){case"pat":pmt.pid||(pmt.pid=probe.ts.parsePat(packet));break;case"pmt":pmt.table||(pmt.table=probe.ts.parsePmt(packet))}if(pmt.pid&&pmt.table)return;startIndex+=188,endIndex+=188}},parseAudioPes_=function(bytes,pmt,result){for(var startIndex=0,endIndex=188,packet,type,pesType,pusi,parsed,endLoop=!1;endIndex<bytes.byteLength;)if(71!==bytes[startIndex]||71!==bytes[endIndex])startIndex++,endIndex++;else{switch(packet=bytes.subarray(startIndex,endIndex),type=probe.ts.parseType(packet,pmt.pid)){case"pes":pesType=probe.ts.parsePesType(packet,pmt.table),pusi=probe.ts.parsePayloadUnitStartIndicator(packet),"audio"===pesType&&pusi&&(parsed=probe.ts.parsePesTime(packet))&&(parsed.type="audio",result.audio.push(parsed),endLoop=!0)}if(endLoop)break;startIndex+=188,endIndex+=188}for(startIndex=(endIndex=bytes.byteLength)-188,endLoop=!1;startIndex>=0;)if(71!==bytes[startIndex]||71!==bytes[endIndex])startIndex--,endIndex--;else{switch(packet=bytes.subarray(startIndex,endIndex),type=probe.ts.parseType(packet,pmt.pid)){case"pes":pesType=probe.ts.parsePesType(packet,pmt.table),pusi=probe.ts.parsePayloadUnitStartIndicator(packet),"audio"===pesType&&pusi&&(parsed=probe.ts.parsePesTime(packet))&&(parsed.type="audio",result.audio.push(parsed),endLoop=!0)}if(endLoop)break;startIndex-=188,endIndex-=188}},parseVideoPes_=function(bytes,pmt,result){for(var startIndex=0,endIndex=188,packet,type,pesType,pusi,parsed,frame,i,pes,endLoop=!1,currentFrame={data:[],size:0};endIndex<bytes.byteLength;)if(71!==bytes[startIndex]||71!==bytes[endIndex])startIndex++,endIndex++;else{switch(packet=bytes.subarray(startIndex,endIndex),type=probe.ts.parseType(packet,pmt.pid)){case"pes":if(pesType=probe.ts.parsePesType(packet,pmt.table),pusi=probe.ts.parsePayloadUnitStartIndicator(packet),"video"===pesType&&(pusi&&!endLoop&&(parsed=probe.ts.parsePesTime(packet))&&(parsed.type="video",result.video.push(parsed),endLoop=!0),!result.firstKeyFrame)){if(pusi&&0!==currentFrame.size){for(frame=new Uint8Array(currentFrame.size),i=0;currentFrame.data.length;)pes=currentFrame.data.shift(),frame.set(pes,i),i+=pes.byteLength;probe.ts.videoPacketContainsKeyFrame(frame)&&(result.firstKeyFrame=probe.ts.parsePesTime(frame),result.firstKeyFrame.type="video"),currentFrame.size=0}currentFrame.data.push(packet),currentFrame.size+=packet.byteLength}}if(endLoop&&result.firstKeyFrame)break;startIndex+=188,endIndex+=188}for(startIndex=(endIndex=bytes.byteLength)-188,endLoop=!1;startIndex>=0;)if(71!==bytes[startIndex]||71!==bytes[endIndex])startIndex--,endIndex--;else{switch(packet=bytes.subarray(startIndex,endIndex),type=probe.ts.parseType(packet,pmt.pid)){case"pes":pesType=probe.ts.parsePesType(packet,pmt.table),pusi=probe.ts.parsePayloadUnitStartIndicator(packet),"video"===pesType&&pusi&&(parsed=probe.ts.parsePesTime(packet))&&(parsed.type="video",result.video.push(parsed),endLoop=!0)}if(endLoop)break;startIndex-=188,endIndex-=188}},adjustTimestamp_=function(segmentInfo,baseTimestamp){if(segmentInfo.audio&&segmentInfo.audio.length){var audioBaseTimestamp=baseTimestamp;void 0===audioBaseTimestamp&&(audioBaseTimestamp=segmentInfo.audio[0].dts),segmentInfo.audio.forEach(function(info){info.dts=handleRollover(info.dts,audioBaseTimestamp),info.pts=handleRollover(info.pts,audioBaseTimestamp),info.dtsTime=info.dts/9e4,info.ptsTime=info.pts/9e4})}if(segmentInfo.video&&segmentInfo.video.length){var videoBaseTimestamp=baseTimestamp;if(void 0===videoBaseTimestamp&&(videoBaseTimestamp=segmentInfo.video[0].dts),segmentInfo.video.forEach(function(info){info.dts=handleRollover(info.dts,videoBaseTimestamp),info.pts=handleRollover(info.pts,videoBaseTimestamp),info.dtsTime=info.dts/9e4,info.ptsTime=info.pts/9e4}),segmentInfo.firstKeyFrame){var frame=segmentInfo.firstKeyFrame;frame.dts=handleRollover(frame.dts,videoBaseTimestamp),frame.pts=handleRollover(frame.pts,videoBaseTimestamp),frame.dtsTime=frame.dts/9e4,frame.ptsTime=frame.dts/9e4}}},inspectAac_=function(bytes){for(var endLoop=!1,audioCount=0,sampleRate=null,timestamp=null,frameSize=0,byteIndex=0,packet;bytes.length-byteIndex>=3;){var type;switch(probe.aac.parseType(bytes,byteIndex)){case"timed-metadata":if(bytes.length-byteIndex<10){endLoop=!0;break}if((frameSize=probe.aac.parseId3TagSize(bytes,byteIndex))>bytes.length){endLoop=!0;break}null===timestamp&&(packet=bytes.subarray(byteIndex,byteIndex+frameSize),timestamp=probe.aac.parseAacTimestamp(packet)),byteIndex+=frameSize;break;case"audio":if(bytes.length-byteIndex<7){endLoop=!0;break}if((frameSize=probe.aac.parseAdtsSize(bytes,byteIndex))>bytes.length){endLoop=!0;break}null===sampleRate&&(packet=bytes.subarray(byteIndex,byteIndex+frameSize),sampleRate=probe.aac.parseSampleRate(packet)),audioCount++,byteIndex+=frameSize;break;default:byteIndex++}if(endLoop)return null}if(null===sampleRate||null===timestamp)return null;var audioTimescale=9e4/sampleRate,result;return{audio:[{type:"audio",dts:timestamp,pts:timestamp},{type:"audio",dts:timestamp+1024*audioCount*audioTimescale,pts:timestamp+1024*audioCount*audioTimescale}]}},inspectTs_=function(bytes){var pmt={pid:null,table:null},result={};for(var pid in parsePsi_(bytes,pmt),pmt.table){var type;if(pmt.table.hasOwnProperty(pid))switch(pmt.table[pid]){case StreamTypes.H264_STREAM_TYPE:result.video=[],parseVideoPes_(bytes,pmt,result),0===result.video.length&&delete result.video;break;case StreamTypes.ADTS_STREAM_TYPE:result.audio=[],parseAudioPes_(bytes,pmt,result),0===result.audio.length&&delete result.audio}}return result},inspect=function(bytes,baseTimestamp){var isAacData,result;return(result=isLikelyAacData(bytes)?inspectAac_(bytes):inspectTs_(bytes))&&(result.audio||result.video)?(adjustTimestamp_(result,baseTimestamp),result):null};module.exports={inspect:inspect}},function(module,exports,__webpack_require__){"use strict";var StreamTypes=__webpack_require__(417),parsePid=function(packet){var pid=31&packet[1];return pid<<=8,pid|=packet[2]},parsePayloadUnitStartIndicator=function(packet){return!!(64&packet[1])},parseAdaptionField=function(packet){var offset=0;return(48&packet[3])>>>4>1&&(offset+=packet[4]+1),offset},parseType=function(packet,pmtPid){var pid=parsePid(packet);return 0===pid?"pat":pid===pmtPid?"pmt":pmtPid?"pes":null},parsePat=function(packet){var pusi=parsePayloadUnitStartIndicator(packet),offset=4+parseAdaptionField(packet);return pusi&&(offset+=packet[offset]+1),(31&packet[offset+10])<<8|packet[offset+11]},parsePmt=function(packet){var programMapTable={},pusi=parsePayloadUnitStartIndicator(packet),payloadOffset=4+parseAdaptionField(packet);if(pusi&&(payloadOffset+=packet[payloadOffset]+1),1&packet[payloadOffset+5]){var sectionLength,tableEnd,programInfoLength;tableEnd=3+(sectionLength=(15&packet[payloadOffset+1])<<8|packet[payloadOffset+2])-4;for(var offset=12+(programInfoLength=(15&packet[payloadOffset+10])<<8|packet[payloadOffset+11]);offset<tableEnd;){var i=payloadOffset+offset;programMapTable[(31&packet[i+1])<<8|packet[i+2]]=packet[i],offset+=5+((15&packet[i+3])<<8|packet[i+4])}return programMapTable}},parsePesType=function(packet,programMapTable){var pid,type;switch(programMapTable[parsePid(packet)]){case StreamTypes.H264_STREAM_TYPE:return"video";case StreamTypes.ADTS_STREAM_TYPE:return"audio";case StreamTypes.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime=function(packet){var pusi;if(!parsePayloadUnitStartIndicator(packet))return null;var offset=4+parseAdaptionField(packet);if(offset>=packet.byteLength)return null;var pes=null,ptsDtsFlags;return 192&(ptsDtsFlags=packet[offset+7])&&((pes={}).pts=(14&packet[offset+9])<<27|(255&packet[offset+10])<<20|(254&packet[offset+11])<<12|(255&packet[offset+12])<<5|(254&packet[offset+13])>>>3,pes.pts*=4,pes.pts+=(6&packet[offset+13])>>>1,pes.dts=pes.pts,64&ptsDtsFlags&&(pes.dts=(14&packet[offset+14])<<27|(255&packet[offset+15])<<20|(254&packet[offset+16])<<12|(255&packet[offset+17])<<5|(254&packet[offset+18])>>>3,pes.dts*=4,pes.dts+=(6&packet[offset+18])>>>1)),pes},parseNalUnitType=function(type){switch(type){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},videoPacketContainsKeyFrame=function(packet){for(var offset=4+parseAdaptionField(packet),frameBuffer=packet.subarray(offset),frameI=0,frameSyncPoint=0,foundKeyFrame=!1,nalType;frameSyncPoint<frameBuffer.byteLength-3;frameSyncPoint++)if(1===frameBuffer[frameSyncPoint+2]){frameI=frameSyncPoint+5;break}for(;frameI<frameBuffer.byteLength;)switch(frameBuffer[frameI]){case 0:if(0!==frameBuffer[frameI-1]){frameI+=2;break}if(0!==frameBuffer[frameI-2]){frameI++;break}frameSyncPoint+3!==frameI-2&&"slice_layer_without_partitioning_rbsp_idr"===(nalType=parseNalUnitType(31&frameBuffer[frameSyncPoint+3]))&&(foundKeyFrame=!0);do{frameI++}while(1!==frameBuffer[frameI]&&frameI<frameBuffer.length);frameSyncPoint=frameI-2,frameI+=3;break;case 1:if(0!==frameBuffer[frameI-1]||0!==frameBuffer[frameI-2]){frameI+=3;break}"slice_layer_without_partitioning_rbsp_idr"===(nalType=parseNalUnitType(31&frameBuffer[frameSyncPoint+3]))&&(foundKeyFrame=!0),frameSyncPoint=frameI-2,frameI+=3;break;default:frameI+=3}return frameBuffer=frameBuffer.subarray(frameSyncPoint),frameI-=frameSyncPoint,frameSyncPoint=0,frameBuffer&&frameBuffer.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(nalType=parseNalUnitType(31&frameBuffer[frameSyncPoint+3]))&&(foundKeyFrame=!0),foundKeyFrame};module.exports={parseType:parseType,parsePat:parsePat,parsePmt:parsePmt,parsePayloadUnitStartIndicator:parsePayloadUnitStartIndicator,parsePesType:parsePesType,parsePesTime:parsePesTime,videoPacketContainsKeyFrame:videoPacketContainsKeyFrame}},function(module,exports){"use strict";var ADTS_SAMPLING_FREQUENCIES=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],parseSyncSafeInteger=function(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3]},percentEncode=function(bytes,start,end){var i,result="";for(i=start;i<end;i++)result+="%"+("00"+bytes[i].toString(16)).slice(-2);return result},parseIso88591=function(bytes,start,end){return unescape(percentEncode(bytes,start,end))},parseId3TagSize=function(header,byteIndex){var returnSize=header[byteIndex+6]<<21|header[byteIndex+7]<<14|header[byteIndex+8]<<7|header[byteIndex+9],flags,footerPresent;return(16&header[byteIndex+5])>>4?returnSize+20:returnSize+10},parseAdtsSize=function(header,byteIndex){var lowThree=(224&header[byteIndex+5])>>5,middle=header[byteIndex+4]<<3,highTwo;return 6144&header[byteIndex+3]|middle|lowThree},parseType=function(header,byteIndex){return header[byteIndex]==="I".charCodeAt(0)&&header[byteIndex+1]==="D".charCodeAt(0)&&header[byteIndex+2]==="3".charCodeAt(0)?"timed-metadata":!0&header[byteIndex]&&240==(240&header[byteIndex+1])?"audio":null},parseSampleRate=function(packet){for(var i=0;i+5<packet.length;){if(255===packet[i]&&240==(246&packet[i+1]))return ADTS_SAMPLING_FREQUENCIES[(60&packet[i+2])>>>2];i++}return null},parseAacTimestamp=function(packet){var frameStart,frameSize,frame,frameHeader;frameStart=10,64&packet[5]&&(frameStart+=4,frameStart+=parseSyncSafeInteger(packet.subarray(10,14)));do{if((frameSize=parseSyncSafeInteger(packet.subarray(frameStart+4,frameStart+8)))<1)return null;if("PRIV"===(frameHeader=String.fromCharCode(packet[frameStart],packet[frameStart+1],packet[frameStart+2],packet[frameStart+3]))){frame=packet.subarray(frameStart+10,frameStart+frameSize+10);for(var i=0;i<frame.byteLength;i++)if(0===frame[i]){var owner;if("com.apple.streaming.transportStreamTimestamp"===parseIso88591(frame,0,i)){var d=frame.subarray(i+1),size=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;return size*=4,size+=3&d[7]}break}}frameStart+=10,frameStart+=frameSize}while(frameStart<packet.byteLength);return null};module.exports={parseId3TagSize:parseId3TagSize,parseAdtsSize:parseAdtsSize,parseType:parseType,parseSampleRate:parseSampleRate,parseAacTimestamp:parseAacTimestamp}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_aesDecrypter=__webpack_require__(399),_binUtils=__webpack_require__(407),DecrypterWorker=function DecrypterWorker(self){self.onmessage=function(event){var data=event.data,encrypted=new Uint8Array(data.encrypted.bytes,data.encrypted.byteOffset,data.encrypted.byteLength),key=new Uint32Array(data.key.bytes,data.key.byteOffset,data.key.byteLength/4),iv=new Uint32Array(data.iv.bytes,data.iv.byteOffset,data.iv.byteLength/4);new _aesDecrypter.Decrypter(encrypted,key,iv,function(err,bytes){_globalWindow2.default.postMessage((0,_binUtils.createTransferableMessage)({source:data.source,decrypted:bytes}),[bytes.buffer])})}};exports.default=function(self){return new DecrypterWorker(self)},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),_playlistLoader,_playlistLoader2=_interopRequireDefault(__webpack_require__(389)),noop=function noop(){},audioTrackKind_=function audioTrackKind_(properties){var kind=properties.default?"main":"alternative";return properties.characteristics&&properties.characteristics.indexOf("public.accessibility.describes-video")>=0&&(kind="main-desc"),kind},stopLoaders=function stopLoaders(segmentLoader,mediaType){segmentLoader.abort(),segmentLoader.pause(),mediaType&&mediaType.activePlaylistLoader&&(mediaType.activePlaylistLoader.pause(),mediaType.activePlaylistLoader=null)};exports.stopLoaders=stopLoaders;var startLoaders=function startLoaders(playlistLoader,mediaType){mediaType.activePlaylistLoader=playlistLoader,playlistLoader.load()};exports.startLoaders=startLoaders;var onGroupChanged=function onGroupChanged(type,settings){return function(){var _settings$segmentLoaders=settings.segmentLoaders,segmentLoader=_settings$segmentLoaders[type],mainSegmentLoader=_settings$segmentLoaders.main,mediaType=settings.mediaTypes[type],activeTrack=mediaType.activeTrack(),activeGroup=mediaType.activeGroup(activeTrack),previousActiveLoader=mediaType.activePlaylistLoader;stopLoaders(segmentLoader,mediaType),activeGroup&&(activeGroup.playlistLoader?(segmentLoader.resyncLoader(),startLoaders(activeGroup.playlistLoader,mediaType)):previousActiveLoader&&mainSegmentLoader.resetEverything())}};exports.onGroupChanged=onGroupChanged;var onTrackChanged=function onTrackChanged(type,settings){return function(){var _settings$segmentLoaders2=settings.segmentLoaders,segmentLoader=_settings$segmentLoaders2[type],mainSegmentLoader=_settings$segmentLoaders2.main,mediaType=settings.mediaTypes[type],activeTrack=mediaType.activeTrack(),activeGroup=mediaType.activeGroup(activeTrack),previousActiveLoader=mediaType.activePlaylistLoader;stopLoaders(segmentLoader,mediaType),activeGroup&&(activeGroup.playlistLoader?previousActiveLoader!==activeGroup.playlistLoader?(segmentLoader.track&&segmentLoader.track(activeTrack),segmentLoader.resetEverything(),startLoaders(activeGroup.playlistLoader,mediaType)):startLoaders(activeGroup.playlistLoader,mediaType):mainSegmentLoader.resetEverything())}};exports.onTrackChanged=onTrackChanged;var onError={AUDIO:function AUDIO(type,settings){return function(){var segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type],blacklistCurrentPlaylist=settings.blacklistCurrentPlaylist;stopLoaders(segmentLoader,mediaType);var activeTrack=mediaType.activeTrack(),activeGroup=mediaType.activeGroup(),id=(activeGroup.filter(function(group){return group.default})[0]||activeGroup[0]).id,defaultTrack=mediaType.tracks[id];if(activeTrack!==defaultTrack){for(var trackId in _videoJs2.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),mediaType.tracks)mediaType.tracks[trackId].enabled=mediaType.tracks[trackId]===defaultTrack;mediaType.onTrackChanged()}else blacklistCurrentPlaylist({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function SUBTITLES(type,settings){return function(){var segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type];_videoJs2.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),stopLoaders(segmentLoader,mediaType);var track=mediaType.activeTrack();track&&(track.mode="disabled"),mediaType.onTrackChanged()}}};exports.onError=onError;var setupListeners={AUDIO:function AUDIO(type,playlistLoader,settings){if(playlistLoader){var tech=settings.tech,requestOptions=settings.requestOptions,segmentLoader=settings.segmentLoaders[type];playlistLoader.on("loadedmetadata",function(){var media=playlistLoader.media();segmentLoader.playlist(media,requestOptions),(!tech.paused()||media.endList&&"none"!==tech.preload())&&segmentLoader.load()}),playlistLoader.on("loadedplaylist",function(){segmentLoader.playlist(playlistLoader.media(),requestOptions),tech.paused()||segmentLoader.load()}),playlistLoader.on("error",onError[type](type,settings))}},SUBTITLES:function SUBTITLES(type,playlistLoader,settings){var tech=settings.tech,requestOptions=settings.requestOptions,segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type];playlistLoader.on("loadedmetadata",function(){var media=playlistLoader.media();segmentLoader.playlist(media,requestOptions),segmentLoader.track(mediaType.activeTrack()),(!tech.paused()||media.endList&&"none"!==tech.preload())&&segmentLoader.load()}),playlistLoader.on("loadedplaylist",function(){segmentLoader.playlist(playlistLoader.media(),requestOptions),tech.paused()||segmentLoader.load()}),playlistLoader.on("error",onError[type](type,settings))}};exports.setupListeners=setupListeners;var initialize={AUDIO:function AUDIO(type,settings){var mode=settings.mode,hls=settings.hls,segmentLoader=settings.segmentLoaders[type],withCredentials=settings.requestOptions.withCredentials,mediaGroups=settings.master.mediaGroups,_settings$mediaTypes$type=settings.mediaTypes[type],groups=_settings$mediaTypes$type.groups,tracks=_settings$mediaTypes$type.tracks;for(var groupId in mediaGroups[type]&&0!==Object.keys(mediaGroups[type]).length&&"html5"===mode||(mediaGroups[type]={main:{default:{default:!0}}}),mediaGroups[type])for(var variantLabel in groups[groupId]||(groups[groupId]=[]),mediaGroups[type][groupId]){var properties=mediaGroups[type][groupId][variantLabel],playlistLoader=void 0;if(playlistLoader=properties.resolvedUri?new _playlistLoader2.default(properties.resolvedUri,hls,withCredentials):null,properties=_videoJs2.default.mergeOptions({id:variantLabel,playlistLoader:playlistLoader},properties),setupListeners[type](type,properties.playlistLoader,settings),groups[groupId].push(properties),void 0===tracks[variantLabel]){var track=new _videoJs2.default.AudioTrack({id:variantLabel,kind:audioTrackKind_(properties),enabled:!1,language:properties.language,default:properties.default,label:variantLabel});tracks[variantLabel]=track}}segmentLoader.on("error",onError[type](type,settings))},SUBTITLES:function SUBTITLES(type,settings){var tech=settings.tech,hls=settings.hls,segmentLoader=settings.segmentLoaders[type],withCredentials=settings.requestOptions.withCredentials,mediaGroups=settings.master.mediaGroups,_settings$mediaTypes$type2=settings.mediaTypes[type],groups=_settings$mediaTypes$type2.groups,tracks=_settings$mediaTypes$type2.tracks;for(var groupId in mediaGroups[type])for(var variantLabel in groups[groupId]||(groups[groupId]=[]),mediaGroups[type][groupId])if(!mediaGroups[type][groupId][variantLabel].forced){var properties=mediaGroups[type][groupId][variantLabel];if(properties=_videoJs2.default.mergeOptions({id:variantLabel,playlistLoader:new _playlistLoader2.default(properties.resolvedUri,hls,withCredentials)},properties),setupListeners[type](type,properties.playlistLoader,settings),groups[groupId].push(properties),void 0===tracks[variantLabel]){var track=tech.addRemoteTextTrack({id:variantLabel,kind:"subtitles",enabled:!1,language:properties.language,label:variantLabel},!1).track;tracks[variantLabel]=track}}segmentLoader.on("error",onError[type](type,settings))},"CLOSED-CAPTIONS":function CLOSEDCAPTIONS(type,settings){var tech=settings.tech,mediaGroups=settings.master.mediaGroups,_settings$mediaTypes$type3=settings.mediaTypes[type],groups=_settings$mediaTypes$type3.groups,tracks=_settings$mediaTypes$type3.tracks;for(var groupId in mediaGroups[type])for(var variantLabel in groups[groupId]||(groups[groupId]=[]),mediaGroups[type][groupId]){var properties=mediaGroups[type][groupId][variantLabel];if(properties.instreamId.match(/CC\d/)&&(groups[groupId].push(_videoJs2.default.mergeOptions({id:variantLabel},properties)),void 0===tracks[variantLabel])){var track=tech.addRemoteTextTrack({id:properties.instreamId,kind:"captions",enabled:!1,language:properties.language,label:variantLabel},!1).track;tracks[variantLabel]=track}}}};exports.initialize=initialize;var activeGroup=function activeGroup(type,settings){return function(track){var masterPlaylistLoader=settings.masterPlaylistLoader,groups=settings.mediaTypes[type].groups,media=masterPlaylistLoader.media();if(!media)return null;var variants=null;return media.attributes[type]&&(variants=groups[media.attributes[type]]),variants=variants||groups.main,void 0===track?variants:null===track?null:variants.filter(function(props){return props.id===track.id})[0]||null}};exports.activeGroup=activeGroup;var activeTrack={AUDIO:function AUDIO(type,settings){return function(){var tracks=settings.mediaTypes[type].tracks;for(var id in tracks)if(tracks[id].enabled)return tracks[id];return null}},SUBTITLES:function SUBTITLES(type,settings){return function(){var tracks=settings.mediaTypes[type].tracks;for(var id in tracks)if("showing"===tracks[id].mode)return tracks[id];return null}}};exports.activeTrack=activeTrack;var setupMediaGroups=function setupMediaGroups(settings){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(type){initialize[type](type,settings)});var mediaTypes=settings.mediaTypes,masterPlaylistLoader=settings.masterPlaylistLoader,tech=settings.tech,hls=settings.hls;["AUDIO","SUBTITLES"].forEach(function(type){mediaTypes[type].activeGroup=activeGroup(type,settings),mediaTypes[type].activeTrack=activeTrack[type](type,settings),mediaTypes[type].onGroupChanged=onGroupChanged(type,settings),mediaTypes[type].onTrackChanged=onTrackChanged(type,settings)});var audioGroup=mediaTypes.AUDIO.activeGroup(),groupId=(audioGroup.filter(function(group){return group.default})[0]||audioGroup[0]).id;mediaTypes.AUDIO.tracks[groupId].enabled=!0,mediaTypes.AUDIO.onTrackChanged(),masterPlaylistLoader.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(type){return mediaTypes[type].onGroupChanged()})});var onAudioTrackChanged=function onAudioTrackChanged(){mediaTypes.AUDIO.onTrackChanged(),tech.trigger({type:"usage",name:"hls-audio-change"})};for(var id in tech.audioTracks().addEventListener("change",onAudioTrackChanged),tech.remoteTextTracks().addEventListener("change",mediaTypes.SUBTITLES.onTrackChanged),hls.on("dispose",function(){tech.audioTracks().removeEventListener("change",onAudioTrackChanged),tech.remoteTextTracks().removeEventListener("change",mediaTypes.SUBTITLES.onTrackChanged)}),tech.clearTracks("audio"),mediaTypes.AUDIO.tracks)tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id])};exports.setupMediaGroups=setupMediaGroups;var createMediaTypes=function createMediaTypes(){var mediaTypes={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(type){mediaTypes[type]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop,activeTrack:noop,onGroupChanged:noop,onTrackChanged:noop}}),mediaTypes};exports.createMediaTypes=createMediaTypes},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _playlistJs=__webpack_require__(397),enableFunction=function enableFunction(loader,playlistUri,changePlaylistFn){return function(enable){var playlist=loader.master.playlists[playlistUri],incompatible=(0,_playlistJs.isIncompatible)(playlist),currentlyEnabled=(0,_playlistJs.isEnabled)(playlist);return void 0===enable?currentlyEnabled:(enable?delete playlist.disabled:playlist.disabled=!0,enable===currentlyEnabled||incompatible||(changePlaylistFn(),enable?loader.trigger("renditionenabled"):loader.trigger("renditiondisabled")),enable)}},Representation=function Representation(hlsHandler,playlist,id){_classCallCheck(this,Representation);var fastChangeFunction=hlsHandler.masterPlaylistController_.fastQualityChange_.bind(hlsHandler.masterPlaylistController_);if(playlist.attributes.RESOLUTION){var resolution=playlist.attributes.RESOLUTION;this.width=resolution.width,this.height=resolution.height}this.bandwidth=playlist.attributes.BANDWIDTH,this.id=id,this.enabled=enableFunction(hlsHandler.playlists,playlist.uri,fastChangeFunction)},renditionSelectionMixin=function renditionSelectionMixin(hlsHandler){var playlists=hlsHandler.playlists;hlsHandler.representations=function(){return playlists.master.playlists.filter(function(media){return!(0,_playlistJs.isIncompatible)(media)}).map(function(e,i){return new Representation(hlsHandler,e,e.uri)})}};exports.default=renditionSelectionMixin,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _globalWindow,_globalWindow2=_interopRequireDefault(__webpack_require__(280)),_ranges,_ranges2=_interopRequireDefault(__webpack_require__(447)),_videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),timerCancelEvents=["seeking","seeked","pause","playing","error"],PlaybackWatcher=function(){function PlaybackWatcher(options){var _this=this;_classCallCheck(this,PlaybackWatcher),this.tech_=options.tech,this.seekable=options.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,options.debug&&(this.logger_=_videoJs2.default.log.bind(_videoJs2.default,"playback-watcher ->")),this.logger_("initialize");var canPlayHandler=function canPlayHandler(){return _this.monitorCurrentTime_()},waitingHandler=function waitingHandler(){return _this.techWaiting_()},cancelTimerHandler=function cancelTimerHandler(){return _this.cancelTimer_()},fixesBadSeeksHandler=function fixesBadSeeksHandler(){return _this.fixesBadSeeks_()};this.tech_.on("seekablechanged",fixesBadSeeksHandler),this.tech_.on("waiting",waitingHandler),this.tech_.on(timerCancelEvents,cancelTimerHandler),this.tech_.on("canplay",canPlayHandler),this.dispose=function(){_this.logger_("dispose"),_this.tech_.off("seekablechanged",fixesBadSeeksHandler),_this.tech_.off("waiting",waitingHandler),_this.tech_.off(timerCancelEvents,cancelTimerHandler),_this.tech_.off("canplay",canPlayHandler),_this.checkCurrentTimeTimeout_&&_globalWindow2.default.clearTimeout(_this.checkCurrentTimeTimeout_),_this.cancelTimer_()}}return _createClass(PlaybackWatcher,[{key:"monitorCurrentTime_",value:function monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&_globalWindow2.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=_globalWindow2.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function checkCurrentTime_(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var currentTime=this.tech_.currentTime(),buffered=this.tech_.buffered();if(this.lastRecordedTime===currentTime&&(!buffered.length||currentTime+_ranges2.default.SAFE_TIME_DELTA>=buffered.end(buffered.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&currentTime===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):currentTime===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=currentTime)}}},{key:"cancelTimer_",value:function cancelTimer_(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function fixesBadSeeks_(){var seeking=this.tech_.seeking(),seekable=this.seekable(),currentTime=this.tech_.currentTime(),seekTo=void 0,seekableEnd,seekableStart;seeking&&this.afterSeekableWindow_(seekable,currentTime)&&(seekTo=seekable.end(seekable.length-1));seeking&&this.beforeSeekableWindow_(seekable,currentTime)&&(seekTo=seekable.start(0)+_ranges2.default.SAFE_TIME_DELTA);return void 0!==seekTo&&(this.logger_("Trying to seek outside of seekable at time "+currentTime+" with seekable range "+_ranges2.default.printableRange(seekable)+". Seeking to "+seekTo+"."),this.tech_.setCurrentTime(seekTo),!0)}},{key:"waiting_",value:function waiting_(){if(!this.techWaiting_()){var currentTime=this.tech_.currentTime(),buffered=this.tech_.buffered(),currentRange=_ranges2.default.findRange(buffered,currentTime);return currentRange.length&&currentTime+3<=currentRange.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(currentTime),this.logger_("Stopped at "+currentTime+" while inside a buffered region ["+currentRange.start(0)+" -> "+currentRange.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function techWaiting_(){var seekable=this.seekable(),currentTime=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(seekable,currentTime)){var livePoint=seekable.end(seekable.length-1);return this.logger_("Fell out of live window at time "+currentTime+". Seeking to live point (seekable end) "+livePoint),this.cancelTimer_(),this.tech_.setCurrentTime(livePoint),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var buffered=this.tech_.buffered(),nextRange=_ranges2.default.findNextRange(buffered,currentTime);if(this.videoUnderflow_(nextRange,buffered,currentTime))return this.cancelTimer_(),this.tech_.setCurrentTime(currentTime),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(nextRange.length>0){var difference=nextRange.start(0)-currentTime;return this.logger_("Stopped at "+currentTime+", setting timer for "+difference+", seeking to "+nextRange.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*difference,currentTime),!0}return!1}},{key:"afterSeekableWindow_",value:function afterSeekableWindow_(seekable,currentTime){return!!seekable.length&&currentTime>seekable.end(seekable.length-1)+_ranges2.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function beforeSeekableWindow_(seekable,currentTime){return!!(seekable.length&&seekable.start(0)>0&&currentTime<seekable.start(0)-_ranges2.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function videoUnderflow_(nextRange,buffered,currentTime){if(0===nextRange.length){var gap=this.gapFromVideoUnderflow_(buffered,currentTime);if(gap)return this.logger_("Encountered a gap in video from "+gap.start+" to "+gap.end+". Seeking to current time "+currentTime),!0}return!1}},{key:"skipTheGap_",value:function skipTheGap_(scheduledCurrentTime){var buffered=this.tech_.buffered(),currentTime=this.tech_.currentTime(),nextRange=_ranges2.default.findNextRange(buffered,currentTime);this.cancelTimer_(),0!==nextRange.length&&currentTime===scheduledCurrentTime&&(this.logger_("skipTheGap_:","currentTime:",currentTime,"scheduled currentTime:",scheduledCurrentTime,"nextRange start:",nextRange.start(0)),this.tech_.setCurrentTime(nextRange.start(0)+_ranges2.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function gapFromVideoUnderflow_(buffered,currentTime){for(var gaps=_ranges2.default.findGaps(buffered),i=0;i<gaps.length;i++){var start=gaps.start(i),end=gaps.end(i);if(currentTime-start<4&&currentTime-start>2)return{start:start,end:end}}return null}},{key:"logger_",value:function logger_(){}}]),PlaybackWatcher}();exports.default=PlaybackWatcher,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _videoJs,_videoJs2=_interopRequireDefault(__webpack_require__(279)),defaultOptions={errorInterval:30,getSource:function getSource(next){var tech,sourceObj;return next(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},initPlugin=function initPlugin(player,options){var lastCalled=0,seekTo=0,localOptions=_videoJs2.default.mergeOptions(defaultOptions,options);player.ready(function(){player.trigger({type:"usage",name:"hls-error-reload-initialized"})});var loadedMetadataHandler=function loadedMetadataHandler(){seekTo&&player.currentTime(seekTo)},setSource=function setSource(sourceObj){null!=sourceObj&&(seekTo=player.duration()!==1/0&&player.currentTime()||0,player.one("loadedmetadata",loadedMetadataHandler),player.src(sourceObj),player.trigger({type:"usage",name:"hls-error-reload"}),player.play())},errorHandler=function errorHandler(){if(Date.now()-lastCalled<1e3*localOptions.errorInterval)player.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(localOptions.getSource&&"function"==typeof localOptions.getSource)return lastCalled=Date.now(),localOptions.getSource.call(player,setSource);_videoJs2.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},cleanupEvents=function cleanupEvents(){player.off("loadedmetadata",loadedMetadataHandler),player.off("error",errorHandler),player.off("dispose",cleanupEvents)},reinitPlugin=function reinitPlugin(newOptions){cleanupEvents(),initPlugin(player,newOptions)};player.on("error",errorHandler),player.on("dispose",cleanupEvents),player.reloadSourceOnError=reinitPlugin},reloadSourceOnError=function reloadSourceOnError(options){initPlugin(this,options)};exports.default=reloadSourceOnError,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_Object$keys=__webpack_require__(190).default,_Array$from=__webpack_require__(31).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinPlayerjs=__webpack_require__(15),_helpersVideojsErrors,_helpersVideojsErrors2=_interopRequireDefault(__webpack_require__(266)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),EVENTS_ARRAY=_Object$keys(_helpersVideojsAdapterEvents2.default).map(function(key){return _helpersVideojsAdapterEvents2.default[key]}),EVENTS_MERGED=EVENTS_ARRAY.concat(_linkedinPlayerjs.EVENTS.all().filter(function(event){return EVENTS_ARRAY.indexOf(event)<0})),VideoJSAdapter=function(){function VideoJSAdapter(player,controlTracker){_classCallCheck(this,VideoJSAdapter),this.player=player,this.receiver=new _linkedinPlayerjs.Receiver(EVENTS_MERGED),this.controlTracker=controlTracker,this.bindEvents(),this.bindMethods()}return _createClass(VideoJSAdapter,[{key:"bindEvents",value:function bindEvents(){var _this=this,receiver=this.receiver,player=this.player,controlTracker=this.controlTracker;this.timeElapsed=this.player.currentTime(),player.on(_helpersVideojsAdapterEvents2.default.PAUSE,function(){receiver.emit(_helpersVideojsAdapterEvents2.default.PAUSE,{controlName:controlTracker.controlName}),controlTracker.reset()}),player.on(_helpersVideojsAdapterEvents2.default.PLAY,function(){receiver.emit(_helpersVideojsAdapterEvents2.default.PLAY,{controlName:controlTracker.controlName}),controlTracker.reset()}),player.on(_helpersVideojsAdapterEvents2.default.VOLUME_CHANGE,function(){var muted=player.muted(),data={controlName:controlTracker.controlName,volume:player.volume()};muted?(receiver.emit(_helpersVideojsAdapterEvents2.default.MUTE,data),_this.hasBeenMuted=!0):!muted&&_this.hasBeenMuted?(receiver.emit(_helpersVideojsAdapterEvents2.default.UNMUTE,data),_this.hasBeenMuted=!1):receiver.emit(_helpersVideojsAdapterEvents2.default.VOLUME_CHANGE,data),controlTracker.reset()}),player.on("seeking",function(){_this.seeking||(_this.seeking=!0,_this.previousElapsedTime=_this.timeElapsed)}),player.on(_helpersVideojsAdapterEvents2.default.SEEKED,function(){_this.seeking=!1,_this.receiver.emit(_helpersVideojsAdapterEvents2.default.SEEKED,_this.previousElapsedTime)}),player.on(_helpersVideojsAdapterEvents2.default.TIME_UPDATE,function(){var seconds=player.currentTime(),duration=player.duration();if(seconds&&duration){var value={seconds:seconds,duration:duration};_this.timeElapsed=seconds,receiver.emit(_helpersVideojsAdapterEvents2.default.TIME_UPDATE,value)}}),player.on(_helpersVideojsAdapterEvents2.default.ENDED,function(){receiver.emit(_helpersVideojsAdapterEvents2.default.ENDED)}),player.on(_helpersVideojsAdapterEvents2.default.ERROR,function(){var videoError=player.error(),errorData={errorType:_helpersVideojsErrors2.default[videoError.code],errorMsg:videoError.message};_this.receiver.emit(_helpersVideojsAdapterEvents2.default.ERROR,errorData)}),player.on(_linkedinPlayerjs.EVENTS.PROGRESS,function(){receiver.emit(_linkedinPlayerjs.EVENTS.PROGRESS,{percent:player.bufferedPercent()})}),this.bindMediaBitrateChangedEvent()}},{key:"bindMediaBitrateChangedEvent",value:function bindMediaBitrateChangedEvent(){var _this2=this,player=this.player,segmentMetadataTrack=_Array$from(player.textTracks()||[]).filter(function(track){return"segment-metadata"===track.label})[0];segmentMetadataTrack&&function(){var hls=player.tech({IWillNotUseThisInPlugins:!0}).hls,previousPlaylist=void 0;if(!hls)throw new Error("hls plugin is not accessible on hls source");segmentMetadataTrack.on("cuechange",function(){var activeCue=segmentMetadataTrack.activeCues[0];if(activeCue&&activeCue.value&&activeCue.value.playlist!==previousPlaylist){var newSegmentDuration=Math.floor(1e3*(activeCue.value.end-activeCue.value.start)),_hls$selectPlaylist,attributes=hls.selectPlaylist().attributes,newBitrate=attributes.BANDWIDTH,_ref=attributes.CODECS?attributes.CODECS.split(",").map(function(item){return item.trim()}):[],_ref2=_slicedToArray(_ref,2),videoCodec=_ref2[0],audioCodec=_ref2[1],encodedDisplaySize=attributes.RESOLUTION;_this2.emit(_helpersVideojsAdapterEvents2.default.BITRATE_CHANGED,{audioCodec:audioCodec,newBitrate:newBitrate,newSegmentDuration:newSegmentDuration,videoCodec:videoCodec,encodedDisplaySize:encodedDisplaySize,frameRate:60,targetSegmentDuration:6e3}),previousPlaylist=activeCue.value.playlist}})}()}},{key:"bindMethods",value:function bindMethods(){var receiver=this.receiver,player=this.player;receiver.on(_linkedinPlayerjs.METHODS.PLAY,function(){player.play()}),receiver.on(_linkedinPlayerjs.METHODS.PAUSE,function(){player.pause()}),receiver.on(_linkedinPlayerjs.METHODS.GETPAUSED,function(callback){callback(player.paused())}),receiver.on(_linkedinPlayerjs.METHODS.GETCURRENTTIME,function(callback){callback(player.currentTime())}),receiver.on(_linkedinPlayerjs.METHODS.SETCURRENTTIME,function(value){player.currentTime(value)}),receiver.on(_linkedinPlayerjs.METHODS.GETDURATION,function(callback){callback(player.duration())}),receiver.on(_linkedinPlayerjs.METHODS.GETVOLUME,function(callback){callback(100*player.volume())}),receiver.on(_linkedinPlayerjs.METHODS.SETVOLUME,function(value){player.volume(value/100)}),receiver.on(_linkedinPlayerjs.METHODS.MUTE,function(){player.muted(!0)}),receiver.on(_linkedinPlayerjs.METHODS.UNMUTE,function(){player.muted(!1)}),receiver.on(_linkedinPlayerjs.METHODS.GETMUTED,function(callback){callback(player.muted()||0===player.volume())}),receiver.on(_linkedinPlayerjs.METHODS.GETLOOP,function(callback){callback(player.loop())}),receiver.on(_linkedinPlayerjs.METHODS.SETLOOP,function(value){player.loop(value)})}},{key:"isEventSupported",value:function isEventSupported(eventName){var supported=this.receiver.supported;return supported.events&&supported.events.indexOf(eventName)>-1}},{key:"registerEvent",value:function registerEvent(eventName){var supported;this.isEventSupported(eventName)||this.receiver.supported.events.push(eventName)}},{key:"emit",value:function emit(eventName,eventData){if(!this.isEventSupported(eventName))throw new Error("VideoJSAdapter: "+eventName+" not supported. Please use registerEvent first!");"string"==typeof eventData&&(eventData={controlName:eventData}),this.receiver.emit(eventName,eventData)}},{key:"ready",value:function ready(){this.receiver.ready()}}]),VideoJSAdapter}();exports.default=VideoJSAdapter,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default;Object.defineProperty(exports,"__esModule",{value:!0});var ControlTracker=function(){function ControlTracker(){var controlName=arguments.length<=0||void 0===arguments[0]?null:arguments[0];_classCallCheck(this,ControlTracker),this.controlName=controlName}return _createClass(ControlTracker,[{key:"reset",value:function reset(){this.controlName=null}}]),ControlTracker}();exports.default=ControlTracker,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),_helpersA11yHelper=__webpack_require__(187),PlaybackRateLabelComponent=function(_UIComponent){function PlaybackRateLabelComponent(playbackRateLabelElement){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PlaybackRateLabelComponent),_get(Object.getPrototypeOf(PlaybackRateLabelComponent.prototype),"constructor",this).call(this,playbackRateLabelElement),this.options=(0,_lodashDefaultsdeep2.default)({},options,{a11yDescAttr:"data-a11y-desc",a11yDesc:void 0})}return _inherits(PlaybackRateLabelComponent,_UIComponent),_createClass(PlaybackRateLabelComponent,[{key:"focus",value:function focus(){this.element.focus()}},{key:"a11yDesc",get:function get(){var a11yDesc=this.options.a11yDesc||this.element.getAttribute(this.options.a11yDescAttr);return Object.defineProperty(this,"a11yDesc",{value:a11yDesc}),this.a11yDesc}},{key:"a11yDescElement",get:function get(){var a11yDesc=this.a11yDesc,a11yDescElement=(0,_helpersA11yHelper.createA11yControlTextElement)(a11yDesc+",");return Object.defineProperty(this,"a11yDescElement",{value:a11yDescElement}),this.a11yDescElement}},{key:"childNodes",set:function set(nodes){for(var element=this.element;element.firstChild;)element.removeChild(element.firstChild);element.appendChild(this.a11yDescElement),nodes.forEach(function(node){return element.appendChild(node)})}}]),PlaybackRateLabelComponent}(_ui2.default);exports.default=PlaybackRateLabelComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_focusable,_focusable2,PlaybackRateMenuComponent=function(_FocusableComponent){function PlaybackRateMenuComponent(playbackRateMenuElement){var playerStateManager=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,PlaybackRateMenuComponent),_get(Object.getPrototypeOf(PlaybackRateMenuComponent.prototype),"constructor",this).call(this,playbackRateMenuElement,playerStateManager,(0,_lodashDefaultsdeep2.default)({},options,{activeClass:"ssplayer-menu-active"}))}return _inherits(PlaybackRateMenuComponent,_FocusableComponent),_createClass(PlaybackRateMenuComponent,[{key:"beforeInit",value:function beforeInit(){_get(Object.getPrototypeOf(PlaybackRateMenuComponent.prototype),"beforeInit",this).call(this),this.addEvents([this.element,"click",this.onClick])}},{key:"onClick",value:function onClick(event){this.emit("click",event)}}]),PlaybackRateMenuComponent}(_interopRequireDefault(__webpack_require__(231)).default);exports.default=PlaybackRateMenuComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_activatable,_activatable2,PlaybackRateOptionComponent=function(_ActivatableComponent){function PlaybackRateOptionComponent(playbackRateOptionElement){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(_classCallCheck(this,PlaybackRateOptionComponent),_get(Object.getPrototypeOf(PlaybackRateOptionComponent.prototype),"constructor",this).call(this,playbackRateOptionElement,(0,_lodashDefaultsdeep2.default)({},options,{playbackRateAttribute:"data-playback-rate"})),this.button=this.element.getElementsByTagName("button"),1!==this.button.length)throw new Error("A playback rate option must include exactly one button");this.button=this.button[0]}return _inherits(PlaybackRateOptionComponent,_ActivatableComponent),_createClass(PlaybackRateOptionComponent,[{key:"contains",value:function contains(other){return this.element.contains(other)}},{key:"playbackRate",get:function get(){var playbackRate=parseFloat(this.element.getAttribute(this.options.playbackRateAttribute));return Object.defineProperty(this,"playbackRate",{enumerable:!0,value:playbackRate}),this.playbackRate}},{key:"childNodes",get:function get(){return Array.prototype.map.call(this.button.children,function(node){return node.cloneNode(!0)})}}]),PlaybackRateOptionComponent}(_interopRequireDefault(__webpack_require__(88)).default);exports.default=PlaybackRateOptionComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersVideojsAdapterEvents,_helpersVideojsAdapterEvents2=_interopRequireDefault(__webpack_require__(247)),_helpersPerformanceTime,_helpersPerformanceTime2=_interopRequireDefault(__webpack_require__(468)),RumPlayerjsComponent=function(_EventListener){function RumPlayerjsComponent(videoAdapter){_classCallCheck(this,RumPlayerjsComponent),_get(Object.getPrototypeOf(RumPlayerjsComponent.prototype),"constructor",this).call(this),this.bufferId=0,this.videoAdapter=videoAdapter}return _inherits(RumPlayerjsComponent,_EventListener),_createClass(RumPlayerjsComponent,[{key:"videoInitializationStart",value:function videoInitializationStart(){this.startTime=(0,_helpersPerformanceTime2.default)()}},{key:"videoInitializationEnd",value:function videoInitializationEnd(){this.endTime=(0,_helpersPerformanceTime2.default)(),this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.INIT,{startTime:this.startTime,endTime:this.endTime,duration:this.endTime-this.startTime})}},{key:"bufferingStart",value:function bufferingStart(){this.bufferId+=1;var bufferId=this.bufferId;this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.BUFFER_START,{bufferId:bufferId,time:(0,_helpersPerformanceTime2.default)()})}},{key:"bufferingEnd",value:function bufferingEnd(){var bufferId=this.bufferId;this.videoAdapter.emit(_helpersVideojsAdapterEvents2.default.BUFFER_END,{bufferId:bufferId,time:(0,_helpersPerformanceTime2.default)()})}}]),RumPlayerjsComponent}(_coreEventListener2.default);exports.default=RumPlayerjsComponent,module.exports=exports.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return window&&window.performance&&window.performance.timing&&"function"==typeof window.performance.now?Math.round(window.performance.now())+window.performance.timing.navigationStart:(new Date).getTime()},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_Number$isFinite=__webpack_require__(470).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersControlNames=__webpack_require__(248),_helpersDecimal=__webpack_require__(473),CONTROL_NAME_PLAYBACK_RATE=_helpersControlNames.CONTROL_NAME.TOOLBAR.PLAYBACK_RATE,VideojsPlaybackRateBehavior=function(_EventListener){function VideojsPlaybackRateBehavior(videojsPlayer,controlTracker,playbackRateLabel,playbackRateMenu,playbackRateOptions){var playerStateManager=arguments.length<=5||void 0===arguments[5]?{}:arguments[5];_classCallCheck(this,VideojsPlaybackRateBehavior),_get(Object.getPrototypeOf(VideojsPlaybackRateBehavior.prototype),"constructor",this).call(this),this.videojsPlayer=videojsPlayer,this.playbackRateLabel=playbackRateLabel,this.playbackRateMenu=playbackRateMenu,this.playbackRateOptions=playbackRateOptions,this.controlTracker=controlTracker,this.playerStateManager=playerStateManager}return _inherits(VideojsPlaybackRateBehavior,_EventListener),_createClass(VideojsPlaybackRateBehavior,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.videojsPlayer,"ratechange",this.onVideojsRateChange],[this.playbackRateMenu,"click",this.onRateOptionClick]),this.onVideojsRateChange()}},{key:"updateToolbarPlaybackRate",value:function updateToolbarPlaybackRate(){var playbackRate=this.videojsPlayer.playbackRate();this.updatePlaybackRateLabel(this.updatePlaybackRateOptionActive(playbackRate))}},{key:"updatePlaybackRateLabel",value:function updatePlaybackRateLabel(playbackRateOption){this.playbackRateLabel.childNodes=playbackRateOption.childNodes}},{key:"updatePlaybackRateOptionActive",value:function updatePlaybackRateOptionActive(playbackRate){var deactivatingOption=this.playbackRateOptions.find(function(option){return option.active}),activatingOption=this.playbackRateOptions.find(function(option){return(0,_helpersDecimal.decimalEqual)(option.playbackRate,playbackRate)});return deactivatingOption&&(deactivatingOption.active=!1),activatingOption.active=!0,activatingOption}},{key:"onVideojsRateChange",value:function onVideojsRateChange(){var newRate=this.videojsPlayer.playbackRate(),roundedRate=this.roundRate(newRate);(0,_helpersDecimal.decimalEqual)(roundedRate,newRate)?this.updateToolbarPlaybackRate():this.videojsPlayer.playbackRate(roundedRate)}},{key:"roundRate",value:function roundRate(rate){for(var rates=this.playbackRateOptions.map(function(option){return option.playbackRate}).sort(),start=0,end=rates.length-1;start+1<end;){var mid=Math.floor((end-start)/2)+start;rates[mid]<rate?start=mid:end=mid}var lower=rates[start],upper=rates[end],lowerDiff=Math.abs(rate-lower),upperDiff;return Math.abs(upper-rate)<lowerDiff?upper:lower}},{key:"onRateOptionClick",value:function onRateOptionClick(event){var target=event.target,rateOption=this.playbackRateOptions.find(function(option){return option.contains(target)});if(rateOption){var requestedRate=rateOption.playbackRate,existingRate=this.videojsPlayer.playbackRate();_Number$isFinite(requestedRate)&&!(0,_helpersDecimal.decimalEqual)(requestedRate,existingRate)&&(this.controlTracker.controlName=CONTROL_NAME_PLAYBACK_RATE,this.videojsPlayer.playbackRate(requestedRate),this.playerStateManager.isDisableA11y||this.playbackRateLabel.focus())}}}]),VideojsPlaybackRateBehavior}(_coreEventListener2.default);exports.default=VideojsPlaybackRateBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(471),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(472),module.exports=__webpack_require__(41).Number.isFinite},function(module,exports,__webpack_require__){var $export=__webpack_require__(39),_isFinite=__webpack_require__(40).isFinite;$export($export.S,"Number",{isFinite:function isFinite(it){return"number"==typeof it&&_isFinite(it)}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decimalEqual=decimalEqual;var EPSILON=Math.pow(2,-53);function decimalEqual(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(args.length<2)throw new Error("decimalEqual requires at least 2 arguments, but you only passed "+args.length);for(var left=args.pop(),right=args.pop();void 0!==right;){if(Math.abs(left-right)>=EPSILON)return!1;left=right,right=args.pop()}return!0}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=initPresentation;var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_behaviorsPresentation,_behaviorsPresentation2=_interopRequireDefault(__webpack_require__(260)),_behaviorsPresentationUserActivity,_behaviorsPresentationUserActivity2=_interopRequireDefault(__webpack_require__(475)),_behaviorsPresentationManifest,_behaviorsPresentationManifest2=_interopRequireDefault(__webpack_require__(476)),_behaviorsVirusScan,_behaviorsVirusScan2=_interopRequireDefault(__webpack_require__(483)),_componentsCarousel,_componentsCarousel2=_interopRequireDefault(__webpack_require__(194)),_componentsDiscreteProgress,_componentsDiscreteProgress2=_interopRequireDefault(__webpack_require__(220)),_componentsKeyboard,_componentsKeyboard2=_interopRequireDefault(__webpack_require__(234)),_componentsLoader,_componentsLoader2=_interopRequireDefault(__webpack_require__(235)),_componentsPagination,_componentsPagination2=_interopRequireDefault(__webpack_require__(237)),_componentsPresentationPlayer,_componentsPresentationPlayer2=_interopRequireDefault(__webpack_require__(239)),_componentsPresentationSidepanel,_componentsPresentationSidepanel2=_interopRequireDefault(__webpack_require__(241)),_componentsPresentationTopbar,_componentsPresentationTopbar2=_interopRequireDefault(__webpack_require__(484)),_componentsPresentationBottombar,_componentsPresentationBottombar2=_interopRequireDefault(__webpack_require__(485)),_componentsToolbar,_componentsToolbar2=_interopRequireDefault(__webpack_require__(251)),_componentsPresentationPreviewThumbnail,_componentsPresentationPreviewThumbnail2=_interopRequireDefault(__webpack_require__(227)),_componentsAccessibilityModeFrame,_componentsAccessibilityModeFrame2=_interopRequireDefault(__webpack_require__(486)),_componentsVirusScan,_componentsVirusScan2=_interopRequireDefault(__webpack_require__(488));function create(componentClass,element,options){for(var _len=arguments.length,otherArguments=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)otherArguments[_key-3]=arguments[_key];return element&&componentClass.create.apply(componentClass,[element,options].concat(otherArguments))}function initPresentation(options){var carousel=_componentsCarousel2.default.create(options.carouselElement,options.carouselOptions),positionOptions={position:carousel.position,length:carousel.slideCount},toolbar=create(_componentsToolbar2.default,options.toolbarElement,(0,_lodashAssign2.default)({checkFullscreenAPI:!0},options.toolbarOptions),void 0,void 0,void 0,options.toolbarA11yOptions&&options.toolbarA11yOptions.a11y),presentationComponent=create(_componentsPresentationPlayer2.default,options.presentationElement),topbar=create(_componentsPresentationTopbar2.default,options.topbarElement,options.topbarOptions),bottombar=options.playerOptions.enableBottombar&&create(_componentsPresentationBottombar2.default,options.bottombarElement,options.bottombarOptions),progress=create(_componentsDiscreteProgress2.default,options.progressElement,(0,_lodashDefaultsdeep2.default)({},positionOptions,options.progressOptions)),previewThumbnail=create(_componentsPresentationPreviewThumbnail2.default,options.previewThumbnailElement,options.previewThumbnailOptions),sidepanelLeft=create(_componentsPresentationSidepanel2.default,options.sidepanelLeftElement,options.sidepanelLeftOptions),sidepanelRight=create(_componentsPresentationSidepanel2.default,options.sidepanelRightElement,options.sidepanelRightOptions),accessibilityModeFrame=create(_componentsAccessibilityModeFrame2.default,options.accessibilityModeFrameElement,options.accessibilityModeOptions),keyboard=_componentsKeyboard2.default.create(),virusScan=create(_componentsVirusScan2.default,options.virusScanElement,options.virusScanOptions),presentationBehavior=_behaviorsPresentation2.default.create({carousel:carousel,keyboard:keyboard,pagination:create(_componentsPagination2.default,options.paginationElement,(0,_lodashDefaultsdeep2.default)({},positionOptions,options.paginationOptions)),presentation:presentationComponent,progress:progress,previewThumbnail:previewThumbnail,sidepanelLeft:sidepanelLeft,sidepanelRight:sidepanelRight,topbar:topbar,bottombar:bottombar,toolbar:toolbar,loader:create(_componentsLoader2.default,options.loaderElement),accessibilityModeFrame:accessibilityModeFrame,virusScan:virusScan},options.playerOptions),virusScanBehavior=_behaviorsVirusScan2.default.create({virusScan:virusScan,player:presentationComponent,topbar:topbar},options.virusScanBehaviorOptions),presentationManifestBehavior=_behaviorsPresentationManifest2.default.create({carousel:carousel,progress:progress,previewThumbnail:previewThumbnail,accessibilityModeFrame:accessibilityModeFrame,virusScan:virusScan},options.manifestOptions);return _behaviorsPresentationUserActivity2.default.create({carousel:carousel,player:presentationComponent,sidepanelLeft:sidepanelLeft,sidepanelRight:sidepanelRight,toolbar:toolbar,topbar:topbar,bottombar:bottombar,accessibilityModeFrame:accessibilityModeFrame,keyboard:keyboard,virusScan:virusScan}),{presentationBehavior:presentationBehavior,presentationManifestBehavior:presentationManifestBehavior,virusScanBehavior:virusScanBehavior}}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),HIDE_TIMER_MS=1e3,PresentationUserActivityBehavior=function(_EventListener){function PresentationUserActivityBehavior(components){_classCallCheck(this,PresentationUserActivityBehavior),_get(Object.getPrototypeOf(PresentationUserActivityBehavior.prototype),"constructor",this).call(this),(0,_lodashAssign2.default)(this,components)}return _inherits(PresentationUserActivityBehavior,_EventListener),_createClass(PresentationUserActivityBehavior,[{key:"beforeInit",value:function beforeInit(){this.debouncedIdleOnTimeout=(0,_lodashDebounce2.default)(this.idleOnTimeout,1e3);var events=[[this.player,"fullscreen",this.onFullscreen],[this.player,"mouseEnter",this.onUserActivity],[this.player,"mouseMove",this.onUserActivity],[this.player,"mouseLeave",this.onUserActivity],[this.toolbar,"mouseOver",this.onUserActivity],[this.toolbar,"mouseOut",this.onUserActivity],[this.topbar,"mouseOver",this.onUserActivity],[this.topbar,"mouseOut",this.onUserActivity],[this.bottombar,"mouseOver",this.onUserActivity],[this.bottombar,"mouseOut",this.onUserActivity],[this.keyboard,"tab",this.onUserActivity.bind(this,!0)],[this.keyboard,"leftArrow",this.onArrowKey.bind(this)],[this.keyboard,"rightArrow",this.onArrowKey.bind(this)]].filter(function(_ref){var _ref2,target;return _slicedToArray(_ref,1)[0]});this.addEvents.apply(this,_toConsumableArray(events))}},{key:"onFullscreen",value:function onFullscreen(isFullscreen){this.isFullscreen=isFullscreen,this.setControlsVisibility(!0)}},{key:"onArrowKey",value:function onArrowKey(){this.isFullscreen||this.setControlsVisibility(!1,this.carousel.isOnFirstPage,this.carousel.isOnFirstPage)}},{key:"onUserActivity",value:function onUserActivity(overridePlayerMouseover){var isUserActive;(void 0===overridePlayerMouseover?this.player.isMouseover:overridePlayerMouseover)&&this.setControlsVisibility(!0),this.debouncedIdleOnTimeout.cancel(),this.isMouseOverToolbar||this.isMouseOverSidepanels||this.isMouseOverTopbar||this.isMouseOverBottombar||this.isVirusScanVisible||this.debouncedIdleOnTimeout()}},{key:"setControlsVisibility",value:function setControlsVisibility(isVisible,topbarVisibilityOverride,bottombarVisibilityOverride){var defaultTopbarVisibilityAction=void 0;if(defaultTopbarVisibilityAction=isVisible&&this.isFullscreen||!isVisible&&!this.isFullscreen&&this.carousel.isOnFirstPage||this.isAccessibilityModeActive?"show":"hide",void 0!==topbarVisibilityOverride?(0,_lodashInvoke2.default)(this.topbar,topbarVisibilityOverride?"show":"hide"):(0,_lodashInvoke2.default)(this.topbar,defaultTopbarVisibilityAction),this.bottombar){var defaultBottombarVisibilityAction="hide";isVisible||this.isFullscreen||!this.carousel.isOnFirstPage||(defaultBottombarVisibilityAction="show"),void 0!==bottombarVisibilityOverride?(0,_lodashInvoke2.default)(this.bottombar,bottombarVisibilityOverride?"show":"hide"):(0,_lodashInvoke2.default)(this.bottombar,defaultBottombarVisibilityAction),isVisible&&!this.isAccessibilityModeActive&&(0,_lodashInvoke2.default)(this,"sidepanelRight.toggleEnabled",this.carousel.position<this.carousel.slideCount)}this.player.idle=!isVisible,(0,_lodashInvoke2.default)(this.player,"removeInitialLoadState"),(0,_lodashInvoke2.default)(this.toolbar,isVisible?"show":"hide")}},{key:"idleOnTimeout",value:function idleOnTimeout(){this.setControlsVisibility(!1)}},{key:"isAccessibilityModeActive",get:function get(){return this.accessibilityModeFrame&&this.accessibilityModeFrame.isActive}},{key:"isVirusScanVisible",get:function get(){return this.virusScan&&this.virusScan.isVisible}},{key:"isMouseOverSidepanels",get:function get(){return this.sidepanelLeft&&this.sidepanelLeft.isMouseOver||this.sidepanelRight&&this.sidepanelRight.isMouseOver}},{key:"isMouseOverToolbar",get:function get(){return this.toolbar&&this.toolbar.isMouseOver}},{key:"isMouseOverTopbar",get:function get(){return this.topbar&&this.topbar.isMouseOver}},{key:"isMouseOverBottombar",get:function get(){return this.bottombar&&this.bottombar.isMouseOver}}]),PresentationUserActivityBehavior}(_coreEventListener2.default);exports.default=PresentationUserActivityBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_Object$entries=__webpack_require__(477).default,_Object$keys=__webpack_require__(190).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersDocumentManifest,_helpersDocumentManifest2=_interopRequireDefault(__webpack_require__(481)),_helpersImageManifestContainer,_helpersImageManifestContainer2=_interopRequireDefault(__webpack_require__(482)),RESIZE_DEBOUNCE_MS=100,ONE_HOUR_IN_MS=36e5,PresentationManifestBehavior=function(_EventListener){function PresentationManifestBehavior(components){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PresentationManifestBehavior),_get(Object.getPrototypeOf(PresentationManifestBehavior.prototype),"constructor",this).call(this),(0,_lodashAssign2.default)(this,components),this.options=options,this.imageManifestContainer=new _helpersImageManifestContainer2.default(window.devicePixelRatio),this.options.masterManifestUrl?(this.fetchAndApplyManifests(this.options.masterManifestUrl),this.options.manifestUrlExpiresAt&&this.scheduleManifestUpdate()):this.skipEventBinding=!0}return _inherits(PresentationManifestBehavior,_EventListener),_createClass(PresentationManifestBehavior,[{key:"beforeInit",value:function beforeInit(){this.skipEventBinding||(this.debouncedResize=(0,_lodashDebounce2.default)(this.onResize,100),this.addEvents([this.carousel,"resize",this.debouncedResize],[this.progress,"positionHover",this.onProgressHover]))}},{key:"fetchAndApplyManifests",value:function fetchAndApplyManifests(masterManifestUrl){_helpersDocumentManifest2.default.fetch(masterManifestUrl,{onMaster:this.onLoadMasterManifest.bind(this),onTranscript:this.onLoadTranscriptManifest.bind(this),onImageResolution:this.onLoadImageManifest.bind(this)})}},{key:"updateManifest",value:function updateManifest(newMasterManifestUrl,newManifestUrlExpiresAt){this.options.masterManifestUrl=newMasterManifestUrl,this.options.manifestUrlExpiresAt=newManifestUrlExpiresAt,this.imageManifestContainer.reset(),this.fetchAndApplyManifests(newMasterManifestUrl),this.scheduleManifestUpdate()}},{key:"scheduleManifestUpdate",value:function scheduleManifestUpdate(){var _this=this;setTimeout(function(){(0,_lodashInvoke2.default)(_this.options,"onRequestUpdateManifest")},this._getTimeToUpdateManifest())}},{key:"onResize",value:function onResize(){this.imageManifestContainer.updateOptimalManifest(this.carousel.slideWidth,this.carousel.slideHeight);var manifest=this.imageManifestContainer.getOptimalImageManifest();manifest&&this._applyImageManifest(manifest)}},{key:"onProgressHover",value:function onProgressHover(_ref){var position=_ref.position,lowestResImageManifest=this.imageManifestContainer.getLowestResImageManifest();lowestResImageManifest&&(0,_lodashInvoke2.default)(this.previewThumbnail,"changeThumbnailImage",lowestResImageManifest.pages[position])}},{key:"onLoadMasterManifest",value:function onLoadMasterManifest(manifest){var _this2=this;manifest.perResolutions.forEach(function(_ref2){var width=_ref2.width,height=_ref2.height;_this2.imageManifestContainer.registerImageManifest(width,height)}),this.imageManifestContainer.updateOptimalManifest(this.carousel.slideWidth,this.carousel.slideHeight),this.accessibilityModeFrame&&(this.accessibilityModeFrame.documentUrl=manifest.transcribedDocumentUrl),this.virusScan&&(this.virusScan.downloadUrl=manifest.transcribedDocumentUrl)}},{key:"onLoadImageManifest",value:function onLoadImageManifest(manifest,_ref3){var width=_ref3.width,height=_ref3.height;this.imageManifestContainer.populateImageManifest(manifest,width,height),this.imageManifestContainer.isOptimalDimension(width,height)&&this._applyImageManifest(manifest)}},{key:"onLoadTranscriptManifest",value:function onLoadTranscriptManifest(manifest){var _this3=this;this.transcript=manifest.pages,_Object$entries(manifest.pages).forEach(function(_ref4){var _ref42=_slicedToArray(_ref4,2),index=_ref42[0],transcript=_ref42[1],slide;_this3.carousel.adapter.restore(_this3.carousel.getSlideElement(index))[0].getElementsByTagName("IMG").length>0&&_this3.carousel.applyTranscriptToSlide(parseInt(index,10),transcript)})}},{key:"_applyImageManifest",value:function _applyImageManifest(manifest){var _this4=this;_Object$keys(manifest.pages).forEach(function(indexString){var index=parseInt(indexString,10),src=manifest.pages[index];_this4.carousel.applyImageSlideConfig({index:index,config:{src:src},clearSlide:!1}),_this4.transcript&&_this4.transcript[index]&&_this4.carousel.applyTranscriptToSlide(index,_this4.transcript[index])})}},{key:"_getTimeToUpdateManifest",value:function _getTimeToUpdateManifest(){var bufferInMS=arguments.length<=0||void 0===arguments[0]?36e5:arguments[0];return this.options.manifestUrlExpiresAt-Date.now()-bufferInMS}}]),PresentationManifestBehavior}(_coreEventListener2.default);exports.default=PresentationManifestBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(478),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(479),module.exports=__webpack_require__(41).Object.entries},function(module,exports,__webpack_require__){var $export=__webpack_require__(39),$entries=__webpack_require__(480)(!0);$export($export.S,"Object",{entries:function entries(it){return $entries(it)}})},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(60),toIObject=__webpack_require__(62),isEnum=__webpack_require__(98).f;module.exports=function(isEntries){return function(it){for(var O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[],key;length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__webpack_require__){"use strict";var _createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_bind=__webpack_require__(178).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),DocumentManifest=function(){function DocumentManifest(url,callbacks){var _this=this,shouldDownloadTranscript=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(_classCallCheck(this,DocumentManifest),!url)throw new TypeError("DocumentManifest: url expected to be truthy but was "+url);if("string"!=typeof url)throw new TypeError("DocumentManifest: url expected to be string but was type "+typeof url);var sanitizedUrl=_linkedinJsecure2.default.sanitizeUrl(url);this.callbacks=callbacks,DocumentManifest.download(sanitizedUrl,function(manifest){return _this._parseMasterManifest(manifest,shouldDownloadTranscript)})}return _createClass(DocumentManifest,[{key:"_parseMasterManifest",value:function _parseMasterManifest(manifest,shouldDownloadTranscript){var _this2=this;DocumentManifest.validateMasterManifestSchema(manifest,shouldDownloadTranscript),(0,_lodashInvoke2.default)(this.callbacks,"onMaster",manifest),shouldDownloadTranscript&&DocumentManifest.download(manifest.transcriptManifestUrl,this._parseTranscriptManifest.bind(this)),manifest.perResolutions.forEach(function(_ref){var imageManifestUrl=_ref.imageManifestUrl,width=_ref.width,height=_ref.height;DocumentManifest.download(imageManifestUrl,_this2._parseImageManifest.bind(_this2,width,height))})}},{key:"_parseTranscriptManifest",value:function _parseTranscriptManifest(manifest){DocumentManifest.validateSubManifest(manifest),(0,_lodashInvoke2.default)(this.callbacks,"onTranscript",manifest)}},{key:"_parseImageManifest",value:function _parseImageManifest(width,height,manifest){DocumentManifest.validateSubManifest(manifest),(0,_lodashInvoke2.default)(this.callbacks,"onImageResolution",manifest,{width:width,height:height})}}],[{key:"fetch",value:function fetch(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return new(_bind.apply(DocumentManifest,[null].concat(args)))}},{key:"download",value:function download(url,cb){var httpRequest=new XMLHttpRequest;httpRequest.onreadystatechange=function(){httpRequest.readyState===XMLHttpRequest.DONE&&200===httpRequest.status&&cb(JSON.parse(httpRequest.responseText))},httpRequest.open("GET",url,!0),httpRequest.send()}},{key:"validateManifestSchema",value:function validateManifestSchema(manifest){if(!manifest)throw new TypeError("validateManifestSchema: manifest expected to be truthy but was '"+manifest+"'");if("object"!=typeof manifest)throw new TypeError("validateManifestSchema: manifest expected to be object but was type "+typeof manifest)}},{key:"validateMasterManifestSchema",value:function validateMasterManifestSchema(manifest,validateTranscript){if(DocumentManifest.validateManifestSchema(manifest),validateTranscript&&!manifest.transcriptManifestUrl)throw new TypeError("validateMasterManifestSchema: manifest does not contain transcript URL (found '"+manifest.transcriptManifestUrl+"' instead)");if(!manifest.perResolutions)throw new TypeError("validateMasterManifestSchema: manifest does not contain perResolutions (found '"+manifest.perResolutions+"' instead)");if(!Array.isArray(manifest.perResolutions))throw new TypeError("validateMasterManifestSchema: expected perResolutions to be type Array but was type '"+typeof manifest.perResolutions+"' instead)")}},{key:"validateSubManifest",value:function validateSubManifest(manifest){if(DocumentManifest.validateManifestSchema(manifest),!manifest.pages)throw new TypeError("validateSubManifest: manifest does not contain pages (found '"+manifest.pages+"' instead)");if("object"!=typeof manifest.pages)throw new TypeError("validateSubManifest: manifest.pages expected to be object but was type "+typeof manifest.pages)}}]),DocumentManifest}();exports.default=DocumentManifest,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _classCallCheck=__webpack_require__(133).default,_createClass=__webpack_require__(128).default;Object.defineProperty(exports,"__esModule",{value:!0});var ManifestDimensions=function ManifestDimensions(width,height){_classCallCheck(this,ManifestDimensions),this.width=width,this.height=height},ImageManifestContainer=function(){function ImageManifestContainer(){var devicePixelRatio=arguments.length<=0||void 0===arguments[0]?1:arguments[0];_classCallCheck(this,ImageManifestContainer),this.devicePixelRatio=devicePixelRatio,this.imageManifests=[],this.optimalImageManifestIndex=-1}return _createClass(ImageManifestContainer,[{key:"reset",value:function reset(){this.imageManifests=[],this.optimalImageManifestIndex=-1}},{key:"registerImageManifest",value:function registerImageManifest(width,height){this.imageManifests.push({width:width,height:height}),this.imageManifests.sort(function(a,b){return a.width<b.width?-1:a.width>b.width?1:0})}},{key:"populateImageManifest",value:function populateImageManifest(manifest,width,height){var index=this._getManifestIndexByDimensions(new ManifestDimensions(width,height));this.imageManifests[index].manifest=manifest}},{key:"updateOptimalManifest",value:function updateOptimalManifest(rawReferenceWidth,rawReferenceHeight){if(0!==this.imageManifests.length){var normalizedReferenceWidth=this._normalizePixelLength(rawReferenceWidth),normalizedReferenceHeight=this._normalizePixelLength(rawReferenceHeight),_getOptimalWidthAndHeight2=this._getOptimalWidthAndHeight(normalizedReferenceWidth,normalizedReferenceHeight),optimalWidth=_getOptimalWidthAndHeight2.width,optimalHeight=_getOptimalWidthAndHeight2.height;this.optimalImageManifestIndex=normalizedReferenceWidth>normalizedReferenceHeight?this._getManifestIndexByDimensions({width:optimalWidth}):this._getManifestIndexByDimensions({height:optimalHeight})}}},{key:"isOptimalDimension",value:function isOptimalDimension(width,height){return this._getManifestIndexByDimensions(new ManifestDimensions(width,height))===this.optimalImageManifestIndex}},{key:"getOptimalImageManifest",value:function getOptimalImageManifest(){if(this.optimalImageManifestIndex<0)throw new ReferenceError("Optimal image manifest must be set before calling getOptimalImageManifest");return this.imageManifests[this.optimalImageManifestIndex].manifest}},{key:"getLowestResImageManifest",value:function getLowestResImageManifest(){return this.imageManifests[0]&&this.imageManifests[0].manifest}},{key:"_getManifestIndexByDimensions",value:function _getManifestIndexByDimensions(_ref){var width=_ref.width,height=_ref.height;if(void 0===width&&void 0===height)throw new TypeError("_getManifestIndexByDimensions must be called with either a width or a height (cannot be called with neither)");for(var i=0;i<this.imageManifests.length;i+=1){if(void 0===height&&this.imageManifests[i].width===width)return i;if(void 0===width&&this.imageManifests[i].height===height)return i;if(this.imageManifests[i].width===width&&this.imageManifests[i].height===height)return i}return-1}},{key:"_getOptimalWidthAndHeight",value:function _getOptimalWidthAndHeight(referenceWidth,referenceHeight){var optimalWidth=this.imageManifests[0].width,optimalHeight=this.imageManifests[0].height;return this.imageManifests.slice(1).forEach(function(_ref2){var width=_ref2.width,height=_ref2.height,newWidthDiff=Math.abs(width-referenceWidth),newHeightDiff=Math.abs(height-referenceHeight),oldWidthDiff=Math.abs(optimalWidth-referenceWidth),oldHeightDiff=Math.abs(optimalHeight-referenceHeight);newWidthDiff<oldWidthDiff&&(optimalWidth=width),newHeightDiff<oldHeightDiff&&(optimalHeight=height)}),new ManifestDimensions(optimalWidth,optimalHeight)}},{key:"_normalizePixelLength",value:function _normalizePixelLength(length){return length*this.devicePixelRatio}}]),ImageManifestContainer}();exports.default=ImageManifestContainer,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_coreEventListener,_coreEventListener2,VirusScanBehavior=function(_EventListener){function VirusScanBehavior(components){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,VirusScanBehavior),_get(Object.getPrototypeOf(VirusScanBehavior.prototype),"constructor",this).call(this),this.components=components,this.callbacks=options.callbacks}return _inherits(VirusScanBehavior,_EventListener),_createClass(VirusScanBehavior,[{key:"beforeInit",value:function beforeInit(){var events=[[this.components.virusScan,"requestVirusScanPoll",this.onRequestVirusScanPoll.bind(this)],[this.components.virusScan,"hide",this.onVirusScanHide.bind(this)],[this.components.player,"fullscreen",this.onFullscreen.bind(this)]];this.addEvents.apply(this,events)}},{key:"onRequestVirusScanPoll",value:function onRequestVirusScanPoll(){(0,_lodashInvoke2.default)(this.callbacks,"requestVirusScanStatus")}},{key:"onVirusScanPollResult",value:function onVirusScanPollResult(status){this.components.virusScan.updateWithPollResult(status)}},{key:"onVirusScanHide",value:function onVirusScanHide(){(0,_lodashInvoke2.default)(this.components,"topbar.setFocus")}},{key:"onFullscreen",value:function onFullscreen(isFullscreen){isFullscreen||this.components.virusScan.hide()}}]),VirusScanBehavior}(_interopRequireDefault(__webpack_require__(177)).default);exports.default=VirusScanBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_accessibleComponent,_accessibleComponent2,PresentationTopbarComponent=function(_AccessibleComponent){function PresentationTopbarComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PresentationTopbarComponent);var mergedOptions=(0,_lodashDefaultsdeep2.default)({},options,{accessibilityButtonText:"Accessibility mode",title:"",details:"",detailsFullscreen:"",divider:"•",classes:{titleContainer:"ssplayer-topbar-title-container",titleText:"ssplayer-topbar-title-text",detailsText:"ssplayer-topbar-details__preview",detailsFullScreenText:"ssplayer-topbar-details__full-screen",divider:"ssplayer-topbar-divider",cancelButton:"ssplayer-topbar-action-cancel",downloadButton:"ssplayer-topbar-action-download",accessibilityButton:"ssplayer-topbar-action-accessibility",accessibilityButtonPressed:"ssplayer-topbar-accessibility-pressed"}}),a11yControlMap={downloadButton:"."+mergedOptions.classes.downloadButton,cancelButton:"."+mergedOptions.classes.cancelButton};_get(Object.getPrototypeOf(PresentationTopbarComponent.prototype),"constructor",this).call(this,element,mergedOptions,a11yControlMap),_linkedinSlideshareClientUtils.events.mixin(this),this.options=mergedOptions,this.accessibilityButtonText=this.options.accessibilityButtonText,this.title=this.options.title,this.details=this.options.details,this.detailsFullScreen=this.options.detailsFullscreen||this.options.details,this.divider=this.options.divider}return _inherits(PresentationTopbarComponent,_AccessibleComponent),_createClass(PresentationTopbarComponent,[{key:"beforeInit",value:function beforeInit(){var _this=this;this.addEvents([this.element,"mouseover",this.onMouseover],[this.element,"mouseout",this.onMouseout],[this.downloadButtonElement,"click",function(){return _this.emit("download")}],[this.accessibilityButtonElement,"click",function(){return _this.emit("accessibility")}],[this.cancelButtonElement,"click",function(){return _this.emit("cancel")}])}},{key:"onMouseover",value:function onMouseover(){this.isMouseOver=!0,this.emit("onMouseOver")}},{key:"onMouseout",value:function onMouseout(){this.isMouseOver=!1,this.emit("onMouseOut")}},{key:"setAccessibilityButtonState",value:function setAccessibilityButtonState(pressed){var button;this.adaptedElement.find("."+this.options.classes.accessibilityButton).toggleClass(this.options.classes.accessibilityButtonPressed,pressed)}},{key:"setFocus",value:function setFocus(){this.accessibilityButtonElement?this.accessibilityButtonElement.focus():this.downloadButtonElement.focus()}},{key:"downloadButtonElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.downloadButton)}},{key:"accessibilityButtonElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.accessibilityButton)}},{key:"accessibilityButtonText",set:function set(text){this.accessibilityButtonElement.text(text)}},{key:"cancelButtonElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.cancelButton)}},{key:"titleElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.titleText)}},{key:"title",set:function set(titleText){this.titleElement.text(titleText)}},{key:"detailsElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.detailsText)}},{key:"details",set:function set(detailsText){this.detailsElement.text(detailsText)}},{key:"detailsFullScreenElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.detailsFullScreenText)}},{key:"detailsFullScreen",set:function set(detailsText){this.detailsFullScreenElement.text(detailsText)}},{key:"dividerElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.divider)}},{key:"divider",set:function set(dividerText){this.dividerElement.text(dividerText)}}]),PresentationTopbarComponent}(_interopRequireDefault(__webpack_require__(223)).default);exports.default=PresentationTopbarComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_accessibleComponent,_accessibleComponent2,PresentationBottombarComponent=function(_AccessibleComponent){function PresentationBottombarComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,PresentationBottombarComponent);var mergedOptions=(0,_lodashDefaultsdeep2.default)({},options,{title:"",subtitle:"",inbugUrl:"",titleUrl:"",classes:{titleText:"ssplayer-bottombar-title-text",subtitleText:"ssplayer-bottombar-subtitle-text"}}),a11yControlMap={};_get(Object.getPrototypeOf(PresentationBottombarComponent.prototype),"constructor",this).call(this,element,mergedOptions,a11yControlMap),_linkedinSlideshareClientUtils.events.mixin(this),this.options=mergedOptions,this.title=this.options.title,this.subtitle=this.options.subtitle}return _inherits(PresentationBottombarComponent,_AccessibleComponent),_createClass(PresentationBottombarComponent,[{key:"beforeInit",value:function beforeInit(){this.addEvents([this.element,"mouseover",this.onMouseover],[this.element,"mouseout",this.onMouseout])}},{key:"onMouseover",value:function onMouseover(){this.isMouseOver=!0,this.emit("onMouseOver")}},{key:"onMouseout",value:function onMouseout(){this.isMouseOver=!1,this.emit("onMouseOut")}},{key:"titleElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.titleText)}},{key:"subtitleElement",get:function get(){return this.adaptedElement.find("."+this.options.classes.subtitleText)}},{key:"title",set:function set(titleText){this.titleElement.text(titleText)}},{key:"subtitle",set:function set(subtitleText){this.subtitleElement.text(subtitleText)}}]),PresentationBottombarComponent}(_interopRequireDefault(__webpack_require__(223)).default);exports.default=PresentationBottombarComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlideshareClientUtils=__webpack_require__(148),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_accessibleComponent,_accessibleComponent2=_interopRequireDefault(__webpack_require__(223)),_helpersDetectBrowser=__webpack_require__(487),AccessibilityModeFrameComponent=function(_AccessibleComponent){function AccessibilityModeFrameComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,AccessibilityModeFrameComponent);var mergedOptions=(0,_lodashDefaultsdeep2.default)({},options,{classes:{accessibilityContainerHidden:"ssplayer-presentation-accessibility-mode__container--hidden",accessibilityEmbed:"ssplayer-presentation-accessibility-mode__embed"}}),a11yControlMap={embed:"."+mergedOptions.classes.accessibilityEmbed};_get(Object.getPrototypeOf(AccessibilityModeFrameComponent.prototype),"constructor",this).call(this,element,mergedOptions,a11yControlMap),_linkedinSlideshareClientUtils.events.mixin(this),this.options=mergedOptions}return _inherits(AccessibilityModeFrameComponent,_AccessibleComponent),_createClass(AccessibilityModeFrameComponent,[{key:"toggle",value:function toggle(shouldShow){shouldShow?this.show():this.hide()}},{key:"show",value:function show(){if(!this.documentUrl)throw new TypeError("Cannot enter accessibility mode without document URL");this.documentEmbed.attr(this.documentEmbedSourceAttr,this.documentUrl),this.adaptedElement.removeClass(this.options.classes.accessibilityContainerHidden),this.isActive=!0,this.emit("show")}},{key:"hide",value:function hide(){this.adaptedElement.addClass(this.options.classes.accessibilityContainerHidden),this.isActive=!1,this.emit("hide")}},{key:"_createDocumentEmbedEl",value:function _createDocumentEmbedEl(){var embed=void 0;return(0,_helpersDetectBrowser.isIE11)()||(0,_helpersDetectBrowser.isMSEdge)()?embed=document.createElement("iframe"):(embed=document.createElement("object")).setAttribute("type","application/pdf"),embed.classList.add(this.options.classes.accessibilityEmbed),this.element.appendChild(embed)}},{key:"documentUrl",get:function get(){return this._safeUrl||""},set:function set(unsafeUrl){this._safeUrl=_linkedinJsecure2.default.sanitizeUrl(unsafeUrl)}},{key:"documentEmbedSourceAttr",get:function get(){return"IFRAME"===this.documentEmbed.prop("tagName")?"src":"data"}},{key:"documentEmbed",get:function get(){return this._documentEmbed||(this._documentEmbed=this.adapter.adapt(this._createDocumentEmbedEl())),this._documentEmbed}}]),AccessibilityModeFrameComponent}(_accessibleComponent2.default);exports.default=AccessibilityModeFrameComponent,module.exports=exports.default},function(module,exports){"use strict";function isMSEdge(){return window.navigator.userAgent.indexOf("Edge")>-1}function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMSEdge=isMSEdge,exports.isIE11=isIE11},function(module,exports,__webpack_require__){"use strict";var _defineProperty=__webpack_require__(188).default,_get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default,_ALLOWED_STATE_TRANSITIONS;Object.defineProperty(exports,"__esModule",{value:!0});var _linkedinSlideshareClientUtils=__webpack_require__(148),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashValues,_lodashValues2=_interopRequireDefault(__webpack_require__(489)),_lodashIncludes,_lodashIncludes2=_interopRequireDefault(__webpack_require__(224)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),VIRUS_SCAN_STATUSES={CLEAN:"CLEAN",DIRTY:"DIRTY",SCANNING:"SCANNING",ERROR:"ERROR"};exports.VIRUS_SCAN_STATUSES=VIRUS_SCAN_STATUSES;var STATES={NOT_STARTED:"notstarted",STARTED:"started",CLEAN:"clean",TIMED_OUT:"timedout",DIRTY:"dirty",REDIRECT:"redirect"};exports.STATES=STATES;var ALLOWED_STATE_TRANSITIONS=(_defineProperty(_ALLOWED_STATE_TRANSITIONS={undefined:[STATES.NOT_STARTED,STATES.CLEAN,STATES.REDIRECT]},STATES.NOT_STARTED,[STATES.STARTED]),_defineProperty(_ALLOWED_STATE_TRANSITIONS,STATES.STARTED,[STATES.CLEAN,STATES.TIMED_OUT,STATES.DIRTY]),_defineProperty(_ALLOWED_STATE_TRANSITIONS,STATES.CLEAN,[]),_defineProperty(_ALLOWED_STATE_TRANSITIONS,STATES.TIMED_OUT,[]),_defineProperty(_ALLOWED_STATE_TRANSITIONS,STATES.DIRTY,[]),_ALLOWED_STATE_TRANSITIONS),VirusScanComponent=function(_UIComponent){function VirusScanComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,VirusScanComponent),_get(Object.getPrototypeOf(VirusScanComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{timeoutInSeconds:30,pollIntervalInSeconds:2,bypassScan:!1,titleText:"",cancelButtonText:"Cancel",skipButtonText:"Skip",downloadButtonText:"Download",forceProceedButtonText:"Proceed anyways",progressDescriptionText:"Scanning for viruses...",cleanProgressDescriptionText:"Ready to download",timeoutTitle:"Can't scan this document for viruses",dirtyTitle:"This document is not safe",timeoutSubtitle:"We were unable to scan this document for viruses. Would you still like to proceed?",dirtySubtitle:"We detected a virus in this document that could harm your device.",redirect:!1,redirectAccessibilityTitle:"Visit original post to get accessibility mode",redirectDownloadTitle:"Visit original post to download",redirectUrl:"https://www.linkedin.com"}),this.cancelButtonEl=this.adaptedElement.find(".ssplayer-virus-scan-container__cancel-button"),this.skipButtonEl=this.adaptedElement.find(".ssplayer-virus-scan-container__skip-button"),this.downloadButtonEl=this.adaptedElement.find(".ssplayer-virus-scan-container__download-button"),this.forceProceedButtonEl=this.adaptedElement.find(".ssplayer-virus-scan-container__force-proceed-button"),this.progressContainerEl=this.adaptedElement.find(".ssplayer-virus-scan-container__progress-container"),this.progressLoadingIconEl=this.adaptedElement.find(".ssplayer-loading-icon"),this.progressLoadedIconEl=this.adaptedElement.find(".ssplayer-loaded-icon"),this.progressDescriptionEl=this.adaptedElement.find(".ssplayer-virus-scan-container__progress-description"),this.bottomActionsContainerEl=this.adaptedElement.find(".ssplayer-virus-scan-container__footer"),this.titleEl=this.adaptedElement.find(".ssplayer-virus-scan-container__title"),this.subtitleEl=this.adaptedElement.find(".ssplayer-virus-scan-container__subtitle"),this.redirectEl=this.adaptedElement.find(".ssplayer-virus-scan-container__redirect"),this.redirectAnchorEl=this.adaptedElement.find(".ssplayer-virus-scan-container__redirect-anchor"),this._showInitialUI(),this.options.redirect?this.currentState=STATES.REDIRECT:this.options.bypassScan?this.currentState=STATES.CLEAN:this.currentState=STATES.NOT_STARTED}return _inherits(VirusScanComponent,_UIComponent),_createClass(VirusScanComponent,[{key:"beforeInit",value:function beforeInit(){var _this=this;this.addEvents.apply(this,[[this.cancelButtonEl,"click",function(){return _this.onCancel()}],[this.skipButtonEl,"click",function(){return _this.onBypassScan()}],[this.forceProceedButtonEl,"click",function(){return _this.onBypassScan()}],[this.downloadButtonEl,"click",function(){return _this.hide()}]])}},{key:"show",value:function show(){this.adaptedElement.addClass("active"),this.cancelButtonEl.focus(),this.isVisible=!0}},{key:"hide",value:function hide(){this.adaptedElement.removeClass("active"),this.isVisible=!1,this.emit("hide")}},{key:"onCancel",value:function onCancel(){this.onSuccessCallback=null,this.hide()}},{key:"onBypassScan",value:function onBypassScan(){if(this.currentState!==STATES.STARTED&&this.currentState!==STATES.TIMED_OUT)throw new TypeError("Cannot skip download from state '"+this.currentState+"'");this.hide(),this.onSuccessCallback(),this.onSuccessCallback=null}},{key:"execute",value:function execute(onSuccessCallback){var promptDownloadOnSuccess=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],uponDownload=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.currentState!==STATES.CLEAN||promptDownloadOnSuccess?(this._updateUIUponDownload(uponDownload),this.show(),this.onSuccessCallback=onSuccessCallback,this.promptDownloadOnSuccess=promptDownloadOnSuccess,this.currentState===STATES.NOT_STARTED&&this._startPolling()):onSuccessCallback()}},{key:"updateWithPollResult",value:function updateWithPollResult(status){var _this2=this;if(this.currentState!==STATES.TIMED_OUT){if(void 0===VIRUS_SCAN_STATUSES[status])throw new TypeError("Virus scan status '"+status+"' is not a valid status!");status===VIRUS_SCAN_STATUSES.SCANNING&&this.currentState===STATES.STARTED?setTimeout(function(){return _this2.emit("requestVirusScanPoll")},1e3*this.options.pollIntervalInSeconds):status===VIRUS_SCAN_STATUSES.CLEAN?this.currentState=STATES.CLEAN:status===VIRUS_SCAN_STATUSES.DIRTY?this.currentState=STATES.DIRTY:status===VIRUS_SCAN_STATUSES.ERROR&&(this.currentState=STATES.TIMED_OUT)}}},{key:"_startPolling",value:function _startPolling(){var _this3=this;this.currentState=STATES.STARTED,this.emit("requestVirusScanPoll"),setTimeout(function(){return _this3._timeoutPolling()},1e3*this.options.timeoutInSeconds)}},{key:"_timeoutPolling",value:function _timeoutPolling(){this&&this.currentState===STATES.STARTED&&(this.currentState=STATES.TIMED_OUT)}},{key:"_showInitialUI",value:function _showInitialUI(){VirusScanComponent.toggleControlVisibility(this.progressLoadingIconEl,!0),VirusScanComponent.toggleControlVisibility(this.subtitleEl,!1),VirusScanComponent.toggleControlVisibility(this.forceProceedButtonEl,!1),VirusScanComponent.toggleControlVisibility(this.downloadButtonEl,!1),VirusScanComponent.toggleControlVisibility(this.progressLoadedIconEl,!1),VirusScanComponent.toggleControlVisibility(this.redirectEl,!1),this.titleEl.text(this.options.titleText),this.progressDescriptionEl.text(this.options.progressDescriptionText),this.cancelButtonEl.text(this.options.cancelButtonText),this.skipButtonEl.text(this.options.skipButtonText),this.downloadButtonEl.text(this.options.downloadButtonText),this.forceProceedButtonEl.text(this.options.forceProceedButtonText)}},{key:"_showTimeoutUI",value:function _showTimeoutUI(){VirusScanComponent.toggleControlVisibility(this.progressContainerEl,!1),VirusScanComponent.toggleControlVisibility(this.skipButtonEl,!1),VirusScanComponent.toggleControlVisibility(this.subtitleEl,!0),VirusScanComponent.toggleControlVisibility(this.forceProceedButtonEl,!0),this.titleEl.text(this.options.timeoutTitle),this.subtitleEl.text(this.options.timeoutSubtitle)}},{key:"_showDirtyUI",value:function _showDirtyUI(){VirusScanComponent.toggleControlVisibility(this.progressContainerEl,!1),VirusScanComponent.toggleControlVisibility(this.skipButtonEl,!1),VirusScanComponent.toggleControlVisibility(this.subtitleEl,!0),VirusScanComponent.toggleControlVisibility(this.cancelButtonEl,!0),this.titleEl.text(this.options.dirtyTitle),this.subtitleEl.text(this.options.dirtySubtitle)}},{key:"_showCleanUI",value:function _showCleanUI(){VirusScanComponent.toggleControlVisibility(this.downloadButtonEl,!0),VirusScanComponent.toggleControlVisibility(this.skipButtonEl,!1),VirusScanComponent.toggleControlVisibility(this.progressLoadingIconEl,!1),VirusScanComponent.toggleControlVisibility(this.progressLoadedIconEl,!0),this.progressDescriptionEl.addClass("ssplayer-virus-scan-container__progress-description--clean"),this.progressDescriptionEl.text(this.options.cleanProgressDescriptionText)}},{key:"_showRedirectUI",value:function _showRedirectUI(){VirusScanComponent.toggleControlVisibility(this.progressContainerEl,!1),VirusScanComponent.toggleControlVisibility(this.bottomActionsContainerEl,!1),VirusScanComponent.toggleControlVisibility(this.titleEl,!1),VirusScanComponent.toggleControlVisibility(this.subtitleEl,!1),VirusScanComponent.toggleControlVisibility(this.redirectEl,!0),this.redirectAnchorEl.attr("href",this.options.redirectUrl),this.redirectAnchorEl.text(this.options.redirectDownloadTitle)}},{key:"_updateUIUponDownload",value:function _updateUIUponDownload(uponDownload){if(this.adaptedElement.toggleClass("ssplayer-virus-scan-container--accessibility",!uponDownload),this.currentState===STATES.REDIRECT){var title=uponDownload?this.options.redirectDownloadTitle:this.options.redirectAccessibilityTitle;this.redirectAnchorEl.text(title)}}},{key:"currentState",set:function set(newState){if(!(0,_lodashIncludes2.default)((0,_lodashValues2.default)(STATES),newState))throw new TypeError("State "+newState+" not a valid state!");if(!VirusScanComponent.isValidStateTransition(this.currentState,newState))throw new TypeError("State transition '"+this.currentState+"' -> '"+newState+"' is not valid!");this._currentState=newState,newState===STATES.CLEAN?(this._showCleanUI(),this.promptDownloadOnSuccess||this.hide(),this.onSuccessCallback&&this.onSuccessCallback()):newState===STATES.TIMED_OUT?this._showTimeoutUI():newState===STATES.DIRTY?this._showDirtyUI():newState===STATES.REDIRECT&&this._showRedirectUI()},get:function get(){return this._currentState}},{key:"promptDownloadOnSuccess",set:function set(shouldPrompt){this._promptDownloadOnSuccess=shouldPrompt,shouldPrompt?(this.forceProceedButtonEl.attr("href",this._safeUrl),this.skipButtonEl.attr("href",this._safeUrl)):(this.forceProceedButtonEl.removeAttr("href"),this.skipButtonEl.removeAttr("href"))},get:function get(){return this._promptDownloadOnSuccess}},{key:"downloadUrl",set:function set(unsafeUrl){var safeUrl=_linkedinJsecure2.default.sanitizeUrl(unsafeUrl);this.downloadButtonEl.attr("href",safeUrl),this._safeUrl=safeUrl}}],[{key:"toggleControlVisibility",value:function toggleControlVisibility(control,visible){control.toggleClass("ssplayer-virus-scan-container-control--hidden",!visible)}},{key:"isValidStateTransition",value:function isValidStateTransition(oldState,newState){var allowedStatesToEnterFromOldState=ALLOWED_STATE_TRANSITIONS[oldState];return(0,_lodashIncludes2.default)(allowedStatesToEnterFromOldState,newState)}}]),VirusScanComponent}(_ui2.default);exports.default=VirusScanComponent},function(module,exports,__webpack_require__){var keys=__webpack_require__(4);function values(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}module.exports=values},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=initDocument;var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_behaviorsDocument,_behaviorsDocument2=_interopRequireDefault(__webpack_require__(491)),_componentsDocumentPlayer,_componentsDocumentPlayer2=_interopRequireDefault(__webpack_require__(493)),_componentsScroll,_componentsScroll2=_interopRequireDefault(__webpack_require__(494)),_componentsToc,_componentsToc2=_interopRequireDefault(__webpack_require__(499)),_componentsDiscreteProgress,_componentsDiscreteProgress2=_interopRequireDefault(__webpack_require__(220)),_componentsPagination,_componentsPagination2=_interopRequireDefault(__webpack_require__(237)),_componentsToolbar,_componentsToolbar2=_interopRequireDefault(__webpack_require__(251)),_componentsFullscreenTarget,_componentsFullscreenTarget2=_interopRequireDefault(__webpack_require__(255)),_componentsKeyboard,_componentsKeyboard2=_interopRequireDefault(__webpack_require__(234)),_helpersA11yHelper=__webpack_require__(187),_helpersTryCreate,_helpersTryCreate2=_interopRequireDefault(__webpack_require__(500)),_behaviorsDocumentManifestBehavior,_behaviorsDocumentManifestBehavior2=_interopRequireDefault(__webpack_require__(501)),_behaviorsDocumentUserActivity,_behaviorsDocumentUserActivity2=_interopRequireDefault(__webpack_require__(502));function initDocument(options){var playerStateManager=new _helpersA11yHelper.PlayerStateManager,positionOptions=options.positionOptions||{},playerComponent=(0,_helpersTryCreate2.default)(_componentsDocumentPlayer2.default,options.presentationElement),fullscreenTarget=(0,_helpersTryCreate2.default)(_componentsFullscreenTarget2.default,options.presentationElement,{},void 0,playerStateManager),scroll=(0,_helpersTryCreate2.default)(_componentsScroll2.default,options.scrollElement,options.scrollOptions);options.tocOptions.aspectRatio||(options.tocOptions.aspectRatio=options.scrollOptions.aspectRatio);var toc=(0,_helpersTryCreate2.default)(_componentsToc2.default,options.tocElement,options.tocOptions),pagination=(0,_helpersTryCreate2.default)(_componentsPagination2.default,options.paginationElement,options.positionOptions),progress=(0,_helpersTryCreate2.default)(_componentsDiscreteProgress2.default,options.progressElement,options.positionOptions),toolbar=(0,_helpersTryCreate2.default)(_componentsToolbar2.default,options.toolbarElement,(0,_lodashAssign2.default)({checkFullscreenAPI:!0},options.toolbarOptions),void 0,void 0,void 0,options.toolbarA11yOptions&&options.toolbarA11yOptions.a11y),keyboard=_componentsKeyboard2.default.create(window.document,{shouldPreventScroll:!1}),documentPlayer;return _behaviorsDocumentManifestBehavior2.default.create({toc:toc,scroll:scroll,fullscreenTarget:fullscreenTarget},options.manifestOptions,options.textOverlayOptions),_behaviorsDocumentUserActivity2.default.create({player:playerComponent,fullscreenTarget:fullscreenTarget,toolbar:toolbar,scroll:scroll,toc:toc,keyboard:keyboard}),_behaviorsDocument2.default.create({behaviorOptions:options.documentBehaviorOptions,positionOptions:positionOptions,fullscreenTarget:fullscreenTarget,toc:toc,scroll:scroll,pagination:pagination,progress:progress,toolbar:toolbar,keyboard:keyboard})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersAssertDefined,_helpersAssertDefined2=_interopRequireDefault(__webpack_require__(492)),_helpersToNumber,_helpersToNumber2=_interopRequireDefault(__webpack_require__(238)),DEFAULT_ZOOM=1,DocumentBehavior=function(_EventListener){function DocumentBehavior(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],behaviorOptions=_ref.behaviorOptions,positionOptions=_ref.positionOptions,fullscreenTarget=_ref.fullscreenTarget,toc=_ref.toc,scroll=_ref.scroll,pagination=_ref.pagination,progress=_ref.progress,toolbar=_ref.toolbar,keyboard=_ref.keyboard;_classCallCheck(this,DocumentBehavior),_get(Object.getPrototypeOf(DocumentBehavior.prototype),"constructor",this).call(this),(0,_helpersAssertDefined2.default)(positionOptions,"Document behavior expects to be passed position options"),(0,_helpersAssertDefined2.default)(positionOptions.position,"Document behavior expects positionOptions to have a position property"),(0,_helpersAssertDefined2.default)(positionOptions.length,"Document behavior expects positionOptions to have a length property"),this.options=behaviorOptions,this.position=(0,_helpersToNumber2.default)(positionOptions.position,0),this.maxPosition=positionOptions.length-1,this.zoomScale=DEFAULT_ZOOM,this.fullscreenTarget=fullscreenTarget,this.toc=toc,this.scroll=scroll,this.pagination=pagination,this.progress=progress,this.toolbar=toolbar,this.keyboard=keyboard}return _inherits(DocumentBehavior,_EventListener),_createClass(DocumentBehavior,[{key:"beforeInit",value:function beforeInit(){var events=[[this.scroll,"onScrolledToPosition",this._updatePositionFromScroll],[this.scroll,"onViewedPosition",this._updateViewedStatus],[this.toc,"onTocPositionChange",this._updatePosition],[this.toc,"onTocToggled",this._updateToolbarStyle],[this.progress,"positionClick",this._updatePosition],[this.progress,"positionDrag",this._updatePosition],[this.toolbar,"enterFullscreen",this._requestEnterFullscreen],[this.toolbar,"exitFullscreen",this._requestExitFullscreen],[this.toolbar,"next",this._goToNextSlide],[this.toolbar,"previous",this._goToPreviousSlide],[this.toolbar,"zoom",this._updateZoom],[this.toolbar,"hcmToggle",this._updateHighContrastMode],[this.keyboard,"altRightArrow",this._onRightKeyPress],[this.keyboard,"altLeftArrow",this._onLeftKeyPress],[this.fullscreenTarget,"changeFullscreen",this._handleFullscreenChanged]].filter(function(_ref2){var _ref22,target;return _slicedToArray(_ref2,1)[0]});this.addEvents.apply(this,_toConsumableArray(events))}},{key:"_updateZoom",value:function _updateZoom(zoomScale){(0,_lodashInvoke2.default)(this.scroll,"zoom",zoomScale),this._handleZoomChange(zoomScale)}},{key:"_updateHighContrastMode",value:function _updateHighContrastMode(isHcmOn){(0,_lodashInvoke2.default)(this.scroll,"hcmToggle",isHcmOn)}},{key:"_updatePosition",value:function _updatePosition(position){this.position=(0,_helpersToNumber2.default)(position),(0,_lodashInvoke2.default)(this.scroll,"changePosition",this.position),(0,_lodashInvoke2.default)(this.pagination,"changePosition",this.position),(0,_lodashInvoke2.default)(this.progress,"changePosition",this.position,!0),(0,_lodashInvoke2.default)(this.toc,"changePosition",this.position)}},{key:"_updateToolbarStyle",value:function _updateToolbarStyle(){(0,_lodashInvoke2.default)(this.scroll,"onResize"),(0,_lodashInvoke2.default)(this.toolbar,"toggleTocToolbarStyle")}},{key:"_updatePositionFromScroll",value:function _updatePositionFromScroll(position){this.position=(0,_helpersToNumber2.default)(position),(0,_lodashInvoke2.default)(this.pagination,"changePosition",this.position),(0,_lodashInvoke2.default)(this.progress,"changePosition",this.position,!0),(0,_lodashInvoke2.default)(this.toc,"changePosition",this.position)}},{key:"_updateViewedStatus",value:function _updateViewedStatus(position){(0,_lodashInvoke2.default)(this.toc,"setViewedStatus",position)}},{key:"_onLeftKeyPress",value:function _onLeftKeyPress(){this.isZoomedIn||this._goToPreviousSlide()}},{key:"_onRightKeyPress",value:function _onRightKeyPress(){this.isZoomedIn||this._goToNextSlide()}},{key:"_goToNextSlide",value:function _goToNextSlide(){this.position!==this.maxPosition&&this._updatePosition(this.position+1)}},{key:"_goToPreviousSlide",value:function _goToPreviousSlide(){0!==this.position&&this._updatePosition(this.position-1)}},{key:"_requestEnterFullscreen",value:function _requestEnterFullscreen(){void 0!==this.fullscreenTarget&&(this.fullscreenTarget.fullscreen=!0)}},{key:"_requestExitFullscreen",value:function _requestExitFullscreen(){void 0!==this.fullscreenTarget&&(this.fullscreenTarget.fullscreen=!1)}},{key:"_handleFullscreenChanged",value:function _handleFullscreenChanged(isFullscreen){(0,_lodashInvoke2.default)(this,"options.callbacks.onFullscreen",isFullscreen)}},{key:"_handleZoomChange",value:function _handleZoomChange(zoomScale){this.zoomScale=zoomScale}},{key:"isZoomedIn",get:function get(){return this.zoomScale>DEFAULT_ZOOM}}]),DocumentBehavior}(_coreEventListener2.default);exports.default=DocumentBehavior,module.exports=exports.default},function(module,exports){"use strict";function assertDefined(arg,message){if(void 0===arg)throw new TypeError(message)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=assertDefined,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashThrottle,_lodashThrottle2=_interopRequireDefault(__webpack_require__(240)),_linkedinSlideshareClientUtils=__webpack_require__(148),_ui,_ui2=_interopRequireDefault(__webpack_require__(135)),MOUSE_MOVE_THROTTLE_MS=300,DocumentPlayerComponent=function(_UIComponent){function DocumentPlayerComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],document=arguments.length<=2||void 0===arguments[2]?element.ownerDocument:arguments[2];return function(){_classCallCheck(this,DocumentPlayerComponent),_get(Object.getPrototypeOf(DocumentPlayerComponent.prototype),"constructor",this).call(this,element),_linkedinSlideshareClientUtils.events.mixin(this),this.options=(0,_lodashDefaultsdeep2.default)({},options,{classes:{initialized:"player-initialized",idle:"ssplayer-idle",isZoomed:"ssplayer-is-zoomed"}}),this.document=document,this.isMouseover=!1}.apply(this,arguments)}return _inherits(DocumentPlayerComponent,_UIComponent),_createClass(DocumentPlayerComponent,[{key:"beforeInit",value:function beforeInit(){var eventsToAdd=[];eventsToAdd.push([this.element,"mouseenter",this.onMouseEnter],[this.element,"mousemove",(0,_lodashThrottle2.default)(this.onMouseMove,300)],[this.element,"mouseleave",this.onMouseLeave]),this.addEvents.apply(this,eventsToAdd),this.adapter.addClass(this.adaptedElement,this.options.classes.initialized)}},{key:"onMouseEnter",value:function onMouseEnter(){this.isMouseover=!0,this.emit("mouseEnter")}},{key:"onMouseMove",value:function onMouseMove(){this.emit("mouseMove")}},{key:"onMouseLeave",value:function onMouseLeave(){this.isMouseover=!1,this.emit("mouseLeave")}},{key:"toggleToolbar",value:function toggleToolbar(showToolbar){this.adapter.toggleClass(this.adaptedElement,this.options.classes.idle,!showToolbar)}},{key:"setIsZoomed",value:function setIsZoomed(isZoomed){this.adaptedElement.toggleClass(this.options.classes.isZoomed,isZoomed)}},{key:"idle",set:function set(isIdle){this.toggleToolbar(!isIdle)}}]),DocumentPlayerComponent}(_ui2.default);exports.default=DocumentPlayerComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_toConsumableArray=__webpack_require__(146).default,_slicedToArray=__webpack_require__(138).default,_Object$freeze=__webpack_require__(197).default,_Array$from=__webpack_require__(31).default,_Object$keys=__webpack_require__(190).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_screenfull,_screenfull2=_interopRequireDefault(__webpack_require__(205)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_helpersAssertDefined,_helpersAssertDefined2=_interopRequireDefault(__webpack_require__(492)),_helpersToNumber,_helpersToNumber2=_interopRequireDefault(__webpack_require__(238)),_helpersSlidesResetSlide,_helpersSlidesResetSlide2=_interopRequireDefault(__webpack_require__(219)),_helpersSlidesCreateSlideImage,_helpersSlidesCreateSlideImage2=_interopRequireDefault(__webpack_require__(495)),_track,_track2=_interopRequireDefault(__webpack_require__(496)),DEFAULT_VIEW_DEBOUNCE_TIME=200,SUPPORTED_SLIDE_TYPES=_Object$freeze({image:"image"}),VISIBLE_PAGE_BUFFER=3,ScrollComponent=function(_TrackComponent){function ScrollComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],window=arguments.length<=2||void 0===arguments[2]?element.ownerDocument.defaultView:arguments[2];return function(){_classCallCheck(this,ScrollComponent),_get(Object.getPrototypeOf(ScrollComponent.prototype),"constructor",this).call(this,element,options,window),this.options=(0,_lodashDefaultsdeep2.default)(this.options,{constrainHeight:!1,heightOffset:0,viewingStatusDebounceTime:DEFAULT_VIEW_DEBOUNCE_TIME,a11ySlideAltTextLabel:"Page:",classes:{initialized:"ssplayer-scroll-initialized",isFullWidth:"ssplayer-scroll-is-full-width",highContrastActive:"ssplayer-hcm-active"}}),(0,_helpersAssertDefined2.default)(this.options.aspectRatio,"Scroll Component expects an aspectRatio in options"),this.viewingStatusDebounceTime=this.options.viewingStatusDebounceTime,this.aspectRatio=this.options.aspectRatio,this.heightOffset=this.options.heightOffset,this.requestedSlideIndices={},this.zoomScale=1}.apply(this,arguments)}return _inherits(ScrollComponent,_TrackComponent),_createClass(ScrollComponent,[{key:"beforeInit",value:function beforeInit(){this.trackWithSections=!0,_get(Object.getPrototypeOf(ScrollComponent.prototype),"beforeInit",this).call(this);var slideClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.slide);this.debounceOnViewed=(0,_lodashDebounce2.default)(this._markPagesAsViewed,this.viewingStatusDebounceTime),this.$slides=this.adapter.findAll(this.$track,"."+slideClass),this._setupEvents(this.$slides),this.applySlideConfigs(this.options.initialSlideConfigs),this._setDimensions(),this.changePosition(this.position,!0);var initializedClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.initialized);this.adapter.addClass(this.adaptedElement,initializedClass),this.onScroll()}},{key:"_setupEvents",value:function _setupEvents($slides){var slides=this.adapter.restore($slides);this.addEvents.apply(this,[[this.window,"focus",this._restoreActiveSlideFocus.bind(this)]].concat(_toConsumableArray(slides.map(function(el){return[el,"dragstart",function(event){return event.preventDefault()}]}))))}},{key:"onScroll",value:function onScroll(){var previousViewPositions=this.viewPositions.slice();_get(Object.getPrototypeOf(ScrollComponent.prototype),"onScroll",this).call(this),this._loadOffsetsForIndex(this.position),previousViewPositions[0]===this.viewPositions[0]&&previousViewPositions[1]===this.viewPositions[1]||this._onPagesViewed(previousViewPositions)}},{key:"_onPagesViewed",value:function _onPagesViewed(_ref){var _ref2=_slicedToArray(_ref,2),prevStartPosition=_ref2[0],prevEndPosition=_ref2[1],_viewPositions=_slicedToArray(this.viewPositions,2),startPosition=_viewPositions[0],endPosition=_viewPositions[1];startPosition!==this.position&&(this._onPageActive(startPosition),this.emit("onScrolledToPosition",startPosition));var newViewPositions=[startPosition,endPosition];if(startPosition<=prevEndPosition&&startPosition>=prevStartPosition&&(newViewPositions[0]=prevEndPosition+1),endPosition>=prevStartPosition&&endPosition<=prevEndPosition&&(newViewPositions[1]=prevStartPosition-1),newViewPositions[1]-newViewPositions[0]>=0){var newViewedRange=_Array$from(Array(newViewPositions[1]-newViewPositions[0]+1),function(e,i){return i+newViewPositions[0]});this.debounceOnViewed(newViewedRange)}}},{key:"_onPageActive",value:function _onPageActive(index){this.position=index,(0,_lodashInvoke2.default)(this,"options.callbacks.onSlideActive",{index:index})}},{key:"_markPagesAsViewed",value:function _markPagesAsViewed(positions){for(var i=0,len=positions.length;i<len;i+=1)(0,_lodashInvoke2.default)(this,"options.callbacks.onSlideViewed",{index:positions[i]}),this.emit("onViewedPosition",positions[i])}},{key:"onResize",value:function onResize(){_get(Object.getPrototypeOf(ScrollComponent.prototype),"onResize",this).call(this),this._setDimensions(),this.changePosition(this.position,!0),this.onScroll()}},{key:"_setDimensions",value:function _setDimensions(){var containerWidth=this.adapter.getWidth(this.adaptedElement),slideWidth=containerWidth*this.zoomScale,slideHeight=slideWidth/this.aspectRatio,isFullWidthClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.isFullWidth);if(_screenfull2.default.element===this.element||this.options.constrainHeight){var heightOffset=_screenfull2.default.element===this.element.parentElement?0:this.heightOffset,elementHeight=this.adapter.getHeight(this.adaptedElement)-heightOffset;slideHeight>elementHeight&&this.adapter.getHeight(this.adaptedElement)>0&&(slideWidth=(slideHeight=elementHeight*this.zoomScale)*this.aspectRatio)}slideWidth=Math.ceil(slideWidth),slideHeight=Math.floor(slideHeight),slideWidth===containerWidth?this.element.classList.add(isFullWidthClass):this.element.classList.remove(isFullWidthClass),this.adapter.setWidth(this.$slides,slideWidth),this.adapter.setHeight(this.$slides,slideHeight),this.slideWidth=slideWidth,this.slideHeight=slideHeight}},{key:"applySlideConfigs",value:function applySlideConfigs(configs){var _this=this;_Object$keys(configs).forEach(function(index){_this.applySlideConfigForType(index,configs[index].type,configs[index].config)})}},{key:"applySlideConfigForType",value:function applySlideConfigForType(index,type,config){switch(type){case SUPPORTED_SLIDE_TYPES.image:this.applyImageSlideConfig(index,config);break;default:throw new Error("Cannot generate slide node for type: "+type)}}},{key:"_validateImageSlideConfig",value:function _validateImageSlideConfig(index,config){if(!this._isValidIndex(index))throw new RangeError("Attempting to apply a config to out of range index: "+index);if("string"!=typeof config.src)throw new TypeError("No src string in slide config at index: "+index)}},{key:"applyImageSlideConfig",value:function applyImageSlideConfig(index,config){this._validateImageSlideConfig(index,config);var slideClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.slide),indexAttribute=_linkedinJsecure2.default.htmlEncode(this.options.attrs.index),shouldRenderPage=this.shouldRenderPage(index),$slide=this._getSlideElement(index);shouldRenderPage||(0,_helpersSlidesResetSlide2.default)({slide:this.adapter.restore($slide)[0],slideClass:slideClass,indexAttribute:indexAttribute,index:index,clearAttrs:_Object$keys(this.options.attrs)});var lazyImageClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.lazyImage),dataSrc=_linkedinJsecure2.default.sanitizeUrl(config.src),a11ySlideAltTextLabel=this.options.a11ySlideAltTextLabel,image=(0,_helpersSlidesCreateSlideImage2.default)({dataSrc:dataSrc,lazyImageClass:lazyImageClass,a11ySlideAltTextLabel:a11ySlideAltTextLabel,index:index}),slide=this.adapter.restore($slide)[0],isRerender=slide.children.length,shouldSwapInPlace=shouldRenderPage&&isRerender;shouldSwapInPlace?slide.children[0].setAttribute("data-src",dataSrc):slide.appendChild(image);var slideAttrType=_linkedinJsecure2.default.htmlEncode(this.options.attrs.type);slide.setAttribute(slideAttrType,SUPPORTED_SLIDE_TYPES.image),(0,_lodashInvoke2.default)(this,"options.callbacks.onSlideConfigApplied",{slide:slide,index:(0,_helpersToNumber2.default)(index)});var previouslyRequested=this.requestedSlideIndices[index];if(previouslyRequested&&delete this.requestedSlideIndices[index],previouslyRequested||shouldRenderPage){var inPlaceImage=void 0;shouldSwapInPlace&&(inPlaceImage=image),this._loadImageSlide($slide,index,inPlaceImage)}}},{key:"shouldRenderPage",value:function shouldRenderPage(index){return index<=this.viewPositions[1]+3&&index>=this.viewPositions[0]-3}},{key:"changePosition",value:function changePosition(position){var forceUpdate=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],newPos=Math.max(0,Math.min(position||0,this.numPages-1)),$slide,scrollElement;(newPos!==this.position||forceUpdate)&&(this._getSlideElement(newPos)[0].focus(),this.adapter.restore(this.adaptedElement)[0].scrollTop=this.$slides[newPos].offsetTop,this._onPageActive(newPos))}},{key:"zoom",value:function zoom(zoomScale){this.zoomScale=zoomScale,this.onResize()}},{key:"hcmToggle",value:function hcmToggle(isHcmOn){var highContrastActiveClass=this.options.classes.highContrastActive;this.element.classList.toggle(highContrastActiveClass,isHcmOn)}},{key:"_isValidIndex",value:function _isValidIndex(index){return index>=0&&index<this.numPages}},{key:"_loadOffsetsForIndex",value:function _loadOffsetsForIndex(index){var _this2=this,numViewed=this.viewPositions[1]-this.viewPositions[0],offsets;(numViewed>=0?_Array$from(Array(numViewed+1+6),function(e,i){return i+_this2.viewPositions[0]-3}):[index]).filter(function(position){return _this2._isValidIndex(position)}).forEach(function(position){return _this2._tryLoadIndex(position)})}},{key:"_tryLoadIndex",value:function _tryLoadIndex(index){var $slide=this._getSlideElement(index),_options$classes=this.options.classes,slideLoading=_options$classes.slideLoading,slideLoaded=_options$classes.slideLoaded;this.adapter.hasClass($slide,slideLoading)||this.adapter.hasClass($slide,slideLoaded)||this._loadSlideAtIndex($slide,index)}},{key:"_loadSlideAtIndex",value:function _loadSlideAtIndex($slide,index){var slide=this.adapter.restore($slide)[0];if(slide.hasAttribute(this.options.attrs.type)){var type=slide.getAttribute(this.options.attrs.type);switch(type){case SUPPORTED_SLIDE_TYPES.image:this._loadImageSlide($slide,index);break;default:throw new Error("Cannot load slide content at index "+index+" for unsupported type: "+type)}}else this.requestedSlideIndices[index]||(this.requestedSlideIndices[index]=!0,(0,_lodashInvoke2.default)(this,"options.callbacks.onNeedSlideConfig",{index:index}))}},{key:"_loadImageSlide",value:function _loadImageSlide($slide,index,inPlaceImage){var _this3=this,_options$classes2=this.options.classes,slideLoadError=_options$classes2.slideLoadError,slideLoadSuccess=_options$classes2.slideLoadSuccess,slideLoaded=_options$classes2.slideLoaded,slideLoading=_options$classes2.slideLoading;this.adapter.addClass($slide,slideLoading);var $img=this.adapter.children($slide,"img."+this.options.classes.lazyImage),src=this.adapter.getData(inPlaceImage?this.adapter.adapt(inPlaceImage):$img,"src"),img=inPlaceImage||document.createElement("img");img.onerror=function(){_this3.adapter.removeClass($slide,slideLoading),_this3.adapter.addClass($slide,slideLoaded+" "+slideLoadError),(0,_lodashInvoke2.default)(_this3,"options.callbacks.onSlideLoadError",{index:index})},img.onload=function(){_this3.adapter.setAttr($img,"src",img.src),_this3.adapter.removeClass($slide,slideLoading),_this3.adapter.addClass($slide,slideLoaded+" "+slideLoadSuccess)},this.adapter.setAttr(this.adapter.adapt(img),"src",src)}},{key:"_getSlideElement",value:function _getSlideElement(index){return this.adapter.find(this.$track,"["+this.options.attrs.index+'="'+index+'"]')}},{key:"_restoreActiveSlideFocus",value:function _restoreActiveSlideFocus(){var activeSlide=this.getTrackElement(this.position);activeSlide&&activeSlide.focus()}},{key:"getTrackElement",value:function getTrackElement(index){return this.$slides[index]}},{key:"viewThreshold",get:function get(){return Math.min(this.scrollingElement.offsetHeight,this.slideHeight)/2}}]),ScrollComponent}(_track2.default);exports.default=ScrollComponent,module.exports=exports.default},function(module,exports){"use strict";function createSlideImage(_ref){var dataSrc=_ref.dataSrc,lazyImageClass=_ref.lazyImageClass,a11ySlideAltTextLabel=_ref.a11ySlideAltTextLabel,index=_ref.index,image=document.createElement("img");return image.setAttribute("class",lazyImageClass),dataSrc&&image.setAttribute("data-src",dataSrc),a11ySlideAltTextLabel&&image.setAttribute("alt",a11ySlideAltTextLabel+" "+(parseInt(index,10)+1)),image}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createSlideImage,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_lodashThrottle,_lodashThrottle2=_interopRequireDefault(__webpack_require__(240)),_control,_control2=_interopRequireDefault(__webpack_require__(252)),_helpersAssertDefined,_helpersAssertDefined2=_interopRequireDefault(__webpack_require__(492)),_helpersSlidesCreateTrack,_helpersSlidesCreateTrack2=_interopRequireDefault(__webpack_require__(497)),_helpersSlidesCreateSectionContainer,_helpersSlidesCreateSectionContainer2=_interopRequireDefault(__webpack_require__(498)),RESIZE_THROTTLE_TIME=200,SCROLL_DEBOUNCE_TIME=100,SCROLL_MAX_DEBOUNCE_TIME=300,TrackComponent=function(_ControlComponent){function TrackComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],window=arguments.length<=2||void 0===arguments[2]?element.ownerDocument.defaultView:arguments[2];return function(){_classCallCheck(this,TrackComponent),_get(Object.getPrototypeOf(TrackComponent.prototype),"constructor",this).call(this,element),this.options=(0,_lodashDefaultsdeep2.default)({},options,{startPosition:0,classes:{track:"ssplayer-scroll-track",slide:"ssplayer-scroll-slide",slideLoadError:"ssplayer-scroll-slide-load-error",slideLoadSuccess:"ssplayer-scroll-slide-load-success",slideLoaded:"ssplayer-scroll-slide-loaded",slideLoading:"ssplayer-scroll-slide-loading",lazyImage:"ssplayer-scroll-lazy-image"},attrs:{index:"data-ssplayer-slide-index",type:"data-ssplayer-slide-type"}}),(0,_helpersAssertDefined2.default)(this.options.numPages,"Track Component expects a numPages in options"),this.position=this.options.startPosition,this.viewPositions=[this.options.numPages,-1],this.numPages=this.options.numPages,this.window=window}.apply(this,arguments)}return _inherits(TrackComponent,_ControlComponent),_createClass(TrackComponent,[{key:"beforeInit",value:function beforeInit(){var trackClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.track),slideClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.slide),slideAttrIndex=_linkedinJsecure2.default.htmlEncode(this.options.attrs.index),track=void 0;track=this.trackWithSections?(0,_helpersSlidesCreateSectionContainer2.default)(trackClass,slideClass,slideAttrIndex,this.numPages):(0,_helpersSlidesCreateTrack2.default)(trackClass,slideClass,slideAttrIndex,this.numPages),this.$track=this.adapter.adapt(track),this.scrollingElement.appendChild(track),this.addEvents([this.window,"resize",(0,_lodashThrottle2.default)(this.onResize,200)],[this.scrollingElement,"scroll",(0,_lodashDebounce2.default)(this.onScroll,100,{maxWait:300})])}},{key:"onResize",value:function onResize(){this.emit("resize")}},{key:"onScroll",value:function onScroll(){for(var scrollingElement=this.scrollingElement,top=scrollingElement.scrollTop,bottom=top+scrollingElement.offsetHeight,viewThreshold=this.viewThreshold,numPages=this.numPages,viewedStartBound=top+viewThreshold,viewedEndBound=bottom-viewThreshold,viewPositions=[],i=0;i<numPages;i+=1){var $slide=this.getTrackElement(i),pageTop=$slide.offsetTop,pageBottom=pageTop+$slide.offsetHeight;if(pageTop<viewedEndBound&&pageBottom>viewedStartBound)"number"!=typeof viewPositions[0]&&(viewPositions[0]=i),viewPositions[1]=i;else if(viewPositions.length)break}viewPositions.length&&(this.viewPositions=viewPositions)}},{key:"getTrackElement",value:function getTrackElement(index){return this.$track[0].children[index]}},{key:"scrollingElement",get:function get(){return this.element}},{key:"viewThreshold",get:function get(){return 0}}]),TrackComponent}(_control2.default);exports.default=TrackComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createTrack;var _slidesCreateSlide,_slidesCreateSlide2=_interopRequireDefault(__webpack_require__(218));function createTrack(trackClass,slideClass,indexAttribute,numPages){var track=document.createElement("ul");track.setAttribute("class",trackClass);for(var index=0;index<numPages;index+=1){var slide=(0,_slidesCreateSlide2.default)({index:index,slideClass:slideClass,indexAttribute:indexAttribute});track.appendChild(slide)}return track}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createSectionContainer;var _createSlide,_createSlide2=_interopRequireDefault(__webpack_require__(218));function createSectionContainer(sectionContainerClass,slideClass,indexAttribute,numPages){var sectionContainer=document.createElement("div");sectionContainer.setAttribute("role","list"),sectionContainer.setAttribute("class",sectionContainerClass);for(var index=0;index<numPages;index+=1){var element=document.createElement("section");element.setAttribute("tabIndex",0),element.setAttribute("id","data-ssplayer-slide-index-"+index),element.setAttribute("role","listitem"),0===index&&element.setAttribute("autofocus",!0);var slide=(0,_createSlide2.default)({element:element,index:index,slideClass:slideClass,indexAttribute:indexAttribute});sectionContainer.appendChild(slide)}return sectionContainer}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_track,_track2=_interopRequireDefault(__webpack_require__(496)),_helpersSlidesCreateSlideImage,_helpersSlidesCreateSlideImage2=_interopRequireDefault(__webpack_require__(495)),_helpersAssertDefined,_helpersAssertDefined2=_interopRequireDefault(__webpack_require__(492)),THUMBNAIL_WIDTH_PX=150,THUMBNAIL_WIDTH_PX_LARGE=175,LARGE_SCREEN_SIZE=1100,VISIBLE_ITEM_BUFFER=7,TocComponent=function(_TrackComponent){function TocComponent(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],window=arguments.length<=2||void 0===arguments[2]?element.ownerDocument.defaultView:arguments[2];return function(){_classCallCheck(this,TocComponent),_get(Object.getPrototypeOf(TocComponent.prototype),"constructor",this).call(this,element,options,window),this.enabled=options.enabled,this.enabled||this.adaptedElement.addClass("ssplayer-toc-hidden"),this.onTocElementClicked=this.onTocElementClicked.bind(this),this.options=(0,_lodashDefaultsdeep2.default)(this.options,{tocTitle:"Document Thumbnails",viewA11yText:"View thumbnails",hideA11yText:"Hide thumbnails",viewingStatusMap:null,classes:{toc:"ssplayer-toc",tocTitle:"ssplayer-toc-title",tocThumbnails:"ssplayer-toc-thumbnail-container",activeThumbnail:"ssplayer-toc-thumbnail-active",viewedThumbnail:"ssplayer-toc-thumbnail-viewed",viewingStatus:"ssplayer-toc-thumbnail-marker",tocThumbnailContainerMinimized:"ssplayer-toc-minimized",toggleButtonHidden:"ssplayer-toc-view-toggle-button-hidden",toggleButtonA11yText:"ssplayer-toc-view-toggle-button-text-ally",toggleButton:"ssplayer-toc-view-toggle-button"}}),(0,_helpersAssertDefined2.default)(this.options.aspectRatio,"TOC Component expects an aspectRatio in options"),this.title=this.options.tocTitle,this.toggleButtonA11yText=this.options.hideA11yText,this.viewingStatusMap=this.options.viewingStatusMap,this.aspectRatio=this.options.aspectRatio,this.requestedSlideIndices={}}.apply(this,arguments)}return _inherits(TocComponent,_TrackComponent),_createClass(TocComponent,[{key:"beforeInit",value:function beforeInit(){if(this.enabled){var toggleButtonClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.toggleButton),tocThumbnailsClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.tocThumbnails);this.$toggleButton=this.adaptedElement.find("."+toggleButtonClass),this.$tocThumbnailContainer=this.adaptedElement.find("."+tocThumbnailsClass)[0],_get(Object.getPrototypeOf(TocComponent.prototype),"beforeInit",this).call(this),this._initThumbnails(),this.addEvents([this.$toggleButton,"click",this.toggleTocVisibility]),this.changePosition(this.position,!0),this.onScroll()}}},{key:"onScroll",value:function onScroll(){_get(Object.getPrototypeOf(TocComponent.prototype),"onScroll",this).call(this),this._loadVisibleThumbnails()}},{key:"_loadVisibleThumbnails",value:function _loadVisibleThumbnails(){for(var offset=this.viewPositions[1]-this.viewPositions[0]+14,i=0;i<offset+1;i+=1){var index=i+this.viewPositions[0]-7;index>=0&&index<this.numPages&&this._loadThumbnail(index)}}},{key:"_loadThumbnail",value:function _loadThumbnail(index){var lazyImageClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.lazyImage),$slide=this._getSlideElement(index),$image=this.adapter.find($slide,"."+lazyImageClass),dataSrc=this.adapter.getData($image,"src");dataSrc&&!$image.attr("src")?$image.attr("src",_linkedinJsecure2.default.sanitizeUrl(dataSrc)):this.requestedSlideIndices[index]=!0}},{key:"onTocElementClicked",value:function onTocElementClicked(index){this.emit("onTocPositionChange",index)}},{key:"toggleTocVisibility",value:function toggleTocVisibility(){var tocThumbnailContainerMinimizedClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.tocThumbnailContainerMinimized);this.adaptedElement.hasClass(tocThumbnailContainerMinimizedClass)?(this.adaptedElement.removeClass(tocThumbnailContainerMinimizedClass),this.title=this.options.tocTitle,this.toggleButtonA11yText=this.options.hideA11yText):(this.adaptedElement.addClass(tocThumbnailContainerMinimizedClass),this.title=this.options.viewA11yText,this.toggleButtonA11yText=this.options.viewA11yText),this.emit("onTocToggled")}},{key:"applyImageSlideConfig",value:function applyImageSlideConfig(index,config){var lazyImageClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.lazyImage),$slide=this._getSlideElement(index),$image=this.adapter.find($slide,"."+lazyImageClass),dataSrc=_linkedinJsecure2.default.sanitizeUrl(config.src);$image.attr("data-src",dataSrc),this.requestedSlideIndices[index]&&(this._loadThumbnail(index),delete this.requestedSlideIndices[index])}},{key:"changePosition",value:function changePosition(position,forceUpdate){if(this.enabled){var newPos=Math.max(0,Math.min(position||0,this.numPages-1));(forceUpdate||newPos!==this.position)&&(this._updateTocPosition(newPos),this.position=newPos)}}},{key:"setViewedStatus",value:function setViewedStatus(position){if(this.viewingStatusMap){this.viewingStatusMap[position]=!0;var viewedThumbnailClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.viewedThumbnail),$tocAnchor;this.adapter.children(this._getSlideElement(position)).addClass(viewedThumbnailClass)}}},{key:"_getSlideElement",value:function _getSlideElement(index){return this.adapter.find(this.$track,"["+this.options.attrs.index+'="'+index+'"]')}},{key:"_initThumbnails",value:function _initThumbnails(){var _this=this;this.adapter.children(this.$track).each(function(index,slide){var tocAnchor=document.createElement("a");if(tocAnchor.setAttribute("href","#data-ssplayer-slide-index-"+index),_this.position===index){var activeThumbnailClass=_linkedinJsecure2.default.htmlEncode(_this.options.classes.activeThumbnail);tocAnchor.classList.add(activeThumbnailClass)}if(_this.viewingStatusMap&&_this.viewingStatusMap[index]){var viewedThumbnailClass=_linkedinJsecure2.default.htmlEncode(_this.options.classes.viewedThumbnail);tocAnchor.classList.add(viewedThumbnailClass)}var childDiv=document.createElement("div"),viewingStatus=document.createElement("span"),viewingStatusClass=_linkedinJsecure2.default.htmlEncode(_this.options.classes.viewingStatus);viewingStatus.setAttribute("class",viewingStatusClass),viewingStatus.setAttribute("aria-hidden","true"),childDiv.appendChild(viewingStatus);var lazyImageClass=_linkedinJsecure2.default.htmlEncode(_this.options.classes.lazyImage),image=(0,_helpersSlidesCreateSlideImage2.default)({lazyImageClass:lazyImageClass});image.style.width=_linkedinJsecure2.default.htmlEncode(_this.thumbnailWidth+"px"),image.style.height=_linkedinJsecure2.default.htmlEncode(_this.thumbnailHeight+"px"),childDiv.appendChild(image),tocAnchor.appendChild(childDiv);var pageNumber=document.createElement("p");pageNumber.innerHTML=_linkedinJsecure2.default.setElementContent(pageNumber,index+1),tocAnchor.appendChild(pageNumber),tocAnchor.addEventListener("click",function(e){e.preventDefault(),_this.onTocElementClicked(index)}),slide.appendChild(tocAnchor)})}},{key:"onResize",value:function onResize(){_get(Object.getPrototypeOf(TocComponent.prototype),"onResize",this).call(this),this._setDimensions(),this.onScroll()}},{key:"_setDimensions",value:function _setDimensions(){var $thumbnails=this.adapter.findAll(this.$track,"."+this.options.classes.lazyImage);this.adapter.setWidth($thumbnails,this.thumbnailWidth),this.adapter.setHeight($thumbnails,this.thumbnailHeight)}},{key:"_updateTocPosition",value:function _updateTocPosition(newPos){var activeThumbnailClass=_linkedinJsecure2.default.htmlEncode(this.options.classes.activeThumbnail),$previousActiveSlide=this._getSlideElement(this.position),$previousActiveSlideThumbnail=this.adapter.children($previousActiveSlide,"a."+this.options.classes.activeThumbnail);this.adapter.removeClass($previousActiveSlideThumbnail,activeThumbnailClass);var $activeSlide=this._getSlideElement(newPos),$activeSlideThumbnail=this.adapter.children($activeSlide,"a");this.adapter.addClass($activeSlideThumbnail,activeThumbnailClass),$activeSlide.length&&$activeSlide[0].scrollIntoView({block:"nearest"})}},{key:"scrollingElement",get:function get(){return this.$tocThumbnailContainer}},{key:"tocTitle",get:function get(){return this.adaptedElement.find("."+this.options.classes.tocTitle)}},{key:"title",set:function set(tocTitleText){this.tocTitle.text(tocTitleText)}},{key:"toggleButtonA11yText",get:function get(){return this.adaptedElement.find("."+this.options.classes.toggleButtonA11yText)},set:function set(toggleButtonText){this.toggleButtonA11yText.text(toggleButtonText)}},{key:"isLargeScreen",get:function get(){return this.window.outerWidth>=1100}},{key:"thumbnailWidth",get:function get(){return this.isLargeScreen?175:150}},{key:"thumbnailHeight",get:function get(){return Math.round(this.thumbnailWidth/this.aspectRatio)}}]),TocComponent}(_track2.default);exports.default=TocComponent,module.exports=exports.default},function(module,exports){"use strict";function tryCreate(constructor,element){for(var _len=arguments.length,createArgs=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)createArgs[_key-2]=arguments[_key];return element&&constructor.create.apply(constructor,[element].concat(createArgs))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=tryCreate,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashInvoke,_lodashInvoke2=_interopRequireDefault(__webpack_require__(261)),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),_helpersDocumentManifest,_helpersDocumentManifest2=_interopRequireDefault(__webpack_require__(481)),_helpersImageManifestContainer,_helpersImageManifestContainer2=_interopRequireDefault(__webpack_require__(482)),RESIZE_DEBOUNCE_MS=200,DocumentManifestBehavior=function(_EventListener){function DocumentManifestBehavior(components){var manifestOptions=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],textOverlayOptions=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,DocumentManifestBehavior),_get(Object.getPrototypeOf(DocumentManifestBehavior.prototype),"constructor",this).call(this),(0,_lodashAssign2.default)(this,components),this.manifestOptions=manifestOptions,this.textOverlayOptions=textOverlayOptions,this.imageManifestContainer=new _helpersImageManifestContainer2.default(window.devicePixelRatio),this.toc&&(this.tocManifestContainer=new _helpersImageManifestContainer2.default(window.devicePixelRatio)),this.manifestOptions.masterManifestUrl?_helpersDocumentManifest2.default.fetch(this.manifestOptions.masterManifestUrl,{onMaster:this.onLoadMasterManifest.bind(this),onImageResolution:this.onLoadImageManifest.bind(this)}):this.skipEventBinding=!0}return _inherits(DocumentManifestBehavior,_EventListener),_createClass(DocumentManifestBehavior,[{key:"beforeInit",value:function beforeInit(){if(!this.skipEventBinding){var debouncedResize=(0,_lodashDebounce2.default)(this.onResize,200);this.addEvents([this.scroll,"resize",debouncedResize]),this.addEvents([this.fullscreenTarget,"changeFullscreen",debouncedResize])}}},{key:"onResize",value:function onResize(){var _scroll=this.scroll,slideWidth=_scroll.slideWidth,slideHeight=_scroll.slideHeight;this.imageManifestContainer.updateOptimalManifest(slideWidth,slideHeight);var manifest=this.imageManifestContainer.getOptimalImageManifest();manifest&&this._applyImageManifest(manifest)}},{key:"onLoadMasterManifest",value:function onLoadMasterManifest(manifest){var _this=this;manifest.perResolutions.forEach(function(_ref){var width=_ref.width,height=_ref.height;_this.imageManifestContainer.registerImageManifest(width,height),_this.toc&&_this.tocManifestContainer.registerImageManifest(width,height)}),this.imageManifestContainer.updateOptimalManifest(this.scroll.slideWidth,this.scroll.slideHeight),this.toc&&this.tocManifestContainer.updateOptimalManifest(this.toc.thumbnailWidth,this.toc.thumbnailHeight),(0,_lodashInvoke2.default)(this.textOverlayOptions,"setPdfUrl",manifest.transcribedDocumentUrl)}},{key:"onLoadImageManifest",value:function onLoadImageManifest(manifest,_ref2){var width=_ref2.width,height=_ref2.height;this.imageManifestContainer.populateImageManifest(manifest,width,height),this.imageManifestContainer.isOptimalDimension(width,height)&&this._applyImageManifest(manifest),this.toc&&this.tocManifestContainer.isOptimalDimension(width,height)&&this._applyImageManifestToTOC(manifest)}},{key:"_applyImageManifest",value:function _applyImageManifest(manifest){var _this2=this;manifest.pages.forEach(function(imageUrl,index){return(0,_lodashInvoke2.default)(_this2.scroll,"applyImageSlideConfig",index,{src:imageUrl})})}},{key:"_applyImageManifestToTOC",value:function _applyImageManifestToTOC(manifest){var _this3=this;manifest.pages.forEach(function(imageUrl,index){return(0,_lodashInvoke2.default)(_this3.toc,"applyImageSlideConfig",index,{src:imageUrl})})}}]),DocumentManifestBehavior}(_coreEventListener2.default);exports.default=DocumentManifestBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _get=__webpack_require__(89).default,_inherits=__webpack_require__(99).default,_createClass=__webpack_require__(128).default,_classCallCheck=__webpack_require__(133).default,_slicedToArray=__webpack_require__(138).default,_toConsumableArray=__webpack_require__(146).default,_interopRequireDefault=__webpack_require__(84).default;Object.defineProperty(exports,"__esModule",{value:!0});var _lodashAssign,_lodashAssign2=_interopRequireDefault(__webpack_require__(8)),_lodashDebounce,_lodashDebounce2=_interopRequireDefault(__webpack_require__(271)),_coreEventListener,_coreEventListener2=_interopRequireDefault(__webpack_require__(177)),HIDE_TIMER_MS=2500,DocumentUserActivityBehavior=function(_EventListener){function DocumentUserActivityBehavior(components){_classCallCheck(this,DocumentUserActivityBehavior),_get(Object.getPrototypeOf(DocumentUserActivityBehavior.prototype),"constructor",this).call(this),(0,_lodashAssign2.default)(this,components)}return _inherits(DocumentUserActivityBehavior,_EventListener),_createClass(DocumentUserActivityBehavior,[{key:"beforeInit",value:function beforeInit(){this.debouncedIdleOnTimeout=(0,_lodashDebounce2.default)(this.idleOnTimeout,2500);var events=[[this.fullscreenTarget,"changeFullscreen",this.onFullscreen],[this.player,"mouseEnter",this.onUserActivity],[this.player,"mouseMove",this.onUserActivity],[this.player,"mouseLeave",this.onUserActivity],[this.toolbar,"mouseOver",this.onUserActivity],[this.toolbar,"mouseOut",this.onUserActivity],[this.toc,"mouseOver",this.onUserActivity],[this.toc,"mouseOut",this.onUserActivity],[this.keyboard,"tab",this.onUserActivity.bind(this,!0)]].filter(function(_ref){var _ref2,target;return _slicedToArray(_ref,1)[0]});this.addEvents.apply(this,_toConsumableArray(events))}},{key:"onFullscreen",value:function onFullscreen(isFullscreen){this.isFullscreen=isFullscreen,this.setControlsVisibility(!0)}},{key:"onUserActivity",value:function onUserActivity(overridePlayerMouseover){var isUserActive;(void 0===overridePlayerMouseover?this.player.isMouseover:overridePlayerMouseover)&&this.setControlsVisibility(!0),this.debouncedIdleOnTimeout.cancel(),this.isMouseOverToolbar||this.isMouseOverToc||this.debouncedIdleOnTimeout()}},{key:"setControlsVisibility",value:function setControlsVisibility(isVisible){this.player.idle=!isVisible}},{key:"idleOnTimeout",value:function idleOnTimeout(){this.setControlsVisibility(!1)}},{key:"isMouseOverToolbar",get:function get(){return this.toolbar&&this.toolbar.isMouseOver}},{key:"isMouseOverToc",get:function get(){return this.toc&&this.toc.isMouseOver}}]),DocumentUserActivityBehavior}(_coreEventListener2.default);exports.default=DocumentUserActivityBehavior,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildRequestHeader=buildRequestHeader;var _linkedinSlideshareClientUtils=__webpack_require__(148);function buildRequestHeader(){var location=arguments.length<=0||void 0===arguments[0]?window.location:arguments[0],requestHeaders={},pageKey=_linkedinSlideshareClientUtils.li.getPageKey();pageKey&&(requestHeaders.pageKey=pageKey);var trackingCode=_linkedinSlideshareClientUtils.url.getTrackingCode(location.href);return trackingCode&&(requestHeaders.trackingCode=trackingCode),requestHeaders}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=from;var toStr=Object.prototype.toString,isCallable=function isCallable(fn){return"function"==typeof fn||"[object Function]"===toStr.call(fn)},toInteger=function toInteger(value){var number=Number(value);return isNaN(number)?0:0!==number&&isFinite(number)?(number>0?1:-1)*Math.floor(Math.abs(number)):number},maxSafeInteger=Math.pow(2,53)-1,toLength=function toLength(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};function from(arrayLike){var C=this,items=Object(arrayLike);if(null==arrayLike)throw new TypeError("Array.from requires an array-like object - not null or undefined");var mapFn=arguments.length>1?arguments[1]:void 0,T;if(void 0!==mapFn){if(!isCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2])}for(var len=toLength(items.length),A=isCallable(C)?Object(new C(len)):new Array(len),k=0,kValue;k<len;)kValue=items[k],A[k]=mapFn?void 0===T?mapFn(kValue,k):mapFn.call(T,kValue,k):kValue,k+=1;return A.length=len,A}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElement=getElement,exports.getPlayerSettings=getPlayerSettings,exports.customPlayerInit=customPlayerInit;var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinSlidesharePlayer=__webpack_require__(30);function getElement(playerElem,selector){return playerElem.querySelector(selector)}function getPlayerSettings(playerElem){var playerEndCardEnabled=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],settings={videojsElement:getElement(playerElem,".video-js"),bigPlayButtonElement:getElement(playerElem,".ssplayer-big-play-button"),loaderElement:getElement(playerElem,".ssplayer-loader"),progressElement:getElement(playerElem,".ssplayer-progress"),bufferElement:getElement(playerElem,".ssplayer-buffer"),timeDisplayElement:getElement(playerElem,".ssplayer-time-display"),volumeSwitchElement:getElement(playerElem,".ssplayer-volume-switch"),volumeSliderElement:getElement(playerElem,".ssplayer-volume-slider"),volumeSliderVertical:!0,toolbarElement:getElement(playerElem,".ssplayer-video-toolbar"),playerjs:!0,firstFocusableElementSelector:"button.ssplayer-pause-button",dynamicKeyTrap:!0};return playerEndCardEnabled&&(settings.endcardElement=getElement(playerElem,".ssplayer-endcard"),settings.endcardModalElement=getElement(playerElem,".ssplayer-endcard-modal")),settings}function customPlayerInit(playerElem){var playerSettings=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];playerSettings=(0,_lodashDefaultsdeep2.default)(playerSettings,getPlayerSettings(playerElem,playerSettings.playerEndCardEnabled));var videoPlayer=playerElem.querySelector(".ssplayer-video-player"),playerInstance=(0,_linkedinSlidesharePlayer.initVideo)(videoPlayer,playerSettings);playerInstance.playerSettings=playerSettings;var backToStartBtn=playerElem.querySelector(".ssplayer-back-to-start-button");return backToStartBtn&&backToStartBtn.addEventListener("click",function(){var videojsPlayer=playerInstance.videojsPlayer;0===videojsPlayer.volume()&&(videojsPlayer.muted(!1),videojsPlayer.volume(1)),videojsPlayer.currentTime(0),videojsPlayer.pause(),videojsPlayer.play()}),playerInstance}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.setAttribute=setAttribute;var _lodashDefaultsdeep,_lodashDefaultsdeep2=_interopRequireDefault(__webpack_require__(11)),_linkedinJsecure,_linkedinJsecure2=_interopRequireDefault(__webpack_require__(206)),_utilIsSafeOrigin,_utilIsSafeOrigin2=_interopRequireDefault(__webpack_require__(21)),_utilValidateVideoData,_utilValidateVideoData2=_interopRequireDefault(__webpack_require__(507)),_utilValidateVideoDom,_utilValidateVideoDom2=_interopRequireDefault(__webpack_require__(508)),_utilMobileOsHelp=__webpack_require__(509),_utilConstants=__webpack_require__(10),_componentsNativePlayerSettings,nativePlayerSetting=_interopRequireWildcard(__webpack_require__(505)),_utilConsoleShim,_utilConsoleShim2=_interopRequireDefault(__webpack_require__(27)),ALLOWED_ATTRIBUTES=["poster","preload","src","type","bitrate","kind","srclang","mode","label","controlsList","crossorigin"],POSTMESSAGE_ACTIONS_MODIFY="modify",POSTER_IMAGE_SELECTOR="div.video-js-background-poster",NATIVE_VIDEO_CONTAINER=".native-video-container",VIDEO_ELEMENT="video.video-js";function setAttribute(element,attribute,value){value&&(element&&"string"==typeof value?"string"==typeof attribute&&-1!==ALLOWED_ATTRIBUTES.indexOf(attribute)?element.setAttribute(attribute,_linkedinJsecure2.default.htmlEncode(value)):(0,_utilConsoleShim2.default)("setAttribute - this attribute type is not allowed to set in the method"):(0,_utilConsoleShim2.default)("setAttribute - calling with illegal params"))}var NativeVideo=function(){function NativeVideo(){_classCallCheck(this,NativeVideo),this.actions={poster:this.posterHandler.bind(this)}}return _createClass(NativeVideo,[{key:"_addCaption",value:function _addCaption(data){var _this=this,textTrack=this.playerInstance.videojsPlayer.addRemoteTextTrack({src:_linkedinJsecure2.default.sanitizeUrl(data.video.caption),kind:"captions",srclang:"en",label:"caption - en",mode:"showing"}),captionButton=document.querySelector(".ssplayer-caption-button"),filledCaptionButtonElem=document.querySelector(".ssplayer-caption-on-button"),unfilledCaptionButtonElem=document.querySelector(".ssplayer-caption-off-button"),captionsA11yElem=document.getElementById("i18n-captions-a11y-text");captionsA11yElem.textContent=this._getCaptionsButtonA11yText(),captionButton.addEventListener("click",function(){var tracks,captionTrack=Array.from(_this.playerInstance.videojsPlayer.textTracks()).filter(function(track){return"captions"===track.kind})[0];filledCaptionButtonElem.classList.contains("hidden")?(filledCaptionButtonElem.classList.remove("hidden"),unfilledCaptionButtonElem.classList.add("hidden"),captionTrack&&(captionTrack.mode="showing",captionsA11yElem.textContent=_this._getCaptionsButtonA11yText(captionTrack.mode))):(filledCaptionButtonElem.classList.add("hidden"),unfilledCaptionButtonElem.classList.remove("hidden"),captionTrack&&(captionTrack.mode="hidden",captionsA11yElem.textContent=_this._getCaptionsButtonA11yText(captionTrack.mode)))}),textTrack&&textTrack.addEventListener("load",function(){captionButton.classList.remove("hidden")})}},{key:"_getCaptionsButtonA11yText",value:function _getCaptionsButtonA11yText(){var captionsMode,a11yOptions,a11yKey="showing"!==(arguments.length<=0||void 0===arguments[0]?"showing":arguments[0])?"captionsOffButtonA11yControlText":"captionsOnButtonA11yControlText";return(this.playerInstance.options&&this.playerInstance.options.a11yControlTextObj||{})[a11yKey]||_utilConstants.A11Y_CONTROL_TEXT_OBJ[a11yKey]}},{key:"resetPoster",value:function resetPoster(){var posterDiv;this.playerInstance.videojsPlayer.poster(""),document.querySelector(POSTER_IMAGE_SELECTOR).classList.add("hidden")}},{key:"toolbarHandler",value:function toolbarHandler(data,videoContainerElem){data.hideControls&&videoContainerElem.classList.add("hideControlBar")}},{key:"posterHandler",value:function posterHandler(poster){var showFrosted=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(poster){var sanitizedPosterSrc=_linkedinJsecure2.default.sanitizeUrl(poster);if(this.playerInstance.videojsPlayer.poster(sanitizedPosterSrc),sanitizedPosterSrc&&showFrosted){var posterDiv=document.querySelector(POSTER_IMAGE_SELECTOR);posterDiv.style.backgroundImage="url("+sanitizedPosterSrc+")",posterDiv.classList.remove("hidden")}}else this.resetPoster()}},{key:"modifyPlayer",value:function modifyPlayer(){var _this2=this,_ref,data=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).data;if(data){var modifiers=data.modificationParams;Object.entries(modifiers).forEach(function(_ref2){var _ref22=_slicedToArray(_ref2,2),key=_ref22[0],value=_ref22[1];return _this2.actions[key]&&_this2.actions[key](value)})}}},{key:"renderPlayer",value:function renderPlayer(){var eventData=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if((0,_utilIsSafeOrigin2.default)(eventData.origin)){var data=eventData.data,videoContainerElem=document.querySelector(NATIVE_VIDEO_CONTAINER),videoElem=document.querySelector(VIDEO_ELEMENT),playerElem=document.querySelector(".ssplayer-wrapper");if(data.render){var bigPlayButtonElem;if(data.file)document.querySelector("button.ssplayer-big-button").classList.add("hidden"),data.video={},data.video.sources=[{src:URL.createObjectURL(data.file),type:data.file.type}],data.video.preload="auto";if(data.filePoster&&(data.video=data.video||{},data.video.poster=URL.createObjectURL(data.filePoster)),(0,_utilValidateVideoData2.default)(data.video)&&(0,_utilValidateVideoDom2.default)(videoContainerElem,videoElem)){this.initPlayer(playerElem,data,videoElem),this.toolbarHandler(data,videoContainerElem),this.posterHandler(data.video.poster,!!data.showFrosted);var videoPlayer=document.querySelector(".ssplayer-video-player");(0,_utilMobileOsHelp.isAndroidDevice)()&&(playerElem.classList.add("mobile-view"),videoElem.addEventListener("loadedmetadata",function(){videoElem.addEventListener("touchstart",function(){var classList=videoPlayer.classList;!classList.contains("ssplayer-paused")&&classList.contains("ssplayer-show-toolbar")?videoPlayer.classList.remove("ssplayer-show-toolbar"):videoPlayer.classList.add("ssplayer-show-toolbar")},!1)})),data.video.caption&&this._addCaption(data),videoContainerElem.classList.remove("hidden")}else(0,_utilConsoleShim2.default)("renderPlayer - validateVideoData or validateVideoDom failed")}}else(0,_utilConsoleShim2.default)("renderPlayer - origin is not in whitelist")}},{key:"initPlayer",value:function initPlayer(playerElem,data,videoElem){var _data$playerOptions=data.playerOptions,playerOptions=void 0===_data$playerOptions?{}:_data$playerOptions;(0,_lodashDefaultsdeep2.default)(playerOptions,{videojsOptions:{sources:data.video.sources}}),data.playerOptions.playerEndCardEnabled&&(playerOptions.playerEndCardEnabled=!0),this.playerInstance=nativePlayerSetting.customPlayerInit(playerElem,playerOptions),setAttribute(videoElem,"preload",data.video.preload)}},{key:"playerPostmessageHandler",value:function playerPostmessageHandler(){var eventData=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_eventData$data=eventData.data,action=(_eventData$data=void 0===_eventData$data?{}:_eventData$data).action,context;_eventData$data.context===_utilConstants.CONTEXT&&(action===POSTMESSAGE_ACTIONS_MODIFY&&this.playerInstance?this.modifyPlayer(eventData):this.renderPlayer(eventData))}},{key:"addPostMessageListener",value:function addPostMessageListener(){window!==window.parent&&window.addEventListener("message",this.playerPostmessageHandler.bind(this))}}]),NativeVideo}(),nativeVideoInstance;exports.NativeVideo=NativeVideo,(new NativeVideo).addPostMessageListener()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=validateVideoData;var _utilConsoleShim,_utilConsoleShim2=_interopRequireDefault(__webpack_require__(27));function validateVideoData(){var _ref,sources=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).sources;return!(!Array.isArray(sources)||0===sources.length)||((0,_utilConsoleShim2.default)("Error in postMessage, need to pass in video sources"),!1)}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=validateVideoDom;var _utilConsoleShim,_utilConsoleShim2=_interopRequireDefault(__webpack_require__(27));function validateVideoDom(videoContainerElem,videoElem){return videoContainerElem?!!videoElem||((0,_utilConsoleShim2.default)("Error in DOM, video element is missing"),!1):((0,_utilConsoleShim2.default)("Error in DOM, video container element is missing"),!1)}module.exports=exports.default},function(module,exports){"use strict";function isIosDevice(){return/(iPad|iPhone|iPod)/gi.test(navigator.userAgent)&&!window.MSStream}function isAndroidDevice(){return/Android/gi.test(navigator.userAgent)&&!window.MSStream}function isMobileDevice(){return isAndroidDevice()||isIosDevice()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIosDevice=isIosDevice,exports.isAndroidDevice=isAndroidDevice,exports.default=isMobileDevice}]);