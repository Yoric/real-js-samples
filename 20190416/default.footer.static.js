/* Built on 2019-03-15 12:10:50 */
!function(){var e=function(e,n,o){var d=document.getElementById("header-"+(n.is_desktop?"desktop-":"mobile-")+e+"-toggle");d&&(n.opened=!1,n.menu=document.getElementById(n.id),n.menu_toggler=d,n.toggle=function(d){if(void 0===d||d!==n.opened){if(n.opened)xv.dom.addClass(n.menu,n.hide_class?n.hide_class:"mobile-hide"),n.body_cls_onopen&&xv.dom.removeClass(document.body,n.body_cls_onopen),xv.dom.removeClass(n.menu_toggler,n.icon_cls),"function"==typeof n.onclose_func&&n.onclose_func(n);else{"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.header&&"function"==typeof window.xv.header.close_mobile_menu&&window.xv.header.close_mobile_menu();for(var t in o)t!==e&&o[t].toggle&&o[t].toggle(!1);xv.dom.removeClass(n.menu,n.hide_class?n.hide_class:"mobile-hide"),xv.dom.addClass(n.menu_toggler,n.icon_cls),n.body_cls_onopen&&xv.dom.addClass(document.body,n.body_cls_onopen),"function"==typeof n.onopen_func&&n.onopen_func(n),n.dontScrollToTop||xv.dom.scrollToTop()}n.opened=!n.opened}},window.xv.mobile.togglers.push(n),d.onclick=function(e){return e||(e=this.originalEvent),e&&("function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1),n.toggle(),!1})},n={togglers:new Array,menus_init:function(n){for(var o in n)e(o,n[o],n)},menus_close:function(){if(!1!==window.xv.mobile.togglers)for(var e in window.xv.mobile.togglers)window.xv.mobile.togglers[e].toggle(!1)}};window.xv||(window.xv={}),window.xv.mobile=n}(),function(){var e=function(e,n,o,d){var t=!1;if(!(t=e.dataset?e.dataset.id:e.getAttribute("id")))return void e.parentNode.removeChild(e);xv.dom.addEventListener(e,"click",function(){var e=xv.utils.createRequestObject();e.withCredentials=!0,e.open("POST","/account/message-closed",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("msgid="+t),n.parentNode.removeChild(n),o&&o.parentNode.removeChild(o),0===xv.dom.getChildren(d).length&&d.parentNode.parentNode.removeChild(d.parentNode)})},n=function(n){var o=xv.dom.getFirstChild(n);if(o){var d=null,t=xv.dom.getChildren(o);for(var i in t){var a=t[i];if(xv.dom.hasClass(a,"x-message")){var s=xv.dom.getChildren(a);for(var r in s)xv.dom.hasClass(s[r],"del")&&e(s[r],a,d,o);d=null}else xv.dom.hasClass(a,"x-message-arrow")&&(d=a)}}},o=document.getElementById("x-home-messages");o&&n(o);var d=document.getElementById("x-red-home-messages");d&&n(d),window.xv||(window.xv={}),window.xv.update_ajax_tab_messages=function(){var e=document.getElementById("x-ajax-tab-messages");e&&n(e)};var t=document.getElementById("x-messages");if(t){n(t);var i=document.getElementById("x-x-messages-btn"),a=[],s=xv.dom.getFirstChild(t),r=xv.dom.getChildren(s),v={},l=xv.dom.hasClass(t,"opened");l&&xv.dom.addClass(i,"opened"),xv.conf&&xv.conf.dyn&&xv.conf.dyn.chat&&xv.conf.dyn.chat.enabled&&(xv.dom.addClass(t,"chat-window-side"),xv.dom.addClass(i,"chat-window-side"));var m=function(e){if("object"==typeof e&&("function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1),"boolean"!=typeof e&&(e=!l),e!==l){if(e)xv.dom.addClass(t,"opened"),xv.dom.addClass(i,"opened");else{xv.dom.removeClass(t,"opened"),xv.dom.removeClass(i,"opened");var n=[],o=0,d=Math.round((new Date).getTime()/1e3);for(var s in v)n.push(s+":"+(d+parseInt(v[s]))),o=Math.max(0,v[s]);xv.cookies.setLocal("hide_xmsg",n.join(","),1e3*o,"/")}l=e;for(var r in a)a[r](e)}};for(var u in r){var _=r[u];xv.dom.hasClass(_,"x-close")?xv.dom.addEventListener(_,"click",m):xv.dom.hasClass(_,"x-message")&&function(e,n){v[e]=n||1296e3,xv.dom.removeClass(i,"hidden")}(_.getAttribute("data-hash"),_.getAttribute("data-expires"))}xv.dom.addEventListener(i,"click",m);var c={registerOnToggle:function(e){a.push(e)}};window.xv.messages=c}}(),function(){var e={};if(e.menu={id:"mobile-menu",icon_cls:"vertical"},e.filters={id:"mobile-filters-menu",icon_cls:"opened"},e.search={id:"xv-search-form",icon_cls:"close",dontScrollToTop:!0,onopen_func:function(){if(window.jQuery){$("#xv-search-form input[type=text]").first().focus();var e=$("#xv-search-form").offset().top;if($(window).width()>$(window).height()&&$(window).scrollTop()<e)return $("html,body").animate({scrollTop:e},400),!1}xv.dom.scrollToTop()}},xv.mobile.menus_init(e),xv.header&&(xv.header.nav=document.getElementById("nav"),xv.header.nav)){xv.header.nav_var={menu_toggle:document.getElementById("header-menu-toggle"),is_opened_desktop:xv.dom.hasClass(xv.header.nav,"forced-opened"),main_cat_btn:document.getElementById("main-cat-sub-list-btn"),home_trends_btn:document.getElementById("home-trends-sub-list-btn"),video_history_btn:document.getElementById("video-history-sub-list-btn")};var n,o={},d=!1,t=0,i=function(e){if(xv.header.is_mobile_menu(!1)){n=!1;for(var d in o)o[d].is_opened=!1}else!0!==e&&(xv.header.nav_var.is_opened_desktop=!1);xv.header.update_menu_classs()},a=function(){for(var e in o)s(e)},s=function(e){!1===o[e].initiated&&(o[e].initiated="processing",o[e].list&&o[e].btn?xv.dom.addEventListener(o[e].btn,"click",function(){v(e)}):o[e].disabled=!0,o[e].initiated=!0)},r=function(e){if(xv.header.is_mobile_menu(!1)&&"desktop"!==e){n=!0,"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.mobile&&"function"==typeof window.xv.mobile.menus_close&&window.xv.mobile.menus_close();var t=!0;for(var i in o)!0===o[i].is_opened&&(t=!1);!0===t&&(o[d].is_opened=!0)}else xv.header.nav_var.is_opened_desktop=!0;"undefined"!=typeof xv.header&&"undefined"!=typeof xv.header.trends&&"function"==typeof xv.header.trends.position&&xv.header.trends.position(),xv.header.update_menu_classs()},v=function(e){if(o[e].is_opened)return xv.header.update_menu_classs(),void("function"==typeof o[e].already_open_func&&o[e].already_open_func());for(var n in o)o[n].is_opened=!1;o[e].is_opened=!0,xv.header.update_menu_classs()};xv.header.add_sub_menu=function(e,n,i,s,r,v){if(e&&n){var l={btn:e,list:n,is_opened:!1,disabled:!1,initiated:!1};return t++,"string"!=typeof i&&(i="sub_menu_"+t),v&&"function"==typeof v.already_open_func&&(l.already_open_func=v.already_open_func),o[i]=l,!1!==d&&!0!==r||(d=i),!0!==s&&a(),i}},xv.header.close_mobile_menu=function(){i(!0)},xv.header.is_menu_opened=function(){return window_resize_callback(!1),!xv.header.is_mobile_menu(!1)&&xv.header.nav_var.is_opened_desktop||xv.header.is_mobile_menu(!1)&&n},xv.header.is_sub_menu_opened=function(e){return!(!xv.header.is_menu_opened()||"undefined"==typeof o[e]||!o[e].is_opened)},xv.header.open_sub_menu=function(e){if(!xv.header.is_mobile_menu(!1))return!1;if(!e){if(!d)return!1;e=d}r("mobile"),v(e),"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.dom&&"function"==typeof window.xv.dom.scrollToTop&&window.xv.dom.scrollToTop()},xv.header.open_default_sub_menu=function(){xv.header.open_sub_menu()},xv.header.update_menu_classs=function(){if(window.jQuery)if(xv.header.is_mobile_menu(!1)){var e=$(".home-trends #home-trends-sub-list-btn");e.length>0&&e.parent("li").insertAfter($("#main-cat-sub-list-btn").parent("li"))}else{var e=$(".main-categories #home-trends-sub-list-btn");e.length>0&&$(".home-trends > ul").prepend(e.parent("li"))}xv.header.is_menu_opened()?(xv.dom.addClass(xv.header.nav,"opened"),xv.dom.addClass(xv.header.nav_var.menu_toggle,"opened"),xv.header.is_mobile_menu(!1)||"undefined"==typeof xv||"undefined"==typeof xv.header?xv.dom.addClass(document.body,"mobile-menu-opened"):("undefined"!=typeof xv.header.categories&&"function"==typeof xv.header.categories.position&&setTimeout(xv.header.categories.position,150),"undefined"!=typeof xv.header.trends&&"function"==typeof xv.header.trends.position&&setTimeout(xv.header.trends.position,150))):(xv.dom.removeClass(xv.header.nav,"opened forced-opened"),xv.dom.removeClass(xv.header.nav_var.menu_toggle,"opened"),xv.dom.removeClass(document.body,"mobile-menu-opened"));for(var n in o)!0!==o[n].disabled&&(o[n].is_opened?(xv.dom.addClass(o[n].btn,"opened"),xv.dom.addClass(o[n].list,"opened")):(xv.dom.removeClass(o[n].btn,"opened"),xv.dom.removeClass(o[n].list,"opened")))},xv.header.update_sub_menu_btn=function(e,n){"undefined"!=typeof o[e]&&n&&(o[e].btn=n,xv.dom.addEventListener(o[e].btn,"click",function(){v(e)}))},xv.header.update_sub_menu_list=function(e,n){"undefined"!=typeof o[e]&&n&&(o[e].list=n)},xv.header.nav_var.main_cat_btn&&xv.header.add_sub_menu(xv.header.nav_var.main_cat_btn,document.getElementById("main-cat-sub-list"),"main_cat",!0),xv.header.nav_var.home_trends_btn&&xv.header.add_sub_menu(xv.header.nav_var.home_trends_btn,document.getElementById("home-trends-sub-list"),"home_trends",!0),xv.header.nav_var.video_history_btn&&xv.header.add_sub_menu(xv.header.nav_var.video_history_btn,document.getElementById("video-history"),"video_history",!0),a(),xv.header.update_menu_classs(),window_resize_callback(),xv.dom.addEventListener(window,"resize",xv.header.window_resize),xv.dom.addEventListener(xv.header.nav_var.menu_toggle,"click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,(xv.header.is_mobile_menu(!1)?n:xv.header.nav_var.is_opened_desktop)?i():r()}),xv.dom.addClass(xv.header.nav_var.menu_toggle,"init-ok")}}();