define("@ali/pmod-base/utils",function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return"string"==typeof e}function r(e){return"object"===l(e)}function o(e){return"function"==typeof e}function s(e){if(a(e))return u(e);if(r(e))if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)e[t]=s(e[t]);else for(var n in e)e[n]=s(e[n]);return e}function u(e){var t=g.exec(e);if(!t)return e;var i,n="",a=0,r=0;for(a=t.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}r!==a&&(n+=e.substring(r,a)),r=a+1,n+=i}return r!==a?n+e.substring(r,a):n}function l(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function d(e){return new Promise(function(t){setTimeout(t,e,"done")})}function c(e,t){function i(){setTimeout(function(){e.apply(n,[t])},a)}var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:window,a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:200;if(window.WindVane&&window.WindVane.isAvailable)if(window._WindVaneReady)i();else{var r=void 0;document.addEventListener("WindVaneReady",r=function(){document.removeEventListener("WindVaneReady",r),i(),window._WindVaneReady=!0})}else"complete"===document.readyState?i():window.addEventListener("load",i)}function m(){return new Promise(function(e,t){window.WindVane&&window.WindVane.isAvailable?window.WindVane.call("AliHADeviceEvaluationBridge","getPerformanceInfo",{},function(t){e(t)},function(e){t(e)}):t("WindVane is not available")})}function f(e,t){if("object"===h(window.__customConfig)&&window.__customConfig.moduleDowngradeCfg){var i=window.__customConfig.moduleDowngradeCfg;if(i.enable&&i[e]){if(!0===i[e].global)return t&&t(!0)}}m().then(function(e){if(e&&("HY_SUCCESS"===e.ret||"HY_SUCCESS"===e.ret[0])){if(3===(e.runtimeLevel||e.memoryInfo.runtimeLevel))return t&&t(!0);return/Android/i.test(window.navigator.userAgent)&&2===e.deviceLevel&&(e.deviceLevel=3),t&&t(!1,e.deviceLevel)}return t&&t(!1)})["catch"](function(){t&&t(!1,-1)})}Object.defineProperty(t,"__esModule",{"value":!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),g=/["'&<>]/,v=function(){function e(){n(this,e),this._params={},this._hash=""}return p(e,[{"key":"parse","value":function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=void 0,i=e.split("?"),n=new RegExp("^([a-z0-9-]+:)?[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#]*)?(?:[?]([^?#]*))?(#[^#]*)?$","i");if(!(t=e.match(n)||i[0].match(n)))throw console.error("wrong url scheme"),new Error("parse url error");return i.shift(),this.protocol=t[1]||"",this.username=t[2]||"",this.password=t[3]||"",this.hostname=this.host=t[4],this.port=t[5]||"",this.pathname=t[6]||"/",this.search=t[7]||i.join("?")||"",this.hash=t[8]||"",this.origin=this.protocol+"//"+this.hostname,this._url=e,this}},{"key":"toString","value":function(){var e=this.protocol?this.protocol+"//":"";return this.username&&(e+=this.username,this.password&&(e+=":"+this.password),e+="@"),e+=this.host?this.host:"",this.port&&"80"!==this.port&&(e+=":"+this.port),this.pathname&&(e+=this.pathname),e?(this.search&&(e+=this.search),this.hash&&(e+=this.hash),e):this._url}},{"key":"params","get":function(){return this._params},"set":function(e){"object"===(void 0===e?"undefined":h(e))&&(this._params=e)}},{"key":"search","set":function(e){if("string"==typeof e){0===e.indexOf("?")&&(e=e.substr(1));var t=e.split("&");for(var i in this.params)delete this.params[i];for(var n=0;n<t.length;n++){var a=t[n].split("=");if(a[0])try{this.params[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}catch(r){this.params[a[0]]=a[1]||""}}}},"get":function(){var e=[];for(var t in this.params)if(this.params[t])try{e.push(encodeURIComponent(t)+"="+encodeURIComponent(this.params[t]))}catch(i){}else try{e.push(encodeURIComponent(t))}catch(i){}return e.length?"?"+e.join("&"):""}},{"key":"hash","set":function(e){"string"==typeof e&&(e&&e.indexOf("#")<0&&(e="#"+e),this._hash=e||"")},"get":function(){return this._hash}}]),e}();t.isString=a,t.isPlainObject=r,t.isFunction=o,t.Url=v,t.timeout=d,t.escapeHtml=s,t.pageLoadRunner=c,t.getPerfInfo=m,t.checkModuleDowngrade=f});