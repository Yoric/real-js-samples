/*
   Anthon Pang, Snowplow Analytics Ltd
      BSD-2-Clause
*/
(function e$$0(q,l,e){function b(d,a){if(!l[d]){if(!q[d]){var g="function"==typeof require&&require;if(!a&&g)return g(d,!0);if(c)return c(d,!0);throw Error("Cannot find module '"+d+"'");}g=l[d]={exports:{}};q[d][0].call(g.exports,function(a){var h=q[d][1][a];return b(h?h:a)},g,g.exports,e$$0,q,l,e)}return l[d].exports}for(var c="function"==typeof require&&require,a=0;a<e.length;a++)b(e[a]);return b})({1:[function(f,q,l){(function(){l.base64encode=function(e){var b,c,a,d,h=0,g=0,u="",u=[];if(!e)return e;
e=unescape(encodeURIComponent(e));do b=e.charCodeAt(h++),c=e.charCodeAt(h++),a=e.charCodeAt(h++),d=b<<16|c<<8|a,b=d>>18&63,c=d>>12&63,a=d>>6&63,d&=63,u[g++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);while(h<e.length);u=u.join("");e=
e.length%3;return(e?u.slice(0,e-3):u)+"===".slice(e||3)};l.base64decode=function(e){var b,c,a,d,h,g=0,u=0;d="";var p=[];if(!e)return e;e+="";do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(g++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(g++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(g++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(g++)),
a=b<<18|c<<12|d<<6|h,b=a>>16&255,c=a>>8&255,a&=255,64==d?p[u++]=String.fromCharCode(b):64==h?p[u++]=String.fromCharCode(b,c):p[u++]=String.fromCharCode(b,c,a);while(g<e.length);d=p.join("");return decodeURIComponent(escape(d.replace(/\0+$/,"")))}})()},{}],2:[function(f,q,l){var e;e||(e={});(function(){function b(a){return 10>a?"0"+a:a}function c(a){u.lastIndex=0;return u.test(a)?'"'+a.replace(u,function(a){var d=m[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function a(d,b){var h,g,m,u,t=p,f,z=b[d];z&&"object"===typeof z&&"function"===typeof z.toJSON&&(z=z.toJSON(d));"function"===typeof v&&(z=v.call(b,d,z));switch(typeof z){case "string":return c(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);case "object":if(!z)return"null";p+=e;f=[];if("[object Array]"===Object.prototype.toString.apply(z)){u=z.length;for(h=0;h<u;h+=1)f[h]=a(h,z)||"null";m=0===f.length?"[]":p?"[\n"+p+f.join(",\n"+p)+"\n"+
t+"]":"["+f.join(",")+"]";p=t;return m}if(v&&"object"===typeof v)for(u=v.length,h=0;h<u;h+=1)"string"===typeof v[h]&&(g=v[h],(m=a(g,z))&&f.push(c(g)+(p?": ":":")+m));else for(g in z)Object.prototype.hasOwnProperty.call(z,g)&&(m=a(g,z))&&f.push(c(g)+(p?": ":":")+m);m=0===f.length?"{}":p?"{\n"+p+f.join(",\n"+p)+"\n"+t+"}":"{"+f.join(",")+"}";p=t;return m}}var d=Function("return this")(),h=d.JSON;h||(h={});"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p,e,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;"function"!==typeof h.stringify&&(h.stringify=function(d,b,h){var g;e=p="";if("number"===typeof h)for(g=0;g<h;g+=1)e+=" ";else"string"===typeof h&&(e=h);if((v=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return a("",{"":d})});"function"!==typeof h.parse&&(h.parse=function(a,d){function v(a,r){var b,h,g=a[r];if(g&&"object"===typeof g)for(b in g)Object.prototype.hasOwnProperty.call(g,
b)&&(h=v(g,b),void 0!==h?g[b]=h:delete g[b]);return d.call(a,r,g)}var b;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+a+")"),"function"===typeof d?v({"":b},""):b;throw new SyntaxError("JSON.parse");});d.JSON=h;
q.exports=h})()},{}],3:[function(f,q,l){this.cookie=function(e,b,c,a,d,h){return 1<arguments.length?document.cookie=e+"="+escape(b)+(c?"; expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(a?"; path="+a:"")+(d?"; domain="+d:"")+(h?"; secure":""):unescape((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}},{}],4:[function(f,q,l){(function(e){var b=function(){var c=function(a){a=-a.getTimezoneOffset();return null!==a?a:0},a=function(a,b,g){var c=new Date;void 0!==a&&c.setFullYear(a);
c.setMonth(b);c.setDate(g);return c};return{determine:function(){var d=c(a(void 0,0,2)),h=c(a(void 0,5,2)),g=d-h;return new b.TimeZone(b.olson.timezones[0>g?d+",1":0<g?h+",1,s":d+",0"])},date_is_dst:function(d){var b=7<d.getMonth(),g;b?(g=d.getFullYear(),g=c(a(g,5,2))):(g=d.getFullYear(),g=c(a(g,0,2)));d=c(d);d=g-d;return 0>g||b?0!==d:0>d},dst_start_for:function(a){var b=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,
2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,
2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,
"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":b,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":b,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[a]}}}();b.TimeZone=function(c){var a={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],
"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon",
"America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=c;"undefined"!==
typeof a[d]&&function(){for(var h=a[d],g=h.length,c=0,e=h[0];c<g;c+=1)if(e=h[c],b.date_is_dst(b.dst_start_for(e))){d=e;break}}();return{name:function(){return d}}};b.olson={};b.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala",
"-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin",
"60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla",
"525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};"undefined"!==
typeof l?l.jstz=b:e.jstz=b})(this)},{}],5:[function(f,q,l){(function(){function e(a,d){var b,g,c,e,n;b=a.length&3;g=a.length-b;c=d;for(n=0;n<g;)e=a.charCodeAt(n)&255|(a.charCodeAt(++n)&255)<<8|(a.charCodeAt(++n)&255)<<16|(a.charCodeAt(++n)&255)<<24,++n,e=3432918353*(e&65535)+((3432918353*(e>>>16)&65535)<<16)&4294967295,e=e<<15|e>>>17,e=461845907*(e&65535)+((461845907*(e>>>16)&65535)<<16)&4294967295,c^=e,c=c<<13|c>>>19,c=5*(c&65535)+((5*(c>>>16)&65535)<<16)&4294967295,c=(c&65535)+27492+(((c>>>16)+
58964&65535)<<16);e=0;switch(b){case 3:e^=(a.charCodeAt(n+2)&255)<<16;case 2:e^=(a.charCodeAt(n+1)&255)<<8;case 1:e^=a.charCodeAt(n)&255,e=3432918353*(e&65535)+((3432918353*(e>>>16)&65535)<<16)&4294967295,e=e<<15|e>>>17,c^=461845907*(e&65535)+((461845907*(e>>>16)&65535)<<16)&4294967295}c^=a.length;c^=c>>>16;c=2246822507*(c&65535)+((2246822507*(c>>>16)&65535)<<16)&4294967295;c^=c>>>13;c=3266489909*(c&65535)+((3266489909*(c>>>16)&65535)<<16)&4294967295;return(c^c>>>16)>>>0}var b=this;e.v2=function(a,
d){for(var b=a.length,c=d^b,e=0,p;4<=b;)p=a.charCodeAt(e)&255|(a.charCodeAt(++e)&255)<<8|(a.charCodeAt(++e)&255)<<16|(a.charCodeAt(++e)&255)<<24,p=1540483477*(p&65535)+((1540483477*(p>>>16)&65535)<<16),p^=p>>>24,p=1540483477*(p&65535)+((1540483477*(p>>>16)&65535)<<16),c=1540483477*(c&65535)+((1540483477*(c>>>16)&65535)<<16)^p,b-=4,++e;switch(b){case 3:c^=(a.charCodeAt(e+2)&255)<<16;case 2:c^=(a.charCodeAt(e+1)&255)<<8;case 1:c^=a.charCodeAt(e)&255,c=1540483477*(c&65535)+((1540483477*(c>>>16)&65535)<<
16)}c^=c>>>13;c=1540483477*(c&65535)+((1540483477*(c>>>16)&65535)<<16);return(c^c>>>15)>>>0};e.v3=e;if("undefined"!=typeof q)q.exports=e;else{var c=b.murmur;e.noConflict=function(){b.murmur=c;return e};b.murmur=e}})()},{}],6:[function(f,q,l){var e={utf8:{stringToBytes:function(b){return e.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(e.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var c=[],a=0;a<b.length;a++)c.push(b.charCodeAt(a)&
255);return c},bytesToString:function(b){for(var c=[],a=0;a<b.length;a++)c.push(String.fromCharCode(b[a]));return c.join("")}}};q.exports=e},{}],7:[function(f,q,l){(function(){var e={rotl:function(b,c){return b<<c|b>>>32-c},rotr:function(b,c){return b<<32-c|b>>>c},endian:function(b){if(b.constructor==Number)return e.rotl(b,8)&16711935|e.rotl(b,24)&4278255360;for(var c=0;c<b.length;c++)b[c]=e.endian(b[c]);return b},randomBytes:function(b){for(var c=[];0<b;b--)c.push(Math.floor(256*Math.random()));
return c},bytesToWords:function(b){for(var c=[],a=0,d=0;a<b.length;a++,d+=8)c[d>>>5]|=b[a]<<24-d%32;return c},wordsToBytes:function(b){for(var c=[],a=0;a<32*b.length;a+=8)c.push(b[a>>>5]>>>24-a%32&255);return c},bytesToHex:function(b){for(var c=[],a=0;a<b.length;a++)c.push((b[a]>>>4).toString(16)),c.push((b[a]&15).toString(16));return c.join("")},hexToBytes:function(b){for(var c=[],a=0;a<b.length;a+=2)c.push(parseInt(b.substr(a,2),16));return c},bytesToBase64:function(b){for(var c=[],a=0;a<b.length;a+=
3)for(var d=b[a]<<16|b[a+1]<<8|b[a+2],e=0;4>e;e++)8*a+6*e<=8*b.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>6*(3-e)&63)):c.push("=");return c.join("")},base64ToBytes:function(b){b=b.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],a=0,d=0;a<b.length;d=++a%4)0!=d&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(a-1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(a))>>>
6-2*d);return c}};q.exports=e})()},{}],8:[function(f,q,l){(function(){var e=f("crypt"),b=f("charenc").utf8,c=f("charenc").bin,a=function(a){a.constructor==String&&(a=b.stringToBytes(a));var d=e.bytesToWords(a),c=8*a.length;a=[];var p=1732584193,n=-271733879,m=-1732584194,v=271733878,r=-1009589776;d[c>>5]|=128<<24-c%32;d[(c+64>>>9<<4)+15]=c;for(c=0;c<d.length;c+=16){for(var E=p,K=n,ba=m,f=v,R=r,t=0;80>t;t++){if(16>t)a[t]=d[c+t];else{var l=a[t-3]^a[t-8]^a[t-14]^a[t-16];a[t]=l<<1|l>>>31}l=(p<<5|p>>>
27)+r+(a[t]>>>0)+(20>t?(n&m|~n&v)+1518500249:40>t?(n^m^v)+1859775393:60>t?(n&m|n&v|m&v)-1894007588:(n^m^v)-899497514);r=v;v=m;m=n<<30|n>>>2;n=p;p=l}p+=E;n+=K;m+=ba;v+=f;r+=R}return[p,n,m,v,r]},d=function(d,b){var f=e.wordsToBytes(a(d));return b&&b.asBytes?f:b&&b.asString?c.bytesToString(f):e.bytesToHex(f)};d._blocksize=16;d._digestsize=20;q.exports=d})()},{charenc:6,crypt:7}],9:[function(f,q,l){q.exports=f("./lib/core")},{"./lib/core":11}],10:[function(f,q,l){q.exports=f(1)},{}],11:[function(f,q,
l){var e=f("./payload.js"),b=f("../../uuid");String.prototype.trim||function(){var b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(b,"")}}();q.exports=function(c,a,d,h){function g(a,d){var b={};d=d||{};for(var c in a)if(d[c]||null!==a[c]&&"undefined"!==typeof a[c])b[c]=a[c];return b}function f(){return this.tid=this.tid||b.v4()}function p(a,b,c){a.addDict(m);a.add("tid",f());this.tid=null;this._mather.uid&&a.add("uid",this._mather.uid);this._mather.pageId&&
a.add("pid",this._mather.pageId);a.add("dtm",c||(new Date).getTime());a.add("qnm",d);if(c=a.getValue("ctx")){b=b||{schema:"not used",data:{}};for(var e in c){var g=b.data;g[e]=b[e]||{};for(var n in c[e])g[e][n]=c[e][n]}a.remove("ctx")}b&&a.addJson("cx","co",b?b.data:null,!1);"function"===typeof h&&h(a);return a}function n(a,b,d,m){var g=e.payloadBuilder(c);g.add("e","ue");g.add("ue_na",a);g.addJson("ue_px","ue_pr",b,!0);return p(g,d,m)}var m={};"undefined"===typeof c&&(c=!0);this._mather=a||{};return{setBase64Encoding:function(a){c=
a},addPayloadPair:function(a,b){m[a]=b},addPayloadDict:function(a){for(var b in a)a.hasOwnProperty(b)&&(m[b]=a[b])},resetPayloadPairs:function(a){m=e.isJson(a)?a:{}},setTrackerVersion:function(a){m.tv=a},setTrackerNamespace:function(a){m.tna=a},setAppId:function(a){m.aid=a},setPlatform:function(a){m.p=a},setUserId:function(a){m.uid=a},setScreenResolution:function(a,b){m.res=a+"x"+b},setViewport:function(a,b){m.vp=a+"x"+b},setColorDepth:function(a){m.cd=a},setTimezone:function(a){m.tz=a},setLang:function(a){m.lang=
a},setIpAddress:function(a){m.ip=a},getTid:function(){return f()},trackUnstructEvent:n,trackPageView:function(a,b,d,m,g,h){var n=e.payloadBuilder(c);n.add("e","pv");n.add("url",a);n.add("page",b);n.add("refr",d);for(var f in m)n.add(f,m[f]);return p(n,g,h)},trackPagePing:function(a,b,d,m,g,h,n,f,u,l,q){var C=e.payloadBuilder(c);C.add("e","pp");C.add("url",a);C.add("page",b);C.add("refr",d);for(var ca in m)C.add(ca,m[ca]);C.add("pp_mix",g);C.add("pp_max",h);C.add("pp_miy",n);C.add("pp_may",f);u&&C.add("pp_ev",
u);return p(C,l,q)},trackStructEvent:function(a,b,d,m,g,h,n){var f=e.payloadBuilder(c);f.add("e","se");f.add("se_ca",a);f.add("se_ac",b);f.add("se_la",d);f.add("se_pr",m);f.add("se_va",g);return p(f,h,n)},trackEcommerceTransaction:function(a,b,d,m,g,h,n,f,u,l,q){var C=e.payloadBuilder(c);C.add("e","tr");C.add("tr_id",a);C.add("tr_af",b);C.add("tr_tt",d);C.add("tr_tx",m);C.add("tr_sh",g);C.add("tr_ci",h);C.add("tr_st",n);C.add("tr_co",f);C.add("tr_cu",u);return p(C,l,q)},trackEcommerceTransactionItem:function(a,
b,d,m,g,h,n,f,u){var l=e.payloadBuilder(c);l.add("e","ti");l.add("ti_id",a);l.add("ti_sk",b);l.add("ti_nm",d);l.add("ti_ca",m);l.add("ti_pr",g);l.add("ti_qu",h);l.add("ti_cu",n);return p(l,f,u)},trackScreenView:function(a,b,d,c){return n({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:g({name:a,id:b})},d,c)},trackLinkClick:function(a,b,d,c,e,m,h){a={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:g({targetUrl:a,elementId:b,elementClasses:d,
elementTarget:c,elementContent:e})};return n(a,m,h)},trackAdClick:function(a,b,d,c,e,m,h,f,p,u,l){a={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:g({targetUrl:a,clickId:b,costModel:d,cost:c,bannerId:e,zoneId:m,impressionId:h,advertiserId:f,campaignId:p})};return n(a,u,l)},trackAdConversion:function(a,b,d,c,e,m,h,f,p,u,l){a={schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:g({conversionId:a,costModel:b,cost:d,category:c,action:e,property:m,
initialValue:h,advertiserId:f,campaignId:p})};return n(a,u,l)},trackGenericEvent:function(a,b,d,m,g){var h=e.payloadBuilder(c);h.add("e",a);b=b?{schema:"not used",data:b}:null;m&&h.add("error",m);if(d)for(var n in d)h.add(n,d[n]);return p(h,b,g)},trackSocialInteraction:function(a,b,d,c,e){a={schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:g({action:a,network:b,target:d})};return n(a,c,e)},trackAddToCart:function(a,b,d,c,e,m,h,f){return n({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",
data:g({sku:a,name:b,category:d,unitPrice:c,quantity:e,currency:m})},h,f)},trackRemoveFromCart:function(a,b,d,c,e,m,h,f){return n({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:g({sku:a,name:b,category:d,unitPrice:c,quantity:e,currency:m})},h,f)},trackFormChange:function(a,b,d,c,e,m,h,f){return n({schema:"iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",data:g({formId:a,elementId:b,nodeName:d,type:c,elementClasses:e,value:m},{value:!0})},h,f)},
trackFormSubmission:function(a,b,d,c,e){return n({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:g({formId:a,formClasses:b,elements:d})},c,e)},trackSiteSearch:function(a,b,d,c,e,m){return n({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:g({terms:a,filters:b,totalResults:d,pageResults:c})},e,m)}}}},{"../../uuid":15,"./payload.js":12}],12:[function(f,q,l){(function(){function e(a){return a?c.base64encode(a).replace(/=/g,"").replace(/\+/g,
"-").replace(/\//g,"_"):a}var b=f("JSON"),c=f("./base64"),a=f("../../../src/js/lib/helpers"),d="undefined"!==typeof l?l:this;d.isJson=function(a){return"undefined"!==typeof a&&null!==a&&("[object Object]"===a.toString()||a.constructor===Array)};d.isNonEmptyJson=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};d.payloadBuilder=function(c){var g={},f=function(a,b){void 0!==b&&null!==b&&""!==b&&(g[a]=b)};return{add:f,remove:function(a){void 0!==g[a]&&delete g[a]},getValue:function(a){return g[a]},
addDict:function(a){for(var b in a)a.hasOwnProperty(b)&&f(b,a[b])},addJson:function(g,n,m,v){var r=null;if("string"===typeof m)try{m=b.parse(m)}catch(E){r="notJsonString"}r||(!m&&v?r="required":d.isJson(m)?d.isNonEmptyJson(m)&&(v=b.stringify(m,function(a,b){return"boolean"===typeof b?b?"1":"0":"number"===typeof b?b.toString():b}),"<object>"==v?r="objectTag":c?f(g,e(v)):f(n,v)):r="notJson");if(r)try{var K=a.getCurrentScript(),l;g="badjson-"+r;f("error",g);K&&a.setScriptAttribute("error:"+g,{script:K});
(l=a.getMatherTagValue(K,1600))&&f("error_tag",e(l));m&&f("error_json",e(m))}catch(Y){f("error","bad json: "+Y)}},build:function(){return g}}}})()},{"../../../src/js/lib/helpers":20,"./base64":10,JSON:2}],13:[function(f,q,l){q.exports=Array},{}],14:[function(f,q,l){(function(e){var b;if(e.crypto&&crypto.getRandomValues){var c=new Uint8Array(16);b=function(){crypto.getRandomValues(c);return c}}if(!b){var a=Array(16);b=function(){for(var b=0,c;16>b;b++)0===(b&3)&&(c=4294967296*Math.random()),a[b]=c>>>
((b&3)<<3)&255;return a}}q.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],15:[function(f,q,l){function e(a,b){var c=b||0,e=d;return e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]}function b(b,d,g){g=d&&g||0;"string"==typeof b&&(d="binary"==b?new a(16):null,b=null);b=b||{};b=b.random||(b.rng||c)();b[6]=b[6]&15|64;b[8]=b[8]&
63|128;if(d)for(var h=0;16>h;h++)d[g+h]=b[h];return d||e(b)}var c=f("./rng"),a=f("./buffer"),d=[],h={};for(f=0;256>f;f++)d[f]=(f+256).toString(16).substr(1),h[d[f]]=f;f=c();var g=[f[0]|1,f[1],f[2],f[3],f[4],f[5]],u=(f[6]<<8|f[7])&16383,p=0,n=0;b.v1=function(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var h=void 0!==a.clockseq?a.clockseq:u,f=void 0!==a.msecs?a.msecs:(new Date).getTime(),l=void 0!==a.nsecs?a.nsecs:n+1,q=f-p+(l-n)/1E4;0>q&&void 0===a.clockseq&&(h=h+1&16383);(0>q||f>p)&&void 0===a.nsecs&&(l=
0);if(1E4<=l)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");p=f;n=l;u=h;f+=122192928E5;l=(1E4*(f&268435455)+l)%4294967296;d[c++]=l>>>24&255;d[c++]=l>>>16&255;d[c++]=l>>>8&255;d[c++]=l&255;f=f/4294967296*1E4&268435455;d[c++]=f>>>8&255;d[c++]=f&255;d[c++]=f>>>24&15|16;d[c++]=f>>>16&255;d[c++]=h>>>8|128;d[c++]=h&255;a=a.node||g;for(h=0;6>h;h++)d[c+h]=a[h];return b?b:e(d)};b.v4=b;b.parse=function(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>
e&&(b[d+e++]=h[a])});16>e;)b[d+e++]=0;return b};b.unparse=e;b.BufferClass=a;q.exports=b},{"./buffer":13,"./rng":14}],16:[function(f,q,l){var e=f("./lib_managed/lodash"),b=f("./lib/helpers");("undefined"!==typeof l?l:this).getFormTrackingManager=function(c,a){function d(a){return a[e.find(["name","id","type","nodeName"],function(b){return a[b]&&"string"===typeof a[b]})]}function h(a){for(;a&&"HTML"!==a.nodeName.toUpperCase()&&"FORM"!==a.nodeName.toUpperCase();)a=a.parentNode;if("FORM"===a.nodeName.toUpperCase())return d(a)}
function g(a){var b=[];e.map(n,function(c){e.map(a.getElementsByTagName(c),function(a){if("submit"!==a.type){var c={name:d(a),value:a.value,nodeName:a.nodeName};a.type&&"INPUT"===a.nodeName.toUpperCase()&&(c.type=a.type);"checkbox"!==a.type&&"radio"!==a.type||a.checked||(c.value=null);b.push(c)}})});return b}function f(a){return function(b){b=b.target;var g="INPUT"===b.nodeName.toUpperCase()?b.type:null,f="checkbox"!==b.type||b.checked?b.value:null;c.trackFormChange(h(b),d(b),b.nodeName,g,e.map(b.classList),
f,a)}}function l(a){return function(b){b=b.target;var h=g(b);c.trackFormSubmission(d(b),e.map(b.classList),h,a)}}var n=["textarea","input","select"];return{addFormListeners:function(c){var d=a+"form";e.map(n,function(a){e.map(document.getElementsByTagName(a),function(a){a[d]||(b.addEventListener(a,"change",f(c),!1),a[d]=!0)})});e.map(document.getElementsByTagName("form"),function(a){a[d]||(b.addEventListener(a,"submit",l(c)),a[d]=!0)})}}}},{"./lib/helpers":20,"./lib_managed/lodash":22}],17:[function(f,
q,l){(function(){var e=f("./lib_managed/lodash"),b=f("./lib/helpers");("undefined"!==typeof l?l:this).InQueueManager=function(c,a,d,h,g){function f(a){var b=[];if(a&&0!==a.length)for(var c=0;c<a.length;c++)v.hasOwnProperty(a[c])&&b.push(v[a[c]]);else b=e.map(v);return b}function l(b,e,h){h=h||{};!h.writeCookies&&h.cookieName in r?h.writeCookies=!1:r[h.cookieName]=!0;v[b]=new c(g,b,a,d,h);e&&v[b].setCollectorUrl(e)}function n(){var a,c,d,g,h,n;for(a=0;a<arguments.length;a+=1)if(g=arguments[a],h=Array.prototype.shift.call(g),
e.isFunction(h))h.apply(v,g);else if(c=h.split(":"),d=c[0],c=1<c.length?c[1].split(";"):[],c=[d,c],d=c[0],c=c[1],"newTracker"===d)l(g[0],g[1],g[2]);else for(n=f(c),c=0;c<n.length;c++)if(d in n[c])try{n[c][d].apply(n[c],g)}catch(m){var r="";e.isString(m.stack)&&(r="\n"+m.stack,600<r.length&&(r=r.substr(0,600)+"\n<<< Stack Trace Truncated >>>"));b.logError(h+" failed ("+m+")"+r)}else b.logError(h+" is not a valid Listener function")}function m(a,b){for(;a.length;)n(a.shift())}var v={},r={};-1!=["_snaq",
"_matherq"].indexOf(g)&&l("Mather");m(h,g);var q=f([])[0].getPollInterval();q&&setInterval(function(){m(h,g)},Math.max(100,q));return{push:n}}})()},{"./lib/helpers":20,"./lib_managed/lodash":22}],18:[function(f,q,l){f=f("./snowplow");window._snaq=window._snaq||[];window._snaq=new f.Snowplow(window._snaq,"_snaq");window._matherq=window._matherq||[];window._matherq=new f.Snowplow(window._matherq,"_matherq")},{"./snowplow":25}],19:[function(f,q,l){(function(){var e=f("../lib_managed/lodash"),b=f("murmurhash").v3,
c=f("jstimezonedetect").jstz.determine(),a=f("browser-cookie-lite"),d="undefined"!==typeof l?l:this,h=window,g=navigator,u=screen,p=document;d.hasSessionStorage=function(){try{return!!h.sessionStorage}catch(a){return!0}};d.hasLocalStorage=function(){try{return!!h.localStorage}catch(a){return!0}};d.localStorageAccessible=function(){if(!d.hasLocalStorage())return!1;try{return h.localStorage.setItem("modernizr","modernizr"),h.localStorage.removeItem("modernizr"),!0}catch(a){return!1}};d.hasCookies=function(b){b=
b||"testcookie";return e.isUndefined(g.cookieEnabled)?(a.cookie(b,"1"),"1"===a.cookie(b)?"1":"0"):g.cookieEnabled?"1":"0"};d.detectSignature=function(a){var c=[g.userAgent,[u.height,u.width,u.colorDepth].join("x"),(new Date).getTimezoneOffset(),d.hasSessionStorage(),d.hasLocalStorage()],e=[];if(g.plugins)for(var h=0;h<g.plugins.length;h++){for(var f=[],l=0;l<g.plugins[h].length;l++)f.push([g.plugins[h][l].type,g.plugins[h][l].suffixes]);e.push([g.plugins[h].name+"::"+g.plugins[h].description,f.join("~")])}return b(c.join("###")+
"###"+e.sort().join(";"),a)};d.detectTimezone=function(){return"undefined"===typeof c?"":c.name()};d.detectViewport=function(){var a=h,b="inner";"innerWidth"in h||(b="client",a=p.documentElement||p.body);return a[b+"Width"]+"x"+a[b+"Height"]};d.detectDocumentSize=function(){var a=p.documentElement,b=Math.max(a.clientWidth,a.offsetWidth,a.scrollWidth),a=Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight);return isNaN(b)||isNaN(a)?"":b+"x"+a};d.detectCrossDomain=function(a){a=a||window;try{return null==
a.top.document}catch(b){return!0}};d.detectMobileDevice=function(){try{var a=new mobile_detect(g.userAgent),b=a.phone(),c=a.tablet();return{isMobile:b||c?!0:!1,phone:b,tablet:c}}catch(d){return{isMobile:!1}}};d.detectPrivb=function(a){try{var b=window.RequestFileSystem||window.webkitRequestFileSystem;b?b(window.TEMPORARY,1,function(){a("0")},function(b){a("1")}):a("n/a")}catch(c){a("failed")}};d.detectBrowserFeatures=function(a,b,c){var f,l={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",
wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},p={};d.detectPrivb(c);if(g.mimeTypes&&g.mimeTypes.length)for(f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c=g.mimeTypes[l[f]])&&c.enabledPlugin&&(p[f]="1");"undefined"!==typeof g.javaEnabled&&!e.isUndefined(g.javaEnabled)&&g.javaEnabled()&&(p.java="1");e.isFunction(h.GearsFactory)&&(p.gears="1");p.res=u.width+
"x"+u.height;p.cd=u.colorDepth;a&&(p.cookie=d.hasCookies(b));"undefined"!==typeof window.jQuery&&(p.jquery="1");d.detectCrossDomain()&&(p.crossdomain="1");d.localStorageAccessible()||(p.nolocalstorage="1");return p}})()},{"../lib_managed/lodash":22,"browser-cookie-lite":3,jstimezonedetect:4,murmurhash:5}],20:[function(f,q,l){(function(){f("../lib_managed/lodash");var e=!1,b=!1,c="undefined"!==typeof l?l:this;c.fixupTitle=function(a){c.isObject(a)?a=a.text||"":a||(a=(document.getElementsByTagName("title")[0]||
{}).text||"");return a.trim()};c.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};c.fixupDomain=function(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));return a};c.getReferrer=function(){var a="",b=c.fromQuerystring("referrer",window.location.href)||c.fromQuerystring("referer",window.location.href);if(b)return b;try{a=window.top.document.referrer}catch(e){if(window.parent)try{a=window.parent.document.referrer}catch(g){a=
""}}""===a&&(a=document.referrer);return a};c.addEventListener=function(a,b,c,e){if(a.addEventListener)return a.addEventListener(b,c,e),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c;return!0};c.removeEventListener=function(a,b,c,e){a.removeEventListener?a.removeEventListener(b,c,e):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null};c.fromQuerystring=function(a,b){var c=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(b);return c?decodeURIComponent(c[1].replace(/\+/g," ")):null};c.logMsg=
function(a,c,h){if("undefined"!==typeof console&&("undefined"===typeof c&&(c="log"),"undefined"===typeof h&&(h=!0),!h||!(!e||!b&&0<a.indexOf("deprecated"))))switch(a="Mather Listener: "+a,c){default:case "log":console.log(a);break;case "warn":console.warn(a);break;case "error":console.error(a)}};c.logWarn=c.warn=function(a){c.logMsg(a,"warn",!0)};c.warn=c.logWarn;c.logError=function(a){c.logMsg(a,"error",!1)};c.setDebug=function(a,c){e=a;b="undefined"!==c?c:!1};c.getCurrentScript=function(){try{var a;
if(!(a=document.currentScript))a:{for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++){var e=b[c];if(!e.uniqueID)break;if(e._mather_sp==e.uniqueID){a=e;break a}}a=null}return a}catch(f){return null}};c.getMatherTag=function(a){return a&&a._mather_tag?a._mather_tag:null};c.getMatherTagValue=function(a,b){try{var e=c.getMatherTag(a);if(e){var g=e&&e.text?e.text.slice(0,b-1):"";if(g&&-1!=g.indexOf("_snaq")||g&&-1!=g.indexOf("_matherq"))return g}}catch(f){}return null};c.setScriptAttribute=
function(a,b){b="object"===typeof b?b:{};try{var e=b.script||c.getCurrentScript();if(e){var g=b.attr||"data-mather_state",f;"data-mather_state"==g&&(f=(e.getAttribute(g)||"").toLowerCase())&&0==f.indexOf("error:")||e.setAttribute(g,a)}}catch(l){}};c.parseQueryString=function(a){var b={};a=(a||window.location.search).substr(1).split("&");for(var c=0;c<a.length;c++){var e=a[c].split("=");b[decodeURIComponent(e[0].toLowerCase())]=decodeURIComponent(e[1]||"")}return b};c.isObject=function(a){return"[object Object]"===
Object.prototype.toString.call(a)};c.merge=function d(b,e){c.isObject(b)||(b={});for(var f in e)if(e.hasOwnProperty(f)){var l=e[f];c.isObject(l)?b[f]=d(b[f],l):b[f]=l}f=2;for(l=arguments.length;f<l;f++)d(b,arguments[f]);return b}})()},{"../lib_managed/lodash":22}],21:[function(f,q,l){(function(){var e=f("./helpers");("undefined"!==typeof l?l:this).fixupUrl=function(b,c,a){if("translate.googleusercontent.com"===b)""===a&&(a=c),b=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(c),c=e.fromQuerystring("u",
b[1]),b=e.getHostName(c);else{var d;if(!(d="cc.bingj.com"===b||"webcache.googleusercontent.com"===b))a:{var f;if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(b))try{f=document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML;d="You have reached the cached page for"===f.slice(0,36);break a}catch(g){d=!1;break a}d=void 0}d&&(c=document.links[0].href,
b=e.getHostName(c))}return[b,c,a]}})()},{"./helpers":20}],22:[function(f,q,l){(function(e){(function(){function b(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function c(a){a.length=0;40>M.length&&M.push(a)}function a(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function d(){}function f(b){function c(){if(e){var b=a(e);S.apply(b,arguments)}if(this instanceof c){var H=u(d.prototype),b=d.apply(H,b||arguments);
return Y(b)?b:H}return d.apply(g,b||arguments)}var d=b[0],e=b[2],g=b[4];X(c,b);return c}function g(d,e,f,h,l){if(f){var m=f(d);if("undefined"!=typeof m)return m}if(Y(d)){var n=F.call(d);if(!W[n]||!x.nodeClass&&b(d))return d;var p=I[n];switch(n){case "[object Boolean]":case "[object Date]":return new p(+d);case "[object Number]":case "[object String]":return new p(d);case "[object RegExp]":return m=p(d.source,Za.exec(d)),m.lastIndex=d.lastIndex,m}}else return d;n=ia(d);if(e){var r=!h;h||(h=M.pop()||
[]);l||(l=M.pop()||[]);for(var u=h.length;u--;)if(h[u]==d)return l[u];m=n?p(d.length):{}}else m=n?a(d):ua({},d);n&&(A.call(d,"index")&&(m.index=d.index),A.call(d,"input")&&(m.input=d.input));if(!e)return m;h.push(d);l.push(m);(n?da:oa)(d,function(a,b){m[b]=g(a,e,f,h,l)});r&&(c(h),c(l));return m}function u(a,b){return Y(a)?B(a):{}}function p(a,b,c){if("function"!=typeof a)return C;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(x.funcNames&&(d=
!a.name),d=d||!x.funcDecomp,!d)){var e=D.call(a);x.funcNames||(d=!T.test(e));d||(d=pa.test(e),X(a,d))}if(!1===d||!0!==d&&d[1]&1)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return L(a,b)}function n(b){function c(){var b=l?h:this;if(f){var H=a(f);S.apply(H,arguments)}if(g||r)if(H||(H=a(arguments)),g&&S.apply(H,g),r&&H.length<
m)return e|=16,n([d,t?e:e&-4,H,null,h,m]);H||(H=arguments);p&&(d=b[q]);return this instanceof c?(b=u(d.prototype),H=d.apply(b,H),Y(H)?H:b):d.apply(b,H)}var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],m=b[5],l=e&1,p=e&2,r=e&4,t=e&8,q=d;X(c,b);return c}function m(a,d,e,f,g,h){if(e){var l=e(a,d);if("undefined"!=typeof l)return!!l}if(a===d)return 0!==a||1/a==1/d;if(!(a!==a||a&&U[typeof a]||d&&U[typeof d]))return!1;if(null==a||null==d)return a===d;var n=F.call(a),p=F.call(d);"[object Arguments]"==n&&(n="[object Object]");
"[object Arguments]"==p&&(p="[object Object]");if(n!=p)return!1;switch(n){case "[object Boolean]":case "[object Date]":return+a==+d;case "[object Number]":return a!=+a?d!=+d:0==a?1/a==1/d:a==+d;case "[object RegExp]":case "[object String]":return a==String(d)}p="[object Array]"==n;if(!p){var r=A.call(a,"__wrapped__"),u=A.call(d,"__wrapped__");if(r||u)return m(r?a.__wrapped__:a,u?d.__wrapped__:d,e,f,g,h);if("[object Object]"!=n||!x.nodeClass&&(b(a)||b(d)))return!1;n=!x.argsObject&&K(a)?Object:a.constructor;
r=!x.argsObject&&K(d)?Object:d.constructor;if(n!=r&&!(ba(n)&&n instanceof n&&ba(r)&&r instanceof r)&&"constructor"in a&&"constructor"in d)return!1}n=!g;g||(g=M.pop()||[]);h||(h=M.pop()||[]);for(r=g.length;r--;)if(g[r]==a)return h[r]==d;var t=0,l=!0;g.push(a);h.push(d);if(p){if(r=a.length,t=d.length,(l=t==r)||f)for(;t--;)if(p=r,u=d[t],f)for(;p--&&!(l=m(a[p],u,e,f,g,h)););else if(!(l=m(a[t],u,e,f,g,h)))break}else aa(d,function(b,c,d){if(A.call(d,c))return t++,l=A.call(a,c)&&m(a[c],b,e,f,g,h)}),l&&!f&&
aa(a,function(a,b,c){if(A.call(c,b))return l=-1<--t});g.pop();h.pop();n&&(c(g),c(h));return l}function v(b,c,d,e,g,l){var m=c&1,p=c&4,r=c&16,u=c&32;if(!(c&2||ba(b)))throw new TypeError;r&&!d.length&&(c&=-17,r=d=!1);u&&!e.length&&(c&=-33,u=e=!1);var t=b&&b.__bindData__;return t&&!0!==t?(t=a(t),t[2]&&(t[2]=a(t[2])),t[3]&&(t[3]=a(t[3])),!m||t[1]&1||(t[4]=g),!m&&t[1]&1&&(c|=8),!p||t[1]&4||(t[5]=l),r&&S.apply(t[2]||(t[2]=[]),d),u&&qa.apply(t[3]||(t[3]=[]),e),t[1]|=c,v.apply(null,t)):(1==c||17===c?f:n)([b,
c,d,e,g,l])}function r(){O.shadowedProps=Da;O.array=O.bottom=O.loop=O.top="";O.init="iterable";O.useHas=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)O[c]=a[c];a=O.args;O.firstArg=/^[^,]+/.exec(a)[0];b=Function;c=O;var d="var index, iterable = "+c.firstArg+", result = "+c.init+";\nif (!iterable) return result;\n"+c.top+";";c.array?(d+="\nvar length = iterable.length; index = -1;\nif ("+c.array+") {  ",x.unindexedChars&&(d+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),
d+="\n  while (++index < length) {\n    "+c.loop+";\n  }\n}\nelse {  "):x.nonEnumArgs&&(d+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+c.loop+";\n    }\n  } else {  ");x.enumPrototypes&&(d+="\n  var skipProto = typeof iterable == 'function';\n  ");x.enumErrorProps&&(d+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var e=[];x.enumPrototypes&&e.push('!(skipProto && index == "prototype")');
x.enumErrorProps&&e.push('!(skipErrorProps && (index == "message" || index == "name"))');if(c.useHas&&c.keys)d+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",e.length&&(d+="    if ("+e.join(" && ")+") {\n  "),d+=c.loop+";    ",e.length&&(d+="\n    }"),d+="\n  }  ";else if(d+="\n  for (index in iterable) {\n",c.useHas&&e.push("hasOwnProperty.call(iterable, index)"),
e.length&&(d+="    if ("+e.join(" && ")+") {\n  "),d+=c.loop+";    ",e.length&&(d+="\n    }"),d+="\n  }    ",x.nonEnumShadows){d+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;7>k;k++)d+="\n    index = '"+c.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",
c.useHas||(d+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),d+=") {\n      "+c.loop+";\n    }      ";d+="\n  }    "}if(c.array||x.nonEnumArgs)d+="\n}";d+=c.bottom+";\nreturn result";return b("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+a+") {\n"+d+"\n}")(p,"[object Error]",va,A,La,K,ia,R,O.keys,ra,U,J,"[object String]",
Ma,F)}function E(a){return"function"==typeof a&&ka.test(a)}function K(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Arguments]"==F.call(a)||!1}function ba(a){return"function"==typeof a}function Y(a){return!(!a||!U[typeof a])}function R(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"==F.call(a)||!1}function t(a,b,c){var e=[];b=d.createCallback(b,c,3);if(ia(a)){c=-1;for(var f=a.length;++c<f;){var g=a[c];b(g,c,a)&&e.push(g)}}else da(a,function(a,c,d){b(a,
c,d)&&e.push(a)});return e}function ha(a,b,c){b=d.createCallback(b,c,3);if(ia(a)){c=-1;for(var e=a.length;++c<e;){var f=a[c];if(b(f,c,a))return f}}else{var g;da(a,function(a,c,d){if(b(a,c,d))return g=a,!1});return g}}function z(a,b,c){var e=-1,f=a?a.length:0,g=Array("number"==typeof f?f:0);b=d.createCallback(b,c,3);if(ia(a))for(;++e<f;)g[e]=b(a[e],e,a);else da(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function L(b,c){return 2<arguments.length?v(b,17,a(arguments,2),null,c):v(b,1,null,null,c)}function C(a){return a}
function ca(){}function wa(a){return function(b){return b[a]}}var M=[],La={},Za=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,pa=/\bthis\b/,Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),W={"[object Function]":!1};W["[object Arguments]"]=W["[object Array]"]=W["[object Boolean]"]=W["[object Date]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object String]"]=!0;var Ea={configurable:!1,enumerable:!1,value:null,writable:!1},
O={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ea=U[typeof window]&&window||this,xa=U[typeof l]&&l&&!l.nodeType&&l,sa=U[typeof q]&&q&&!q.nodeType&&q,Na=sa&&sa.exports===xa&&xa,P=U[typeof e]&&e;!P||P.global!==P&&P.window!==P||(ea=P);var Fa=[],va=Error.prototype,ra=Object.prototype,Ma=String.prototype,F=ra.toString,ka=RegExp("^"+String(F).replace(/[.*+?^${}()|[\]\\]/g,
"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),D=Function.prototype.toString,A=ra.hasOwnProperty,S=Fa.push,la=ra.propertyIsEnumerable,qa=Fa.unshift,w=function(){try{var a={},b=E(b=Object.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),B=E(B=Object.create)&&B,V=E(V=Array.isArray)&&V,ma=E(ma=Object.keys)&&ma,I={};I["[object Array]"]=Array;I["[object Boolean]"]=Boolean;I["[object Date]"]=Date;I["[object Function]"]=Function;I["[object Object]"]=Object;I["[object Number]"]=Number;I["[object RegExp]"]=
RegExp;I["[object String]"]=String;var J={};J["[object Array]"]=J["[object Date]"]=J["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0};J["[object Boolean]"]=J["[object String]"]={constructor:!0,toString:!0,valueOf:!0};J["[object Error]"]=J["[object Function]"]=J["[object RegExp]"]={constructor:!0,toString:!0};J["[object Object]"]={constructor:!0};(function(){for(var a=Da.length;a--;){var b=Da[a],c;for(c in J)A.call(J,c)&&!A.call(J[c],b)&&(J[c][b]=!1)}})();var x=d.support=
{};(function(){var a=function(){this.x=1},b={0:1,length:1},c=[];a.prototype={valueOf:1,y:1};for(var d in new a)c.push(d);for(d in arguments);x.argsClass="[object Arguments]"==F.call(arguments);x.argsObject=arguments.constructor==Object&&!(arguments instanceof Array);x.enumErrorProps=la.call(va,"message")||la.call(va,"name");x.enumPrototypes=la.call(a,"prototype");x.funcDecomp=!E(ea.WinRTError)&&pa.test(function(){return this});x.funcNames="string"==typeof Function.name;x.nonEnumArgs=0!=d;x.nonEnumShadows=
!/valueOf/.test(c);x.spliceObjects=(Fa.splice.call(b,0,1),!b[0]);x.unindexedChars="xx"!="x"[0]+Object("x")[0];try{x.nodeClass=!(F.call(document),0)}catch(e){x.nodeClass=!0}})(1);B||(u=function(){function a(){}return function(b){if(Y(b)){a.prototype=b;var c=new a;a.prototype=null}return c||ea.Object()}}());var X=w?function(a,b){Ea.value=b;w(a,"__bindData__",Ea)}:ca;x.argsClass||(K=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&A.call(a,"callee")&&!la.call(a,"callee")||!1});var ia=
V||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"==F.call(a)||!1},Ga=r({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),ya=ma?function(a){return Y(a)?x.enumPrototypes&&"function"==typeof a||x.nonEnumArgs&&a.length&&K(a)?Ga(a):ma(a):[]}:Ga,P={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",
keys:ya,loop:"if (callback(iterable[index], index, collection) === false) return result"},V={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:ya,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},na={top:"if (!objectTypes[typeof iterable]) return result;\n"+
P.top,array:!1},da=r(P),ua=r(V,{top:V.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),aa=r(P,na,{useHas:!1}),oa=r(P,na);ba(/x/)&&(ba=function(a){return"function"==typeof a&&
"[object Function]"==F.call(a)});d.assign=ua;d.bind=L;d.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d};d.createCallback=function(a,b,c){var d=typeof a;if(null==a||"function"==d)return p(a,b,c);if("object"!=d)return wa(a);var e=ya(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Y(g)?function(b){for(var c=e.length,d=!1;c--&&(d=m(b[e[c]],a[e[c]],null,!0)););return d}:function(a){a=a[f];return g===a&&(0!==g||1/g==1/a)}};d.filter=t;d.forIn=aa;d.forOwn=oa;d.keys=
ya;d.map=z;d.property=wa;d.collect=z;d.extend=ua;d.select=t;d.clone=function(a,b,c,d){"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);return g(a,b,"function"==typeof c&&p(c,d,1))};d.find=ha;d.identity=C;d.isArguments=K;d.isArray=ia;d.isDate=function(a){return a&&"object"==typeof a&&"[object Date]"==F.call(a)||!1};d.isEmpty=function(a){var b=!0;if(!a)return b;var c=F.call(a),d=a.length;if("[object Array]"==c||"[object String]"==c||(x.argsClass?"[object Arguments]"==c:K(a))||"[object Object]"==c&&"number"==
typeof d&&ba(a.splice))return!d;oa(a,function(){return b=!1});return b};d.isFunction=ba;d.isNull=function(a){return null===a};d.isObject=Y;d.isString=R;d.isUndefined=function(a){return"undefined"==typeof a};d.noop=ca;d.detect=ha;d.findWhere=ha;d.VERSION="2.4.1";xa&&sa&&Na&&((sa.exports=d)._=d)}).call(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],23:[function(f,q,l){var e=f("./lib_managed/lodash"),b=f("./lib/helpers");("undefined"!==typeof l?l:this).getLinkTrackingManager=
function(c,a){function d(a,d){for(var f,g,h,l;null!==(f=a.parentNode)&&!e.isUndefined(f)&&"A"!==(g=a.tagName.toUpperCase())&&"AREA"!==g;)a=f;if(!e.isUndefined(a.href)){f=a.hostname||b.getHostName(a.href);g=f.toLowerCase();var m=a.href.replace(f,g);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(m)||(f=a.id,g=e.map(a.classList),h=a.target,l=p?a.innerHTML:null,m=unescape(m),c.trackLinkClick(m,f,g,h,l,d))}}function f(a){return function(b){var c,e;b=b||window.event;c=b.which||
b.button;e=b.target||b.srcElement;"click"===b.type?e&&d(e,a):"mousedown"===b.type?1!==c&&2!==c||!e?m=q=null:(m=c,q=e):"mouseup"===b.type&&(c===m&&e===q&&d(e,a),m=q=null)}}var g,l,p,n,m,q;return{configureLinkClickTracking:function(a,c,d,f){var h,m;p=d;n=f;l=c;if(e.isArray(a)||!b.isObject(a))g=function(a){return!0};else if(a.hasOwnProperty("filter"))g=a.filter;else{h=a.hasOwnProperty("whitelist");a=a.whitelist||a.blacklist;e.isArray(a)||(a=[a]);m={};for(c=0;c<a.length;c++)m[a[c]]=!0;g=function(a){a:{a=
e.map(a.classList);var b;for(b=0;b<a.length;b++)if(m[a[b]]){a=!0;break a}a=!1}return a===h}}},addClickListeners:function(){var c=document.links,d;for(d=0;d<c.length;d++)if(g(c[d])&&!c[d][a]){var e=c[d];l?(b.addEventListener(e,"mouseup",f(n),!1),b.addEventListener(e,"mousedown",f(n),!1)):b.addEventListener(e,"click",f(n),!1);c[d][a]=!0}}}}},{"./lib/helpers":20,"./lib_managed/lodash":22}],24:[function(f,q,l){(function(){var e=f("JSON"),b=f("./lib_managed/lodash"),c=f("./lib/detectors").localStorageAccessible(),
a=f("./lib/helpers");("undefined"!==typeof l?l:this).OutQueueManager=function(d,f,g,l){function p(){for(;r.length&&!b.isString(r[0]);)r.shift();if(1>r.length)m=!1;else{if(!b.isString(q))throw"No Snowplow collector configured, cannot track";m=!0;var d=r[0],f=new Image(1,1);f.onload=function(){r.shift();l&&c&&localStorage.setItem(n,e.stringify(r));E&&a.setScriptAttribute("event complete",{script:E});p()};f.onerror=function(){E&&a.setScriptAttribute("error: event did not post",{script:E});m=!1};f.src=
q+d}}var n=["snowplowOutQueue",d,f].join("_"),m=!1,q,r,E=a.getCurrentScript();if(l&&c)try{r=e.parse(localStorage.getItem(n))}catch(K){}b.isArray(r)||(r=[]);g.outQueues.push(r);return{enqueueRequest:function(a,b){r.push(a);100<r.length&&r.shift();q=b;l&&c&&localStorage.setItem(n,e.stringify(r));m||p()}}}})()},{"./lib/detectors":19,"./lib/helpers":20,"./lib_managed/lodash":22,JSON:2}],25:[function(f,q,l){(function(){var e=f("./lib_managed/lodash"),b=f("./lib/helpers"),c=f("./in_queue"),a=f("./tracker");
("undefined"!==typeof l?l:this).Snowplow=function(d,f){function g(){var a;if(!n.hasLoaded)for(n.hasLoaded=!0,a=0;a<n.registeredOnLoadHandlers.length;a++)n.registeredOnLoadHandlers[a]();return!0}var l=document,p=window,n={outQueues:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[]};p._mather=p._mather||{};p.Snowplow=p._mather.Listener={getAsyncTracker:function(){return new a.Tracker(f,"","js-2.2.18-c",n,{})}};b.addEventListener(p,"beforeunload",function(){var a;if(n.expireDateTime){do if(a=
new Date,0===e.filter(n.outQueues,function(a){return 0<a.length}).length)break;while(a.getTime()<n.expireDateTime)}},!1);(function(){var a;l.addEventListener?b.addEventListener(l,"DOMContentLoaded",function r(){l.removeEventListener("DOMContentLoaded",r,!1);g()}):l.attachEvent&&(l.attachEvent("onreadystatechange",function E(){"complete"===l.readyState&&(l.detachEvent("onreadystatechange",E),g())}),l.documentElement.doScroll&&p===p.top&&function K(){if(!n.hasLoaded){try{l.documentElement.doScroll("left")}catch(a){setTimeout(K,
0);return}g()}}());/WebKit/.test(navigator.userAgent)&&(a=setInterval(function(){if(n.hasLoaded||/loaded|complete/.test(l.readyState))clearInterval(a),g()},10));b.addEventListener(p,"load",g,!1)})();return new c.InQueueManager(a.Tracker,"js-2.2.18-c",n,d,f)}})()},{"./in_queue":17,"./lib/helpers":20,"./lib_managed/lodash":22,"./tracker":26}],26:[function(f,q,l){(function(){var e=f("./lib_managed/lodash"),b=f("./lib/helpers"),c=f("./lib/proxies"),a=f("browser-cookie-lite"),d=f("./lib/detectors"),h=
f("JSON"),g=f("sha1"),q=f("./links"),p=f("./forms"),n=f("./out_queue"),m=f("snowplow-tracker-core"),v=f("uuid"),r=f("../../core/lib/base64"),E="undefined"!==typeof l?l:this;b.setScriptAttribute("script loaded");b.logMsg("script loaded");E.Tracker=function(f,l,E,R,t){function ha(){I=c.fixupUrl(D.domain,A.location.href,b.getReferrer());I[1]!==x&&(X=b.getReferrer(x));J=b.fixupDomain(I[0]);x=I[1];pa()}function z(a,c,d){if(qa)try{var e=L()||{};c?(e[a]=c,d&&ca(a)):"undefined"!==typeof e[a]&&delete e[a];
V=e;localStorage.setItem(ma,r.base64encode(JSON.stringify(V)))}catch(f){b.logError("localStorage get failed: "+f)}}function L(a){if(V)return a?V[a]:V;if(qa)try{var c=localStorage.getItem(ma),d=c&&r.base64decode(c);if(d){var e=JSON.parse(d);V=e;return a?e[a]:e}}catch(f){b.logError("localStorage set failed: "+f)}return null}function C(a,b,c){var d=L(a)||{};d[b]=c;z(a,d);return d}function ca(a){a=Array.isArray(a)?a:a.replace(/ /g,"").split(",");for(var b=0;b<a.length;b++)-1==Oa.indexOf(a[b])&&Oa.push(a[b])}
function wa(a,c,d,e){for(var f in c||{}){var g=c[f],g=b.isObject(g)&&g._args?g._args:[g];if(!d||!d(f,c[f])){var h="set"+f.charAt(0).toUpperCase()+f.slice(1);f=a[h]?h:f;try{a[f].apply(this,g)}catch(l){console&&console.error&&console.error("mather command() failed: "+(f?f+" - ":"")+l),e&&e(f,l)}}}}function M(a){var b;return sb?(b=/#.*/,a.replace(b,"")):a}function La(a){return(a=/^([a-z]+):/.exec(a))?a[1]:null}function Za(a){var b="?",c={co:!0,cx:!0,error_tag:!0,error_json:!0},d=!0,e;for(e in a)a.hasOwnProperty(e)&&
!c.hasOwnProperty(e)&&(d?d=!1:b+="&",b+=encodeURIComponent(e)+"="+encodeURIComponent(a[e]));for(var f in c)a.hasOwnProperty(f)&&c.hasOwnProperty(f)&&(b+="&"+f+"="+encodeURIComponent(a[f]));return b}function T(a){return Ca+a+"."+vb}function pa(){a:{var a=J,b=a.split(".").reverse();if(Z)for(var c=0;c<Z.length;c++){var d=Z[c],e=d.split(".").reverse();if(b.slice(0,e.length).join(".").toLowerCase()==e.join(".").toLowerCase()&&(e=b[e.length])){N="."+e+"."+d;break a}}else if(N&&(c=("."==N.slice(0,1)?N.slice(1):
N).split(".").reverse(),b.slice(0,c.length).join(".").toLowerCase()==c.join(".").toLowerCase()))break a;N=(b=b.slice(0,-1!=["com","co","net","org","edu"].indexOf(b[1])?3:2).reverse().join("."))?"."+b:a}vb=bb(N+(ja||"/")).slice(0,4)}function Da(a,c){function d(e){Pa=a;O(e);b.removeEventListener(c,a,d);setTimeout(function(){b.addEventListener(c,a,d)},rb)}b.addEventListener(c,a,d)}function W(a,b){var c=(b?document.querySelector(b):null)||(D.compatMode&&"BackCompat"!=D.compatMode?D.documentElement:D.body)||
{},d=c.scrollLeft,e=c.scrollTop;if("undefined"!==typeof d){do d+=c.offsetLeft||0,e+=c.offsetTop||0;while(c=c.offsetParent)}a=a||{};return[d||A.pageXOffset||a.offsetX||0,e||A.pageYOffset||a.offsetY||0]}function Ea(){var a=W(null,Ya),b=a[0];Qa=Ha=b;Ra=Sa=a=a[1]}function O(a){a=W(a,Ya);var b=a[0];b&&(!Ha||b<Ha)&&(Ha=b);b>Qa&&(Qa=b);a=a[1];a<Sa?Sa=a:a>Ra&&(Ra=a)}function U(){if(!ta)return[];var c,d=wb||b.parseQueryString()._mather,e=Math.round((new Date).getTime()/1E3),f=a.cookie(T("id")),f=f?f.split("."):
null;!f||d&&f[0]!=d?(d?c=d:c||(c=bb((S.userAgent||"")+(S.platform||"")+h.stringify(Ia)+e).slice(0,16)),f=["1",c,e,0,e,""]):f.unshift("0");B.duid=f[1];return f}function ea(a,b,c){a=(a||"").toString();!c&&a.match(/%/)&&(a=decodeURIComponent(a));if("null"==(a=a.trim()).toLowerCase())return null;a&&(B.uid=y.uid=a,C("userDB","uid",a),("undefined"===typeof b||b)&&ka.setCookieValue(Ca+"uid",a));return a}function xa(b){var c=Math.round((new Date).getTime()/1E3),e=T("id"),f=T("ses"),g=a.cookie(T("ses")),h=
U(),l=h[1],m=h[2],n=h[3],p=h[4],h=h[5];ab&&ta&&Ka?(a.cookie(e,"",-1,ja,N),a.cookie(f,"",-1,ja,N)):(!g&&ta&&(n++,h=p),b.add("vp",d.detectViewport()),b.add("ds",d.detectDocumentSize()),b.add("tofa",m),b.add("vid",n),b.add("duid",l),b.add("fp",Ta),b.add("cid",na),b.add("mrk",da),ha(),X.length&&b.add("refr",M(X)),b.add("url",M(aa||x)),ta&&Ka&&(e=n,n=h,a.cookie(T("id"),l+"."+m+"."+e+"."+c+"."+n,ub,ja,N),a.cookie(f,g||"*",Ua,ja,N)),b.getValue("uid")||(c=(a.cookie(Ca+"uid")||"").toString().split(",")[0].trim())&&
ea(c)&&b.add("uid",c))}function sa(a,b){return(b||"https:"===D.location.protocol?"https":"http")+"://"+a+"/i"}function Na(a){a=a||[cb[0]];a=e.isArray(a)?a:[a];for(var b=0;b<a.length;b++){var c=a[b],d=[],f=[],g;if(c.name){g=c.name.split("|");!c.json&&(c.json={},c.json[g[0]]="_metadata_");for(var h=0;h<g.length;h++){var l=document.querySelector("head meta[name="+g[h]+"]");if(l&&l.content){var m=c.sep||",",l=l.content;c.sepCommaThenSpace&&-1==l.indexOf(",")&&(m=" ");d=d.concat(l.split(m).slice(0,50))}}for(g=
0;g<d.length;g++)(h=d[g].trim())&&-1==f.indexOf(h)&&f.push(h);if(f.length||c.force)try{for(var n=Object.keys(c.json)[0],p=JSON.stringify(c.json),c="",d=0;d<f.length;d++)c+=(0<d?",":"")+'"'+f[d]+'"';ga=ga||{};c=p.replace(/"_metadata_\"/,"["+c+"]");ga[n]=JSON.parse(c)[n];db.push(n)}catch(t){}}}}function P(a,c,d){if(d){var f=!1,g=d;if(!g.getTime){e.isString(g)&&g.match(/^\d*$/)&&(g=parseInt(g));try{g=new Date(g),isNaN(g.getTime())&&(f=!0)}catch(h){f=!0}}f?b.logError(a+" contains invalid date: "+d):y[c]=
Math.ceil(g.getTime()/1E3).toString()}}function Fa(c,d,e){var f=b.fixupTitle(c||oa);ha();e=e||{};y.uid=y.uid||B.uid;if((d=d||"undefined"===typeof d||null===d)&&!B.peComplete){var g=function(){var a;a=A.performance||A.mozPerformance||A.msPerformance||A.webkitPerformance;var b=null;if(a){var c={navigationStart:-1,firstPaint:"fstPaint",unloadEventStart:"unloadS",unloadEventEnd:"unloadE",redirectStart:"redirS",redirectEnd:"redirE",fetchStart:"fetchS",domainLookupStart:"domainS",domainLookupEnd:"domainE",
connectStart:"connS",connectEnd:"connE",secureConnectionStart:"sslS",requestStart:"requS",responseStart:"respS",responseEnd:"respE",domLoading:"domLoad",domInteractive:"domInter",domContentLoadedEventStart:"domLoadS",domContentLoadedEventEnd:"domLoadE",domComplete:"domCmplt",loadEventStart:"loadS",loadEventEnd:"loadE",requestEnd:-1},b={};try{var fa=a.timing,f=a.navigation||null,g=a.memory||null,h=fa.navigationStart||0;b.start=h;f&&(b.redirCnt=f.redirectCount,b.navType=0==f.type?"link":1==f.type?"reload":
2==f.type?"history":"unknown("+f.type+")");g&&(b.heapU=g.usedJSHeapSize/1E6+"mb",b.heapT=g.totalJSHeapSize/1E6+"mb");window.chrome&&window.chrome.loadTimes&&"number"===typeof window.chrome.loadTimes().firstPaintTime&&(fa.firstPaint=Math.round(1E3*window.chrome.loadTimes().firstPaintTime));for(var l in fa){var m=fa[l],n=-2!=c[l]?c[l]:l;m&&-1!=n&&"function"!==typeof fa[l]&&("navigationStart"!=l&&"number"===typeof m&&h&&(m-=h),b[n?n:l]=m)}}catch(Q){b.error=Q.toString()}}(a=b)&&(e.perf=a);d=null!=a};
B.peComplete=!0;g();0<eb&&setTimeout(function(){w.addPayloadPair("f_privb",B.privb||"not reported");e={};g();d&&w.trackGenericEvent("pe",e)},eb)}for(var h=0;h<cb.length;h++){var l=cb[h];-1==db.indexOf(Object.keys(l.json)[0])&&Na(l)}if(ga)for(var m in ga)if(e[m])for(var n in ga[m])e[m][n]=ga[m][n];else e[m]=ga[m];if(m=a.cookie(Ca+"uid"))m=m.toString().split(","),1<m.length&&(e.user=e.user||{},m=m[1].trim().toLowerCase(),e.user.loggedIn=-1!=["true","1","loggedin"].indexOf(m)?"1":"0","timedout"==m&&
(e.user.forceLoggedOut="1"));ka.setCampaignUrlParameters({utm:!0});L("audience")&&ca("audience");(m=L("meter"))&&"undefined"!==typeof m.totalViews&&(y.metered=m.totalViews+("undefined"!==typeof m.maxViews?"|"+m.maxViews:""));if(m=L("identities"))for(e.identities=e.identities||[],h=0;h<m.length;h++)6>e.identities.length&&e.identities.push(m[h]);for(h=0;h<Oa.length;h++)if(m=Oa[h],-1==["meter","identities"].indexOf(m)&&(l=L(m)))if(e[m])for(n in l)e[m][n]=l[n];else e[m]=l;e={schema:"not used",data:e};
w.trackPageView(M(aa||x),f,M(X),y,e);if(Wa&&Xa&&!xb){f=[{type:"mousewheel",scope:D},{type:"DOMMouseScroll",scope:A},{type:"scroll",scope:D},{type:"scroll",scope:A},{type:"click",scope:D},{type:"mouseup",scope:D},{type:"mousedown",scope:D},{type:"keypress",scope:D},{type:"keyup",scope:D},{type:"keydown",scope:D},{type:"resize",scope:A},{type:"focus",scope:A},{type:"blur",scope:A}];xb=!0;Ea();for(h=0;h<f.length;h++)Da(f[h].type,f[h].scope);setInterval(function(){var a=new Date;if(Pa&&Wa<a.getTime()){var a=
Pa,d=b.fixupTitle(c||oa);ha();w.trackPagePing(M(aa||x),d,M(X),void 0,Math.round(Ha),Math.round(Qa),Math.round(Sa),Math.round(Ra),a,void 0);Ea();Pa=""}},Xa)}}function va(a,b){return""!==a?a+b.charAt(0).toUpperCase()+b.slice(1):b}function ra(a){var c,d,e=["","webkit","ms","moz"],f;if(!tb)for(d=0;d<e.length;d++)if(f=e[d],Object.prototype.hasOwnProperty.call(D,va(f,"hidden"))){"prerender"===D[va(f,"visibilityState")]&&(c=!0);break}c?b.addEventListener(D,f+"visibilitychange",function Db(){D.removeEventListener(f+
"visibilitychange",Db,!1);a()}):a()}function Ma(a,b,c,d,e){var f=new XMLHttpRequest,g=!1,h=setTimeout(function(){g=!0;f.abort()},c||Ja.timeoutMs);f.onreadystatechange=function(){4===f.readyState&&(clearTimeout(h),200==f.status?d(JSON.parse(f.responseText)):d({err:g?"timeout":"failed: "+(0==f.status?"connection error":f.status)}))};b.customerId=b.customerId||na;b.market=b.market||da;f.open("POST",yb+(e?"u":"uadmin")+"/"+a,!0);f.setRequestHeader("Content-Type","text/plain; charset=UTF-8");a={};c=Object.keys(b);
for(e=0;e<c.length;e++){var l=b[c[e]];l&&(a[c[e]]=l)}f.send(JSON.stringify(a))}function F(a,b,c,d){a.segments&&!e.isArray(a.segments)&&(a.segments=[a.segments]);a.segment&&(!a.segments&&(a.segments=[a.segment]),delete a.segment);a.segments=a.segments||[];if(c){var f=L("audience")||[];c=[];var g=[];z("userDB",a);!e.isArray(f)&&(f=[]);for(var h=0;h<f.length;h++)"userDB"!=f[h].provider&&c.push(f[h]);for(h=0;h<a.segments.length;h++)(f=a.segments[h].name)&&g.push(f);g.length&&c.push({pageId:B.pageId,provider:"userDB",
segments:g});z("audience",c.length?c:null,!0)}d&&(a.fromCache=!0);b&&b(a)}var ka,D=document,A=window,S=navigator,la=function(a){try{if(d.detectCrossDomain(a))for(var b=0;20>b;b++){var c=a.parent;if(a==c)break;else try{if(null!=c.document)a=c;else break}catch(e){break}}else return a.top}catch(f){}return a}(A),qa=d.localStorageAccessible(),w=m(!0,la._mather=la._mather||{},f,function(a){xa(a);var b=H,c=new Date;ab||(Eb.enqueueRequest(Za(a.build()),Ga),R.expireDateTime=c.getTime()+b);y={};ga=!1;db=[]}),
B=la._mather,V=null,ma="_mather",I=c.fixupUrl(D.domain,A.location.href,b.getReferrer()),J=b.fixupDomain(I[0]),x=I[1],X=I[2];t=t||{};var ia=t.hasOwnProperty("platform")?t.platform:"web",Ga=sa("www.i.matheranalytics.com"),ya=t.hasOwnProperty("appId")?t.appId:"v1",na=t.cid||"",da=t.mrk||"",ua=0,aa,oa="",H=t.hasOwnProperty("pageUnloadTimer")?t.pageUnloadTimer:500,Wa,Xa,rb,Ya,sb,Ca=t.hasOwnProperty("cookieName")?t.cookieName:"_sp_",N=t.hasOwnProperty("cookieDomain")?t.cookieDomain:null,Z,ja="/",Ka=t.hasOwnProperty("writeCookies")?
t.writeCookies:!0,$a=S.doNotTrack||S.msDoNotTrack,ab=t.hasOwnProperty("respectDoNotTrack")?t.respectDoNotTrack&&("yes"===$a||"1"===$a):!1,tb,ub=63072E3,Ua=1800,fb=t.hasOwnProperty("userFingerprintSeed")?t.userFingerprintSeed:123412414,Ja={minPageViews:2,timeoutMs:1E4,noCache:!1,userDBData:{segments:[],meterData:{meterThreshold:"0",resetMeter:"0"}}},yb,Oa=[],eb=1E4,wb,zb=!1,Fb=D.characterSet||D.charset,Gb=t.hasOwnProperty("useLocalStorage")?t.useLocalStorage:!1,ta=t.hasOwnProperty("useCookies")?t.useCookies:
!0,Hb=S.userLanguage||S.language,Ia=d.detectBrowserFeatures(ta,T("testcookie"),function(a){B.privb=a}),Ta=!1===t.userFingerprint?"":d.detectSignature(fb),Ab=f+"_"+l,xb=!1,Pa="",Bb,Ha,Qa,Sa,Ra,bb=g,vb,gb=!1,y={},ga=!1,db=[],cb=[{name:"keywords|news_keywords",json:{keywords:"_metadata_"},sepCommaThenSpace:!0},{name:"__sync_contentCategory",json:{paywall:{vendor:"syncronex",segments:"_metadata_"}}}],hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,Va=[],Aa=q.getLinkTrackingManager(w,Ab),Cb=p.getFormTrackingManager(w,Ab),
Eb=new n.OutQueueManager(f,l,R,Gb);B.pageId=B.pageId||v.v4();$a&&(y.dnt="1");w.setBase64Encoding(t.hasOwnProperty("encodeBase64")?t.encodeBase64:!0);w.setTrackerVersion(E);w.setTrackerNamespace(l);w.setAppId(ya);w.setPlatform(ia);w.setTimezone(d.detectTimezone());w.addPayloadPair("lang",Hb);w.addPayloadPair("cs",Fb);for(var Ba in Ia)Object.prototype.hasOwnProperty.call(Ia,Ba)&&(-1!=["res","cd","cookie"].indexOf(Ba)?w.addPayloadPair(Ba,Ia[Ba]):w.addPayloadPair("f_"+Ba,Ia[Ba]));ha();return ka={init:function(a,
b){wa(this,a);b&&b(this)},executeCommands:function(a,b,c){return wa(this,a,b,c)},getUserId:function(){return y.uid||B.uid},getDomainUserId:function(){return U()[1]},setDomainUserId:function(a){wb=a},getDomainUserInfo:function(){return U()},getUserFingerprint:function(){return Ta},getCookieValue:function(b,c){return c?a.cookie(T(b)):a.cookie(b)},setCookieValue:function(b,c,d,e){a.cookie(d?T(b):b,c,e||Ua,ja,N)},getQueryParams:function(a){return b.parseQueryString(a)},getActionUrlParams:function(a){var b=
"";B.duid&&(b+="_mather="+B.duid);B.flow&&(b+=(b?"&":"")+"flow_type="+B.flow);a&&b&&-1==["&","?"].indexOf(a.slice(-1))&&(b=(-1!=a.indexOf("?")?"&":"?")+b);return(a||"")+b},setMatherObject:function(a,b,c){z(a,b,c)},getMatherObject:function(a){return L(a)},addToMatherObject:function(a,b,c){return C(a,b,c)},setStoredContext:function(a){return ca(a)},storeContext:function(a,c,d){b.isObject(c)&&(c.pageId=B.pageId);z(a,c,d)},setAppId:function(a){w.setAppId(a)},setCustomerId:function(a){e.isString(a)&&(a=
a.trim());na=a},getCustomerId:function(){return na},setMarket:function(a){e.isString(a)&&(a=a.trim());da=a;"ma12095"==na&&!Bb&&(Bb=!0)&&ka.getUserDBSegment({minPageViews:2,timeoutMs:1E4})},getMarket:function(){return da},setSection:function(a){y.sec=a},setAuthor:function(a,b){var c=null;if(e.isString(a)&&a){a=a.replace(/by\:/gi,"by ").replace(/^\s*by /i,"");"undefined"===typeof b&&(c=/ and | by /i,a.match(c)?(b=c,a=a.replace(/,/,"")):b=/,/);for(var c=a.split(b),d=0;d<c.length;d++)c[d]=c[d].trim()}else e.isArray(a)&&
a.length&&(c=a);c&&(y.auth=c.join("|"))},setPageType:function(a){y.ptype=a},setPremium:function(a){y.prem=a?"1":"0"},setArticlePublishTime:function(a){return P("setArticlePublishTime","artpubt",a)},setArticleUpdateTime:function(a){return P("articleUpdateTime","artupt",a)},setPageNumber:function(a){y.pnum=(a||"").toString()},setArticleId:function(a){y.artid=a},setHierarchy:function(a){a=e.isArray(a)?a:(a||"").split(/\s*[,|:\/]\s*/).filter(function(a){return a});a.length&&(y.hier=a.join("|"))},setEmail:function(a,
b){var c=y.ctx||{};"hash"==b&&(a=bb(a));c.userData=c.userData||{};c.userData.email=a;y.ctx=c},setCategories:function(a){var b=y.ctx||{};(a=e.isArray(a)?a:e.isString(a)?a.split(/\,/).map(function(a){return a.trim()}).filter(function(a){return a.trim()}):[]).length&&(b.category=b.category||{},b.category.categories=b.category.categories||[],b.category.categories.push(a),y.ctx=b)},setArticleSource:function(a){y.artsrc=a},setMediaType:function(a){y.mediat=a},setArticleType:function(a){y.arttype=a},setWordCount:function(a){y.wrdcnt=
a},setParagraphCount:function(a){y.paracnt=a},setTopLevelDomains:function(a){Z=e.isArray(a)?a:[a];for(a=0;a<Z.length;a++)Z[a]=b.fixupDomain(Z[a]),"."==Z[a].slice(0,1)&&(Z[a]=Z[a].slice(1));pa()},setContext:function(c,d,f,g){function h(e){for(var f=0;f<c.length;f++){var n=!0,p=c[f];if(n&&(p.url||p.url_regex)){var G=window.location.href.toLowerCase();p.full_url||(G=G.replace(/(\?.*)|(#.*)/g,""),G=G.replace(/\/$/,""));p.url&&(n=p.url.toLowerCase().replace(/\/$/,""),n.match(/^\//)?n=n==window.location.pathname.toLowerCase():
(n=n.split("/").reverse(),G=G.split("/").reverse(),n=G.slice(0,n.length).join("/")==n.join("/")));n&&p.url_regex&&(n=(new RegExp(p.url_regex)).test(G))}if(n&&p.tag)if(p.frame)for(var G=document.querySelectorAll(p.frame),n=!1,Q=0;Q<G.length;Q++)try{if(n=(G[Q].contentDocument||G[Q].contentWindow.document).querySelector(p.tag)?!0:!1)break}catch(t){}else n=document.querySelector(p.tag)?!0:!1;n&&p.ifTrue&&(n=p.ifTrue);if(n){if(p.context||d){d=d||{};if(p.context&&p.context.action){for(var n=p.context.action,
G=g.useCookie&&ta&&Ka,Q=g.sep||"_",r=g.paramName?b.parseQueryString()[g.paramName]||"":"",q=(G?a.cookie(T("flow")):"")||r,q=q?q.split(Q):[],r=r.split(Q),u="",f=0;f<g.values.length;f++){var za="type"==g.values[f]?(q[f]&&"unknown"!=q[f]?q[f]:r[f])||n[g.values[f]]:n[g.values[f]]||q[f],za=za||g.defaultValues&&g.defaultValues[f]||"";"type"==g.values[f]&&!za&&(za="unknown");n[g.values[f]]=za;!g.clearCookie&&(u+=(0<f?Q:"")+za)}n.type&&(B.flow=n.type);G&&u&&(a.cookie(T("flow"),u,g.cookieTimeout||Ua,ja,N),
qa&&!g.disableFlowref&&n.type&&"unknown"!=n.type&&(f=!1,G=w.getTid(),Q=Math.round((new Date).getTime()/1E3),r=Q.toString(),q=L("flowref")||{},q.day0||(f=!0,q={day0:{flow:n.type,tid:G,time:r},day5:{time:r},day30:{time:r}}),Q+432E3>q.day5.msTime&&(q.day5={flow:n.type,tid:G,time:r},f=!0),Q+2592E3>q.day30.msTime&&(q.day30={flow:n.type,tid:G,time:r},f=!0),f&&z("flowref",q),n.flowref=q))}else p.context={};for(var v in d)p.context[v]=p.context[v]||d[v];!m&&(y=gb);l.trackPageView(null,p.context,!1,!0)}e&&
clearTimeout(e);break}}}var l=this,m=-1==f;g=g?g:{};c=e.isArray(c)?c:[c];gb=!1;if(m)h(null);else{f=Math.max(1E3,f||0);var n=setInterval(function(){gb&&h(n)},f)}},setMetered:function(a){y.metered="boolean"===typeof a?a?"1":"0":a},setForeignDomain:function(c,d){for(var f=d||{},g=e.isArray(c)?c.length?c:[""]:[c||""],h=document.querySelectorAll(f.selector||"a"),l=f.useCookie&&ta&&Ka,n=f.paramName&&(l||f.values),m="_mather="+U()[1],p=0;p<h.length;p++){var r=h[p],q=r.hostname;if(q)for(var q=q.split(".").reverse(),
t=0;t<g.length;t++){var u=g[t];(u=u?u.split(".").reverse():"")&&q.slice(0,u.length).join(".").toLowerCase()!=u.join(".").toLowerCase()||b.addEventListener(r,"click",function(c){c=c.currentTarget;if(!c.search||!b.parseQueryString(c.search)._mather){if(n){var d=b.parseQueryString()[f.paramName]||l&&a.cookie(T("flow"))||"";if(f.values)for(var g=f.sep||"_",h=e.isArray(f.values)?f.values:[f.values],fa=0;fa<h.length;fa++)d+=(l||d.length?g:"")+h[fa];d&&(m+="&"+f.paramName+"="+d)}c.search+=(1<c.search.length?
"&":"")+m}})}}},setMetaData:function(a){Na(a)},setCampaignUrlParameters:function(a){a=a||{};var c=b.parseQueryString(),d=L("campaigns")||[],f=Math.round((new Date).getTime()/1E3),g=a.urlParams?a.urlParams:b.isObject(a)?[]:a,h=function(a){var b=c[a];if(b){for(var e=f.toString(),g=0;g<d.length;g++){var h=d[g];if(h.name==a){h.refTime=e;h.value!=b&&(h.value=b,h.createTime=e);return}}30>d.length&&d.push({pageId:B.pageId,name:a,value:b,refTime:f,createTime:f})}};a.disabled&&(zb=!0);if(!zb){!e.isArray(d)&&
(d=[]);g=e.isString(g)?g.replace(/ /g,"").split(","):g;g=g.map(function(a){return a.toString().toLowerCase()});if(a.utm)for(var l in c)l&&l.match(/^utm($|([_-].*))/i)&&g.push(l);for(l=0;l<g.length;l++)h(g[l]);if(d.length){a=a.expire||30;if(-1!=a)for(l=0;l<d.length;l++)g=d[l],g.refTime&&f-parseInt(g.refTime)>86400*a&&(d[l]=null);d=d.filter(function(a){return null!=a});z("campaigns",d.length?d:null,!0)}}},setIdentity:function(a,b){for(var c,d=L("identities")||[],e=0;e<d.length;e++)if(d[e].type==a){c=
d[e];break}c=c||d[d.push({})-1];c.type=a;c.id=b;c.refTime=(new Date).getTime();z("identities",d)},setPollInterval:function(a){ua=a},getPollInterval:function(){return ua},setDebug:function(a,c){b.setDebug(a,c)},getTrackerEventBase:function(a){var b=new function(){var a={};return{add:function(b,c){"undefined"!==typeof c&&null!==c&&""!==c&&(a[b]=c)},getValue:function(b){return a[b]},build:function(){return a}}};xa(b);for(var c in y)b.add(c,y[c]);!y.uid&&b.add("uid",B.uid);a(b.build())},enableAdBlockDetection:function(){},
trackGenericEvent:function(a,b){w.trackGenericEvent(a,b)},trackUserDB:function(a,b){w.trackGenericEvent("ud",a,null,b)},trackPaywallEvent:function(a){w.trackGenericEvent("pe",a,y)},trackVideoEvent:function(a){!y.ptype&&this.setPageType("video");w.trackGenericEvent("ve",a,y)},trackVideoAd:function(a,b,c,d,e,f,g,h){a={server:a,eenv:"v"};b&&(a.eaid=b);c&&(a.ebuy=c);d&&(a.eadv=d);e&&(a.ecid=e);f&&(a.epid=f);g&&(a.position=g);h&&(a.duration=h);w.trackGenericEvent("va",a)},trackAdImpression:function(a,
b,c){b&&(ka.setCustomerId(b),ka.setMarket(c));w.trackGenericEvent("ai",a)},getTracker:function(a){a(this)},setMatherObjectBase:function(a){ma=a},setError:function(a){y.error=a},setPerformanceSettleDelay:function(a){eb=a},setReferrerUrl:function(a){X=a},setCustomUrl:function(a){var c=x,d;La(a)?aa=a:"/"===a.slice(0,1)?aa=La(c)+"://"+b.getHostName(c)+a:(c=M(c),0<=(d=c.indexOf("?"))&&(c=c.slice(0,d)),(d=c.lastIndexOf("/"))!==c.length-1&&(c=c.slice(0,d+1)),aa=c+a)},setDocumentTitle:function(a){oa=a},discardHashTag:function(a){sb=
a},setCookieNamePrefix:function(a){Ca=a},setCookieDomain:function(a){N=b.fixupDomain(a);pa()},setCookiePath:function(a){ja=a;pa()},setVisitorCookieTimeout:function(a){ub=a},setSessionCookieTimeout:function(a){Ua=a},setUserFingerprintSeed:function(a){fb=a;Ta=d.detectSignature(fb)},enableUserFingerprint:function(a){a||(Ta="")},respectDoNotTrack:function(a){var b=S.doNotTrack||S.msDoNotTrack;ab=a&&("yes"===b||"1"===b)},addListener:function(a,b,c){addClickListener(a,b,c)},enableLinkClickTracking:function(a,
b,c,d){R.hasLoaded?(Aa.configureLinkClickTracking(a,b,c,d),Aa.addClickListeners()):R.registeredOnLoadHandlers.push(function(){Aa.configureLinkClickTracking(a,b,c,d);Aa.addClickListeners()})},refreshLinkClickTracking:function(){R.hasLoaded?Aa.addClickListeners():R.registeredOnLoadHandlers.push(function(){Aa.addClickListeners()})},enableActivityTracking:function(a,b,c,d){Wa=(new Date).getTime()+1E3*a;Xa=1E3*b;Ya=c||"";rb=d||500},enableFormTracking:function(a){R.hasLoaded?Cb.addFormListeners(a):R.registeredOnLoadHandlers.push(function(){Cb.addFormListeners(a)})},
killFrame:function(){A.location!==A.top.location&&(A.top.location=A.location)},redirectFile:function(a){"file:"===A.location.protocol&&(A.location=a)},setCountPreRendered:function(a){tb=a},setUserId:function(a,b,c){return ea(a,b,c)},setUserIdFromLocation:function(a){return ea(b.fromQuerystring(a,x))},setUserIdFromReferrer:function(a){return ea(b.fromQuerystring(a,X))},setUserIdFromCookie:function(b){return ea(a.cookie(b))},setCollectorUrl:function(a,b){Ga=sa(a,b)},setPlatform:function(a){w.setPlatform(a)},
encodeBase64:function(a){w.setBase64Encoding(a)},trackPageView:function(a,b,c,d){b=b||{};!d&&b&&b.action?this.setContext({context:b},null,-1,{paramName:"flow_type",useCookie:!0,values:["type"],defaultValues:["unknown"]}):ra(function(){Fa(a,c,b)})},trackStructEvent:function(a,b,c,d,e,f){w.trackStructEvent(a,b,c,d,e,f)},trackUnstructEvent:function(a,b,c){w.trackUnstructEvent(a,b,c)},trackImpression:function(a,b,c,d,e){w.trackImpression(a,b,c,d,e)},addTrans:function(a,b,c,d,e,f,g,h,l,m){hb=a;ib=b;jb=
c;kb=d;lb=e;mb=f;nb=g;ob=h;pb=l;qb=m},addItem:function(a,b,c,d,e,f,g,h){Va.push({orderId:a,sku:b,name:c,category:d,price:e,quantity:f,currency:g,context:h})},trackTrans:function(){w.trackEcommerceTransaction(hb,ib,jb,kb,lb,mb,nb,ob,pb,qb);for(var a=0;a<Va.length;a++){var b=Va[a];w.trackEcommerceTransactionItem(b.orderId,b.sku,b.name,b.category,b.price,b.quantity,b.currency,b.context)}qb=pb=ob=nb=mb=lb=kb=jb=ib=hb=void 0;Va=[]},trackLinkClick:function(a,b,c,d,e,f){ra(function(){w.trackLinkClick(a,
b,c,d,e,f)})},trackAdClick:function(a,b,c,d,e,f,g,h,l,m){w.trackAdClick(a,b,c,d,e,f,g,h,l,m)},trackAdConversion:function(a,b,c,d,e,f,g,h,l,m){w.trackAdConversion(a,b,c,d,e,f,g,h,l,m)},trackSocialInteraction:function(a,b,c,d){w.trackSocialInteraction(a,b,c,d)},trackAddToCart:function(a,b,c,d,e,f,g){w.trackAddToCart(a,b,c,d,e,f,g)},trackRemoveFromCart:function(a,b,c,d,e,f,g){w.trackRemoveFromCart(a,b,c,d,e,f,g)},trackSiteSearch:function(a,b,c,d,e){w.trackSiteSearch(a,b,c,d,e)},postTPEvent:function(a,
b,c){b={};c&&this.setMatherObject("meter",{totalViews:c.views,maxViews:c.maxViews},!0);if("meter_active"!=a.action){if(a.data){c={};var d="offerId templateId trackingId displayMode delayBy showCloseButton callback token_list user_token".split(" "),e;for(e in a.data)-1==d.indexOf(e)&&(c[e]=a.data[e]);a.data=c}this.paywallEvent(a,b)}},setPaywall:function(a,c){var d=this,e=[];c=c||{};c.disable&&(e=c.disable)&&delete c.disable;switch((a||"").toLowerCase()){default:return b.logError("setPaywall: invalid vendor("+
a+")");case "piano":var f=function(a){d.postTPEvent(a,c,B.meterData)},g=window.tp=window.tp||[];g.push(["addHandler","meterActive",function(a){B.meterData=a;f({action:"meter_active"})}]);g.push(["addHandler","meterExpired",function(a){B.meterData=a;-1==e.indexOf("meterExpired")&&f({type:"paywall",category:"block",action:"stop"})}]);-1==e.indexOf("showOffer")&&g.push(["addHandler","showOffer",function(a){B.meterOfferId=a.offerId;f({category:"payment",action:"subscriptions_offered",data:a,offers:[{offerId:a.offerId,
displayMode:a.displayMode,templateId:a.templateId}]})}]);-1==e.indexOf("termSelected")&&g.push(["addHandler","termSelected",function(a){f({category:"payment",action:"terms_and_conditions",data:a})}]);-1==e.indexOf("receiptDisplayed")&&g.push(["addHandler","receiptDisplayed",function(a){f({category:"payment",action:"receipt",data:a})}]);-1==e.indexOf("checkoutComplete")&&g.push(["addHandler","checkoutComplete",function(a){var b=Math.round((a.expires-(new Date).getTime()/1E3)/86400),c={termId:a.termId,
termConversionId:a.termConversionId,offerName:a.rid,promotionId:a.promotionId,price:a.chargeAmount,currency:a.chargeCurrency,email:a.email};B.meterOfferId&&(c.offerId=B.meterOfferId);a.promotionId&&(c.promotionId=a.promotionId);isNaN(b)||(c.termAmount=b.toString(),c.termUnit="day");f({category:"payment",action:"completed",offers:[c]},{userId:a.uid})}]);-1==e.indexOf("conversionDetails")&&g.push(["addHandler","conversionDetails",function(a){f({category:"payment",action:"conversion_details",data:a})}]);
-1==e.indexOf("loginSuccess")&&g.push(["addHandler","loginSuccess",function(a){f({category:"payment",action:"loginSuccess",data:a})}]);-1==e.indexOf("checkoutCustomEvent")&&g.push(["addHandler","checkoutCustomEvent",function(a){f({category:"custom_event",action:a.eventName,data:a})}]);-1==e.indexOf("checkoutClose")&&g.push(["addHandler","checkoutClose",function(a){B.meterOfferId=null;"alreadyHasAccess"==a.state&&f({category:"payment",action:"existing_subscriber",data:a});"close"==a.state&&f({category:"payment",
action:"user_exit",data:a})}]);-1==e.indexOf("checkoutError")&&g.push(["addHandler","checkoutError",function(a){f({category:"error",action:"error",data:a})}])}},paywallEvent:function(a,b){var c=null,d=null;b=b||{};wa(this,b,function(a,b){if("cookieTimeout"==a)return!0;if("href"==a)return c=b,!0;if("link"==a)return d=b,!0});this.setContext({context:{action:a}},null,-1,{paramName:"flow_type",useCookie:!0,cookieTimeout:b.cookieTimeout,values:["type"]});d&&c&&(d.location.href=this.getActionUrlParams(c))},
setUserDBUrl:function(a,b){yb=(b||"https:"===D.location.protocol?"https":"http")+"://"+a+"/"},setUserDBDefaults:function(a){b.merge(Ja,a)},getUserDBSegment:function(a,b){var c=this;a=a||{};c.setUserDBUrl(a.userDBUrl||"app.matheranalytics.com")&&a.userDBUrl&&delete a.userDBUrl;c.setUserDBDefaults(a);c.getUserDBData(function(a){if(!a.err){var d=[],f="";(a.segments||[]).forEach(function(a){var b=a.types||(a.type||"").split("|");!a.name.match(/^MATHER_/)&&(a.name="MATHER_"+a.name);if(-1!=b.indexOf("script")){var c=
document.createElement("script"),e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e);c.async=!0;c.src=a.tag||a.scriptTag}-1!=b.indexOf("image")&&(c=new Image(1,1),e=a.tag||a.imageTag,c.style.borderWidth=0,c.src=e.replace(/%%RANDOM%%/g,1E13*(Math.random()+"")));-1!=b.indexOf("piano")&&d.push(["setCustomVariable",+a.name,1]);-1!=b.indexOf("localStorage")&&(f+=(f.length?",":"")+a.name)});f&&qa&&(localStorage._matherSegments=f);if(d.length){var g=function(){d.forEach(function(a){window.tp.push(a)})};
window.tp=window.tp||[];e.isArray(window.tp)?window.tp.push(["init",function(){g()}]):g()}}a.userDBFetch&&c.trackUserDB({userDB:a},a.err);b&&b(a)},a.timeoutMs,a)},getUserDBData:function(a,c,d){function f(a){var b=L("userDB");b?(b.err&&delete b.err,b.userDBFetch&&delete b.userDBFetch,b.pageViews=(b.pageViews||0)+1):(b=a,b.pageViews=1);return b}var g=e.clone(Ja.userDBData);if(!qa)return F(g,a);d=d||{};try{this.getTrackerEventBase(function(e){var h=(new Date).getTime();g=f(g);g.duid=e.duid;g.uid=e.uid||
g.uid;if(!Ja.noCache&&(g.pageViews<Ja.minPageViews||g.nextUpdateTS&&h<g.nextUpdateTS))return F(g,a,!0,!0);e={};g.duid&&(e.duid=g.duid);g.uid&&(e.uid=g.uid);g.muid&&(e.muid=d.noCache?"":g.muid);if(d.metered){var l=d.metered.toString().split("|");e.meterCount=l[0];l[1]&&(e.meterThreshold=l[1])}g.userDBFetch=!0;Ma("getuserdbdata",e,c,function(c){c.uid&&delete c.uid;c.pageViews=Math.max(c.pageViews||0,g.pageViews);b.merge(g,c);g.nextUpdateTS=c.nextUpdate?h+c.nextUpdate:g.nextUpdateTS||0;F(g,a,!0)},!0)})}catch(h){var l=
"getUserDBData() failed: "+h;b.logError(l);g.err=l;return F(g,a)}},lookupUserDBData:function(a,c,d){try{Ma("getuserdbdata",a,d,function(a){F(a,c)},!0)}catch(e){b.logError("lookupUserDBData() failed: "+e)}}}}})()},{"../../core/lib/base64":1,"./forms":16,"./lib/detectors":19,"./lib/helpers":20,"./lib/proxies":21,"./lib_managed/lodash":22,"./links":23,"./out_queue":24,JSON:2,"browser-cookie-lite":3,sha1:8,"snowplow-tracker-core":9,uuid:15}]},{},[18]);
