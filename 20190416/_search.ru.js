!function(t){function e(t){var e=a(t);if(d)for(var n,i=0;n=m[i++];)t.hasOwnProperty(n)&&e.push(n);return e}function n(n,i,s){for(var o,a,c=e(s),u=0,d=c.length;d>u;)"__self"!==(o=c[u++])&&(a=s[o],i[o]=l(a)&&(!r||a.toString().indexOf(".__base")>-1)?function(e,r){var s=function(){var t=this.__base;this.__base=s.__base;var e=r.apply(this,arguments);return this.__base=t,e};return s.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),s}(o,a):a)}function i(e,n){for(var i,r=1;i=e[r++];)n?l(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=l(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}var r=function(){return"_"}.toString().indexOf("_")>-1,s=function(){},o=Object.create||function(t){var e=function(){};return e.prototype=t,new e},a=Object.keys,c=t.extend,u=Array.isArray,l=t.isFunction,d=!0,h={toString:""};for(var p in h)h.hasOwnProperty(p)&&(d=!1);var m=d?["toString","valueOf"]:null;t.inherit=function(){var t=arguments,e=u(t[0]),r=e||l(t[0]),a=r?e?i(t[0]):t[0]:s,d=t[r?1:0]||{},h=t[r?2:1],p=d.__constructor||r&&a.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:r?function(){return a.apply(this,arguments)}:function(){};if(!r)return p.prototype=d,p.prototype.__self=p.prototype.constructor=p,c(p,h);c(p,a),p.__parent=a;var m=a.prototype,f=p.prototype=o(m);return f.__self=f.constructor=p,d&&n(m,f,d),h&&n(a,p,h),p},t.inheritSelf=function(){var t=arguments,e=u(t[0]),r=e?i(t[0],t[0][0]):t[0],s=t[1],o=t[2],a=r.prototype;return s&&n(a,a,s),o&&n(r,r,o),r},t.inherit.self=t.inheritSelf}(jQuery),function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var r="uniqueID"in t?"uniqueID":n;return e||r in t?t[r]:t[r]=i()}}(jQuery),function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,r,s,o,a){if("string"==typeof i){t.isFunction(r)&&(o=s,s=r,r=void 0);for(var c,u=n(s,o),l=this[e]||(this[e]={}),d=i.split(" "),h=0;i=d[h++];)if(i=this.buildEventName(i),c=l[i]||(l[i]={ids:{},list:{}}),!(u in c.ids)){var p=c.list,m={fn:s,data:r,ctx:o,special:a};p.last?(p.last.next=m,m.prev=p.last):p.first=m,c.ids[u]=p.last=m}}else{var f=this;t.each(i,function(t,e){f.on(t,e,r,a)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,r,s){if("string"==typeof i||"undefined"==typeof i){var o=this[e];if(o)if(i){for(var a,c=i.split(" "),u=0;i=c[u++];)if(i=this.buildEventName(i),a=o[i])if(r){var l=n(r,s),d=a.ids;if(l in d){var h=a.list,p=d[l],m=p.prev,f=p.next;m?m.next=f:p===h.first&&(h.first=f),f?f.prev=m:p===h.last&&(h.last=m),delete d[l]}}else delete this[e][i]}else delete this[e]}else{var _=this;s=r,t.each(i,function(t,e){_.un(t,e,s)})}return this},trigger:function(n,i){var r=this[e],s="string"==typeof n,o=s?n:n.type,a=this.buildEventName(o);if(s||(n.type=a,n.target||(n.target=this)),r&&(r=r[a])){var c,u=r.list.first;for(u&&s&&(n=t.Event(a),n.target=this);u;)n.data=u.data,c=u.fn.call(u.ctx||this,n,i),"undefined"!=typeof c&&(n.result=c,c===!1&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&this.un(o,u.fn,u.ctx),u=u.next}return this}};t.observable=t.inherit(i,i)}(jQuery),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(t,e,i){if(c(t))return void(e[n(i,"*","*")]=t);var r,s,o;for(r in t)if(u(t,r))if(o=t[r],c(o))e[n(i,r,"*")]=o;else for(s in o)u(o,s)&&(e[n(i,r,s)]=o[s])}function r(t,e){return e?Array.isArray(e)?function(n){for(var i=0,r=e.length;r>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}function s(t){t.onSetMod&&(i(t.onSetMod,t),delete t.onSetMod);var e,n;if(t.onElemSetMod){for(e in t.onElemSetMod)u(t.onElemSetMod,e)&&(n=t.onElemSetMod[e],i(n,t,e));delete t.onElemSetMod}}var o=[],a=t.inherit,c=t.isFunction,u=Function.prototype.call.bind(Object.prototype.hasOwnProperty),l={},d="_",h="__",p={};this.BEM=a(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var r=arguments.length,s=!1;1==r?(i="",n=t,t=e,s=!0):2==r&&("string"==typeof t?(i=n,n=t,t=e):(i="",s=!0));var o=this.getMod(t,n)===i;return s?!o:o},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache,r=e in i?i[e]:i[e]=this._extractModVal(e);return r}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{}):n},setMod:function(n,i,r){"undefined"==typeof r&&("string"==typeof n?(r="undefined"==typeof i?!0:i,i=n,n=e):r=!0);var s=this;if(!n||n[0]){r===!1||null===r?r="":r!==!0&&(r=r.toString());var o=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[o])return s;var a,c=n?s._getElemMod(i,n,a=s.__self._extractElemNameFrom(n)):s.getMod(i);if(c===r)return s;this._processingMods[o]=!0;var u=!0,l=[i,r,c];n&&l.unshift(n),[["*","*"],[i,"*"],[i,r]].forEach(function(t){u=s._callModFn(a,t[0],t[1],l)!==!1&&u}),!n&&u&&(s._modCache[i]=r),u&&s._afterSetMod(i,r,c,n,a),delete this._processingMods[o]}return s},_afterSetMod:function(t,e,n,i,r){var s={modName:t,modVal:e,oldModVal:n};i&&(s.elem=i),this.trigger({modName:t,modVal:"*",elem:r},s).trigger({modName:t,modVal:e,elem:r},s)},toggleMod:function(t,n,i,r,s){"string"==typeof t&&(s=r,r=i,i=n,n=t,t=e),"undefined"==typeof r?r="":"boolean"==typeof r&&(s=r,r="");var o=this.getMod(t,n);return(o==i||o==r)&&this.setMod(t,n,"boolean"==typeof s?s?i:r:this.hasMod(t,n,i)?r:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,r,s){var o=n(t,i,r);return this[o]?this[o].apply(this,s):e},_extractModVal:function(){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"i-bem",blocks:l,decl:function(n,i,o){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),s(i||(i={}));var u=l[n.baseBlock||n.block]||this;if(n.modName){var d=r(n.modName,n.modVal);t.each(i,function(t,n){c(n)&&(i[t]=function(){var r;if(d(this))r=n;else{var s=u.prototype[t];s&&s!==i[t]&&(r=this.__base)}return r?r.apply(this,arguments):e})})}if(o&&"boolean"==typeof o.live){var h=o.live;o.live=function(){return h}}var p,m=u;return n.baseMix&&(m=[m],n.baseMix.forEach(function(t){m.push(l[t])})),n.block==u._name?(p=a.self(m,i,o))._processLive(!0):((p=l[n.block]=a(m,i,o))._name=n.block,delete p._liveInitable),p},declMix:function(t,e,n){return s(e||(e={})),t=l[t]=a(e,n)},_processLive:function(){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new l[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e=d+t.modName+d+(t.modVal===!1?"":t.modVal);return t.elem&&(e=h+t.elem+e),e},_extractElemNameFrom:function(){},afterCurrentEvent:function(t,e){1==o.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=o.length;t&&o.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(p[n]&&(p[n].un(),delete p[n])):p[n]||(p[n]=new t.observable)}}))}(jQuery),function(t,e,n){function i(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function r(t,e,n){null!=e&&e!==!1&&(n.push(c,t),e!==!0&&n.push(c,e))}function s(t,e,n,i){i.push(t),r(e,n,i)}function o(t,e,n,i,o){s(t,a,a,o),o.push(u,e),r(n,i,o)}var a,c="_",u="__",l="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:l,MOD_DELIM:c,ELEM_DELIM:u,buildModPostfix:function(t,e,n){var i=n||[];return r(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,r,c){if(i(n)?i(r)||(c=r,r=n,n=e,e=a):"undefined"!=typeof n?(c=n,n=a):e&&"string"!=typeof e&&(c=e,e=a),!e&&"undefined"==typeof n&&!c)return t;var u=c||[];return e?o(t,e,n,r,u):s(t,n,r,u),c?u:u.join("")},buildClasses:function(t,i,r,a){i&&"string"!=typeof i&&(a=r,r=i,i=n);var c=a||[];return i?o(t,i,n,n,c):s(t,n,n,c),r&&e.each(r,function(e,n){n&&(c.push(" "),i?o(t,i,e,n,c):s(t,e,n,c))}),a?c:c.join("")}}}(BEM,jQuery),function(t,e,n){function i(t,n){var i=t[0];e.each(a(i),function(o,a){s(a,i,o,n);var c=m[a.uniqId];c?c.domElem.index(i)<0&&(c.domElem=c.domElem.add(t),e.extend(c._params,a)):r(o,t,a)})}function r(t,i,r,o,c){"boolean"==typeof r&&(c=o,o=r,r=n);var u=i[0];if(!u||u.dataset===n||"react"!==u.dataset.lego){r=s(r||a(u)[t],u,t);var l=r.uniqId;if(m[l])return m[l]._init();p[l]=p[l]?p[l].add(i):i;var d=u.parentNode;d&&11!==d.nodeType||e.unique(p[l]);var h=y[t]||I.decl(t,{},{live:!0});if(!(h._liveInitable=Boolean(h._processLive()))||o||r.live===!1){o&&i.addClass("i-bem");var f=new h(p[l],r,Boolean(o));return delete p[l],c&&c.apply(f,C.call(arguments,4)),f}}}function s(t,n,i,r){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(r||e.identify()));var s=e.identify(n),o=f[s]||(f[s]={});return o[i]||(o[i]=t),t}function o(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function a(t){var n=e.identify(t);return f[n]||(f[n]=c(t))}function c(t){var e,n=t.getAttribute("data-bem");return n?JSON.parse(n):e?e():{}}function u(t){delete f[e.identify(t)]}function l(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var d=e(window),h=e(document),p={},m={},f={},_={},g={},y=t.blocks,v=t.INTERNAL,b=v.NAME_PATTERN,x=v.MOD_DELIM,k=v.ELEM_DELIM,w=RegExp("[^"+x+"]"+x+"("+b+")(?:"+x+"("+b+"))?$"),E=v.buildModPostfix,M=v.buildClass,C=Array.prototype.slice,T=Array.prototype.reverse;e.fn.bem=function(t,e){return r(t,this,e,!0)};var I=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var r=this;r.domElem=t,r._eventNameCache={},r._elemCache={},r._blockInsideCache={},m[r._uniqId=n.uniqId||e.identify(r)]=r,r._needSpecialUnbind=!1,r.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:M(e.block,e.modName,e.modVal),i="string"==typeof t?t:t.__bemElemName;return i+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,s,o){if(!this.domElem)return o?null:[];s||(s=i,i=n);var a=i?"string"==typeof i?this.findElem(i):i:this.domElem,c="string"==typeof s,u=c?s:s.block||s.blockName,l="."+(c?u:M(u,s.modName,s.modVal))+(o?":first":""),d=a.filter(l);if(t&&(d=d.add(a[t](l))),o)return d[0]?r(u,d.eq(0),!0):null;var h=[],p={};return e.each(d,function(t,n){var i=r(u,e(n),!0);p[i._uniqId]||(p[i._uniqId]=!0,h.push(i))}),h},bindToDomElem:function(t,i,r,s){e.isFunction(r)&&(s=r,r=n);var o=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),s.apply(o,arguments)};return s?t.bind(o._buildEventName(i),r,(a.guid=s.guid=s.guid||e.guid++,a)):e.each(i,function(e,n){o.bindToDomElem(t,e,r,n)}),o},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(h,t,e,n)},bindToWin:function(t,i,r){return e.isFunction(i)&&(r=i,i=n),this._needSpecialUnbind=!0,this.bindToDomElem(d,t,i,r)},bindTo:function(t,n,i,r){var s=arguments.length;switch(s){case 3:e.isFunction(i)&&(r=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(r=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,r)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(h,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(d,t,e)},unbindFrom:function(t,n,i){var r=arguments.length;return 1===r?(n=t,t=this.domElem):2===r&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+i:i+"_"+t}).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,r=_[i.__self._buildCtxEventName(t.type)],s={};r&&i.domElem.each(function(){for(var o=this,a=r.counter;o&&a;){var c=e.identify(o,!0);if(c){if(s[c])break;var u=r.ctxs[c];u&&(e.each(u,function(e,r){r.fn.call(r.ctx||i,t,n)}),a--),s[c]=!0}o=o.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,r=[].slice.call(arguments,e?1:0),s=this._extractMods(r,e?t:n);return e||(r.length?r.forEach(function(t){i[t]=s[t]}):i=s),s},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var r=this;return t.each(function(){var s=e(this);s.__bemElemName=t.__bemElemName,r.setMod(s,n,i)}),r}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,r=(e||this.domElem)[0];return r&&(i=r.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,r=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?b:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(w);n[e[1]]=e[2]||!0,++r}),r<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,r,s){if(this._isDestructing)return this.__base.apply(this,arguments);var o=this.__self,a=o._buildModClassPrefix(t,s),c=o._buildModValRE(t,s,"g"),u=""===n||n===!1;(r||this.domElem).each(function(){var t=e(this),r=t.attr("class"),s=a;n!==!0&&(s+=x+n),(i===!0?c.test(r):(" "+r).indexOf(" "+a+x)>-1)?t.attr("class",r.replace(c,u?"":"$1"+s)):u||t.addClass(s)}),s&&this.dropElemCache(s,t,i).dropElemCache(s,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var r=this.__self.getName(),s=E(n,i),a=[],c=e.map(function(t){return a.push("."+M(r,t,n,i)),t+s}),u=1===c.length,l=o(t,a.join(","));return t===this.domElem&&a.forEach(function(t,n){(this._elemCache[c[n]]=u?l:l.filter(t)).__bemElemName=e[n]},this),l},_elem:function(t,e,n){return this._elemCache[t+E(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var r=e([]);return t.split(" ").forEach(function(t){r=r.add(this._elem(t,n,i))},this),r},dropElemCache:function(t,e,n){if(t){var i=E(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach(function(t){delete this._elemCache[t+i]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),c(t[0])[M(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=a(n);e.each(i,function(t,e){var i=m[e.uniqId];i?i._isDestructing||l(i,n):delete p[e.uniqId]}),u(n)}),t||n.domElem.remove(),n.__base(),delete m[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:h,win:d,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this){var n="undefined"==typeof e;if(n^t){e=this.live()!==!1;var i=this.getName(),r=this.live;this.live=function(){return this.getName()===i?e:r.apply(this,arguments)}}}return e},init:function(t,n,r){!t||e.isFunction(t)?(r=n,n=t,t=h):"string"==typeof t&&(t=e(t));var s=e.identify();return o(t,".i-bem").each(function(){i(e(this),s)}),n&&this.afterCurrentEvent(function(){n.call(r||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,r){"boolean"!=typeof t&&(r=i,i=t,t=n),i&&(T.call(o(i,".i-bem",r)).each(function(t,n){var i=a(this);e.each(i,function(t,e){if(e.uniqId){var i=m[e.uniqId];i?l(i,n):delete p[e.uniqId]}}),u(this)}),t||(r?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){s._liveClassBind(t,e,i,r)});else{var o=g[n],a=e.identify(i);o||(o=g[n]={},h.bind(n,s._liveClassTrigger.bind(s))),o=o[t]||(o[t]={uniqIds:{},fns:[]}),a in o.uniqIds||(o.fns.push({uniqId:a,fn:s._buildLiveEventFn(i,r)}),o.uniqIds[a]=o.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var r=g[n];if(r)if(i){if(r=r[t]){var s=e.identify(i);if(s in r.uniqIds){var o=r.uniqIds[s],a=r.fns.length-1;for(r.fns.splice(o,1);a>o;)r.uniqIds[r.fns[o++].uniqId]=o-1;delete r.uniqIds[s]}}}else delete r[t];return this},_liveClassTrigger:function(t){var n=g[t.type];if(n){var i=t.target,r=Object.keys(n);do for(var s,o=" "+i.className+" ",a=0;s=r[a++];)if(-1!==o.indexOf(" "+s+" ")){for(var c=!1,u=n[s].fns,l=0;l<u.length;l++)u[l].fn.apply(e(i),arguments)===!1&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;r.splice(--a,1)}while(r.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(s){var o=[i._name,((s.data||(s.data={})).domElem=e(this)).closest(i.buildSelector()),!0],a=r.apply(null,n?o.concat([t,s]):o);return a&&!n&&t?t.apply(a,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,r,s){(!i||e.isFunction(i))&&(r=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var o=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){o._liveClassBind(M(o._name,e,t.modName,t.modVal),i,r,s)}),o):o._liveClassBind(M(o._name,t.elem,t.modName,t.modVal),i,r,s)},liveUnbindFrom:function(t,i,r){(!i||e.isFunction(i))&&(r=i,i=t,t=n);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){s._liveClassUnbind(M(s._name,t),i,r)}),s):s._liveClassUnbind(M(s._name,t),i,r)},_liveInitOnBlockEvent:function(t,e,n,i){var r=this._name;return y[e].on(t,function(t){if(t.block.domElem){var e=arguments,s=t.block[i](r);n&&s.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,r){return t.jquery?this._liveCtxBind(t,e,n,i,r):this.__base(t,e,n,i,r)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,r){return this._liveCtxBind(t,e,n,i,r)},_liveCtxBind:function(t,i,r,s,o){var a=this;if("object"==typeof i&&(e.isFunction(r)||e.isFunction(s))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(r)&&(o=s,s=r,r=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){a._liveCtxBind(t,e,r,s,o)});else{var c=a._buildCtxEventName(i),u=_[c]||(_[c]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=u.ctxs[t];n||(n=u.ctxs[t]={},++u.counter),n[e.identify(s)+(o?e.identify(o):"")]={fn:s,data:r,ctx:o}})}else e.each(i,function(e,n){a._liveCtxBind(t,e,n,r)});return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,r){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var s=this,o=_[n=s._buildCtxEventName(n)];return o&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=o.ctxs[n])&&(i&&delete t[e.identify(i)+(r?e.identify(r):"")],(!i||e.isEmptyObject(t))&&(o.counter--,delete o.ctxs[n]))}),o.counter||delete _[n]),s},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:c,_buildModClassPrefix:function(t,e){return this._name+(e?k+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+x+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+x+"("+b+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+k+"("+b+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+M(this._name,t,e,n)},getBlockByUniqId:function(t){return m[t]},getWindowSize:function(){return{width:d.width(),height:d.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(t){function e(){return window.innerHeight|0+i.outerHeight()}function n(){return window.innerWidth|0+i.outerWidth()}var i=t(window),r=e(),s=n();(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(){var t=e(),i=n();return s===i&&r===t?!1:(r=t,void(s=i))}}(jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),s=0;s<r.length;s++){var o=jQuery.trim(r[s]);if(o.substring(0,t.length+1)==t+"="){i=decodeURIComponent(o.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,a="; expires="+c.toUTCString()}var u=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,u,l,d].join("")},function(t){function e(t){return t.replace(/%.{2}/g,function(t){return i[t]||t})}function n(t,n){var i="";try{i=t(n)}catch(r){try{i=t(e(n))}catch(s){i=n}}return i}var i={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:this.__self.getCookie("yandex_login")?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){return"undefined"==typeof e?(this._params||{})[t]:void(this._params&&(this._params[t]=e))},getCookie:function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}),function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),r=i.name||"",s=e.block[r];s&&!n.data(r)&&(s.call(n,i),n.data(r,!0).addClass(r+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready(function(){e.blockInit()})))}(jQuery,window.Lego),function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,r={},s={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?r.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?r.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?r.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(r.ios=i[1].replace(/_/g,"."),s.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(r.ios=i[1].replace(/_/g,"."),s.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?r.bada=i[1]:(i=e.match(/MSIE\s9/))?r.wp="7.5":r.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some(function(n){return t[n]&&(e=n)}),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=this.__self.ios||this.__self.android,e=t.split("."),n=e.shift(),i=e.join("-"),r=this.getMod("platform");return{platform:r,major:n,subversion:i}}}},{ios:r.ios,iphone:s.iphone,ipad:s.ipad,android:r.android,bada:r.bada,wp:r.wp,other:r.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent),function(t,e,n){function i(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var r,s=0;c>s;s++)r=o[s],n[r]=e[r]||t[r]||i[r]||a[s];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||u||(n.buttons=l[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}function r(t,e){var i=n.Event(t),r=e.preventDefault,s=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){r(),s()},i}var s={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(s),a=o.map(function(t){return s[t]}),c=o.length,u=!1,l=[0,1,4,2];try{u=1===new MouseEvent("test",{buttons:1}).buttons}catch(d){}var h=t.Map&&t.Map.prototype.forEach,p=h?new t.Map:{array:[],size:0,set:function(t,e){return void 0===e?this["delete"](t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}},m={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return t.contains?t.contains(e):!1},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);
for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=r(t,e);return n._target=n._target||e.target,n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);return e?n.event.trigger(t,null,e,!t.bubbles):void 0},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};m.boundHandler=m.eventHandler.bind(m);var f,_,g={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){m.listen(t,this.events)},unregister:function(t){m.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,s=0,o=n.length;o>s&&(e=n[s]);s++){var a=Math.abs(i-e.x),c=Math.abs(r-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return i(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(p.has(this.POINTER_ID)&&this.cancel(t),p.set(this.POINTER_ID,t),m.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||m.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=p.get(this.POINTER_ID);e&&e.button===t.button&&(m.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||m.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||m.leaveOut(this.prepareEvent(t))},cancel:function(t){m.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){p["delete"](this.POINTER_ID)}},y={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){m.listen(t,this.events)},unregister:function(t){m.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===p.size||1===p.size&&p.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,r=this.currentTouchEvent,s=t.identifier+2;return i(r,n.extend({},t,{pointerId:s,target:m.captureInfo[s]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(r.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,r=0;r<n.length;r++)i=n[r],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(!i)break;if(e=i.getAttribute("touch-action"),null!==e)break;i=i.parentNode}while(i!==document);var r=this.touchActionToScrollType(e);if("none"===r)n=!1;else if("XY"===r||void 0===r)n=!0;else{var s=t.originalEvent.changedTouches[0],o=r,a="Y"===r?"X":"Y",c=Math.abs(s["client"+o]-this.firstXY[o]),u=Math.abs(s["client"+a]-this.firstXY[a]);n=c>=u}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(p.size>=e.length){var n=[];p.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var r=t.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){p.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),m.over(t),m.enter(t),m.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=p.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;m.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(m.leaveOut(n),m.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(m.up(t),m.out(t),m.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){m.cancel(t),m.out(t),m.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){p["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=g.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},v={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){m.listen(t,this.events)},unregister:function(t){m.unlisten(t,this.events)},prepareEvent:function(t){var e=i(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){p["delete"](t)},MSPointerDown:function(t){p.set(t.originalEvent.pointerId,t),m.down(this.prepareEvent(t))},MSPointerMove:function(t){m.move(this.prepareEvent(t))},MSPointerUp:function(t){m.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){m.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){m.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){m.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){m.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){m.fireEvent("lostpointercapture",this.prepareEvent(t))}},b=function(t){if(!p.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(f=function(t,e){t.setPointerCapture(e)},_=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(f=function(t,e){b(e),t.msSetPointerCapture(e)},_=function(t,e){b(e),t.msReleasePointerCapture(e)}):(f=function(t,e){b(e),m.setCapture(e,t)},_=function(t,e){b(e),m.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){f(this[0],t)},releasePointerCapture:function(t){_(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=o.concat(e[n].props||[])}):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?m.registerSource("ms",v):(m.registerSource("mouse",g),void 0!==t.ontouchstart&&m.registerSource("touch",y)),m.register(document)))}(window,document,jQuery),function(){function t(){n.hasClass("pointerfocus")&&(r=!0,setTimeout(function(){r=!1}))}var e=$(window),n=$(document.documentElement),i=0,r=!1;document.documentMode<=11?n.on("focusin",function(e){var n=e.originalEvent;!n||n.fromElement||n.relatedTarget||t()}):e.on("blur",function(){e.one("focus",t)}),n.addClass("utilityfocus").on({focusin:function(){n.toggleClass("pointerfocus",r).toggleClass("utilityfocus",!r)},keydown:function(){clearTimeout(i),r=!1},"pointerdown pointerup click":function(){r=!0,clearTimeout(i),i=setTimeout(function(){r=!1},600)}})}(),BEM.DOM.decl("i-config",{onSetMod:{js:function(){var t=this;t.__self._params=t.params.params}}},{param:function(t){var e=this;return(e._params||{})[t]}}),BEM.decl("i-utils",{},{GPU_BY_DEVICE:{iphone5:"PowerVR",macPro15:["Radeon","555","AMD"]},hasWebGl:function(t){var e=this;t=t||{};var n=t.contextProps||"",i="_hasWebGlCache"+JSON.stringify(n);if(void 0===e[i]){var r=document.createElement("canvas"),s=r.getContext("webgl")||r.getContext("experimental-webgl"),o=!0;if(s&&n){var a=Object.prototype.hasOwnProperty;for(var c in n)if(a.call(n,c)&&s.getParameter(s[c])<n[c]){o=!1;break}}e[i]=o&&Boolean(s)}return e[i]},testDeviceNameWithWebGL:function(t){var e,n=this,i=document.createElement("canvas");if(i){var r=i.getContext("webgl")||i.getContext("experimental-webgl");if(r){var s;try{s=r.getExtension("WEBGL_debug_renderer_info")}catch(o){return!1}s&&(e=r.getParameter(s.UNMASKED_RENDERER_WEBGL))}}if(e)for(var a=0;a<t.length;a++){var c=n.GPU_BY_DEVICE[t[a]];if(!c)return!1;if("string"==typeof c&&e.indexOf(c)>-1)return!0;if(Array.isArray(c)){for(var u=!0,l=0;l<c.length;l++)if(-1===e.indexOf(c[l])){u=!1;break}if(u)return!0}}return!1},getCurrentScrollWidth:function(){return"undefined"==typeof window?0:"number"==typeof window.innerWidth?window.innerWidth-document.documentElement.clientWidth:this._getScrollWidth()},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:-9999,top:-9999,overflow:"scroll",width:200,height:200}).appendTo(document.body);return this._scrollWidth=200-t.get(0).scrollWidth,t.remove(),this._scrollWidth}}),function(t){var e="yandex_ru",n="tnsCounterTns_"+e,i="tnscounter_callback";t.decl("b-statcounter__tns",{onSetMod:{js:{inited:function(){this.__self.loadTns(),this.addCounter(this.params)}}},addCounter:function(t){var e=window[i]||(window[i]=[]),r=function(){try{window[n]=new TNS.TnsCounter(t)}catch(e){}};window[n]?r():e.push(r)},getDefaultParams:function(){return{account:e}}},{loadTns:function(){var t=window.TNS&&TNS.Counter,e="https:"===document.location.protocol?"https:":"http:",n="//www.tns-counter.ru/tcounter.js";!t&&$.ajax({url:e+n,dataType:"script",cache:!0}),this.loadTns=function(){}}})}(BEM.DOM),function(t){t.decl("b-statcounter__metrika",{onSetMod:{js:{inited:function(){this.__self.loadMetrika(),this.addCounter(this.params)}}},addCounter:function(t){var e=window.Ya&&Ya.Metrika,n=window.yandex_metrika_callbacks||(window.yandex_metrika_callbacks=[]),i=function(){window["yaCounter"+t.id]=new Ya.Metrika(t)};if(!t.id)throw new Error([BEM.I18N("b-statcounter__metrika","JSERR_incorrectID"),"block: "+this.__self.getName(),"method: addCounter"].join("\n"));e?i():n.push(i)},getDefaultParams:function(){return{enableAll:!0}}},{loadMetrika:function(){var t=window.Ya&&Ya.Metrika,e="https:"===document.location.protocol?"https:":"http:",n="//mc.yandex.ru/metrika/watch.js";!t&&$.ajax({url:e+n,dataType:"script",cache:!0}),this.loadMetrika=function(){}}})}(BEM.DOM),function(t){t.queryParam=function(t){var e=RegExp("[?&]"+t+"=([^&]*)").exec(location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))}}(jQuery),BEM.DOM.decl("i-redir",{onSetMod:{js:function(){this.redir=this.findBlockOutside("b-page").findBlockInside("redir"),this.bindTo("click",this._click)}},_click:function(){this.redir.send(this.params.event)}}),BEM.decl("i-metrika",{},{getId:function(){return"yaCounter"+BEM.blocks["i-global"].param("metrikaId")},hit:function(t){var e=this;t=t||{},e._safeMetrikaApply("hit",[t.pathname||location.pathname,{params:t.params||{},referer:t.referrer||document.referrer,title:t.title||document.title}])},params:function(t){var e=this;e._safeMetrikaApply("params",[t])},reachGoal:function(t,e){var n=this;n._safeMetrikaApply("reachGoal",[t,e])},reachGoalInline:function(t,e){var n=this,i=n.getId();return"window."+i+" && "+i+".reachGoal("+JSON.stringify(t)+(e?", "+JSON.stringify(e).replace(/"/g,"'"):"")+");return true;"},_safeFn:function(t,e,n){n[t].apply(n,e)},_safeMetrikaApply:function(t,e){var n=this,i=n.getId(),r=window[i],s=n._safeFn.bind(null,t,e);r?s(r):n._bindOnInit(s)},_bindOnInit:function(t){var e=this;if(!e._binded){e._queue=[],e._binded=!0;var n=e.getId();$(document).on(n.toLowerCase()+"inited",function(){var t=window[n];$.each(e._queue,function(e,n){n(t)})})}e._queue.push(t)}}),BEM.DOM.decl("b-page",{onSetMod:{js:{inited:function(){var t=this,e=t.params.historyReplaceUrl;e&&window.history.replaceState&&window.history.replaceState(null,null,e)}}}}),BEM.DOM.decl("b-page",{onSetMod:{js:function(){this.bindTo("mousedown",function(){this.setMod("pressed","yes")}).bindTo("mouseup dragend",function(){this.delMod("pressed")})}}}),function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,n){function i(n){var i,r=n.type;return("mouse"!==n.pointerType||1===n.which)&&(n.type=e,i=t.event.dispatch.apply(this,arguments),n.type=r),i}t.event.special[e]={setup:function(){t(this).on(n,i)},teardown:function(){t(this).off(n,i)}}})}(jQuery),$.extend({util:{}}),function(){function t(t){return"[object Object]"===i.call(t)}function e(n,i,r){var s,o;n=Object(n),i=Object(i);for(s in i)o=r&&r(n[s],i[s],s),n[s]=void 0!==o?o:t(n[s])&&t(i[s])?e(n[s],i[s],r):i[s];return n}function n(t,n){return e(t,n,function(t,e,n){return"mix"===n?[].concat(t,e):void 0})}var i=Object.prototype.toString;$.extend($.util,{merge:e,mergeBemjson:n})}(),BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){return this.hasMod("disabled")?!1:void(this._focused||(this._focus(),this.trigger("focus")))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}}),BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex)},yes:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",-1),this.delMod("pressed")}}},_onPointerpress:function(){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}}),BEM.DOM.decl("header2",{onSetMod:{js:function(){var t=this;t.__base.apply(t,arguments);var e=t.findBlockInside("search2_template_service");e&&e.bindTo("submit",function(t){var e=$("input",t.target);e.length&&!e.val()&&t.preventDefault()}),t._search=t.findBlockInside("search2"),t._search&&(t._searchInput=t._search.findBlockInside("input"),t._searchInputClear=t._searchInput.elem("clear"),t._searchInput.on("change",t._onSearchQueryChange.bind(t)),t._onSearchQueryChange())}},_onSearchQueryChange:function(){var t=this;t._searchInput.hasMod(t._searchInputClear,"visibility","visible")?t._search.setMod("has-input","yes"):t._search.delMod("has-input")}}),BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some(function(e){return this[e]===t},this)}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){return this.hasMod("disabled")?!1:(e?this._focused||this._focus():this._focused&&this._blur(),void this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n="undefined"!=typeof t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,r=t.createTextRange();r.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=r.compareEndPoints("EndToEnd",s)>-1?i:-r.moveEnd("character",-i)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){return this.hasMod("disabled","yes")?!1:void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._updateVal)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")}))}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(this.__base()===!1)return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._updateVal()})}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",function(){this._updateValNextTick()}),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}}),function(t,e){function n(t){t.isPrimary&&(f.push(t),setTimeout(Array.prototype.shift.bind(f),p))}function i(t,e){return Math.abs(t.clientX-e.clientX)>d||Math.abs(t.clientY-e.clientY)>d}function r(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(!t._sourcePoint){for(var r=0;r<f.length;r++){var s=f[r],o=s.target===t.target;if(!(s[i]||!o&&(Math.abs(e-s.clientX)>h||Math.abs(n-s.clientY)>h)||!o&&document.elementFromPoint(s.clientX,s.clientY)===s.target)){t._sourcePoint=s,s[i]=t;break}}_.push(t),setTimeout(Array.prototype.shift.bind(_),p)}}function s(t){for(var e=0;e<_.length;e++)if(_[e]===t)return _[e]._sourcePoint}function o(t){var e=s(t);return Boolean(e)&&e.target!==t.target}function a(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}if(!e.event.special.pointerclick){var c,u=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,l="touchAction"in document.documentElement.style,d=10,h=25,p=900,m=250,f=[],_=[],g=null,y=null,v=l?function(t){function e(t){return t&&t!==document.documentElement?"manipulation"===getComputedStyle(t)["touch-action"]||e(t.parentElement):!1}return e(t)}:function(){return!1};u?(c={click:function(t){var e=Object(t.originalEvent)._sourcePoint;return e?void(e.isDefaultPrevented()&&t.preventDefault()):a.apply(this,arguments)},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==e&&"pointerup"!==e||!v(t.target)))if("pointerdown"===e)y=t;else if("pointermove"===e&&y&&(y.target!==t.target||i(y,t)))y=null;else if("pointerleave"===e||"pointercancel"===e)y=null;else if("pointerup"===e){if(n(t),!y)return;if(!(t.timeStamp-y.timeStamp>m))return g||(g=setTimeout(function(){g=y=null})),a.apply(this,arguments);y=null}}},["mousedown","click"].forEach(function(e){t.addEventListener(e,function(t){r(t),o(t)&&(t.preventDefault(),t.stopPropagation())},!0)})):c={click:function(){return a.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(c)},teardown:function(){e(this).off(c)}}}}(window,jQuery),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}}),function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery),BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do t._preventHideByClick=!0,t=t._getParentPopup();while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){function t(t,e){var n=!1;return Object.keys(e).forEach(function(i){var r=e[i];t[i]!==r&&(t[i]=r,n=!0)}),n}var e=this._calcBestDrawingParams();return this.setMod("direction",e.direction),t(this._lastPopupDrawingCss,this._calcDrawingCss(e))&&this.domElem.css(this._lastPopupDrawingCss),t(this._lastTailDrawingCss,this._calcTailDrawingCss(e))&&this.elem("tail").css(this._lastTailDrawingCss),this},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,n=this._scope;return n.is(BEM.DOM.scope)||(e=n.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map(function(i){var r={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(r.top=t.top+t.height+n.main,r.height=e.bottom-r.top-n.viewport):this._checkMainDirection(i,"top")?(r.height=t.top-e.top-n.main-n.viewport,r.top=t.top-r.height-n.main):(this._checkSecondaryDirection(i,"center")?(r.height=e.bottom-e.top-2*n.viewport,r.top=t.top+(t.height-r.height)/2):this._checkSecondaryDirection(i,"bottom")?(r.height=t.top+t.height-e.top-n.secondary-n.viewport,r.top=t.top+t.height-r.height-n.secondary):this._checkSecondaryDirection(i,"top")&&(r.top=t.top+n.secondary,r.height=e.bottom-r.top-n.viewport),this._checkMainDirection(i,"left")?(r.width=t.left-e.left-n.main-n.viewport,r.left=t.left-r.width-n.main):(r.left=t.left+t.width+n.main,r.width=e.right-r.left-n.viewport)),this._checkSecondaryDirection(i,"right")?(r.width=t.left+t.width-e.left-n.secondary-n.viewport,r.left=t.left+t.width-r.width-n.secondary):this._checkSecondaryDirection(i,"left")?(r.left=t.left+n.secondary,r.width=e.right-r.left-n.viewport):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(r.width=e.right-e.left-2*n.viewport,r.left=t.left+t.width/2-r.width/2),r},this)},_calcBestDrawingParams:function(){for(var t,e,n,i,r,s,o=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),u=this.params.directions,l=u.length,d=0;l>d&&(t=u[d],e=this._calcPos(t,a,o),n=this._calcViewportFactor(e,c,o),(0===d||n>s||!s&&this.hasMod("direction",t))&&(i=t,s=n,r=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));d++);return{direction:i,left:r.left,top:r.top,tail:this._calcTailPos(i,a,o,r)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}
},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),i=t.width(),r=t.height();return{top:e,left:n,bottom:e+r,right:n+i}},_calcPos:function(t,e,n){var i={},r=this._calcOffsets();return this._checkMainDirection(t,"bottom")?i.top=e.top+e.height+r.main:this._checkMainDirection(t,"top")?i.top=e.top-n.height-r.main:this._checkMainDirection(t,"left")?i.left=e.left-n.width-r.main:this._checkMainDirection(t,"right")&&(i.left=e.left+e.width+r.main),this._checkSecondaryDirection(t,"right")?i.left=e.left+e.width-n.width-r.secondary:this._checkSecondaryDirection(t,"left")?i.left=e.left+r.secondary:this._checkSecondaryDirection(t,"bottom")?i.top=e.top+e.height-n.height-r.secondary:this._checkSecondaryDirection(t,"top")?i.top=e.top+r.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(i.top=e.top+e.height/2-n.height/2)),i},_calcTailPos:function(t,e,n){var i={},r=this._calcTailDimension()/2,s=this.params.tailOffset,o=this.params.tailSize;return this._checkMainDirection(t,"bottom")?i.top=-r:this._checkMainDirection(t,"top")?i.top=Math.floor(n.innerHeight-r):this._checkMainDirection(t,"left")?i.left=Math.floor(n.innerWidth-r):this._checkMainDirection(t,"right")&&(i.left=-r),this._checkSecondaryDirection(t,"right")?i.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-r-s:this._checkSecondaryDirection(t,"left")?i.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-r+s:this._checkSecondaryDirection(t,"bottom")?i.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-r-s:this._checkSecondaryDirection(t,"top")?i.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-r+s:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=Math.ceil(n.innerWidth/2)-r+s:i.top=Math.ceil(n.innerHeight/2)-r+s),{top:i.top,left:i.left,width:o,height:o}},_calcViewportFactor:function(t,e,n){var i=this.params.viewportOffset,r=Math.max(t.left,e.left+i),s=Math.min(t.left+n.width,e.right-i),o=Math.max(t.top,e.top+i),a=Math.min(t.top+n.height,e.bottom-i);return s>r&&a>o?(s-r)*(a-o)/n.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:t.mainOffset>=0&&e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(t){function e(t,e){return t.addClass("i-bem "+e).bem(e)}BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=e(this._anchor,"_"+this.__self.getName()+"-destructor"),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(){var e=this.__base.apply(this,arguments);if("undefined"==typeof this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor){var n=0,i=0,r=this._getFirstFixedParent(this._scope);if(r){var s=r.offset();n=s.left,i=s.top}e.left-=t(window).scrollLeft()-n,e.top-=t(window).scrollTop()-i}return t.extend(e,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(e){for(e=e[0];e;){if(1===e.nodeType&&"fixed"===t(e).css("position"))return t(e);e=e.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup, .popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")}return this._parentPopup}});var n=BEM.DOM;n.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),$.extend({debounce:function(t,e,n,i){var r,s=function(){var s=arguments;i=i||this,n&&!r&&t.apply(i,s),clearTimeout(r),r=setTimeout(function(){n||t.apply(i,s),r=null},e)};return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),s.stop=function(){clearTimeout(r),r=null},s},throttle:function(t,e,n){var i,r,s,o=function(){r=arguments,s=!0,n=n||this,i||function(){s?(t.apply(n,r),s=!1,i=setTimeout(arguments.callee,e)):i=null}()};return o.stop=function(){clearTimeout(i),i=null},o}}),BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)t=e,e=e._getParentPopup();return $(t._anchor).parents()},setAnchor:function(){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(){var t=this.__base.apply(this,arguments);return"undefined"==typeof this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(t,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=this._getOffsetOf(t),n=e.left,i=e.top,r=n+t.outerWidth(),s=i+t.outerHeight(),o=this.getMod("direction"),a=Math.floor(this._checkDirection(o,"top")?i:s),c=Math.floor(this._checkDirection(o,"left")?n:r),u=!0;return this._anchorParents.each(function(t,e){if("BODY"===e.tagName)return!1;e=$(e);var n=/scroll|hidden|auto/,i=n.test(e.css("overflow-y")),r=n.test(e.css("overflow-x"));if(i||r){var s=this._getOffsetOf(e),o=Math.floor(s.top);if(o>a||o+e.outerHeight()<a)return u=!1;var l=Math.floor(s.left);return u=c>=l&&l+e.outerWidth()>=c}}.bind(this)),u},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100}),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}}),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){return this.__base.apply(this,arguments)===!1?!1:void(this._hasHint&&this._updateHint())}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),BEM.DOM.decl("user2",{onSetMod:{js:{inited:function(){return this._retpath=this.params._retpath,this._isAuthorized=Boolean(this.params._uid),this._isAuthorized?(this._currentAccount=this.findBlockOn("current-account","user-account"),this._popup=this.findBlockInside("popup2").setAnchor(this._currentAccount),this._menu=this.findBlockInside("menu"),this._exitItem=this.elem("menu-item","action","exit"),this._plusItem=this.elem("menu-item","action","plus"),this._addItem=this.elem("add-account"),this._accountsContainer=this.findElem(this._menu.domElem,"accounts-container"),this._menuCounter=this.findElem("menu-counter"),this.bindTo("menu-item","pointerclick",this._onMenuItemClick),this.bindTo(this._exitItem,"pointerclick",this._onLogout),BEM.blocks["user-account"].on(this._accountsContainer,"click",this._onAccountClick,this),void BEM.blocks["user-account"].on(this._accountsContainer,"logout",this._processLogout,this)):!0}},opened:{yes:function(){this.domElem.attr("aria-expanded",!0),this._popup.setMod("visible","yes").on("beforeClose",this._onPopupClose,this),this._setMaxHeight(),this.bindToWin("resize orientchange",this._setMaxHeight),this._popup.on("beforeOpen",function(){this._onPopupOpen(),this._popup.un("beforeOpen",this._onPopupOpen,this)},this)},"":function(){var t=this.trigger("beforeClose");return t.isDefaultPrevented&&t.isDefaultPrevented()?!1:(this.unbindFromWin("resize orientchange",this._setMaxHeight),this.domElem.attr("aria-expanded",!1),void this._popup.delMod("visible").un("beforeClose",this._onPopupClose,this))}}},destruct:function(){return this._isAuthorized&&(BEM.blocks["user-account"].un(this._accountsContainer,"click",this._onAccountClick,this),BEM.blocks["user-account"].un(this._accountsContainer,"logout",this._processLogout,this)),this.__base.apply(this,arguments)},setUnreadCount:function(t){var e=this._menu.findBlockInside("user-account");return this._currentAccount.setCounter(t),e&&e.hasMod("has-ticker")&&e.setCounter(t),this._menuCounter&&(t>0?this.delMod(this._menuCounter,"state","empty"):this.setMod(this._menuCounter,"state","empty"),this._menuCounter[0].innerText=t),this},setRetpath:function(t){this._retpath=t;var e=encodeURIComponent(t),n=function(t,n){var i=$(n),r=i.attr("href");if(r){var s=r.replace(/([\&\?]retpath=)[^\&]*/,"$1"+e);s!==r&&i.attr("href",s)}};return $().add(this._menu&&this._menu.findElem("item")).add(this.findElem("current-account")).add(this.findElem("a11y-exit")).add(this.findElem("enter")).add(this._addItem).each(n),this},getPopup:function(){return this._popup},getMenu:function(){return this._menu},getCurrentAccount:function(){return this._currentAccount},_changeUser:function(t){var e=this.params._passportHost+"/passport?mode=embeddedauth";$('<form method="POST" action="'+e+'"><input type="hidden" name="action"  value="change_default"><input type="hidden" name="uid"     value="'+t+'"><input type="hidden" name="retpath" value="'+this._retpath+'"><input type="hidden" name="yu"      value="'+this.params._yu+'"></form>').appendTo("body").submit()},_onCurrentAccountClick:function(t,e){t.block===this._currentAccount&&(e.domEvent.preventDefault(),this.toggleMod("opened","yes"),this.trigger("current-account-click"))},_onAccountClick:function(t,e){if(!e.isLogout){var n=this.elemParams(t.block.domElem).uid;this._changeUser(n)}},_onPopupClose:function(){this.delMod("opened")},_onPopupOpen:function(){this.trigger("beforeOpen")},_processLogout:function(t){var e=this.elemParams(t.target.domElem).uid;e&&this.trigger("logout-click",{uid:e,account:t.target})},_onMenuItemClick:function(){this.trigger("menu-item-click")},_onLogout:function(){this.trigger("logout")},_setMaxHeight:function(){var t=BEM.DOM.win,e=this.params.menuMaxHeight;e||(e=t.height()-this.domElem.offset().top+t.scrollTop()),this._menu.domElem.css("max-height",e)},getDefaultParams:function(){return{menuMaxHeight:0}}},{live:function(){this.liveInitOnBlockInsideEvent("init","user-account"),this.liveInitOnBlockInsideEvent("click","user-account",this.prototype._onCurrentAccountClick),this.liveBindTo("enter","pointerclick",function(){this.trigger("login")})}}),function(t){var e=t.innerWidth>t.innerHeight,n=t.innerWidth,i=400,r=$.throttle(function(){var i=t.innerWidth,r=t.innerHeight,s=i>r;s!==e&&i!==n&&($(t).trigger("orientchange",{landscape:s,width:i,height:r}),e=s,n=i)},i);BEM.DOM.win.bind("resize",r),BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){this.bindToWin("orientchange",this._onOrientChange,this).__base.apply(this,arguments)}}},_onOrientChange:function(t,e){var n=this.__self,i=document.documentElement,r=i.className,s="i-ua_orient_"+(e.landscape?"landscape":"portrait");-1===r.indexOf(s)&&(i.className=r.replace(/\bi-ua_orient_\w+\b/,s)),n.width=e.width,n.height=e.height,n.landscape=e.landscape}},{width:t.innerWidth,height:t.innerHeight,landscape:e})}(window),BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){return this.hasMod("disabled")?!1:void this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),n.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.prvntKeys)&&t.preventDefault(),n.is(e,this.params.pressKeys)&&(this.delMod("pressed"),n.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("keydown",function(t){this._onKeydown(t)}).liveBindTo("keyup",function(t){this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",function(t){this.hasMod("disabled")||this._onClick(t)}),this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("mousedown",function(t){t.preventDefault()}),this.__base()}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._url=this.params._url||this.domElem.attr("href")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex).attr("href",this._url)},yes:function(){this.__base.apply(this,arguments),void 0!==this._url&&this.domElem.attr("tabindex",-1),this.domElem.removeAttr("href")}}},getUrl:function(){return this._url},setUrl:function(t){return this._url=t,this.hasMod("disabled")||this.domElem.attr("href",t),this},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["ENTER"]})}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{},{live:function(){return this.liveBindTo("dragend",function(){this.hasMod("type","link")&&!this.hasMod("disabled")&&this.delMod("pressed")}),this.__base()}}),BEM.DOM.decl("user-account",{setCounter:function(t){var e=this.findBlockInside("ticker");e&&e.val(t)},_onClick:function(t){var e={domEvent:t};this.isLogoutClick&&(e.isLogout=!0,this.isLogoutClick=!1),this.trigger("click",e)},_onMouseOver:function(){this.setMod("hovered","yes").bindTo("mouseleave",this._onMouseLeave)},_onMouseLeave:function(){this.delMod("hovered").unbindFrom("mouseleave")},_onFocusIn:function(){this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusOut)},_onFocusOut:function(){this.trigger("blur").delMod("focused").unbindFrom("focusout")},_onLogoutClick:function(){this.isLogoutClick=!0,this.trigger("logout")}},{live:function(){this.liveBindTo("pointerclick",this.prototype._onClick),this.liveBindTo("focusin",this.prototype._onFocusIn),this.liveBindTo("mouseover",this.prototype._onMouseOver),this.liveBindTo("logout","pointerclick",this.prototype._onLogoutClick)}}),BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}),this.__base()}}),function(t){var e=1,n=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){var i="only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)";n=t.matchMedia(i).matches}else n=e>=1.3;BEM.DOM.decl("i-ua",{},{dpr:e,hiDpi:n})}(window),BEM.DOM.decl({block:"user-account",modName:"has-ticker",modVal:"yes"},{getTicker:function(){return this.findBlockOn("ticker","ticker")}}),BEM.DOM.decl("ticker",{onSetMod:{js:{inited:function(){this._count=this.params.count}}},show:function(){return this.setMod("state","normal")},hide:function(){return this.setMod("state","empty")},val:function(t){if(!arguments.length)return this._count;var e=this.params.maxCount;return this._count=t,this.elem("value").attr("title",t).text(t>e?e:t),t?this.show():this.hide(),this}}),BEM.DOM.decl({block:"menu",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.elem("item").attr("id",function(t,e){return e||$.identify()}),this._val=this.getVal()}},disabled:function(t,e){this.__base.apply(this,arguments),this.setMod(this.elem("item"),t,e)}},onElemSetMod:{item:{hovered:{yes:function(t){return this.hasMod(t,"disabled")?!1:(this.delMod(this.elem("item","hovered","yes"),"hovered"),this.domElem.attr("aria-activedescendant",t.attr("id")),void this.trigger("item-hover",{item:t}))},"":function(){this.domElem.removeAttr("aria-activedescendant"),this.trigger("item-hover",{})}},checked:function(t,e,n){this.domElem.attr("aria-selected",Boolean(n))},disabled:{yes:function(){this.delMod("hovered"),this.domElem.attr("aria-disabled",!0)},"":function(){this.domElem.attr("aria-disabled",!1)}}}},_onChange:function(){var t=this._val,e=this.getVal();return t!==e&&(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this},getItems:function(t,e){return this.elem("item",t,e).get().map(function(t){return $(t)})},setContent:function(t){return BEM.DOM.update(this.domElem,t),this.reset(),this},getVal:function(){},reset:function(){this.dropElemCache()},_onItemEnter:function(t){this.setMod(t,"hovered","yes")},_onItemLeave:function(t){this.delMod(t,"hovered")},_onItemFocusin:function(t){this.setMod(t,"hovered","yes")},_onFocusout:function(){this.__base.apply(this,arguments),this.delMod(this.elem("item","hovered","yes"),"hovered")},_onItemClick:function(t,e,n){this.trigger("click",{item:t,source:n.source})}},{live:function(){return this.liveBindTo("item","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled","yes")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onItemEnter(e,t):this._onItemLeave(e,t))}).liveBindTo("item","pointerclick",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemClick(e,t,{source:"pointer"})}).liveBindTo("item","focusin",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemFocusin(e,t)}).liveBindTo("focusout",function(t){this._onFocusout(t)}),this.__base()}}),BEM.DOM.decl("menu",{onSetMod:{focused:{yes:function(){return this.__base.apply(this,arguments),this.hasMod("type","navigation")?!1:(this.elem("item","hovered","yes").length||(this.setMod(this.elem("item").eq(0),"hovered","yes"),this._scrollToItem(this.elem("item").eq(0))),void this.bindToDoc("keydown",this._onKeydown).bindToDoc("keyup",this._onKeyup).bindToDoc("keypress",this._onKeypress))},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("keydown keyup keypress").delMod(this.elem("item","hovered","yes"),"hovered")}}},hoverNext:function(t){for(var e,n,i=t?this.getItems().reverse():this.getItems(),r=0,s=!1;n=i[r];r++)if(!this.hasMod(n,"disabled"))if(this.hasMod(n,"hovered"))s=!0;else{if(s){e=n;break}e||(e=n)}e&&(this.setMod(e,"hovered","yes"),this._scrollToItem(e))},hoverText:function(t,e){for(var n,i=this.getItems(),r=i.length,s=this._normalizeText(t),o=e||0;r>o;){if(n=i[o],!this.hasMod(n,"disabled")&&0===this._normalizeText(n.text()).indexOf(s))return this.setMod(n,"hovered","yes"),void this._scrollToItem(n);o++,o===i.length&&(o=0,r=e)}},_normalizeText:function(t){return t.toLowerCase().replace(//,"")},reset:function(){this.__base.apply(this,arguments),this._dropSearchCache()},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_scrollToItem:function(t){var e=this.domElem.offset().top,n=t.offset().top,i=0;e>n?i=n-e:(i=n+t.outerHeight()-e-this.domElem.outerHeight(),0>i&&(i=0)),this.domElem.scrollTop(this.domElem.scrollTop()+i)},_onKeydown:function(t,e){var n=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||((n.is(i,"UP","DOWN")||!e&&i===n.SPACE)&&t.preventDefault(),n.is(i,"UP","DOWN")&&(this.hoverNext(n.is(i,"UP")),this._dropSearchCache()))},_onKeyup:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||e.is(n,"ENTER","SPACE")&&this._onItemClick(this.elem("item","hovered","yes"),t,{source:"keyboard"})},_onKeypress:function(t){var e,n,i=Number(new Date),r=t.charCode,s=String.fromCharCode(r).toLowerCase(),o=s===this._lastChar&&1===this._searchTerm.length,a=this.getItems();return r<=BEM.blocks.keycodes.SPACE||t.ctrlKey||t.altKey||t.metaKey?void(this._lastTime=i):(this._searchTerm=i-this._lastTime>this.SEARCH_TIMEOUT||o?s:(this._searchTerm||"")+s,this._lastChar=s,this._lastTime=i,e=this.elem("item","hovered","yes"),n=$($.map(a,function(t){return t.get()})).index(e),n=n>=0?n:0,o&&0===this._normalizeText(e.text()).indexOf(this._searchTerm)&&(n=n>=a.length-1?0:n+1),void this.hoverText(this._searchTerm,n))},SEARCH_TIMEOUT:1500}),BEM.DOM.decl({block:"user2",modName:"fetch-accounts",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._accountsElem=this.findElem(this._menu.domElem,"accounts"),this._accountsSpin=this.findBlockInside(this._accountsElem,"spin2"),this._accountsDataProvider=BEM.create(this.params.accountsDataProvider,{callbackCtx:this,accountsUrl:this.params.accountsUrl}),this._fetchAccounts()}}},onElemSetMod:{accounts:{loading:function(t,e,n){this._accountsSpin.setMod("progress",n),this._popup.redraw()}}},_fetchAccounts:function(){var t=this.hasMod("has-logout"),e=void 0!==this.params._plus;this.setMod(this._accountsElem,"loading","yes"),this._accountsDataProvider.get({yu:this.params._yu},function(n){var i="",r=!0,s={avatarHost:this.params._avatarHost||"",maxLength:this.params.maxLength||"",provider:this.getMod("provider")||""};if(n.accounts){var o=this.params.accountsMax,a=n.accounts.reduce(function(t,e){return t.length<o&&e.uid!==n.default_uid&&t.push(e),t},[]).map(this.__self.accountToBemjson(s)).map(function(n){return t&&(n.mods=$.extend(n.mods||{},{"has-logout":"yes"})),e||(n.pic.plus=!1),{block:"menu",elem:"item",content:n}});i=BEMHTML.apply(a),r=Boolean(n["can-add-more"])}this.findElem(this._accountsElem,"accounts-container").html(i),this.updateCounters&&this.updateCounters(),this.toggleMod(this.findElem(this._accountsElem,"add-account"),"hidden","","yes",r),this.delMod(this._accountsElem,"loading")})},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{accountsDataProvider:"user2__accounts-provider",accountsMax:this._params.accountsMax||5,maxLength:this._params.maxLength||16})}},{accountToBemjson:function(t){return function(e){var n=Boolean(e.displayName.default_avatar),i=e.attributes.has_plus;return{block:"user-account",mix:[{block:"user2",elem:"account",js:{uid:e.uid}}],mods:{provider:t.provider},pic:{avatarId:e.displayName.default_avatar,plus:i},name:e.displayName.name,subname:e.defaultEmail||e.displayName.social,ticker:n?{count:0,maxCount:99}:void 0,avatarHost:t.avatarHost,maxLength:t.maxLength}}}}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,n,i){return $.isFunction(n)||(i=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,i)),this},_get:function(e,n,i,r){var s=this._buildCacheKey(e,r),o=t[r.cacheGroup];r.cache&&o&&s in o.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,o.data[s])},this):this._do(e,n,i,r)},_do:function(){},_onSuccess:function(t,e,n,i){i.cache&&!this._preventCache&&this.putToCache(i,t,n),this._preventCache=!1},_buildCacheKey:function(t){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,i){var r=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});r.keys.length>=e.cacheSize&&delete r.data[r.keys.shift()];var s=this._buildCacheKey(n,e);return r.data[s]=i,r.keys.push(s),this},dropCache:function(){return delete t[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),function(t){t.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,n,i){this._number++,this._requestNumber++,this._retryCount=i.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,i){var r=this;if(r._number>r._preventNumber){var s=arguments,o={data:i.data?$.extend({},i.data,t):t},a=r._wrapCallback(function(n,s,o){r._onSuccess(r._buildCacheKey(t,i),t,n[0],i),r._allowCallback(s,o)&&e.apply(i.callbackCtx,n)}),c=r._wrapCallback(function(t,e,o){r._allowCallback(e,o)&&(r._retryCount-->0?setTimeout(function(){r._do.apply(r,s)},i.retryInterval):n&&n.apply(i.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(i.paramsToSettings||[]),function(t,e){o[e]=i[e]}),$.ajax(o).done(a).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(i){null!==i&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})}(BEM),BEM.decl({block:"user2__accounts-provider",baseBlock:"i-request_type_ajax"},{getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{url:this._params.accountsUrl,timeout:5e3})}}),BEM.DOM.decl({block:"user2",modName:"fetch-counters",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._caller=this.params.mailCallerId,this.updateCounters()}}},getCounters:function(t){return(t||!this._countersPromise)&&(this._countersPromise=this._fetchCounters().then(this.__self.normalizeUnreadData.bind({currentUid:this.params._uid}))),this._countersPromise
},setCounters:function(t){var e=this.findBlocksInside("multi-auth","user-account");e.length&&Object.keys(t).length&&e.forEach(function(n,i){var r=t[this.elemParams(n.domElem).uid];r&&e[i].setCounter(r)},this),this.setUnreadCount(t[this.params._uid]||0)},updateCounters:function(t){this.getCounters(t).then(function(t){this.setCounters(t)}.bind(this))},_fetchCounters:function(){var t="https://mail.yandex."+BEM.blocks["i-global"].param("tld")+"/api/v2/"+this._caller+"/counters?silent&multi";return $.ajax({url:t,dataType:"json",type:"GET",xhrFields:{withCredentials:!0}}).promise()}},{normalizeUnreadData:function(t){return Array.isArray(t)||(t={uid:this.currentUid,data:t}),t.reduce(function(t,e){return t[e.uid]=((e.data||{}).counters||{}).unread||0,t},{})}}),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target),n=this.containsDomElem(e)||this.params.form.containsDomElem(e);n||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;t.params.form.on("submit",function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&n.data.prevent!==!1&&this.removeHiddenInputs(),t._clear(),t._model.reset(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest();var e=BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].ua.toLowerCase();return e&&e.indexOf("mozilla/5.0")>-1&&e.indexOf("android ")>-1&&e.indexOf("applewebkit")>-1&&!(e.indexOf("chrome")>-1)&&t.setMod("old-flex",!0),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var n=this.getMod("type");return t=$.extend(t,this.params.viewMods||{}),("simple"===n||"all"===n)&&(t.simple="yes"),("advanced"===n||"all"===n)&&(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.domEvent.target).attr("target")&&n.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t.unbindFromDoc("pointerclick"),t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSearchButtonMousedown,t),t},setItems:function(t,e){var n=this,i=e.data.items||[];return n._isFormSubmitDurinQuery()||!i.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(i,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return this._lastSubmitTime?(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime)):!1},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){var e=this.getCounter();this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t,e&&e.getCurrentReqId())},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this,i=n._getItemIndex(t),r=t.onSelect(e),s=t.valOnSelect();return n._text=n._input.realVal(s),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:i,byKeyboard:e,callbackOnSelect:r}),s!==!1&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),i},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var i=e.block.domElem[0];i===n.relatedTarget||$.contains(i,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if((t.which===e.left||t.which===e.right)&&(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;return-1===i||i===n?(this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0})):(0>i?i=n-1:i>=n&&(i=0),void this._onEnterItem(this._items[i],!0))},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",function(){this._onDownItem()}),this.__base()}}),BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),n=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=n?n:e,maxWidth:n}},adjustView:function(){return this.getMetrics()},_resizeHandler:function(){}}),BEM.DOM.decl("suggest2",{init:function(){this.__base.apply(this,arguments);var t=this.params;this.setDataConverter(function(e){if(!e||!e.length)return{data:{}};var n,i=e[1];t.urlSuffix&&(n={weatherSfx:t.urlSuffix});var r=t.excludeKindsClimate||[],s=t.excludeKindsCompare||!1,o=t.isCompareTypeAddOnly||!1;r&&r.length&&(i=i.filter(function(t){return!t||!t.kind||-1===r.indexOf(t.kind)}),t.excludeResultsLength&&(i=i.slice(0,t.excludeResultsLength)));var a;return i=i.map(function(t){return a=s&&"all"!==s&&-1===s.indexOf(t.kind)?{location:t.geoid||{lat:t.lat,lon:t.lon},name:t.name_short}:!1,["weather",t.name,"","","",{url:BEM.blocks["geo-suggest-util"].getUrl(t,n),target:"_self",hl:t.hl,compareLocation:a,isCompareTypeAddOnly:o}]}),{orig:e[0],items:i,meta:{}}})}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return BEM.blocks["suggest2-item"].on(t.domElem,{leftclick:function(e,n){t._onSelectItem(e.block,!1,n.target)}}),t.__base.apply(t,arguments)},_onSelectItem:function(t,e,n){var i=this;if(!e&&(!n||$(n).bem("compare-cities-action").hasMod("contains")))return i.params["suggest2-popup"].hide(),void i.params.input.val("");if(t.hasMod("compare","full"))return void $(t.findBlockInside("compare-cities-action").domElem).trigger("pointerclick");var r=i._getItemIndex(t),s=t.onSelect(e),o=t.valOnSelect();return i._text=i._input.realVal(o),i._isBlur=!0,i._freezeInputFocus=!1,i._setSearchCGIParams(t),i.trigger("select",{val:i._text,pos:i._pos,item:t,meta:i._meta,itemIndex:r,byKeyboard:e,callbackOnSelect:s}),o!==!1&&(i._items=[],this.isNeedSubmitFormOnSelectItem(t)&&i.params.form.submit()),r}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:t.providerMods||{}},t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n,i){var r=this,s={val:t,caretPosition:e,reqId:i,data:n};r._requests.push(s);var o=r._isNeedRequest(t,n);return o.need?(s.requestTime=(new Date).getTime(),r.lastSendedRequest=s,r.trigger("request",{val:t,pos:e,request:s}),r.getProvider().get(t,e,i,function(t,e,n,i){s.responseTime=(new Date).getTime(),$.extend(s,{duration:s.responseTime-s.requestTime,error:n.error,fromCache:i,itemsCount:n.items?n.items.length:0}),r._onResponse(t,e,n,s);var o=r._requests[r._requests.length-1];r.params.sequentialQueriesTimeout&&o&&o.val!==t&&r.request(o.val,o.caretPosition,o.data)}),r):r.trigger("reject",{val:t,pos:e,code:o.code,reason:o.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.lastSendedRequest&&this.lastSendedRequest.val===t)return{need:!1,code:4};if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var i=this._requests[n];if(void 0===i.responseTime&&(new Date).getTime()-i.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:i}}}if(!e)return{need:!0};var r,s=this.getCancelRequestConditions();t:for(n=0;n<s.length;n++){r=s[n];for(var o in r)if(r.hasOwnProperty(o)&&r[o]!==e[o])continue t;return{need:!1,code:1,reason:{condition:r}}}return{need:!0}},_onResponse:function(t,e,n,i){var r={val:t,pos:e,data:n||[],request:i};BEM.channel("suggest2").trigger("response",r),this.trigger("response",r)},reset:function(){this._requests=[],this.lastSendedRequest=null}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,n=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",function(r,s){if(r.crossDomain&&r.async&&n.test(r.type)&&e.test(r.url)&&i.test(r.url)){var o=null;return{send:function(e,n){var i="",a=(s.dataType||"").toLowerCase();o=new XDomainRequest,/^\d+$/.test(s.timeout)&&(o.timeout=s.timeout),o.ontimeout=function(){n(500,"timeout")},o.onload=function(){var e="Content-Length: "+o.responseText.length+"\r\nContent-Type: "+o.contentType,i={code:200,message:"success"},r={text:o.responseText};try{if("html"===a||/text\/html/i.test(o.contentType))r.html=o.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(o.contentType))try{r.json=t.parseJSON(o.responseText)}catch(s){i.code=500,i.message="parseerror"}}catch(c){throw c}finally{n(i.code,i.message,r,e)}},o.onprogress=function(){},o.onerror=function(){n(500,"error",{text:o.responseText})},s.data&&(i="string"===t.type(s.data)?s.data:t.param(s.data)),o.open(r.type,r.url),o.send(i)},abort:function(){o&&o.abort()}}}})}}(jQuery),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_cachedResponses:Object.create?Object.create(null):{},_cachingTime:6e4,_lastQuery:null,get:function(t,e,n,i){"function"==typeof n&&(i=n,n=void 0);var r=this,s=r.params.abortQueries,o="jsonp"===this.params.dataType,a=r._extendParamsData(r.getRequestData(t,e,n));i=i.bind(r,t,e),s&&null!==r._lastQuery&&r._lastQuery.abort(),r._lastQuery=$.ajax(a).done(function(t){i(r.convert(t),r._validateCache(this.url))}).fail(function(t,e){!s&&!o&&i({error:e||"error"})})},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e,n){return $.extend({part:t,pos:e},n&&{suggest_reqid:n},BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&{svg:1})},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params.traditional=!0,this.params},_validateCache:function(t){var e=Boolean(this._cachedResponses[t])&&this._cachedResponses[t]>Date.now();return!e&&this._addToCache(t),e},_addToCache:function(t){this._cachedResponses[t]=Date.now()+this._cachingTime,setTimeout(function(){this._cachedResponses[t]=void 0}.bind(this),this._cachingTime)}}),BEM.decl("suggest2-provider",{getDefaultParams:function(){return $.extend(this.__base(),{timeout:4e3})}}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.domElem?this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t}):this},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})}).liveBindTo("link","pointerclick",function(t){this.trigger("link-click",{domEvent:t})}),this.__base()}}),BEM.DOM.decl("compare-cities-action",{onSetMod:{js:function(){var t=this;t._location=t.params.location,t._showTooltip=t._showTooltip.bind(t),t._hideTooltip=t._hideTooltip.bind(t)}},_render:function(t){var e=this,n=t||e._getParams();"limit"!==n.actionType&&(BEM.blocks["i-compare-cookie"][n.actionType](e._location),e.setMod("contains",n.contains)),t||($('.compare-cities-action[data-id="'+e.domElem.data("id")+'"]').each(function(t,e){$(e).bem("compare-cities-action")._render(n)}),BEM.channel("compare-cities-action").trigger(n.actionType,n),e._showCompareNotice(n))},_getParams:function(){var t=this,e={};if("no"===t.getMod("contains")){var n=BEM.blocks["i-compare-cookie"].getLength();n<BEM.blocks["i-config"].param("compare").limit?(e.contains="yes",e.actionType="add"):e.actionType="limit"}else e.contains="no",e.actionType="remove";return e},_showCompareNotice:function(t){var e=this;e._getCompareNotice().trigger("compare-action-done",{actionType:t.actionType,name:this.params.name})},_getCompareNotice:function(){var t=this,e=t.__self.compareNotice;return e||(e=t.findBlockOutside("b-page").findBlockInside("compare-notice"),t.__self.compareNotice=e),e},_getTooltip:function(){var t=this,e=t.__self.tooltip;return e&&e.domElem||(e=$(BH.apply({block:"tooltip",mods:{theme:"normal",size:"s",autoclosable:"yes"},js:{to:["top-center","bottom-center","left-center","right-center"],mainOffset:8},mix:{block:"compare-cities-action",elem:"tooltip"}})).bem("tooltip"),t.__self.tooltip=e),e},_showTooltip:function(){var t=this;if(t.hasMod("with-tooltip")){var e=BEM.I18N("interface-desktop","compare-"+(t.hasMod("contains","yes")?"remove":"add"));t._getTooltip().setOwner(t.domElem).setContent(e).setMod("shown","yes")}},_hideTooltip:function(){var t=this;t.hasMod("with-tooltip")&&t._getTooltip().delMod("shown")}},{compareNotice:!1,tooltip:!1,live:function(){this.liveBindTo("click",function(t){var e=this;e._render(),t.preventDefault()}),this.liveBindTo("mouseover",function(){var t=this;setTimeout(t._showTooltip,0)}),this.liveBindTo("mouseout",function(){var t=this;setTimeout(t._hideTooltip,0)})}}),BEM.DOM.decl("i-compare-cookie",{},{_core:function(){var t=this;return t._coreCache||(t._coreCache=blocks.get("i-compare-cookie__core")),t._coreCache},add:function(t){var e=this;e.toggle(t,!0)},addDefault:function(t){var e=this;t&&!e.raw()&&e.add(t)},remove:function(t){var e=this;e.toggle(t,!1)},toggle:function(t,e){var n=this,i=n._core().toggle(n.raw(),t,e);n._setValue(i)},contains:function(t){var e=this;return e._core().contains(e.raw(),t)},getLength:function(){var t=this;return t._core().getLength(t.raw())},raw:function(){return $.cookie(BEM.blocks["i-config"].param("compare")["cookie-name"])},_setValue:function(t){$.cookie(BEM.blocks["i-config"].param("compare")["cookie-name"],t,{path:BEM.blocks["i-global"].param("service-root"),expires:BEM.blocks["i-config"].param("compare")["cookie-expires-days"]})}}),BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this._getPopup().setAnchor(t),this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this.redraw()},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}}),BEM.DOM.decl("tooltip",{_onEnter:function(){this.setMod("hovered","yes")},_onLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onEnter(t):this._onLeave(t))}),this.__base()}}),BEM.DOM.decl("compare-cities-action__promo-tooltip",{onSetMod:{js:function(){var t=this,e=BEM.blocks["i-config"].param("compare");t.PROMO_COOKIE_PATH=BEM.blocks["i-global"].param("service-root"),t.PROMO_COOKIE_NAME=e["cookie-promo-name"],t.PROMO_COOKIE_EXPIRES=e["cookie-promo-expires-days"],t._parent=t.findBlockOutside("compare-cities-action"),t._tooltip=t._parent.findBlockInside("tooltip");var n=1,i=2,r=t.params.promoTooltipCookieValue,s=t.params.isMyRegion,o=1===r;t._parent.bindTo("mouseenter",function(){t._tooltip.delMod("shown")}),t._setPromoTooltipCookie(o&&!s?i:s?n:i),t._showTooltip()}},_showTooltip:function(){var t=this;t._tooltip.setOwner(t._parent.findBlockInside("icon")).setMod("shown","yes")},_setPromoTooltipCookie:function(t){var e=this;$.cookie(e.PROMO_COOKIE_NAME,t,{path:e.PROMO_COOKIE_PATH,expires:e.PROMO_COOKIE_EXPIRES})}}),BEM.DOM.decl({block:"compare-cities-action",modName:"kind",modVal:"list-action"},{onSetMod:{contains:function(t,e){this.__base.apply(this,arguments);var n=this.elem("text"),i=BEM.I18N("interface-desktop","compare-"+("yes"===e?"remove":"add"));n&&n.text(i),this.findBlockInside("icon").toggleMod("list-action","remove","add")}}}),BEM.DOM.decl({block:"compare-cities-action",modName:"with-tooltip",modVal:"yes"},{onSetMod:{contains:function(t,e){var n=this;if(n.__base.apply(n,arguments),n.domElem.is(":visible")){var i=BEM.I18N("interface-desktop","compare-"+("yes"===e?"remove":"add"));n._getTooltip().setContent(i)}}}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this._popup.domElem?(t&&this.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._setPosition(),this.trigger("show"),this)):this},_setPosition:function(){throw new Error("       _for")},hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout(function(){e._doHide(),e.trigger("hide",t||{}),e.hideTimeout=null},300)),e},_doHide:function(){throw new Error("       _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("       _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var r=i.text,s=i.mods,o=i.js,a=i.props,c=i.content;0===c.length&&c.push(r),this.__self._getPersonal(e)&&(s.personal="yes",c.push({elem:"spacer"},{elem:"cross",elemMods:{type:"delete"}})),e.url&&(s.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(o.searchCGI=e.search_cgi),e.attrs&&(a.attrs=e.attrs);var u,l=BEM.blocks["i-global"];return"nav"===n?u="object"==typeof t[5]?t[5].counter:t[5]:"bemjson"===n&&(u=e.counter),u&&(o.safeclickUrl=(l.param("click-host")+u).split("/*/").join("/reqid="+l.param("reqid")+"/path=695.770/vars=-js-ready=1/*/")),$.extend({block:"suggest2-item",mods:s,js:o,content:c},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t){return Array.isArray(t)?t[0]||"text":"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),r=[],s=0;return i.length?(i.forEach(function(e){n=s>e[0]?s:e[0],r.push(t.slice(s,n)),r.push({elem:"highlight",content:t.slice(n,s=e[1])})},this),r.push(t.slice(s)),r.filter(function(t){return t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t},_getPersonal:function(t){return Boolean(t.pers)},_getPersonalProps:function(t){var e={pers:1};return t&&(e.label=t),e}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":-1!==["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-view",{_getItemByType:function(t,e,n,i){var r=i.text,s=i.mods,o=i.js,a=i.props,c=i.content;return 0===c.length&&c.push(r),e.url&&(s.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),a.compareLocation=e.compareLocation||!1,a.isCompareTypeAddOnly=e.isCompareTypeAddOnly||!1,a.contains=a.compareLocation&&BEM.blocks["i-compare-cookie"].contains(a.compareLocation.location),!a.isCompareTypeAddOnly||a.compareLocation&&!a.contains?(a.isCompareTypeAddOnly&&(s.compare="full"),$.extend({block:"suggest2-item",mods:s,js:o,content:c},a)):void 0}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle(function(e,n){t._onClear(e,n)},300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("undefined"!=typeof t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"})},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(n){-1===this._bindedEventsNames.indexOf(n)&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){var e=["blur","focus","change","clear"];return-1!==e.indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}}),BEM.decl("geo-suggest-util",{},{getUrl:function(t,e){e=e||{},e.weatherSfx=e.weatherSfx||"","/"!==e.weatherSfx[0]&&(e.weatherSfx="/"+e.weatherSfx);var n=BEM.blocks["i-global"],i=n.param("host")+n.param("service-root"),r=$.queryParam("lang"),s=$.queryParam("clid"),o={};return r&&(o.lang=r),s&&(o.clid=s),"weather"===t.kind&&t.geoid?i+"/"+t.geoid+e.weatherSfx+"?"+$.param(o):(o.lat=t.lat,o.lon=t.lon,-1===["street","house","metro","airport"].indexOf(t.kind)?i+e.weatherSfx+"?"+$.param(o):(o.name=t.name,o.kind=t.kind,i+e.weatherSfx+"?"+$.param(o)))
}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"normal"},{getPopupWidth:function(){return this._input.width()}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{onSetMod:{js:{inited:function(){this._catchEvents&&this._crossCatchHandler&&this.bindTo("cross",this._catchEvents,this._crossCatchHandler),this.historyElem=this.elem("text").text()}}},val:function(){return this.params.val?this.params.val:this.elem("text").text()},remove:function(t){var e=this;this.domElem.one("webkitTransitionEnd transitionend",function(){e.domElem.remove(),t&&t()}),this.domElem.css("height",0)}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{_catchEvents:"click",_crossCatchHandler:function(t){t.preventDefault(),t.stopImmediatePropagation(),this.trigger("delete")}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"large"},{initView:function(t,e){return t=t||{},this.__base($.extend(t,{adjustable:"yes",theme:"large",group:"false"===this.getMod("group")?!1:t.group||this.getMod("group")||"type"}),e)}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"large"},{updateItemMinWidth:function(){var t=this.getInputWidth()+this.getInputOffset();return this._view.setMinWidth(t),t},getInputOffset:function(){return this._input.get().domElem.offset().left}}),BEM.decl({block:"suggest2-view",modName:"theme",modVal:"large"},{build:function(){var t=this.__base.apply(this,arguments);return t.elemMods.theme="large",t}}),BEM.decl({block:"suggest2-view",modName:"theme",modVal:"large"},{getMinWidth:function(){return this._minWidth||0},getMaxWidth:function(){return this._maxWidth||0},setMinWidth:function(t){return this._minWidth=t,this},setMaxWidth:function(t){return this._maxWidth=t,this},getMarginLeft:function(){return this._marginLeft},setMarginLeft:function(t){return this._marginLeft=t,this},build:function(){var t=this.__base.apply(this,arguments),e=["min-width:"+this.getMinWidth()+"px;"],n=this.getMaxWidth();n&&e.push("max-width:"+n+"px;");var i=this.getMarginLeft();return i&&e.push("margin-left:"+i+"px;"),t.attrs={style:e.join(" ")},t}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle(function(){var t=arguments;this._resizeCallbacks.forEach(function(e){e.apply(this,t)},this)},300,this)},live:function(){return this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback),this.__base()}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{_minWidth:0,_maxWidth:0,_resizeHandler:function(){this.__base.apply(this),this.afterCurrentEvent(function(){this.adjustView()})},_onShow:function(){this.__base.apply(this),this.hasMod("theme","large")&&this._applyMetricsToContent()},adjustView:function(){var t=this.__base.apply(this,arguments),e=t.minWidth,n=t.maxWidth,i=!1;return e!==this._minWidth&&(this._minWidth=e,i=!0),n!==this._maxWidth&&(this._maxWidth=n,i=!0),i&&this._popup.isShown()&&this._applyMetricsToContent(),t},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._minWidth&&t.css("min-width",this._minWidth),this._maxWidth&&t.css("max-width",this._maxWidth)}}),BEM.DOM.decl({block:"suggest2",modName:"adjustable",modVal:"yes"},{_marginLeft:0,init:function(){this.__base.apply(this,arguments),this.adjustView()},adjustView:function(){var t=this.__base.apply(this,arguments);this._view.setMarginLeft(t.marginLeft),this._view.setMinWidth(t.minWidth),this._view.setMaxWidth(t.maxWidth);var e=!1;return t.marginLeft!==this._marginLeft&&(this._marginLeft=t.marginLeft,e=!0),e&&this._popup.isShown()&&this._applyMetricsToContent(),t},getInputLeft:function(){var t=this._input.get().findElem("control"),e=t.offset(),n=t[0];if(!n)return 0;var i=n.currentStyle?n.currentStyle:window.getComputedStyle(n),r=parseInt(i.borderLeftWidth,10)||0,s=parseInt(i.paddingLeft,10)||0;return e.left+r+s},getInputWidth:function(){return this._input.get().domElem.outerWidth()},getContainerWidth:function(){return BEM.DOM.scope.width()},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._marginLeft&&t.css("margin-left",this._marginLeft)}}),BEM.decl({block:"suggest2-view",modName:"group",modVal:"type"},{buildItems:function(t){var e,n;return t.reduce(function(t,i){var r=this.__self._getPrefs(i),s=this.__self._getType(i,r),o=this.__self._getGroupType(r,s);return e!==o&&(e=o,n=[],t.push({block:"suggest2",elem:"group",content:[{elem:"title",content:this.__self._getTextLabel(e)},{elem:"items",content:n}]})),n.push(this.buildItem(i)),t}.bind(this),[])}}),BEM.decl({block:"suggest2-view",modName:"simple",modVal:"yes"},{_getType:function(t,e){var n=this.__base.apply(this,arguments);return"icon"!==n||e.icon?n:"text"},_getItemByType:function(t,e,n,i){var r=i.text,s=i.mods,o=i.js,a=i.props,c=i.content;switch(n){case"fact":c.push(r,{elem:"bullet"},{elem:"fact",content:t[2]});break;case"weather":c.push(r,{elem:"icon",elemMods:{weather:t[3]}},{elem:"fact",content:t[2]});break;case"traffic":c.push(r,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});break;case"nav":o.val=t[1],s.interact="link",a.url=this.__self._resolveUrl(t[4]),c.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});break;case"icon":var u={};e.icon.forEach(function(t,e,n){Array.isArray(t)?u[t[0]]=t[1]:0===e&&(u[t]=n[e+1])}),c.push(r,$.extend({elem:"icon",elemMods:{size:"s"}},u)),e.fact&&c.push({elem:"fact",content:e.fact})}return this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");return t||"_self"===n.attr("target")?function(){e._locationChange(n.attr("href"))}:void 0},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),BEM.DOM.decl("suggest2-counter",{pointerStartEvent:"pointerdown",onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._renderTimes=[],t._renderTime=0,t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=this.__self._generateReqID(),t._meta={},t._afterSendAjaxCallback,t._startClickTime=null,t._startInputTime=null,t._requests=[],t._clicksCount=0,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],i=n.val();e._params.text=i,e._params.pos=n.getCaretPosition(),e._params.times=e._requests.map(function(t){return!t.error&&t.duration?t.duration:0}).join("."),e.params.suggestReqID&&e.attachReqID(),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=i},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,render_times:t._params.times,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),t._getResponsesShows(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},getCurrentReqId:function(){return this._reqID},bindEvents:function(){var t=this,e=t.params,n=e.suggest,i=e.form,r=n.getModel(),s=n.params["suggest2-input"],o=n.params["suggest2-popup"];return i.on({"button-click":t._onFormButtonClick,submit:t._onFormSubmit},t),r.on({request:t._onModelRequest,response:t._onModelResponse},t),s.on({change:t._onInputChange,enter:t._onInputEnter},t),o.on({show:t._onPopupShow},t),BEM.blocks["suggest2-item"].on(n.domElem,"enter",t._onSuggestItemEnter,t),n.on({update:t._onSuggestUpdate,select:t._onSuggestSelect},t),t._input=s._input,t._input.bindTo(t.pointerStartEvent,t._onInputClick.bind(t)).on("focus",t._onInputFocus,t),t._input.findElem("control").on("blur",t._onInputBlur.bind(t)),t},_onInputClick:function(){this._startInputTime||(this._startClickTime=Date.now())},_onClickPopup:function(){this._clicksCount++},_onInputFocus:function(){this._timeoutInputTime&&clearTimeout(this._timeoutInputTime),this._startInputTime=this._startClickTime},_onInputBlur:function(){this._timeoutInputTime=setTimeout(function(){this._startClickTime=null,this._startInputTime=null}.bind(this),300)},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&e.data.prevent!==!1&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(t,e){this._requests.push(e.request)},_onModelResponse:function(t,e){if(Object(e.data).items){var n=e.data.items;this._path.personal=this._hasPersonal(n)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._renderTime=new Date,this._setMetaProps(e),this._requests&&delete this._requests[e.val.toLowerCase()]}},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date,this._startInputTime||(this._startInputTime=this._firstChange.getTime())),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){var n=this;n._path.state=e.byKeyboard?"keyboard":"mouse",n._path.index=e.itemIndex+1,n._selectedText=e.val,e.item.hasMod("personal")&&(n._path.personal="nah_used"),n.params.submitBySelect&&(n._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",n._params.pos=e.pos,n._params.text=this._selectedText),n.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||n.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect}),e.item.params.safeclickUrl&&((new Image).src=e.item.params.safeclickUrl)},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form,i=e.params["suggest2-popup"];return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),i.un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){var t=this._getSinceTime("first"),e=this._startInputTime&&Date.now()-this._startInputTime||0;return{since_first_change:t,since_last_change:this._getSinceTime("last"),total_input_time:e}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getResponsesShows:function(){return this._requests.reduce(function(t,e){return t.rqs++,e.error||(e.responseTime&&t.rsp++,0===e.itemsCount&&t.ersp++,e.fromCache&&t.cchd++),t},{rqs:0,rsp:0,rndr:this._renderTimes.length,ersp:0,clks:this._clicksCount,cchd:0})},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){var t=BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9);return t+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(-Math.min(t,10))}},{live:function(){this.liveInitOnBlockEvent("init","suggest2-form")}}),BEM.DOM.decl("suggest2-counter",{bindEvents:function(){this.__base.apply(this,arguments);var t=this.params.suggest;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",this._onClickPopup.bind(this)),this}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.form=this,n.input=t.input,n.popup=t.popup,n.button=t.button,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({"for":this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,n)),t.proxies.input=n["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,n)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,n.counter=t.counter),this.bindFormEvents(t),t},this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,n){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(n)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",function(t){e._onButtonClick(t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){var e=this;return t.button&&t.button.un("pointerclick"),e.unbindFrom("submit"),e},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,i){var r=$(i),s=t._getFormNodeElems(r);e.push(t._getFormNodeBlocks(s,r))}),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button")}},_getSuggestForNode:function(t){return this.findBlockInside(t,"suggest2")},_getFormNodeBlocks:function(t,e){var n=this._getSuggestForNode(e);return{node:e,suggest:n,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:n.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){var t=this;return this.liveInitOnBlockInsideEvent("mousedown pointerdown change focus","input"),(!BEM.blocks["i-ua"].ie||BEM.blocks["i-ua"].ie>8)&&(this.liveBindTo("input","mousedown pointerdown change focus",function(e){t.disableNativeAutocomplete(e.target)}),this.disableNativeAutocompleteAll()),this.__base()},disableNativeAutocompleteAll:function(){var t=document.querySelectorAll(".suggest2-form__input .input__control");t=Array.prototype.slice.call(t),t.forEach(this.disableNativeAutocomplete.bind(this))},disableNativeAutocomplete:function(t){if("off"!==t.getAttribute("autocapitalize")){var e={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"};for(var n in e)t.setAttribute(n,e[n]);this.hideNativeAutocomplete(t)}},hideNativeAutocomplete:function(t){var e=document.activeElement===t;e&&t.blur(),e&&t.focus()}}),BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup2"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("beforeClose",function(){this.afterCurrentEvent(function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})})},this)}}},_setPosition:function(){this._popup.setAnchor(this.params.owner),this._popup.setMod("visible","yes")},_doHide:function(){this._popup.delMod("visible")},isShown:function(){return this._popup?this._popup.hasMod("visible"):!1}}),BEM.DOM.decl("head-menu",{onSetMod:{js:function(){var t=this;t.__base.apply(t,arguments),t._mapsPopup=t.findBlockInside("popup2"),t._mapsPopup&&(t._serviceRoot=t.params.serviceRoot,t._$mapPopupAnchor=t.elem("maps-popup-anchor"),t._$mapLinksList=t.elem("map-links"),t._mapsPopup.setAnchor(t._$mapPopupAnchor),t._mapsPopup.on("beforeOpen",function(){t._$mapLinksList.css("min-width",t._$mapPopupAnchor.outerWidth()),t.setMod(t._$mapPopupAnchor,"open","yes")}),t._mapsPopup.on("beforeClose",function(){t.delMod(t._$mapPopupAnchor,"open")}))}},_track:function(t){BEM.blocks["i-metrika"].reachGoal(t+"-page:from:head",{lang:BEM.I18N.lang(),title:document.title,referrer:document.referrer})},_toggleMapsTab:function(t){var e=this,n=void 0===t?!e._mapsPopup.hasMod("visible"):t;n?e._mapsPopup.setMod("visible","yes"):e._mapsPopup.delMod("visible")},_setDefaultCompareLocation:function(t){t&&BEM.blocks["i-compare-cookie"].addDefault(t)}},{live:function(){this.liveBindTo("tracker","click",function(t){this._track(t.target.dataset.name)}),this.liveBindTo("maps-popup-anchor","click",function(){this._toggleMapsTab()}),this.liveBindTo("compare-link","click",function(t){this._setDefaultCompareLocation(t.target.dataset.location)})}}),function(){function t(t){try{this.storage=window[t+"Storage"]}catch(e){window.console&&console.error&&console.error(e)}}function e(t){return function(){if(!this.storage)return null;try{return this.storage[t].apply(this.storage,arguments)}catch(e){return window.console&&console.error&&console.error(e),null}}}t.prototype.getItem=e("getItem"),t.prototype.setItem=e("setItem"),t.prototype.removeItem=e("removeItem"),window.safeLocalStorage=new t("local"),window.safeSessionStorage=new t("session")}(),BEM.decl("i-query-utils",{},{queryParamGet:function(t,e){var n=new RegExp("[?&]"+e+"=([^&]*)").exec(t);return n&&decodeURIComponent(n[1].replace(/\+/g," "))},queryParamSet:function(t,e,n){var i=this.queryParamDelete(t,e),r=e+"="+encodeURIComponent(n);return i&&"?"!==i?i+"&"+r:"?"+r},queryParamDelete:function(t,e){var n=t.replace(new RegExp("[?&]"+e+"=([^&]*)"),"");return"&"===n[0]?"?"+n.slice(1):n},queryParamUpdate:function(t,e,n){return null===n?this.queryParamDelete(t,e):this.queryParamSet(t,e,n)}}),BEM.DOM.decl("tabular",{onSetMod:{js:function(){this.bindTo("tab","pointerclick",function(t){t.preventDefault(),this.trigger("click",t)})}},_active:null,active:function(t){var e=this._active;return t&&e!==t?(e&&this.delMod(e,"active"),e=t,this._active=e,this.setMod(e,"active","yes"),e):e}}),BEM.DOM.decl("dropdown2",{onSetMod:{js:{inited:function(){this._switcher=null,this._popup=null}},opened:{yes:function(){return this.hasMod("disabled")?!1:void this.trigger("beforeOpen").getPopup().setAnchor(this.getSwitcher()).setMod("visible","yes").on("beforeClose",this._onPopupBeforeClose,this)},"":function(){this.trigger("beforeClose").getPopup().delMod("visible").un("beforeClose",this._onPopupBeforeClose,this)}},disabled:{"*":function(t,e){this.getSwitcher().setMod(t,e)},yes:function(){this.delMod("opened")}}},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("popup2")),this._popup},getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside(this.getMod("switcher"))),this._switcher},_onPopupBeforeClose:function(){this.delMod("opened")},_onSwitcherClick:function(t){this._switcher||(this._switcher=t.block),this.toggleMod("opened","yes")}},{live:!0}),BEM.DOM.decl("lang-switcher",{setRetpath:function(t){var e=encodeURIComponent(t),n=this.findBlockOn("dropdown2").getPopup();return this.findElem(n.domElem,"lang").map(function(){var t=$(this),n=t.attr("href");if(n){var i=n.replace(/(&retpath=)[^\&]*/,"$1"+e);i!==n&&t.attr("href",i)}}),this}},{live:!0}),BEM.DOM.decl({block:"dropdown2",modName:"switcher",modVal:"link"},null,{live:function(){return this.liveInitOnBlockInsideEvent("click","link",function(t){this._onSwitcherClick(t)}),this.__base()}}),BEM.DOM.decl("redir",{onSetMod:{js:function(){this.abt=this.params.abt,this.requestId=this.params.nonce||BEM.blocks["i-global"].param("nonce"),this.indexCounter=0,this.slots="",this.abt.boxes&&(this.slots="/test_buckets="+this.abt.boxes+"/test_ids="+this.abt.boxes+"/slots="+this.abt.boxes),this.send(this.params.events)}},send:function(t){if(t){Array.isArray(t)||(t=[t]);var e=Date.now();t=t.map(function(t){return this.indexCounter++,{id:t.id,parent_id:t.parent_id||0,event_index:this.indexCounter,event_type:t.type,user_timestamp:e,path:t.path,vars:t.vars||null}},this),(new Image).src="https://clck.yandex.ru/counter/dtype=bebr/pid=619/session_id="+this.requestId+"/user_timestamp="+e+"/events="+encodeURIComponent(JSON.stringify(t))+"/user_agent="+encodeURIComponent(navigator.userAgent)+this.slots+"/*"}}}),BEM.DOM.decl("webgl-checker",{onSetMod:{js:function(){var t=this,e=BEM.blocks["i-metrika"],n=t._hasWebGl()?"HasWebGL":"NoWebGL";e.reachGoal(n)}},_hasWebGl:function(){var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");return Boolean(e)}}),function(){function t(t){var e=this;e._pageCode=t,e._subPage=Ya.Rum.makeSubPage(t),e.sendFirstPaint=e.sendFirstPaint.bind(e),e.sendLoad=e.sendLoad.bind(e)}t.prototype.sendFirstPaint=function(){var t=this;t._sendTimeMark("2793")},t.prototype.sendLoad=function(){var t=this;t._sendTimeMark("1724")},t.prototype._sendTimeMark=function(t){var e=this;Ya.Rum.sendTimeMark(t,Ya.Rum.getTime(),!1,e._subPage)},window.YwRum={createSubPage:function(e){var n=Ya.Rum._vars[143];if(!e)throw new Error("YwRum.createSubPage: argument subPageCode is required");return Ya.Rum.makeSubPage?new t(n+"."+e):void(console&&console.error&&console.error("Ya.Rum.makeSubPage not defined yet"))}}}(),window.Ya&&window.Ya.Rum&&(window.BEM&&BEM.channel("i-bem").onFirst("start-init",function(){Ya.Rum.sendTimeMark("2418")}).onFirst("init",function(){Ya.Rum.sendTimeMark("2295")}),function(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),H&&setTimeout(function(){t.sendTimeMark=r,t.sendResTiming=c,t.timeEnd=o;for(var e=t._defRes;e.length;){var s=e.shift();c(s[0],s[1])}for(var h=t._defTimes;h.length;){var p=h.shift();r(p[0],p[1],!1,p[2])}Object.keys(q).forEach(function(t){a(t)}),n(),i(),t.getSetting("sendStaticLocation")&&l(),d(),U&&("complete"===document.readyState?u():addEventListener("load",u))},0)}function n(){var e=L.domContentLoadedEventStart,i=L.domContentLoadedEventEnd;if(0===e&&0===i)return void setTimeout(n,50);var r=h(),s=Y.concat(["2129="+H,"1036="+(L.domainLookupStart-H),"1037="+(L.domainLookupEnd-L.domainLookupStart),"1038="+(L.connectEnd-L.connectStart),L.secureConnectionStart&&"1383="+(L.connectEnd-L.secureConnectionStart),"1039="+(L.responseStart-L.connectEnd),"1040="+(L.responseEnd-L.responseStart),"1040.906="+(L.responseEnd-L.domainLookupStart),"1310.2084="+(L.domLoading-L.responseStart),"1310.2085="+(L.domInteractive-L.responseStart),"1310.1309="+(i-e),"1310.1007="+(e-L.responseStart),"2299="+history.length,navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);t.mark("1039 ttfb",L.responseStart-L.connectEnd),t.mark("1310.1007 dom.loaded",L.domContentLoadedEventStart-L.responseStart),r&&(s.push("2130="+(r-H),"1041="+(r-L.responseStart),"1041.906="+(r-L.domainLookupStart)),t.mark("1041.906 ttfp",r-L.domainLookupStart)),Object.keys(S).forEach(function(t){t in L&&L[t]&&s.push(S[t]+"="+y(L[t],H))}),t.vsStart?(s.push("1484="+(P[t.vsStart]||2771)),t.vsChanged&&s.push("1484.719=1")):s.push("1484="+P.visible),z&&(z.redirectCount&&s.push("1384.1385="+z.redirectCount),(1===z.type||2===z.type)&&s.push("770.76="+z.type)),p(s),v(b,s,["dtype=stred","pid=1","cid=72202"])}function i(){if(U&&!t.isVisibilityChanged()){for(var e=N.getEntriesByType("paint"),n=0;n<e.length;n++){var s=e[n],o=O[s.name];o&&!Q[s.name]&&(Q[s.name]=!0,J++,r("1926."+o,s.startTime))}if(t.getSetting("enablePaintPerformanceObserver")&&j>J)try{new PerformanceObserver(function(t,e){i(),e.disconnect()}).observe({entryTypes:["paint"]})}catch(a){}}}function r(e,n,i,r){void 0===n&&(n=A()),(void 0===i||i===!0)&&t.mark(e,n);var o=_(e);o.push("207="+y(n)),s(o,r)&&(v(x,o),F[e]=F[e]||[],F[e].push(n))}function s(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;Object.keys(e).forEach(function(n){"function"!=typeof e[n]&&t.push(n+"="+e[n])})}return!0}function o(t){var e=q[t];e&&0!==e.length&&(e.push(A()),a(t))}function a(e,n,i){var r,o,a=q[e];if("undefined"!=typeof n?(o=t.getTime(),r=o-n):a&&(r=a[0],o=a[1]),void 0!==r&&void 0!==o){var c=_(e);c.push("207.2154="+y(r),"207.1428="+y(o),"2877="+y(o-r)),s(c,i)&&(v(k,c),delete q[e])}}function c(t,e){m(e,function(n){if(n){var i=_(t);i.push("13="+encodeURIComponent(e)),g(i,n[0]),v(E,i)}})}function u(){if(removeEventListener("load",u),U){var t=N.getEntriesByType("resource").reduce(function(t,e){var n,i=e.name.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return i&&(n=i[1],n in t||(t[n]={count:0,size:0}),t[n].count++,e.transferSize&&(t[n].size+=e.transferSize)),t},{}),e="2748=";Object.keys(t).forEach(function(n){e+=n+"!"+t[n].count+"!"+(t[n].size||"")+";"}),v(M,Y.concat(e))}}function l(){var e=document.createElement("script"),n=t.getSetting("crossOrigin");e.src="https://yastatic.net/nearest.js",e.async=!0,null!==n&&(e.crossOrigin=n),e.onload=function(){var t=window.YaStaticRegion;t&&v(C,Y.concat("1822="+t))},document.head.appendChild(e)}function d(e,n,i){if(t._tti){var s=A(),o=function(t,e,o){var a={2796.2797:f(o,n),689.2322:y(s)};i&&Object.keys(i).forEach(function(t){a[t]=i[t]}),r(t||"2795",e,!0,a)},a=function(){var i,r=n||s,c=A(),u=t._tti.events||[],l=u.length;0!==l&&(i=u[l-1],r=Math.max(r,Math.floor(i.startTime+i.duration))),c-r>=I?o(e,r,u):c-r>=B?o(e,(n||s)+B,u):setTimeout(a,1e3)};a()}}function h(){return t.isVisibilityChanged()?void 0:window.chrome&&"function"==typeof window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime:L.msFirstPaint?L.msFirstPaint:void 0}function p(t){R&&t.push("2437="+(D[R.type]||2771),R.downlinkMax&&"2439="+R.downlinkMax,R.effectiveType&&"2870="+R.effectiveType)}function m(t,e){function n(){var t=N.getEntriesByName(i);return t.length?e(t):void(r++<T?(setTimeout(n,s),s+=s):e(null))}if(!U)return e(null);V.href=t;var i=V.href,r=0,s=100;setTimeout(n,0)}function f(t,e){return t=t||[],e=e||0,t.filter(function(t){return t.startTime-e>=-50}).map(function(t){var e=t.name?t.name.split("-").map(function(t){return t[0]}).join(""):"u",n=Math.floor(t.startTime),i=Math.floor(n+t.duration);return e+"-"+n+"-"+i}).join(".")}function _(e){return G.concat(["1701="+e,t.ajaxStart&&"1201.2154="+y(t.ajaxStart),t.ajaxComplete&&"1201.2052="+y(t.ajaxComplete)])}function g(t,e){Object.keys(S).forEach(function(n){if(n in e){var i=e[n];(i||0===i)&&t.push(S[n]+"="+y(i))}})}function y(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function v(e,n,i,r){var s=n.filter(Boolean).join(","),o=r?{href:r}:null;t.send(o,e,s,null,null,null,i)}if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendFirstPaint=t.sendHeroElement=function(){});t.getSetting=function(e){var n=t._settings[e];return null===n?null:n||""},t.getVarsList=function(){var e=t._vars;return Object.keys(e).map(function(t){return t+"="+e[t]})},t.setVars=function(e){Object.keys(e).forEach(function(n){t._vars[n]=e[n]})};var b="690.1033",x="690.2096.207",k="690.2096.2877",w="690.2096.2892",E="690.2096.2044",M="690.2096.2748",C="690.2096.2335.1822",T=10,I=3e3,B=2e4,S={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},P={visible:1,hidden:2,prerender:3},D={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},O={"first-paint":2793,"first-contentful-paint":2794},j=Object.keys(O).length,A=t.getTime,N=window.performance||{},L=N.timing||{},z=N.navigation||{},R=navigator.connection,F={},q=t._deltaMarks,V=document.createElement("link"),U="function"==typeof N.getEntriesByType,H=L.navigationStart,$=L.responseStart,W=$-H,K=L.domainLookupStart-H,Y=t.getVarsList().concat("1042="+encodeURIComponent(navigator.userAgent)),G=Y.concat(["143.2129="+H,"143.2112="+K,"143.2119="+W]);
if(t.ajaxStart=0,t.ajaxComplete=0,window.PerformanceObserver)try{new PerformanceObserver(function(t,e){var n=t.getEntriesByType("navigation")[0];if(n){e.disconnect();var i=[];g(i,n),p(i),v(w,Y.concat(i))}}).observe({entryTypes:["navigation"]})}catch(X){}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):e();var Q={},J=0;t.getTimeMarks=function(){return F},t.sendTTI=d,t.sendFirstPaint=function(t){window.requestAnimationFrame?requestAnimationFrame(function(){r("2130",t)}):r("2130",t)},t.sendHeroElement=function(t){r("2876",t)},t._subpages={},t.makeSubPage=function(e,n){var i=t._subpages[e];t._subpages[e]="undefined"==typeof i?i=0:++i;var r=!1;return{689.2322:y("undefined"!=typeof n?n:Ya.Rum.getTime()),2924:e,2925:i,isCanceled:function(){return r},cancel:function(){r=!0}}},t.getResourceTimings=m,t.pushConnectionTypeTo=p,t.pushTimingTo=g,t.normalize=y,t.sendCounter=v,t.sendDelta=a}(Ya.Rum),function(){"use strict";function t(){var t=Ya.Rum.getSetting("clck"),e=s.join("\r\n");if(s=[],n=null,t){var i=navigator.sendBeacon&&Ya.Rum.getSetting("beacon"),r=i&&navigator.sendBeacon(t,e);if(!r){var o=new XMLHttpRequest;o.open("POST",t),o.send(e)}}}function e(t,e,n,i,r,s){var o=Ya.Rum.getSetting("slots");return[s?"/"+s.join("/"):"","/path="+e,o?"/slots="+o.join(";"):"",n?"/vars="+n:"","/cts="+(new Date).getTime(),"/*"]}var n,i=42,r=15,s=[];Ya.Rum.send=function(o,a,c,u,l,d,h){clearTimeout(n);var p=e(o,a,c,l,d,h);s.push("/reqid="+Ya.Rum.getSetting("reqid")+p.join("")),s.length<i?n=setTimeout(t,r):t()}}(),Ya.Rum.enabled&&addEventListener("load",function t(){removeEventListener("load",t),Ya.Rum.sendTimeMark("1724");for(var e=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,i=e.length;i>n;n++){var r=e[n],s=r.src;if(!s){var o=getComputedStyle(r).backgroundImage;if(o){var a=o.match(/^url\(["']?(.*?)["']?\)$/);a&&(s=a[1])}}s&&Ya.Rum.sendResTiming(r.getAttribute("data-rCid"),s)}})),function(){function t(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){t=!1}}return t||"undefined"==typeof XMLHttpRequest||(t=new XMLHttpRequest),t}function e(t){return/^(?:(?![^:@]+:[^:@\/]*@)[^:\/?#.]+:)?(?:\/\/)?(?:(?:[^:@\/]*(?::[^:@\/]*)?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)/.exec(t||"")[1]}function n(t){this.cspUrl=t.cspUrl||"//"+(t.cspHost||s)+"/csp",this.reqid=t.reqid,this.login=t.login,this.yandexuid=t.yandexuid,this.checkTimeout=t.checkTimeout||r,this.checkTimeoutId=null,this.from=t.from||o,this.counter=t.counter||a,this.tld=t.tld||c,this.domainExact=t.domainExact||["yandex."+this.tld,"yastatic.net","yandex.st"],this.domainSuffix=t.domainSuffix||[".yandex."+this.tld,".yandex.net",".yandex.ru"],this.onSendError=t.onSendError,this._onReady=this.check.bind(this);var e,n=document.cookie;return this.login||(e=n.match(/(?:^|;)\s*yandex_login\s*=\s*([^;]+)/),e&&(this.login=e[1].trim())),this.yandexuid||(e=n.match(/(?:^|;)\s*yandexuid\s*=\s*([^;]+)/),e&&(this.yandexuid=e[1].trim())),this}var i={},r=5e3,s="csp.yandex.net",o="web4",a="690.1893.1894",c="ru";n.prototype.start=function(){return document.addEventListener("DOMContentLoaded",this._onReady,!1),this},n.prototype.stop=function(){return this._removeListener(),document.removeEventListener("DOMContentLoaded",this._onReady),this},n.prototype._removeListener=function(){this.checkTimeoutId&&(this.removeListenerCallback(),clearTimeout(this.checkTimeoutId))},n.prototype.check=function(){if("withCredentials"in t()){var e=document.documentElement,n=function(t){var e=t.target,n=e.nodeName.toLowerCase();("script"===n||"object"===n)&&this._detect(e)}.bind(this);return this._detectByElem("script"),this._detectByElem("object"),e.addEventListener("load",n,!0),this.removeListenerCallback=function(){e.removeEventListener("load",n,!0)},this._removeListener(),this.checkTimeoutId=setTimeout(this.removeListenerCallback,this.checkTimeout),this}},n.prototype._detectByElem=function(t){for(var e,n=document.getElementsByTagName(t),i=0;i<n.length;i++)e=n[i],this._detect(e)},n.prototype._detect=function(t){if(t.src&&!t.checked){t.checked=!0;var e=t.src;this._filterSrc(e)&&this._send(e)}},n.prototype._filterSrc=function(t){var n=e(t);return this.domainExact.every(function(t){return t!==n})&&this.domainSuffix.every(function(t){return t=t.replace(/\./g,"\\."),!new RegExp(t+"$").test(n)})},n.prototype._send=function(e){var n=t(),i="from="+encodeURIComponent(this.from)+"&path="+encodeURIComponent(this.counter)+"&reqid="+encodeURIComponent(this.reqid)+"&url="+encodeURIComponent(e)+"&yandex_login="+encodeURIComponent(this.login)+"&yandexuid="+encodeURIComponent(this.yandexuid);n.open("POST",this.cspUrl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===n.readyState&&200!==n.status&&this.onSendError&&this.onSendError(n.status,n.responseText)}.bind(this),n.send(i)},i.exports=n,BEM.DOM.decl("detect-scripts",{onSetMod:{js:{inited:function(){var t=this.findBlockOn("i-global").params,e=i.exports,n=t["detect-domains"],r=n.filter(function(t){return-1===t.indexOf("*")}),s=n.filter(function(t){return 0===t.indexOf("*")}).map(function(t){return t.substr(1)});new e({cspHost:t["detect-host"],from:"weather",tld:t.tld,reqid:t.reqId,domainExact:r,domainSuffix:s}).check()}}}})}(),BEM.DOM.decl("compare-notice",{onSetMod:{js:function(){var t=this,e=t.params.allowedActionTypes;t.on("compare-action-done",function(n,i){e&&-1===e.indexOf(i.actionType)||(t.elem("text").html(BH.apply(blocks.get("compare-notice").getContent({actionType:i.actionType,length:BEM.blocks["i-compare-cookie"].getLength(),name:i.name,limit:BEM.blocks["i-config"].param("compare").limit}))),t.findBlockOutside("b-page").findBlockInside("climate-header-fixed"),setTimeout(function(){t.setMod("visible","yes")},0),t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){t.delMod("visible")},1e4))})}}},{live:function(){this.liveBindTo("close","click",function(){this.delMod("visible")})}}),BEM.DOM.decl("climate-header-fixed",{onSetMod:{js:function(){var t=this;t._isContentAlignCenter=t.params.isContentAlignCenter,t._sources=t.params.sources,t._movableSources=[],t._$wrapper=t.elem("wrapper");var e=t.params.trackVisibilityElemSelector?t.params.trackVisibilityElemSelector:t._sources[0].source;t._$trackVisibilityElem=$(e),t._$trackVisibilityElem.length&&(t._$offsetRightElem=t.params.offsetRightElemSelector?$(t.params.offsetRightElemSelector):void 0,t.bindToWin("resize scroll",$.throttle(t._handleScroll,10)),t._handleScroll())},shown:function(){var t=this;t._moveSources()}},_handleScroll:function(){var t=this;t._updateFixedHeaderVisibility(),t._updateSize()},_updateFixedHeaderVisibility:function(){var t=this,e=t._$trackVisibilityElem.offset().top+t._$trackVisibilityElem.height()-BEM.DOM.win.scrollTop()>0;e&&t._shown?(t._shown=!1,t.delMod("shown")):e||t._shown||(t._created||(t._created=!0,t._createChildElements()),t._shown=!0,t.setMod("shown","yes"))},_moveSources:function(){var t=this;t._movableSources.forEach(function(e){var n,i=$(e.source);n=t._shown?e.dest?t.elem(e.dest.elem):t._$wrapper:$(e.wrapper),e.shownClass&&i.toggleClass(e.shownClass,t._shown),i.appendTo(n)})},_createChildElements:function(){var t=this;t._sources.forEach(function(e){var n=$(e.source);if(!e.persistentMove)return void t._movableSources.push(e);var i=e.dest?t.elem(e.dest.elem):t._$wrapper;n.length&&i.length&&n.appendTo(i)})},_updateSize:function(){var t=this,e=BEM.DOM.doc.scrollLeft();if(t._$offsetRightElem){var n=t._$offsetRightElem.offset().left,i=BEM.DOM.win.width()-n+e,r=t._isContentAlignCenter?t.findBlockOutside("b-page__container").domElem.offset().left:0,s=-e+r;t.domElem.css({left:s,right:i})}else t.domElem.scrollLeft(e)}},{live:!0}),$(function(){BEM.afterCurrentEvent(function(){BEM.channel("i-bem").trigger("start-init"),BEM.DOM.init(function(){BEM.channel("i-bem").trigger("init")})})}),function(t){function e(t,e){if(h&&p){var n="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,n)}}function n(t){return"string"==typeof t?t:t.block+(t.elem?c+t.elem:"")+(t.modName?a+t.modName+a+t.modVal:"")}function i(t){var e={};return t.split(c).forEach(function(t,n){var i=[n?"elem":"block","mod","val"];t.split(a).forEach(function(t,n){e[i[n]]=t})}),e}function r(t){t&&d.push(t)}function s(){return d.length&&d.pop()}function o(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var a="_",c="__",u="ru",l={},d=[],h=!1,p="undefined"!=typeof console&&"function"==typeof console.log;o.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&r(this._keyset),this._keyset=n(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=i(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,r=e.elem||this._keyset,s=this._key;n=i18n[n]||(i18n[n]={}),r=n[r]||(n[r]={}),r[s]="function"==typeof t?t:function(){return t};var o=l[this._lang]||(l[this._lang]={}),a=o[this._keyset]||(o[this._keyset]={});a[s]=t},val:function(t,n){var i=l[this._lang]&&l[this._lang][this._keyset];if(!i)return e("[I18N_NO_KEYSET] %s",this),"";i=i[this._key];var r=typeof i;return"undefined"===r?(e("[I18N_NO_VALUE] %s",this),""):"string"===r?i:i.call(n||this,t)},_cache:function(){return l}};var m=function(t,e,n){return m.keyset(t).key(e,n)};m._proto=new o,m.project=function(t){return this._proto.project(t),this},m.keyset=function(t){return this._proto.keyset(t,!0),this},m.key=function(t,e){var n,i,r=this._proto;return r.lang(this._lang).key(t),n=r.val(e,m),i=s(),i&&r.keyset(i,!1),n},m.decl=function(t,e,n){var i,r=this._proto;n&&n.lang&&r.lang(n.lang),r.keyset(t);for(i in e)e.hasOwnProperty(i)&&r.key(i).decl(e[i]);return this},m.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},m.debug=function(t){h=!!t},m.lang(u),t.I18N=m}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("allergens",{alder:"",alder_gen:"",ash:"",ash_gen:"",birch:"",birch_gen:"",cereals:"",cereals_gen:"",elm:"",elm_gen:"",hazel:"",hazel_gen:"",maple:"",maple_gen:"",nettle:"",nettle_gen:"",oak:"",oak_gen:"",pine:"",pine_gen:"",ragweed:"",ragweed_gen:"",sagebrush:"",sagebrush_gen:"",spruce:"",spruce_gen:"",weedy:" ",weedy_gen:" ",willow:"",willow_gen:""},{lang:"ru"}),BEM.I18N.decl("b-statcounter__metrika",{JSERR_incorrectID:"Incorrect ID has been passed."},{lang:"ru"}),BEM.I18N.decl("copyright",{link:function(t){return" "+t.content+""},yandex:""},{lang:"ru"}),BEM.I18N.decl("footer",{about:" ","about-url":"//company.yandex.ru",advert:"","advert-url":"//advertising.yandex.ru/kupislova.xml?advertising",apps:" ","apps-url":"//mobile.yandex.ru",stat:"",termsofuse:"  ","termsofuse-url":"//legal.yandex.ru/termsofuse/"},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"",advertising:"",afisha:"",all:"",api:"API",appmetrica:"AppMetrica",appsearch:"",audience:"",auto:"",autoru:".",avia:"",aziada:"",ba:"",backapv:" .",balance:"",bar:"","bar-ie":"","bar-ie9":"9",bayan:" ",blogs:"",books:"",browser:"",calendar:"",captcha:"...",catalogwdgt:" ",chrome:"   ",city:"",cityday:" ",clickhouse:"ClickHouse",collection:"",company:"",contest:"Contest",delivery:"",desktop:" ",direct:"","direct.market":"",disk:"",display:"",ege:"",expert:"",feedback:" ",feedback2:" ",ff:"  ",fotki:"",fresh:"",games:"",geocontext:"",goroda:"",help:"",i:"",ie:"  ",images:"","images-com":"",interests:"",internet:"",kassa:"",keyboard:"",kraski:"",kuda:"",large:"  ",legal:" ",lenta:"",libra:"",literacy:"   ",local:"",lost:"",love:"13",mail:"",maps:"","maps-wiki":" ",market:"","market.advertising":"",master:"",metrika:"",metro:"",mobile:"",moikrug:"",money:"",museums:"",music:"","music-partner":": ",nahodki:"",nano:"",newhire:"",news:"",notifications:" ",oauth:"",online:"",openid:"OpenID",opera:"Opera Software",opinion:"",partners:"",partnersearch:"  ",passport:"",pdd:"  ",peoplesearch:"",perevod:"",probki:"",pulse:": ",punto:"Puntoswitcher",pvo:"",rabota:"",radar:"",ramazan:"",rasp:"",realty:"",referats:"",rk:"?",root:".  Unix ",school:"",search:"",server:"",shtrafi:"",site:"",slovari:"",so:"",social:"",soft:"",sport:"",sprav:"",start:" ",stat:"",subs:"",taxi:"",telephony:"",terms:"",tests:"  ",tickets:"",time:".",toloka:".",toster:"",translate:"",tune:"",tv:"",uslugi:"",video:"","video-com":"",vno:"",wdgt:"",weather:"",webmaster:"","webmaster-api":"API ",widgets:"",wordstat:"",wow:".",www:"",xmlsearch:"XML",yaca:"",yamb:" ",zakladki:""},{lang:"ru"}),BEM.I18N.decl("i-tanker__dynamic",{gender:function(t){return function(t){return t[t.gender]}.call(this,t)},plural:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count,n=e%10,i=e%100;return 1==n&&11!=i?t.one:n>1&&5>n&&(10>i||i>20)?t.some:t.many}.call(this,t)},plural_adv:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count;return 0===e?t.none:this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:t.one,some:t.some,many:t.many})}.call(this,t)},toggle:function(t){return function(t){return Boolean(t.condition)?t["true"]:t["false"]}.call(this,t)}},{lang:"ru"}),BEM.I18N.decl("interface-common",{"404-text":"    .<br> ,   -     . <br><br>      , <a class='link' target='_blank' href='%s'>   </a>, .","500-text":"   .<br>          .","500-title":"  ",agreement:" ",alder:"",allergen:"","allergen-concentration":"    <sup>3</sup> ","allergen-concentration-info-link":"https://yandex.ru/pogoda/docs/pollen-map.html#pollen-table","another-city":" ",ash:"","bandit-title":"       ",birch:"",briefly:"",cereals:"","climate-caption-air-humidity":" ","climate-caption-cloudy-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"   ",some:"   ",many:"   ",none:"   "})},"climate-caption-rainfall":" ","climate-caption-rainfall-title":"","climate-caption-rainfall-units":"","climate-caption-rainfall-year-percentage":"{percentage}%  ","climate-caption-rainy-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"  ",some:"  ",many:"  ",none:"  "})},"climate-caption-sunny-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:" ",some:" ",many:" ",none:" "})},"climate-caption-temp-water":" ","climate-tooltip-average-data":"  10",close:"",clouds:"","compare-day_types-title":",    ","compare-menu-title":" ","compare-preset-title":"  ","compare-promo":"     ","compare-remove-result_empty":"    ","day-ak":"","day-short-names":",,,,,,","daylight-hours":" ","decreasing-moon":" ","delete":"","description-share":" , ,      .","description-share-nowcast":"            .","description-share-pressure":"              ..","description-share-temperature":"     .   .      ,   .","description-share-wind":"      ..    ,     ,   .",detailed:"","detailed-forecast":" ",down:"",elm:"",emercom:"","error-try-again":"     ","evening-ak":"",extreme:"",feedback:" ","feels-like":" ","feels-like.as-yesterday":"  XX    ,  ","feels-like.colder-than-yesterday":"  XX   YY  ,  ","feels-like.warmer-than-yesterday":"  XX   YY  ,  ",find:"","first-quarter":" ","five-days-left":" %s ","forecast-countries":"    ","forecast-on-climatic":"      10 ","full-moon":"","geolocation-error-disable":" ","geolocation-error-full-disable":" ,        ","geolocation-error-full-network":" ,  ","geolocation-error-full-unknown":"-   ,     ","geolocation-error-network":" ","geolocation-error-unknown":" ","geolocation-specify-global":" ","good-weather":" !","growing-moon":" ",hPa:"","happy-new-year":"  !",hazel:"",high:"",hour:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"",some:"",many:"",none:""})},humidity:"","icon-10-days":"10 ","icon-main":"","icon-month":"","icon-on-map":" ","in-the-world":" ",kmph:"/","last-quarter":" ","lat-lon":"%lat-val%lat-unit, %lon-val%lon-unit","lat-north-short":"..","lat-south-short":"..","learn-more":" ","lon-east-short":"..","lon-west-short":"..",low:"","magnetic-field":" ","magnetic-field_0":"","magnetic-field_1":"","magnetic-field_2":" ","magnetic-field_3":"","magnetic-field_4":" ","magnetic-field_5":"  ",main:"","map.layer.icon":"","map.layer.wind":" ",maple:"","maps-widget-fact.link-to-map":"","maps-widget-fact.title":"      ","maps-widget.title.nowcast":" ","maps-widget.title.pollen":" ","maps-widget.title.pressure":" ","maps-widget.title.temperature":" ","maps-widget.title.wind":" ","maps.pifia-message":"   ?<br/>   .","maps.pollen.health-alert.button":"   ","maps.pollen.health-alert.contraindications":" .   .","maps.pollen.no-data.day":"   .  ","maps.pollen.no-data.period":"   .  ","maps.pollen.popup-button":"","maps.pollen.popup-null.status-month":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"    :",some:"    :",many:"",none:""})},"maps.pollen.popup-null.status-two-week":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"     :",some:"     :",many:"",none:""})},"maps.pollen.popup-null.status-week":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"   :",some:"   :",many:"",none:""})},"maps.pollen.popup-null.title":"    -.   ,    .","maps.pollen.timeline-text-climate":"    7","max-wind-speed":"  ",medium:"","meta-default-description-main":"    , , , 10 ,   ..      .        .    ,   ,  ,    -.      .    .     .","meta-default-title-main":".        ","meta-description-fallback":"    , , , 10 ,   ..      .        .    ,   ,  ,    -.      .    .     .","meta-description-main":"    %{genitive}s  , , , 10 ,   ..   %{preposition}s %{prepositional}s    .        .    ,   ,  ,    -.      .    .     .","meta-description-main-nowcast-piece":"  ","meta-description-maps-fallback-pressure":"%{nominative}s:    .         . .     .    ,   ,  ,    -.      .     .","meta-description-maps-fallback-temperature":"%{nominative}s:         ..        . .     .    ,   ,  ,    -.      .     .","meta-description-maps-fallback-wind":"%{nominative}s:      .        . .     .    ,   ,  ,    -.      .     .","meta-description-maps-no-location-pressure":"   .         . .     .    ,   ,  ,    -.      .     .","meta-description-maps-no-location-temperature":"        ..        . .     .    ,   ,  ,    -.      .     .","meta-description-maps-no-location-wind":"     .        . .     .    ,   ,  ,    -.      .     .","meta-description-maps-nowcast":"%{nominative}s:            ..      .         .  ,   ,  ,    -.      .   ..","meta-description-maps-pollen":"  .        %{genitive}s,    .      : , , , , , , , , , , , , ,    .   %{preposition}s %{prepositional}s.","meta-description-maps-pressure":"    %{genitive}s.        %{preposition}s %{prepositional}s      . .     .    ,   ,  ,    -.      .     .","meta-description-maps-temperature":"    %{genitive}s     ..    %{preposition}s %{prepositional}s        . .     .    ,   ,  ,    -.      .     .","meta-description-maps-wind":"      %{genitive}s.      %{preposition}s %{prepositional}s      . .     .    ,   ,  ,    -.      .     .","meta-description-month-with-no-water":"  %{preposition}s %{prepositional}s    ..    %{preposition}s %{prepositional}s  30 .  %{preposition}s %{prepositional}s  :  , ,   ,   .        .    .     .","meta-description-month-with-no-water-nom":"%s:    . %s:     30 . %s:     .,     , ,   ,   .        .    .     .","meta-description-month-with-no-water-selected":" %{preposition}s %{prepositional}s  %{month}:  ,   , ,   .   %{preposition}s %{prepositional}s    ..        .    .     .","meta-description-month-with-no-water-selected-nom":"%s:   %{month},     ,   , ,   . %s:     .,   , , , 10 , .        .    .     .","meta-description-month-with-water":"  %{preposition}s %{prepositional}s    ..    %{preposition}s %{prepositional}s  30 .  %{preposition}s %{prepositional}s  :    , ,   ,   .        .    .     .","meta-description-month-with-water-nom":"%s:      .. %s:     30 . %s:   ,     ,  , ,   ,   .        .    .     .","meta-description-month-with-water-selected":" %{preposition}s %{prepositional}s  %{month}:  ,   , ,   .   %{preposition}s %{prepositional}s  %{month}  ..  %{preposition}s %{prepositional}s  .        .    .     .","meta-description-month-with-water-selected-nom":"%s:   %{month},   ,  ,   , ,   . %s:    %{month}. %s:     ..        .    .     .","meta-description-no-location-nowcast":"         .    .         .  ,   ,  ,    -.      .   ..","meta-description-nowcast-fallback":"         .    .         .  ,   ,  ,    -.      .   ..","meta-keywords-nowcast":" ,   ,     , , ,   .","meta-title-10-days":" %{preposition}s %{prepositional}s  10 ","meta-title-10-days-nom":"%s:   10 ","meta-title-main":"  %{preposition}s %{prepositional}s  10 ","meta-title-main-extended":" %{preposition}s %{prepositional}s -    , , 10 , ","meta-title-main-minimal":" %{preposition}s %{prepositional}s","meta-title-main-reordered":" %{preposition}s %{prepositional}s -    10 ","meta-title-maps-fallback-nowcast":"%{nominative}s:       .","meta-title-maps-fallback-pressure":"%{nominative}s:      .","meta-title-maps-fallback-temperature":"%{nominative}s:      .","meta-title-maps-fallback-wind":"%{nominative}s:        .","meta-title-maps-no-location-nowcast":"      .","meta-title-maps-no-location-pressure":"     .","meta-title-maps-no-location-temperature":"     .","meta-title-maps-no-location-wind":"       .","meta-title-maps-nowcast":" %{preposition}s %{prepositional}s         .","meta-title-maps-pollen":"   2019   %{genitive}s:         .","meta-title-maps-pressure":" %{preposition}s %{prepositional}s:      .","meta-title-maps-temperature":" %{preposition}s %{prepositional}s:      .","meta-title-maps-wind":" %{preposition}s %{prepositional}s:        .","meta-title-month":" %{preposition}s %{prepositional}s  ","meta-title-month-nom":"%s:   ","meta-title-month-selected":" %{preposition}s %{prepositional}s  %{month}","meta-title-month-selected-nom":"  %{month}. %s","meta-title-month-selected-nom-year":"%s:   %{month} %{year} ","meta-title-month-selected-year":" %{preposition}s %{prepositional}s  %{month} %{year} ","meta-title-nowcast":" %{preposition}s %{prepositional}s        .","meta-title-region":" %{preposition}s %{prepositional}s",meteum:"","meteum-description":"         .","meteum-tech":"  ","meteum-title":" Meteum",minute:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"",some:"",many:"",none:""})
},mmHg:" . .",mobile:" ",month:"  ","month-names-partitive":",,,,,,,,,,,","month-nom-names":",,,,,,,,,,,","month-prep-names":",,,,,,,,,,,","month-short-names":",,,,,,,,,,,",months:".|.||.||||.|.|.|.|.",months_genitive:".|.||.||||.|.|.|.|.","moon-phase_label":" ","more-details":"","more-on-site":"   %s","morning-ak":"",mps:"/",nettle:"","new-moon":"","night-ak":"","no-search-result":"     ",now:"","nowcast.banner.nodata":"    ","nowcast.banner.nodata.common":"    ","nowcast.banner.nodata.short":"  ","nowcast.banner.subtitle":"  ","nowcast.banner.subtitle.empty":"  ","nowcast.banner.subtitle.short":" ","nowcast.banner.subtitle.show.forecast":"","nowcast.banner.text.empty":"  ","nowcast.banner.title.short":" ","nowcast.banner.title.short.center":"   ","nowcast.banner.title.show.forecast":"   ","nowcast.error.nodata":"    ","nowcast.geolocation.button":"","nowcast.geolocation.text":"       ,  .","nowcast.geolocation.title":" ","nowcast.header.prec-map":" ","nowcast.header.search":"  ...","nowcast.map.noradars":"  ,<br>    ","nowcast.popup.noprec":"  ","nowcast.satellite.promo.tooltip":",         ","nowcast.timeline.banner":"   ","nowcast.timeline.banner.today":"   ","nowcast.welcome.button":" ","nowcast.welcome.text":"        ,     .","nowcast.welcome.title":"   ",oak:"","offline-warning":"-  ,   ","on-map":"","one-day-left":" %s ","page-doesnt-exist":"   ","partly-cloudy":" ",pine:"",planetarium_msk:" ","polar-day":" ","polar-night":" ",pollen:"","pollen-level.high":" ","pollen-level.high-concentration":" ","pollen-level.low":"","pollen-level.low-concentration":" ","pollen-level.middle":" ","pollen-level.middle-concentration":" ","pollen.calendar.label":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:" ",some:" ",many:"",none:""})},precipitation:"",pressure:"","promo.paranja.button":"","promo.paranja.checkbox.layers":"       ","promo.paranja.checkbox.layers.pollen":"   ,     .    ","promo.paranja.checkbox.maps":"  ","promo.paranja.checkbox.timeline":"       ","promo.paranja.text":"      , ,  ","promo.paranja.text.nowcast":"    ,     .   ,     .","promo.paranja.text.pollen":"       .     !","promo.paranja.title":"  ","promo.paranja.title.nowcast":"     ","promo.paranja.title.pollen":" ",ragweed:"","red-alert-warning":" ","report-comment":"      .     .","report-prec-title":"   ","report-success":"    ","report-title":"  ",sagebrush:"","search-history":" ","search-place":"  ",send:"","service-name":" ",share:":","show-lightnings":"","similar-cities":"    %{month}","social-links-title":"   ",spruce:"","stage.plural.not-releasing-pollen":"  ","stage.plural.releasing-pollen":"  ","stage.singular.not-releasing-pollen":"  ","stage.singular.releasing-pollen":"  ",stat:"",sunrise:"",sunset:"","survey.button":"","survey.subtitle":"    .?","survey.title":" ","take-survey":" ","temp-water":"t ",temperature:"","ten-days":"","text-link-full-forecast":"   ",thanks:"","time.format.h-m":"%h %m","timeline.loading-error":"   ","timeline.no-data":"    ","timeline.reload":"","title-share":"   ","title-share-nowcast":"   .","title-share-pressure":"   .","title-share-temperature":"   .","title-share-wind":"   .",today:"",tomorrow:"","try-another-city":"   ","two-days-left":" %s ","until-the-new-year":"  ",up:"","up-to":" %s","user-agreement":" ","uv-index":"-","very-high":" ","water-temperature":" ",weather:"","weather-in-world":"  ","weather-online":"   ",weather_in:" %preposition %prepositional","webgl.error.button.hide":"  ","webgl.error.button.ok":"","webgl.error.disable":" WebGL   .    ,      ",weedy:" ",week_day_short_friday:"",week_day_short_monday:"",week_day_short_saturday:"",week_day_short_sunday:"",week_day_short_thursday:"",week_day_short_tuesday:"",week_day_short_wednesday:"",willow:"",wind:"","wind-calm":"","wind-calm-values":"0 /","wind-e":"","wind-e-short":"","wind-light":"","wind-light-values":"15 /","wind-moderate":"","wind-moderate-values":"610 /","wind-n":"","wind-n-short":"","wind-ne":"-","wind-ne-short":"","wind-nw":"-","wind-nw-short":"","wind-s":"","wind-s-short":"","wind-se":"-","wind-se-short":"","wind-strong":"","wind-strong-values":" 10 /","wind-sw":"-","wind-sw-short":"","wind-w":"","wind-w-short":"","ya-pogoda":".",yesterday:"","yesterday-temp":"   "},{lang:"ru"}),BEM.I18N.decl("interface-desktop",{"advert-url":"//advertising.yandex.ru/kupislova.xml?advertising","all-cities":" ","allergen-main":"   %allergen","allergens-main":" : %allergens","another-city":" ","at-another-time":"  ","bar-weather":"   ",belarus:"","by-regions":" ","cities-dynamic":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"%d ",some:"%d ",many:"%d ",none:"%d "})},"city-choose":" ","clarify-my-location":"   ","clarify-my-location-progress":"- ","clarify-my-location-short":"  ","clarify-my-location-success":" ",climate:"","climate-caption-air-humidity":" ","climate-caption-city":"  %s","climate-caption-cloudy-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"   ",some:"   ",many:"   ",none:"   "})},"climate-caption-day-night":"    ","climate-caption-days-precepitations":"     1 ","climate-caption-days-sun-rain":"    ","climate-caption-days-sunny":"  ","climate-caption-humidity":" , %","climate-caption-precipitations":" , ","climate-caption-rainfall":" ","climate-caption-rainfall-year-percentage":"{percentage}%  ","climate-caption-rainy-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"  ",some:"  ",many:"  ",none:"  "})},"climate-caption-sunny-days":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:" ",some:" ",many:" ",none:" "})},"climate-caption-temp-day":" ","climate-caption-temp-night":" ","climate-caption-temp-water":" ","climate-data":" ","climate-overview":"  ","climate-tooltip-cloudy-days":"  ,    ","climate-tooltip-rainy-days":"   ","climate-tooltip-sunny-days":"    ",cloudiness:"",color:"",colorful:"","compare-add":"  ","compare-add-city":" ","compare-add-place":" ","compare-add-result":"  : %s","compare-add-short":"","compare-add-tip":"","compare-cities-place":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"",some:"",many:"",none:""})},"compare-empty-list-text":"                  .","compare-go":"  ","compare-limit-button":"","compare-limit-header":"    8 ","compare-limit-text":"    ,   -.","compare-list-length":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"  %n ",some:"  %n ",many:"  %n ",none:"  %n "})},"compare-meta-title":" ","compare-my-comparison-link":"   ","compare-preset-1":"  ","compare-preset-2":"    ","compare-preset-3":"   ","compare-preset-4":"   ","compare-preset-5":"  ","compare-preset-6":"   ","compare-preset-7":" ","compare-remove":"  ","compare-remove-result":"  : %s","compare-remove-short":" ","compare-restrict-advice":" ,   ","compare-restrict-message":"     %n ","copyright-tech-climate":"   %{month} %{year}        10 .","copyright-tech-climate-30days":"          10 .","copyright-tech-fallback":"%s:        Meteum","copyright-tech-meteum":"  %s1 %s2  ,               Meteum","copyright-tech-meteum-coordinates":"      Meteum",countries:"","countries-dynamic":function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"%d ",some:"%d ",many:"%d ",none:"%d "})},country_az:"",country_by:"","country_co.il":"","country_com.am":"","country_com.ge":"","country_com.tr":"",country_ee:"",country_eu:"",country_fr:"",country_kg:"",country_kz:"",country_lt:"",country_lv:"",country_md:"",country_ru:"","country_ru-caucasus":"-","country_ru-central":"","country_ru-far-east":"","country_ru-north-west":"-","country_ru-siberia":"","country_ru-south":"","country_ru-ural":"","country_ru-volga":"",country_tj:"",country_tm:"",country_ua:"",country_uz:"","data-of":"  %d","data-providers-copyright-for-meteum-pages":" :  .; ,  ;  2018 ECMWF;  ","data-providers-copyright-map":" :  .; ,  ;  2018 ECMWF;  ","day-short-names":",,,,,,","details-breadcrumb":"  10 ","details-water-temperature":"","district-caucasus":"-","district-center":"","district-crimea":"","district-far-east":"","district-nw":"-","district-siberia":"","district-south":"","district-ural":"","district-volga":"",districts:" ",east:"",europe:"","fact-humidity":"","fact-pressure":"","fact-water":"","fact-wind":"",field_0:"",field_1:"",field_2:" ",field_3:"",field_4:" ",field_5:"  ",field_redesign_0:"  ",field_redesign_1:"  ",field_redesign_2:"   ",field_redesign_3:"  ",field_redesign_4:" ",field_redesign_5:"  ",gale:" ","geolocation-error-disabled":"   ,    ","geolocation-error-network":"   .  ","geolocation-error-unknown":"   .  ","go-to-big-map":"   ","happy-new-year-button":" ","happy-new-year-meta-description":"       ,   - . .      .  ,     .   ,      .","happy-new-year-meta-title":"   .","happy-new-year-share-text":",    .!","happy-new-year-team":" <b></b>.","happy-new-year-text":" ,         . ,     :  ,    !</br> ;) !","happy-new-year-title":",  ?",herbage:"","hourly-link-label":" ","index-header":" %{preposition}s %{prepositional}s","informer-can-link":"//help.yandex.ru/pogoda/widgets.xml","informer-code":" ","informer-header":"   \n          \n        ","informer-select-city":"    :","informer-text1":"         \n          .\n        ","informer-text2":"      , \n              .         .\n        ",informers:"",kazakhstan:"","know-more":" ","link-API":"API .","link-app-store":" .  AppStore","link-apps":" ","link-forecast":" ","link-google-play":" .  Google Play","link-hydromet":"","link-windows-store":" .  Windows Store",links:"",loose_1:" .",loose_10:"  !",loose_2:"     .",loose_3:"   . .",loose_4:"    -?",loose_5:"   .",loose_6:"  ,   .      .",loose_7:"    .",loose_8:" !",loose_9:"  .","magnetic-field":" ","maps-ad-hide":" ","maps-ad-show":" ","maps-widget-link-full":"  ","maps-widget.title.precipitations":" ","maps.pollen.clear":" ","maps.pollen.toggle.hide":"","maps.pollen.toggle.show":" ","max-temp-day-alt":"  ","meta-description-climate":" %{genitive}s        ..  ,  ,    ,    %{preposition}s %{prepositional}s.        10 .","meta-description-fallback":"         10   ..    , ,   ,  ,    -.        .      .    .     .","meta-description-maps":"        ..","meta-description-month-with-no-water":"  %{preposition}s %{prepositional}s    ..    %{preposition}s %{prepositional}s  30 .  %{preposition}s %{prepositional}s  :  , ,   ,   .        .    .     .","meta-description-month-with-no-water-nom":"%s:    . %s:     30 . %s:     .,     , ,   ,   .        .    .     .","meta-description-month-with-no-water-selected":" %{preposition}s %{prepositional}s  %{month}:  ,   , ,   .   %{preposition}s %{prepositional}s    ..        .    .     .","meta-description-month-with-no-water-selected-nom":"%s:   %{month},     ,   , ,   . %s:     .,   , , , 10 , .        .    .     .","meta-description-month-with-water":"  %{preposition}s %{prepositional}s    ..    %{preposition}s %{prepositional}s  30 .  %{preposition}s %{prepositional}s  :    , ,   ,   .        .    .     .","meta-description-month-with-water-nom":"%s:      .. %s:     30 . %s:   ,     ,  , ,   ,   .        .    .     .","meta-description-month-with-water-selected":" %{preposition}s %{prepositional}s  %{month}:  ,   , ,   .   %{preposition}s %{prepositional}s  %{month}  ..  %{preposition}s %{prepositional}s  .        .    .     .","meta-description-month-with-water-selected-nom":"%s:   %{month},   ,  ,   , ,   . %s:    %{month}. %s:     ..        .    .     .","meta-description-nowcast":"%{nominative}s:            ..      .         .  ,   ,  ,    -.      .   ..","meta-description-nowcast-fallback":"           ..      .         .    ,   ,  ,    -.      .   ..","meta-description-pressure":"    %{genitive}s.        %{preposition}s %{prepositional}s      . .     ","meta-description-region":"     %{genitive}s      10   ..    , ,   ,  ,    -.        .      .    .     .","meta-description-region-no-chief":"         10   ..    , ,   ,  ,    -.        .      .    .     .","meta-description-temperature":"    %{genitive}s   .    %{preposition}s %{prepositional}s        . .     .    ,   ,  ,    -.      .     .","meta-description-widgets":".          .           .       ,      .    , ,  ,        10 .","meta-description-wind":"      %{genitive}s.      %{preposition}s %{prepositional}s      . .     ","meta-keywords-nowcast":" ,   ,     , , ,   .","meta-title-choose":"   ","meta-title-climate":" %{genitive}s","meta-title-maps":"  ","meta-title-month":" %{preposition}s %{prepositional}s  ","meta-title-month-nom":"%s:   ","meta-title-month-selected":" %{preposition}s %{prepositional}s  %{month}","meta-title-month-selected-nom":"%s:   %{month}","meta-title-month-selected-nom-year":"%s:   %{month} %{year} ","meta-title-month-selected-year":" %{preposition}s %{prepositional}s  %{month} %{year} ","meta-title-pressure":" %{preposition}s %{prepositional}s:      .","meta-title-region":" %{preposition}s %{prepositional}s","meta-title-temperature":" %{preposition}s %{prepositional}s:      .","meta-title-widgets":"    ","meta-title-wind":" %{preposition}s %{prepositional}s:        .","min-temp-night-alt":"  ","mini-link-label":" ","month-forecast":"  ","month-names-partitive":",,,,,,,,,,,","month-nom-names":",,,,,,,,,,,","month-prep-names":",,,,,,,,,,,","month-short-names":",,,,,,,,,,,","monthly-forecast":" ","moon-phase-redesign-decreasing-moon":" ","moon-phase-redesign-first-quarter":" :  ","moon-phase-redesign-full-moon":"","moon-phase-redesign-growing-moon":" ","moon-phase-redesign-last-quarter":" :  ","moon-phase-redesign-moon-code-2":" ","moon-phase-redesign-new-moon":"","moon-phase_label":" ","my-location-hint-done":"    ","my-location-hint-get":"    ","nav-forecast-10d":" 10 ","nav-forecast-10d-detailed":"   10 ","nav-forecast-10d-v2":"  10 ","nav-forecast-30d":" ","nav-forecast-30d-month":"  30 ","nav-forecast-30d-v2":"  ","nav-forecast-month":"  ","nav-maps":"  ","nav-maps-v2":"  ","news-weather-date":"%{day}  %{time}","news-weather-title":" ",north:"","nowcast.map.watch":" ","open-manual":" ","other-cities":" ","other-forecasts":" ",partners:"","pollen-alert-button-not-interesting":"","pollen-alert-button-notify":"   ","pollen-alert-popup-allergens-hide":"    ","pollen-alert-popup-allergens-save":"","pollen-alert-popup-allergens-title":" ","pollen-alert-popup-hide-cancel":"","pollen-alert-popup-hide-description":"   ","pollen-alert-popup-hide-title":"   ?","pollen-alert-popup-hide-yes":"","pollen-today-concentration-high":"    ","pollen-today-concentration-low":"    ","pollen-today-concentration-medium":"    ","pollen-today-concentration-none":"    -","prec-last-24":"  24  ",precipitation:"",russia:"","russia-center":" ","search-city":"","search-place":"  ","search-result-title":" :","similar-cities":"     %{month}",size:"",south:"","tech-copyright-foreca":"   %s    FORECA","tech-copyright-meteum":" Meteum","tech-copyright-nominative":"%s:      ","tech-copyright-prepositional":"  %s1 %s2  ,             \n        ","tech-copyright-turkish":"","tech-copyright-turkish-meteum":"","telegram-link-label":"  Telegram","temp-alt-celsius":"%d  ",temperature:"","timeline-forecast":"","timeline-forecast-tooltip":"       ","timeline.loading-error":"   ","timeline.no-data":"    ","timeline.reload":"",trees:"","try-first":"",ukraine:"",uzbekistan:"","weather-extension":"  ","weather-in":" %p %s","weather-in-Europe":"  ","weather-in-Russia":"  ","weather-in-cities":"  ","weather-in-other-cities":"   ","weather-in-world":"  ","weather-on-map":"  ","weather-unknown":"     ","weather-with-you":"  ",west:"",white:"","widget-ya":"  ","yesterday-temp":"   "},{lang:"ru"}),BEM.I18N.decl("lang-switcher",{all:""},{lang:"ru"}),BEM.I18N.decl("logo_type_link",{yandex:""},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"","search-input-label":"","search-service-label":"  ","search-web-label":"  "},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"",group:" ",nah:" ",nav:"",on_other_devices:"  ",text:"",traffic:"",weather:""},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":" "},{lang:"ru"}),BEM.I18N.decl("ticker__text",{notifications:""},{lang:"ru"}),BEM.I18N.decl("user2",{"add-account":" ","edit-accounts":" ",enter:"",exit:"",help:"",mail:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:" ",some:" ",many:" ",none:"  "})},mail_compose:" ",passport:" ",settings:"",upload_files:" ",ya_plus:" ",ya_plus_on:""},{lang:"ru"}),BEM.I18N.decl("weather-alerts-pollen",{increasing_concentration_allergen:"        %(allergen_gen)s",increasing_concentration_allergens:"        %(allergens_gen)s",peak_release_period_allergen:"      %(allergen_gen)s",peak_release_period_allergens:"      %(allergens_gen)s",reducing_concentration_allergen:"        %(allergen_gen)s",reducing_concentration_allergens:"        %(allergens_gen)s",will_begin_within_one_month_allergen:"     %(allergen)s",will_begin_within_one_month_allergens:"     %(allergens)s",will_begin_within_one_week_allergen:"    %(allergen)s",will_begin_within_one_week_allergens:"    %(allergens)s",will_begin_within_two_week_allergen:"      %(allergen)s",will_begin_within_two_week_allergens:"      %(allergens)s"},{lang:"ru"}),BEM.I18N.decl("weather-conditions-v2",{"blowing-snow":"",clear:"",cloudy:"  ","cloudy-and-light-rain":" ","cloudy-and-light-snow":" ","cloudy-and-rain":"","cloudy-and-snow":"","continuous-heavy-rain":" ","drifting-snow":" ",drizzle:"",dust:"","dust-suspension":" ",duststorm:" ",fog:"","freezing-rain":" ",hail:"","heavy-rain":"","ice-pellets":" ","light-rain":" ","light-snow":" ",mist:"","moderate-rain":"",overcast:"","overcast-and-light-rain":" ","overcast-and-light-snow":" ","overcast-and-rain":" ","overcast-and-snow":"","overcast-and-wet-snow":"  ","overcast-thunderstorms-with-rain":" , ","partly-cloudy":"","partly-cloudy-and-light-rain":" ","partly-cloudy-and-light-snow":" ","partly-cloudy-and-rain":"","partly-cloudy-and-snow":"",rain:"",showers:"",smoke:"",snow:"","snow-showers":"",thunderstorm:"","thunderstorm-wet-snow":",   ","thunderstorm-with-duststorm":"   ","thunderstorm-with-hail":"  ","thunderstorm-with-rain":"  ","thunderstorm-with-snow":", ",tornado:"","volcanic-ash":" ","wet-snow":"  "},{lang:"ru"}),BEM.I18N.decl("weather-moon",{"decreasing-moon":" ","first-quarter":" ","full-moon":"","growing-moon":" ","last-quarter":" ","moon-code-0":"","moon-code-1":" ","moon-code-10":" ","moon-code-11":" ","moon-code-12":" ","moon-code-13":" ","moon-code-14":" ","moon-code-15":" ","moon-code-2":" ","moon-code-3":" ","moon-code-4":" ","moon-code-5":" ","moon-code-6":" ","moon-code-7":" ","moon-code-8":"","moon-code-9":" ","new-moon":""},{lang:"ru"}),BEM.I18N.lang("ru")),function(t){var e=function(){function t(){this._lastMatchId=0,this._matchers=[],this._infiniteLoopDetection=!1,this.lib={},this._shortTags={};
for(var t=0;t<n.length;t++)this._shortTags[n[t]]=1;this._options={},this._optJsAttrName="onclick",this._optJsAttrIsJs=!0,this._optJsCls="i-bem",this._optJsElem=!0,this._optEscapeContent=!1,this._optNobaseMods=!1,this._optDelimElem="__",this._optDelimMod="_",this._optShortTagCloser="/>",this.utils={_expandoId:(new Date).getTime(),bh:this,isSimple:function(t){if(!t||t===!0)return!0;var e=typeof t;return"string"===e||"number"===e},extend:function(t){t&&"object"==typeof t||(t={});for(var e=1,n=arguments.length;n>e;e++){var i,r=arguments[e];if(r)for(i in r)t[i]=r[i]}return t},position:function(){var t=this.node;return"content"===t.index?1:t.position},isFirst:function(){var t=this.node;return"content"===t.index||1===t.position},isLast:function(){var t=this.node;return"content"===t.index||t.position===t.arr._listLength},tParam:function(t,e,n){var i="__tp_"+t,r=this.node;if(arguments.length>1)return(n||!this.tParam(t))&&(r[i]=e),this;for(;r;){if(r.hasOwnProperty(i))return r[i];r=r.parentNode}return void 0},process:function(t){var e=this.ctx,n=this.node,i=this.bh.processBemJson(t,e.block);return this.ctx=e,this.node=n,i},applyBase:function(){var t=this.node,e=t.json,n=e.block,i=e.mods,r=this.bh._fastMatcher(this,e);return void 0!==r&&(this.ctx=t.arr[t.index]=t.json=r,t.block=n,t.mods=i),this},stop:function(){return this.ctx._stop=!0,this},generateId:function(){return"uniq"+this._expandoId+ ++e},mod:function(t,e,n){var i=this.ctx.elem?"elemMods":"mods";if(arguments.length>1){var r=this.ctx[i];return r[t]=!r.hasOwnProperty(t)||n?e:r[t],this}return this.ctx[i][t]},mods:function(t,e){var n=this.ctx.elem?"elemMods":"mods",i=this.ctx[n];return void 0!==t?(this.ctx[n]=e?this.extend(i,t):this.extend(t,i),this):i},tag:function(t,e){return void 0===t?this.ctx.tag:((e||void 0===this.ctx.tag)&&(this.ctx.tag=t),this)},mix:function(t,e){return void 0===t?this.ctx.mix:(this.ctx.mix=e||!this.ctx.mix?t:(Array.isArray(this.ctx.mix)?this.ctx.mix:[this.ctx.mix]).concat(t),this)},attr:function(t,e,n){var i;return arguments.length>1?(i=this.ctx.attrs||(this.ctx.attrs={}),i[t]=!i.hasOwnProperty(t)||n?e:i[t],this):(i=this.ctx.attrs,i?i[t]:void 0)},attrs:function(t,e){var n=this.ctx.attrs||{};return void 0===t?n:(this.ctx.attrs=e?this.extend(n,t):this.extend(t,n),this)},bem:function(t,e){return void 0===t?this.ctx.bem:((e||void 0===this.ctx.bem)&&(this.ctx.bem=t),this)},js:function(t,e){var n=this.ctx;return void 0===t?n.js:(e||void 0===n.js?n.js=t:n.js!==!1&&(n.js=this.extend(n.js,t)),this)},cls:function(t,e){return void 0===t?this.ctx.cls:((e||void 0===this.ctx.cls)&&(this.ctx.cls=t),this)},param:function(t,e,n){return void 0===e?this.ctx[t]:((n||void 0===this.ctx[t])&&(this.ctx[t]=e),this)},content:function(t,e){return void 0===t?this.ctx.content:((e||void 0===this.ctx.content)&&(this.ctx.content=t),this)},html:function(t,e){return void 0===t?this.ctx.html:((e||void 0===this.ctx.html)&&(this.ctx.html=t),this)},json:function(){return this.ctx}}}var e=0;t.prototype={constructor:t,setOptions:function(t){var e;for(e in t)this._options[e]=t[e];if(t.jsAttrName&&(this._optJsAttrName=t.jsAttrName),t.jsAttrScheme&&(this._optJsAttrIsJs="js"===t.jsAttrScheme),void 0!==t.jsCls&&(this._optJsCls=t.jsCls),t.hasOwnProperty("jsElem")&&(this._optJsElem=t.jsElem),t.clsNobaseMods&&(this._optNobaseMods=!0),t.escapeContent&&(this._optEscapeContent=t.escapeContent),t.delimElem&&(this._optDelimElem=t.delimElem),t.delimMod&&(this._optDelimMod=t.delimMod),t.xhtml===!1&&(this._optShortTagCloser=">"),t.shortTags)for(var n=0;n<t.shortTags.length;n++)this._shortTags[t.shortTags[n]]=1;return this},getOptions:function(){return this._options},enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBemJson(t))},match:function(t,e){if(!t)return this;if(Array.isArray(t))return t.forEach(function(n,i){this.match(t[i],e)},this),this;if("object"==typeof t){for(var n in t)this.match(n,t[n]);return this}return e.__id="__func"+this._lastMatchId++,this._matchers.push([t,e]),this._fastMatcher=null,this},beforeEach:function(t){return this.match("$before",t)},afterEach:function(t){return this.match("$after",t)},buildMatcher:function(){function t(t,e){for(var n={},i=0,r=t.length;r>i;i++){var s=t[i],o=s[e]||"__no_value__";(n[o]||(n[o]=[])).push(s)}return n}function e(t,e,n){t.push("json."+e+" = true;","subRes = _m"+n+"(ctx, json);",'if (subRes !== undefined) return (subRes || "");',"if (json._stop) return;")}var n,i,r,s,o,a,c,u,l=[],d=["bh = this"],h=this._matchers,p=[];for(n=h.length-1;n>=0;n--)a=h[n],o=a[0],d.push("_m"+n+" = ms["+n+"][1]"),s={fn:a[1],index:n},~o.indexOf(this._optDelimElem)?(c=o.split(this._optDelimElem),u=c[0].split(this._optDelimMod),s.block=u[0],u.length>1&&(s.blockMod=u[1],s.blockModVal=u[2]||!0),c=c[1].split(this._optDelimMod),s.elem=c[0],c.length>1&&(s.elemMod=c[1],s.elemModVal=c[2]||!0)):(c=o.split(this._optDelimMod),s.block=c[0],c.length>1&&(s.blockMod=c[1],s.blockModVal=c[2]||!0)),p.push(s);var m=t(p,"block"),f=m.$before,_=m.$after;if(_&&delete m.$after,l.push("var "+d.join(", ")+";","function applyMatchers(ctx, json) {","var subRes;"),f)for(delete m.$before,i=0,r=f.length;r>i;i++)s=f[i],e(l,s.fn.__id,s.index);l.push("switch (json.block) {");for(var g in m){l.push('case "'+g+'":');var y=t(m[g],"elem");l.push("switch (json.elem) {");for(var v in y){l.push("__no_value__"===v?"case undefined:":'case "'+v+'":');var b=y[v];for(i=0,r=b.length;r>i;i++){s=b[i];var x=s.fn,k=[];k.push("!json."+x.__id),s.elemMod&&k.push('json.elemMods && json.elemMods["'+s.elemMod+'"] === '+(s.elemModVal===!0||'"'+s.elemModVal+'"')),s.blockMod&&k.push('json.mods && json.mods["'+s.blockMod+'"] === '+(s.blockModVal===!0||'"'+s.blockModVal+'"')),l.push("if ("+k.join(" && ")+") {"),e(l,x.__id,s.index),l.push("}")}l.push("break;")}l.push("}","break;")}if(l.push("}"),_)for(i=0,r=_.length;r>i;i++)s=_[i],e(l,s.fn.__id,s.index);return l.push("};","return applyMatchers;"),l.join("\n")},processBemJson:function(t,e,n){function i(){this.ctx=null}if(null!=t){var r,s,o,a,c,u,l,d,h,p,m=[t],f=[{json:t,arr:m,index:0,block:e,mods:null}],_=this._fastMatcher||(this._fastMatcher=Function("ms",this.buildMatcher())(this._matchers)),g=!n,y=this._infiniteLoopDetection;i.prototype=this.utils;for(var v=new i;r=f.shift();){if(s=r.json,o=r.block,a=r.mods,Array.isArray(s)){for(c=0,u=0,l=s.length;l>c;c++)h=s[c],h!==!1&&null!=h&&"object"==typeof h&&f.push({json:h,arr:s,index:c,position:++u,block:o,mods:a,parentNode:r});s._listLength=u}else{var b,x=!1;if(s.elem?(o=s.block=s.block||o,s.elemMods||(s.elemMods=s.mods||{},s.mods=null),a=s.mods=s.mods||a):s.block&&(o=s.block,a=s.mods=s.mods||{}),"object"==typeof s){if(y){if(s.__processCounter=(s.__processCounter||0)+1,_.__processCounter=(_.__processCounter||0)+1,s.__processCounter>100)throw new Error('Infinite json loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".');if(_.__processCounter>1e3)throw new Error('Infinite matcher loop detected at "'+s.block+(s.elem?this._optDelimElem+s.elem:"")+'".')}p=void 0,s._stop||(v.node=r,v.ctx=s,p=_(v,s),void 0!==p&&(s=p,r.json=s,r.block=o,r.mods=a,f.push(r),x=!0))}if(!x&&g&&(b=s.content))if(Array.isArray(b)){var k;do{for(k=!1,c=0,l=b.length;l>c;c++)if(Array.isArray(b[c])){k=!0;break}k&&(s.content=b=b.concat.apply([],b))}while(k);for(c=0,u=0,l=b.length,d=l-1;l>c;c++)h=b[c],h!==!1&&null!=h&&"object"==typeof h&&f.push({json:h,arr:b,index:c,position:++u,block:o,mods:a,parentNode:r});b._listLength=u}else f.push({json:b,arr:s,index:"content",block:o,mods:a,parentNode:r})}r.arr[r.index]=s}return m[0]}},toHtml:function(t){this._buf="",this._html(t);var e=this._buf;return delete this._buf,e},_html:function(t){var e,n,a;if(t!==!1&&null!=t)if("object"!=typeof t)this._buf+=this._optEscapeContent?i(t):t;else if(Array.isArray(t))for(e=0,n=t.length;n>e;e++)a=t[e],a!==!1&&null!=a&&this._html(a);else{if(t.toHtml){var c=t.toHtml.call(this,t)||"";return void(this._buf+=c)}var u=t.bem!==!1;if("undefined"!=typeof t.tag&&!t.tag)return void(t.html?this._buf+=t.html:this._html(t.content));t.mix&&!Array.isArray(t.mix)&&(t.mix=[t.mix]);var l,d,h,p="",m="",f=!1;if(l=t.attrs)for(e in l)d=l[e],d===!0?m+=" "+e:d!==!1&&null!==d&&void 0!==d&&(m+=" "+e+'="'+r(d)+'"');if(u){var _=t.block+(t.elem?this._optDelimElem+t.elem:"");t.block&&(p=o(t,_,null,this._optNobaseMods,this._optDelimMod),t.js&&((h={})[_]=t.js===!0?{}:t.js));var g=this._optJsCls&&(this._optJsElem||!t.elem),y=t.mix;if(y&&y.length)for(e=0,n=y.length;n>e;e++){var v=y[e];if(v&&v.bem!==!1){var b=v.block||t.block||"",x=v.elem||(v.block?null:t.block&&t.elem),k=b+(x?this._optDelimElem+x:"");b&&(p+=o(v,k,_,this._optNobaseMods,this._optDelimMod),v.js&&((h=h||{})[k]=v.js===!0?{}:v.js,f=!0,g||(g=b&&this._optJsCls&&(this._optJsElem||!x))))}}if(h){g&&(p+=" "+this._optJsCls);var w=f||t.js!==!0?s(JSON.stringify(h)):'{"'+_+'":{}}';m+=" "+(t.jsAttr||this._optJsAttrName)+"='"+(this._optJsAttrIsJs?"return "+w:w)+"'"}}t.cls&&(p=(p?p+" ":"")+r(t.cls).trim());var E=t.tag||"div";this._buf+="<"+E+(p?' class="'+p+'"':"")+(m?m:""),this._shortTags[E]?this._buf+=this._optShortTagCloser:(this._buf+=">",t.html?this._buf+=t.html:this._html(t.content),this._buf+="</"+E+">")}}};var n="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),i=t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},s=t.prototype.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},o=function(t,e,n,i,r){var s,o,a,c="";if(n!==e&&(n&&(c+=" "),c+=e),s=t.elem&&t.elemMods||t.mods)for(a in s)o=s[a],(o||0===o)&&(c+=" "+(i?r:e+r)+a+(o===!0?"":r+o));return c};return t}();"undefined"!=typeof module&&(module.exports=e);var n=new e;n.setOptions({jsAttrName:"data-bem",jsAttrScheme:"json"});var i=function(){!function(){n.match("user-account",function(t,e){if(t.attrs({tabindex:"0"}).js(!0),e.url&&t.tag("a").attr("href",e.url),e.name!==!1){var n=e.maxLength||16,i=e.name&&e.name.length>n?e.name.substring(0,n-1)+"":e.name;t.content([].concat(t.isSimple(i)?{elem:"name",text:i||"",subname:e.subname}:t.extend(i,{elem:"name",subname:e.subname})))}return t.content([].concat({elem:"pic",pic:t.extend({plus:e.plus},e.pic),avatarHost:e.avatarHost,provider:e.mods&&e.mods.provider},t.content()||[]),void 0!==e.pic),e})}(),function(){n.lib.util||(n.lib.util={})}(),function(){function t(t){return"object"==typeof t&&"[object Object]"===r.call(t)}function e(n,i,r){var s,o;n=Object(n),i=Object(i);for(s in i)o=r&&r(n[s],i[s],s),n[s]=void 0!==o?o:t(n[s])&&t(i[s])?e(n[s],i[s],r):i[s];return n}function i(t,n){return e(t,n,function(t,e,n){return"mix"===n?[].concat(t,e):void 0})}var r=Object.prototype.toString;n.lib.util.merge=e,n.lib.util.mergeBemjson=i}(),function(){var t=n.lib,e=t.global=n.utils.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},t.global);e._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},e.makePublic=function(t,i){return"object"==typeof t?void(e._public=n.utils.extend({},e._public,t)):("undefined"==typeof i&&(i=!0),void(e._public[t]=i))},e.isPublic=function(t){return Boolean(e._public[t])},e.setTld=function(t){var i="tr"===t?"yandex.com.tr":"yandex."+t,r=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":i;n.utils.extend(e,{tld:t,"content-region":t,"click-host":"//clck."+r,"passport-host":"https://passport."+r,"pass-host":"https://pass."+i,"social-host":"https://social."+i,"export-host":"https://export."+i})};var i={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=n.utils.extend({},e)},restore:function(){var t;for(t in e)delete e[t];n.utils.extend(e,this._backup)}};n.match("i-global",function(e,n){e.tag("");var r=t.global,s=n.params||{};i.exists()?n.reset!==!1&&i.restore():i.save(),s.tld&&s.tld!==r.tld&&r.setTld(s.tld),e.extend(r,s)})}(),function(){n.match("i-global",function(t,e){n.lib.global.makePublic({"lego-static-host":!1,nonce:!0,host:!0,"informer-host":!0,"secret-key":!0,"service-root":!0,rid:!0,urid:!0,slug:!0,metrikaId:!0,stHost:!0,theme:!0,kubr:!0,"map-version":!0,"detect-host":!0,"detect-domains":!0,reqId:!0,rumAdvPosNames:!0}),e.safeJsonStringify&&(n.lib.safeJsonStringify=e.safeJsonStringify)})}(),function(){n.match("i-ua",function(t,e){t.bem(!1).tag("script").attr("nonce",e.nonce||n.lib.global.nonce).content([';(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);',t.content()],!0)})}(),function(){n.match("i-ua",function(t){t.attr("nonce",n.lib.global.nonce,!0)})}(),function(){n.match("i-ua",function(t){t.content([{tag:!1,html:[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("")},t.content()],!0)})}(),function(){n.match("link",function(t,e){var i=t.mods(),r=e.url,s=void 0!==r,o=Boolean(i.disabled),a=e.tabindex;if(void 0===a&&(a="0"),r=s?t.isSimple(r)?r:n.apply(r):void 0,t.tag(s?"a":"span").js({_tabindex:o?a:void 0}).attrs({id:e.id,name:e.name,title:e.title,target:e.target,tabindex:o?s&&-1:a,href:r,role:s?void 0:"button","aria-disabled":o?"true":void 0}),"_blank"===t.attr("target")){var c=t.attr("rel")||"";c&&-1!==c.indexOf("noopener")||(c=c?c+=" noopener":"noopener",t.attr("rel",c,!0))}var u=Boolean(e.text),l=[e.icon,e.iconLeft,e.iconRight].filter(Boolean),d=l.length>0,h=u||l.length>1;t.content([e.icon&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:h?"left":""}}},e.icon),e.iconLeft&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:h?"left":""}}},e.iconLeft),u&&(t.isSimple(e.text)?d?{elem:"inner",content:{tag:!1,html:n.xmlEscape(e.text)}}:{tag:!1,html:n.xmlEscape(e.text)}:e.text.block?n.lib.util.mergeBemjson({mix:{block:"link",elem:"inner"}},e.text):t.extend({block:"link",elem:"inner"},e.text)),e.iconRight&&n.lib.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:h?"right":""}}},e.iconRight)])}),n.match("link__inner",function(t){t.tag("span")})}(),function(){n.match("link_pseudo_yes",function(t){t.mod("inner")||t.applyBase().content({elem:"inner",content:t.content()},!0)})}(),function(){n.match("user-account__pic",function(t,e){return e.pic?n.lib.util.mergeBemjson({block:"user-pic",mods:{provider:e.provider},host:e.avatarHost,mix:{block:"user-account",elem:"pic",elemMods:e.elemMods}},e.pic):void 0})}(),function(){n.match("user-pic",function(t,e){function n(){var t=e.host||"https://avatars.mds.yandex.net",n=e.avatarId||"0/0-0";return{lodpiUrl:t+"/get-yapic/"+n+"/islands-middle",hidpiUrl:t+"/get-yapic/"+n+"/islands-retina-middle"}}t.param("avatar-url",n());var i=t.param("avatar-url");e.plus&&t.mod("has-plus","yes"),t.content([{elem:"image",elemMods:{lodpi:"yes"},attrs:{style:"background-image: url("+i.lodpiUrl+");"}},{elem:"image",elemMods:{hidpi:"yes"},attrs:{style:"background-image: url("+i.hidpiUrl+");"}}])})}(),function(){n.match("i-ua",function(t){t.content([t.content(),{tag:!1,html:[";(function(w,e,s,c,x,l,p,d){",'c="className";','x="deviceXDPI";','l="logicalXDPI";','p="devicePixelRatio";',"d=x in s&&l in s&&s[x]/s[l]||p in w&&w[p];",'d>1&&(e[c]+=" i-ua_retina_yes")',"})(window,document.documentElement,screen);"].join("")}],!0)})}(),function(){n.match("user-account__name",function(t,e){t.tag("span"),void 0===e.content&&e.text&&t.content({tag:!1,html:n.xmlEscape(e.text)})})}(),function(){n.match("user-account",function(t,e){void 0===e.subname||t.mod("has-subname","yes")}),n.match("user-account_has-subname_yes__name",function(t,e){t.applyBase();var n={fb:"Facebook",tw:"Twitter",mr:"Mail.ru",gg:"Google",ok:"Odnoklassniki",vk:"Vkontakte",dz:"Deezer",fs:"Foursquare",ig:"Instagram",lf:"Last.FM",lj:"LiveJournal","in":"LinkedIn",mt:"-",ms:"Microsoft",yh:"Yahoo",ya:"Yandex",vf:"Vodafone-",tg:"Telegram"},i="object"==typeof e.subname?n[e.subname.provider]:e.subname;i&&i!==e.text&&t.content([t.content(),{elem:"subname",text:i}],!0)})}(),function(){n.match("user-account__subname",function(t,e){t.tag("span"),void 0===e.content&&e.text&&t.content({tag:!1,html:n.xmlEscape(e.text)})})}(),function(){n.match("user-account_has-logout_yes",function(t){t.applyBase(),t.content([{block:"icon",mods:{glyph:"x-sign",size:"xs"},mix:{block:"user-account",elem:"logout"}},t.content()],!0)})}(),function(){n.match("icon",function(t,e){var n=void 0!==e.url,i=(t.attr("style")||"")+(n?";background-image:url('"+e.url+"');":"");t.tag("span"),t.attr("style",i||void 0,!0)})}(),function(){var t={"bkn-p-ra-d":"bkn_+ra_d","bkn-p-ra-n":"bkn_+ra_n","bkn-p-sn-d":"bkn_+sn_d","bkn-p-sn-n":"bkn_+sn_n","bkn-m-ra-d":"bkn_-ra_d","bkn-m-ra-n":"bkn_-ra_n","bkn-m-sn-d":"bkn_-sn_d","bkn-m-sn-n":"bkn_-sn_n","bkn-d":"bkn_d","bkn-n":"bkn_n","bkn-ra-d":"bkn_ra_d","bkn-ra-n":"bkn_ra_n","bkn-sn-d":"bkn_sn_d","bkn-sn-n":"bkn_sn_n",ovc:"ovc","ovc-p-ra":"ovc_+ra","ovc-p-sn":"ovc_+sn","ovc-m-ra":"ovc_-ra","ovc-ra-sn":"ovc_ra_sn","ovc-m-sn":"ovc_-sn","ovc-ra":"ovc_ra","ovc-sn":"ovc_sn","ovc-ts-ra":"ovc_ts_ra","skc-d":"skc_d","skc-n":"skc_n","ovc-ha":"ovc_ha","ovc-ts":"ovc_ts","ovc-ts-ha":"ovc_ts_ha","fg-d":"fg_d","fg-n":"fg_n",smog:"smog",dst:"dst","du-st":"du_st","du-ts":"du_ts","m-bl":"-bl",bl:"bl","ovc-ra-ice":"ovc_ra_ice",strm:"strm",vlka:"vlka",sunrise:"fct_sn_rs",sunset:"fct_sn_dwn"},e={"bkn-p-ra-d":"fct_+ra","bkn-p-ra-n":"fct_+ra","bkn-p-sn-d":"fct_+sn","bkn-p-sn-n":"fct_+sn","bkn-m-ra-d":"fct_-ra","bkn-m-ra-n":"fct_-ra","bkn-m-sn-d":"fct_-sn","bkn-m-sn-n":"fct_-sn","bkn-d":"bkn_d","bkn-n":"bkn_n","bkn-ra-d":"fct_ra","bkn-ra-n":"fct_ra","bkn-sn-d":"fct_sn","bkn-sn-n":"fct_sn",ovc:"ovc","ovc-p-ra":"fct_+ra","ovc-p-sn":"fct_+sn","ovc-m-ra":"fct_-ra","ovc-ra-sn":"fct_ra_sn","ovc-m-sn":"fct_-sn","ovc-ra":"fct_ra","ovc-sn":"fct_sn","ovc-ts-ra":"fct_ts_ra","skc-d":"skc_d","skc-n":"skc_n","ovc-ts":"fct_ts","ovc-ra-ice":"fct_ra_ice","ovc-ts-ha":"fct_ts_ha","ovc-ha":"fct_ha"};n.match("icon",function(i,r){if(i.mod("thumb")){var s=r.mods&&r.mods.thumb,o=r.mods&&r.mods.color;if(s&&o){var a;if(["wnd","water"].indexOf(s)>-1)a="//yastatic.net/weather/i/icons/svg/"+s+".svg";else{var c=o.indexOf("-prec"),u=c>-1?o.substr(0,c):!1,l=n.lib.global.svgless,d="//yastatic.net/weather/i/icons/funky",h=u||o,p=u?e[s]:t[s];a=l?d+"/png/"+h+"/48/"+p+".png":d+"/"+h+"/"+(p||s)+".svg"}i.tag("img"),i.attr("src",a)}}else{i.tag("i"),i.attr("data-width",i.mod("size"));var m=i.content();if(i.content("",!0),r.abbr){var f=[{tag:"abbr",mix:{block:"icon-abbr"},attrs:{title:m},content:r.abbr},r];return r.invert?f.reverse():f}m&&i.attr("title",m)}})}(),function(){n.match("icon",function(t){t.mod("glyph")&&t.mod("has-glyph","yes")})}(),function(){n.match("icon_glyph_x-sign",function(t){t.content({html:'<svg focusable="false" width="0" height="0" viewBox="0 0 20 20"><path d="M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"/></svg>',tag:!1})})}(),function(){n.match("user-account",function(t,e){void 0===e.ticker||t.mod("has-ticker","yes")}),n.match("user-account_has-ticker_yes",function(t,e){t.applyBase(),t.content([t.content(),{elem:"ticker",ticker:e.ticker}].filter(Boolean),!0)})}(),function(){n.match("user-account__ticker",function(t,e){return n.lib.util.mergeBemjson({block:"ticker",mix:{block:"user-account",elem:"ticker",elemMods:e.elemMods}},e.ticker)})}(),function(){n.match("ticker",function(t,e){var n=e.count||0,i=e.maxCount||99,r=e.url;t.tag("span").attrs({role:"alert","aria-live":"assertive","aria-atomic":"true"}).js({count:n,maxCount:i}).content({elem:"count",url:r,content:n}).tParam("count",n).tParam("maxCount",i),e.count||t.mod("state","empty")})}(),function(){n.match("ticker__count",function(t,e){var n=e.url;n?t.tag("a").attr("href",n):t.tag("span").mix({elem:"plain"}),t.content([{elem:"text"},{elem:"value",count:e.content}],!0)})}(),function(){n.match("i-bem__i18n",function(t,e){var i=e.keyset,r=e.key,s=e.params||{};return i||r?(e.content&&(s.content=n.apply(e.content)),{tag:!1,html:n.lib.i18n(i,r,s)}):void t.tag(!1)})}(),function(){n.match("ticker__text",function(t){t.tag("span").mix({block:"a11y-hidden"}).content(n.lib.i18n("ticker__text","notifications"))})}(),function(){n.match("ticker__value",function(t){var e=t.tParam("count"),n=t.tParam("maxCount"),i=e>n?n:e;t.tag("span").attr("title",e).content(i)})}(),function(){n.match("menu",function(t,e){var n,i=t.mods(),r=i.disabled,s=i.type,o=void 0!==e.tabindex?e.tabindex:t.tParam("tabindex");n=void 0!==e.val?[].concat(e.val):[],t.mod("view","classic"),-1!==["radio","radiocheck"].indexOf(s)&&(n=n.slice(0,1));var a=function(e){return[].concat(e).filter(function(t){return t!==!1&&null!==t&&void 0!==t}).map(function(e){return t.isSimple(e)&&(e={text:e}),e.items?(e.elem="group",e.content||(e.content=a(e.items)),e):(e.elem="item",e.elemMods||(e.elemMods={}),-1!==["check","radio","radiocheck"].indexOf(s)?e.elemMods=t.extend({type:"option",checked:-1!==n.indexOf(e.val)?"yes":void 0},e.elemMods):"navigation"===s&&(e.elemMods=t.extend({type:"link"},e.elemMods)),e)},this)};t.tParam("menu",e).js(t.extend(t.js(),{_tabindex:null!==o&&r?o:void 0})).attrs({tabindex:r?void 0:null===o?void 0:o,"aria-disabled":r?"true":!1}),e.items&&t.content(a(e.items))})}(),function(){n.match("menu__item",function(t,e){return t.js(t.extend(t.js(),{val:e.val})).attrs({title:e.title,"aria-disabled":t.mod("disabled")?"true":!1,"aria-selected":t.mod("checked")?"true":!1}),t.content([e.icon&&{elem:"icon",icon:e.icon},void 0!==e.text&&{elem:"text",content:{tag:!1,html:t.isSimple(e.text)?n.xmlEscape(e.text):n.apply(e.text)}}]),t.tParam("inMenuTypeNavigation")?{elem:"list-item",content:t.json()}:void 0})}(),function(){n.match("menu__list-item",function(t){t.tag("li")})}(),function(){n.match("user2",function(t,e){var i="undefined"!=typeof window?window.location:{},r=n.lib.services,s=e.accountAttributes||{},o=s.has_plus||s.plus_available&&!1,a={uid:e.hasOwnProperty("uid")?e.uid:!1,yu:e.yu,plus:o,retpath:e.hasOwnProperty("retpath")?e.retpath:i.href||"",name:e.hasOwnProperty("name")?e.name:e.uid||!1,maxLength:e.maxLength,subname:e.subname,avatarId:e.hasOwnProperty("avatarId")?e.avatarId:"",passportHost:e.hasOwnProperty("passportHost")?e.passportHost:r.serviceUrl("passport"),userAccount:e.userAccount||{},avatarHost:e.avatarHost,passportLinkParams:e.passportLinkParams||""},c=e.accounts||[],u=e.mods.provider||"";e.mods&&e.mods["has-logout"]&&(c=c.map(function(t){return t.mods=t.mods||{},t.mods["has-logout"]="yes",t})),a.retpathEncoded=encodeURIComponent(a.retpath);var l=[a.passportHost,"/passport?mode=embeddedauth","&action=logout","&yu="+a.yu,"&uid="+a.uid,"&retpath="+a.retpathEncoded].join(""),d=e.yaplus===!1?e.hat:void 0,h=d&&(d.mods||{})["fetch-data"],p={action:"plus",plus:e.yaplus,elemMods:{hidden:d&&!h&&"yes"},plusLinkParams:e.plusLinkParams},m=e.actionsMenu?[].concat(e.actionsMenu).filter(function(e){return"plus"===e.action?(p=t.extend(p,e),!1):e}).filter(Boolean):[{action:"mail"}];t.tParam("user2Mods",t.mods()).tParam("params",a).tParam("exitUrl",l).tParam("unreadCount",e.unreadCount||0).js(t.extend({_uid:a.uid,_plus:a.plus,_retpath:a.retpath,_yu:a.yu,_passportHost:a.passportHost,_avatarHost:a.avatarHost,accountsUrl:r.serviceUrl("pass")+"/accounts"},t.js())).content([{elem:"current-account",name:a.name,maxLength:a.maxLength,unreadCount:e.unreadCount,avatarId:a.avatarId,avatarHost:a.avatarHost,provider:u,plus:o},{elem:"a11y-exit"},t.extend({elem:"popup",content:{block:"user2",elem:"menu",hat:d,plus:o,addAccount:e.addAccount,actionsMenu:void 0===e.yaplus?m:m.concat(p),multiAuthMenu:e.multiAuthMenu||[{action:"passport"},{action:"exit"}],settingsUrl:e.settingsUrl,helpUrl:e.helpUrl,accounts:c,avatarHost:e.avatarHost,provider:u}},e.popup)],void 0===t.content()),t.content({block:"user2",elem:"enter"},!e.uid)})}(),function(){n.match("i-ua",function(t){t.content([t.content(),{tag:!1,html:';document.documentElement.className+=" i-ua_orient_"+(window.innerWidth>window.innerHeight?"landscape":"portrait");'}],!0)})}(),function(){n.lib.services={_uri:{},serviceUrl:function(t,e){var i=n.lib.global;return t||(t=i.id),e||(e=i["content-region"]),this._uri[t](e)},serviceName:function(t){var e=n.lib.global;return n.lib.i18n("i-services",t||e.id)}},n.match("i-services__name",function(t,e){return n.lib.services.serviceName(e.id)}),n.match("i-services__url",function(t,e){return n.lib.services.serviceUrl(e.id,e.region)})}(),function(){n.lib.services.serviceUrl=function(t,e){var i=n.lib.global;if(!e){var r=i.tld;r.indexOf(".")>-1&&(r=r.split(".")[1]),e=r}return t||(t=i.id),this._uri[t](e)}}(),function(){n.lib.services._uri={404:function(t){switch(t){case"ua":return"http://404.yandex.ua";case"by":return"http://404.yandex.by";case"kz":return"http://404.yandex.kz";case"com":return"http://404.yandex.com";case"tr":return"http://404.yandex.com.tr";default:return"http://404.yandex.ru"}},adresa:function(){return"http://adresa.yandex.ru"},advertising:function(t){switch(t){case"ua":return"https://advertising.yandex.ua";case"by":return"https://advertising.yandex.by";case"kz":return"https://advertising.yandex.kz";case"com":return"https://advertising.yandex.com";case"tr":return"https://yandex.com.tr/adv";default:return"https://advertising.yandex.ru"}},afisha:function(t){switch(t){case"ua":return"https://afisha.yandex.ua";case"by":return"https://afisha.yandex.by";case"kz":return"https://afisha.yandex.kz";default:return"https://afisha.yandex.ru"}},all:function(t){switch(t){case"ua":return"//yandex.ua/all";case"by":return"//yandex.by/all";case"kz":return"//yandex.kz/all";case"com":return"//yandex.com/all";case"tr":return"//yandex.com.tr/all";default:return"//yandex.ru/all"}},api:function(t){switch(t){case"com":return"http://api.yandex.com";default:return"http://api.yandex.ru"}},appmetrica:function(t){switch(t){case"ua":return"https://appmetrica.yandex.ua";case"by":return"https://appmetrica.yandex.by";case"kz":return"https://appmetrica.yandex.kz";case"com":return"https://appmetrica.yandex.com";case"tr":return"https://appmetrica.yandex.com.tr";default:return"https://appmetrica.yandex.ru"}},appsearch:function(){return"//appsearch.yandex.ru"},audience:function(t){switch(t){case"ua":return"https://audience.yandex.ua";case"by":return"https://audience.yandex.by";case"kz":return"https://audience.yandex.kz";case"com":return"https://audience.yandex.com";case"tr":return"https://audience.yandex.com.tr";default:return"https://audience.yandex.ru"}},auto:function(t){switch(t){case"ua":return"https://auto.yandex.ua";default:return"https://auto.yandex.ru"}},autoru:function(){return"https://auto.ru"},avia:function(t){switch(t){case"ua":return"https://avia.yandex.ua";default:return"https://avia.yandex.ru"}},aziada:function(){return"http://aziada2011.yandex.kz"},ba:function(t){switch(t){case"ua":return"https://ba.yandex.ua";case"by":return"https://ba.yandex.by";case"kz":return"https://ba.yandex.kz";case"com":return"https://ba.yandex.com";default:return"https://ba.yandex.ru"}},backapv:function(){return"http://backapv.yandex.ru"},balance:function(){return"https://balance.yandex.ru"},bar:function(t){switch(t){case"ua":return"http://bar.yandex.ua";case"by":return"http://bar.yandex.by";case"kz":return"http://bar.yandex.kz";case"tr":return"http://bar.yandex.com.tr";default:return"http://bar.yandex.ru"}},"bar-ie":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},"bar-ie9":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},bayan:function(){return"http://bayan.yandex.ru"},blogs:function(t){switch(t){case"ua":return"https://blogs.yandex.ua";case"by":return"https://blogs.yandex.by";case"kz":return"https://blogs.yandex.kz";default:return"https://blogs.yandex.ru"}},books:function(){return"http://books.yandex.ru"},browser:function(t){switch(t){case"ua":return"https://browser.yandex.ua";case"by":return"https://browser.yandex.by";case"kz":return"https://browser.yandex.kz";case"com":return"https://browser.yandex.com";case"tr":return"https://browser.yandex.com.tr";default:return"https://browser.yandex.ru"}},calendar:function(){return"https://calendar.yandex.ru"},catalogwdgt:function(){return"https://www.yandex.ru/catalog"},chrome:function(){return"http://chrome.yandex.ru"},city:function(t){switch(t){case"ua":return"https://gorod.yandex.ua";case"by":return"https://gorod.yandex.by";case"kz":return"https://gorod.yandex.kz";case"com":return"https://city.yandex.com";case"tr":return"https://city.yandex.com.tr";default:return"https://gorod.yandex.ru"}},cityday:function(){return"http://cityday.yandex.ru"},clickhouse:function(){return"https://clickhouse.yandex/"},collection:function(){return"https://collection.yandex.ru"},commander:function(t){switch(t){case"ua":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"by":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"kz":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"com":return"https://yandex.ru/promo/commander/new?source=tableau_direct";case"tr":return"https://yandex.ru/promo/commander/new?source=tableau_direct";default:return"https://yandex.ru/promo/commander/new?source=tableau_direct"}},company:function(t){switch(t){case"com":return"https://company.yandex.com";case"tr":return"https://company.yandex.com.tr";default:return"https://company.yandex.ru"}},contest:function(t){switch(t){case"com":return"https://contest.yandex.com";default:return"https://contest.yandex.ru"}},delivery:function(){return"https://delivery.yandex.ru"},desktop:function(){return"http://desktop.yandex.ru"},direct:function(t){switch(t){case"ua":return"https://direct.yandex.ua";case"by":return"https://direct.yandex.by";case"kz":return"https://direct.yandex.kz";case"com":return"https://direct.yandex.com";case"tr":return"https://direct.yandex.com.tr";default:return"https://direct.yandex.ru"}},"direct-api":function(t){switch(t){case"ua":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"by":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"kz":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"com":return"https://tech.yandex.com/direct/?source=tableau_direct";case"tr":return"https://tech.yandex.com/direct/?source=tableau_direct";default:return"https://tech.yandex.ru/direct/?source=tableau_direct"}},"direct.market":function(){return"https://partner.market.yandex.ru/yandex.market/"},disk:function(t){switch(t){case"ua":return"https://disk.yandex.ua";case"by":return"https://disk.yandex.by";case"kz":return"https://disk.yandex.kz";
case"com":return"https://disk.yandex.com";case"tr":return"https://disk.yandex.com.tr";case"az":return"https://disk.yandex.az";case"il":return"https://disk.yandex.co.il";case"am":return"https://disk.yandex.com.am";case"ge":return"https://disk.yandex.com.ge";case"ee":return"https://disk.yandex.ee";case"fr":return"https://disk.yandex.fr";case"kg":return"https://disk.yandex.kg";case"lt":return"https://disk.yandex.lt";case"lv":return"https://disk.yandex.lv";case"md":return"https://disk.yandex.md";case"tj":return"https://disk.yandex.tj";case"tm":return"https://disk.yandex.tm";case"uz":return"https://disk.yandex.uz";default:return"https://disk.yandex.ru"}},display:function(t){switch(t){case"tr":return"https://display.yandex.com.tr";default:return"https://display.yandex.ru"}},ege:function(t){switch(t){case"ua":return"https://zno.yandex.ua";default:return"https://ege.yandex.ru"}},expert:function(){return"http://expert.yandex.ru"},feedback:function(t){switch(t){case"ua":return"http://feedback.yandex.ua";case"by":return"http://feedback.yandex.by";case"kz":return"http://feedback.yandex.kz";case"com":return"http://feedback.yandex.com";case"tr":return"http://contact.yandex.com.tr";default:return"http://feedback.yandex.ru"}},feedback2:function(t){switch(t){case"ua":return"//feedback2.yandex.ua";case"by":return"//feedback2.yandex.by";case"kz":return"//feedback2.yandex.kz";case"com":return"//feedback2.yandex.com";case"tr":return"//contact2.yandex.com.tr";default:return"//feedback2.yandex.ru"}},ff:function(){return"http://ff.yandex.ru"},fotki:function(){return"https://fotki.yandex.ru"},fresh:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},fx:function(t){switch(t){case"ua":return"https://fx.yandex.ua";case"tr":return"https://fx.yandex.com.tr";default:return"https://fx.yandex.ru"}},games:function(){return"http://games.yandex.ru"},geocontext:function(){return"https://geocontext.yandex.ru"},goroda:function(){return"http://goroda.yandex.ru"},help:function(t){switch(t){case"ua":return"https://help.yandex.ua";case"com":return"https://help.yandex.com";case"tr":return"https://yardim.yandex.com.tr";default:return"https://help.yandex.ru"}},i:function(){return"http://i.yandex.ru"},ie:function(t){switch(t){case"ua":return"https://ie.yandex.ua";case"tr":return"https://ie.yandex.com.tr";default:return"https://ie.yandex.ru"}},images:function(t){switch(t){case"ua":return"https://yandex.ua/images/";case"by":return"https://yandex.by/images/";case"kz":return"https://yandex.kz/images/";case"com":return"https://yandex.com/images/";case"tr":return"https://yandex.com.tr/gorsel/";case"az":return"https://yandex.az/images/";case"il":return"https://yandex.co.il/images/";case"am":return"https://yandex.com.am/images/";case"ge":return"https://yandex.com.ge/images/";case"ee":return"https://yandex.ee/images/";case"fr":return"https://yandex.fr/images/";case"kg":return"https://yandex.kg/images/";case"lt":return"https://yandex.lt/images/";case"lv":return"https://yandex.lv/images/";case"md":return"https://yandex.md/images/";case"tj":return"https://yandex.tj/images/";case"tm":return"https://yandex.tm/images/";case"uz":return"https://yandex.uz/images/";default:return"https://yandex.ru/images/"}},"images-com":function(){return"https://yandex.com/images/"},interests:function(){return"http://interests.yandex.ru"},internet:function(t){switch(t){case"com":return"//internet.yandex.com";case"tr":return"//internet.yandex.com.tr";default:return"//internet.yandex.ru"}},kassa:function(){return"https://kassa.yandex.ru"},keyboard:function(){return"http://www.yandex.ru/index_engl_qwerty.html"},kraski:function(){return"http://kraski.yandex.ru"},kuda:function(){return"http://kuda.yandex.ru"},large:function(){return"http://large.yandex.ru"},legal:function(t){switch(t){case"ua":return"https://yandex.ua/legal";case"com":return"https://yandex.com/legal";case"tr":return"https://yandex.com.tr/legal";default:return"https://yandex.ru/legal"}},lenta:function(){return"http://lenta.yandex.ru"},literacy:function(){return"https://literacy.yandex.ru"},local:function(){return"http://local.yandex.ru"},lost:function(){return"http://lost.yandex.ru"},love:function(){return"http://love.yandex.ru"},mail:function(t){switch(t){case"ua":return"https://mail.yandex.ua";case"by":return"https://mail.yandex.by";case"kz":return"https://mail.yandex.kz";case"com":return"https://mail.yandex.com";case"tr":return"https://mail.yandex.com.tr";case"az":return"https://mail.yandex.az";case"il":return"https://mail.yandex.co.il";case"am":return"https://mail.yandex.com.am";case"ge":return"https://mail.yandex.com.ge";case"ee":return"https://mail.yandex.ee";case"fr":return"https://mail.yandex.fr";case"kg":return"https://mail.yandex.kg";case"lt":return"https://mail.yandex.lt";case"lv":return"https://mail.yandex.lv";case"md":return"https://mail.yandex.md";case"tj":return"https://mail.yandex.tj";case"tm":return"https://mail.yandex.tm";case"uz":return"https://mail.yandex.uz";default:return"https://mail.yandex.ru"}},maps:function(t){switch(t){case"ua":return"https://yandex.ua/maps/";case"com":return"https://yandex.com/maps/";case"tr":return"https://yandex.com.tr/harita/";case"az":return"https://yandex.az/maps/";case"il":return"https://yandex.co.il/maps/";case"am":return"https://yandex.com.am/maps/";case"ge":return"https://yandex.com.ge/maps/";case"ee":return"https://yandex.ee/maps/";case"fr":return"https://yandex.fr/maps/";case"kg":return"https://yandex.kg/maps/";case"lt":return"https://yandex.lt/maps/";case"lv":return"https://yandex.lv/maps/";case"md":return"https://yandex.md/maps/";case"tj":return"https://yandex.tj/maps/";case"tm":return"https://yandex.tm/maps/";case"uz":return"https://yandex.uz/maps/";default:return"https://yandex.ru/maps/"}},"maps-com":function(){return"https://yandex.com/maps/"},"maps-wiki":function(){return"http://nk.yandex.ru"},market:function(t){switch(t){case"ua":return"https://market.yandex.ua";case"by":return"https://market.yandex.by";case"kz":return"https://market.yandex.kz";default:return"https://market.yandex.ru"}},"market.advertising":function(t){switch(t){case"com":return"https://yandex.com/adv/products/classified/market";default:return"https://yandex.ru/adv/products/classified/market"}},master:function(){return"https://master.yandex.ru"},metrika:function(t){switch(t){case"ua":return"https://metrika.yandex.ua";case"by":return"https://metrika.yandex.by";case"kz":return"https://metrika.yandex.kz";case"com":return"https://metrica.yandex.com";case"tr":return"https://metrica.yandex.com.tr";case"az":return"https://metrika.yandex.az";case"il":return"https://metrika.yandex.co.il";case"am":return"https://metrika.yandex.com.am";case"ge":return"https://metrika.yandex.com.ge";case"ee":return"https://metrika.yandex.ee";case"fr":return"https://metrika.yandex.fr";case"kg":return"https://metrika.yandex.kg";case"lt":return"https://metrika.yandex.lt";case"lv":return"https://metrika.yandex.lv";case"md":return"https://metrika.yandex.md";case"tj":return"https://metrika.yandex.tj";case"tm":return"https://metrika.yandex.tm";case"uz":return"https://metrika.yandex.uz";default:return"https://metrika.yandex.ru"}},metro:function(){return"https://metro.yandex.ru"},mobile:function(t){switch(t){case"ua":return"https://mobile.yandex.ua";case"tr":return"https://mobil.yandex.com.tr";default:return"https://mobile.yandex.ru"}},moikrug:function(){return"http://moikrug.ru"},money:function(){return"https://money.yandex.ru"},museums:function(){return"http://18.yandex.ru"},music:function(t){switch(t){case"ua":return"https://music.yandex.ua";case"by":return"https://music.yandex.by";case"kz":return"https://music.yandex.kz";default:return"https://music.yandex.ru"}},"music-partner":function(){return"http://music-partner.yandex.ru"},nahodki:function(t){switch(t){case"ua":return"https://nahodki.yandex.ua";case"kz":return"https://nahodki.yandex.kz";default:return"https://nahodki.yandex.ru"}},nano:function(){return"http://nano.yandex.ru"},news:function(t){switch(t){case"ua":return"https://news.yandex.ua";case"by":return"https://news.yandex.by";case"kz":return"https://news.yandex.kz";case"tr":return"https://haber.yandex.com.tr";case"az":return"https://news.yandex.az";case"il":return"https://news.yandex.co.il";case"am":return"https://news.yandex.com.am";case"ge":return"https://news.yandex.com.ge";case"ee":return"https://news.yandex.ee";case"fr":return"https://news.yandex.fr";case"kg":return"https://news.yandex.kg";case"lt":return"https://news.yandex.lt";case"lv":return"https://news.yandex.lv";case"md":return"https://news.yandex.md";case"tj":return"https://news.yandex.tj";case"tm":return"https://news.yandex.tm";case"uz":return"https://news.yandex.uz";default:return"https://news.yandex.ru"}},"news-com":function(){return"https://news.yandex.com"},notifications:function(t){switch(t){case"ua":return"https://notifications.yandex.ua";case"by":return"https://notifications.yandex.by";case"kz":return"https://notifications.yandex.kz";case"com":return"https://notifications.yandex.com";case"tr":return"https://notifications.yandex.com.tr";default:return"https://notifications.yandex.ru"}},oauth:function(t){switch(t){case"com":return"https://oauth.yandex.com";default:return"https://oauth.yandex.ru"}},online:function(){return"http://online.yandex.ru"},openid:function(){return"http://openid.yandex.ru"},opera:function(t){switch(t){case"tr":return"https://opera.yandex.com.tr";default:return"https://opera.yandex.ru"}},opinion:function(){return"http://opinion.yandex.ru"},partners:function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},"partners-en":function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},partnersearch:function(){return"http://yandex.ru"},pass:function(t){switch(t){case"ua":return"https://pass.yandex.ua";case"by":return"https://pass.yandex.by";case"kz":return"https://pass.yandex.kz";case"com":return"https://pass.yandex.com";case"tr":return"https://pass.yandex.com.tr";case"az":return"https://pass.yandex.az";case"il":return"https://pass.yandex.co.il";case"am":return"https://pass.yandex.com.am";case"ge":return"https://pass.yandex.com.ge";case"ee":return"https://pass.yandex.ee";case"fr":return"https://pass.yandex.fr";case"kg":return"https://pass.yandex.kg";case"lt":return"https://pass.yandex.lt";case"lv":return"https://pass.yandex.lv";case"md":return"https://pass.yandex.md";case"tj":return"https://pass.yandex.tj";case"tm":return"https://pass.yandex.tm";case"uz":return"https://pass.yandex.uz";default:return"https://pass.yandex.ru"}},passport:function(t){switch(t){case"ua":return"https://passport.yandex.ua";case"by":return"https://passport.yandex.by";case"kz":return"https://passport.yandex.kz";case"com":return"https://passport.yandex.com";case"tr":return"https://passport.yandex.com.tr";case"az":return"https://passport.yandex.az";case"il":return"https://passport.yandex.co.il";case"am":return"https://passport.yandex.com.am";case"ge":return"https://passport.yandex.com.ge";case"ee":return"https://passport.yandex.ee";case"fr":return"https://passport.yandex.fr";case"kg":return"https://passport.yandex.kg";case"lt":return"https://passport.yandex.lt";case"lv":return"https://passport.yandex.lv";case"md":return"https://passport.yandex.md";case"tj":return"https://passport.yandex.tj";case"tm":return"https://passport.yandex.tm";case"uz":return"https://passport.yandex.uz";default:return"https://passport.yandex.ru"}},pdd:function(){return"https://pdd.yandex.ru"},peoplesearch:function(t){switch(t){case"ua":return"http://people.yandex.ua";default:return"http://people.yandex.ru"}},perevod:function(){return"https://perevod.yandex.ru"},plus:function(){return"https://plus.yandex.ru"},probki:function(t){switch(t){case"ua":return"http://probki.yandex.ua";default:return"http://probki.yandex.ru"}},pulse:function(t){switch(t){case"ua":return"http://blogs.yandex.ua/pulse";case"by":return"http://blogs.yandex.by/pulse";case"kz":return"http://blogs.yandex.kz/pulse";default:return"http://blogs.yandex.ru/pulse"}},punto:function(){return"https://punto.yandex.ru"},pvo:function(){return"http://ask.yandex.ru"},rabota:function(t){switch(t){case"ua":return"https://rabota.yandex.ua";case"by":return"https://rabota.yandex.by";case"kz":return"https://rabota.yandex.kz";default:return"https://rabota.yandex.ru"}},radar:function(t){switch(t){case"ru":return"https://radar.metrika.yandex?lang=ru";case"com":return"https://radar.metrika.yandex?lang=en";case"tr":return"https://radar.metrika.yandex?lang=tr";default:return"https://radar.metrika.yandex"}},rasp:function(t){switch(t){case"ua":return"https://rasp.yandex.ua";case"by":return"https://rasp.yandex.by";case"kz":return"https://rasp.yandex.kz";case"tr":return"https://seferler.yandex.com.tr";default:return"https://rasp.yandex.ru"}},realty:function(t){switch(t){case"ua":return"https://realty.yandex.ua";case"by":return"https://realty.yandex.by";case"kz":return"https://realty.yandex.kz";default:return"https://realty.yandex.ru"}},referats:function(){return"https://referats.yandex.ru"},review:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},rk:function(){return"http://rk.yandex.ru"},root:function(){return"https://root.yandex.ru"},school:function(){return"http://school.yandex.ru"},search:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},serp:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},server:function(){return"http://company.yandex.ru/technology/server/"},shtrafi:function(){return"https://money.yandex.net/debts"},site:function(t){switch(t){case"ua":return"https://site.yandex.ua";case"tr":return"https://ozel.yandex.com.tr";default:return"https://site.yandex.ru"}},slovari:function(t){switch(t){case"ua":return"https://slovari.yandex.ua";case"by":return"https://slovari.yandex.by";case"kz":return"https://slovari.yandex.kz";default:return"https://slovari.yandex.ru"}},so:function(){return"http://so.yandex.ru"},social:function(t){switch(t){case"ua":return"https://social.yandex.ua";case"by":return"https://social.yandex.by";case"kz":return"https://social.yandex.kz";case"com":return"https://social.yandex.ru";case"tr":return"https://social.yandex.com.tr";default:return"https://social.yandex.ru"}},soft:function(t){switch(t){case"ua":return"https://soft.yandex.ua";case"tr":return"https://soft.yandex.com.tr";default:return"https://soft.yandex.ru"}},sport:function(t){switch(t){case"ua":return"http://sport.yandex.ua";case"by":return"http://sport.yandex.by";case"kz":return"http://sport.yandex.kz";case"tr":return"http://spor.yandex.com.tr";default:return"http://sport.yandex.ru"}},sprav:function(t){switch(t){case"ua":return"https://yandex.ru/sprav";case"by":return"https://sprav.yandex.by";case"kz":return"https://sprav.yandex.kz";case"com":return"https://yandex.com/sprav";case"tr":return"https://rehber.yandex.com.tr";default:return"https://sprav.yandex.ru"}},start:function(t){switch(t){case"ua":return"https://help.yandex.ua/start/";case"com":return"https://help.yandex.com/start/";case"tr":return"https://yardim.yandex.com.tr/start";default:return"https://help.yandex.ru/start/"}},stat:function(t){switch(t){case"ua":return"https://stat.yandex.ua";case"by":return"https://stat.yandex.by";default:return"https://stat.yandex.ru"}},subs:function(){return"https://subs.yandex.ru"},support:function(t){switch(t){case"ua":return"https://yandex.ua/support/";case"by":return"https://yandex.by/support/";case"kz":return"https://yandex.kz/support/";case"com":return"https://yandex.com/support/";case"tr":return"https://yandex.com.tr/support/";default:return"https://yandex.ru/support/"}},surveys:function(){return"https://surveys.yandex.ru"},taxi:function(){return"https://taxi.yandex.ru"},telephony:function(){return"https://telephony.yandex.ru/"},terms:function(){return"http://terms.yandex.ru"},tests:function(){return"http://tests.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},time:function(t){switch(t){case"ua":return"https://time.yandex.ua";case"by":return"https://time.yandex.by";case"kz":return"https://time.yandex.kz";case"com":return"https://time.yandex.com";case"tr":return"https://saat.yandex.com.tr";default:return"https://time.yandex.ru"}},toloka:function(t){switch(t){case"com":return"https://toloka.yandex.com";case"tr":return"https://toloka.yandex.com.tr";default:return"https://toloka.yandex.ru"}},toster:function(){return"http://toster.yandex.ru"},translate:function(t){switch(t){case"ua":return"https://translate.yandex.ua";case"by":return"https://translate.yandex.by";case"kz":return"https://translate.yandex.kz";case"com":return"https://translate.yandex.com";case"tr":return"https://ceviri.yandex.com.tr";case"az":return"https://translate.yandex.az";case"il":return"https://translate.yandex.co.il";case"am":return"https://translate.yandex.com.am";case"ge":return"https://translate.yandex.com.ge";case"ee":return"https://translate.yandex.ee";case"fr":return"https://translate.yandex.fr";case"kg":return"https://translate.yandex.kg";case"lt":return"https://translate.yandex.lt";case"lv":return"https://translate.yandex.lv";case"md":return"https://translate.yandex.md";case"tj":return"https://translate.yandex.tj";case"tm":return"https://translate.yandex.tm";case"uz":return"https://translate.yandex.uz";default:return"https://translate.yandex.ru"}},tune:function(t){switch(t){case"ua":return"https://yandex.ua/tune";case"by":return"https://yandex.by/tune";case"kz":return"https://yandex.kz/tune";case"com":return"https://yandex.com/tune";case"tr":return"https://yandex.com.tr/tune";case"uz":return"https://yandex.uz/tune";default:return"https://yandex.ru/tune"}},tv:function(t){switch(t){case"ua":return"https://tv.yandex.ua";case"by":return"https://tv.yandex.by";case"kz":return"https://tv.yandex.kz";default:return"https://tv.yandex.ru"}},uslugi:function(){return"http://uslugi.yandex.ru"},video:function(t){switch(t){case"ua":return"https://yandex.ua/video/";case"by":return"https://yandex.by/video/";case"kz":return"https://yandex.kz/video/";case"com":return"https://yandex.com/video/";case"tr":return"https://yandex.com.tr/video/";case"az":return"https://yandex.az/video/";case"il":return"https://yandex.co.il/video/";case"am":return"https://yandex.com.am/video/";case"ge":return"https://yandex.com.ge/video/";case"ee":return"https://yandex.ee/video/";case"fr":return"https://yandex.fr/video/";case"kg":return"https://yandex.kg/video/";case"lt":return"https://yandex.lt/video/";case"lv":return"https://yandex.lv/video/";case"md":return"https://yandex.md/video/";case"tj":return"https://yandex.tj/video/";case"tm":return"https://yandex.tm/video/";case"uz":return"https://yandex.uz/video/";default:return"https://yandex.ru/video/"}},"video-com":function(){return"https://yandex.com/video/"},vno:function(){return"https://zno.yandex.ua"},wdgt:function(t){switch(t){case"ua":return"https://wdgt.yandex.ua";case"by":return"https://wdgt.yandex.by";case"kz":return"https://wdgt.yandex.kz";case"tr":return"https://wdgt.yandex.com.tr";default:return"https://wdgt.yandex.ru"}},weather:function(t){switch(t){case"ua":return"https://pogoda.yandex.ua";case"by":return"https://pogoda.yandex.by";case"kz":return"https://pogoda.yandex.kz";case"tr":return"https://hava.yandex.com.tr";case"az":return"https://pogoda.yandex.az";case"il":return"https://pogoda.yandex.co.il";case"am":return"https://pogoda.yandex.com.am";case"ge":return"https://pogoda.yandex.com.ge";case"ee":return"https://pogoda.yandex.ee";case"fr":return"https://pogoda.yandex.fr";case"kg":return"https://pogoda.yandex.kg";case"lt":return"https://pogoda.yandex.lt";case"lv":return"https://pogoda.yandex.lv";case"md":return"https://pogoda.yandex.md";case"tj":return"https://pogoda.yandex.tj";case"tm":return"https://pogoda.yandex.tm";case"uz":return"https://pogoda.yandex.uz";default:return"https://pogoda.yandex.ru"}},webmaster:function(t){switch(t){case"ua":return"https://webmaster.yandex.ua";case"com":return"https://webmaster.yandex.com";case"tr":return"https://webmaster.yandex.com.tr";default:return"https://webmaster.yandex.ru"}},"webmaster-api":function(t){switch(t){case"com":return"https://tech.yandex.com/webmaster/";case"tr":return"https://tech.yandex.com/webmaster/";default:return"https://tech.yandex.ru/webmaster/"}},widgets:function(t){switch(t){case"ua":return"https://widgets.yandex.ua";case"by":return"https://widgets.yandex.by";case"kz":return"https://widgets.yandex.kz";case"tr":return"https://widgets.yandex.com.tr";default:return"https://widgets.yandex.ru"}},wordstat:function(){return"https://wordstat.yandex.ru"},wow:function(){return"http://my.ya.ru"},www:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},xmlsearch:function(t){switch(t){case"ua":return"https://xml.yandex.ua";case"by":return"https://xml.yandex.by";case"kz":return"https://xml.yandex.kz";case"com":return"https://xml.yandex.com";case"tr":return"https://xml.yandex.com.tr";default:return"https://xml.yandex.ru"}},yaca:function(t){switch(t){case"ua":return"https://yaca.yandex.ua";case"by":return"https://yaca.yandex.by";default:return"https://yaca.yandex.ru"}},yamb:function(){return"https://yamb.yandex.ru"},zakladki:function(){return"http://zakladki.yandex.ru"},znatoki:function(){return"https://yandex.ru/znatoki/"}}}(),function(){n.match("user2__enter",function(t){var e=n.lib.i18n("user2","enter"),i=t.tParam("params"),r=i.passportHost,s=i.retpathEncoded,o=r+"/auth?retpath="+s;return""!==i.passportLinkParams&&(o+="&"+i.passportLinkParams),{block:"button2",mods:{size:"m",theme:"pseudo",type:"link"},mix:{block:"user2",elem:"enter"},url:o,tabindex:"-1",iconLeft:{mix:{block:"user2",elem:"enter-icon"}},title:e,text:e}})}(),function(){n.match("button2",function(t,e){function i(e){return t.isSimple(e)||"object"==typeof e&&e.html&&e.tag===!1}var r=Boolean(t.mod("disabled"));void 0===e.mods.view&&t.mod("view","classic",!0),t.param("tabindex","0").tag("button").js({_tabindex:r?e.tabindex:void 0}).attrs({type:"button",autocomplete:"off",id:e.id,title:e.title,name:e.name,value:e.val,disabled:r,"aria-disabled":r&&"true",tabindex:!r&&e.tabindex}).tParam("_size",t.mod("size")),e.content||t.content([e.icon&&{elem:"icon",icon:e.icon},e.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:e.iconLeft},e.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:e.iconRight},void 0!==e.text&&(i(e.text)?{elem:"text",content:{tag:!1,html:n.xmlEscape(e.text)}}:t.extend({},e.text,{elem:"text"}))].filter(Boolean))})}(),function(){n.match("button2__text",function(t){t.tag("span")})}(),function(){n.match("button2__text",function(t){t.attr("tabindex","0")})}(),function(){n.match("button2__icon",function(t,e){var n=t.extend({},e.icon);return n.block="icon",n.mix=[{block:"button2",elem:"icon",elemMods:e.elemMods}].concat(n.mix||[]),n.mods=t.extend({size:t.tParam("_size")},n.mods),n})}(),function(){n.match("button2_type_link",function(t,e){var n=t.mods(),i=void 0!==e.url,r=Boolean(n.disabled),s=e.tabindex;void 0===s&&(s="0"),t.tag("a").js({_url:t.mod("disabled")?e.url:void 0}).attrs({target:e.target,autocomplete:void 0,type:void 0,href:t.mod("disabled")?void 0:e.url,disabled:void 0,tabindex:r?i&&-1:s});var o="_blank"===e.target,a=t.attr("rel")||"";o&&(a&&-1!==a.indexOf("noopener")||(a=a?a+=" noopener":"noopener",t.attr("rel",a,!0)))})}(),function(){n.match("user2__current-account",function(t,e){var i=e.avatarId!==!1&&"yes",r=t.tParam("params").passportHost;return""!==t.tParam("params").passportLinkParams&&(r+="?"+t.tParam("params").passportLinkParams),n.lib.util.mergeBemjson({block:"user-account",mix:{block:"user2",elem:"current-account",elemMods:e.elemMods},mods:{"has-ticker":i,"has-accent-letter":"yes",provider:e.provider},name:e.name,maxLength:e.maxLength,url:r,ticker:i?{count:e.unreadCount}:void 0,pic:e.avatarId===!1?void 0:{avatarId:e.avatarId,plus:e.plus},avatarHost:e.avatarHost},t.tParam("params").userAccount)})}(),function(){n.match("user-account_has-accent-letter_yes__name",function(t,e){var i=String(e.text);t.content([{elem:"accent-letter",tag:"span",content:{tag:!1,html:n.xmlEscape(i.charAt(0))}},{tag:!1,html:n.xmlEscape(i.slice(1))}],e.text&&!e.content)})}(),function(){n.match("user2__a11y-exit",function(t){var e=t.tParam("exitUrl");return""!==t.tParam("params").passportLinkParams&&(e+="&"+t.tParam("params").passportLinkParams),{block:"link",mods:{theme:"pseudo"},mix:[{block:"user2",elem:"a11y-exit"},{block:"a11y-hidden"}],attrs:{tabindex:"-1",accesskey:"x"},url:e,content:n.lib.i18n("user2","exit")}})}(),function(){n.match("user2__popup",function(t,e){var n=t.extend({directions:["bottom-right"],mainOffset:-46,secondaryOffset:-2},e);return n.mods={target:"anchor",theme:"normal",autoclosable:"yes",hiding:"yes"},n.block="popup2",n.mix=[{block:"user2",elem:"popup",elemMods:n.elemMods}].concat(n.mix||[]),delete n.elem,n})}(),function(){n.match("popup2",function(t,e){if(t.mod("view","classic").js({mainOffset:e.mainOffset,secondaryOffset:e.secondaryOffset,viewportOffset:e.viewportOffset,tailOffset:e.tailOffset,tailSize:e.tailSize,directions:e.directions,zIndexGroupLevel:e.zIndexGroupLevel}),e.hasTail){var n=[].concat(t.content());t.content([].concat({elem:"tail"},n),!0)}})}(),function(){n.match("popup2",function(t){t.applyBase(),"anchor"===t.mod("target")&&(t.mod("hiding","yes"),"yes"===t.mod("visible")&&t.mod("outside","yes"))})}(),function(){n.match("popup2_hiding_yes",function(t){"anchor"!==t.mod("target")&&t.mod("target","anchor",!0),t.applyBase()})}(),function(){n.match("user2__menu",function(t,e){var n=function(e){return[].concat.apply([],e.map(function(e){return e.items?n(e.items):(e.block="user2",e.elem="menu-item",e.action&&(e.elemMods=t.extend(e.elemMods,{action:e.action})),e)},this))}.bind(this),i=e.actionsMenu||[],r=e.multiAuthMenu||[],s=[].concat(i,r),o=t.tParam("params")||{};if(void 0!==e.hat){var a=e.hat;!a.banner&&(a.banner={}),a.banner.closeButtonMix={block:"user2",elem:"hat-closer"},t.tParam("hat",{block:"user2",elem:"menu-hat",content:a})}return{block:"menu",mix:[{block:"user2",elem:"menu",elemMods:e.elemMods}].concat(e.mix||[]),mods:t.extend({type:"navigation"},e.elemMods),attrs:e.attrs,content:[t.tParam("hat"),{block:"user2",elem:"menu-header",content:{block:"user-account",mods:{provider:e.provider},mix:{block:"user2",elem:"account"},plus:e.plus,name:o.name,maxLength:o.maxLength,subname:o.subname,pic:{avatarId:o.avatarId},avatarHost:e.avatarHost}},{block:"menu",elem:"group",content:n(s)},{block:"user2",mods:t.tParam("user2Mods"),elem:"multi-auth",elemMods:{},addAccount:e.addAccount,maxLength:o.maxLength,accounts:e.accounts,avatarHost:e.avatarHost,provider:e.provider},{block:"user2",elem:"menu-footer",settingsUrl:e.settingsUrl,helpUrl:e.helpUrl}]}})}(),function(){n.match("user2__menu-footer",function(t,e){t.content([{block:"button2",mods:{theme:"clear",size:"s",type:"link"},mix:{block:e.block,elem:"footer-link"},url:e.settingsUrl||n.lib.services.serviceUrl("tune"),text:n.lib.i18n("user2","settings")},{block:"button2",mods:{theme:"clear",size:"s",type:"link"},mix:{block:e.block,elem:"footer-link"},url:e.helpUrl||n.lib.services.serviceUrl("support"),text:n.lib.i18n("user2","help")}])})}(),function(){n.match("user2__multi-auth",function(t,e){t.content([{elem:"accounts",addAccount:e.addAccount,accounts:e.accounts,avatarHost:e.avatarHost,maxLength:e.maxLength,provider:e.provider},e.menu&&e.menu.length?{block:"menu",elem:"group",content:e.menu}:""])})}(),function(){n.match("menu__group",function(t,e){if(t.attr("role","group"),t.tParam("inMenuTypeNavigation")&&t.tag("ul"),e.title){var n=t.generateId();t.attr("aria-labelledby",n).content([{elem:"title",attrs:{id:n,"aria-hidden":"true"},content:e.title},t.content()],!0)}})}(),function(){n.match("menu_type_navigation",function(t){t.applyBase().tag("ul").tParam("inMenuTypeNavigation",!0)})}(),function(){n.match("menu__item_type_link",function(t,e){t.tag("a").attrs({role:"link",href:e.url,target:e.target})})}(),function(){n.match("spin2",function(t){t.mod("view","default").mod("tone","default")})}(),function(){n.match("user2__menu-item",function(t,e){var n=t.extend(e,{block:"menu",elem:"item"});return n.mix=[{block:"user2",elem:"menu-item",elemMods:{action:e.elemMods.action}}].concat(e.mix||[]),delete e.elemMods.action,n.content=e.content,n.elemMods=t.extend({type:"link"},e.elemMods),n.attrs=t.extend(n.attrs||{},{tabindex:0}),n})}(),function(){n.match("menu__text",function(t){t.tag("span")})}(),function(){n.match("user2__menu-item_action_disk",function(t,e){e.text=n.lib.i18n("user2","upload_files"),e.url=n.lib.services.serviceUrl("disk")+"?source=main-loginmenu"})}(),function(){n.match("user2__menu-item_action_edit-accounts",function(t,e){e.text=n.lib.i18n("user2","edit-accounts"),e.url=t.tParam("params").passportHost+"/auth?mode=edit&retpath="+t.tParam("params").retpathEncoded,""!==t.tParam("params").passportLinkParams&&(e.url+="&"+t.tParam("params").passportLinkParams)})}(),function(){n.match("user2__menu-item_action_exit",function(t,e){e.text=n.lib.i18n("user2","exit"),e.url=t.tParam("exitUrl"),""!==t.tParam("params").passportLinkParams&&(e.url+="&"+t.tParam("params").passportLinkParams)})}(),function(){n.match("user2__menu-item_action_mail-compose",function(t,e){e.text=n.lib.i18n("user2","mail_compose"),e.url=n.lib.services.serviceUrl("mail")+"/compose"})}(),function(){n.match("user2__menu-counter",function(t,e){t.param("params",{maxCount:e.maxCount||9999}),t.tag("span"),t.attr("role","alert");var n=t.param("params");
0===e.count&&t.mod("state","empty"),t.content(e.count>n.maxCount?n.maxCount:e.count)})}(),function(){n.match("user2__menu-item_action_mail",function(t,e){e.url=n.lib.services.serviceUrl("mail"),e.text=[n.lib.services.serviceName("mail"),{block:"user2",elem:"menu-counter",count:t.tParam("unreadCount")}]})}(),function(){n.match("user2__menu-item_action_passport",function(t,e){e.text=n.lib.i18n("user2","passport"),e.url=t.tParam("params").passportHost,""!==t.tParam("params").passportLinkParams&&(e.url+="?"+t.tParam("params").passportLinkParams)})}(),function(){n.match("user2__menu-item_action_settings",function(t,e){e.text=n.lib.i18n("user2","settings"),e.url=n.lib.services.serviceUrl("tune")})}(),function(){n.match("user2__menu-item_action_plus",function(t,e){var i=e.plus,r="string"==typeof e.plusLinkParams?e.plusLinkParams:"";e.url=n.lib.services.serviceUrl("plus")+r,i&&(e.url=n.lib.services.serviceUrl("passport")+"/profile/services",""!==t.tParam("params").passportLinkParams&&(e.url+="?"+t.tParam("params").passportLinkParams)),e.content=[{block:"menu",elem:"text",content:n.lib.i18n("user2",i?"ya_plus_on":"ya_plus")}]})}(),function(){n.match("user2__plus-badge",function(t){t.tag("span")})}(),function(){n.match("user2__accounts",function(t,e){function n(n){return{block:"menu",elem:"item",content:t.extend({mods:{provider:e.provider},avatarHost:e.avatarHost,maxLength:e.maxLength},n)}}t.content([{elem:"accounts-container",content:[].concat(e.accounts).map(n)},{block:"user2",elem:"add-account",account:e.addAccount}])})}(),function(){n.match("user2__add-account",function(t,e){var i=t.tParam("params").passportHost+"/auth?mode=add-user&retpath="+t.tParam("params").retpathEncoded;""!==t.tParam("params").passportLinkParams&&(i+="&"+t.tParam("params").passportLinkParams);var r=n.lib.util.mergeBemjson({block:"user-account",name:n.lib.i18n("user2","add-account"),url:i,mix:{block:"user2",elem:"add-account"}},e.account);return r.content=void 0!==r.content?r.content:[{elem:"pic"},{elem:"name",text:r.name}],{block:"menu",elem:"item",content:r}})}(),function(){n.match("suggest2__items",function(t){t.tag("ul")})}(),function(){n.match("suggest2-item",function(t){t.tag("li"),t.js(!0)}),n.match("suggest2-item__text",function(t,e){t.tag("span"),e.text?t.content(Array.isArray(e.text)?e.text.map(function(t){return"string"==typeof t?{tag:!1,html:n.xmlEscape(t)}:t},this):{tag:!1,html:n.xmlEscape(e.text)}):t.content(Array.isArray(e.content)?e.content.map(function(t){return"string"==typeof t?{tag:!1,html:n.xmlEscape(t)}:t},this):{tag:!1,html:n.xmlEscape(e.content)},!0)}),n.match("suggest2-item__fact",function(t){t.tag("span")})}(),function(){n.match("suggest2-item__link",function(t,e){t.tag("a"),t.attrs({href:e.url,target:e.target})})}(),function(){n.match("tooltip",function(t,e){t.mod("view","classic");var n=t.js()||{},i={target:"anchor",hiding:"yes",autoclosable:t.mods().autoclosable||"no",theme:"normal",view:t.mod("view")},r=n.to&&[].concat(n.to),s=void 0===n.mainOffset?n.offset:n.mainOffset;return r&&(r=r.map(function(t){return t.indexOf("-")<0&&(t+="-center"),t})),[{block:"popup2",mods:i,directions:r||["right-center","bottom-center","top-center","left-center"],mainOffset:s,secondaryOffset:n.secondaryOffset,tailOffset:n.tailOffset,zIndexGroupLevel:n.zIndexGroupLevel,mix:[{block:"tooltip",mods:t.mods()}].concat(t.mix()),content:[{block:"tooltip",elem:"backdrop",content:e.tail!==!1&&{block:"popup2",elem:"tail"}},{block:"tooltip",elem:"content",content:t.content()}]}]})}(),function(){n.match("tooltip_theme_promo",function(t){t.js({secondaryOffset:-30,tailOffset:30})})}(),function(){n.match("suggest2_theme_normal__content",function(t){t.tag("ul")})}(),function(){n.match("suggest2-item__highlight",function(t,e){t.tag("b"),t.bem(!1),t.content(n.xmlEscape(e.content))})}(),function(){n.match("suggest2__title",function(t,e){t.content([{elem:"a11y",content:BEM.I18N("suggest2","group")+": "},e.content],!0)})}(),function(){n.match("suggest2__a11y",function(t){t.tag("span")})}(),function(){n.match("suggest2-item__fact",function(t,e){e.color&&t.attr("style",";color:"+e.color+";"+(t.attr("style")||""),!0),t.content([{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},{tag:!1,html:n.xmlEscape(e.content)}],!0)})}(),function(){n.match("suggest2-item__bullet",function(t){t.tag("span"),t.attr("aria-hidden",!0)})}(),function(){n.match("suggest2-item_type_nav__fact",function(t,e){t.content(n.xmlEscape(e.content),!0)})}(),function(){n.match("suggest2-item_interact_link",function(t,e){t.content({elem:"link",url:e.url,target:e.target||"_blank",content:e.content},!0)}),n.match("suggest2-item_interact_link__text",function(t,e){("nav"===e.mods.type||"icon"===e.mods.type)&&t.mod("type","url")})}(),function(){n.match("suggest2-item_interact_link",function(t,e){var n=e.compareLocation,i=e.contains,r=e.isCompareTypeAddOnly,s=blocks.get("compare-cities-utils"),o=i?"remove":"add";t.tag("li"),t.content([{block:"suggest2-item",elem:"link",mods:!r&&{"with-compare":Boolean(n)},url:e.url,target:e.target||"_blank",content:e.content},n&&{block:"compare-cities-action",js:{location:n.location,name:n.name},attrs:{"data-id":JSON.stringify(n.location)},mods:{contains:i?"yes":"no","with-tooltip":!r&&"yes",kind:"list-action"},mix:{block:"suggest2-item",elem:"compare",mods:{type:r&&"full"}},content:{block:"icon",mods:{"list-action":o}},hash:s.getLocationHash(n.location)}],!0);var a=e.mods||{};-1!==["nav","icon"].indexOf(a.type)&&t.tParam("textUrl",!0),t.stop()})}(),function(){n.match("suggest2-item__text_type_title-url",function(t){t.tag("div")})}(),function(){n.match("suggest2-item__text_type_green-url",function(t){t.tag("div")})}(),function(){n.match("suggest2-item__icon",function(t,e){var n=BEM.blocks&&BEM.blocks["suggest2-detect"]&&BEM.blocks["suggest2-detect"],i=n&&n.isSupportInlineSVG(),r=i?"svg":"png";t.param("autoType")&&t.param(r,"//yastatic.net/suggest-flag-icons/icon."+t.param("autoType")+r,!0);var s=e.png&&e.svg?e[r]:e.svg||e.png;s&&t.attr("style",'background-image:url("'+s+'");'+(t.attr("style")||""),!0),t.tag("span")})}(),function(){n.match("suggest2-item__icon",function(t){t.mod("traffic")&&t.param("autoType","traffic."+t.mod("traffic")+".",!0)})}(),function(){n.match("suggest2-item__icon",function(t){if(t.mod("weather")){var e=t.mod("weather").replace("-","minus-").replace("+","plus-").replace(/_/g,"-");t.param("autoType","weather."+e+".",!0),t.mod("weather",e,!0)}})}()};n.lib.i18n=t.BEM.I18N;var r=!0;"object"==typeof modules?(modules.define("BH",[],function(e){n.lib.i18n=t.BEM.I18N,i(),e(n)}),modules.define("BEMHTML",["BH"],function(t){t(n)}),r=!1):"object"==typeof exports&&(i(),n.BEMHTML=n,module.exports=n,r=!1),r&&(n.lib.i18n=t.BEM.I18N,i(),t.BH=n,t.BEMHTML=n)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);var Blocks=function(){"use strict";function t(){this._methods={},this.lib={}}return t.prototype.declare=function(t,e){if(!t||"string"!=typeof t)throw new TypeError("Argument `name` must be a string");if(null===e||void 0===e)throw new TypeError("Argument `method` must not be Null or undefined");return this._methods[t]=e,this},t.prototype.decl=t.prototype.declare,t.prototype.has=function(t){if(!t||"string"!=typeof t)throw new TypeError("Argument `name` must be a string");return Boolean(this._methods[t])},t.prototype.get=function(t){if(!t||"string"!=typeof t)throw new TypeError("Argument `name` must be a string");var e=this._methods[t];if(!e)throw new Error("Priv method `"+t+"` was not declared");return e},t.prototype.exec=function(t){if(!t||"string"!=typeof t)throw new TypeError("Argument `name` must be a string");var e=this._methods[t];if(!e)throw new Error("Priv method `"+t+"` was not declared");var n,i=typeof e;if("function"!==i)throw n=["object","undefined"].indexOf(i),new TypeError("Can't exec priv method `"+t+"` because It's a"+(n?"n ":" ")+i+" not a function");var r=Array.prototype.slice.call(arguments,1);return e.apply(this,r)},t}();"undefined"!=typeof module&&(module.exports=Blocks);var blocks=new Blocks;blocks.declare("compare-notice",{getBlock:function(t,e){return e=e||{},{block:"compare-notice",mods:e.align_center&&{align_center:!0},js:{allowedActionTypes:e.allowedActionTypes},content:[{elem:"text"},t&&{block:"link",mods:{theme:"normal"},mix:{block:"button2",mods:{theme:"white"}},url:t,content:BEM.I18N("interface-desktop","compare-go")},{elem:"close",content:{block:"icon",mods:{close:!0,size:"24"}}}]}},getContent:function(t){var e,n;return"limit"===t.actionType?(e=BEM.I18N("interface-desktop","compare-restrict-message").replace("%n",t.limit),n=BEM.I18N("interface-desktop","compare-restrict-advice")):(e=BEM.I18N("interface-desktop","compare-"+t.actionType+"-result").replace("%s",t.name),n="remove"===t.actionType&&0===t.length?BEM.I18N("interface-common","compare-remove-result_empty"):BEM.I18N("interface-desktop","compare-list-length",{count:t.length}).replace("%n",t.length)),[{block:"compare-notice",elem:"message",content:e},{block:"compare-notice",elem:"comment",content:n}]}}),blocks.declare("climate-header-fixed",function(t,e){e=e||{};var n=[],i=[];n.push({elem:"wrapper",content:i});for(var r=0;r<t.length;r++){var s=t[r];s.dest&&(s.destOutsideWrapper?n.push(s.dest):i.push(s.dest))}var o={sources:t,trackVisibilityElemSelector:e.trackVisibilityElemSelector,offsetRightElemSelector:e.offsetRightElemSelector,isContentAlignCenter:e.isContentAlignCenter};return e.lazy||(o.live=!1),{block:"climate-header-fixed",js:o,offsetRightElemSelector:e.offsetRightElemSelector,mods:e.mods,content:n}}),blocks.declare("i-compare-cookie__core",{_DELIMITER:";",add:function(t,e){var n=this;n.toggle(t,e,!0)},remove:function(t,e){var n=this;n.toggle(t,e,!1)},toggle:function(t,e,n){var i=this,r=i._pack(e),s=i._split(t),o=s.indexOf(r);return o>-1?n!==!0&&s.splice(o,1):n!==!1&&s.push(r),s.join(i._DELIMITER)},contains:function(t,e){var n=this;return n._split(t).indexOf(n._pack(e))>-1},getLength:function(t){var e=this;return e._split(t).length},_pack:function(t){return"object"==typeof t?t.lat+","+t.lon:String(t)},_split:function(t){var e=this;return t?t.split(e._DELIMITER):[]}}),blocks.declare("i-compare-cookie",{_core:blocks.get("i-compare-cookie__core"),contains:function(t){var e=this;return e._core.contains(e._raw(),t)},_raw:function(){var t=blocks.options;return t.cookies[t.config.compare.cookies.cityList.name]}}),blocks.declare("compare-cities-utils",{getLocationHash:function(t,e,n){return t?t:"lat-"+String(e).replace(".","-")+"-lon-"+String(n).replace(".","-")}});