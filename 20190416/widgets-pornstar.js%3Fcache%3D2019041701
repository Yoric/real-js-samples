"undefined"!=typeof pornstarSuggestion&&$j("#suggestPornstarSubmit").on("click",function(){var t=$j("#suggestPornstarInput").tokenInput("get"),e=[];$j.each(t,function(t,n){e.push(n.name)}),$j.isEmptyObject(t[0])?$j("#suggestPornstarResult").html("You need to enter a pornstar's name").css("color","red").hide().fadeIn():$j.ajax({url:proposePornstarUrl,type:"POST",data:{pornstars:e},success:function(t){$j("#suggestPornstarResult").html("Thank you for your contribution. Pornstar names are added once enough different users submit the same pornstar name.").css("color","#65a611").hide().fadeIn(),$j("#suggestPornstarInput").tokenInput("clear"),$j("#suggestPornstarInput").blur(),$j(".token-input-dropdown").hide()}})}),head.ready(document,function(){"undefined"!=typeof pornstarSuggestion&&($j("#pornstar-box button.upVote").on("click",function(){var n=$j(this);$j.ajax({type:"POST",url:$j(this).data("suggestpornstar-url"),success:function(t){n.addClass("triggerUp").attr("disabled","disabled"),n.siblings().addClass("disableVote").attr("disabled","disabled")}})}),$j("#pornstar-box button.downVote").on("click",function(){var n=$j(this);$j.ajax({type:"POST",url:$j(this).data("suggestpornstar-url"),success:function(t){n.addClass("triggerDown").attr("disabled","disabled"),n.siblings().addClass("disableVote").attr("disabled","disabled")}})}),$j("#pornstar-box button.upVote").each(function(t,n){var a=$j(this),o=a.data("pornstarid"),e=$j.parseJSON(getCookieAdvanced("videoPornstarRated"));e&&$j.map(e,function(t,n){var e=t.split("|"),s=n.split(".");o==parseInt(e[1])&&1==parseInt(e[0])&&s[0]==$j("div.existingWrap").data("vid")&&(a.addClass("triggerUp").attr("disabled","disabled"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j("#pornstar-box button.downVote").each(function(t,n){var a=$j(this),o=a.data("pornstarid"),e=$j.parseJSON(getCookieAdvanced("videoPornstarRated"));e&&$j.map(e,function(t,n){var e=t.split("|"),s=n.split(".");o==parseInt(e[1])&&0==parseInt(e[0])&&s[0]==$j("div.existingWrap").data("vid")&&(a.addClass("triggerDown").attr("disabled","disabled"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j(".add-pornstar-btn-2").on("click",function(){ga("send","event","Watch Page","click","Add Pornstar"),$j("#pornstar-box").slideToggle()}),$j("#suggestPornstarInput").tokenInput(pornstarLiveUrl,{queryParam:"term",hintText:"Type in a Pornstar name",minChars:3,tokenLimit:10,preventDuplicates:!0,onResult:function(t){var e=$j("#token-input-suggestPornstarInput").val(),s=!1;if($j.each(t,function(t,n){n.name.toLowerCase()==e.toLowerCase()&&(s=!0)}),!s){if(e.match(sanicode))return!1;t.unshift({id:0,name:e})}return t}}),$j("#token-input-suggestPornstarInput").attr("placeholder",$j("#suggestPornstarInput").attr("placeholder")),$j(window).resize(function(t){$j(".token-input-dropdown").is(":visible")&&$j(".token-input-dropdown").position({my:"left top",at:"left bottom",of:".token-input-list"})})),$j("body").on("click",".subscribeButton button",function(t){t.preventDefault()}),$j(".psbox-link-container").on("mouseenter",function(t){t.stopPropagation()});var n,o,i=[],r=function(){$j(".js-hovered").addClass("display-none")};$j(".pstar-list-btn").mouseenter(function(){var e=$j(this),s=e.attr("data-id"),t=e.attr("data-login"),a=function(t){$j.ajax({type:"POST",url:"/pornstar/hover?id="+s,success:t})};n&&clearTimeout(n),o&&clearTimeout(o),i[s]&&1==t?(r(),e.children(".psbox-link-container").html(i[s]),e.children(".psbox-link-container").removeClass("display-none")):n=setTimeout(function(){a(function(t){if(r(),!e.children(".psbox-link-container").hasClass("js-hovered")){var n=parseInt(e.children(".psbox-link-container").css("width"))/2-parseInt(e.css("width"))/2;e.children(".psbox-link-container").css("left","-"+n+"px").html(t),e.children(".psbox-link-container").removeClass("display-none"),i[s]=e.children(".psbox-link-container").html()}e.children(".psbox-link-container").find(".buttonBase").on("click",function(){e.children(".psbox-link-container").hasClass("js-hovered")&&(o=setTimeout(function(){a(function(t){e.children(".psbox-link-container").find(".subscribers-count").html($j(t).find(".subscribers-count").text())})},500))}),e.find(".psbox-link-container").addClass("js-hovered")})},500)}).mouseleave(function(){$j(this).children(".psbox-link-container").removeClass("js-hovered"),$j(this).children(".psbox-link-container").addClass("display-none"),clearTimeout(o),clearTimeout(n)})});