(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{1020:function(t,e,n){"use strict";n(37),n(97);var o=n(5),r=n(1),c=Object(r.f)("cookie.key.dealerid"),l=new Date(Object(o.a)().add(60,"day").toDate()).toUTCString();e.a={data:function(){return{cookiekey:c,expires:l}},mounted:function(){var t=this,e=this.$route.query.dealerid,n=void 0===e?null:e;n&&/\d+/.test(n)&&n.length<=5&&(document.cookie="".concat(c,"=").concat(n,"; path=/; expires=").concat(l)),this.$matilda.init(this.positionId||null);var o=this.$route.hash;o&&o.match(/^#.+$/)&&this.$nextTick(function(){var e=o.replace(/^#/,"");document.getElementById(e)&&t.$scrollTo(o)})},asyncData:function(t){return{isMobile:t.userAgent.isMobile,isTablet:t.userAgent.isTablet,isYJApp:t.userAgent.isYJApp}},watchQuery:["is_approved"],layout:function(t){var e="pc-default";return t.userAgent.isMobile&&!t.userAgent.isTablet&&(e="sp-default"),e}}},1022:function(t,e,n){"use strict";n(60);var o={name:"tagText",props:{free:{type:Boolean,default:!1},salePointup:{type:Boolean,default:!1},sale:{type:Boolean,default:!1},pointup:{type:Boolean,default:!1},new:{type:Boolean,default:!1},completed:{type:Boolean,default:!1},premiumFree:{type:Boolean,default:!1},containFree:{type:Boolean,default:!1},deal:{type:Boolean,default:!1},closingSoon:{type:Boolean,default:!1},name:{type:String,default:"primary"},rate:{type:Number,default:0},isExpireNear:{type:Boolean,default:!1},set:{type:Boolean,default:!1},defaultUse:{type:Boolean,default:!1}}},r=n(3),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.free?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("無料")]):t.salePointup?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("割引&ポイント増量")]):t.sale?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v(t._s(t.rate)+"%OFF")]):t.pointup?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("ポイント"+t._s(t.rate)+"倍")]):this.new?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("New")]):t.completed?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("完結")]):t.premiumFree?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("プレミアム（無料）")]):t.containFree?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("無料あり")]):t.deal?n("span",{staticClass:"tagtxt tagtxt--primary"},[t._v("お得")]):t.closingSoon?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("もうすぐ終了")]):t.isExpireNear?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("失効間近")]):t.set?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("セット")]):t.defaultUse?n("span",{staticClass:"tagtxt tagtxt--info"},[t._v("通常利用")]):n("span",{class:"tagtxt tagtxt--"+t.name},[t._t("default")],2)},[],!1,null,null,null);e.a=component.exports},1023:function(t,e,n){"use strict";n(19);var o={name:"atoms-font-icon-sp",props:{name:{type:String,required:!0},icon:{type:Boolean,default:!0}},computed:{className:function(){var t=[];return t.push("font-".concat(this.name)),this.icon&&t.push("icon"),t}},methods:{clickIcon:function(){this.$emit("clicked")}}},r=n(3),component=Object(r.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("i",{class:this.className,on:{click:this.clickIcon}},[this._t("default")],2)},[],!1,null,null,null);e.a=component.exports},1029:function(t,e,n){"use strict";var o=n(38),r=n(1038),c={name:"cart-button",components:{fontIcon:o.a},props:{customClass:{type:String,default:""}},mixins:[r.a],computed:{btnClass:function(){return this.customClass?this.customClass:"btn btn--style-round"}}},l=n(3),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.btnClass,attrs:{"data-testid":"cart-button"},on:{click:t.onClickCart}},[t._t("icon",[n("font-icon",{attrs:{icon:"",name:"bag"}},[t._v("カゴ")]),t.isCartAdded?n("span",{staticClass:"cart"},[t._v("カゴを見る")]):t._e()]),t._t("default",null,{isCartAdded:t.isCartAdded}),t.isDisabledBalloon?t._e():n("span",{staticClass:"balloon",style:t.balloonStyle,attrs:{"data-testid":"balloon"}},[t._v("\n    "+t._s(t.balloonText)+"\n  ")])],2)},[],!1,null,null,null);e.a=component.exports},1031:function(t,e,n){"use strict";n(19),n(37),n(9);var o=n(2),r=(n(21),n(22),n(13),n(6)),c=n(1),l=n(7),d=n(112),f=n.n(d);e.a={computed:Object(r.a)({},Object(l.e)("user",["isPremium"]),Object(l.e)("settings",["regularTpointRate","premiumTpointRate"]),Object(l.e)({stateTargetDatetime:"targetDatetime"}),Object(l.c)("user/bookshelf",["purchaseBookCds"])),methods:{staticValue:c.p,bookImageUrl:function(t){var e=this.$cookie&&!!this.$cookie.get(Object(c.f)("cookie.key.adultCheckVerification"));return t.title.isAdult&&!e?Object(c.f)("url.image.noImage.adult"):Object(c.i)(this.preferentialGood(t).imageName,!0)},preferentialGood:function(t){return this.isPremium&&t.book.premiumGood?t.book.premiumGood:t.book.good},point:function(t){var e=this.preferentialGood(t).price,n=this.regularTpointRate||.01,o=e?parseInt(e*n):0;return o},campaignPoint:function(t){var e=this,n=t.book.campaignPoints,o=this.point(t),r=0;n.forEach(function(n){switch(n.rule){case Object(c.p)("POINT.RULE_TYPE.DOUBLE"):r+=n.point*o;break;case Object(c.p)("POINT.RULE_TYPE.PERCENT"):var l=e.preferentialGood(t).price;r+=l?Math.floor(l*n.point/100):0;break;case Object(c.p)("POINT.RULE_TYPE.ADD"):case Object(c.p)("POINT.RULE_TYPE.GIVE"):r+=n.point}});var l=this.premiumTpointRate;return r+o*l+o},campaignRating:function(t){var e=this.point(t),n=this.campaignPoint(t);return e?parseInt(n/e):1},isPointAnyTimes:function(t){var e=t.book.campaignPoints;return Array.isArray(e)&&e.length>0&&this.campaignRating(t)>1&&e.every(function(t){return t.rule===Object(c.p)("POINT.RULE_TYPE.DOUBLE")})},bookPurchased:function(t){var e=t.book.cd;return this.purchaseBookCds.includes(e)},goViewer:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(e,n){var o,r,l,d,base,h,m,v,code,_,C,y,k,x=this,E=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=E.length>2&&void 0!==E[2]?E[2]:null,r=null,l=function(t){var base=x.$router.options.base;/(\/complete)/.test(location.pathname)&&(t.from="complete");var e=f.a.stringify(t),n="".concat(base,"viewer?").concat(e);return/^(\/viewer|\/rd\/viewer)/.test(location.pathname)?(location.replace(n),!0):(location.href=n,!0)},!o){t.next=7;break}r=o,t.next=18;break;case 7:t.t0=n,t.next=t.t0===Object(c.p)("READ_TYPE.TRIAL")?10:t.t0===Object(c.p)("READ_TYPE.PURCHASED")?12:t.t0===Object(c.p)("READ_TYPE.FREE")?14:t.t0===Object(c.p)("READ_TYPE.RENTAL")?16:t.t0===Object(c.p)("READ_TYPE.SERIAL")?17:10;break;case 10:return r=e.trialBook.cd,t.abrupt("break",18);case 12:case 14:return r=e.book.cd,t.abrupt("break",18);case 16:case 17:return t.abrupt("break",18);case 18:if(r){t.next=20;break}return t.abrupt("return",!1);case 20:if(d=this.preferentialGood(e).isLoginRequired,/^\/rd\/viewer/.test(location.pathname)||n!==Object(c.p)("READ_TYPE.FREE")||!d){t.next=26;break}return base=this.$router.options.base,h=f.a.stringify({lgn:1,bookCd:r,rdtype:"web"}),location.href="".concat(base,"rd/viewer/free?").concat(h),t.abrupt("return",!0);case 26:return t.prev=26,t.next=29,this.$store.dispatch("bookshelf/connect");case 29:if(t.sent){t.next=34;break}throw new Error;case 34:return m={type:n,code:r},this.stateTargetDatetime&&(m.date=this.stateTargetDatetime),t.next=38,this.$store.dispatch("bookshelf/openBook",m);case 38:if(v=t.sent,code=v.code,_=v.session,C=v.reflow,y=v.extDrmUrl,_&&code&&null!=C){t.next=42;break}throw new Error;case 42:return t.next=44,this.$bookHistory.saveByPublicationCd(e.cd);case 44:if(!y){t.next=49;break}return location.href=y,t.abrupt("return",!0);case 49:return k={sessionid:_,bookid:code,reflow:C||"true"===C,titleid:e.title_id,type:n},t.abrupt("return",l(k));case 51:t.next=56;break;case 53:return t.prev=53,t.t1=t.catch(26),t.abrupt("return",l({errorCode:t.t1.code,errorType:t.t1.type||"Default"}));case 56:case"end":return t.stop()}},t,this,[[26,53]])}));return function(e,n){return t.apply(this,arguments)}}(),truncatedAuthor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36;return Object(c.r)(t.author,e-Object(c.b)("..."),"...")},truncatedTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,n=t.name;return Object(c.r)(n,e,"...")},truncatedTitleWithVolumeName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:36,o=t.title.name,r=t.volumeName;if(!o||!r||["T8","T9","T13"].includes(t.title.unificationMiddleGenreId))return this.truncatedTitle(t,e);var l=Object(c.r)(r,n,"..."),d=Object(c.b)("（".concat(l,"）"));return"".concat(Object(c.r)(o,e-d,"..."),"（").concat(l,"）")}}}},1035:function(t,e,n){var content=n(1057);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("546f5150",content,!0,{sourceMap:!1})},1038:function(t,e,n){"use strict";n(9);var o=n(2),r=n(6),c=n(7),l=n(1),d=Object(l.p)("CART.PUBLICATION_TYPE"),f=Object(l.p)("CART.BASKET_TYPE");e.a={props:{bookCds:{type:Array},isSetItem:{type:Boolean,default:!1},isDisabledBalloon:{type:Boolean,default:!1}},data:function(){return{balloonText:"",isCartAddable:!0}},computed:Object(r.a)({},Object(c.c)("cart",{_isCartAdded:"isCartAdded",_isCartAddable:"isCartAddable"}),{isCartAdded:function(){return this._isCartAdded(this.bookCds)},balloonStyle:function(){return{transitionProperty:"opacity",transitionDuration:"350ms",opacity:this.balloonText?1:0}}}),methods:Object(r.a)({},Object(c.b)("cart",["addCartItem"]),{onClickCart:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isCartAdded){t.next=3;break}return this.$router.push({path:"/cart"}),t.abrupt("return");case 3:if(this.balloonText="",e=this.bookCds.filter(function(t){return t}),this.isCartAddable=this._isCartAddable(e.length),t.prev=6,!this.isCartAddable){t.next=11;break}return n=e.map(function(t){return{bookCd:t,basketType:f.BASKET,publicationType:o.isSetItem?d.SET_PUBLICATION:d.PUBLICATION}}),t.next=11,this.addCartItem(n);case 11:this.showBalloon(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),this.$logger.warn.bind({fileName:"mixins/components/common/addCart.js",line:78})(t.t0);case 17:case"end":return t.stop()}},t,this,[[6,14]])}));return function(){return t.apply(this,arguments)}}(),showBalloon:function(){var t=this;if(!this.isDisabledBalloon){var text=this.isCartAddable?"カゴに追加されました":"カゴがいっぱいです";this.balloonText=text,setTimeout(function(){t.balloonText=""},2e3)}}})}},1053:function(t,e,n){"use strict";var o=n(1023),r=n(1038),c={name:"cart-button",components:{fontIcon:o.a},mixins:[r.a]},l=n(3),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticClass:"btn",attrs:{"data-testid":"cart-button"},on:{click:t.onClickCart}},[t._t("icon",[n("font-icon",{attrs:{name:"bag"}}),t.isCartAdded?n("span",{staticClass:"cart"},[t._v("カゴを見る")]):t._e()]),t.isDisabledBalloon?t._e():n("div",{staticClass:"balloon",style:t.balloonStyle,attrs:{"data-testid":"balloon"}},[t._v(t._s(t.balloonText))])],2),t._t("default",null,{isCartAdded:t.isCartAdded})],2)},[],!1,null,null,null);e.a=component.exports},1055:function(t,e,n){"use strict";var o=n(6),r=(n(60),n(7)),c=n(98),l=n(1029),d={components:{spriteIcon:c.a,cartButton:l.a},props:{bookCds:{type:Array,required:!0},price:{type:Number,required:!0},point:{type:Number,required:!0},campaignPoint:Number},data:function(){return{showedBalloon:!1}},computed:Object(o.a)({},Object(r.c)("cart",{_isCartAdded:"isCartAdded"}),{isCartAdded:function(){return this._isCartAdded(this.bookCds)}}),methods:{showBalloon:function(){this.isCartAdded||(this.showedBalloon=!0)},hideBalloon:function(){this.showedBalloon=!1}}},f=(n(1056),n(3)),component=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("cart-button",{attrs:{bookCds:t.bookCds},nativeOn:{mouseover:function(e){return t.showBalloon(e)},mouseleave:function(e){return t.hideBalloon(e)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showedBalloon,expression:"showedBalloon"}],staticClass:"balloon balloon--hover"},[t._v("\n    税込"+t._s(t.price)+"円\n    "),n("br"),t._v("\n    "+t._s(t.campaignPoint||t.point)+"pt\n  ")])])},[],!1,null,null,null);e.a=component.exports},1056:function(t,e,n){"use strict";var o=n(1035);n.n(o).a},1057:function(t,e,n){(t.exports=n(61)(!1)).push([t.i,".balloon{pointer-events:none}",""])},1061:function(t,e,n){"use strict";var o=n(1055),r=n(1029),c={mixins:[n(1031).a],props:{publication:{type:Object,required:!0},type:{type:String,default:"tile"},isCartOnly:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1}},components:{cartButtonWithPriceBalloon:o.a,cartButton:r.a}},l=n(3),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-item__actions"},[t.preferentialGood(t.publication).isBrowserFree?[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.FREE"))}}},["list"===t.type?[n("i",{staticClass:"icon font-read"},[t._v("読む")])]:t._e(),"list"===t.type?n("strong",[t._v("無料")]):n("strong",[t._v("無料で読む")])],2)]:t.bookPurchased(t.publication)?[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.PURCHASED"))}}},["tile"===t.type?[t._v("読む")]:[n("i",{staticClass:"icon font-read"},[t._v("読む")])]],2)]:[t.publication.trialBook&&!t.isCartOnly?[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.TRIAL"))}}},["tile"===t.type?[t._v("試し読み")]:[n("i",{staticClass:"icon font-read"},[t._v("試し読み")])]],2)]:t._e(),t.isReadOnly?t._e():["tile"===t.type?[n("cart-button-with-price-balloon",{attrs:{bookCds:[t.publication.book.cd],price:t.preferentialGood(t.publication).price||0,point:t.point(t.publication)||0,campaignPoint:t.campaignPoint(t.publication)}})]:[n("cart-button",{attrs:{bookCds:[t.publication.book.cd],isSetItem:t.publication.book.isSet}})]]]],2)},[],!1,null,null,null);e.a=component.exports},1062:function(t,e,n){"use strict";var o=n(1053),r={mixins:[n(1031).a],props:{publication:{type:Object,required:!0},type:{type:String,default:"tile"},isCartOnly:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1}},components:{cartButton:o.a}},c=n(3),component=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-item__actions"},[n("div",{staticClass:"flexbox"},[t.preferentialGood(t.publication).isBrowserFree?[n("div",{staticClass:"flexbox__item"},[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.FREE"))}}},["tile"===t.type?[n("strong",[t._v("無料で読む")])]:[n("i",{staticClass:"icon font-read"},[t._v("無料で読む")]),n("strong",[t._v("無料")])]],2)])]:t.bookPurchased(t.publication)?[n("div",{staticClass:"flexbox__item"},[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.PURCHASED"))}}},["tile"===t.type?[t._v("読む")]:[n("i",{staticClass:"icon font-read"},[t._v("読む")])]],2)])]:[t.publication.trialBook&&!t.isCartOnly?[n("div",{staticClass:"flexbox__item"},[n("a",{staticClass:"btn",on:{click:function(e){t.goViewer(t.publication,t.staticValue("READ_TYPE.TRIAL"))}}},["tile"===t.type?[t._v("試し読み")]:[n("i",{staticClass:"icon font-read"},[t._v("試し読み")])]],2)])]:t._e(),t.isReadOnly?t._e():[n("div",{staticClass:"flexbox__item"},[n("cart-button",{attrs:{bookCds:[t.publication.book.cd],isSetItem:t.publication.book.isSet}})],1)]]],2)])},[],!1,null,null,null);e.a=component.exports}}]);