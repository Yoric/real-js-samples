(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{"1wEQ":function(e,n,t){"use strict";var i;t.d(n,"a",function(){return i}),function(e){e.AUTO_HOST="auto-host",e.DROPS="drops",e.PERMISSIONS="permissions",e.RAIDS="raids",e.TEAMS="teams",e.SQUAD_STREAM="squad-stream",e.STREAM_PREFERENCES="stream-preferences",e.VIDEO_BANNER="video-banner",e.VIDEO_MODERATION="video-moderation",e.VIEWER_MILESTONES="viewer-milestones"}(i||(i={}))},IWck:function(e,n,t){"use strict";var i,a;t.d(n,"b",function(){return i}),t.d(n,"a",function(){return a}),function(e){e.DismissToken="token_dismissed",e.RedeemToken="token_redeemed",e.RequestEligibility="eligibility_requested",e.RequestToken="token_requested"}(i||(i={})),function(e){e.Click="clicked_manage_in_dashboards",e.Dismiss="dismissed"}(a||(a={}))},WkKR:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"d",function(){return o}),t.d(n,"b",function(){return c}),t.d(n,"e",function(){return l}),t.d(n,"c",function(){return d});var i=t("/7QA"),a=t("2xye"),s=t("IWck"),r=function(e){var n={action:s.b.DismissToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:null};i.p.track(a.SpadeEventType.NewChatterTokenStatus,n)},o=function(e){var n={action:s.b.RedeemToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:e.userMessage};i.p.track(a.SpadeEventType.NewChatterTokenStatus,n)},c=function(e){var n={action:s.b.RequestEligibility,channel_id:e.channelID,user_banner:null,user_message:null};i.p.track(a.SpadeEventType.NewChatterTokenStatus,n)},l=function(e){var n={action:s.b.RequestToken,channel_id:e.channelID,user_banner:e.bannerMessage,user_message:null};i.p.track(a.SpadeEventType.NewChatterTokenStatus,n)},d=function(e){var n={action:e.action,channel_id:e.channelID};i.p.track(a.SpadeEventType.NewChatterOnboardingInteraction,n)}},bDCY:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RitualsEnabled_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ritualsEnabled"},directives:[]}]}}]}}],loc:{start:0,end:153}};i.loc.source={body:'#import "twilight/features/chat/models/rituals-enabled-fragment.gql"\nquery RitualsEnabled_User($id: ID!) {\nchannel: user(id: $id) {\n...ritualsEnabled\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("pKQ0").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})),e.exports=i},pKQ0:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ritualsEnabled"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isRitualsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRitualsWhitelisted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};t.loc.source={body:"fragment ritualsEnabled on User {\nid\nsettings {\nisRitualsEnabled\nisRitualsWhitelisted\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},rg60:function(e,n,t){"use strict";t.r(n);var i=t("mrSG"),a=t("q1tI"),s=t("/MKj"),r=t("fvjX"),o=t("/7QA"),c=t("yR8l"),l=t("eDVu"),d=t("0Log"),u=t("/aPz"),m=t("kRBY"),p=t("IWck"),k=t("wo8Z"),b=t("bDCY"),h=t("WkKR"),f=t("1wEQ"),g=t("Jsra"),v=t("+80q"),E=t("sUnt"),S=t("Ws8v"),y=t("hnjF"),D=t("X2PJ"),R=t("7uM4"),_=t("7d/q"),O=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(n,e),n.prototype.render=function(){return a.createElement(S.a,{background:D.a.Base,color:D.c.Alt},a.createElement(E.a,{padding:{bottom:.5,top:1,x:1}},a.createElement(E.a,{margin:{bottom:.5}},a.createElement(v.a,{bold:!0,type:v.e.H5},Object(o.d)("Introducing: New Chatter Announcements!","RitualsOnboardingSticky"))),a.createElement(E.a,{margin:{bottom:.5}},a.createElement(v.a,{type:v.e.Span},Object(o.d)("New chatter announcements are now active in your channel, making it easier to welcome new people.","RitualsOnboardingSticky")),a.createElement(v.a,null,a.createElement(g.a,{onClick:this.props.onClick,to:{pathname:"/"+this.props.channelLogin+"/dashboard/settings",hash:"#"+f.a.VIEWER_MILESTONES},"data-test-selector":"rituals-sticky-link"},Object(o.d)("Manage in Dashboard","RitualsOnboardingSticky"))))),a.createElement(S.a,{alignItems:y.b.Center,background:D.a.Alt2,borderBottom:!0,color:D.c.Alt2,display:y.d.Flex,padding:{x:1,y:.5}},a.createElement(R.a,{asset:R.b.Lock,height:12,width:12}),a.createElement(E.a,{display:y.d.Inline,margin:{left:.5}},a.createElement(v.a,{fontSize:D.d.Size8,type:v.e.Span},Object(o.d)("You see this because you own this channel","RitualsOnboardingSticky")))),a.createElement(S.a,{attachRight:!0,attachTop:!0,padding:{x:.5,top:1},position:y.j.Absolute},a.createElement(_.a,{ariaLabel:Object(o.d)("Close","RitualsOnboardingSticky"),icon:R.b.Close,onClick:this.props.onDismiss,size:_.b.Small,type:_.c.Secondary,"data-test-selector":"rituals-sticky-dismiss-button"})))},n}(a.PureComponent),I="seenNewChatterAnnouncementSticky",N=function(e){function n(n){var t=e.call(this,n)||this;return t.state={isDismissed:!1},t.onClick=function(){Object(h.c)({action:p.a.Click,channelID:t.props.channelID})},t.onDismiss=function(){o.n.set(I,!0),t.setState({isDismissed:!0}),Object(h.c)({action:p.a.Dismiss,channelID:t.props.channelID})},t.state.isDismissed=o.n.get(I,!1),t}return i.__extends(n,e),n.prototype.render=function(){return!this.props.data||this.props.data.loading||this.props.data.error?null:this.props.data.channel&&this.props.data.channel.settings&&this.props.data.channel.settings.isRitualsEnabled?this.state.isDismissed?null:a.createElement(O,{channelLogin:this.props.channelLogin,onClick:this.onClick,onDismiss:this.onDismiss}):null},n}(a.Component);function T(e){return e.currentUserID!==e.channelID||!Object(k.a)()}var C=Object(r.compose)(Object(s.connect)(function(e){var n=Object(m.e)(e);return{currentUserID:n&&n.id}},null),Object(c.a)(b,{options:function(e){return{variables:{id:e.channelID}}},skip:T}),Object(l.a)(function(e){return{query:b,variables:{id:e.channelID},topic:Object(u.D)(e.channelID),type:d.PubsubMessageType.UpdatedChannelChatProperty,mutator:function(e,n){return n.channel.settings.isRitualsEnabled=e.data.is_rituals_enabled,n},skip:T(e)}}))(N);t.d(n,"RitualsOnboardingStickyContainer",function(){return N}),t.d(n,"RitualsOnboardingSticky",function(){return C})},wo8Z:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var i=t("/7QA"),a=function(){return i.n.get("ritualsFeatureFlagOverride",i.b.get("viewer_milestones_enabled",!1))}}}]);