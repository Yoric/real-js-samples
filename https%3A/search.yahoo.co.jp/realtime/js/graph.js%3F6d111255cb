if(!document.createElement("canvas").getContext){(function(){var aA=Math;var ao=aA.round;var ap=aA.sin;var ae=aA.cos;var aR=aA.abs;var aL=aA.sqrt;var aw=10;var au=aw/2;function af(){return this.context_||(this.context_=new Z(this))}var ak=Array.prototype.slice;function at(c,b,a){var d=ak.call(arguments,2);return function(){return c.apply(b,d.concat(ak.call(arguments)))}}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aH(a){if(!a.namespaces.g_vml_){a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML")}if(!a.namespaces.g_o_){a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML")}if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}aH(document);var av={init:function(b){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var a=b||document;a.createElement("canvas");a.attachEvent("onreadystatechange",at(this.init_,this,a))}},init_:function(a){var b=a.getElementsByTagName("canvas");for(var c=0;c<b.length;c++){this.initElement(b[c])}},initElement:function(a){if(!a.getContext){a.getContext=af;aH(a.ownerDocument);a.innerHTML="";a.attachEvent("onpropertychange",ag);a.attachEvent("onresize",aD);var b=a.attributes;if(b.width&&b.width.specified){a.style.width=b.width.nodeValue+"px"}else{a.width=a.clientWidth}if(b.height&&b.height.specified){a.style.height=b.height.nodeValue+"px"}else{a.height=a.clientHeight}}return a}};function ag(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect();b.style.width=b.attributes.width.nodeValue+"px";b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect();b.style.height=b.attributes.height.nodeValue+"px";b.firstChild.style.height=b.clientHeight+"px";break}}function aD(a){var b=a.srcElement;if(b.firstChild){b.firstChild.style.width=b.clientWidth+"px";b.firstChild.style.height=b.clientHeight+"px"}}av.init();var aq=[];for(var aa=0;aa<16;aa++){for(var ab=0;ab<16;ab++){aq[aa*16+ab]=aa.toString(16)+ab.toString(16)}}function ac(){return[[1,0,0],[0,1,0],[0,0,1]]}function aP(a,b){var d=ac();for(var g=0;g<3;g++){for(var c=0;c<3;c++){var f=0;for(var e=0;e<3;e++){f+=a[g][e]*b[e][c]}d[g][c]=f}}return d}function ai(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}var ay={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function aM(c){var a=c.indexOf("(",3);var d=c.indexOf(")",a+1);var b=c.substring(a+1,d).split(",");if(b.length==4&&c.substr(3,1)=="a"){alpha=Number(b[3])}else{b[3]=1}return b}function ax(a){return parseFloat(a)/100}function al(b,a,c){return Math.min(c,Math.max(a,b))}function aQ(d){var b,c,f;h=parseFloat(d[0])/360%360;if(h<0){h++}s=al(ax(d[1]),0,1);l=al(ax(d[2]),0,1);if(s==0){b=c=f=l}else{var a=l<0.5?l*(1+s):l+s-l*s;var e=2*l-a;b=az(e,a,h+1/3);c=az(e,a,h);f=az(e,a,h-1/3)}return"#"+aq[Math.floor(b*255)]+aq[Math.floor(c*255)]+aq[Math.floor(f*255)]}function az(b,c,a){if(a<0){a++}if(a>1){a--}if(6*a<1){return b+(c-b)*6*a}else{if(2*a<1){return c}else{if(3*a<2){return b+(c-b)*(2/3-a)*6}else{return b}}}}function j(f){var d,e=1;f=String(f);if(f.charAt(0)=="#"){d=f}else{if(/^rgb/.test(f)){var a=aM(f);var d="#",c;for(var b=0;b<3;b++){if(a[b].indexOf("%")!=-1){c=Math.floor(ax(a[b])*255)}else{c=Number(a[b])}d+=aq[al(c,0,255)]}e=a[3]}else{if(/^hsl/.test(f)){var a=aM(f);d=aQ(a);e=a[3]}else{d=ay[f]||f}}}return{color:d,alpha:e}}var an={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var aN={};function p(d){if(aN[d]){return aN[d]}var a=document.createElement("div");var b=a.style;try{b.font=d}catch(c){}return aN[d]={style:b.fontStyle||an.style,variant:b.fontVariant||an.variant,weight:b.fontWeight||an.weight,size:b.fontSize||an.size,family:b.fontFamily||an.family}}function aj(b,d){var f={};for(var c in b){f[c]=b[c]}var e=parseFloat(d.currentStyle.fontSize),a=parseFloat(b.size);if(typeof b.size=="number"){f.size=b.size}else{if(b.size.indexOf("px")!=-1){f.size=a}else{if(b.size.indexOf("em")!=-1){f.size=e*a}else{if(b.size.indexOf("%")!=-1){f.size=(e/100)*a}else{if(b.size.indexOf("pt")!=-1){f.size=a/0.75}else{f.size=e}}}}}f.size*=0.981;return f}function ad(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family}function aG(a){switch(a){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function Z(a){this.m_=ac();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=aw*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var am=Z.prototype;am.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};am.beginPath=function(){this.currentPath_=[]};am.moveTo=function(b,c){var a=this.getCoords_(b,c);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};am.lineTo=function(b,c){var a=this.getCoords_(b,c);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};am.bezierCurveTo=function(k,n,b,d,e,g){var a=this.getCoords_(e,g);var f=this.getCoords_(k,n);var c=this.getCoords_(b,d);aO(this,f,c,a)};function aO(d,a,b,c){d.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y});d.currentX_=c.x;d.currentY_=c.y}am.quadraticCurveTo=function(d,c,f,k){var e=this.getCoords_(d,c);var g=this.getCoords_(f,k);var b={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)};var a={x:b.x+(g.x-this.currentX_)/3,y:b.y+(g.y-this.currentY_)/3};aO(this,b,a,g)};am.arc=function(e,k,f,q,t,r){f*=aw;var u=r?"at":"wa";var d=e+ae(q)*f-au;var a=k+ap(q)*f-au;var c=e+ae(t)*f-au;var b=k+ap(t)*f-au;if(d==c&&!r){d+=0.125}var g=this.getCoords_(e,k);var n=this.getCoords_(d,a);var o=this.getCoords_(c,b);this.currentPath_.push({type:u,x:g.x,y:g.y,radius:f,xStart:n.x,yStart:n.y,xEnd:o.x,yEnd:o.y})};am.rect=function(b,c,d,a){this.moveTo(b,c);this.lineTo(b+d,c);this.lineTo(b+d,c+a);this.lineTo(b,c+a);this.closePath()};am.strokeRect=function(b,c,e,a){var d=this.currentPath_;this.beginPath();this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+a);this.lineTo(b,c+a);this.closePath();this.stroke();this.currentPath_=d};am.fillRect=function(b,c,e,a){var d=this.currentPath_;this.beginPath();this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+a);this.lineTo(b,c+a);this.closePath();this.fill();this.currentPath_=d};am.createLinearGradient=function(c,a,e,b){var d=new aE("gradient");d.x0_=c;d.y0_=a;d.x1_=e;d.y1_=b;return d};am.createRadialGradient=function(a,e,b,d,g,f){var c=new aE("gradientradial");c.x0_=a;c.y0_=e;c.r0_=b;c.x1_=d;c.y1_=g;c.r1_=f;return c};am.drawImage=function(q,E){var y,B,w,d,t,v,n,b;var x=q.runtimeStyle.width;var r=q.runtimeStyle.height;q.runtimeStyle.width="auto";q.runtimeStyle.height="auto";var A=q.width;var f=q.height;q.runtimeStyle.width=x;q.runtimeStyle.height=r;if(arguments.length==3){y=arguments[1];B=arguments[2];t=v=0;n=w=A;b=d=f}else{if(arguments.length==5){y=arguments[1];B=arguments[2];w=arguments[3];d=arguments[4];t=v=0;n=A;b=f}else{if(arguments.length==9){t=arguments[1];v=arguments[2];n=arguments[3];b=arguments[4];y=arguments[5];B=arguments[6];w=arguments[7];d=arguments[8]}else{throw Error("Invalid number of arguments")}}}var c=this.getCoords_(y,B);var D=n/2;var F=b/2;var e=[];var a=10;var C=10;e.push(" <g_vml_:group",' coordsize="',aw*a,",",aw*C,'"',' coordorigin="0,0"',' style="width:',a,"px;height:",C,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var z=[];z.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ao(c.x/aw),",","Dy=",ao(c.y/aw),"");var g=c;var k=this.getCoords_(y+w,B);var o=this.getCoords_(y,B+d);var u=this.getCoords_(y+w,B+d);g.x=aA.max(g.x,k.x,o.x,u.x);g.y=aA.max(g.y,k.y,o.y,u.y);e.push("padding:0 ",ao(g.x/aw),"px ",ao(g.y/aw),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",z.join(""),", sizingmethod='clip');")}else{e.push("top:",ao(c.y/aw),"px;left:",ao(c.x/aw),"px;")}e.push(' ">','<g_vml_:image src="',q.src,'"',' style="width:',aw*w,"px;"," height:",aw*d,'px"',' cropleft="',t/A,'"',' croptop="',v/f,'"',' cropright="',(A-t-n)/A,'"',' cropbottom="',(f-v-b)/f,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",e.join(""))};am.stroke=function(a){var k=10;var t=10;var q=5000;var n={x:null,y:null};var c={x:null,y:null};for(var g=0;g<this.currentPath_.length;g+=q){var d=[];var o=false;d.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',k,"px;height:",t,'px;"',' coordorigin="0,0"',' coordsize="',aw*k,",",aw*t,'"',' stroked="',!a,'"',' path="');var r=false;for(var f=g;f<Math.min(g+q,this.currentPath_.length);f++){if(f%q==0&&f>0){d.push(" m ",ao(this.currentPath_[f-1].x),",",ao(this.currentPath_[f-1].y))}var b=this.currentPath_[f];var e;switch(b.type){case"moveTo":e=b;d.push(" m ",ao(b.x),",",ao(b.y));break;case"lineTo":d.push(" l ",ao(b.x),",",ao(b.y));break;case"close":d.push(" x ");b=null;break;case"bezierCurveTo":d.push(" c ",ao(b.cp1x),",",ao(b.cp1y),",",ao(b.cp2x),",",ao(b.cp2y),",",ao(b.x),",",ao(b.y));break;case"at":case"wa":d.push(" ",b.type," ",ao(b.x-this.arcScaleX_*b.radius),",",ao(b.y-this.arcScaleY_*b.radius)," ",ao(b.x+this.arcScaleX_*b.radius),",",ao(b.y+this.arcScaleY_*b.radius)," ",ao(b.xStart),",",ao(b.yStart)," ",ao(b.xEnd),",",ao(b.yEnd));break}if(b){if(n.x==null||b.x<n.x){n.x=b.x}if(c.x==null||b.x>c.x){c.x=b.x}if(n.y==null||b.y<n.y){n.y=b.y}if(c.y==null||b.y>c.y){c.y=b.y}}}d.push(' ">');if(!a){ah(this,d)}else{aS(this,d,n,c)}d.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",d.join(""))}};function ah(b,d){var c=j(b.strokeStyle);var a=c.color;var f=c.alpha*b.globalAlpha;var e=b.lineScale_*b.lineWidth;if(e<1){f*=e}d.push("<g_vml_:stroke",' opacity="',f,'"',' joinstyle="',b.lineJoin,'"',' miterlimit="',b.miterLimit,'"',' endcap="',aG(b.lineCap),'"',' weight="',e,'px"',' color="',a,'" />')}function aS(M,d,o,L){var c=M.fillStyle;var B=M.arcScaleX_;var C=M.arcScaleY_;var f=L.x-o.x;var A=L.y-o.y;if(c instanceof aE){var P=0;var v={x:0,y:0};var G=0;var Q=1;if(c.type_=="gradient"){var a=c.x0_/B;var E=c.y0_/C;var b=c.x1_/B;var k=c.y1_/C;var q=M.getCoords_(a,E);var r=M.getCoords_(b,k);var g=r.x-q.x;var y=r.y-q.y;P=Math.atan2(g,y)*180/Math.PI;if(P<0){P+=360}if(P<0.000001){P=0}}else{var q=M.getCoords_(c.x0_,c.y0_);v={x:(q.x-o.x)/f,y:(q.y-o.y)/A};f/=B*aw;A/=C*aw;var x=aA.max(f,A);G=2*c.r0_/x;Q=2*c.r1_/x-G}var I=c.colors_;I.sort(function(R,S){return R.offset-S.offset});var N=I.length;var J=I[0].color;var K=I[N-1].color;var D=I[0].alpha*M.globalAlpha;var F=I[N-1].alpha*M.globalAlpha;var w=[];for(var t=0;t<N;t++){var O=I[t];w.push(O.offset*Q+G+" "+O.color)}d.push('<g_vml_:fill type="',c.type_,'"',' method="none" focus="100%"',' color="',J,'"',' color2="',K,'"',' colors="',w.join(","),'"',' opacity="',F,'"',' g_o_:opacity2="',D,'"',' angle="',P,'"',' focusposition="',v.x,",",v.y,'" />')}else{if(c instanceof aF){if(f&&A){var e=-o.x;var z=-o.y;d.push("<g_vml_:fill",' position="',e/f*B*B,",",z/A*C*C,'"',' type="tile"',' src="',c.src_,'" />')}}else{var n=j(M.fillStyle);var H=n.color;var u=n.alpha*M.globalAlpha;d.push('<g_vml_:fill color="',H,'" opacity="',u,'" />')}}}am.fill=function(){this.stroke(true)};am.closePath=function(){this.currentPath_.push({type:"close"})};am.getCoords_=function(a,b){var c=this.m_;return{x:aw*(a*c[0][0]+b*c[1][0]+c[2][0])-au,y:aw*(a*c[0][1]+b*c[1][1]+c[2][1])-au}};am.save=function(){var a={};ai(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=aP(ac(),this.m_)};am.restore=function(){if(this.aStack_.length){ai(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function ar(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function aB(b,d,a){if(!ar(d)){return}b.m_=d;if(a){var c=d[0][0]*d[1][1]-d[0][1]*d[1][0];b.lineScale_=aL(aR(c))}}am.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];aB(this,aP(c,this.m_),false)};am.rotate=function(c){var a=ae(c);var b=ap(c);var d=[[a,b,0],[-b,a,0],[0,0,1]];aB(this,aP(d,this.m_),false)};am.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];aB(this,aP(c,this.m_),true)};am.transform=function(g,a,d,e,c,f){var b=[[g,a,0],[d,e,0],[c,f,1]];aB(this,aP(b,this.m_),true)};am.setTransform=function(e,g,b,d,a,c){var f=[[e,g,0],[b,d,0],[a,c,1]];aB(this,f,true)};am.drawText_=function(n,q,r,f,t){var g=this.m_,c=1000,y=0,d=c,v={x:0,y:0},w=[];var a=aj(p(this.font),this.element_);var x=ad(a);var b=this.element_.currentStyle;var u=this.textAlign.toLowerCase();switch(u){case"left":case"center":case"right":break;case"end":u=b.direction=="ltr"?"right":"left";break;case"start":u=b.direction=="rtl"?"right":"left";break;default:u="left"}switch(this.textBaseline){case"hanging":case"top":v.y=a.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":v.y=-a.size/2.25;break}switch(u){case"right":y=c;d=0.05;break;case"center":y=d=c/2;break}var e=this.getCoords_(q+v.x,r+v.y);w.push('<g_vml_:line from="',-y,' 0" to="',d,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!t,'" stroked="',!!t,'" style="position:absolute;width:1px;height:1px;">');if(t){ah(this,w)}else{aS(this,w,{x:-y,y:0},{x:d,y:a.size})}var k=g[0][0].toFixed(3)+","+g[1][0].toFixed(3)+","+g[0][1].toFixed(3)+","+g[1][1].toFixed(3)+",0,0";var o=ao(e.x/aw)+","+ao(e.y/aw);w.push('<g_vml_:skew on="t" matrix="',k,'" ',' offset="',o,'" origin="',y,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',m(n),'" style="v-text-align:',u,";font:",m(x),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",w.join(""))};am.fillText=function(b,d,a,c){this.drawText_(b,d,a,c,false)};am.strokeText=function(b,d,a,c){this.drawText_(b,d,a,c,true)};am.measureText=function(a){if(!this.textMeasureEl_){var c='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",c);this.textMeasureEl_=this.element_.lastChild}var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};am.clip=function(){};am.arcTo=function(){};am.createPattern=function(a,b){return new aF(a,b)};function aE(a){this.type_=a;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}aE.prototype.addColorStop=function(a,b){b=j(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};function aF(a,b){aI(a);switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:aK("SYNTAX_ERR")}this.src_=a.src;this.width_=a.width;this.height_=a.height}function aK(a){throw new aJ(a)}function aI(a){if(!a||a.nodeType!=1||a.tagName!="IMG"){aK("TYPE_MISMATCH_ERR")}if(a.readyState!="complete"){aK("INVALID_STATE_ERR")}}function aJ(a){this.code=this[a];this.message=a+": DOM Exception "+this.code}var aC=aJ.prototype=new Error;aC.INDEX_SIZE_ERR=1;aC.DOMSTRING_SIZE_ERR=2;aC.HIERARCHY_REQUEST_ERR=3;aC.WRONG_DOCUMENT_ERR=4;aC.INVALID_CHARACTER_ERR=5;aC.NO_DATA_ALLOWED_ERR=6;aC.NO_MODIFICATION_ALLOWED_ERR=7;aC.NOT_FOUND_ERR=8;aC.NOT_SUPPORTED_ERR=9;aC.INUSE_ATTRIBUTE_ERR=10;aC.INVALID_STATE_ERR=11;aC.SYNTAX_ERR=12;aC.INVALID_MODIFICATION_ERR=13;aC.NAMESPACE_ERR=14;aC.INVALID_ACCESS_ERR=15;aC.VALIDATION_ERR=16;aC.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=av;CanvasRenderingContext2D=Z;CanvasGradient=aE;CanvasPattern=aF;DOMException=aJ})()}
/*
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(f,e){function g(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function j(a,o){var n=a.nodeName.toLowerCase();if("area"===n){var m=a.parentNode,k=m.name,d;if(!a.href||!k||m.nodeName.toLowerCase()!=="map"){return !1}d=f("img[usemap=#"+k+"]")[0];return !!d&&g(d)}return(/input|select|textarea|button|object/.test(n)?!a.disabled:"a"==n?a.href||o:o)&&g(a)}f.ui=f.ui||{};f.ui.version||(f.extend(f.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){f(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?f(document):a},zIndex:function(m){if(m!==e){return this.css("zIndex",m)}if(this.length){var k=f(this[0]),b,a;while(k.length&&k[0]!==document){b=k.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(k.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}k=k.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.each(["Width","Height"],function(o,n){function a(p,t,r,q){f.each(m,function(){t-=parseFloat(f.curCSS(p,"padding"+this,!0))||0,r&&(t-=parseFloat(f.curCSS(p,"border"+this+"Width",!0))||0),q&&(t-=parseFloat(f.curCSS(p,"margin"+this,!0))||0)});return t}var m=n==="Width"?["Left","Right"]:["Top","Bottom"],k=n.toLowerCase(),b={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+n]=function(d){if(d===e){return b["inner"+n].call(this)}return this.each(function(){f(this).css(k,a(this,d)+"px")})},f.fn["outer"+n]=function(d,p){if(typeof d!="number"){return b["outer"+n].call(this,d)}return this.each(function(){f(this).css(k,a(this,d,!0,p)+"px")})}}),f.extend(f.expr[":"],{data:function(a,m,k){return !!f.data(a,k[3])},focusable:function(a){return j(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var k=f.attr(a,"tabindex"),c=isNaN(k);return(c||k>=0)&&j(a,!c)}}),f(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));d.offsetHeight,f.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=d.offsetHeight===100,f.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),f.extend(f.ui,{plugin:{add:function(a,o,n){var m=f.ui[a].prototype;for(var k in n){m.plugins[k]=m.plugins[k]||[],m.plugins[k].push([o,n[k]])}},call:function(m,k,p){var o=m.plugins[k];if(!!o&&!!m.element[0].parentNode){for(var n=0;n<o.length;n++){m.options[o[n][0]]&&o[n][1].apply(m.element,p)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,n){if(f(a).css("overflow")==="hidden"){return !1}var m=n&&n==="left"?"scrollLeft":"scrollTop",k=!1;if(a[m]>0){return !0}a[m]=1,k=a[m]>0,a[m]=0;return k},isOverAxis:function(k,d,m){return k>d&&k<d+m},isOver:function(a,p,o,n,m,k){return f.ui.isOverAxis(a,o,m)&&f.ui.isOverAxis(p,n,k)}}))})(jQuery);
/*
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(f,e){if(f.cleanData){var j=f.cleanData;f.cleanData=function(a){for(var m=0,k;(k=a[m])!=null;m++){try{f(k).triggerHandler("remove")}catch(c){}}j(a)}}else{var g=f.fn.remove;f.fn.remove=function(a,d){return this.each(function(){d||(!a||f.filter(a,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(c){}});return g.call(f(this),a,d)})}}f.widget=function(a,p,o){var n=a.split(".")[0],m;a=a.split(".")[1],m=n+"-"+a,o||(o=p,p=f.Widget),f.expr[":"][m]=function(b){return !!f.data(b,a)},f[n]=f[n]||{},f[n][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var k=new p;k.options=f.extend(!0,{},k.options),f[n][a].prototype=f.extend(!0,k,{namespace:n,widgetName:a,widgetEventPrefix:f[n][a].prototype.widgetEventPrefix||a,widgetBaseClass:m},o),f.widget.bridge(a,f[n][a])},f.widget.bridge=function(b,a){f.fn[b]=function(m){var k=typeof m=="string",d=Array.prototype.slice.call(arguments,1),c=this;m=!k&&d.length?f.extend.apply(null,[!0,m].concat(d)):m;if(k&&m.charAt(0)==="_"){return c}k?this.each(function(){var o=f.data(this,b),n=o&&f.isFunction(o[m])?o[m].apply(o,d):o;if(n!==o&&n!==e){c=n;return !1}}):this.each(function(){var n=f.data(this,b);n?n.option(m||{})._init():f.data(this,b,new a(m,this))});return c}},f.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,m){f.data(m,this.widgetName,this),this.element=f(m),this.options=f.extend(!0,{},this.options,this._getCreateOptions(),a);var k=this;this.element.bind("remove."+this.widgetName,function(){k.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(k,b){var a=k;if(arguments.length===0){return f.extend({},this.options)}if(typeof k=="string"){if(b===e){return this.options[k]}a={},a[k]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;f.each(a,function(k,c){d._setOption(k,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,p,o){var n,m,k=this.options[a];o=o||{},p=f.Event(p),p.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),p.target=this.element[0],m=p.originalEvent;if(m){for(n in m){n in p||(p[n]=m[n])}}this.element.trigger(p,o);return !(f.isFunction(k)&&k.call(this.element[0],p,o)===!1||p.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,d){var f=!1;e(document).mouseup(function(b){f=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var j=this,g=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){j.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return j._mouseMove(b)},this._mouseUpDelegate=function(b){return j._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})})(jQuery);
/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(e,d){var f=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,o=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),m="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=o.values&&o.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&o.values.length!==2&&(o.values=[o.values[0],o.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(o.range==="min"||o.range==="max"?" ui-slider-range-"+o.range:"")));for(var c=n.length;c<k;c+=1){j.push(m)}this.handles=n.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){o.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(g){e(this).data("index.ui-slider-handle",g)}),this.handles.keydown(function(u){var t=e(this).data("index.ui-slider-handle"),r,q,p,b;if(!a.options.disabled){switch(u.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:u.preventDefault();if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),r=a._start(u,t);if(r===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?q=p=a.values(t):q=p=a.value();switch(u.keyCode){case e.ui.keyCode.HOME:p=a._valueMin();break;case e.ui.keyCode.END:p=a._valueMax();break;case e.ui.keyCode.PAGE_UP:p=a._trimAlignValue(q+(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.PAGE_DOWN:p=a._trimAlignValue(q-(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(q===a._valueMax()){return}p=a._trimAlignValue(q+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(q===a._valueMin()){return}p=a._trimAlignValue(q-b)}a._slide(u,t,p)}}).keyup(function(g){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(g,b),a._change(g,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(w){var v=this.options,u,t,r,q,p,o,n,m,a;if(v.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:w.pageX,y:w.pageY},t=this._normValueFromMouse(u),r=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(g){var j=Math.abs(t-p.values(g));r>j&&(r=j,q=e(this),o=g)}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=e(this.handles[o])),n=this._start(w,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(w.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:w.pageX-m.left-q.width()/2,top:w.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,o,t),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(j){var g={x:j.pageX,y:j.pageY},k=this._normValueFromMouse(g);this._slide(j,this._handleIndex,k);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(j){var g,o,n,m,k;this.orientation==="horizontal"?(g=this.elementSize.width,o=j.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,o=j.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=o/g,n>1&&(n=1),n<0&&(n=0),this.orientation==="vertical"&&(n=1-n),m=this._valueMax()-this._valueMin(),k=this._valueMin()+n*m;return this._trimAlignValue(k)},_start:function(j,g){var k={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(g),k.values=this.values());return this._trigger("start",j,k)},_slide:function(j,g,o){var n,m,k;this.options.values&&this.options.values.length?(n=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&o>n||g===1&&o<n)&&(o=n),o!==this.values(g)&&(m=this.values(),m[g]=o,k=this._trigger("slide",j,{handle:this.handles[g],value:o,values:m}),n=this.values(g?0:1),k!==!1&&this.values(g,o,!0))):o!==this.value()&&(k=this._trigger("slide",j,{handle:this.handles[g],value:o}),k!==!1&&this.value(o))},_stop:function(j,g){var k={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(g),k.values=this.values()),this._trigger("stop",j,k)},_change:function(j,g){if(!this._keySliding&&!this._mouseSliding){var k={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(g),k.values=this.values()),this._trigger("change",j,k)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,m){var k,j,g;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(m),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}k=this.options.values,j=arguments[0];for(g=0;g<k.length;g+=1){k[g]=this._trimAlignValue(j[g]),this._change(null,g)}this._refreshValue()}},_setOption:function(a,k){var j,g=0;e.isArray(this.options.values)&&(g=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":k?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(j=0;j<g;j+=1){this._change(null,j)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(j){var g,m,k;if(arguments.length){g=this.options.values[j],g=this._trimAlignValue(g);return g}m=this.options.values.slice();for(k=0;k<m.length;k+=1){m[k]=this._trimAlignValue(m[k])}return m},_trimAlignValue:function(j){if(j<=this._valueMin()){return this._valueMin()}if(j>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,m=(j-this._valueMin())%g,k=j-m;Math.abs(m)*2>=g&&(k+=m>0?g:-g);return parseFloat(k.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var v=this.options.range,u=this.options,t=this,r=this._animateOff?!1:u.animate,q,p={},o,n,m,a;this.options.values&&this.options.values.length?this.handles.each(function(c,g){q=(t.values(c)-t._valueMin())/(t._valueMax()-t._valueMin())*100,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",e(this).stop(1,1)[r?"animate":"css"](p,u.animate),t.options.range===!0&&(t.orientation==="horizontal"?(c===0&&t.range.stop(1,1)[r?"animate":"css"]({left:q+"%"},u.animate),c===1&&t.range[r?"animate":"css"]({width:q-o+"%"},{queue:!1,duration:u.animate})):(c===0&&t.range.stop(1,1)[r?"animate":"css"]({bottom:q+"%"},u.animate),c===1&&t.range[r?"animate":"css"]({height:q-o+"%"},{queue:!1,duration:u.animate}))),o=q}):(n=this.value(),m=this._valueMin(),a=this._valueMax(),q=a!==m?(n-m)/(a-m)*100:0,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",this.handle.stop(1,1)[r?"animate":"css"](p,u.animate),v==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[r?"animate":"css"]({width:q+"%"},u.animate),v==="max"&&this.orientation==="horizontal"&&this.range[r?"animate":"css"]({width:100-q+"%"},{queue:!1,duration:u.animate}),v==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[r?"animate":"css"]({height:q+"%"},u.animate),v==="max"&&this.orientation==="vertical"&&this.range[r?"animate":"css"]({height:100-q+"%"},{queue:!1,duration:u.animate}))}}),e.extend(e.ui.slider,{version:"1.8.18"})})(jQuery);
/*
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(f){f.support.touch="ontouchend" in document;if(!f.support.touch){return}var m=f.ui.mouse.prototype,j=m._mouseInit,g;function k(c,b){if(c.originalEvent.touches.length>1){return}c.preventDefault();var a=c.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,true,true,window,1,a.screenX,a.screenY,a.clientX,a.clientY,false,false,false,false,0,null);c.target.dispatchEvent(d)}m._touchStart=function(a){var b=this;if(g||!b._mouseCapture(a.originalEvent.changedTouches[0])){return}g=true;b._touchMoved=false;k(a,"mouseover");k(a,"mousemove");k(a,"mousedown")};m._touchMove=function(a){if(!g){return}this._touchMoved=true;k(a,"mousemove")};m._touchEnd=function(a){if(!g){return}k(a,"mouseup");k(a,"mouseout");if(!this._touchMoved){k(a,"click")}g=false};m._mouseInit=function(){var a=this;a.element.bind("touchstart",f.proxy(a,"_touchStart")).bind("touchmove",f.proxy(a,"_touchMove")).bind("touchend",f.proxy(a,"_touchEnd"));j.call(a)}})(jQuery);
/*
 * Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(c){c.color={};c.color.make=function(k,j,a,b){var m={};m.r=k||0;m.g=j||0;m.b=a||0;m.a=b!=null?b:1;m.add=function(g,f){for(var e=0;e<g.length;++e){m[g.charAt(e)]+=f}return m.normalize()};m.scale=function(g,f){for(var e=0;e<g.length;++e){m[g.charAt(e)]*=f}return m.normalize()};m.toString=function(){if(m.a>=1){return"rgb("+[m.r,m.g,m.b].join(",")+")"}else{return"rgba("+[m.r,m.g,m.b,m.a].join(",")+")"}};m.normalize=function(){function e(g,n,f){return n<g?g:(n>f?f:n)}m.r=e(0,parseInt(m.r),255);m.g=e(0,parseInt(m.g),255);m.b=e(0,parseInt(m.b),255);m.a=e(0,m.a,1);return m};m.clone=function(){return c.color.make(m.r,m.b,m.g,m.a)};return m.normalize()};c.color.extract=function(b,a){var f;do{f=b.css(a).toLowerCase();if(f!=""&&f!="transparent"){break}b=b.parent()}while(!c.nodeName(b.get(0),"body"));if(f=="rgba(0, 0, 0, 0)"){f="transparent"}return c.color.parse(f)};c.color.parse=function(j){var g,a=c.color.make;if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(j)){return a(parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10))}if(g=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(j)){return a(parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10),parseFloat(g[4]))}if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(j)){return a(parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55)}if(g=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(j)){return a(parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55,parseFloat(g[4]))}if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(j)){return a(parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16))}if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(j)){return a(parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16))}var b=c.trim(j).toLowerCase();if(b=="transparent"){return a(255,255,255,0)}else{g=d[b]||[0,0,0];return a(g[0],g[1],g[2])}};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(f){function d(bk,bA,ba,bD){var a3=[],a5={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},bc=null,bF=null,b=null,be=null,bq=null,aI=[],bi=[],aH={left:0,right:0,top:0,bottom:0},bf=0,bb=0,aP=0,aB=0,by={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},bs=this;bs.setData=bz;bs.setupGrid=aE;bs.draw=aX;bs.getPlaceholder=function(){return bk};bs.getCanvas=function(){return bc};bs.getPlotOffset=function(){return aH};bs.width=function(){return aP};bs.height=function(){return aB};bs.offset=function(){var g=b.offset();g.left+=aH.left;g.top+=aH.top;return g};bs.getData=function(){return a3};bs.getAxes=function(){var g={},j;f.each(aI.concat(bi),function(m,k){if(k){g[k.direction+(k.n!=1?k.n:"")+"axis"]=k}});return g};bs.getXAxes=function(){return aI};bs.getYAxes=function(){return bi};bs.c2p=bn;bs.p2c=br;bs.getOptions=function(){return a5};bs.highlight=c;bs.unhighlight=a0;bs.triggerRedrawOverlay=aR;bs.pointOffset=function(g){return{left:parseInt(aI[bJ(g,"x")-1].p2c(+g.x)+aH.left),top:parseInt(bi[bJ(g,"y")-1].p2c(+g.y)+aH.top)}};bs.shutdown=bC;bs.resize=function(){bp();aQ(bc);aQ(bF)};bs.hooks=by;bh(bs);aU(ba);aW();bz(bA);aE();aX();bB();function bv(g,k){k=[bs].concat(k);for(var j=0;j<g.length;++j){g[j].apply(this,k)}}function bh(){for(var j=0;j<bD.length;++j){var g=bD[j];g.init(bs);if(g.options){f.extend(true,a5,g.options)}}}function aU(j){var k;f.extend(true,a5,j);if(a5.xaxis.color==null){a5.xaxis.color=a5.grid.color}if(a5.yaxis.color==null){a5.yaxis.color=a5.grid.color}if(a5.xaxis.tickColor==null){a5.xaxis.tickColor=a5.grid.tickColor}if(a5.yaxis.tickColor==null){a5.yaxis.tickColor=a5.grid.tickColor}if(a5.grid.borderColor==null){a5.grid.borderColor=a5.grid.color}if(a5.grid.tickColor==null){a5.grid.tickColor=f.color.parse(a5.grid.color).scale("a",0.22).toString()}for(k=0;k<Math.max(1,a5.xaxes.length);++k){a5.xaxes[k]=f.extend(true,{},a5.xaxis,a5.xaxes[k])}for(k=0;k<Math.max(1,a5.yaxes.length);++k){a5.yaxes[k]=f.extend(true,{},a5.yaxis,a5.yaxes[k])}if(a5.xaxis.noTicks&&a5.xaxis.ticks==null){a5.xaxis.ticks=a5.xaxis.noTicks}if(a5.yaxis.noTicks&&a5.yaxis.ticks==null){a5.yaxis.ticks=a5.yaxis.noTicks}if(a5.x2axis){a5.xaxes[1]=f.extend(true,{},a5.xaxis,a5.x2axis);a5.xaxes[1].position="top"}if(a5.y2axis){a5.yaxes[1]=f.extend(true,{},a5.yaxis,a5.y2axis);a5.yaxes[1].position="right"}if(a5.grid.coloredAreas){a5.grid.markings=a5.grid.coloredAreas}if(a5.grid.coloredAreasColor){a5.grid.markingsColor=a5.grid.coloredAreasColor}if(a5.lines){f.extend(true,a5.series.lines,a5.lines)}if(a5.points){f.extend(true,a5.series.points,a5.points)}if(a5.bars){f.extend(true,a5.series.bars,a5.bars)}if(a5.shadowSize!=null){a5.series.shadowSize=a5.shadowSize}for(k=0;k<a5.xaxes.length;++k){aY(aI,k+1).options=a5.xaxes[k]}for(k=0;k<a5.yaxes.length;++k){aY(bi,k+1).options=a5.yaxes[k]}for(var g in by){if(a5.hooks[g]&&a5.hooks[g].length){by[g]=by[g].concat(a5.hooks[g])}}bv(by.processOptions,[a5])}function bz(g){a3=aV(g);bg();a()}function aV(g){var k=[];for(var m=0;m<g.length;++m){var j=f.extend(true,{},a5.series);if(g[m].data!=null){j.data=g[m].data;delete g[m].data;f.extend(true,j,g[m]);g[m].data=j.data}else{j.data=g[m]}k.push(j)}return k}function bJ(j,g){var k=j[g+"axis"];if(typeof k=="object"){k=k.n}if(typeof k!="number"){k=1}return k}function aL(){return f.grep(aI.concat(bi),function(g){return g})}function bn(g){var k={},m,j;for(m=0;m<aI.length;++m){j=aI[m];if(j&&j.used){k["x"+j.n]=j.c2p(g.left)}}for(m=0;m<bi.length;++m){j=bi[m];if(j&&j.used){k["y"+j.n]=j.c2p(g.top)}}if(k.x1!==undefined){k.x=k.x1}if(k.y1!==undefined){k.y=k.y1}return k}function br(g){var k={},m,j,n;for(m=0;m<aI.length;++m){j=aI[m];if(j&&j.used){n="x"+j.n;if(g[n]==null&&j.n==1){n="x"}if(g[n]!=null){k.left=j.p2c(g[n]);break}}}for(m=0;m<bi.length;++m){j=bi[m];if(j&&j.used){n="y"+j.n;if(g[n]==null&&j.n==1){n="y"}if(g[n]!=null){k.top=j.p2c(g[n]);break}}}return k}function aY(g,j){if(!g[j-1]){g[j-1]={n:j,direction:g==aI?"x":"y",options:f.extend(true,{},g==aI?a5.xaxis:a5.yaxis)}}return g[j-1]}function bg(){var m;var u=a3.length,r=[],o=[];for(m=0;m<a3.length;++m){var g=a3[m].color;if(g!=null){--u;if(typeof g=="number"){o.push(g)}else{r.push(f.color.parse(a3[m].color))}}}for(m=0;m<o.length;++m){u=Math.max(u,o[m]+1)}var q=[],n=0;m=0;while(q.length<u){var j;if(a5.colors.length==m){j=f.color.make(100,100,100)}else{j=f.color.parse(a5.colors[m])}var p=n%2==1?-1:1;j.scale("rgb",1+p*Math.ceil(n/2)*0.2);q.push(j);++m;if(m>=a5.colors.length){m=0;++n}}var k=0,t;for(m=0;m<a3.length;++m){t=a3[m];if(t.color==null){t.color=q[k].toString();++k}else{if(typeof t.color=="number"){t.color=q[t.color].toString()}}if(t.lines.show==null){var v,w=true;for(v in t){if(t[v]&&t[v].show){w=false;break}}if(w){t.lines.show=true}}t.xaxis=aY(aI,bJ(t,"x"));t.yaxis=aY(bi,bJ(t,"y"))}}function a(){var v=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,I=Number.MAX_VALUE,o,q,r,w,G,A,p,u,C,D,H,J,k,y;function E(M,K,L){if(K<M.datamin&&K!=-I){M.datamin=K}if(L>M.datamax&&L!=I){M.datamax=L}}f.each(aL(),function(L,K){K.datamin=v;K.datamax=B;K.used=false});for(o=0;o<a3.length;++o){A=a3[o];A.datapoints={points:[]};bv(by.processRawData,[A,A.data,A.datapoints])}for(o=0;o<a3.length;++o){A=a3[o];var g=A.data,m=A.datapoints.format;if(!m){m=[];m.push({x:true,number:true,required:true});m.push({y:true,number:true,required:true});if(A.bars.show||(A.lines.show&&A.lines.fill)){m.push({y:true,number:true,required:false,defaultValue:0});if(A.bars.horizontal){delete m[m.length-1].y;m[m.length-1].x=true}}A.datapoints.format=m}if(A.datapoints.pointsize!=null){continue}A.datapoints.pointsize=m.length;u=A.datapoints.pointsize;p=A.datapoints.points;insertSteps=A.lines.show&&A.lines.steps;A.xaxis.used=A.yaxis.used=true;for(q=r=0;q<g.length;++q,r+=u){y=g[q];var F=y==null;if(!F){for(w=0;w<u;++w){J=y[w];k=m[w];if(k){if(k.number&&J!=null){J=+J;if(isNaN(J)){J=null}else{if(J==Infinity){J=I}else{if(J==-Infinity){J=-I}}}}if(J==null){if(k.required){F=true}if(k.defaultValue!=null){J=k.defaultValue}}}p[r+w]=J}}if(F){for(w=0;w<u;++w){J=p[r+w];if(J!=null){k=m[w];if(k.x){E(A.xaxis,J,J)}if(k.y){E(A.yaxis,J,J)}}p[r+w]=null}}else{if(insertSteps&&r>0&&p[r-u]!=null&&p[r-u]!=p[r]&&p[r-u+1]!=p[r+1]){for(w=0;w<u;++w){p[r+u+w]=p[r+w]}p[r+1]=p[r-u+1];r+=u}}}}for(o=0;o<a3.length;++o){A=a3[o];bv(by.processDatapoints,[A,A.datapoints])}for(o=0;o<a3.length;++o){A=a3[o];p=A.datapoints.points,u=A.datapoints.pointsize;var z=v,t=v,x=B,n=B;for(q=0;q<p.length;q+=u){if(p[q]==null){continue}for(w=0;w<u;++w){J=p[q+w];k=m[w];if(!k||J==I||J==-I){continue}if(k.x){if(J<z){z=J}if(J>x){x=J}}if(k.y){if(J<t){t=J}if(J>n){n=J}}}}if(A.bars.show){var j=A.bars.align=="left"?0:-A.bars.barWidth/2;if(A.bars.horizontal){t+=j;n+=j+A.bars.barWidth}else{z+=j;x+=j+A.bars.barWidth}}E(A.xaxis,z,x);E(A.yaxis,t,n)}f.each(aL(),function(L,K){if(K.datamin==v){K.datamin=null}if(K.datamax==B){K.datamax=null}})}function aO(k,j){var g=document.createElement("canvas");g.className=j;g.width=bf;g.height=bb;if(!k){f(g).css({position:"absolute",left:0,top:0})}f(g).appendTo(bk);if(!g.getContext){g=window.G_vmlCanvasManager.initElement(g)}g.getContext("2d").save();return g}function bp(){bf=bk.width();bb=bk.height();if(bf<=0||bb<=0){throw"Invalid dimensions for plot, width = "+bf+", height = "+bb}}function aQ(g){if(g.width!=bf){g.width=bf}if(g.height!=bb){g.height=bb}var j=g.getContext("2d");j.restore();j.save()}function aW(){var j,k=bk.children("canvas.base"),g=bk.children("canvas.overlay");if(k.length==0||g==0){bk.html("");bk.css({padding:0});if(bk.css("position")=="static"){bk.css("position","relative")}bp();bc=aO(true,"base");bF=aO(false,"overlay");j=false}else{bc=k.get(0);bF=g.get(0);j=true}be=bc.getContext("2d");bq=bF.getContext("2d");b=f([bF,bc]);if(j){bk.data("plot").shutdown();bs.resize();bq.clearRect(0,0,bf,bb);b.unbind();bk.children().not([bc,bF]).remove()}bk.data("plot",bs)}function bB(){if(a5.grid.hoverable){b.mousemove(bI);b.mouseleave(aM)}if(a5.grid.clickable){b.click(a2)}bv(by.bindEvents,[b])}function bC(){if(a7){clearTimeout(a7)}b.unbind("mousemove",bI);b.unbind("mouseleave",aM);b.unbind("click",a2);bv(by.shutdown,[b])}function aG(g){function n(p){return p}var j,o,m=g.options.transform||n,k=g.options.inverseTransform;if(g.direction=="x"){j=g.scale=aP/Math.abs(m(g.max)-m(g.min));o=Math.min(m(g.max),m(g.min))}else{j=g.scale=aB/Math.abs(m(g.max)-m(g.min));j=-j;o=Math.max(m(g.max),m(g.min))}if(m==n){g.p2c=function(p){return(p-o)*j}}else{g.p2c=function(p){return(m(p)-o)*j}}if(!k){g.c2p=function(p){return o+p/j}}else{g.c2p=function(p){return k(o+p/j)}}}function a8(p){var r=p.options,n,g=p.ticks||[],j=[],o,t=r.labelWidth,m=r.labelHeight,q;function k(u,v){return f('<div style="position:absolute;top:-10000px;'+v+'font-size:smaller"><div class="'+p.direction+"Axis "+p.direction+p.n+'Axis">'+u.join("")+"</div></div>").appendTo(bk)}if(p.direction=="x"){if(t==null){t=Math.floor(bf/(g.length>0?g.length:1))}if(m==null){j=[];for(n=0;n<g.length;++n){o=g[n].label;if(o){j.push('<div class="tickLabel" style="float:left;width:'+t+'px">'+o+"</div>")}}if(j.length>0){j.push('<div style="clear:left"></div>');q=k(j,"width:10000px;");m=q.height();q.remove()}}}else{if(t==null||m==null){for(n=0;n<g.length;++n){o=g[n].label;if(o){j.push('<div class="tickLabel">'+o+"</div>")}}if(j.length>0){q=k(j,"");if(t==null){t=q.children().width()}if(m==null){m=q.find("div.tickLabel").height()}q.remove()}}}if(t==null){t=0}if(m==null){m=0}p.labelWidth=t;p.labelHeight=m}function bm(p){var q=p.labelWidth,u=p.labelHeight,k=p.options.position,n=p.options.tickLength,m=a5.grid.axisMargin,g=a5.grid.labelMargin,v=p.direction=="x"?aI:bi,o;var r=f.grep(v,function(w){return w&&w.options.position==k&&w.reserveSpace});if(f.inArray(p,r)==r.length-1){m=0}if(n==null){n="full"}var j=f.grep(v,function(w){return w&&w.reserveSpace});var t=f.inArray(p,j)==0;if(!t&&n=="full"){n=5}if(!isNaN(+n)){g+=+n}if(p.direction=="x"){u+=g;if(k=="bottom"){aH.bottom+=u+m;p.box={top:bb-aH.bottom,height:u}}else{p.box={top:aH.top+m,height:u};aH.top+=u+m}}else{q+=g;if(k=="left"){p.box={left:aH.left+m,width:q};aH.left+=q+m}else{aH.right+=q+m;p.box={left:bf-aH.right,width:q}}}p.position=k;p.tickLength=n;p.box.padding=g;p.innermost=t}function aZ(g){if(g.direction=="x"){g.box.left=aH.left;g.box.width=aP}else{g.box.top=aH.top;g.box.height=aB}}function aE(){var k,g=aL();f.each(g,function(o,n){n.show=n.options.show;if(n.show==null){n.show=n.used}n.reserveSpace=n.show||n.options.reserveSpace;aK(n)});allocatedAxes=f.grep(g,function(n){return n.reserveSpace});aH.left=aH.right=aH.top=aH.bottom=0;if(a5.grid.show){f.each(allocatedAxes,function(o,n){a1(n);a4(n);bt(n,n.ticks);a8(n)});for(k=allocatedAxes.length-1;k>=0;--k){bm(allocatedAxes[k])}var j=a5.grid.minBorderMargin;if(j==null){j=0;for(k=0;k<a3.length;++k){j=Math.max(j,a3[k].points.radius+a3[k].points.lineWidth/2)}}for(var m in aH){aH[m]+=a5.grid.borderWidth;aH[m]=Math.max(j,aH[m])}}aP=bf-aH.left-aH.right;aB=bb-aH.bottom-aH.top;f.each(g,function(o,n){aG(n)});if(a5.grid.show){f.each(allocatedAxes,function(o,n){aZ(n)});aN()}aJ()}function aK(m){var k=m.options,n=+(k.min!=null?k.min:m.datamin),p=+(k.max!=null?k.max:m.datamax),g=p-n;if(g==0){var o=p==0?1:0.01;if(k.min==null){n-=o}if(k.max==null||k.min!=null){p+=o}}else{var j=k.autoscaleMargin;if(j!=null){if(k.min==null){n-=g*j;if(n<0&&m.datamin!=null&&m.datamin>=0){n=0}}if(k.max==null){p+=g*j;if(p>0&&m.datamax!=null&&m.datamax<=0){p=0}}}}m.min=n;m.max=p}function a1(y){var r=y.options;var x;if(typeof r.ticks=="number"&&r.ticks>0){x=r.ticks}else{x=0.3*Math.sqrt(y.direction=="x"?bf:bb)}var j=(y.max-y.min)/x,p,D,q,m,k,n,w;if(r.mode=="time"){var v={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var C=0;if(r.minTickSize!=null){if(typeof r.tickSize=="number"){C=r.tickSize}else{C=r.minTickSize[0]*v[r.minTickSize[1]]}}for(var k=0;k<u.length-1;++k){if(j<(u[k][0]*v[u[k][1]]+u[k+1][0]*v[u[k+1][1]])/2&&u[k][0]*v[u[k][1]]>=C){break}}p=u[k][0];q=u[k][1];if(q=="year"){n=Math.pow(10,Math.floor(Math.log(j/v.year)/Math.LN10));w=(j/v.year)/n;if(w<1.5){p=1}else{if(w<3){p=2}else{if(w<7.5){p=5}else{p=10}}}p*=n}y.tickSize=r.tickSize||[p,q];D=function(K){var F=[],H=K.tickSize[0],E=K.tickSize[1],G=new Date(K.min);var L=H*v[E];if(E=="second"){G.setUTCSeconds(e(G.getUTCSeconds(),H))}if(E=="minute"){G.setUTCMinutes(e(G.getUTCMinutes(),H))}if(E=="hour"){G.setUTCHours(e(G.getUTCHours(),H))}if(E=="month"){G.setUTCMonth(e(G.getUTCMonth(),H))}if(E=="year"){G.setUTCFullYear(e(G.getUTCFullYear(),H))}G.setUTCMilliseconds(0);if(L>=v.minute){G.setUTCSeconds(0)}if(L>=v.hour){G.setUTCMinutes(0)}if(L>=v.day){G.setUTCHours(0)}if(L>=v.day*4){G.setUTCDate(1)}if(L>=v.year){G.setUTCMonth(0)}var N=0,O=Number.NaN,J;do{J=O;O=G.getTime();F.push(O);if(E=="month"){if(H<1){G.setUTCDate(1);var M=G.getTime();G.setUTCMonth(G.getUTCMonth()+1);var I=G.getTime();G.setTime(O+N*v.hour+(I-M)*H);N=G.getUTCHours();G.setUTCHours(0)}else{G.setUTCMonth(G.getUTCMonth()+H)}}else{if(E=="year"){G.setUTCFullYear(G.getUTCFullYear()+H)}else{G.setTime(O+L)}}}while(O<K.max&&O!=J);return F};m=function(J,G){var E=new Date(J);if(r.timeformat!=null){return f.plot.formatDate(E,r.timeformat,r.monthNames)}var I=G.tickSize[0]*v[G.tickSize[1]];var H=G.max-G.min;var F=(r.twelveHourClock)?" %p":"";if(I<v.minute){fmt="%h:%M:%S"+F}else{if(I<v.day){if(H<2*v.day){fmt="%h:%M"+F}else{fmt="%b %d %h:%M"+F}}else{if(I<v.month){fmt="%b %d"}else{if(I<v.year){if(H<v.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return f.plot.formatDate(E,fmt,r.monthNames)}}else{var g=r.tickDecimals;var o=-Math.floor(Math.log(j)/Math.LN10);if(g!=null&&o>g){o=g}n=Math.pow(10,-o);w=j/n;if(w<1.5){p=1}else{if(w<3){p=2;if(w>2.25&&(g==null||o+1<=g)){p=2.5;++o}}else{if(w<7.5){p=5}else{p=10}}}p*=n;if(r.minTickSize!=null&&p<r.minTickSize){p=r.minTickSize}y.tickDecimals=Math.max(0,g!=null?g:o);y.tickSize=r.tickSize||p;D=function(H){var F=[];var E=e(H.min,H.tickSize),I=0,J=Number.NaN,G;do{G=J;J=E+I*H.tickSize;F.push(J);++I}while(J<H.max&&J!=G);return F};m=function(F,E){return F.toFixed(E.tickDecimals)}}if(r.alignTicksWithAxis!=null){var z=(y.direction=="x"?aI:bi)[r.alignTicksWithAxis-1];if(z&&z.used&&z!=y){var t=D(y);if(t.length>0){if(r.min==null){y.min=Math.min(y.min,t[0])}if(r.max==null&&t.length>1){y.max=Math.max(y.max,t[t.length-1])}}D=function(F){var E=[],H,G;for(G=0;G<z.ticks.length;++G){H=(z.ticks[G].v-z.min)/(z.max-z.min);H=F.min+H*(F.max-F.min);E.push(H)}return E};if(y.mode!="time"&&r.tickDecimals==null){var A=Math.max(0,-Math.floor(Math.log(j)/Math.LN10)+1),B=D(y);if(!(B.length>1&&/\..*0$/.test((B[1]-B[0]).toFixed(A)))){y.tickDecimals=A}}}}y.tickGenerator=D;if(f.isFunction(r.tickFormatter)){y.tickFormatter=function(F,E){return""+r.tickFormatter(F,E)}}else{y.tickFormatter=m}}function a4(k){var g=k.options.ticks,j=[];if(g==null||(typeof g=="number"&&g>0)){j=k.tickGenerator(k)}else{if(g){if(f.isFunction(g)){j=g({min:k.min,max:k.max})}else{j=g}}}var m,p;k.ticks=[];for(m=0;m<j.length;++m){var o=null;var n=j[m];if(typeof n=="object"){p=+n[0];if(n.length>1){o=n[1]}}else{p=+n}if(o==null){o=k.tickFormatter(p,k)}if(!isNaN(p)){k.ticks.push({v:p,label:o})}}}function bt(j,g){if(j.options.autoscaleMargin&&g.length>0){if(j.options.min==null){j.min=Math.min(j.min,g[0].v)}if(j.options.max==null&&g.length>1){j.max=Math.max(j.max,g[g.length-1].v)}}}function aX(){be.clearRect(0,0,bf,bb);var g=a5.grid;if(g.show&&g.backgroundColor){a6()}if(g.show&&!g.aboveData){bG()}for(var j=0;j<a3.length;++j){bv(by.drawSeries,[be,a3[j]]);aT(a3[j])}bv(by.draw,[be]);if(g.show&&g.aboveData){bG()}}function bl(p,q){var m,g,j,n,k=aL();for(i=0;i<k.length;++i){m=k[i];if(m.direction==q){n=q+m.n+"axis";if(!p[n]&&m.n==1){n=q+"axis"}if(p[n]){g=p[n].from;j=p[n].to;break}}}if(!p[n]){m=q=="x"?aI[0]:bi[0];g=p[q+"1"];j=p[q+"2"]}if(g!=null&&j!=null&&g>j){var o=g;g=j;j=o}return{from:g,to:j,axis:m}}function a6(){be.save();be.translate(aH.left,aH.top);be.fillStyle=bw(a5.grid.backgroundColor,aB,0,"rgba(255, 255, 255, 0)");be.fillRect(0,0,aP,aB);be.restore()}function bG(){var n;be.save();be.translate(aH.left,aH.top);var k=a5.grid.markings;if(k){if(f.isFunction(k)){var z=bs.getAxes();z.xmin=z.xaxis.min;z.xmax=z.xaxis.max;z.ymin=z.yaxis.min;z.ymax=z.yaxis.max;k=k(z)}for(n=0;n<k.length;++n){var p=k[n],q=bl(p,"x"),j=bl(p,"y");if(q.from==null){q.from=q.axis.min}if(q.to==null){q.to=q.axis.max}if(j.from==null){j.from=j.axis.min}if(j.to==null){j.to=j.axis.max}if(q.to<q.axis.min||q.from>q.axis.max||j.to<j.axis.min||j.from>j.axis.max){continue}q.from=Math.max(q.from,q.axis.min);q.to=Math.min(q.to,q.axis.max);j.from=Math.max(j.from,j.axis.min);j.to=Math.min(j.to,j.axis.max);if(q.from==q.to&&j.from==j.to){continue}q.from=q.axis.p2c(q.from);q.to=q.axis.p2c(q.to);j.from=j.axis.p2c(j.from);j.to=j.axis.p2c(j.to);if(q.from==q.to||j.from==j.to){be.beginPath();be.strokeStyle=p.color||a5.grid.markingsColor;be.lineWidth=p.lineWidth||a5.grid.markingsLineWidth;be.moveTo(q.from,j.from);be.lineTo(q.to,j.to);be.stroke()}else{be.fillStyle=p.color||a5.grid.markingsColor;be.fillRect(q.from,j.to,q.to-q.from,j.from-j.to)}}}var z=aL(),x=a5.grid.borderWidth;for(var o=0;o<z.length;++o){var r=z[o],m=r.box,t=r.tickLength,w,y,u,g;if(!r.show||r.ticks.length==0){continue}be.strokeStyle=r.options.tickColor||f.color.parse(r.options.color).scale("a",0.22).toString();be.lineWidth=1;if(r.direction=="x"){w=0;if(t=="full"){y=(r.position=="top"?0:aB)}else{y=m.top-aH.top+(r.position=="top"?m.height:0)}}else{y=0;if(t=="full"){w=(r.position=="left"?0:aP)}else{w=m.left-aH.left+(r.position=="left"?m.width:0)}}if(!r.innermost){be.beginPath();u=g=0;if(r.direction=="x"){u=aP}else{g=aB}if(be.lineWidth==1){w=Math.floor(w)+0.5;y=Math.floor(y)+0.5}be.moveTo(w,y);be.lineTo(w+u,y+g);be.stroke()}be.beginPath();for(n=0;n<r.ticks.length;++n){var v=r.ticks[n].v;u=g=0;if(v<r.min||v>r.max||(t=="full"&&x>0&&(v==r.min||v==r.max))){continue}if(r.direction=="x"){w=r.p2c(v);g=t=="full"?-aB:t;if(r.position=="top"){g=-g}}else{y=r.p2c(v);u=t=="full"?-aP:t;if(r.position=="left"){u=-u}}if(be.lineWidth==1){if(r.direction=="x"){w=Math.floor(w)+0.5}else{y=Math.floor(y)+0.5}}be.moveTo(w,y);be.lineTo(w+u,y+g)}be.stroke()}if(x){be.lineWidth=x;be.strokeStyle=a5.grid.borderColor;be.strokeRect(-x/2,-x/2,aP+x,aB+x)}be.restore()}function aN(){bk.find(".tickLabels").remove();var m=['<div class="tickLabels" style="font-size:smaller">'];var g=aL();for(var p=0;p<g.length;++p){var q=g[p],n=q.box;if(!q.show){continue}m.push('<div class="'+q.direction+"Axis "+q.direction+q.n+'Axis" style="color:'+q.options.color+'">');for(var o=0;o<q.ticks.length;++o){var k=q.ticks[o];if(!k.label||k.v<q.min||k.v>q.max){continue}var u={},j;if(q.direction=="x"){j="center";u.left=Math.round(aH.left+q.p2c(k.v)-q.labelWidth/2);if(q.position=="bottom"){u.top=n.top+n.padding}else{u.bottom=bb-(n.top+n.height-n.padding)}}else{u.top=Math.round(aH.top+q.p2c(k.v)-q.labelHeight/2);if(q.position=="left"){u.right=bf-(n.left+n.width-n.padding);j="right"}else{u.left=n.left+n.padding;j="left"}}u.width=q.labelWidth;var r=["position:absolute","text-align:"+j];for(var t in u){r.push(t+":"+u[t]+"px")}m.push('<div class="tickLabel" style="'+r.join(";")+'">'+k.label+"</div>")}m.push("</div>")}m.push("</div>");bk.append(m.join(""))}function aT(g){if(g.lines.show){bo(g)}if(g.bars.show){aS(g)}if(g.points.show){bu(g)}}function bo(m){function n(z,y,r,u,v){var t=z.points,q=z.pointsize,B=null,C=null;be.beginPath();for(var A=q;A<t.length;A+=q){var D=t[A-q],w=t[A-q+1],E=t[A],x=t[A+1];if(D==null||E==null){continue}if(w<=x&&w<v.min){if(x<v.min){continue}D=(v.min-w)/(x-w)*(E-D)+D;w=v.min}else{if(x<=w&&x<v.min){if(w<v.min){continue}E=(v.min-w)/(x-w)*(E-D)+D;x=v.min}}if(w>=x&&w>v.max){if(x>v.max){continue}D=(v.max-w)/(x-w)*(E-D)+D;w=v.max}else{if(x>=w&&x>v.max){if(w>v.max){continue}E=(v.max-w)/(x-w)*(E-D)+D;x=v.max}}if(D<=E&&D<u.min){if(E<u.min){continue}w=(u.min-D)/(E-D)*(x-w)+w;D=u.min}else{if(E<=D&&E<u.min){if(D<u.min){continue}x=(u.min-D)/(E-D)*(x-w)+w;E=u.min}}if(D>=E&&D>u.max){if(E>u.max){continue}w=(u.max-D)/(E-D)*(x-w)+w;D=u.max}else{if(E>=D&&E>u.max){if(D>u.max){continue}x=(u.max-D)/(E-D)*(x-w)+w;E=u.max}}if(D!=B||w!=C){be.moveTo(u.p2c(D)+y,v.p2c(w)+r)}B=E;C=x;be.lineTo(u.p2c(E)+y,v.p2c(x)+r)}be.stroke()}function k(I,A,B){var u=I.points,v=I.pointsize,D=Math.min(Math.max(0,B.min),B.max),t=0,w,x=false,E=1,F=0,z=0;while(true){if(v>0&&t>u.length+v){break}t+=v;var q=u[t-v],G=u[t-v+E],r=u[t],H=u[t+E];if(x){if(v>0&&q!=null&&r==null){z=t;v=-v;E=2;continue}if(v<0&&t==F+v){be.fill();x=false;v=-v;E=1;t=F=z+v;continue}}if(q==null||r==null){continue}if(q<=r&&q<A.min){if(r<A.min){continue}G=(A.min-q)/(r-q)*(H-G)+G;q=A.min}else{if(r<=q&&r<A.min){if(q<A.min){continue}H=(A.min-q)/(r-q)*(H-G)+G;r=A.min}}if(q>=r&&q>A.max){if(r>A.max){continue}G=(A.max-q)/(r-q)*(H-G)+G;q=A.max}else{if(r>=q&&r>A.max){if(q>A.max){continue}H=(A.max-q)/(r-q)*(H-G)+G;r=A.max}}if(!x){be.beginPath();be.moveTo(A.p2c(q),B.p2c(D));x=true}if(G>=B.max&&H>=B.max){be.lineTo(A.p2c(q),B.p2c(B.max));be.lineTo(A.p2c(r),B.p2c(B.max));continue}else{if(G<=B.min&&H<=B.min){be.lineTo(A.p2c(q),B.p2c(B.min));be.lineTo(A.p2c(r),B.p2c(B.min));continue}}var C=q,y=r;if(G<=H&&G<B.min&&H>=B.min){q=(B.min-G)/(H-G)*(r-q)+q;G=B.min}else{if(H<=G&&H<B.min&&G>=B.min){r=(B.min-G)/(H-G)*(r-q)+q;H=B.min}}if(G>=H&&G>B.max&&H<=B.max){q=(B.max-G)/(H-G)*(r-q)+q;G=B.max}else{if(H>=G&&H>B.max&&G<=B.max){r=(B.max-G)/(H-G)*(r-q)+q;H=B.max}}if(q!=C){be.lineTo(A.p2c(C),B.p2c(G))}be.lineTo(A.p2c(q),B.p2c(G));be.lineTo(A.p2c(r),B.p2c(H));if(r!=y){be.lineTo(A.p2c(r),B.p2c(H));be.lineTo(A.p2c(y),B.p2c(H))}}}be.save();be.translate(aH.left,aH.top);be.lineJoin="round";var j=m.lines.lineWidth,p=m.shadowSize;if(j>0&&p>0){be.lineWidth=p;be.strokeStyle="rgba(0,0,0,0.1)";var g=Math.PI/18;n(m.datapoints,Math.sin(g)*(j/2+p/2),Math.cos(g)*(j/2+p/2),m.xaxis,m.yaxis);be.lineWidth=p/2;n(m.datapoints,Math.sin(g)*(j/2+p/4),Math.cos(g)*(j/2+p/4),m.xaxis,m.yaxis)}be.lineWidth=j;be.strokeStyle=m.color;var o=bE(m.lines,m.color,0,aB);if(o){be.fillStyle=o;k(m.datapoints,m.xaxis,m.yaxis)}if(j>0){n(m.datapoints,0,0,m.xaxis,m.yaxis)}be.restore()}function bu(m){function g(A,B,t,D,v,u,x,q){var w=A.points,r=A.pointsize;for(var C=0;C<w.length;C+=r){var y=w[C],z=w[C+1];if(y==null||y<u.min||y>u.max||z<x.min||z>x.max){continue}be.beginPath();y=u.p2c(y);z=x.p2c(z)+D;if(q=="circle"){be.arc(y,z,B,0,v?Math.PI:Math.PI*2,false)}else{q(be,y,z,B,v)}be.closePath();if(t){be.fillStyle=t;be.fill()}be.stroke()}}be.save();be.translate(aH.left,aH.top);var j=m.points.lineWidth,o=m.shadowSize,p=m.points.radius,k=m.points.symbol;if(j>0&&o>0){var n=o/2;be.lineWidth=n;be.strokeStyle="rgba(0,0,0,0.1)";g(m.datapoints,p,null,n+n/2,true,m.xaxis,m.yaxis,k);be.strokeStyle="rgba(0,0,0,0.2)";g(m.datapoints,p,null,n/2,true,m.xaxis,m.yaxis,k)}be.lineWidth=j;be.strokeStyle=m.color;g(m.datapoints,p,bE(m.points,m.color),0,false,m.xaxis,m.yaxis,k);be.restore()}function bj(r,t,g,x,o,A,C,u,v,j,n,D){var B,k,w,p,z,E,q,y,m;if(n){y=E=q=true;z=false;B=g;k=r;p=t+x;w=t+o;if(k<B){m=k;k=B;B=m;z=true;E=false}}else{z=E=q=true;y=false;B=r+x;k=r+o;w=g;p=t;if(p<w){m=p;p=w;w=m;y=true;q=false}}if(k<u.min||B>u.max||p<v.min||w>v.max){return}if(B<u.min){B=u.min;z=false}if(k>u.max){k=u.max;E=false}if(w<v.min){w=v.min;y=false}if(p>v.max){p=v.max;q=false}B=u.p2c(B);w=v.p2c(w);k=u.p2c(k);p=v.p2c(p);if(C){j.beginPath();j.moveTo(B,w);j.lineTo(B,p);j.lineTo(k,p);j.lineTo(k,w);j.fillStyle=C(w,p);j.fill()}if(D>0&&(z||E||q||y)){j.beginPath();j.moveTo(B,w+A);if(z){j.lineTo(B,p+A)}else{j.moveTo(B,p+A)}if(q){j.lineTo(k,p+A)}else{j.moveTo(k,p+A)}if(E){j.lineTo(k,w+A)}else{j.moveTo(k,w+A)}if(y){j.lineTo(B,w+A)}else{j.moveTo(B,w+A)}j.stroke()}}function aS(j){function k(n,o,w,q,x,u,v){var t=n.points,r=n.pointsize;for(var p=0;p<t.length;p+=r){if(t[p]==null){continue}bj(t[p],t[p+1],t[p+2],o,w,q,x,u,v,be,j.bars.horizontal,j.bars.lineWidth)}}be.save();be.translate(aH.left,aH.top);be.lineWidth=j.bars.lineWidth;be.strokeStyle=j.color;var m=j.bars.align=="left"?0:-j.bars.barWidth/2;var g=j.bars.fill?function(o,n){return bE(j.bars,j.color,o,n)}:null;k(j.datapoints,m,m+j.bars.barWidth,0,g,j.xaxis,j.yaxis);be.restore()}function bE(m,o,n,j){var k=m.fill;if(!k){return null}if(m.fillColor){return bw(m.fillColor,n,j,o)}var g=f.color.parse(o);g.a=typeof k=="number"?k:0.4;g.normalize();return g.toString()}function aJ(){bk.find(".legend").remove();if(!a5.legend.show){return}var k=[],n=false,t=a5.legend.labelFormatter,u,g;for(var o=0;o<a3.length;++o){u=a3[o];g=u.label;if(!g){continue}if(o%a5.legend.noColumns==0){if(n){k.push("</tr>")}k.push("<tr>");n=true}if(t){g=t(g,u)}k.push('<td class="legendColorBox"><div style="border:1px solid '+a5.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+u.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+g+"</td>")}if(n){k.push("</tr>")}if(k.length==0){return}var v='<table style="font-size:smaller;color:'+a5.grid.color+'">'+k.join("")+"</table>";if(a5.legend.container!=null){f(a5.legend.container).html(v)}else{var j="",q=a5.legend.position,p=a5.legend.margin;if(p[0]==null){p=[p,p]}if(q.charAt(0)=="n"){j+="top:"+(p[1]+aH.top)+"px;"}else{if(q.charAt(0)=="s"){j+="bottom:"+(p[1]+aH.bottom)+"px;"}}if(q.charAt(1)=="e"){j+="right:"+(p[0]+aH.right)+"px;"}else{if(q.charAt(1)=="w"){j+="left:"+(p[0]+aH.left)+"px;"}}var w=f('<div class="legend">'+v.replace('style="','style="position:absolute;'+j+";")+"</div>").appendTo(bk);if(a5.legend.backgroundOpacity!=0){var m=a5.legend.backgroundColor;if(m==null){m=a5.grid.backgroundColor;if(m&&typeof m=="string"){m=f.color.parse(m)}else{m=f.color.extract(w,"background-color")}m.a=1;m=m.toString()}var r=w.children();f('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+j+"background-color:"+m+';"> </div>').prependTo(w).css("opacity",a5.legend.backgroundOpacity)}}}var bH=[],a7=null;function a9(B,D,G){var v=a5.grid.mouseActiveRadius,J=v*v+1,j=null,r=false,m,o;for(m=a3.length-1;m>=0;--m){if(!G(a3[m])){continue}var u=a3[m],C=u.xaxis,E=u.yaxis,n=u.datapoints.points,p=u.datapoints.pointsize,t=C.c2p(B),w=E.c2p(D),H=v/C.scale,I=v/E.scale;if(C.options.inverseTransform){H=Number.MAX_VALUE}if(E.options.inverseTransform){I=Number.MAX_VALUE}if(u.lines.show||u.points.show){for(o=0;o<n.length;o+=p){var z=n[o],A=n[o+1];if(z==null){continue}if(z-t>H||z-t<-H||A-w>I||A-w<-I){continue}var x=Math.abs(C.p2c(z)-B),y=Math.abs(E.p2c(A)-D),q=x*x+y*y;if(q<J){J=q;j=[m,o/p]}}}if(u.bars.show&&!j){var F=u.bars.align=="left"?0:-u.bars.barWidth/2,k=F+u.bars.barWidth;for(o=0;o<n.length;o+=p){var z=n[o],A=n[o+1],g=n[o+2];if(z==null){continue}if(a3[m].bars.horizontal?(t<=Math.max(g,z)&&t>=Math.min(g,z)&&w>=A+F&&w<=A+k):(t>=z+F&&t<=z+k&&w>=Math.min(g,A)&&w<=Math.max(g,A))){j=[m,o/p]}}}}if(j){m=j[0];o=j[1];p=a3[m].datapoints.pointsize;return{datapoint:a3[m].datapoints.points.slice(o*p,(o+1)*p),dataIndex:o,series:a3[m],seriesIndex:m}}return null}function bI(g){if(a5.grid.hoverable){aD("plothover",g,function(j){return j.hoverable!=false})}}function aM(g){if(a5.grid.hoverable){aD("plothover",g,function(j){return false})}}function a2(g){aD("plotclick",g,function(j){return j.clickable!=false})}function aD(q,r,p){var o=b.offset(),k=r.pageX-o.left-aH.left,n=r.pageY-o.top-aH.top,g=bn({left:k,top:n});g.pageX=r.pageX;g.pageY=r.pageY;var t=a9(k,n,p);if(t){t.pageX=parseInt(t.series.xaxis.p2c(t.datapoint[0])+o.left+aH.left);t.pageY=parseInt(t.series.yaxis.p2c(t.datapoint[1])+o.top+aH.top)}if(a5.grid.autoHighlight){for(var m=0;m<bH.length;++m){var j=bH[m];if(j.auto==q&&!(t&&j.series==t.series&&j.point[0]==t.datapoint[0]&&j.point[1]==t.datapoint[1])){a0(j.series,j.point)}}if(t){c(t.series,t.datapoint,q)}}bk.trigger(q,[g,t])}function aR(){if(!a7){a7=setTimeout(aF,30)}}function aF(){a7=null;bq.save();bq.clearRect(0,0,bf,bb);bq.translate(aH.left,aH.top);var g,j;for(g=0;g<bH.length;++g){j=bH[g];if(j.series.bars.show){aC(j.series,j.point)}else{bd(j.series,j.point)}}bq.restore();bv(by.drawOverlay,[bq])}function c(k,n,g){if(typeof k=="number"){k=a3[k]}if(typeof n=="number"){var j=k.datapoints.pointsize;n=k.datapoints.points.slice(j*n,j*(n+1))}var m=bx(k,n);if(m==-1){bH.push({series:k,point:n,auto:g});aR()}else{if(!g){bH[m].auto=false}}}function a0(g,k){if(g==null&&k==null){bH=[];aR()}if(typeof g=="number"){g=a3[g]}if(typeof k=="number"){k=g.data[k]}var j=bx(g,k);if(j!=-1){bH.splice(j,1);aR()}}function bx(j,g){for(var m=0;m<bH.length;++m){var k=bH[m];if(k.series==j&&k.point[0]==g[0]&&k.point[1]==g[1]){return m}}return -1}function bd(m,n){var o=n[0],q=n[1],g=m.xaxis,j=m.yaxis;if(o<g.min||o>g.max||q<j.min||q>j.max){return}var k=m.points.radius+m.points.lineWidth/2;bq.lineWidth=k;bq.strokeStyle=f.color.parse(m.color).scale("a",0.5).toString();var p=1.5*k,o=g.p2c(o),q=j.p2c(q);bq.beginPath();if(m.points.symbol=="circle"){bq.arc(o,q,p,0,2*Math.PI,false)}else{m.points.symbol(bq,o,q,p,false)}bq.closePath();bq.stroke()}function aC(g,m){bq.lineWidth=g.bars.lineWidth;bq.strokeStyle=f.color.parse(g.color).scale("a",0.5).toString();var j=f.color.parse(g.color).scale("a",0.5).toString();var k=g.bars.align=="left"?0:-g.bars.barWidth/2;bj(m[0],m[1],m[2]||0,k,k+g.bars.barWidth,0,function(){return j},g.xaxis,g.yaxis,bq,g.bars.horizontal,g.bars.lineWidth)}function bw(g,r,k,q){if(typeof g=="string"){return g}else{var j=be.createLinearGradient(0,k,0,r);for(var o=0,p=g.colors.length;o<p;++o){var n=g.colors[o];if(typeof n!="string"){var m=f.color.parse(q);if(n.brightness!=null){m=m.scale("rgb",n.brightness)}if(n.opacity!=null){m.a*=n.opacity}n=m.toString()}j.addColorStop(o/(p-1),n)}return j}}}f.plot=function(a,c,j){var b=new d(f(a),c,j,f.plot.plugins);return b};f.plot.version="0.7";f.plot.plugins=[];f.plot.formatDate=function(r,x,v){var b=function(g){g=""+g;return g.length==1?"0"+g:g};var y=[];var a=false,u=false;var c=r.getUTCHours();var t=c<12;if(v==null){v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(x.search(/%p|%P/)!=-1){if(c>12){c=c-12}else{if(c==0){c=12}}}for(var w=0;w<x.length;++w){var q=x.charAt(w);if(a){switch(q){case"h":q=""+c;break;case"H":q=b(c);break;case"M":q=b(r.getUTCMinutes());break;case"S":q=b(r.getUTCSeconds());break;case"d":q=""+r.getUTCDate();break;case"m":q=""+(r.getUTCMonth()+1);break;case"y":q=""+r.getUTCFullYear();break;case"b":q=""+v[r.getUTCMonth()];break;case"p":q=(t)?("am"):("pm");break;case"P":q=(t)?("AM"):("PM");break;case"0":q="";u=true;break}if(q&&u){q=b(q);u=false}y.push(q);if(!u){a=false}}else{if(q=="%"){a=true}else{y.push(q)}}}return y.join("")};function e(a,b){return b*Math.floor(a/b)}})(jQuery);(function(a){function b(v){var E={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var w={};var u=null;var f=null;var B;function o(F){if(E.active){r(F);v.getPlaceholder().trigger("plotselecting",[j()])}}function m(F){if(F.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&w.onselectstart==null){w.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&w.ondrag==null){w.ondrag=document.ondrag;document.ondrag=function(){return false}}y(E.first,F);E.active=true;u=function(G){g(G)};f=function(G){o(G)};a(document).bind("mousemove",f).bind("mouseup",u)}function c(F){return o(F)}function n(F){return g(F)}function g(F){a(document).unbind("mousemove",f).unbind("mouseup",u);u=null;f=null;if(document.onselectstart!==undefined){document.onselectstart=w.onselectstart}if(document.ondrag!==undefined){document.ondrag=w.ondrag}E.active=false;r(F);if(z()){d()}else{v.getPlaceholder().trigger("plotunselected",[]);v.getPlaceholder().trigger("plotselecting",[null])}return false}function j(){if(!z()){return null}var H={},G=E.first,F=E.second;a.each(v.getAxes(),function(I,J){if(J.used){var L=J.c2p(G[J.direction]),K=J.c2p(F[J.direction]);H[I]={from:Math.min(L,K),to:Math.max(L,K)}}});return H}function d(){var F=j();v.getPlaceholder().trigger("plotselected",[F]);if(F.xaxis&&F.yaxis){v.getPlaceholder().trigger("selected",[{x1:F.xaxis.from,y1:F.yaxis.from,x2:F.xaxis.to,y2:F.yaxis.to}])}}function p(G,H,F){return H<G?G:(H>F?F:H)}function y(J,G){var I=v.getOptions();var H=v.getPlaceholder().offset();var F=v.getPlotOffset();J.x=p(0,G.pageX-H.left-F.left,v.width());J.y=p(0,G.pageY-H.top-F.top,v.height());if(I.selection.mode=="y"){J.x=J==E.first?0:v.width()}if(I.selection.mode=="x"){J.y=J==E.first?0:v.height()}}function r(F){if(F.pageX==null){return}y(E.second,F);if(z()){E.show=true;v.triggerRedrawOverlay()}else{t(true)}}function t(F){if(E.show){E.show=false;v.triggerRedrawOverlay();if(!F){v.getPlaceholder().trigger("plotunselected",[])}}}function e(F,J){var G,L,M,N,K=v.getAxes();for(var H in K){G=K[H];if(G.direction==J){N=J+G.n+"axis";if(!F[N]&&G.n==1){N=J+"axis"}if(F[N]){L=F[N].from;M=F[N].to;break}}}if(!F[N]){G=J=="x"?v.getXAxes()[0]:v.getYAxes()[0];L=F[J+"1"];M=F[J+"2"]}if(L!=null&&M!=null&&L>M){var I=L;L=M;M=I}return{from:L,to:M,axis:G}}function k(G,F){var I,H,J=v.getOptions();if(J.selection.mode=="y"){E.first.x=0;E.second.x=v.width()}else{H=e(G,"x");E.first.x=H.axis.p2c(H.from);E.second.x=H.axis.p2c(H.to)}if(J.selection.mode=="x"){E.first.y=0;E.second.y=v.height()}else{H=e(G,"y");E.first.y=H.axis.p2c(H.from);E.second.y=H.axis.p2c(H.to)}E.show=true;v.triggerRedrawOverlay();if(!F&&z()){d()}}function z(){var F=0;return Math.abs(E.second.x-E.first.x)>=F&&Math.abs(E.second.y-E.first.y)>=F}v.clearSelection=t;v.setSelection=k;v.getSelection=j;function D(I,G){I.preventDefault();if(I.originalEvent.changedTouches.length<=0){return}var J=document.createEvent("MouseEvents"),K=I.originalEvent.changedTouches[0],H=K.clientX,F=K.clientY;if(B){if(H<K.pageX-window.pageXOffset||F<K.pageY-window.pageYOffset){H=K.pageX-window.pageXOffset;F=K.pageY-window.pageYOffset}}J.initMouseEvent(G,true,true,window,1,K.screenX,K.screenY,H,F,false,false,false,false,0,null);I.target.dispatchEvent(J)}function x(F){D(F,"mousedown")}function q(F){D(F,"mousemove")}function A(F){D(F,"mouseup")}function C(F){F.bind("touchstart",x);F.bind("touchmove",q);F.bind("touchend",A)}v.hooks.bindEvents.push(function(G,F){var H=G.getOptions();if(H.selection.mouseEvent===true&&H.selection.mode!=null){F.mousemove(o);F.mousedown(m);if("ontouchend" in document){B=navigator.userAgent.toLowerCase().indexOf("android")!==-1;C(F)}}});v.hooks.drawOverlay.push(function(J,T){if(E.show&&z()){var G=J.getPlotOffset();var F=J.getOptions();T.save();T.translate(G.left,G.top);var P=a.color.parse(F.selection.color);var K=a.color.parse(F.selection.borderColor);T.lineWidth=1;T.lineJoin="round";T.fillStyle=P.scale("a",0.4).toString();var R=Math.min(E.first.x,E.second.x),Q=Math.min(E.first.y,E.second.y),S=Math.abs(E.second.x-E.first.x),H=Math.abs(E.second.y-E.first.y);if(F.selection.fill==="in"){T.fillRect(R,Q,S,H);T.strokeRect(R,Q,S,H)}else{if(F.selection.mode=="y"){var O=J.width();var I=Q+H;T.fillRect(0,0,O,Q);T.fillRect(0,I,O,J.height()-I)}else{if(F.selection.mode=="x"){var N=J.height();var M=R+S;T.fillRect(0,0,R,N);T.fillRect(M,0,J.width()-M,N);var L=T.strokeStyle;T.strokeStyle=K.toString();T.lineWidth=0.5;T.beginPath();T.moveTo(R,Q);T.lineTo(R,Q+H);T.moveTo(R+S,Q);T.lineTo(R+S,Q+H);T.closePath();T.stroke();T.lineWidth=1;T.strokeStryl=L}else{var O=J.width();var N=J.height();var M=R+S;var I=Q+H;T.fillRect(0,0,O,Q);T.fillRect(0,I,O,N-I);T.fillRect(0,Q,R,H);T.fillRect(M,Q,O-M,H)}}}T.restore()}});v.hooks.shutdown.push(function(G,F){F.unbind("mousemove",o);F.unbind("mousedown",m);if(u){a(document).unbind("mouseup",u)}})}a.plot.plugins.push({init:b,options:{selection:{mouseEvent:false,mode:null,color:"#e8cfac",borderColor:"#ccc",fill:"in"}},name:"selection",version:"1.1"})})(jQuery);(function(b){var a={crosshair:{onmouse:true,mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function c(k){var n={x:-1,y:-1,locked:false};k.setCrosshair=function e(q){if(!q){n.x=-1}else{var p=k.p2c(q);n.x=Math.max(0,Math.min(p.left,k.width()));n.y=Math.max(0,Math.min(p.top,k.height()))}k.triggerRedrawOverlay()};k.setCrosshairPos=function j(o){if(!o){n.x=1}else{n.x=o.x||-1;n.y=o.y||-1}k.triggerRedrawOverlay()};k.clearCrosshair=k.setCrosshair;k.lockCrosshair=function f(o){if(o){k.setCrosshair(o)}n.locked=true};k.unlockCrosshair=function g(){n.locked=false};function d(o){if(n.locked){return}if(n.x!=-1){n.x=-1;k.triggerRedrawOverlay()}}function m(o){if(n.locked){return}if(k.getSelection&&k.getSelection()){n.x=-1;return}var p=k.offset();if(o.pageX>p.left&&o.pageX<=p.left+k.width()&&o.pageY>p.top&&o.pageY<=p.top+k.height()){n.x=Math.max(0,Math.min(o.pageX-p.left,k.width()));n.y=Math.max(0,Math.min(o.pageY-p.top,k.height()));k.triggerRedrawOverlay()}else{n.x=-1;k.triggerRedrawOverlay()}}k.hooks.bindEvents.push(function(q,p){var r=q.getOptions();if(!r.crosshair.mode){return}if(!r.crosshair.onmouse){return}p.mouseout(d);p.mousemove(m)});k.hooks.drawOverlay.push(function(q,o){var r=q.getOptions().crosshair;if(!r.mode){return}var p=q.getPlotOffset();o.save();o.translate(p.left,p.top);if(n.x!=-1){o.strokeStyle=r.color;o.lineWidth=r.lineWidth;o.lineJoin="round";o.beginPath();if(r.mode.indexOf("x")!=-1){o.moveTo(n.x,0);o.lineTo(n.x,q.height())}if(r.mode.indexOf("y")!=-1){o.moveTo(0,n.y);o.lineTo(q.width(),n.y)}o.stroke()}o.restore()});k.hooks.shutdown.push(function(p,o){o.unbind("mouseout",d);o.unbind("mousemove",m)})}b.plot.plugins.push({init:c,options:a,name:"crosshair",version:"1.0"})})(jQuery);(function(c){var a={tooltip:{show:false,onmouse:false,format:"%y",offset:{x:0,y:0},position:"on",mode:null,arg:null},tooltips:[]};var b=function(g,f,e){this.el=c(document.createElement("div")).css(f).css({position:"absolute"}).hide();if(e["class"]){this.el.addClass(e["class"])}if(g){this.parent=g}else{this.parent=c(document.body)}if(this.el.parent().length===0){this.parent.prepend(this.el)}this.x=-1;this.y=-1;this.text=null};b.prototype.show=function(){if(this.x!==-1&&this.y!==-1&&this.text){this.el.css({left:this.x,top:this.y});this.el.show()}};b.prototype.getWidth=function(){var e,f=this.el.is(":hidden");if(f){this.el.show()}e=this.el.outerWidth();if(f){this.el.hide()}return e};b.prototype.getHeight=function(){return this.el.outerHeight()};b.prototype.setText=function(e){this.text=e;this.el.html(e)};b.prototype.hide=function(){this.x=-1;this.y=-1;this.text=null;this.el.hide()};function d(o){var x=[];var n=[];var m=[];var p=false;var f=null;o.tooltip=o.tooltip||{};o.tooltip.addClass=function(z,y){if(typeof z!=="number"){return}if(typeof y!=="string"){return}if(x[z]===undefined){return}var A=x[z].o.el;if(!A.hasClass(y)){A.addClass(y)}};o.tooltip.removeClass=function(z,y){if(typeof z!=="number"){return}if(typeof y!=="string"){return}if(x[z]===undefined){return}var A=x[z].o.el;if(A.hasClass(y)){A.removeClass(y)}};o.tooltip.set=function(z,y,A){if(typeof z!=="number"){return}if(typeof y!=="number"){return}if(m[z]===undefined||m[z][y]===undefined){return}x[z].pid=y;if(!f){f=setTimeout(function(){r(A)},30)}};function r(I){I=I||{};f=null;var z=o.getOptions();var E=o.getPlotOffset();var B=o.width();var K=o.height();var A={x:B/2,y:K/2};var C,J,H,G,D,F;for(var M=0,L=x.length;M<L;++M){C=z.tooltips[M]||z.tooltip;if(!C.show){return}F=x[M].pid;if(F==null){continue}J=m[M][F].x;H=m[M][F].y;G=v(C.position,J,H,B+E.left,K+E.top);D=x[M].o;D.setText(n[M][F]);if(I.x==="left"){D.x=G.x-D.getWidth()-C.offset.x}else{if(I.x==="right"){D.x=G.x+C.offset.x}else{if(G.x>A.x+E.left){D.x=G.x-D.getWidth()-C.offset.x}else{D.x=G.x+C.offset.x}}}D.x=Math.max(0,D.x);D.x=Math.min(D.x,B-D.getWidth());if(I.y==="top"){D.y=G.y-D.getHeight()-C.offset.y}else{if(I.y==="bottom"){D.y=G.y+C.offset.y}else{if(G.y>A.y+E.top){D.y=G.y-D.getHeight()-C.offset.y}else{D.y=G.y+C.offset.y}}}D.y=Math.max(0,D.y);D.y=Math.min(D.y,K-D.getHeight());if(M>0){if(I.x==="left"){D.x=D.x-x[M-1].o.getWidth();D.x=Math.max(0,D.x);x[M-1].o.x=Math.max(D.getWidth(),x[M-1].o.x)}else{if(I.x==="right"){D.x=x[M-1].o.x;x[M-1].o.x=D.x+D.getWidth();D.x=Math.min(D.x,B-D.getWidth()-x[M-1].o.getWidth());x[M-1].o.x=Math.min(x[M-1].o.x,B-x[M-1].o.getWidth())}else{if(G.x>A.x+E.left){D.x=D.x-x[M-1].o.getWidth()}else{D.x=x[M-1].o.x;x[M-1].o.x=D.x+D.getWidth()}}}if(c("#negativeUnit").hasClass("on")){x[0].o.x=x[1].o.x;x[1].o.x=x[0].o.x+x[0].o.getWidth()}D.y=x[M-1].o.y;x[M-1].o.show()}x[M].o.show()}}function v(A,z,E,C,B){var D={x:0,y:0};switch(A){case"top":D.x=z;return D;case"bottom":D.x=z;D.y=B;return D;case"left":D.y=E;return D;case"right":D.x=C;D.y=E;return D;case"on":default:D.x=z;D.y=E;return D}}o.tooltip.hide=function(){if(f){clearTimeout(f);f=null}var A=o.getData();for(var z=0,y=A.length;z<y;++z){x[z].o.hide()}};o.tooltip.setOnMouse=function(){p=true};o.tooltip.unsetOnMouse=function(){p=false};o.hooks.processOptions.push(function(z,y){p=y.tooltip.onmouse});function u(y,C){var B="",A=false;for(var z=0;z<y.length;++z){var D=y.charAt(z);if(A){if(C[D]!==undefined){D=C[D]}}if(D==="%"){A=true}else{B+=D;A=false}}return B}function e(C,A,z){var B=C.data;for(var E=0,D=B.length;E<D;++E){var G=B[E][0],F=B[E][1];if(z.mode==="time"){var H=(z.arg==="x")?G:F;A[E]=c.plot.formatLocalDate(new Date(H),z.format)}else{A[E]=u(z.format,{x:G,y:F})}}}function t(D,B,A){var C=D.data;var z=A.left||0;var H=A.top||0;for(var F=0,E=C.length;F<E;++F){var I=C[F][0],G=C[F][1];B[F]={x:D.xaxis.p2c(I)+z,y:D.yaxis.p2c(G)+H}}}function k(E){var D=E.getOptions();if(!D.tooltip.show){return}var B=E.getData();var F=E.getPlotOffset();var C;var y=B.length;for(var A=0;A<y;++A){var z=D.tooltips[A]||D.tooltip;if(!z.show){continue}if(y===1){C={}}else{C={"background-color":B[A].color}}x[A]={o:new b(E.getPlaceholder(),C,{"class":"flot-plugin-tooltip"}),pid:null};if(y===2&&A===1){x=[x[1],x[0]]}n[A]=[];if(y===1){e(B[A],n[A],z)}m[A]=[];if(y===1){t(B[A],m[A],F)}}if(y===2){e(B[0],n[1],z);e(B[1],n[0],z);t(B[0],m[1],F);t(B[1],m[0],F)}}o.hooks.draw.push(function(z,y){k(z)});function j(D){var F=o.getOptions();if(!F.tooltip.show){return}var C=o.getData();var E=o.width();for(var B=0,y=C.length;B<y;++B){var A=F.tooltips[B]||F.tooltip;if(!A.show){continue}var z=Math.round(D/(E/(C[B].data.length-1)));x[B].pid=z}r()}function w(A){var B=o.offset();var z=B.left;var y=B.top;return(A.pageX>z&&A.pageX<=z+o.width()&&A.pageY>y&&A.pageY<=y+o.height())}function g(y){if(!p){return}if(w(y)){var z=o.offset();var A=Math.max(0,Math.min(y.pageX-z.left,o.width()));j(A)}else{q(y)}}function q(y){if(!p){return}}o.hooks.bindEvents.push(function(z,y){if(!z.getOptions().tooltip.onmouse){return}y.mouseout(q);y.mousemove(g)});o.hooks.shutdown.push(function(z,y){if(!z.getOptions().tooltip.onmouse){return}y.unbind("mouseout",q);y.unbind("mousemove",g)})}c.plot.plugins.push({init:d,options:a,name:"tooltip",version:"1.0"});c.plot.formatLocalDate=function(n,f,j){var q=function(r){r=""+r;return r.length==1?"0"+r:r};var e=[];var t=false,k=false;var p=n.getHours();var m=p<12;if(!j){j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(f.search(/%p|%P/)!=-1){if(p>12){p=p-12}else{if(p===0){p=12}}}for(var g=0;g<f.length;++g){var o=f.charAt(g);if(t){switch(o){case"h":o=""+p;break;case"H":o=q(p);break;case"M":o=q(n.getMinutes());break;case"S":o=q(n.getSeconds());break;case"d":o=""+n.getDate();break;case"m":o=""+(n.getMonth()+1);break;case"y":o=""+n.getFullYear();break;case"b":o=""+j[n.getMonth()];break;case"p":o=(m)?("am"):("pm");break;case"P":o=(m)?("AM"):("PM");break;case"0":o="";k=true;break}if(o&&k){o=q(o);k=false}e.push(o);if(!k){t=false}}else{if(o=="%"){t=true}else{e.push(o)}}}return e.join("")}})(jQuery);(function(c){var a={label:{show:false,onmouse:null,offset:0,position:"top",format:"y",mode:null,arg:null,series:0}};var b=function(g,f,e){this.el=c(document.createElement("div")).css(f).css({position:"absolute"}).hide();if(e["class"]){this.el.addClass(e["class"])}if(g){this.parent=g}else{this.parent=c(document.body)}this.x=-1;this.y=-1;this.marginLeft=0;this.marginTop=0;this.text=null;this.visible=false};b.prototype.show=function(){if(this.x!==-1&&this.y!==-1&&this.text){this.el.css({left:this.x,top:this.y,"margin-left":this.marginLeft,"margin-top":this.marginTop});this.el.show();this.visible=true}if(this.el.parent().length===0){this.parent.prepend(this.el)}};b.prototype.getWidth=function(){var e;if(!this.visible){this.show();e=this.el.outerWidth();this.el.hide();this.visible=false}else{e=this.el.outerWidth()}return e};b.prototype.getHeight=function(){return this.el.outerHeight()};b.prototype.setText=function(e){this.text=e;this.el.html(e)};b.prototype.hide=function(){this.x=-1;this.y=-1;this.text=null;this.el.hide();this.visible=false};function d(u){var k=[];var B=[];var E=[];var A=false;var t=null;var z=false;var q=null;u.label=u.label||{};u.label.set=function(F){if(!F instanceof Array){return}var H=(typeof F[0]==="number")?F[0]:null,G=(typeof F[1]==="number")?F[1]:null;k[0].plotid=(C(H))?H:null;k[1].plotid=(C(G))?G:null;if(!q){q=setTimeout(x,30)}};function C(F){if(E[F]===undefined||B[F]===undefined){return false}else{return true}}function x(){q=null;var I=u.getOptions().label;if(!I.show){return}if(k[0].plotid===null&&k[1].plotid===null){u.label.hide();return}var K=[],H;for(H=-1;++H<2;){if(k[H].plotid!==null){K.push(k[H].plotid)}}if(K.length<2||K[0]===K[1]){v(0);k[0].o.show();k[1].o.hide()}else{for(H=-1;++H<2;){v(H)}var G,F;if(K[0]<K[1]){G=k[0].o;F=k[1].o}else{G=k[1].o;F=k[0].o}if(G.x+G.marginLeft+G.getWidth()>F.x+F.marginLeft){var L=G.text+" - "+F.text;var J=F.x;F.hide();G.setText(L);G.x+=Math.abs(J-G.x)/2;G.marginLeft=-G.getWidth()/2;n(G);G.show()}else{G.show();F.show()}}}function n(G){var H,F;H=G.getWidth();F=u.width()+u.getPlotOffset().left;if(G.x+G.marginLeft<0){G.x=G.marginLeft=0}else{if(G.x+G.marginLeft+H>F){G.x=F;G.marginLeft=-H}}}function v(I){var G,H,F;G=k[I].plotid;H=k[I].o;F=D(E[G].x,E[G].y);H.setText(B[G]);H.x=F.x;H.y=F.y;H.marginLeft=-H.getWidth()/2;n(H)}function D(F,J){var G,H,I;G=u.getOptions().label;H=u.getPlotOffset();I={x:0,y:0};switch(G.position){case"bottom":I.x=F;I.y=u.height()+H.top+G.offset;return I;default:case"top":I.x=F;return I}}u.label.reset=function(F){if(q){clearTimeout(q);q=null}u.label.set(F)};u.label.hide=function(){if(q){clearTimeout(q);q=null}for(i=-1;++i<2;){k[i].o.hide()}};u.label.lock=function(){A=true};u.hooks.processOptions.push(function(G,F){if(F.label.onmouse==="always"){z=true}});function w(F,J){var I="",H=false,G,K;for(G=0;G<F.length;++G){K=F.charAt(G);if(H){if(J[K]!=null){K=J[K]}}if(K==="%"){H=true}else{I+=K;H=false}}return I}function m(I,G,F){var H,K,J,M,L,N;H=I.data;for(K=0,J=H.length;K<J;++K){M=H[K][0];L=H[K][1];if(F.mode==="time"){N=(F.arg==="x")?M:L;G[K]=c.plot.formatLocalDate(new Date(N),F.format)}else{G[K]=w(F.format,{x:M,y:L})}}}function r(J,H,G){var I,F,N,L,K,O,M;I=J.data;F=G.left||0;N=G.top||0;for(L=0,K=I.length;L<K;++L){O=I[L][0];M=I[L][1];H[L]={x:J.xaxis.p2c(O)+F,y:J.yaxis.p2c(M)+N}}}function y(J){var I,F,H,K,G;I=J.getOptions().label;if(!I.show){return}F=I.series;H=J.getData()[F];K=J.getPlotOffset();if(k.length<2){for(G=-1;++G<2;){k[G]={o:new b(J.getPlaceholder(),{"font-size":"10px",color:"#545454","white-space":"nowrap"},{"class":"flot-plugin-label"}),plotid:null}}}m(H,B,I);r(H,E,K)}u.hooks.draw.push(function(G,F){y(G);var H=G.getOptions().label.init;if(H){G.label.set(H)}});function g(L,J){var I,F,H,K,G;I=u.getOptions().label;if(!I.show){return}F=I.series;H=u.getData()[F];K=u.width();G=[];G.push(Math.round(L/(K/(H.data.length-1))));if(J){G.push(Math.round(J/(K/(H.data.length-1))))}u.label.set(G)}function e(H){var I,G,F;I=u.offset();G=I.left;F=I.top;return(H.pageX>G&&H.pageX<=G+u.width()&&H.pageY>F&&H.pageY<=F+u.height())}function j(F){if(A){return}var G=u.offset();if(e(F)){z=true;t=Math.max(0,Math.min(F.pageX-G.left,u.width()));g(t,t)}}function p(F){if(!z||A){return}var G,H;G=u.offset();if(e(F)){H=Math.max(0,Math.min(F.pageX-G.left,u.width()));g(H,t)}else{o(F)}}function f(G){var F=u.getOptions().label;z=false;t=null}function o(F){if(A){return}var G=u.getOptions().label.init;if(G){u.label.set(G)}else{u.label.reset();t=null}}u.hooks.bindEvents.push(function(H,F){var G=H.getOptions().label;if(!G.show){return}if(G.onmouse!=="always"&&G.onmouse!=="drag"){return}F.mousemove(p);F.mousedown(j);F.mouseup(f);F.mouseout(o)});u.hooks.shutdown.push(function(H,F){var G=H.getOptions().label;if(!G.show){return}if(G.onmouse!=="always"&&G.onmouse!=="drag"){return}F.unbind("mouseout",o);F.unbind("mousemove",p);F.unbind("mouseup",f);F.unbind("mousedown",j)})}c.plot.plugins.push({init:d,options:a,name:"label",version:"1.0"})})(jQuery);(function(c){var e=10;var a=0.95;function d(z){var j=null,E=null,p=null,w=null,q=null,f=false,y=null;var k=[];z.hooks.processOptions.push(function(G,F){if(F.series.pie.show){F.grid.show=false;if(F.series.pie.label.show=="auto"){if(F.legend.show){F.series.pie.label.show=false}else{F.series.pie.label.show=true}}if(F.series.pie.radius=="auto"){if(F.series.pie.label.show){F.series.pie.radius=3/4}else{F.series.pie.radius=1}}if(F.series.pie.tilt>1){F.series.pie.tilt=1}else{if(F.series.pie.tilt<0){F.series.pie.tilt=0}}}});z.hooks.bindEvents.push(function(H,F){var G=H.getOptions();if(G.series.pie.show){if(G.grid.hoverable){F.unbind("mousemove").mousemove(v)}if(G.grid.clickable){F.unbind("click").click(n)}}});z.hooks.processDatapoints.push(function(J,G,H,I){var F=J.getOptions();if(F.series.pie.show){A(J,G,H,I)}});z.hooks.drawOverlay.push(function(G,H){var F=G.getOptions();if(F.series.pie.show){B(G,H)}});z.hooks.draw.push(function(H,G){var F=H.getOptions();if(F.series.pie.show){r(H,G)}});function A(H,F,G){if(!f){f=true;j=H.getCanvas();E=c(j).parent();b=H.getOptions();H.setData(D(H.getData()))}}function D(K){var I=0,H=0,M=0,F=b.series.pie.combine.color,L=[];for(var G=0;G<K.length;++G){var J=K[G].data;if(c.isArray(J)&&J.length==1){J=J[0]}if(c.isArray(J)){if(!isNaN(parseFloat(J[1]))&&isFinite(J[1])){J[1]=+J[1]}else{J[1]=0}}else{if(!isNaN(parseFloat(J))&&isFinite(J)){J=[1,+J]}else{J=[1,0]}}K[G].data=[J]}for(var G=0;G<K.length;++G){I+=K[G].data[0][1]}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(J/I<=b.series.pie.combine.threshold){H+=J;M++;if(!F){F=K[G].color}}}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(M<2||J/I>b.series.pie.combine.threshold){L.push({data:[[1,J]],color:K[G].color,label:K[G].label,angle:J*Math.PI*2/I,percent:J/(I/100)})}}if(M>1){L.push({data:[[1,H]],color:F,label:b.series.pie.combine.label,angle:H*Math.PI*2/I,percent:H/(I/100)})}return L}function r(K,N){if(!E){return}var G=K.getPlaceholder().width(),I=K.getPlaceholder().height(),M=E.children().filter(".legend").children().width()||0;y=N;f=false;p=Math.min(G,I/b.series.pie.tilt)/2;q=I/2+b.series.pie.offset.top;w=G/2;if(b.series.pie.offset.left=="auto"){if(b.legend.position.match("w")){w+=M/2}else{w-=M/2}}else{w+=b.series.pie.offset.left}if(w<p){w=p}else{if(w>G-p){w=G-p}}var L=K.getData(),O=0;do{if(O>0){p*=a}O+=1;J();if(b.series.pie.tilt<=0.8){H()}}while(!F()&&O<e);if(O>=e){J();E.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(K.setSeries&&K.insertLegend){K.setSeries(L);K.insertLegend()}function J(){y.clearRect(0,0,G,I);E.children().filter(".pieLabel, .pieLabelBackground").remove()}function H(){var U=b.series.pie.shadow.left;var T=b.series.pie.shadow.top;var R=10;var S=b.series.pie.shadow.alpha;var P=b.series.pie.radius>1?b.series.pie.radius:p*b.series.pie.radius;if(P>=G/2-U||P*b.series.pie.tilt>=I/2-T||P<=R){return}y.save();y.translate(U,T);y.globalAlpha=S;y.fillStyle="#000";y.translate(w,q);y.scale(1,b.series.pie.tilt);for(var Q=1;Q<=R;Q++){y.beginPath();y.arc(0,0,P,0,Math.PI*2,false);y.fill();P-=Q}y.restore()}function F(){var S=Math.PI*b.series.pie.startAngle;var P=b.series.pie.radius>1?b.series.pie.radius:p*b.series.pie.radius;y.save();y.translate(w,q);y.scale(1,b.series.pie.tilt);y.save();var U=S;for(var R=0;R<L.length;++R){L[R].startAngle=U;T(L[R].angle,L[R].color,true)}y.restore();if(b.series.pie.stroke.width>0){y.save();y.lineWidth=b.series.pie.stroke.width;U=S;for(var R=0;R<L.length;++R){T(L[R].angle,b.series.pie.stroke.color,false)}y.restore()}C(y);y.restore();if(b.series.pie.label.show){return Q()}else{return true}function T(X,V,W){if(X<=0||isNaN(X)){return}if(W){y.fillStyle=V}else{y.strokeStyle=V;y.lineJoin="round"}y.beginPath();if(Math.abs(X-Math.PI*2)>1e-9){y.moveTo(0,0)}y.arc(0,0,P,U,U+X/2,false);y.arc(0,0,P,U+X/2,U+X,false);y.closePath();U+=X;if(W){y.fill()}else{y.stroke()}}function Q(){var Y=S;var V=b.series.pie.label.radius>1?b.series.pie.label.radius:p*b.series.pie.label.radius;for(var X=0;X<L.length;++X){if(L[X].percent>=b.series.pie.label.threshold*100){if(!W(L[X],Y,X)){return false}}Y+=L[X].angle}return true;function W(al,ae,ac){if(al.data[0][1]==0){return true}var an=b.legend.labelFormatter,am,aa=b.series.pie.label.formatter;if(an){am=an(al.label,al)}else{am=al.label}if(aa){am=aa(am,al)}var af=((ae+al.angle)+ae)/2;var ak=w+Math.round(Math.cos(af)*V);var ai=q+Math.round(Math.sin(af)*V)*b.series.pie.tilt;var ab="<span class='pieLabel' id='pieLabel"+ac+"' style='position:absolute;top:"+ai+"px;left:"+ak+"px;'>"+am+"</span>";E.append(ab);var aj=E.children("#pieLabel"+ac);var Z=(ai-aj.height()/2);var ad=(ak-aj.width()/2);aj.css("top",Z);aj.css("left",ad);if(0-Z>0||0-ad>0||I-(Z+aj.height())<0||G-(ad+aj.width())<0){return false}if(b.series.pie.label.background.opacity!=0){var ag=b.series.pie.label.background.color;if(ag==null){ag=al.color}var ah="top:"+Z+"px;left:"+ad+"px;";c("<div class='pieLabelBackground' style='position:absolute;width:"+aj.width()+"px;height:"+aj.height()+"px;"+ah+"background-color:"+ag+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(aj)}return true}}}}function C(F){if(b.series.pie.innerRadius>0){F.save();var G=b.series.pie.innerRadius>1?b.series.pie.innerRadius:p*b.series.pie.innerRadius;F.globalCompositeOperation="destination-out";F.beginPath();F.fillStyle=b.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.fill();F.closePath();F.restore();F.save();F.beginPath();F.strokeStyle=b.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.stroke();F.closePath();F.restore()}}function t(I,J){for(var K=false,H=-1,F=I.length,G=F-1;++H<F;G=H){((I[H][1]<=J[1]&&J[1]<I[G][1])||(I[G][1]<=J[1]&&J[1]<I[H][1]))&&(J[0]<(I[G][0]-I[H][0])*(J[1]-I[H][1])/(I[G][1]-I[H][1])+I[H][0])&&(K=!K)}return K}function u(N,M){var H=z.getData(),K=z.getOptions(),L=K.series.pie.radius>1?K.series.pie.radius:p*K.series.pie.radius,Q,O;for(var X=0;X<H.length;++X){var T=H[X];if(T.pie.show){y.save();y.beginPath();y.moveTo(0,0);y.arc(0,0,L,T.startAngle,T.startAngle+T.angle/2,false);y.arc(0,0,L,T.startAngle+T.angle/2,T.startAngle+T.angle,false);y.closePath();Q=N-w;O=M-q;if(y.isPointInPath){if(y.isPointInPath(N-w,M-q)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}else{var W=L*Math.cos(T.startAngle),V=L*Math.sin(T.startAngle),I=L*Math.cos(T.startAngle+T.angle/4),F=L*Math.sin(T.startAngle+T.angle/4),R=L*Math.cos(T.startAngle+T.angle/2),P=L*Math.sin(T.startAngle+T.angle/2),Z=L*Math.cos(T.startAngle+T.angle/1.5),Y=L*Math.sin(T.startAngle+T.angle/1.5),J=L*Math.cos(T.startAngle+T.angle),G=L*Math.sin(T.startAngle+T.angle),U=[[0,0],[W,V],[I,F],[R,P],[Z,Y],[J,G]],S=[Q,O];if(t(U,S)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}y.restore()}}return null}function v(F){o("plothover",F)}function n(F){o("plotclick",F)}function o(F,L){var G=z.offset();var J=parseInt(L.pageX-G.left);var H=parseInt(L.pageY-G.top);var N=u(J,H);if(b.grid.autoHighlight){for(var I=0;I<k.length;++I){var K=k[I];if(K.auto==F&&!(N&&K.series==N.series)){g(K.series)}}}if(N){m(N.series,F)}var M={pageX:L.pageX,pageY:L.pageY};E.trigger(F,[M,N])}function m(G,H){var F=x(G);if(F==-1){k.push({series:G,auto:H});z.triggerRedrawOverlay()}else{if(!H){k[F].auto=false}}}function g(G){if(G==null){k=[];z.triggerRedrawOverlay()}var F=x(G);if(F!=-1){k.splice(F,1);z.triggerRedrawOverlay()}}function x(H){for(var F=0;F<k.length;++F){var G=k[F];if(G.series==H){return F}}return -1}function B(J,K){var H=J.getOptions();var F=H.series.pie.radius>1?H.series.pie.radius:p*H.series.pie.radius;K.save();K.translate(w,q);K.scale(1,H.series.pie.tilt);for(var I=0;I<k.length;++I){G(k[I].series)}C(K);K.restore();function G(L){if(L.angle<=0||isNaN(L.angle)){return}K.fillStyle="rgba(255, 255, 255, "+H.series.pie.highlight.opacity+")";K.beginPath();if(Math.abs(L.angle-Math.PI*2)>1e-9){K.moveTo(0,0)}K.arc(0,0,F,L.startAngle,L.startAngle+L.angle/2,false);K.arc(0,0,F,L.startAngle+L.angle/2,L.startAngle+L.angle,false);K.closePath();K.fill()}}}var b={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:0.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(f,g){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+g.color+";'>"+f+"<br/>"+Math.round(g.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};c.plot.plugins.push({init:d,options:b,name:"pie",version:"1.1"})})(jQuery);$(function(){var a=function(){function b(c,k){var m=new Date(c),j=m.getMonth()+1,f=m.getDate(),e=m.getHours(),g=(m.getMinutes()<10)?"0"+m.getMinutes():m.getMinutes();return(k!=="m")?j+"/"+f+" "+e+":"+g:j+"/"+f}return{init:function(g,e,f){e=e instanceof Array&&e.length>0?e:[0,g.length-1];var d=g[e[0]][0];var c=g[e[1]][0];this.writeLabelDate(d,c,f)},writeLabelDate:function(e,d,g){var c=b(e,g);var f=b(d,g);$("#sentimentDate").html(c+" - "+f)}}};$(function(){var b=YAHOO.JP.srch.rt;if(!b.graph||$.isEmptyObject(b.graph)){return}b.sentimentLabelModel=new a();b.sentimentLabelModel.init(b.graph.plot,b.graph.init,b.graph.gm)}())});$(function(){YAHOO.JP.srch.rt.pieChart=(function(){var V=YAHOO.JP.srch.rt;var f=null,o={},R=null,D=null,g=null,Y=$("#TS2az"),W=$("#positiveUnit"),A=$("#positiveBtn"),S=$("#positiveKW"),d=$("#positiveWord"),B=$("#negativeUnit"),T=$("#negativeBtn"),w=$("#negativeKW"),I=$("#negativeWord"),p=$("#wordExpand"),v=$("#wordExpandTrg"),aa="positive",O="negative",j="#FFFFFF",J="#51CB3F",N="#CFF0CA",Q="#DF4A4F",H="#FAE2E3",F="#DDDDDD",z="#FFFFFF",M=false,X=$("#placeholderUnit"),a=$(document.createElement("div")).css({width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}),u={series:{pie:{show:true,stroke:{width:3},label:{show:false},background:{color:"#E5F9D6"}}},legend:{show:false}},C=$(document.createElement("div")).css({width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}),b={series:{pie:{show:true,innerRadius:0.85,stroke:{width:3},label:{show:false},background:{color:"#E5F9D6"}}},legend:{show:false}},n,x,c={easeOutCubic:function(ac,ab,ae,ad){return ae*((ac=ac/ad-1)*ac*ac+1)+ab},easeOutQuad:function(ac,ab,ae,ad){return -ae*(ac/=ad)*(ac-2)+ab},easeInOutQuart:function(ac,ab,ae,ad){if((ac/=ad/2)<1){return ae/2*ac*ac*ac*ac+ab}return -ae/2*((ac-=2)*ac*ac*ac-2)+ab},easeOutQuart:function(ac,ab,ae,ad){return -ae*((ac=ac/ad-1)*ac*ac*ac-1)+ab},linear:function(ac,ab,ae,ad){return ae*(ac/ad)+ab}};X.append(a).append(C);(function(){v.find("a").on("click",function(ab){ab.preventDefault();K()})})();function m(ab){if(typeof ab!=="object"){ab={}}var ac=[{label:"positive",data:ab.positive,color:J},{label:"neutral",data:ab.neutral,color:F},{label:"negative",data:ab.negative,color:Q}];if(R==="positive"){ac.push({label:"blank",data:ab.blank,color:j})}else{ac.unshift({label:"blank",data:ab.blank,color:j})}if(x){x.setData(ac);x.draw()}else{x=$.plot(C,ac,b)}}function P(ad,ab,ac){if(typeof ad!=="object"){ad={}}if(typeof ab==="undefined"){ab=R==="positive"}if(typeof ac==="undefined"){ac=R==="negative"}var ae=[{label:"positive",data:ad.positive,color:ab?N:j},{label:"neutral",data:ad.neutral,color:z},{label:"negative",data:ad.negative,color:ac?H:j}];if(R==="positive"){ae.push({label:"blank",data:ad.blank,color:j})}else{ae.unshift({label:"blank",data:ad.blank,color:j})}if(n){n.setData(ae);n.draw()}else{n=$.plot(a,ae,u)}}function r(){W.removeClass("on").addClass("disable");S.hide();d.hide();B.removeClass("on").addClass("disable");w.hide();I.hide();v.hide()}function t(){A.html('0<span class="percent">%</span>');T.html('0<span class="percent">%</span>');r();Z()}function e(){r();A.html(o.positive+'<span class="percent">%</span>');T.html(o.negative+'<span class="percent">%</span>');if(o.positive){W.removeClass("disable")}if(o.negative){B.removeClass("disable")}if(R==="positive"){W.addClass("on")}else{B.addClass("on")}if(f!=="d"){return}if(R==="positive"){S.show();if(!W.hasClass("noWord")){v.show();d.show()}}else{w.show();if(!B.hasClass("noWord")){v.show();I.show()}}}function L(ab){P(ab);m(ab)}function k(ab){if(ab>1){ab=1}var ad=o.positive+o.negative+o.neutral,af=ad*ab,ag=R==="positive"?o.positive:o.negative,ac=R==="negative"?o.positive:o.negative,ae=o.neutral,ah=0;if(af<ag){ag=af;ae=ac=0;ah=ad-af}else{if(af<ag+ae){ae=af-ag;ac=0;ah=ad-af}else{if(af<ad){ac=af-ag-ae;ah=ad-af}}}return{positive:R==="positive"?ag:ac,negative:R==="negative"?ag:ac,neutral:ae,blank:ah}}function E(af){if(M){return}M=true;var ac=1600,ae=c.easeOutQuart,ad=0;function ab(){if(!ad){ad=+new Date()}var ah=+new Date()-ad,ag;if(ah<ac){ag=k(ae(ah,0,1,ac),o.positive,o.negative,o.neutral);L(ag);M=V.common.requestAnimationFrame(ab)}else{L(o);M=null;if(typeof af==="function"){af()}}}ab()}function G(){if(M){clearTimeout(M)}if(n){n.shutdown();n=null;a.empty()}if(x){x.shutdown();x=null;C.empty()}t()}function y(ac){var ab=V.graph;if(D){D.show();D.redrawSnt(ac)}}function q(ab){if(M){clearTimeout(M)}if(ab){P(o,true,false)}else{P(o,false,true)}return true}function K(ab){if(ab===undefined){ab=!v.hasClass("open")}if(ab){p.show();v.addClass("open").find("a").html("")}else{p.hide();v.removeClass("open").find("a").html("")}}function U(){if(!W.hasClass("disable")){W.on("click",function(ab){B.removeClass("on");W.addClass("on");if(f==="d"){I.hide();if(W.hasClass("noWord")){v.hide()}else{v.show();d.show()}}g="positive";y(aa)}).on("mouseenter",function(ab){if(f==="d"){w.hide();S.show()}q(true)}).on("mouseleave",function(ab){if(g==="positive"){if(f==="d"){w.hide();S.show()}q(true)}else{if(f==="d"){S.hide();w.show()}q(false)}})}if(!B.hasClass("disable")){B.on("click",function(ab){W.removeClass("on");B.addClass("on");if(f==="d"){d.hide();if(B.hasClass("noWord")){v.hide()}else{v.show();I.show()}}g="negative";y(O)}).on("mouseenter",function(){if(f==="d"){S.hide();w.show()}q(false)}).on("mouseleave",function(){if(g==="positive"){if(f==="d"){w.hide();S.show()}q(true)}else{if(f==="d"){S.hide();w.show()}q(false)}})}}function Z(){W.off("click mouseenter mouseleavel");B.off("click mouseenter mouseleavel")}return{draw:function(ab,ac){if(M){clearTimeout(M)}if(ab){E(ac)}else{L(o)}e();U();return true},drawInner:q,drawOuter:function(){if(M){clearTimeout(M)}m(o);return true},clear:G,isAnimation:function(){return !!M},renderSntGraph:y,setSntGraph:function(ab){D=ab},init:function(ab,ac){basePositiveVal=ab.scores.positive||0,baseNegativeVal=ab.scores.negative||0,baseNeutralVal=ab.scores.neutral||0;o={positive:basePositiveVal,neutral:baseNeutralVal,negative:baseNegativeVal,blank:0};f=ac;R=ab.active||(basePositiveVal>=baseNegativeVal?"positive":"negative");g=R}}})();$(function(){var b=YAHOO.JP.srch.rt;if(b.sentiment.active===undefined){return}var a=b.pieChart;a.init(b.sentiment,b.graph.gm);a.draw(true)})});$(function(){var c=YAHOO.JP.srch.rt;var a=c.config||c;c.GraphAggregation=function b(v){var K={m:null,w:null,d:null};var z=v.api_url||"https://search.yahoo.co.jp/realtime",m=v.query||"",A=v.rid||"",D=v.crumb||"";thid=v.thid||"";ch=v.ch||0;arid=v.arid||0;topic_theme=v.topic_theme||false;var y={sv:v.serv||"",pskin:v.pskin||"",app:a.app||""};var G={vrfd:v.vrfd||"",guts:v.guts||"",uts:v.uts||"",lts:v.lts||""};var k=z+"/aggregationjs?.crumb="+D+"&"+a.bucket_param_string;if(typeof A==="string"&&A){k=k+"&rid="+A}else{if(ch!==0){k=k+"&ch="+ch;k=k+"&arid="+arid}else{if(typeof thid==="string"&&thid){k=k+"&thid="+thid;if(topic_theme){k=k+"&p="+m}}else{if(typeof m==="string"&&m){k=k+"&p="+m}}}}k=k+E(y,"string")+E(G,"number");function E(M,L){for(key in M){if(!M[key]||typeof M[key]!=L){delete M[key]}}return !$.isEmptyObject(M)?"&"+$.param(M):""}var p=this;var C=false;var e=null;var r=null;var f=null;var w=null;var x=null;var I=null;var n=null;var o=null;function H(L){if(L==="m"||L==="w"||L==="d"){return true}return false}function u(L){$("body").append(L)}function j(N,O,M,L){$.ajax({url:k+"&gm="+N,success:function(Q,P,R){if(!Q.plot.length||!Q.ticks.length||!Q.snt_plot||!Q.sentiment){M();return}p.setData(N,{plot:Q.plot,ticks:Q.ticks,spos:Q.pos,snt_plot:Q.snt_plot,sentiment:Q.sentiment});if(Q.ad){u(Q.ad)}if(O){O()}},error:function(Q,R,P){if(p.DEBUG){console.log("Error StatusCode: "+Q.status);console.log("Error StatusText: "+Q.statusText)}if(M){M(Q,R,P)}},complete:function(){if(L){L()}},timeout:10000})}function F(M){var L=K[M];if(e){e.show();e.init(L.plot,L.ticks,M,L.spos)}if(I){I.show();I.initSnt(L.snt_plot,L.ticks,M,L.spos,L.sentiment.active)}if(n){n.init(L.sentiment,M,L.snt_plot);n.draw(true)}if(o){o.init(L.plot,L.spos,M)}}function B(){e.unbindEvents();e.hide()}function d(){if(I){I.unbindEvents();I.hide()}}function q(){if(n){n.clear()}}function g(L){if(!r){return}(L)?r.show():r.hide()}function t(L){if(!f){return}L=(L!==false);if(L){f.show();if(x){x.hide()}}else{f.hide();if(x){x.show()}}}function J(L){if(!w){return}L=(L!==false);if(L){w.show();if(x){x.hide()}}else{w.hide();if(x){x.show()}}}p.DEBUG=false;p.isRunnning=function(){return C};p.setGraph=function(L){e=L};p.setSntGraph=function(L){I=L};p.setPieChart=function(L){n=L};p.setSntLabelModel=function(L){o=L};p.setErrorMsg=function(L){f=L};p.setRetryMsg=function(L){w=L};this.setErrorHideClass=function(L){x=L};p.setData=function(M,L){if(!H(M)){return}K[M]={plot:L.plot||[],ticks:L.ticks||[],spos:L.spos||[],snt_plot:L.snt_plot||{},sentiment:L.sentiment||{}}};p.setLoader=function(L){r=L};p.render=function(L){if(!H(L)){return false}if(C){return false}C=true;J(false);t(false);B();d();q();if(!K[L]){g(true);j(L,function(){g(false);F(L)},function(N,O,M){g(false);switch(O){case"timeout":J();break;default:t()}},function(N,M){C=false})}else{F(L);C=false}}}});$(function(){var a=YAHOO.JP.srch.rt;a.Graph=function(d,c){this.placeholder=d;var b={};if(!c.snt){b={show:false,autoscaleMargin:"0.1",min:0}}else{b={show:true,position:"right",autoscaleMargin:"0.2",min:0,max:100,labelWidth:10,alignTicksWithAxis:1,tickFormatter:function(f,e){if(f===100){f=f+"<br>(%)"}return f}}}this.opts={colors:!c.snt?["#0099ff"]:["#33bf45","#df4a4f"],legend:{show:false},xaxis:{show:true,autoscaleMargin:0,mode:"time",timeformat:"%m/%d %h:%M",tickFormatter:function(e,f){var j=new Date(e),g=f.options;if(g.timeformat){return $.plot.formatLocalDate(j,g.timeformat,g.monthNames)}return $.plot.formatLocalDate(j,"%h:%M:%S",g.monthNames)},ticks:[],labelHeight:20},x2axis:{show:true,position:"top",labelHeight:13},yaxis:b,series:{lines:{show:true,lineWidth:1.5},shadowSize:0},grid:{borderWidth:1,backgroundColor:{colors:["#ffffff","#ffffff"]},borderColor:"#e8e8e8",tickColor:"#e8e8e8",labelMargin:0,axisMargin:0,minBorderMargin:0},crosshair:{mode:"x",lineWidth:1,color:"#666666"},tooltip:{show:true,onmouse:true,format:(!c.snt)?"%y":"%y",offset:{x:5,y:0},position:"on",mode:null,arg:null},selection:{mouseEvent:true,mode:"x",fill:"out",color:"#868686"},label:{show:true,onmouse:null,offset:(!c.snt)?0:"5px",position:"top",format:"%h:%M",mode:"time",arg:"x",init:c.init||[0,0]}};this.plot=null;this.plotOffset=null;this.top=null;this.slider=null;this.button=null;this.current=null;this.selectbar=null;this.select=false;this.height=4;this.dir=c.dir;this.start=c.init[c.dir]||0;this.initPos=c.init||[0,0];this.isGraphMode=c.isMode;this.format={m:null,w:null,d:null};$.extend(this.format,c.format);this.data=0;this.positiveData=0;this.negativeData=0;this.max=0;this.snt=c.snt||false;this.baseURL=(this.snt)?c.base.snt_graph:c.base.graph||"";this.mode=c.gm||"d";this.visible=true;this.minTimediff={m:null,w:null,d:null};$.extend(this.minTimediff,c.minTimediff);this.visible=true;this.maxValId=0};a.Graph.prototype={init:function(f,e,j,d){if(!this.visible){return}if(!this.format[j]){return}if(!e||!f){return}this.unbindEvents();this.opts.xaxis.timeformat=this.format[j].tick;this.opts.label.format=this.format[j].label;this.opts.xaxis.ticks=e;var k,g;if(!this.snt){plot=this.plot=$.plot(this.placeholder,[f],this.opts);this.data=f}else{plot=this.plot=$.plot(this.placeholder,[f[0],f[1]],this.opts);this.data=f[0].data}this.plotOffset=plot.getPlotOffset();this.top=this.plotOffset.top+plot.height()+22;this.max=this.data.length-1;this.maxValId=0;for(var c=0,b=this.data.length;c<b;++c){if(this.data[this.maxValId][1]<=this.data[c][1]){this.maxValId=c}}if(this.isGraphMode){d=d instanceof Array&&d.length>0?d:[0,this.data.length-1];this.start=d[this.dir];this.initPos=[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}else{this.start=0;this.initPos=[0,this.max];if(this.selectbar){this.selectbar.css({left:"0%",width:"0%"})}}g=this.placeholder;$(".tickLabel",g).each(function(){$(this).css({top:parseInt($(this).css("top"),10)+1,"font-size":"10px"})});$(".yAxis .tickLabel").first().each(function(){$(this).css("top",parseInt($(this).css("top"),10)-4)});$(".yAxis .tickLabel").last().each(function(){$(this).css("top",parseInt($(this).css("top"),10)+4)});if(!this.slider){this.slider=$(document.createElement("div")).height(this.height).css({position:"absolute",top:this.top})}this.slider.width(255).slider({max:this.max,min:0,value:this.start});if("ontouchend" in document){this.slider.children().bind("touchstart",function(){})}this.placeholder.append(this.slider);if(!this.selectbar){this.selectbar=$(document.createElement("div")).addClass("ui-slider-range ui-widget-header").css({left:"0%",width:"0%"})}this.slider.append(this.selectbar).removeClass("ui-corner-all");this.placeholder.append(this.slider);this.setSelection(this.initPos[0],this.initPos[1]);this.plot.label.set(this.initPos);if(!this.snt){this.plot.tooltip.set(0,this.maxValId)}if(this.isGraphMode){this.highlightSelectBar(this.initPos[0],this.initPos[1])}this.mode=j;this.bindEvents()},initSnt:function(f,e,k,d,j){if(typeof a.sentiment.scores==="undefined"){return}this.positiveData=f.positive_ratio;this.negativeData=f.negative_ratio;var c=(j==="positive")?{data:this.negativeData,color:"#df4a4f"}:{data:this.positiveData,color:"#33bf45"};var b=(j==="positive")?{data:this.positiveData,color:"#33bf45",lines:{fill:true}}:{data:this.negativeData,color:"#df4a4f",lines:{fill:true}};var g=[c,b];this.init(g,e,k,d)},redrawSnt:function(c){var b={};b.positive_ratio=this.positiveData;b.negative_ratio=this.negativeData;this.initSnt(b,this.opts.xaxis.ticks,this.mode,this.initPos,c)},show:function(){this.placeholder.children().show();this.visible=true},hide:function(){this.placeholder.children().hide();this.visible=false},destroy:function(){this.unbindEvents()},bindEvents:function(){var b,c;b=this.slider;c=this.plot;if(!b){return}b.bind("slide",$.proxy(this.slide,this));b.bind("slidestart",$.proxy(this.slidestart,this));b.bind("slidestop",$.proxy(this.slidestop,this));this.bindPlaceholderEvents();this.bindSelectionEvents()},unbindEvents:function(){this.unbindSelectionEvents();this.unbindPlaceholderEvents()},bindSelectionEvents:function(){var b=this.placeholder;b.bind("plotselecting",$.proxy(this.selecting,this));b.bind("plotselected",$.proxy(this.selected,this))},unbindSelectionEvents:function(){var b=this.placeholder;b.unbind("plotselecting",$.proxy(this.selecting,this));b.unbind("plotselected",$.proxy(this.selected,this))},bindPlaceholderEvents:function(){var b=this.placeholder;b.bind("mousemove.slider",$.proxy(this.mousemove,this));b.bind("mouseleave.slider",$.proxy(this.mouseleave,this));b.bind("mousedown.slider",$.proxy(this.mousedown,this))},unbindPlaceholderEvents:function(){var b=this.placeholder;b.unbind("mousemove.slider",$.proxy(this.mousemove,this));b.unbind("mouseleave.slider",$.proxy(this.mouseleave,this));b.unbind("mousedown.slider",$.proxy(this.mousedown,this))},setSelection:function(j,c){var g=this.plot;var f,d,e,b;f=this.data;e=f[j]||null;b=f[c]||null;if(e&&b){g.setSelection({xaxis:{from:e[0],to:b[0]}})}},highlightSelectBar:function(e,b){var c,d;c=Math.abs(e-b)*(1/this.max)*100;d=Math.min(e,b)*(1/this.max)*100;this.selectbar.css("left",d+"%");this.selectbar.css("width",c+"%")},slide:function(d,b){var c,f;c=this.plot;f=this.start;c.tooltip.set(0,b.value);c.tooltip.set(1,b.value);c.label.set([f,b.value]);this.setSelection(f,b.value);this.highlightSelectBar(f,b.value)},slidestart:function(d,b){var c,f;c=this.plot;this.start=f=b.value;this.unbindSelectionEvents();this.unbindPlaceholderEvents();c.label.set([f,b.value]);c.tooltip.set(0,b.value);c.tooltip.set(1,b.value);c.tooltip.removeClass(0,"flot-plugin-tooltip-max");c.clearCrosshair();this.setSelection(f,b.value);this.highlightSelectBar(f,b.value)},slidestop:function(d,c){var f,b;f=Math.min(this.start,c.value);b=Math.max(this.start,c.value);this.submit(f,b)},selecting:function(j,f){if(!f){return}var g,m,k,c,b,d;g=this.plot;m=g.p2c({x:f.xaxis.from}).left;k=g.p2c({x:f.xaxis.to}).left;c=this.pos2id(m);b=this.pos2id(k);d=(this.start==b)?c:b;g.label.set([c,b]);g.tooltip.set(0,d);g.tooltip.set(1,d);this.highlightSelectBar(c,b);this.slider.slider("value",d)},selected:function(j,d){if(!d){return}this.selecting(j,d);var g,m,k,c,b,f;g=this.plot;m=g.p2c({x:d.xaxis.from}).left;k=g.p2c({x:d.xaxis.to}).left;c=this.pos2id(m);b=this.pos2id(k);this.submit(c,b,(this.start==b))},isInPlotArea:function(g){var f,j,d,c,b;f=this.plot;j=f.offset();d=j.left;c=j.top;b=this.height;return(g.pageX>d&&g.pageX<=d+f.width()&&g.pageY>c&&g.pageY<=c+f.height()+b+1)},pos2id:function(b){return Math.round(b/(this.plot.width()/(this.data.length-1)))},e2pos:function(c){var b,d;b=this.plot;d=b.offset();return Math.max(0,Math.min(c.pageX-d.left,b.width()))},mousemove:function(d){if(!this.isInPlotArea(d)&&!$("a",this.slider).hasClass("ui-state-hover")){this.mouseleave(d);return}var b,c,g,f;c=this.plot;g=this.e2pos(d);b=this.pos2id(g);this.placeholder.css("cursor","e-resize");this.slider.slider("value",b);c.label.set([b]);if(b===this.maxValId){c.tooltip.addClass(0,"flot-plugin-tooltip-max")}else{c.tooltip.removeClass(0,"flot-plugin-tooltip-max")}c.tooltip.set(0,b);c.tooltip.set(1,b);c.setCrosshairPos({x:g})},mouseleave:function(c){var b=this.plot;this.placeholder.css("cursor","default");b.label.reset(this.initPos);b.tooltip.removeClass(0,"flot-plugin-tooltip-max");if(this.snt){b.tooltip.hide()}else{b.tooltip.set(0,this.maxValId)}b.clearCrosshair();this.slider.slider("value",this.start)},mousedown:function(b){if(!this.isInPlotArea(b)){return}this.start=this.pos2id(this.e2pos(b));plot.tooltip.removeClass(0,"flot-plugin-tooltip-max");this.unbindPlaceholderEvents()},submit:function(e,m,j){var b,o,f,c,k,n,g;b=this.baseURL;o=this.data;n=this.minTimediff[this.mode];if(o[e]==null||o[m]==null){return}if(b){if(e===m){c=o[m][0]/1000;f=c-n/1000}else{f=o[e][0]/1000;c=o[m][0]/1000}k=(j)?0:1;g=o[o.length-1][0]/1000;b=b+"&lts="+f+"&uts="+c+"&gd="+k+"&gm="+this.mode+"&guts="+g;location.href=b}}}});$(function(){var k=YAHOO.JP.srch.rt;var c=k.graph;if(c.hasOwnProperty("plot")){var o=new k.Graph($("#placeholder"),{init:c.init,isMode:c.graph_md,base:c.base,format:c.format,height:10,gm:c.gm,dir:c.graph_dir,minTimediff:c.min_terms,snt:false});var n=$("#TSayLoader , #TSayLoader3").hide();var d=$("#TSayError").hide();var j=$("#TSayRetry").hide();var f=$("#TS2ay .bd h3, #TS2az, #placeholder3");o.init(c.plot,c.ticks,c.gm,c.init);var m=new k.GraphAggregation({api_url:c.api_url,query:c.query,rid:k.rid,thid:k.thid,topic_theme:k.topic_theme,crumb:c.ag_crumb,pskin:k.pskin,serv:c.serv,vrfd:k.vrfd,guts:k.uts,uts:k.uts,lts:k.lts});m.setData(c.gm,{plot:c.plot,ticks:c.ticks,spos:c.init,snt_plot:c.snt_plot,sentiment:k.sentiment});m.setGraph(o);m.setLoader(n);m.setErrorMsg(d);m.setRetryMsg(j);m.setErrorHideClass(f);if(typeof k.sentiment.active!=="undefined"||k.serv===3){var b=new k.Graph($("#placeholder3"),{init:c.init,isMode:c.graph_md,base:c.base,format:c.format,height:10,gm:c.gm,dir:c.graph_dir,minTimediff:c.min_terms,snt:true});b.initSnt(c.snt_plot,c.ticks,c.gm,c.init,k.sentiment.active);var e=k.sentimentLabelModel;var a=YAHOO.JP.srch.rt.pieChart;a.setSntGraph(b);m.setSntGraph(b);m.setPieChart(a);m.setSntLabelModel(e)}(function(){var g={"period-m":"m","period-w":"w","period-d":"d"};var q=$("#TS2ayNav > ul > li > a");q.on("click",function(u){if($(this).parent().hasClass("on")){return false}});var t=$("#TS2ayNav > ul > li");function r(){var u=t.filter(".on").attr("id");return g[u]||false}var p=r();t.on("click",function(u){if($(this).hasClass("on")){return}if(m.isRunnning()){return}var v=g[this.id]||false;if(v===false){return}m.render(v);$(this).siblings().removeClass("on");$(this).addClass("on");p=v});j.find("a").on("click",function(){if(p){m.render(p)}})})()}});