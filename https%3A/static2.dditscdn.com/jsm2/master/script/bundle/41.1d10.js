(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"06a9":function(e,t,n){e.exports={wrap:"_1453USeV4PZn",icons:"_26-y-xDiKalc",content:"_2UMH_0NCFYb1",avatar:"_1gdcZdnJj5IW",title:"_2kV5cvPO7grL",nick:"p4mFVoB5HhdS",description:"hE55UATKlUlG"}},"2d7e":function(e,t,n){"use strict";n.r(t);var c=n("1029"),m=n("8af1"),l=n.n(m),u=n("28be"),a=n("b912"),d=n.n(a),p=n("089a"),f=n("08f3"),h=n("1cab"),g=n("e6c0"),o=n("ea56"),r=n.n(o),i={Aaron:"m-10",Aart:"m-4",Adam:"m-2",Adrien:"m-8",Aiden:"f-9",Alaric:"m-9",Alba:"m-10",Alice:"f-10",Allen:"m-6",Ana:"f-2",Anderson:"m-10",Anton:"m-5",Archer:"m-6",Ash:"m-3",Atticus:"m-10",Austin:"m-10",Barnaby:"m-7",Ben:"m-1",Benson:"m-1",Benton:"m-7",Blaze:"m-2",Brian:"m-2",Brock:"m-9",Brooklyn:"m-4",Bruce:"m-3",Butch:"m-9",Byron:"m-9",Cadence:"f-1",Caleb:"m-7",Calvin:"m-3",Castiel:"m-9",Cedric:"m-1",Cel:"m-3",Charles:"m-8",Chester:"m-5",Chiron:"m-8",Chloe:"m-5",Claudia:"f-5",Clay:"m-7",Cloud:"m-4",Cooper:"m-7",Craig:"m-3",Creed:"m-4",Dani:"f-5",Daniel:"m-2",Dante:"m-9",Darien:"m-4",Darius:"m-1",David:"m-9",Dean:"m-2",Devin:"m-10",Dex:"m-6",Diana:"f-9",Donnie:"m-8",Dorothy:"f-7",Drake:"m-5",Dudley:"m-5",Duncan:"m-4",Edward:"m-3",Ellie:"f-4",Enzo:"m-3",Ezra:"m-4",Floki:"m-1",Flynn:"m-7",Frances:"m-5",Frey:"m-5",Fry:"m-5",George:"m-8",Grace:"f-8",Gustav:"m-4",Hank:"m-8",Harvey:"m-1",Henry:"m-8",Hudson:"m-2",Igor:"m-6",Jack:"m-10",Jackie:"m-3",Jackson:"m-7",Jade:"m-1",Jakkal:"m-4",James:"m-3",Jared:"m-1",Jason:"m-10",Jasper:"m-7",Jeff:"m-10",Jess:"m-3",Joe:"m-3",Johan:"m-2",Joseph:"m-1",Josh:"m-10",Joshua:"m-8",Joyce:"m-1",Judie:"f-2",Justin:"m-6",Kaiden:"m-1",Karoline:"f-1",Kate:"f-10",Kendall:"m-4",Kev:"m-2",Laurent:"m-6",Lebron:"m-9",Leo:"m-6",Leslie:"m-6",Lewis:"m-2",Liv:"f-8",Liz:"f-2",Louie:"m-9",Lucius:"m-5",Luke:"m-6",Ly:"m-9",Marcus:"m-6",Mark:"m-2",Marshall:"m-9",Maximilian:"m-8",Mia:"f-7",Mick:"m-3",Mike:"m-4",Mir:"m-1",Monica:"f-6",Nathan:"m-6",Nathaniel:"m-7",Neil:"m-5",Nero:"m-7",Nick:"m-8",Nicklaus:"m-2",Nico:"m-6",Nicole:"f-6",Nolan:"m-7",Olive:"m-2",Peter:"m-4",Philip:"m-6",Phoenix:"m-10",Randy:"m-1",Ray:"m-9",Reese:"f-1",Remy:"m-8",Robin:"m-2",Roger:"m-5",Roy:"m-1",Rusty:"m-4",Sam:"m-6",Samuel:"m-9",Sara:"f-4",Sasha:"m-2",Saul:"m-10",Sawyer:"m-5",Shepherd:"m-3",Simon:"m-5",Sinclair:"m-1",Spencer:"m-8",Stan:"m-2",Stephen:"m-7",Stewart:"m-8",Syd:"m-3",Theo:"m-3",Tiffany:"f-3",Tony:"m-4",Trevor:"m-8",Tyler:"m-10",Violet:"f-3",Walker:"m-7",Walter:"m-9",Walther:"m-5",Weston:"m-6",Will:"m-5",William:"m-7",Winston:"m-8",Wulfric:"m-10",Xander:"m-4",Zack:"m-7"};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=c.Config.get("staticUrl"),C=function(e){var t=e.className,n=e.nick,a=y(e,["className","nick"]),o=i[n];return l.a.createElement("div",s({},a,{className:d()(r.a.avatar,t),style:o?{backgroundImage:"url(".concat(b,"image/background/support-chat-avatars/").concat(o,".jpg)")}:null}),!o&&l.a.createElement(g.a,{icon:"headset"}))},v=n("06a9"),S=n.n(v),k=n("8a2d"),M=n.n(k);var w=function(e){var t,n,a,o=e.headerClass,r=e.description,i=e.minimize,s=e.nick,c=e.onCloseButtonClick;return l.a.createElement("div",{className:d()(S.a.wrap,(t={},n=S.a.minimize,a=i,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),[o])},l.a.createElement("div",{className:S.a.content},l.a.createElement(C,{className:S.a.avatar,nick:s}),l.a.createElement("div",{className:S.a.title},l.a.createElement("h2",{className:S.a.nick},s),l.a.createElement("p",{className:S.a.description},r))),l.a.createElement("button",{className:S.a.icons,onClick:c},l.a.createElement(g.a,{icon:"close"})))};w.propTypes={description:M.a.node,minimize:M.a.bool,nick:M.a.string,unreadMessages:M.a.number,onCloseButtonClick:M.a.func};var N=w,E=n("4a45"),O=n.n(E),T=function(e){var t=e.children,n=e.onCloseButtonClick,a=e.onMessageClick;return l.a.createElement("div",{className:O.a.message},l.a.createElement("div",{className:O.a.content,onClick:a},t),l.a.createElement("button",{className:O.a.button,onClick:n},l.a.createElement(g.a,{icon:"close"})))},_=n("3d4d"),P=n.n(_),A=n("729a"),j=n.n(A);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){var t=e.nick,n=void 0===t?"":t,a=e.type,o=document.createElement("div"),r=document.createElement("div"),i=f.linkIfy(f.escapeHTML(e.message));return r.className=P.a["sender-name"],r.innerHTML=n,o.className=P.a["message-from-".concat(a)],o.innerHTML='<div class="'.concat(P.a["message-text"],'">').concat(i,"</div>"),o.appendChild(r),o},L=function(){try{window.sessionStorage.setItem("isSupportWelcomeMessageHidden",!0)}catch(e){}},J=function(e){function s(){var e,a,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=this,n=(e=H(s)).call.apply(e,[this].concat(r)),z(D(D(a=!n||"object"!==R(n)&&"function"!=typeof n?D(t):n)),"state",{minimize:!0,nick:"Admin",unreadMessagesCount:0,isWelcomeMessageHidden:function(){try{return window.sessionStorage.getItem("isSupportWelcomeMessageHidden")||!1}catch(e){return!1}}()}),z(D(D(a)),"containerRef",Object(m.createRef)()),z(D(D(a)),"rndRef",Object(m.createRef)()),z(D(D(a)),"renderChat",function(){var e=c.Config.get("supportHTML5Chat"),t=a.props.userData;a.chat||(Object.assign(e.chatConfiguration,{guest:t.isMember?0:1,nick:t.nick?t.nick:e.chatConfiguration.nick,userType:t.supportChatType}),a.chat=new f.SupportChat(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){z(t,e,n[e])})}return t}({},e,{minFontSize:12,typingText:"",welcomeText:Object(p.a)("Our Support Team is live right now. Type any question, so we can assist you"),systemMessage:"User comes from FirstBill live chat",placeholderText:Object(p.a)("Type a message"),container:a.containerRef.current,createMessageElement:B,inputFieldEmptyCls:P.a.empty_field,onShowTyping:a.onShowTyping,onSupportNickChanged:a.onSupportNickChanged,onMessageFromSupportReceived:a.onMessageFromSupportReceived,onSupportFormSubmit:a.onSupportFormSubmit})),a.chat.scrollToBottom=a.scrollToBottom,a.chat.render(),a.createCustomScrollbar())}),z(D(D(a)),"createCustomScrollbar",function(){a.customScrollbar||(a.customScrollbar=new j.a({element:document.querySelector(".support-chat-messages"),forceGemini:!1}).create())}),z(D(D(a)),"scrollToBottom",function(){a.customScrollbar&&(a.customScrollbar.update(),a.customScrollbar.getViewElement().scrollTop=a.customScrollbar.getViewElement().scrollHeight)}),z(D(D(a)),"destroyChat",function(){a.chat.destroy(),delete a.chat,a.customScrollbar.destroy(),delete a.customScrollbar}),z(D(D(a)),"openChatInFullMode",function(){a.state.isWelcomeMessageHidden||L(),h.default.trackGenericEvent({eventCategory:h.default.CONST.PAGE.PAYMENT_PAGE,eventAction:h.default.CONST.ACTION.LIVE_CHAT_CLICK,eventLabel:"support icon"}),a.setState({minimize:!1,isWelcomeMessageHidden:!0,unreadMessagesCount:0},function(){a.renderChat(),a.scrollToBottom()})}),z(D(D(a)),"openChatInMinimizeMode",function(){a.state.isWelcomeMessageHidden||L(),a.setState({minimize:!0,unreadMessagesCount:0})}),z(D(D(a)),"onShowTyping",function(){a.scrollToBottom()}),z(D(D(a)),"onSupportFormSubmit",function(){h.default.trackGenericEvent({eventCategory:h.default.CONST.PAGE.PAYMENT_PAGE,eventAction:h.default.CONST.ACTION.LIVE_CHAT_CLICK,eventLabel:"message send"})}),z(D(D(a)),"onSupportNickChanged",function(e){a.setState({nick:e})}),z(D(D(a)),"onMessageFromSupportReceived",function(){var e=a.state,t=e.unreadMessagesCount;e.minimize&&a.setState({unreadMessagesCount:t+1})}),z(D(D(a)),"resetChatPosition",function(){a.rndRef.current.updatePosition({x:-320,y:-320}),a.rndRef.current.updateSize({width:320,height:320}),a.updateSupportChatMessagesContainer(320),a.setState({minimize:!0})}),z(D(D(a)),"onResize",function(e,t,n){a.updateSupportChatMessagesContainer(n.offsetHeight)}),z(D(D(a)),"updateSupportChatMessagesContainer",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:320,t=document.querySelector(".support-chat-messages");null!==t&&(t.style.height=e-138+"px")}),z(D(D(a)),"hideWelcomeMessage",function(){a.setState({isWelcomeMessageHidden:!0}),L()}),a}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(s,m["Component"]),t=s,(n=[{key:"componentDidMount",value:function(){this.renderChat()}},{key:"componentDidUpdate",value:function(e){var t=e.userData.nick!==this.props.userData.nick;this.props.isVisible!==e.isVisible&&this.resetChatPosition(),t&&(this.destroyChat(),this.renderChat())}},{key:"componentWillUnmount",value:function(){this.destroyChat()}},{key:"render",value:function(){var e,t=this.state,n=t.minimize,a=t.nick,o=t.unreadMessagesCount,r=t.isWelcomeMessageHidden,i=this.props,s=i.maxUnread,c=i.isVisible;return l.a.createElement("div",{className:d()(P.a.container,(e={},z(e,P.a.minimize,n),z(e,P.a.hidden,!c),e))},l.a.createElement("div",{className:P.a["min-mode"]},!r&&l.a.createElement(T,{onCloseButtonClick:this.hideWelcomeMessage,onMessageClick:this.openChatInFullMode},Object(p.a)("You got questions? We got answers! We are here to help, 24/7.")),l.a.createElement(C,{nick:a,className:d()(P.a["support-avatar"],P.a.shadow),onClick:this.openChatInFullMode}),0!==o&&l.a.createElement("span",{className:P.a["unread-messages"]},s<o?"".concat(s,"+"):o)),l.a.createElement("div",{className:P.a["max-mode"]},l.a.createElement(u.a,{ref:this.rndRef,default:{x:-160,y:-160,width:320,height:320},minWidth:320,minHeight:320,dragHandleClassName:P.a.header,onResize:this.onResize},l.a.createElement(N,{headerClass:d()(P.a.header,P.a.shadow),minimize:n,nick:a,description:"Support representative",onCloseButtonClick:this.openChatInMinimizeMode}),l.a.createElement("div",{className:d()(P.a.chat,P.a.shadow),ref:this.containerRef}))))}}])&&x(t.prototype,n),a&&x(t,a),s}();z(J,"defaultProps",{maxUnread:99});t.default=J},"3d4d":function(e,t,n){e.exports={shadow:"_2PW4PbP1a9_C",header:"_1WBcmfZCvd7d",draggable:"_3bKDxDa9NQQn",container:"hihb_MQKT1_d",chat:"_1Rrtucn6FU08",hidden:"oOHrHiTqc7Z7",minimize:"_21QMe4G7VXuU","sender-name":"_2RMNNwN4rfMX","message-from-user":"_31m0CyUTbPj8","message-text":"_1vjxct8YI2jd","message-from-support":"_1zscSMXcJyMT",loading_dots:"fdT5aWib-2KW",empty_field:"_2NxVk9nxcRYr","min-mode":"_3B1d3FvYniWg","unread-messages":"_1K-MNXaQXHjQ","max-mode":"_1ZqcDYe-8ugg","support-avatar":"_2bSPhD0dnfoA"}},"4a45":function(e,t,n){e.exports={message:"_2_QjNfA1RHU5",content:"_2hkxO0Lp3w03",button:"_2R0r-Lll52fv"}},ea56:function(e,t,n){e.exports={avatar:"_2OCzT3muU4yP"}}}]);