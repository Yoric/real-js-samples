(window.webpackJsonp=window.webpackJsonp||[]).push([["Trending"],{"./src/reddit/components/SearchDiscoveryUnits/TrendingPostsDiscoveryUnit/index.tsx":function(e,t,n){"use strict";n.r(t);var r,s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),c=n("./src/reddit/actions/page.ts"),a=n("./src/reddit/components/DiscoveryUnit/Layout/index.tsx"),l=n("./src/reddit/components/SearchDiscoveryUnits/DiscoveryUnitHeader/index.tsx"),p=n("./bundled-modules/styled-components/styled-components.min.js"),b=n.n(p),m=n("./src/reddit/components/SubredditNameLink/index.tsx"),g=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),u=n("./src/reddit/helpers/trackers/discoveryUnit.ts"),h=n("./src/config.ts"),f=n("./node_modules/polished/dist/polished.es.js"),x=n("./src/lib/addQueryParams/index.ts"),v=n("./src/reddit/components/DiscoveryUnit/Layout/Posts/LargePost/index.tsx"),y=n("./src/reddit/components/MiniCardPost/index.tsx"),j=n("./src/reddit/components/Translated/index.tsx"),k=n("./src/reddit/constants/zIndex.ts"),w=n("./src/reddit/contexts/PageLayer/index.tsx"),I=n("./src/reddit/controls/InternalLink/index.tsx"),O=n("./src/reddit/controls/Search/RelatedSubredditMetaData.tsx"),S=n("./src/reddit/models/Theme/index.ts"),P=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),C=n("./src/reddit/components/HeaderSubredditSelector/ListItem/index.m.less"),T=n.n(C),D=n("./src/reddit/components/MiniCardPost/index.m.less"),N=n.n(D),U=n("./src/reddit/controls/Search/index.m.less"),V=n.n(U),$=n("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less"),L=n.n($),M=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,s){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});if(1===i)t.children=s;else if(i>1){for(var c=Array(i),a=0;a<i;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});const _=b.a.div.withConfig({componentId:"s1inann8-0"})(["border-radius: 8px;",";background-color: ",";background-size: cover;height: 178px;fill: ",";overflow: hidden;position: relative;width: 100%;&::before {background-image: ",";content: '';position: absolute;top: 0;right: 0;bottom: 0;left: 0;z-index: ",";}."," {margin-left: 0;}."," {padding: 12px;position: absolute;bottom: 0;z-index: ",";}."," {border: 1px solid ",";}"],e=>e.backgroundImage?`background: ${Object(S.g)(Object(P.c)(e).body,e.backgroundImage||Object(P.c)(e).banner.backgroundImage,"cover")}`:`&::after {\n        background-image: url(${h.a.assetPath}/img/trending-placeholder.png);\n        background-size: cover;\n        opacity: 0.3;\n        content: "";\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        position: absolute;\n      } `,e=>e.backgroundImage?"transparent":Object(P.c)(e).body,e=>e.backgroundImage?"inherit":Object(P.c)(e).line,e=>e.backgroundImage?"linear-gradient(0deg,\n          rgba(0,0,0,1) 0%,\n          rgba(0,0,0,0.8) 25%,\n          rgba(0,0,0,0.6) 50%,\n          rgba(0,0,0,0.4) 75%,\n          rgba(0,0,0,0.2) 100%\n        )":`linear-gradient(\n          ${Object(f.e)(Object(P.c)(e).body,.2)},\n          ${Object(f.e)(Object(P.c)(e).body,.3)},\n          ${Object(f.e)(Object(P.c)(e).body,.4)},\n          ${Object(f.e)(Object(P.c)(e).body,.6)},\n          ${Object(f.e)(Object(P.c)(e).body,.8)},\n          ${Object(P.c)(e).body}\n        )`,k.e,T.a.subText,N.a.innerContainer,k.h,V.a.icon,e=>Object(P.c)(e).line),z=b.a.div.withConfig({componentId:"s1inann8-1"})(["color: ",";"],e=>e.backgroundImage?Object(P.c)(e).lightText:Object(P.c)(e).bodyText),A=Object(w.v)(),H=b()(e=>{const t=e.onPostClick,n=e.trendingPost,r=e.trendingSearch,s=r.isWhitelisted&&n&&n.preview&&n.preview.url||void 0;return M(z,{className:L.a.trendingPost,backgroundImage:s},void 0,M(I.a,{to:Object(x.a)("/search",{q:e.trendingSearch.rawQuery,source:"trending"})},void 0,M(_,{className:N.a.backgroundWrapper,backgroundImage:s},void 0,M("div",{className:N.a.innerContainer,onClick:t},void 0,M("h2",{className:n?L.a.title:L.a.titleNoDescription},void 0,e.title),n&&r.isWhitelisted?M("div",{className:L.a.description},void 0,n.title):M("div",{className:L.a.spacer}),r.subredditInfo&&M(O.a,{iconUrl:r.subredditInfo.icon||void 0,suffix:M(j.a,{msgId:"search.subredditMetaData.andMore",replacements:{displayText:r.subredditInfo.displayText}})})))))}).withConfig({componentId:"s1inann8-2"})(["",";border-color: ",";color: ",";display: inline-flex;flex: 1;"],v.b,e=>Object(P.c)(e).line,e=>Object(P.c)(e).bodyText);var Q=A(Object(y.b)(H)),W=n("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/index.m.less"),q=n.n(W),F=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,s){var o=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&o)for(var d in o)void 0===n[d]&&(n[d]=o[d]);else n||(n=o||{});if(1===i)n.children=s;else if(i>1){for(var c=Array(i),a=0;a<i;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();const J=b.a.div.withConfig({componentId:"s1r6xahv-0"})([""," {",";}"],m.a,g.titleFontH6);var R=Object(i.connect)(null,e=>({trackPostView:t=>e((e,n)=>u.r(n(),t)),trackPostClick:t=>e((e,n)=>u.q(n(),t))}))(e=>F(J,{className:q.a.container},void 0,F("div",{className:q.a.trendingPosts},void 0,e.trendingSearches.map((t,n)=>(e.trackPostView(t),F(Q,{className:q.a.trendingPost,forceLoadMedia:!0,showMetaLine:!1,title:t.searchQuery,trendingSearch:t,trendingPost:t.post,postId:t.post?t.post.id:"",onPostClick:()=>e.trackPostClick(t)},t.post?t.post.id:n)))))),B=n("./src/reddit/contexts/ApiContext.tsx"),E=n("./src/reddit/endpoints/trending/index.ts"),G=n("./src/reddit/selectors/trending.ts"),K=n("./src/reddit/components/SearchDiscoveryUnits/TrendingPostsDiscoveryUnit/Container/index.tsx"),X=n("./src/reddit/components/SearchDiscoveryUnits/TrendingPostsDiscoveryUnit/Placeholder/index.tsx"),Y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,s){var o=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&o)for(var d in o)void 0===n[d]&&(n[d]=o[d]);else n||(n=o||{});if(1===i)n.children=s;else if(i>1){for(var c=Array(i),a=0;a<i;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();const Z=Object(i.connect)(()=>Object(d.createStructuredSelector)({trendingItems:G.a}),(e,t)=>({onTrendingItemsSuccess:t=>e(Object(c.T)({items:t}))}));t.default=Object(B.b)(Z(class extends o.a.Component{constructor(e){super(e),this.fetchTrendingPosts=(async()=>{const e=await Object(E.a)(this.props.apiContext());if(e.ok){const t=Object(E.b)(e);this.props.onTrendingItemsSuccess(t),this.isLoading=!1}}),this.isLoading=!1}componentDidMount(){this.isLoading=!0,this.fetchTrendingPosts()}render(){const e=Y(o.a.Fragment,{},void 0,Y(l.a,{},void 0,Y(j.a,{msgId:"discoveryUnits.trendingToday"})));if(!this.props.trendingItems||0===this.props.trendingItems.length)return Y(X.a,{className:this.props.className,exploreV2Variant:this.props.exploreV2Variant,showCardView:!!this.props.showCardView});const t=this.props.maxItemsCount?this.props.trendingItems.slice(0,this.props.maxItemsCount):this.props.trendingItems;return Y(K.a,{className:this.props.className,showCardView:this.props.showCardView},void 0,Y(a.a,{exploreV2Variant:this.props.exploreV2Variant,header:e},void 0,Y(R,{trendingSearches:t})))}}))}}]);
//# sourceMappingURL=Trending.832da45590f3de7cc3fd.js.map