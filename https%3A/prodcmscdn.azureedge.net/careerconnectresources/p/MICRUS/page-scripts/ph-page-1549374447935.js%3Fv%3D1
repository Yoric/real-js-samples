define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-oauthsignin-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"siteConfig",ddoKeyJwtLogout:"jwtLogout",ddoKeySocialProfile:"getSocialProviderProfile",ddoKeySitelProfile:"mergedProfile",ddoKeyCreateProfile:"createProfile",ddoKeyRedirectionData:"",validateJwtToken:"validateJwtToken",ddoKeyGetAppLogOut:"getAppLogOut",ddoKeyIsProfileUpdated:"isProfileUpdated",ddoKeyViewProfile:"viewProfile",ddoKeyJobCartCountV2:"jobCartCountV2",ddoKeyValidateEmail:"validateEmail",ddoKeyValidateCanTrackId:"validateCanTrackId",ddoKeyUpdateThirdPartyId:"updatethirdpartyid",ddoKeyMasterData:"profileMasterData"}}}),define("v1/ph-oauthsignin-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-oauthsignin-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.commonService=e}return e.prototype.makeDDORequest=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return(e||{})[t]})},e.prototype.getProfileMasterData=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.OauthsigninService=o});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-oauthsignin",["require","exports","aurelia-framework","ph-common","./ph-oauthsignin-config","./ph-oauthsignin-service","aurelia-event-aggregator"],function(e,t,a,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ph-oauthsignin-v1",c={createProfile:"createProfile",oauthLi:"view1",login:"login",logout:"logout",myProfile:"myProfile",socialsso:"socialsso",imProfile:"imProfile",imSignin:"imSignin",validateCandidateId:"canTrack",validateEmail:"validateEmail",dynamicspoc:"dynamicspoc"},l=function(e){function t(t,a,n,o,i,r){var c=e.call(this,t,a,s)||this;return c.commonService=a,c.localStorage=n,c.oSigninService=o,c.eventAggregator=i,c.validationController=r,c.isSiteLogin=!1,c.countryComplaince=!1,c.disableAction=!1,c.viewType=null,c.oBasicProfile={},c.basicProfileForm={},c.showUpdateProfile=null,c.validateCanTrackIdErrorMsg="",c.referer="",c.pathName="",c.showErrorMsg=!1,c.isLoggingOut=!1,c.showDropDown=!1,c.onLoginError=null,c._countriesData=[],c.dynamicsApplyUrl="",c.user={isLoggedIn:null,userId:"",userType:"",siteType:"",socialProvider:"",redirectUri:"",logoutSuccess:null,addRedirectionUri:!1,isSiteLogin:!1,isSocialLogin:!1},c._user={},c.providerKey={FACEBOOK:"facebook",MICROSOFT:"microsoft",MICROSOFTCORPORATE:"microsoftCorporate",LINKEDINCORPORATE:"linkedinCorporate",LINKEDIN:"linkedIn",GOOGLE:"google"},c.providerCode={linkedin:"linkedIn",live_aad:"microsoftCorporate",google:"google",live:"microsoft",facebook:"facebook"},c.providers={},c.loginErrors={hasErrorThree:!1},c.handleLoginStatus=function(e,t){"ph-login"==e&&c.getValidJwtToken()},c.getRootDomain(),c}return __extends(t,e),t.prototype.created=function(){window.phApp&&(window.phApp.loginStatus=this.handleLoginStatus),this.onLoginError=e.prototype.getQueryParam.call(this,"errorCode")},t.prototype.getRootDomain=function(e){this.baseDomain=e?phApp.rootDomain||phApp.baseDomain:phApp.baseDomain,n.logger.info("ROOT_DOMAIN: + "+phApp.rootDomain),n.logger.info("BASE_DOMAIN: + "+phApp.baseDomain)},t.prototype.handlePage=function(){var t=this,a={};switch(this.mode){case c.createProfile:e.prototype.hideLoader.call(this),this.countryComplaince?this.getCountryWithBasicProfile():this.getBasicProfile();break;case c.socialsso:case c.oauthLi:case c.login:case c.dynamicspoc:this.onLoginError&&"three"===this.onLoginError&&(this.loginErrors.hasErrorThree=!0),this.handleLoginPage();break;case c.myProfile:this.eventAggregator.subscribe("loggedin",function(e){t.user.isLoggedIn=e.state}),this.user.isLoggedIn&&this.getFullProfile(),this.eventAggregator.subscribe("PROFILE_UPDATED",function(e){t.user.profile.firstName=e.firstName,t.user.profile.middleName=e.middleName,t.user.profile.preferredName=e.preferredName||"",t.user.profile.preferredFirstName=e.preferredFirstName||"",t.user.profile.lastName=e.lastName});break;case c.logout:if(e.prototype.unhideLoader.call(this),this.localStorage.setItem("countryComplaince-_-"+window.location.href,{countryComplaince:this.countryComplaince,isFor:"complaince"}),!0===this.user.isLoggedIn)this.dologout();else if(!1===this.countryComplaince){var n=this.commonService.getBaseUrl();window.location.href=n}break;case c.imProfile:this.imInit();break;case c.imSignin:this.eventAggregator.subscribe("social-logout",function(){t.user.isLoggedIn=!1});break;case c.validateEmail:e.prototype.unhideLoader.call(this),a={token:e.prototype.getQueryParam.call(this,"token")},this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyValidateEmail,a).then(function(e){window.location=t.commonService.getBaseUrl()+"login"});break;case c.validateCandidateId:e.prototype.unhideLoader.call(this),a={guid:e.prototype.getQueryParam.call(this,"guid")},this.localStorage.setItem("ph$$diug",a),this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyValidateCanTrackId,a).then(function(a){e.prototype.hideLoader.call(t),200==a.status?window.location=t.commonService.getBaseUrl()+"login":(t.localStorage.removeItem("ph$$diug"),t.showErrorMsg=!0,t.validateCanTrackIdErrorMsg=a.message)})}},t.prototype.handleSocialSSO=function(){if(this.mode===c.socialsso){var t=e.prototype.getQueryParam.call(this,"authType"),a=e.prototype.getQueryParam.call(this,"sendAfterAuthURL");if(t){var n=this.providerCode[t];this.doSSOlogin(n,a)}else window.location=this.commonService.getBaseUrl()}},t.prototype.getFullProfile=function(){var e=this,t={};this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyViewProfile,t).then(function(t){if(t&&t.profile){var a=t.profile;e.user.profile=a}else e.user.profile={firstName:"",preferredFirstName:"",preferredName:"",middleName:"",lastName:""}})},t.prototype.handlePagePath=function(t,a){t.preventDefault();var n=this.localStorage.getItem("countryComplaince-_-"+window.location.href)||{},o=n.countryComplaince;this.localStorage.removeItem("countryComplaince-_-"+window.location.href);var i=this.commonService.getBaseUrl(),r=i;if(-1===i.lastIndexOf("/")&&(r+="/"),o)r+="login",window.location.href=r;else{var s=this.commonService.getPageName(),c=e.prototype.getQueryParam.call(this,"qpage")||window.location.pathname+window.location.search;c=decodeURIComponent(c),s=e.prototype.getQueryParam.call(this,"page")||s,s=decodeURIComponent(s),r+="login",window.location.href=r+"?qpage="+encodeURIComponent(c)+"&page="+s}},t.prototype.redirectToPage=function(e,t){var a=this.commonService.getBaseUrl();window.location.href=t?a+t:a},t.prototype.handleLoginPage=function(){var t=this;e.prototype.unhideLoader.call(this),this.user.isLoggedIn||this.mode!==c.dynamicspoc||(window.location=this.commonService.getBaseUrl()+"login?qpage=%2Fus%2Fen%2Fdynamicspoc&page=dynamics-poc"),this.commonService.getPageName(),this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKey).then(function(a){var o=a.data||{},i=o.siteSettings&&o.siteSettings.oauth;i?(t.providers=i,e.prototype.hideLoader.call(t),t.handleSocialSSO()):n.logger.info("siteconfig data not available...");var r=o.siteSettings.dynamics;r&&(t.dynamicsApplyUrl=r.flowurl+"?token=YTk0YmM5NTctOWZlZi00NzEwLTg3MmMtYzc1NmMwNjc1NzJl&domain_hint="+r.domain_hint[t.user.socialProvider]+"&redirect_uri="+t.commonService.getBaseUrl())})},t.prototype.attached=function(){e.prototype.attached.call(this),this.getValidJwtToken()},t.prototype.onError=function(){n.logger.info("onerror")},t.prototype.redirectToProvider=function(e,t){var a=this.providerKey,n=e.loginUrl+"?response_type="+e.response_type+"&";switch(t){case a.MICROSOFT:case a.LINKEDIN:case a.LINKEDINCORPORATE:case a.MICROSOFTCORPORATE:n+="client_id="+encodeURIComponent(e.clientId)+"&";break;case a.GOOGLE:n+="client_id="+encodeURIComponent(e.clientId)+"&access_type=offline&approval_prompt=auto&";break;case a.FACEBOOK:n+="api_key="+encodeURIComponent(e.clientId)+"&"}if(t){if(n+="redirect_uri="+encodeURIComponent(e.redirectUriPath),e.scope&&(n+="&scope="+encodeURIComponent(e.scope)),e.state){var o=encodeURIComponent(e.state);t===a.FACEBOOK&&o&&(o=o.substring(1)),n+="&state="+o}window.location.href=n}else this.disableAction=!1},t.prototype.getLoacale=function(){var e=this.commonService.getLocale();return e=e.split("_"),e="/"+e[1]+"/"+e[0]+"/"},t.prototype.dologin=function(t,a){this.disableAction=!0;var o=e.prototype.getQueryParam.call(this,"qpage")||"";o=decodeURIComponent(o);var i=e.prototype.getQueryParam.call(this,"page")||"",r=this.providers[t],s=this.getLoacale(),c=this.commonService.getLocale(),l=window.location.pathname;o||(l+=window.location.search);var d={page:l,protocol:window.location.protocol,localePath:s,qpage:o,pagename:i,locale:c};a?(d.t="ns",d.page=l):this.user.addRedirectionUri&&(d.page=l),r?(r.redirectUriPath=this.commonService.getRootDomain()+r.redirectUri,r.state=JSON.stringify(d),this.redirectToProvider(r,t)):n.logger.info("provider doesnt exist")},t.prototype.doSSOlogin=function(e,t){this.disableAction=!0;var a=t;a=decodeURIComponent(a);var o=t,i=this.providers[e],r=this.getLoacale(),s=this.commonService.getLocale(),c={page:a,protocol:window.location.protocol,localePath:r,qpage:a,pagename:o,locale:s,sso:!0};i?(i.redirectUriPath=this.commonService.getRootDomain()+i.redirectUri,i.state=JSON.stringify(c),this.redirectToProvider(i,e)):n.logger.info("provider doesnt exist")},t.prototype.handleSignout=function(e){window.location.href=this.commonService.getBaseUrl()+"logout"},t.prototype.handleLogOut=function(t){var a=this;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyJwtLogout,{}).then(function(t){e.prototype.hideLoader.call(a),e.prototype.raiseEvent.call(a,"social-logout",{}),window.location.href=a.commonService.getBaseUrl()+"logout"})},t.prototype.dologout=function(){var t=this;this.isLoggingOut=!0,this.eventAggregator.publish("loggedin",{state:null}),this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyGetAppLogOut).then(function(a){!a||"success"!=a.status&&200!=a.status?(t.user.logoutSuccess=!1,t.eventAggregator.publish("loggedin",{state:!0})):(t.localStorage.removeItem("ph$$diug"),t.user.logoutSuccess=!0,t.eventAggregator.publish("loggedin",{state:!1}),t.eventAggregator.publish("jobCartUpdatedCount","")),e.prototype.hideLoader.call(t),t.isLoggingOut=!1})},t.prototype.doIMLogout=function(){var t=this,a=o.WidgetConfig.v1.ddoKeyJwtLogout;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,a).then(function(a){e.prototype.hideLoader.call(t),a.status&&"SUCCESS"==a.status.toUpperCase()&&a.data&&"string"==typeof a.data?window.location.href=a.data:window.location.href=t.commonService.getRootDomain()},function(a){e.prototype.hideLoader.call(t),new Error(a)})},t.prototype.imInit=function(){var e=this;document.addEventListener("click",function(){e.showDropDown=!1})},t.prototype.toggleDropDown=function(e){this.showDropDown=!this.showDropDown,e.stopPropagation()},t.prototype.getValidJwtToken=function(){var t=this;this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.validateJwtToken).then(function(a){if(t.updateState(a),t.validate(),t.handlePage(),e.prototype.hideLoader.call(t),t.user.isLoggedIn&&c.logout!==t.mode){var i=t.getCanTrackIdValue();if(i){n.logger.info("ph$$diug available");var r={thirdPartyId:i};t.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyUpdateThirdPartyId,r).then(function(e){200==e.status&&(t.localStorage.removeItem("ph$$diug"),n.logger.info("ph$$diug removed"))})}else n.logger.info("ph$$diug unavailable")}})},t.prototype.validate=function(){var e=this;this.user.isLoggedIn&&this.mode===c.oauthLi&&this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyIsProfileUpdated).then(function(t){t&&"linkedin"!=t.socialProvider&&(e.showUpdateProfile=!t.profileUpdated)})},t.prototype.updateState=function(e){var t=e||{},a=t.data||{};this.user.isLoggedIn=a.isValidToken||!1,this.user.userId=a.userId||"",this.user.isSiteLogin=a.isSiteLogin||!1,this.user.isSocialLogin=a.isSocialLogin||!1,this.user.userType=a.userType||"",this.user.siteType=a.siteType||"",this.user.socialProvider=a.socialProvider||"",this.user.redirectUri=a.redirectUri||"/",this.pageName=this.user.redirectUri,this.user.addRedirectionUri=!a.redirectionUriNotRequired,this.isSiteLogin&&this.getProfile()},t.prototype.getProfile=function(){var t=this;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeySitelProfile,{}).then(function(a){n.logger.info(a),a&&a.email&&(t.user.email=a.email),e.prototype.hideLoader.call(t)})},t.prototype.getBasicProfile=function(){var t=this;e.prototype.unhideLoader.call(this),this.validationController.validationErrors={};var a={};this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeySocialProfile,a).then(function(a){e.prototype.hideLoader.call(t),t.commonService.setValidationRules(phApp.validationRules||{}),t.commonService.setLangBundle(phApp.messages||{});var n=a.data;n&&(n.statusCode?(t.showErrorMsg=!0,t.errorCode="E4444",t.authReminder=n.message||a.message||"",e.prototype.hideLoader.call(t)):t.oBasicProfile=n),t.basicProfileForm=JSON.parse(JSON.stringify(t.oBasicProfile)),t.validationController.addValidationCtx(t.basicProfileForm,t.commonService.getValidationRules("profile"))},function(a){e.prototype.hideLoader.call(t),new Error(a)})},t.prototype.getCountryWithBasicProfile=function(){var e=this,t={};t.type="country",this.oSigninService.getProfileMasterData(s,o.WidgetConfig.v1.ddoKeyMasterData,t).then(function(t){if("success"==t.status)if(t&&t.data&&t.data.country){e.getBasicProfile();for(var a=t.data.country,n=0;n<a.length;n++)e._countriesData.push(a[n].displayName)}else e.showError("E202");else e.showError("E202")})},t.prototype.getCanTrackIdValue=function(){var e=this.localStorage.getItem("ph$$diug"),t=null;return e&&(t=e.guid),t},t.prototype.saveProfile=function(){var t=this;if(this.validationController.hasErrors())return void(this.showErrorMsg=!0);this.showErrorMsg=!1,e.prototype.unhideLoader.call(this);var a=this.getCanTrackIdValue();this.basicProfileForm.guid=a,this.oSigninService.makeDDORequest(s,o.WidgetConfig.v1.ddoKeyCreateProfile,this.basicProfileForm).then(function(a){if(a)if(a.statusCode)t.showErrorMsg=!0,t.errorCode="E4444",t.authReminder=a.message,e.prototype.hideLoader.call(t);else{var n=a&&a.redirectUri;n?t.handlePageRedirectOnProfileCreate(n):(e.prototype.hideLoader.call(t),t.showError())}},function(a){e.prototype.hideLoader.call(t),new Error(a)})},t.prototype.handlePageRedirectOnProfileCreate=function(e){this.localStorage.removeItem("ph$$diug"),this.getCanTrackIdValue()?this.handlePageRedirectOnProfileCreate(e):window.location=this.baseDomain+e},t.prototype.showError=function(e){this.showErrorMsg=!0,this.errorCode=e||"E202"},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable,__metadata("design:type",String)],t.prototype,"mode",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isSiteLogin",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"countryComplaince",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"dynamicsApplyUrl",void 0),t=__decorate([a.customElement(s),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==n.CommonService&&n.CommonService)&&l||Object,"function"==typeof(d=void 0!==n.LocalStorageAPI&&n.LocalStorageAPI)&&d||Object,i.OauthsigninService,r.EventAggregator,"function"==typeof(p=void 0!==n.ValidationController&&n.ValidationController)&&p||Object])],t);var l,d,p}(n.PhenomWidget);t.Oauthsignin=l}),define("text!v1/ph-oauthsignin.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/create-profile/view.html",["module"],function(e){e.exports='<template> \n <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n                        <div class="profile-section">\n                            \x3c!-- Basic view --\x3e\n                                <div class="form-section-main">\n                                    <div class="your-profile-section">\n                                        <div class="your-profile-heading">\n                                            <h2>Create Profile</h2>\n                                        </div>\n                                        <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n                                        <form name="basicProfileForm" id="basicProfileForm" class="${showLoader ? \'disabled\' : \'\'}">\n                                            \x3c!--incomplete profile --\x3e\n                                            <div class="alert-form-message" if.bind="showErrorMsg && errorCode == \'E4444\'">\n                                                <div class="error-title">\n                                                    <p>${authReminder}</p>\n                                                </div>\n                                             </div>\n                                            \n                                            \n                                             \x3c!--unknown warning message--\x3e\n                                                <div class="alert-form-message" if.bind="showErrorMsg && errorCode == \'E202\'">\n                                                    \x3c!--<i class="icon icon-cancel  close"></i>--\x3e\n                                                    <div class="error-title">\n                                                    <ppc-content>Oops! An error occurred. Please try again</ppc-content></div>\n                                                </div>\n                                            <div class="your-form-group">\n                                                <div class="form-group">\n                                                    <label for="firstName">\n                                                    <ppc-content>\n                                                       First name\n                                                        <span class="required-text">\n                                                            <ppc-content key="literal-1487861327703-39">\n                                                                (required)\n                                                            </ppc-content>\n                                                        </span>\n                                                    </ppc-content>\n                                                    </label>\n                                                    <input type="text" id="firstName" name="firstName" value.bind="basicProfileForm.firstName & phValidate" data-rule-required="true"  aria-label="Enter first name">\n                                                    <span class="error-active" repeat.for="error of validationController.validationErrors.firstName">\n                                                        ${error | pht}\n                                                    </span>\n                                                </div>\n                                                <div class="form-group">\n                                                    <label for="lastName">\n                                                    <ppc-content>\n                                                       Last name\n                                                        <span class="required-text">\n                                                            <ppc-content key="literal-1487861327703-39">\n                                                                (required)\n                                                            </ppc-content>\n                                                        </span>\n                                                    </ppc-content>\n                                                    </label>\n                                                 \n                                                    <input type="text" id="lastName" name="lastName" value.bind="basicProfileForm.lastName & phValidate" data-rule-required="true" aria-label="Enter last name">\n                                                    <span class="error-active" repeat.for="error of validationController.validationErrors.lastName">\n                                                        ${error | pht}\n                                                    </span>\n                                                </div>\n                                                <div class="form-group">\n                                                    <label for="emailAddress">Email Address</label>\n                                                    <input type="email" id="emailAddress" name="emailAddress" value.bind="basicProfileForm.email" aria-disabled="true" disabled="disabled">\n                                                </div>\n                                            </div>\n                                            \x3c!--your form group --\x3e\n                                            \x3c!--actin buttons--\x3e\n                                            <div class="action-btns">\n                                                <a ph-href="${pageName}" class="btn btn-link" title="Cancel">Cancel</a>\n                                                <button type="submit" class="btn primary-button" click.delegate="saveProfile()" title="Create">Create</button>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </div>\n                            \x3c!--Basic view end--\x3e\n                        </div>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/create-profile-view2/view.html",["module"],function(e){e.exports='<template> \r\n <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\r\n                        <div class="profile-section">\r\n                            \x3c!-- Basic view --\x3e\r\n                                <div class="form-section-main">\r\n                                    <div class="your-profile-section">\r\n                                        <div class="your-profile-heading">\r\n                                            <h2>Create Profile</h2>\r\n                                        </div>\r\n                                        <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\r\n                                        <form name="basicProfileForm" id="basicProfileForm" class="${showLoader ? \'disabled\' : \'\'}">\r\n                                            \x3c!--incomplete profile --\x3e\r\n                                            <div class="alert-form-message" if.bind="showErrorMsg && errorCode == \'E4444\'">\r\n                                                <div class="error-title">\r\n                                                    <p>${authReminder}</p>\r\n                                                </div>\r\n                                             </div>\r\n                                            \r\n                                            \r\n                                             \x3c!--unknown warning message--\x3e\r\n                                                <div class="alert-form-message" if.bind="showErrorMsg && errorCode == \'E202\'">\r\n                                                    \x3c!--<i class="icon icon-cancel  close"></i>--\x3e\r\n                                                    <div class="error-title">\r\n                                                    <ppc-content>Oops! An error occurred. Please try again</ppc-content></div>\r\n                                                </div>\r\n                                            <div class="your-form-group">\r\n                                                <div class="form-group">\r\n                                                    <label for="firstName">\r\n                                                    <ppc-content>\r\n                                                       First name\r\n                                                        <span class="required-text">\r\n                                                            <ppc-content key="literal-1487861327703-39">\r\n                                                                (required)\r\n                                                            </ppc-content>\r\n                                                        </span>\r\n                                                    </ppc-content>\r\n                                                    </label>\r\n                                                    <input type="text" id="firstName" name="firstName" value.bind="basicProfileForm.firstName & phValidate" data-rule-required="true"  aria-label="Enter first name">\r\n                                                    <span class="error-active" repeat.for="error of validationController.validationErrors.firstName">\r\n                                                        ${error | pht}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label for="lastName">\r\n                                                    <ppc-content>\r\n                                                       Last name\r\n                                                        <span class="required-text">\r\n                                                            <ppc-content key="literal-1487861327703-39">\r\n                                                                (required)\r\n                                                            </ppc-content>\r\n                                                        </span>\r\n                                                    </ppc-content>\r\n                                                    </label>\r\n                                                 \r\n                                                    <input type="text" id="lastName" name="lastName" value.bind="basicProfileForm.lastName & phValidate" data-rule-required="true" aria-label="Enter last name">\r\n                                                    <span class="error-active" repeat.for="error of validationController.validationErrors.lastName">\r\n                                                        ${error | pht}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label for="emailAddress">Email Address</label>\r\n                                                    <input type="email" id="emailAddress" name="emailAddress" value.bind="basicProfileForm.email" aria-disabled="true" disabled="disabled">\r\n                                                </div>\r\n                                            </div>\r\n                                            \x3c!--your form group --\x3e\r\n                                            \x3c!--actin buttons--\x3e\r\n                                            <div class="action-btns">\r\n                                                <a ph-href="${pageName}" class="btn btn-link" title="Cancel">Cancel</a>\r\n                                                <button type="submit" class="btn primary-button" click.delegate="saveProfile()" title="Create">Create</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            \x3c!--Basic view end--\x3e\r\n                        </div>\r\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/default/view.html",["module"],function(e){
e.exports='<template>\n<div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n<div class="login-area ${showLoader ? \'hidden\' : \'\'}">\n    <h1 class="login-title" role="heading" aria-label="Sign in">\n        <ppc-content key="login-heading">\n            Sign in\n        </ppc-content>\n    </h1>\n    <div class="personal-login">\n\n        <h4 class="login-heading" role="heading" aria-label="Personal">\n            <ppc-content key="login-subheading-personal">\n                Personal\n            </ppc-content>\n        </h4>\n        <p class="login-description" role="contentinfo" aria-label="Sign in with your personal account.">\n            <ppc-content key="login-subheading-personal-text">\n                Sign in with your personal account.\n            </ppc-content>\n        </p>\n\n        <ul class="login-category-list">\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.MICROSOFT)" role="button" title="Sign in with Microsoft" ph-tevent="external_account_login" data-ph-tevent-attr-trait213="microsoft">\n                    <div class="icon-box microsoft-icon">\n                        <ppc-content type="icon">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-microsoft">\n                        Sign in with Microsoft\n                    </div>\n                </a>\n            </li>\n\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.LINKEDIN)" title="Sign in with LinkedIn" role="button" ph-tevent="external_account_login" data-ph-tevent-attr-trait213="linkedin">\n                    <div class="icon-box linkedin-icon">\n                        <ppc-content type="icon">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-linkedin">\n                        Sign in with LinkedIn\n                    </div>\n                </a>\n            </li>\n\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.FACEBOOK)" title="Sign in with Facebook" role="button" ph-tevent="external_account_login" data-ph-tevent-attr-trait213="facebook">\n                    <div class="icon-box facebook-icon">\n                        <ppc-content type="icon">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-facebook">\n                        Sign in with Facebook\n                    </div>\n                </a>\n            </li>\n\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.GOOGLE)" title="Sign in with Google" role="button" ph-tevent="external_account_login" data-ph-tevent-attr-trait213="google">\n                    <div class="icon-box google-icon">\n                        <ppc-content type="icon">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-google">\n                        Sign in with Google\n                    </div>\n                </a>\n            </li>\n\n        </ul>\n    </div>\n\n    <div class="corporate-login">\n\n        <h4 class="login-heading">\n            <ppc-content key="login-subheading-corporate" aria-label="Corporate" role="heading">\n                Corporate\n            </ppc-content>\n        </h4>\n        <p class="login-description">\n            <ppc-content key="login-subheading-corporate-text" aria-label="Sign in with your corporate account." role="contentinfo">\n                Sign in with your corporate account.\n            </ppc-content>\n        </p>\n\n        <ul class="login-category-list">\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.MICROSOFTCORPORATE)" title="Microsoft corporate sign in" role="button" ph-tevent="internal_account_login" data-ph-tevent-attr-trait213="microsoft">\n                    <div class="icon-box microsoft-icon">\n                        <ppc-content type="icon">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-corporate-microsoft">\n                        Microsoft corporate sign in\n                    </div>\n                </a>\n            </li>\n\n\n            <li class="login-category-item">\n                <a href="javascript:void(0)" click.delegate="dologin(providerKey.LINKEDINCORPORATE)" title="LinkedIn corporate sign in" role="button" ph-tevent="internal_account_login" data-ph-tevent-attr-trait213="linkedin">\n                    <div class="icon-box linkedin-icon ">\n                        <ppc-content type="icon ">\n\n                        </ppc-content>\n                    </div>\n                    <div class="text-box" key="login-signinwith-corporate-linkedin">\n                        LinkedIn corporate sign in\n                    </div>\n                </a>\n            </li>\n\n        </ul>\n\n    </div>\n</div>\n</template>\n'}),define("text!v1/views/ph-oauthsignin-v1/get-personalized/view.html",["module"],function(e){e.exports='<template>\n<div class="phs-get-personalized-area">\n    <div class="widget-container">    \n        \x3c!--Sign in block--\x3e\n        <div class="signin-block" if.bind="user.isLoggedIn === false">\n            <div class="gp-info">\n                <h4 class="gp-title">\n                    <ppc-content key="literal-1486829152746-37">\n                        Get personalized job recommendations\n                    </ppc-content>\n                </h4>\n                <p class="gp-description">\n                    <ppc-content key="literal-1486829152746-38">\n                        Sign in or create a profile and we\'ll let you know when there\'s a match.\n                    </ppc-content>\n                </p>\n            </div>\n            <div class="btn-group">\n                <a  href="javascript:void(0)" click.delegate="handlePagePath($event, \'login\')" class="btn primary-button" title="Sign in">\n                    <ppc-content key="literal-1486829152746-39">\n                        Sign in \n                        <ppc-content type="icon">\n                                    <i class="icon icon-arrow-right" aria-hidden="true"></i>\n                        </ppc-content>\n                    </ppc-content>\n                </a>\n                <a ph-href="createprofile" class="btn" title="Create profile">\n                        Create profile\n                        <ppc-content type="icon">\n                                <i class="icon icon-arrow-right" aria-hidden="true"></i>\n                        </ppc-content>\n                </a>\n            </div>\n        </div>\n        \x3c!--End Sign in block--\x3e\n        \x3c!--Update Profile block--\x3e\n        <div class="update-block" if.bind="user.isLoggedIn === true && showUpdateProfile === true">\n            <div class="gp-info">\n                <h4 class="gp-title">\n\n                    <ppc-content key="literal-1486829152746-40">\n                        Get personalized job recommendations\n                    </ppc-content>\n                </h4>\n                <p class="gp-description">\n                    <ppc-content key="literal-1486829152747-41">\n                        Update a profile get personalized job recommendations.\n                    </ppc-content>\n                </p>\n            </div>\n            <div class="btn-group">\n                <ppc-content type="link">\n                    <a ph-href="profile" class="btn" title="Update profile">\n                        Update profile\n                        <ppc-content type="icon">\n                            <i class="icon icon-arrow-right" aria-hidden="true"></i>\n                        </ppc-content>\n                    </a>\n                </ppc-content>\n            </div>\n        </div>\n        \x3c!--End Update Profile block--\x3e\n    </div>\n    \x3c!--End Personalized job recommendations--\x3e\n</div>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/import-linkedin/view.html",["module"],function(e){e.exports='<template>\n <div class="ph-oauthsigin-area ph-widget-box">\n    <a ph-tevent="update_profile_click" data-ph-tevent-attr-trait27="${profileForm.email}" data-ph-tevent-attr-trait260="linkedin_profile" href="javascript:void(0)" click.delegate="dologin(providerKey.LINKEDIN, true)" title="Import from LinkedIn" role="button" key-role="button" key-title="importFromLinkedIn">\n        <div class="icon-box linkedin-icon" aria-hidden="true">\n            <img src="../assets/images/linkedin.png">\n        </div>\n        <div class="text-box">\n            <ppc-content key="importFromLinkedInText">Import from LinkedIn</ppc-content>\n        </div>\n    </a>\n    </div>\n</template>\n'}),define("text!v1/views/ph-oauthsignin-v1/my-profile/view.html",["module"],function(e){e.exports='<template>\n    <a role="button" tabindex="3" href="javascript:void(0)" class="nav-arrow-right show-arrow" onclick="showRight()">\n        <i class="icon icon-arrow-right" aria-hidden="true"></i>\n    </a>\n    <span if.bind="user.isLoggedIn === false">\n        <button role="button" tabindex="3" id="profile" onfocus="onfocusAnchor(this);myFocusFunction();" ph-tevent="signIn_click" click.delegate="handlePagePath($event, \'login\')" aria-label="Sign in" class="btn primary-button" key-aria-label="signInLinkTitle">\n            <ppc-content key="headerSignInLinkText">Sign in</ppc-content>\n        </button>\n    </span>\n    <span class="profile-container" if.bind="user.isLoggedIn === true">\n        <button role="button" onclick="openProfiledetails(this)" tabindex="3" aria-expanded="false" id="profile" aria-label="Hi, ${user.profile.firstName}!" key-aria-label="hiCandidateInfoText" class="btn primary-button profile-title" onfocus="closeTitle(this)">\n            <span class="hiLabel"><ppc-content key="headerxboxLinkText">Hi</ppc-content></span><span class="userName" if.bind="user.profile.firstName">, ${user.profile.firstName}!</span><i class="icon icon-down-arrow header-arrow" aria-hidden="true"></i>\n        </button>\n        <ul class="menupanel" aria-labelledby="profile" id="candidate-details">\n            <li>\n                <a tabindex="3" ph-tevent="header_menu_click" data-ph-tevent-attr-trait62="Profile" class="menu-item secondheader-nav" role="link" ph-href="profile" aria-label="Profile" key-aria-label="profileLinkText"><ppc-content key="headerProfileLinkText">Profile</ppc-content></a>\n            </li>\n            <li>\n                <a tabindex="3" ph-tevent="header_menu_click" data-ph-tevent-attr-trait62="Action center" class="menu-item secondheader-nav" role="link" ph-href="actioncenter" aria-label="Action center" key-aria-label="actioncenterLinktext"><ppc-content key="headerActionCenterLinkText">Action center</ppc-content></a>\n            </li>\n            <li>\n                <a tabindex="3" ph-tevent="logout_click" ph-href="logout?qpage=%2Fus%2Fen%2F&page=home" aria-label="Sign out from Microsoft careers" role="link" key-aria-label="signOutLinktext">\n                    <span class="action-content-title"><ppc-content key="headerSignOutLinkText">Sign out</ppc-content></span>\n                </a>                                \n            </li>\n        </ul>                                                                          \n    </span>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/sign-out/view.html",["module"],function(e){e.exports='<template>\n    <a if.bind="user.isLoggedIn === true" href="javascript:void(0)" click.delegate="handleSignout($event)" key-title="signOutLabel" title="Sign Out" aria-label="Sign Out" key-aria-label="signOutLabel" role="link" key-role="linkRole">\n        <ppc-content type="icon"><i class="msicon-fullmdl2assets-30 sign-out-icon" aria-hidden="true"></i></ppc-content>\n        <span class="action-content-title" key="signOutTxt">Sign out</span>\n    </a>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/socialsso/view.html",["module"],function(e){e.exports="<template>\n    \x3c!--empty view required for social sso--\x3e\n</template>"}),define("text!v1/views/ph-oauthsignin-v1/view1/view.html",["module"],function(e){e.exports='<template>\n    <div class="ph-oauthsigin-area ph-widget-box" if.bind="user.isLoggedIn === false">\n        <p>\n            <ppc-content key="literal-136">Get personalized job recommendations. Login with</ppc-content>\n            <a ph-tevent="linkedin_login_click" click.delegate="dologin(providerKey.LINKEDIN)" href="javascript:void(0)" title="LinkedIn">\n                LinkedIn.\n            </a>\n        </p>\n    </div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v3/ph-global-search-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"globalSearchV3",ddoKeyEvent:"globalSearchEventV3"}}});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.commonService=e,this.params={}}return e.prototype.getSearchResults=function(e,t,a){var n=this.params;return a.keywords&&(delete n.field,delete n.sub_field,n.keywords=a.keywords,n.category="category",n.location="location"),"globalSearchV3"==t&&(n.field="category",n.sub_field="internalCategoryId",n.location_size=2,n.category_size=2,n.job_size=3,n.searchType=a.searchType),this.commonService.getDDO(e,t,n).then(function(e){var a=e[t];if(a.jobLocations&&a.jobLocations.locations){var n=a.jobLocations.locations,o={};for(var i in n){var r=[];if(n.hasOwnProperty(i)){var s=n[i];for(var c in s){var l=s[c];l.location=l.name,l.field=i,r.push(l)}}o[i]=r}a[t]={locations:o}}return a})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.GlobalSearchService=o});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search",["require","exports","aurelia-framework","ph-common","aurelia-event-aggregator","./ph-global-search-config","./ph-global-search-service"],function(e,t,a,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="university",c="professional",l=function(e){function t(t,a,n,o,i,r,d){var p=e.call(this,t,a,l.elementTag)||this;return p.commonService=a,p.globalSearchService=n,p.eventAggregator=o,p.cookieManager=i,p.localStorage=r,p.WidgetConfig=d,p.placeholderText="Enter job title",p.showTitle=!0,p.showCaption=!0,p.searchValue="",p.arrowNavigation=!0,p.reloadOnClear=!1,p.checkValidation=!1,p.inlineSearch=!0,p.preFillSearchedKey=!0,p.showDropDown=!1,p.showAllJobCategories=!0,p.showJobSuggestions=!0,p.showRecentSearches=!0,p.isDisabled=!0,p.recentlySearchedKeys=p.localStorage.getItem("globalSearch"),p.recentSearchStorage=[],p.categoryColumnCount=2,p.selectedCategory={},p.itemSBHasFocus=!1,p.isEnterClick=!0,p.internalId="",p.showError=!1,p.selectedReqType=c,p.allSuggestions=p.getAllJobSuggestions(),e.prototype.getQueryParam.call(p,"rt")!=s&&e.prototype.getQueryParam.call(p,"reqtype")!=s||(p.selectedReqType=s),p.internalId=decodeURIComponent(e.prototype.getQueryParam.call(p,"internalId")||""),p}return __extends(t,e),l=t,t.prototype.getAllJobSuggestions=function(){var e=this.isFull;return{show:null,updateShow:function(){var t={jobs:e(this.jobs),locations:e(this.locations),categories:e(this.categories),keywords:e(this.keywords),searched:e(this.searched),all:!1};for(var a in t)if(t.hasOwnProperty(a)&&1==t[a]){t.all=!0;break}return t},jobs:null,locations:null,categories:null,keywords:null,searched:null,boundaries:null,searchType:this.selectedReqType}},t.prototype.attached=function(){e.prototype.attached.call(this),this.isDisabled=this.checkValidation;var t=this.handleActionOutsideScope.bind(this);document.addEventListener("mouseup",t,!1),document.addEventListener("keyup",this.keyUpCallback.bind(this),!1),this.preFillSearchedKey&&(this.searchValue=e.prototype.getSearchKeyword.call(this)||"")},t.prototype.handleSelection=function(e){if(this.inlineSearch)for(var t=e.target;t!=this;){if("A"==t.nodeName){var a=t.getAttribute("data-option-title");return void(a?this.searchValue=a:console.warn("value not found"))}t=t.parentNode}},t.prototype.handleActionOutsideScope=function(e){var t=e.target;if(13===e.keyCode||void 0==e.keyCode){for(var a=!0,n=void 0;t;)if(t=t.parentElement,n=t&&t.className){if(null==t||-1==n.indexOf("phs-global-search"))a=!0;else if(n.indexOf("phs-global-search")>=0){a=!1;break}}else t||(a=!0);a&&this.handleBlur()}else 27!=e.keyCode&&9!=e.keyCode||this.handleBlur()},t.prototype.handleBlur=function(){this.showDropDown=this.showAllJobCategories=this.showJobSuggestions=!1},t.prototype.handleSuggestedKeysArrowKeysData=function(){function e(){return t=document.querySelectorAll(".phs-keyword-suggestions li a"),a=t.length-1,n>=a?n=a:n<0&&(n=0),t[n]}var t,a,n=-1;return{next:function(){return n+=1,e()},prev:function(){return n-=1,e()}}},t.prototype.handleCategoryArrowKeysData=function(){function e(e){o=0==e&&0==o?r:0,n=a==n+1?0:n+1,r=t[n]?t[n].length-1:r}var t=this.allJobCategories,a=t.length,n=0,o=-1,i=1,r=t[n].length-1;return{next:function(){return i=1,o==r?e(i):o++,{column:n,delta:o}},prev:function(){return i=0,0==o?e(i):o--,{column:n,delta:o}},reset:function(){o=i?o-1:o+1}}},t.prototype.searchValueChanged=function(e){this.handleSearchAggr()},t.prototype.handleCategoryOptions=function(e,t){var a,n;switch(e.keyCode){case 37:case 39:break;case 38:this.arrowNavigation&&(n=t.prev(),(a=document.querySelector("#phs-lia_"+n.column+"_"+n.delta))&&a.focus());break;case 40:this.arrowNavigation&&(n=t.next(),(a=document.querySelector("#phs-lia_"+n.column+"_"+n.delta))&&a.focus())}},t.prototype.handleSuggestedKeyOptions=function(e,t){var a;switch(e.keyCode){case 38:this.arrowNavigation&&(a=t.prev())&&a.focus();break;case 40:this.arrowNavigation&&(a=t.next())&&a.focus()}},t.prototype.keyUpCallback=function(e){if(9===e.keyCode){var t=document.querySelectorAll(".ph-suggestion-focus-block");if(t.length)for(var a=0,n=t;a<n.length;a++){var o=n[a],i=o&&o.contains(document.activeElement);i?this.itemSBHasFocus=!0:(this.handleBlur(),this.itemSBHasFocus=!1)}}if(27===e.keyCode)return this.handleBlur(),!0},t.prototype.arrowKeyUp=function(e){var t=null;if(13===e.keyCode&&!1===this.itemSBHasFocus){var a=e.target&&e.target.href||"";""===a&&this.handleSubmitClick(a)}else 1==this.showJobSuggestions?(t=this.allSuggestions.boundaries,this.handleSuggestedKeyOptions(e,t)):1==this.showAllJobCategories&&(t=this.allJobCategories.boundaries,this.handleCategoryOptions(e,t))},t.prototype.handleItemFocus=function(e){switch(e.type){case"focus":console.info("hello")}},t.prototype.handleFocus=function(e){var t=this,a=t.searchValue||"";switch(this.allSuggestions.searchType=this.selectedReqType,e.type){case"focus":a.length>0?t.fetchJobSuggestions():t.fetchJobCategories()}},t.prototype.isFull=function(e){return null!=e&&"object"==typeof e&&Object.keys(e).length>0},t.prototype.clearSearch=function(t){if(this.reloadOnClear){var a=this.commonService.getPageName()||"",n="";"category"===this.commonService.getParam("pageType")?(this.searchValue="",this.isDisabled=!0,this.showDropDown=!1):(n=e.prototype.getUrl.call(this,null,a,{},"rt="+this.selectedReqType),window.location.assign(n))}else this.searchValue="",this.isDisabled=!0,this.showDropDown=!1},t.prototype.selectedReqTypeChanged=function(e){e&&(this.cookieManager.set("_gsrt",e),this.eventAggregator.publish("ph:searchType:changed",{searchType:e}),this.handleSearchAggr())},t.prototype.handleSearchAggr=function(){var e=this.searchValue&&this.searchValue.length>0;this.showDropDown&&(e?(this.showAllJobCategories||this.showJobSuggestions)&&this.fetchJobSuggestions():this.fetchJobCategories()),this.isDisabled=!e},t.prototype.fetchJobSuggestions=function(){var e=this;this.showDropDown=!1;var t=this.allSuggestions;this.globalSearchService.getSearchResults(l.elementTag,i.WidgetConfig[l.version][l.ddoKeyEvent],{keywords:this.searchValue,searchType:this.selectedReqType}).then(function(a){try{a.jobTitles&&(t.jobs=a.jobTitles.data.titles,t.keywords=a.jobTitles.data.suggestions),t.locations=a.jobLocations&&a.jobLocations.locations,t.categories=a.jobCategories&&a.jobCategories.data.agg;for(var n=0,o=t.categories;n<o.length;n++){var i=o[n];i.key=i.category}e.populateRecentSearches(),e.showAllJobCategories=!1,e.showJobSuggestions=!0,t.show=t.updateShow(),e.showDropDown=t.show.all,e.allSuggestions.boundaries=e.handleSuggestedKeysArrowKeysData()}catch(e){console.info(e.message)}},function(e){new Error(e)})},t.prototype.fetchJobCategories=function(){var e=this;this.showDropDown=!1,this.globalSearchService.getSearchResults(l.elementTag,i.WidgetConfig[l.version][l.ddoKey],{keywords:this.searchValue,searchType:this.selectedReqType}).then(function(t){t.data.category&&t.data.category.forEach(function(e){e.key||(e.key=e.category)}),e.allJobCategories=e.chunk(t.data.category,e.categoryColumnCount),e.allJobCategories.boundaries=e.handleCategoryArrowKeysData(),e.showDropDown=!0,e.showAllJobCategories=!0,e.showJobSuggestions=!1},function(e){new Error(e)})},t.prototype.onError=function(e){n.logger.debug("ph-global-search: error..."+e)},t.prototype.chunk=function(e,t){var a,n=[],o=t,i=Math.floor(e.length/o),r=e.length%o,s=0;for(r>0&&(i+=1);o;)a=1==o?e.length:s+i,n.push(e.slice(s,a)),s=a,o--;return n},t.prototype.handleSubmitClick=function(t){if(this.showError=!1,this.searchValue&&this.isEnterClick||!this.checkValidation){this.isEnterClick=!1,this.updateLocalStrWithRecentSearchDetails(this.searchValue,!0),this.storeKeywordsForRecommendation();var a={};a.trait6=this.searchValue;try{this.commonService.processTrackingEvent("page_search",void 0,a)}catch(e){n.logger.debug(e.message)}var o="rt="+this.selectedReqType+"&keywords="+this.searchValue,i=e.prototype.getUrl.call(this,null,"search-results",{},o);window.location.assign(i)}else this.showError=!0},t.prototype.updateLocalStorage=function(){var e=this.localStorage.getItem("globalSearch")||[];-1==e.indexOf(this.searchValue)&&(e.push(this.searchValue),this.localStorage.setItem("globalSearch",e)),this.recentSearchStorage=e},t.prototype.populateRecentSearches=function(){null!=this.commonService.getSpecificTrackCtx(l.globalSearchKeywords)?this.allSuggestions.searched=this.commonService.getSpecificTrackCtx(l.globalSearchKeywords):this.showRecentSearches=!1},t.prototype.getCategoryUrl=function(e){return"/us/en/c/"+e.toLowerCase()+"-jobs"},t.prototype.updateLocalStrWithRecentSearchDetails=function(e,t){if(!0===t||!1===this.inlineSearch){null!=e&&e.length>0&&(this.searchValue=e);var a=[];null!=this.commonService.getSpecificTrackCtx(l.globalSearchKeywords)&&(a=this.commonService.getSpecificTrackCtx(l.globalSearchKeywords)),this.searchValue&&this.searchValue.length&&(-1==a.indexOf(this.searchValue)?a.unshift(this.searchValue):(a.splice(a.indexOf(this.searchValue),1),a.unshift(this.searchValue)),this.commonService.setSpecificTrackCtx(l.globalSearchKeywords,a))}return!0},t.prototype.storeKeywordsForRecommendation=function(){var e=[];if(null!=this.commonService.getSpecificTrackCtx(l.searchKeywords)&&(e=this.commonService.getSpecificTrackCtx(l.searchKeywords)),this.searchValue&&this.searchValue.length){if(null!=e){for(var t in e)if(e[t].keyword==this.searchValue){e.splice(t,1);break}}else e=[];e.unshift({keyword:this.searchValue,timeStamp:(new Date).toUTCString()}),this.commonService.setSpecificTrackCtx(l.searchKeywords,e)}},t.version="v3",t.ddoKey="ddoKey",t.ddoKeyEvent="ddoKeyEvent",t.elementTag="ph-global-search-"+l.version,t.globalSearchKeywords="globalSearch_keywords",t.searchKeywords="keywords",__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"placeholderText",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"showTitle",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"showCaption",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"searchValue",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"arrowNavigation",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"reloadOnClear",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"checkValidation",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"inlineSearch",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"preFillSearchedKey",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"selectedReqType",void 0),t=l=__decorate([a.customElement(l.elementTag),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(d=void 0!==n.CommonService&&n.CommonService)&&d||Object,r.GlobalSearchService,o.EventAggregator,"function"==typeof(p=void 0!==n.CookieManager&&n.CookieManager)&&p||Object,"function"==typeof(h=void 0!==n.LocalStorageAPI&&n.LocalStorageAPI)&&h||Object,Object])],t);var l,d,p,h}(n.PhenomWidget);t.GlobalSearch=l}),define("text!v3/ph-global-search.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v3/views/ph-global-search-v3/default/view.html",["module"],function(e){
e.exports='<template>\n<form role="search" class="phs-global-search-area ph-widget-box"  keyup.delegate="arrowKeyUp($event)" novalidate>\n    <div class="search-text-block">\n        <h1 if.bind="showTitle">\n            <ppc-content key="literal-1482132226713-45">Do what you love </ppc-content>\n        </h1>\n        <p if.bind="showCaption">\n            <ppc-content key="literal-1482132226714-46">Search jobs</ppc-content>\n        </p>\n    </div>\n    <div class="form-group">\n        <div class="input-group">\n            <div class="job-filter ph-suggestion-focus-block">\n                <label class="sr-only" for="search">\n                      <ppc-content key="literal-1481279554825-44">Search</ppc-content>\n                 </label>\n                <input type="search" \n                       name="phsKeywords" \n                       placeholder.bind="placeholderText" \n                       class="form-control phs-keywords input-lg" \n                       value.bind="searchValue & debounce:100"\n                       focus.trigger="handleFocus($event)" \n                       autocomplete="off"\n                       id="search"\n                       aria-describedby="${placeholderText}">\n                        <span class="search-sym">\n                            <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\n                        </span>\n                        <a class="phs-keysearch-clear" click.trigger="clearSearch($event)" show.bind="searchValue" href="javascript:void(0)">\n                            <ppc-content type="icon"><i class="icon icon-cancel"></i></ppc-content>\n                                <span class="sr-only">\n                                    <ppc-content key="literal-1481279554825-45">Search menu open clear text</ppc-content>\n                                </span>\n                        </a>\n                <div class="phs-search-suggestions" if.bind="showDropDown">\n                    <div class="phs-search-type-ahead phs-onclick-category" if.bind="showAllJobCategories">\n                        <div class="phs-search-categories">\n                            <h3><ppc-content key="literal-1481279554825-46">Job Categories</ppc-content></h3>\n                            <ul class="phs-search-category-list" repeat.for="categoryColumns of allJobCategories">\n                                <li repeat.for="category of categoryColumns" class="job-search-keyblock job-container-category_${$parent.$index}_${$index}" >\n                                    <a ph-tevent="job_category_click"  \n                                        id="phs-lia_${$parent.$index}_${$index}" \n                                        ref="linkEle"\n                                        data-option-title="${category.key}"\n                                        href="${getUrl(linkEle, \'category\', category)}">\n                                        <span class="phs-${category.key}">${category.key}</span>\n                                        <span class="phs-jobs-count phs-${category.total_count}">${category.total_count}</span>\n                                        \x3c!--<span>${category.key}</span>\n                                         <span class="phs-jobs-count">${category.total_count}</span>--\x3e\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="phs-keyword-suggestions" if.bind="showAllJobCategories">\n                        \x3c!--Location--\x3e\n                        \x3c!--TODO: for city, state, country property name dependent on app changes expected locationName--\x3e\n                        <div class="phs-locations-suggested" if.bind="allSuggestions.show.locations && (allSuggestions.locations.city.length || allSuggestions.locations.state.length || allSuggestions.locations.country.length)">\n                            <h3 tabindex="0">\n                                <ppc-content key="literal-130">\n                                    Location\n                                </ppc-content>\n                            </h3>\n                            <ul class="phs-locations-suggested-list">\n                                <li repeat.for="eachCity of allSuggestions.locations.city" class="phsLocationsSuggested_${$index}">\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\n                                        id="phs-lia_1_${$index}"\n                                        href="${getUrl(linkEle, \'search-results\', eachCity, \'qcity=\'+eachCity.city+\'&qstate=\'+eachCity.state+\'&qcountry=\'+eachCity.country)}" \n                                        data-ph-tevent-attr-trait59="location" \n                                        data-ph-tevent-attr-trait60="${eachCity.name}"\n                                        data-option-title="${eachCity.name}" \n                                        data-category="${eachCity.name}">\n                                        <span innerhtml= "${(eachCity.locationName ? eachCity.locationName_html : eachCity.cityStateCountry) | sanitizeHTML}"></span>\n                                        <span if.bind="eachCity.isSuggested" class="suggested-location">   \n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\n                                        </span>\n                                        <span class="phs-jobs-count">${eachCity.count}</span>\n                                    </a>\n                                </li>\n                                <li repeat.for="eachState of allSuggestions.locations.state" class="phsLocationsSuggested_${$index}">\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\n                                        id="phs-lia_2_${$index}"\n                                        href="${getUrl(linkEle, \'search-results\', eachState, \'qstate=\'+eachState.state+\'&qcountry=\'+eachState.country)}" \n                                        data-ph-tevent-attr-trait59="location" \n                                        data-ph-tevent-attr-trait60="${eachState.name}" \n                                        data-option-title="${eachState.name}" \n                                        data-category="${eachState.name}">\n                                        <span innerhtml= "${(eachState.locationName ? eachState.locationName_html : eachState.stateCountry) | sanitizeHTML}"></span>\n                                        <span if.bind="eachState.isSuggested" class="suggested-location">   \n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\n                                        </span>\n                                        <span class="phs-jobs-count">${eachState.count}</span>\n                                    </a>\n                                </li>\n                                <li repeat.for="eachCountry of allSuggestions.locations.country " class="phsLocationsSuggested_${$index}">\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\n                                        id="phs-lia_3_${$index}" \n                                        href="${getUrl(linkEle, \'search-results\', eachCountry, \'qcountry=\'+eachCountry.name)}" \n                                        data-ph-tevent-attr-trait59="location" \n                                        data-ph-tevent-attr-trait60="${eachCountry.name}"\n                                        data-option-title="${eachCountry.name}"  \n                                        data-category="${eachCountry.name}"> \n                                        <span innerhtml= "${(eachCountry.locationName ? eachCountry.locationName_html : eachCountry.stateCountry) | sanitizeHTML}"></span>\n                                        <span if.bind="eachCountry.isSuggested" class="suggested-location">   \n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\n                                        </span>\n                                        <span class="phs-jobs-count">${eachCountry.count}</span>\n                                    </a>\n                                </li>\n                            </ul>\n                    \n                        </div>\n                        \x3c!--Jobs--\x3e\n                        <div class="phs-jobs-suggested" if.bind="allSuggestions.show.jobs">\n                            <h3><ppc-content key="literal-127">Jobs</ppc-content></h3>\n                            <ul class="phs-jobs-list">\n                                <li repeat.for="eachJob of allSuggestions.jobs">\n                                    <a ph-tevent="type_ahead_search" \n                                        id="phs-lia_0_${$index}" ref="linkEle" \n                                        href="${getUrl(linkEle, \'job\', eachJob)}" \n                                        data-ph-tevent-attr-trait59="jobId"\n                                        data-ph-tevent-attr-trait60="${eachJob.jobSeqNo}"\n                                        data-option-title="${eachJob.title}"  \n                                        data-title="${eachJob.title}"\n                                        data-jobid="${eachJob.id}">\n                                        <div class="phs-job-title">\n                                            <span class="sr-only">\n                                                <ppc-content key="literal-128">Job title</ppc-content>\n                                            </span>\n                                            <span innerhtml="${eachJob.title_html | sanitizeHTML}"></span>\n                                        </div>\n                                        \n                                        <div class="phs-job-info" if.bind="eachJob.location">\n                                            <span class="phs-job-location">\n                                                <span class="sr-only"><ppc-content key="literal-129">Location</ppc-content></span>\n                                                ${eachJob.location}\n                                            </span>\n                                            <span class="phs-job-category">\n                                                <span class="sr-only">\n                                                    <ppc-content key="literal-130">Category</ppc-content>\n                                                </span>\n                                                ${eachJob.category}\n                                            </span>\n                                        </div>\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                        \x3c!--Category--\x3e\n                        <div class="phs-categorys-suggested" if.bind="allSuggestions.show.categories">\n                        \n                            <h3>\n                                <ppc-content key="literal-132">Category</ppc-content>\n                            </h3>\n                            <ul class="phs-categorys-suggested-list">\n                                <li repeat.for="eachCategory of allSuggestions.categories">\n                                    <a ph-tevent="type_ahead_search" id="phs-lia_0_${$index}"\n                                       ref="linkEle" \n                                       href="${getUrl(linkEle, \'category\', eachCategory)}" data-ph-tevent-attr-trait59="category"\n                                       data-ph-tevent-attr-trait60="${eachCategory.category}"\n                                       data-option-title="${eachCategory.category}" \n                                       data-category="${eachCategory.category}"> \n                                       ${eachCategory.category}\n                                        <span class="phs-jobs-count">${eachCategory.count}</span>\n                                        </a>\n                                </li>\n                            </ul>\n                        </div>\n                            \x3c!--Recent Searches--\x3e\n                        <div class="phs-recentsearches-suggested" if.bind="allSuggestions.show.searched">\n                            <h3>\n                                <ppc-content key="literal-133">Recent Searches</ppc-content>\n                            </h3>\n                            <ul class="search-recentsearchs-list">\n                                <li repeat.for="eachKeyword of allSuggestions.searched" show.bind="$index < 3">\n                                    <a ph-tevent="type_ahead_search" \n                                        id="phs-lia_4_${$index}" ref="linkEle" \n                                        data-ajax="false"\n                                        data-option-title="${eachKeyword}"  \n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\n                                        href="${getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\n                                        data-ph-tevent-attr-trait59="recent_keyword" \n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\n                                </li>\n                            </ul>\n                        </div>\n                        \x3c!--Suggested Keywords--\x3e\n                        \x3c!--property name dependent on app changes expected locationName--\x3e\n                        <div class="phs-suggested-keywords-suggested" if.bind="allSuggestions.show.keywords && !allSuggestions.show.jobs" >\n                            <h3>\n                                <ppc-content key="literal-134">\n                                    Suggested keywords\n                                </ppc-content>\n                            </h3>\n                            <ul class="phs-suggested-keywords-list" click.delegate="handleSelection($event)">\n                                <li repeat.for="eachKeyword of allSuggestions.keywords" show.bind="$index < 3">\n                                    <a ph-tevent="type_ahead_search" \n                                        id="phs-lia_5_${$index}" \n                                        ref="linkEle" \n                                        data-ajax="false"\n                                        data-option-title="${eachKeyword}"  \n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\n                                        href="${inlineSearch ? \'javascript:void(0)\' : getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\n                                        data-ph-tevent-attr-trait59="recent_keyword" \n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div class="phs-search-suggestions" if.bind="showDropDown && !showAllJobCategories">\n                    <div class="phs-keyword-suggestions">\n                       <ul class="phs-locations-suggested-list">\n                        <li> No data found</li>\n                    </div>\n                </div>\n            </div>\n            <span class="input-group-btn">\n                <button type="submit"\n                        submit.delegate="handleSubmitClick()" \n                        click.delegate="handleSubmitClick()" \n                        title="Find jobs"\n                        class="btn primary-button btn-lg phs-search-submit">\n                    <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\n                    <span><ppc-content key="literal-135">Find jobs</ppc-content></span>\n                </button>\n             </span>\n        </div>\n    </div>\n</form>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-language-selector-config",["require","exports"],function(e,t){"use strict";t.WidgetConfig={v1:{ddoKey:"supportedLanguages"}}}),define("v1/ph-language-selector-model",["require","exports"],function(e,t){"use strict"});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-language-selector-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";var o=function(){function e(e){this.commonService=e}return e.prototype.supportedLanguages=function(e,t){return this.commonService.getDDO(e,t,{}).then(function(e){return e[t].data})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.LanguageSelectorService=o});var __extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-language-selector",["require","exports","aurelia-framework","ph-common","./ph-language-selector-config","./ph-language-selector-service"],function(e,t,a,n,o,i){"use strict";var r="ph-language-selector-v1",s=function(e){function t(t,a,n){e.call(this,t,a,r),this.languageSelectorService=n,this.samePage=!1,this.supportedLanguages=[]}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),e.prototype.hideLoader.call(this),this.supportedLangs()},t.prototype.supportedLangs=function(){var t=this;e.prototype.unhideLoader.call(this),this.languageSelectorService.supportedLanguages(r,o.WidgetConfig.v1.ddoKey).then(function(a){e.prototype.hideLoader.call(t),t.supportedLanguages=a;var n=t.commonService.getLocale()||"";t.supportedLanguages&&t.supportedLanguages.forEach(function(e){e.locale=e.locale.toLowerCase(),e.locale.toLowerCase()===n.toLowerCase()&&(t.chosenLanguage=e)})})},t.prototype.languageChanged=function(e){if(e){var t=e.baseUrl;this.samePage&&(t+=location.pathname,location.search&&location.search.trim().length>0&&(t+=location.search)),location.assign(t)}},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable,__metadata("design:type",Boolean)],t.prototype,"samePage",void 0),t=__decorate([a.customElement(r),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(s=void 0!==n.CommonService&&n.CommonService)&&s||Object,i.LanguageSelectorService])],t);var s}(n.PhenomWidget);t.LanguageSelector=s}),define("text!v1/ph-language-selector.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-language-selector-v1/default/view.html",["module"],function(e){e.exports='<template>\n    Supported Languages\n    <div repeat.for="lang of supportedLanguages">\n        <a click.delegate="languageChanged(lang)"> ${lang.locale}</a>\n    </div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-search-results-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKeyAdd:"addToCartV2",ddoKeyDelete:"deleteFromCartV2",ddoKeyStatusList:"getJobStatusListV2"}}});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-search-results-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.commonService=e}return e.prototype.makeDDORequest=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.SearchResultsService=o});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-search-results",["require","exports","aurelia-framework","aurelia-event-aggregator","ph-common","./ph-search-results-config","./ph-search-results-service"],function(e,t,a,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="v1",c="ph-search-results-"+s,l="ph:data:updated:event",d="professional",p=function(e){function t(t,a,n,o){var r=e.call(this,t,a,c)||this;return r.element=t,r.commonService=a,r.searchResultsService=n,r.eventAggregator=o,r.pageSize=50,r.jobDateFormat="DEFAULT",r.bulkcart=!1,r.searchParams={},r.subscriptions=[],r.jobResults=[],r.totalJobs=0,r.isMostPopular=!1,r.paginationBlockSize=10,r.mobilePaginationBlockSize=5,r.currentSelectedPage=1,r.startingJobNumberInPage=1,r.endingJobNumberInpage=1,r.prevButtonVisibility=!0,r.nextButtonVisibility=!0,r.paginationRange=[],r.mobilePaginationRange=[],r.searchSelectionKeys=[],r.paginationUrls={},r.mobilePaginationUrls={},r.isDataUpdated=!1,r.noResults=!1,r.clearResults="",r.clearAll=!1,r.addFocusToTitle=!1,r.selectedReqType="",r.createdAlertName="",r.isLoggedIn=!1,r.addJobContext=function(){r.commonService.addJobContext(c,r.jobResults),r.commonService.jobContext(c)},r.handleSearchResultsEvent=function(t){if(t){if(e.prototype.hideLoader.call(r),r.jobResults=t.jobResults||[],r.totalJobs=t.totalJobs||0,r.searchSelectionKeys=t.searchSelectionKeys||{},r.searchParams=t.searchParams||{},r.currentSelectedPage=1,r.searchKeyword=t.searchKeyword,r.locationKey=t.locationKeyword,r.pageSize=t.pageSize||r.pageSize,r.selectedSkillKeywords=t.selectedSkills||"",r.noResults=t.allResults,r.clearResults=t.clearResults,r.clearAll=t.clearAll,r.jobResults.forEach(function(e){e.fitLevel&&"BAD FIT"==e.fitLevel.toUpperCase()&&(e.fitLevel=null)}),r.addJobContext(),r.searchParams.from>0&&(r.currentSelectedPage=Math.ceil(r.searchParams.from/r.pageSize)+1),r.applyPagination(),r.searchParams.isMostPopular&&(r.isMostPopular=!0),r.bulkcart&&!r.commonService.isCrawlerUserAgent()){for(var a=[],n=0,o=r.jobResults;n<o.length;n++){var d=o[n];r.jobResults.isJobSaved=null,r.jobResults.saveJobInterState=null,r.jobResults.inProgress=!1,a.push(d.jobSeqNo)}var p={jobSeqNos:a};r.searchResultsService.makeDDORequest(c,i.WidgetConfig[s].ddoKeyStatusList,p).then(function(e){if(e&&e.data)for(var t=e.data,a=0,n=r.jobResults;a<n.length;a++){var o=n[a];o.isJobSaved=t[o.jobSeqNo]||!1,o.saveJobInterState=t[o.jobSeqNo]||!1}})}r.isDataUpdated=!0,r.eventAggregator.publish(l,{isDataUpdated:r.isDataUpdated})}setTimeout(function(){r.isSortByResults?(r.isSortByResults=!r.isSortByResults,r.sortByTarget?r.sortByTarget.focus():r.addFocusToTitle=!0):r.addFocusToTitle=!0},10)},r.isLocalDataSourceFn=function(){return!0},r.selectedReqType=e.prototype.getQueryParam.call(r,"rt")||d,r.createdAlertName=decodeURIComponent(e.prototype.getQueryParam.call(r,"a_n")||""),r.addSubscriptions(),r}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),e.prototype.unhideLoader.call(this)},t.prototype.detached=function(){this.subscriptions.forEach(function(e){e.dispose()})},t.prototype.addSubscriptions=function(){var t=this;this.subscriptions.push(this.eventAggregator.subscribe("ph:searchResults",this.handleSearchResultsEvent)),this.subscriptions.push(this.eventAggregator.subscribe("ph:searchType:changed",function(e){e&&e.searchType&&(t.selectedReqType=e.searchType)})),this.subscriptions.push(this.eventAggregator.subscribe("ph:isUserLoggedIn",function(e){t.isLoggedIn=e.isLoggedIn})),this.subscriptions.push(this.eventAggregator.subscribe("ph:fetchingResults",function(){t.isDataUpdated=!1,e.prototype.unhideLoader.call(t)})),this.subscriptions.push(this.eventAggregator.subscribe("ph:noJobsFound",function(a){t.isErrorMsgReqd||e.prototype.hideContainer.call(t)})),this.subscriptions.push(this.eventAggregator.subscribe("scrollToResults",function(e){t.element.scrollIntoView()}))},t.prototype.applyPagination=function(){var e=Math.ceil(this.totalJobs/this.pageSize),t=this.currentSelectedPage,a=this.paginationBlockSize,n=Math.ceil(this.paginationBlockSize/2),o=Math.ceil(this.paginationBlockSize/2)-1,i=e<this.paginationBlockSize?e:this.paginationBlockSize;t=this.currentSelectedPage-n>1?this.currentSelectedPage-n:1,(a=this.currentSelectedPage+o>i?this.currentSelectedPage+o:i)>e&&(a=e);var r=this.paginationBlockSize-(a-t);r>0&&(t-=r),this.paginationRange=[];for(var s=t;s<=a;s++)s>0&&(this.paginationRange.push(s),this.paginationUrls[s]=this.paginationUrl(s));this.startingJobNumberInPage=this.totalJobs?(this.currentSelectedPage-1)*this.pageSize+1:0,this.endingJobNumberInpage=this.totalJobs>this.currentSelectedPage*this.pageSize?this.currentSelectedPage*this.pageSize:this.totalJobs,this.prevButtonVisibility=1!=this.currentSelectedPage,this.nextButtonVisibility=this.currentSelectedPage<e,this.applyMobilePagination()},t.prototype.applyMobilePagination=function(){var e=Math.ceil(this.totalJobs/this.pageSize),t=this.currentSelectedPage,a=this.mobilePaginationBlockSize,n=Math.floor(this.mobilePaginationBlockSize/2),o=Math.floor(this.mobilePaginationBlockSize/2),i=e<this.mobilePaginationBlockSize?e:this.mobilePaginationBlockSize;t=this.currentSelectedPage-n>1?this.currentSelectedPage-n:1,(a=this.currentSelectedPage+o>i?this.currentSelectedPage+o:i)>e&&(a=e);var r=this.mobilePaginationBlockSize-(a-t+1);r>0&&(t-=r),this.mobilePaginationRange=[];for(var s=t;s<=a;s++)s>0&&(this.mobilePaginationRange.push(s),this.mobilePaginationUrls[s]=this.paginationUrl(s))},t.prototype.clearSelection=function(e){e&&1==this.searchSelectionKeys.length?this.emptySelectionsAndCallSearch():e&&(e.checked=!1,this.eventAggregator.publish("ph:clearSelection",e))},t.prototype.emptySelectionsAndCallSearch=function(){this.searchSelectionKeys=[],this.eventAggregator.publish("ph:resetAll",{})},t.prototype.clearSubSearchAndCallSearch=function(){this.eventAggregator.publish("ph:subSearchReset",this.searchParams.subsearch),this.searchParams.subsearch=""},t.prototype.filterSearch=function(){this.eventAggregator.publish("ph:subSearch",{subsearch:this.searchParams.subsearch})},t.prototype.sortfilterSearch=function(t){t&&(this.sortByTarget=t.target,this.isSortByResults=!0),this.eventAggregator.publish("ph:sortBy",{sortBy:this.searchParams.sortBy}),e.prototype.focusElement.call(this,".ph-a11y-sortby select",100)},t.prototype.showFacetFilter=function(){var e=this.element;this.eventAggregator.publish("ph:showfilter",e)},t.prototype.paginationUrl=function(t){var a=(t-1)*this.pageSize,n="",o=window.location.origin+window.location.pathname,i=e.prototype.getQueryParam.call(this,"keywords"),r=e.prototype.getQueryParam.call(this,"lk"),s=e.prototype.getQueryParam.call(this,"storeName"),c=e.prototype.getQueryParam.call(this,"rk")||this.commonService.getSessionParam("rk"),l=this.selectedReqType||this.commonService.getSessionParam("searchType"),d=this.commonService.getSessionParam("ak"),p=e.prototype.getQueryParam.call(this,"a_n")||this.commonService.getSessionParam("a_n"),h=e.prototype.getQueryParam.call(this,"category");if(this.selectedSkillKeywords&&this.selectedSkillKeywords.length>0&&(i=this.selectedSkillKeywords),void 0!=i){var u=decodeURIComponent(i);n+="keywords="+encodeURIComponent(u)+"&"}return n+=a<=0?"s=1":"from="+a+"&s=1",r&&r.length>0&&(n+="&lk="+r),c&&c.length>0&&(n+="&rk="+c),s&&s.length>0&&(n+="&storeName="+s),h&&h.length>0&&(n+="&category="+h),d&&d.length>0&&(n+="&ak="+d),p&&p.length>0&&(n+="&a_n="+p),this.clearAll&&("rules"==this.clearResults&&(n=n.replace("&lk="+r,""),n=n.replace("&category="+h,""),n=n.replace("&storeName="+s,"")),"keywords"==this.clearResults&&(n=n.replace("keywords="+i,"")),"full"==this.clearResults&&(n="",n+=a<=0?"s=1":"from="+a+"&s=1")),l&&l.length>0&&(n+="&rt="+l),o+="?"+n},t.prototype.handleGotoPageButton=function(t){e.prototype.getElement.call(this).scrollIntoView(),this.eventAggregator.publish("ph:gotoPageEvent",t)},t.prototype.handleSaveJob=function(e){this.bulkcart&&!e.inProgress&&(e.inProgress=!0,e.saveJobInterState?this.deleteJobFromCart(e):this.addToJobCart(e))},t.prototype.addToJobCart=function(e){var t=this,a={job:{title:e.title,jobSeqNo:e.jobSeqNo,location:e.location,type:e.type,shortDescription:e.descriptionTeaser,applyUrl:e.applyUrl,category:e.category,postedDate:e.postedDate,expiryDate:e.expiryDate,reqId:e.reqId,multi_location:e.multi_location}};this.searchResultsService.makeDDORequest(c,i.WidgetConfig[s].ddoKeyAdd,a).then(function(a){if(e.inProgress=!1,"602"==a.status){var n={trait5:e.jobSeqNo,trait14:e.category};e.saveJobInterState=!0,t.eventAggregator.publish("jobCartCount","+1"),t.eventAggregator.publish("jobCartUpdatedCount",""),t.commonService.processTrackingEvent("job_added_to_jobcart",void 0,n)}else e.isJobSaved=!1,e.saveJobInterState=!1})},t.prototype.deleteJobFromCart=function(e){var t=this,a={jobSeqNo:e.jobSeqNo};this.searchResultsService.makeDDORequest(c,i.WidgetConfig[s].ddoKeyDelete,a).then(function(a){if(e.inProgress=!1,"605"==a.status){var n={};e.isJobSaved=!1,e.saveJobInterState=!1,n.trait5=e.jobSeqNo,n.trait14=e.category,t.eventAggregator.publish("jobCartCount","-1"),t.eventAggregator.publish("jobCartUpdatedCount",""),
t.commonService.processTrackingEvent("job_unfavorited",void 0,n)}else e.isJobSaved=!0,e.saveJobInterState=!0})},t.prototype.stringify=function(e){return JSON.stringify(e)},t.prototype.handleJobClick=function(t){var a={params:{widgetId:c,widgetview:e.prototype.getView.call(this),widgetName:e.prototype.getWidgetName.call(this,!1)}};t.fitLevel&&(a.params.jobFitLevel=t.fitLevel);var n=(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(0);return this.commonService.storePageTrackEventData(n,t),this.commonService.processTrackingEvent("job_click",n,a,{}),!0},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable(),__metadata("design:type",Number)],t.prototype,"pageSize",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"jobDateFormat",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"bulkcart",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),t=__decorate([a.customElement(c),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(p=void 0!==o.CommonService&&o.CommonService)&&p||Object,r.SearchResultsService,n.EventAggregator])],t);var p}(o.PhenomWidget);t.SearchResults=p}),define("text!v1/ph-search-results.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-search-results-v1/default/view.html",["module"],function(e){e.exports='<template>\n        <div class="ph-search-results-area">\n            <div class="phs-facet-results-block">\n                <div class="phs-results-actions">\n                    <div class="search-info" show.bind="searchKeyword" tabindex="0">\n                        <h2 tabindex="0"> \n                            <span>\n                                <ppc-content key="resultsInfoText">\n                                    Search results for \n                                </ppc-content>\n                            </span>\n                            <span>"${searchKeyword}"</span>\n                        </h2>\n                    </div> \n                    <ul class="phs-facet-tags" data-ph-at-id="facet-all-added-tags" >\n                        <li class="tag" repeat.for="selection of searchSelectionKeys" \n                            show.bind="searchSelectionKeys.length > 0">\n                            <span class="facet-tag">${selection.name}</span>\n                            <a href="javascript:void(0)" click.delegate="clearSelection(selection)"\n                            data-ph-at-text="${selection.name}" data-ph-at-id="tag-${selection.facet}">\n                                <ppc-content type="icon">\n                                    <i class="icon icon-cancel"></i>\n                                </ppc-content>\n                                <span class="sr-only">\n                                    <ppc-content key="facetCloseText">\n                                        Close\n                                    </ppc-content> \n                                    ${selection.name}\n                                </span>\n                            </a>\n                        </li>\n                        <li class="phs-facet-tags-clear" show.bind="searchSelectionKeys.length > 0">\n                            <a class="clearall" href="javascript:void(0)" click.delegate="emptySelectionsAndCallSearch()" ph-tevent="clear_searches_click" data-ph-at-id="clear-all-facet-tags">\n                                <ppc-content key="clearAllFacets" data-ph-at-text="clear-all-facet-tags">\n                                    Clear all\n                                </ppc-content>\n                                <span class="sr-only">\n                                    <ppc-content key="clearAllFacetsPostText">\n                                        filter options\n                                    </ppc-content>\n                                </span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <div class="phs-jobs-list">\n                    <div class="phs-jobs-list-header">\n                        <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n                        <div class="row">\n                            <div class="col-md-7">\n                                <form action="">\n                                    <label class="sr-only" for="sub_search_textbox">\n                                        <ppc-content key="innerSearchLabelText">\n                                            Search from below list\n                                        </ppc-content>\n                                    </label>\n                                    <div class="input-group input-group-sm has-feedback-search">\n                                        <input type="text" value.bind="searchParams.subsearch" placeholder="Search from below list" key-placeholder="innerSearchPlaceholderText" autocomplete="off" class="form-control" id="sub_search_textbox" \n                                        data-ph-at-id="inner-search-box"/>\n                                            <a class="clear-textbox" id="clear-sub-search-textbox" href="javascript:void(0)" click.delegate="clearSubSearchAndCallSearch()" show.bind="(searchParams.subsearch.trim()).length > 0">\n                                                <ppc-content type="icon">\n                                                    <i class="icon icon-cancel"></i>\n                                                </ppc-content>\n                                                <span class="sr-only">\n                                                    <ppc-content key="clearInnerSearchText">\n                                                        clear text\n                                                    </ppc-content>\n                                                </span>\n                                            </a>\n                                            <span class="input-group-btn">\n                                                <button type="submit" class="btn btn-default ${(searchParams.subsearch.trim()).length > 0 ? \'\': \'disabled\'}" click.delegate="filterSearch()" tabindex="0" data-ph-at-id="inner-search-button">\n                                                    <ppc-content key="innerSearchButtonText" data-ph-at-text="inner-search-button">\n                                                        Go\n                                                    </ppc-content>\n                                                </button>\n                                            </span>\n                                            <ppc-content type="icon">\n                                                <button type="submit" class="btn icon icon-search has-control-feedback ${(searchParams.subsearch.trim()).length > 0 ? \'\': \'disabled\'}" click.delegate="filterSearch()" tabindex="0"></button>\n                                            </ppc-content>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class="col-md-5">\n                                <div class="pull-right phs-header-controls">\n                                    <div tabindex="0" class="phs-jobs-list-count" data-ph-at-id="search-page-top-job-count"\n                                    data-ph-at-count="${totalJobs}">${totalJobs}\n                                        <ppc-content key="totalJobsPostfixText" data-ph-at-text="search-page-top-job-count">jobs</ppc-content>\n                                    </div>\n                                    <div class="phs-jobs-list-sort phs-taglib">\n                                        <label for="sortselect" class="control-label" tabindex="0">\n                                            <ppc-content key="sortByLabelText">Sort by</ppc-content>\n                                        </label>\n                                        <div class="sortby">\n                                            <select id="sortselect" class="form-control" value.bind="searchParams.sortBy" change.delegate="sortfilterSearch()" data-ph-at-id="search-page-sort-drop-down" tabindex="0">\n                                                    <option data-ph-at-text="search-page-sort-drop-down"\n                                                            value="Most relevant" key="mostRelevantText" \n                                                            key-value="mostRelevantValueText">\n                                                            Most relevant\n                                                    </option>\n                                                    <option data-ph-at-text="search-page-sort-drop-down"\n                                                            value="Most recent" key="mostRecentText" \n                                                            key-value="mostRecentValueText">\n                                                        Most recent\n                                                    </option>\n                                                </select>\n                                        </div>\n                                    </div>\n                                    <div class="phs-filter">\n                                        <a href="javascript:void(0)" click.delegate="showFacetFilter()" data-ph-at-id="mobile-facet-filter-menu">\n                                            <span class="sr-only">\n                                                <ppc-content key="filterText">Filter</ppc-content>\n                                            </span>\n                                            <ppc-content type="icon">\n                                                <i class="icon icon-filter"></i>\n                                            </ppc-content>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="phs-jobs-block" show.bind="!showLoader && totalJobs">\n                        <ul>\n                            <li class="jobs-list-item" repeat.for="result of jobResults">\n                                <div class="information" data-ph-at-id="job-info" \n                                    data-ph-at-job-title-text="${result.title}"\n                                    data-ph-at-job-location-text = "${result.location}"\n                                    data-ph-at-job-category-text = "${result.category}" \n                                    data-ph-at-industry-text = "${result.industry}"\n                                    data-ph-at-job-post-date-text = "${result.postedDate}">\n                                    <a ph-tevent="job_click" ref="linkEle" href.bind="getUrl(linkEle, \'job\', result)">\n                                        <h4>${result.title}</h4>\n                                        <span class="job-location" show.bind="result.location">\n                                            ${result.location}\n                                        </span>\n                                        <span class="job-category" show.bind="result.category">\n                                            ${result.category}\n                                        </span>\n                                        <span class="job-industry" show.bind="result.industry">\n                                            <ppc-content type="icon">\n                                                <i class="icon icon-graduation-cap"></i>\n                                            </ppc-content>\n                                            ${result.industry}\n                                        </span>\n                                        <span class="job-date">\n                                            <span>\n                                                <ppc-content type="icon">\n                                                    <i class="icon icon-filled"></i>\n                                                </ppc-content>\n                                            </span>\n                                            <span>\n                                                <ppc-content key="postedDateText">\n                                                    Posted \n                                                </ppc-content>\n                                            </span>\n                                            ${result.postedDate | dateFormat:getDateFormat(jobDateFormat)}</span>\n                                        <div class="description" innerhtml.bind="result.descriptionTeaser | sanitizeHTML" tabindex="0"></div>\n                                    </a>\n                                </div>\n                                <div class="actions">\n                                    <span tabindex="0">${result.postedDate | dateFormat:getDateFormat(jobDateFormat)}</span>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="no-data-view" show.bind="!totalJobs && !showLoader" \n                         data-ph-at-id="inner-search-no-jobs-found-text">\n                        <div class="no-result-info">\n                            <ppc-content type="image">\n                                <img ph-src="assets/images/no_jobs_found.png" \n                                     key-ph-src="noJobsFoundImgSrc"\n                                     alt="No jobs found" key-alt="noJobsFoundAltText">\n                            </ppc-content>\n                            <h3 show.bind="!searchKeyword" tabindex="0">\n                                <ppc-content key="noJobsFoundInfoText" data-ph-at-text="inner-search-no-jobs-found-text">\n                                     There are no jobs for your search criteria.\n                                </ppc-content>\n                            </h3>\n                            <p tabindex="0">\n                                <ppc-content key="noJobsFoundSuggesionText" data-ph-at-sub-text = "inner-search-no-jobs-found-text">\n                                    Please search again.\n                                </ppc-content>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div class="pagination-block" show.bind="!showLoader && totalJobs">\n                    <div class="search-bottom-count" tabindex="0" \n                         data-ph-at-id="search-results-bottom-count"\n                         data-ph-at-text="search-results-bottom-count">\n                        <span>\n                            <ppc-content key="resultsPrefixText"> Showing </ppc-content>\n                            <span> ${startingJobNumberInPage} </span>\n                        </span>\n                        <span>    \n                            <ppc-content key="resultsSymbol"> - </ppc-content>\n                            <span> ${endingJobNumberInpage} </span>\n                        </span>\n                        <span>\n                            <ppc-content key="resultsPreposition"> of</ppc-content><span> ${totalJobs} </span>\n                        </span>\n                        <span>\n                            <ppc-content key="resultsPostfixText">jobs</ppc-content>\n                        </span>\n                    </div>\n                    <ul class="pagination" show.bind="paginationRange.length > 1" data-ph-at-id="pagination">\n                        <li>\n                            <a href.bind="paginationUrl(currentSelectedPage - 1)" \n                            aria-label="Previous" key-aria-label="prevPaginationAriaLabelText"\n                            show.bind="prevButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Previous"\n                            data-ph-at-id="pagination-previous-link">\n                                <ppc-content key="prevPaginationText" data-ph-at-text="pagination-previous-link"> Prev </ppc-content>\n                                <ppc-content type="icon">\n                                    <span aria-hidden="true" class="icon icon-left-arrow"></span>\n                                </ppc-content>\n                            </a>\n                        </li>\n                        <li repeat.for="page of paginationRange" class="${currentSelectedPage == page ? \'active\' : \'\'}">\n                            <a href.bind="paginationUrl(page)" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="${page}">${page}</a>\n                        </li>\n                        <li>\n                            <a href.bind="paginationUrl(currentSelectedPage + 1)" \n                               aria-label="Next" key-aria-label="nextPaginationAriaLabelText"\n                               show.bind="nextButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Next"\n                            data-ph-at-id="pagination-next-link">\n                                <ppc-content key="nextPaginationText" data-ph-at-text="pagination-next-link"> Next </ppc-content>\n                                <ppc-content type="icon">\n                                    <span aria-hidden="true" class="icon icon-arrow-right"></span>\n                                </ppc-content>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </template>'}),define("text!v1/views/ph-search-results-v1/im/view.html",["module"],function(e){e.exports='<template>\n\n\t<div class="phs-facet-results-block">\n\t\t<div class="phs-results-actions">\n\t\t\t\x3c!--Header part for search results--\x3e\n\t\t\t<div class="phs-jobs-list-header">\n\t\t\t\t<p role="contentinfo">\n\t\t\t\t\t<span class="total-jobs"> ${totalJobs} </span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ppc-content key="showingText">Results for ${isCritical ? \'Critical Jobs\' : \'"\' + searchKeyword + \'"\'} </ppc-content>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t\x3c!--End Header part for search results--\x3e\n\n\t\t\t\x3c!--Facet Tags--\x3e\n\t\t\t<ul class="phs-facet-tags" data-ph-at-id="facet-all-added-tags" show.bind="searchSelectionKeys.length">\n\t\t\t\t<li class="tag" repeat.for="selection of searchSelectionKeys">\n\t\t\t\t\t<span class="facet-tag" aria-label="${selection.name}">${selection.name}</span>\n\t\t\t\t\t<a href="javascript:void(0)" role="button" key-role="btnRole" click.delegate="clearSelection(selection)">\n\t\t\t\t\t\t<ppc-content type="icon">\n\t\t\t\t\t\t\t<i class="icon icon-cancel" aria-hidden="true"></i>\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li class="phs-facet-tags-clear">\n\t\t\t\t\t<a class="clearall" href="javascript:void(0)" click.delegate="emptySelectionsAndCallSearch()" role="button" key-role="btnRole" aria-label="Clear all selections" key-aria-label="clearAllSelectionLink" data-ph-at-id="clear-all-facet-tags">\n\t\t\t\t\t\t<ppc-content key="clearAllText" data-ph-at-id="clear-all-facet-tags">\n\t\t\t\t\t\t\tClear all\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!--End Facet Tags--\x3e\n\t\t</div>\n\t\t\x3c!--Facet results--\x3e\n\t\t<div class="phs-jobs-list">\n\t\t\t<div class="phs-jobs-block">\n\t\t\t\t<ul>\n\t\t\t\t\t<li class="jobs-list-item" repeat.for="result of jobResults">\n\t\t\t\t\t\t<div class="information-block">\n\t\t\t\t\t\t\t<div class="information">\n\t\t\t\t\t\t\t\t<div class="information-text">\n\t\t\t\t\t\t\t\t\t<div class="job-meta">${result.category}</div>\n\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" role="link" key-role="linkRole" tabindex="0" ref="linkEle" href.bind="getUrl(linkEle, \'job\', result)">\n\t\t\t\t\t\t\t\t\t\t<span class="job-title">${result.title}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<div class="job-additional-info">\n\t\t\t\t\t\t\t\t\t\t<span class="job-location">\n\t\t\t\t\t\t\t\t\t\t\t${result.location}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="job-category">\n\t\t\t\t\t\t\t\t\t\t\t${result.type}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="job-date">\n\t\t\t\t\t\t\t\t\t\t\t${result.visibilityType}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="actions">\n\t\t\t\t\t\t\t\t\t<span class="job-suitability-button" data-ph-id="ph-page-element-page16-drqhxl--drqhxl23">\n\n\t\t\t\t\t\t\t\t\t\t${result.fitLevel}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class="savejob-checkbox" if.bind="bulkcart">\n\t\t\t\t\t\t\t\t\t\t<label for="save-${result.jobSeqNo}" class="${result.inProgress ? \'disabled\' : \'\'}">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" id="save-${result.jobSeqNo}" checked.bind="result.isJobSaved" change.delegate="handleSaveJob(result)" aria-label="Save ${result.title} ${result.jobSeqNo} to job cart" aria-checked="${result.isJobSaved ? \'true\' : \'false\'}" role="checkbox">\n\t\t\t\t\t\t\t\t\t\t\t<span class="label-content" if.bind="result.isJobSaved === false" aria-hidden="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-heart-o" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- <ppc-content key="saveText" aria-hidden="true">Save</ppc-content> --\x3e\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="label-content" if.bind="result.isJobSaved === true" aria-hidden="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-heart" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- <ppc-content key="savedText" aria-hidden="true">Saved</ppc-content>  --\x3e\n\t\t\t\t\t\t\t\t\t\t\t</span> \n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="job-description" innerhtml.bind="result.descriptionTeaser | sanitizeHTML">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="job-multi-tags">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li repeat.for="skill of result.skills">\n\t\t\t\t\t\t\t\t\t\t<a class="job-multi-tag-items" href="javascript:void(0)">\n\t\t\t\t\t\t\t\t\t\t\t<ppc-content>\n\t\t\t\t\t\t\t\t\t\t\t\t#${skill}\n\t\t\t\t\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t\x3c!--End Facet results--\x3e\n\t\t\x3c!--pagination starts--\x3e\n\t\t<div class="pagination-block" show.bind="paginationRange.length > 1" data-ph-at-id="pagination">\n\t\t\t<ul class="pagination">\n\t\t\t\t<li>\n\t\t\t\t\t<a href.bind="paginationUrl(currentSelectedPage - 1)" aria-label="View previous page" key-aria-label="viewPrevPage" show.bind="prevButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Previous" role="button" key-role="btnRole" data-ph-at-id="pagination-previous-link">\n\t\t\t\t\t\t<ppc-content type="icon">\n\t\t\t\t\t\t\t<span aria-hidden="true" class="icon icon-left-arrow"></span>\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t<ppc-content key="previousText" data-ph-at-id="pagination-previous-link" class="sr-only"> Prev </ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li repeat.for="page of paginationRange" class="${currentSelectedPage == page ? \'active\' : \'\'}">\n\t\t\t\t\t<a href.bind="paginationUrl(page)" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="${page}" role="button" key-role="btnRole" aria-label="page ${page}">${page}</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href.bind="paginationUrl(currentSelectedPage + 1)" aria-label="View Next page" key-aria-label="viewnxtPage" show.bind="nextButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Next" role="button" key-role="btnRole" data-ph-at-id="pagination-next-link">\n\t\t\t\t\t\t<ppc-content key="nextText" data-ph-at-id="pagination-next-link" class="sr-only"> Next </ppc-content>\n\t\t\t\t\t\t<ppc-content type="icon">\n\t\t\t\t\t\t\t<span aria-hidden="true" class="icon icon-arrow-right"></span>\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t\x3c!--pagination ends--\x3e\n\n\t\t\x3c!--Nojobs Found text area--\x3e\n\t\t<div class="no-result-info" show.bind="!totalJobs">\n\t\t\t<figure>\n\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t<img src="../assets/images/no-results.png" alt="" />\n\t\t\t\t</ppc-content>\n\t\t\t</figure>\n\t\t\t<h2 class="no-jobs-available" aria-label="No Jobs Available" key-aria-label="noJobsAvailabel">\n\t\t\t\t<ppc-content key="nojobs">\n\t\t\t\t\tNo Jobs Available \n\t\t\t\t</ppc-content>\n\t\t\t</h2>\n\t\t</div>\n\t\t\x3c!--End Nojobs Found text area--\x3e\n\t</div>\n\n</template>'}),define("text!v1/views/ph-search-results-v1/view-external/view.html",["module"],function(e){
e.exports='<template>\r\n        <div class="ph-search-results-area">\r\n            <div class="phs-facet-results-block">\r\n                <div class="phs-results-actions">\r\n                    <div class="search-info" show.bind="searchKeyword" tabindex="0">\r\n                        <h2 tabindex="0"> \r\n                            <span>\r\n                                <ppc-content key="resultsInfoText">\r\n                                    Search results for \r\n                                </ppc-content>\r\n                            </span>\r\n                            <span>"${searchKeyword}"</span>\r\n                        </h2>\r\n                    </div> \r\n                    <ul class="phs-facet-tags" data-ph-at-id="facet-all-added-tags" >\r\n                        <li class="tag" repeat.for="selection of searchSelectionKeys" \r\n                            show.bind="searchSelectionKeys.length > 0">\r\n                            <span class="facet-tag">${selection.name}</span>\r\n                            <a href="javascript:void(0)" click.delegate="clearSelection(selection)"\r\n                            data-ph-at-text="${selection.name}" data-ph-at-id="tag-${selection.facet}">\r\n                                <ppc-content type="icon">\r\n                                    <i class="icon icon-cancel"></i>\r\n                                </ppc-content>\r\n                                <span class="sr-only">\r\n                                    <ppc-content key="facetCloseText">\r\n                                        Close\r\n                                    </ppc-content> \r\n                                    ${selection.name}\r\n                                </span>\r\n                            </a>\r\n                        </li>\r\n                        <li class="phs-facet-tags-clear" show.bind="searchSelectionKeys.length > 0">\r\n                            <a class="clearall" href="javascript:void(0)" click.delegate="emptySelectionsAndCallSearch()" ph-tevent="clear_searches_click" data-ph-at-id="clear-all-facet-tags">\r\n                                <ppc-content key="clearAllFacets" data-ph-at-text="clear-all-facet-tags">\r\n                                    Clear all\r\n                                </ppc-content>\r\n                                <span class="sr-only">\r\n                                    <ppc-content key="clearAllFacetsPostText">\r\n                                        filter options\r\n                                    </ppc-content>\r\n                                </span>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class="phs-jobs-list">\r\n                    <div class="phs-jobs-list-header">\r\n                        <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\r\n                        <div class="row">\r\n                            <div class="col-md-7">\r\n                                <form action="">\r\n                                    <label class="sr-only" for="sub_search_textbox">\r\n                                        <ppc-content key="innerSearchLabelText">\r\n                                            Search from below list\r\n                                        </ppc-content>\r\n                                    </label>\r\n                                    <div class="input-group input-group-sm has-feedback-search">\r\n                                        <input type="text" value.bind="searchParams.subsearch" placeholder="Search from below list" key-placeholder="innerSearchPlaceholderText" autocomplete="off" class="form-control" id="sub_search_textbox" \r\n                                        data-ph-at-id="inner-search-box"/>\r\n                                            <a class="clear-textbox" id="clear-sub-search-textbox" href="javascript:void(0)" click.delegate="clearSubSearchAndCallSearch()" show.bind="(searchParams.subsearch.trim()).length > 0">\r\n                                                <ppc-content type="icon">\r\n                                                    <i class="icon icon-cancel"></i>\r\n                                                </ppc-content>\r\n                                                <span class="sr-only">\r\n                                                    <ppc-content key="clearInnerSearchText">\r\n                                                        clear text\r\n                                                    </ppc-content>\r\n                                                </span>\r\n                                            </a>\r\n                                            <span class="input-group-btn">\r\n                                                <button type="submit" class="btn btn-default ${(searchParams.subsearch.trim()).length > 0 ? \'\': \'disabled\'}" click.delegate="filterSearch()" tabindex="0" data-ph-at-id="inner-search-button">\r\n                                                    <ppc-content key="innerSearchButtonText" data-ph-at-text="inner-search-button">\r\n                                                        Go\r\n                                                    </ppc-content>\r\n                                                </button>\r\n                                            </span>\r\n                                            <ppc-content type="icon">\r\n                                                <button type="submit" class="btn icon icon-search has-control-feedback ${(searchParams.subsearch.trim()).length > 0 ? \'\': \'disabled\'}" click.delegate="filterSearch()" tabindex="0"></button>\r\n                                            </ppc-content>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div class="col-md-5">\r\n                                <div class="pull-right phs-header-controls">\r\n                                    <div tabindex="0" class="phs-jobs-list-count" data-ph-at-id="search-page-top-job-count"\r\n                                    data-ph-at-count="${totalJobs}">${totalJobs}\r\n                                        <ppc-content key="totalJobsPostfixText" data-ph-at-text="search-page-top-job-count">jobs</ppc-content>\r\n                                    </div>\r\n                                    <div class="phs-jobs-list-sort phs-taglib">\r\n                                        <label for="sortselect" class="control-label" tabindex="0">\r\n                                            <ppc-content key="sortByLabelText">Sort by</ppc-content>\r\n                                        </label>\r\n                                        <div class="sortby">\r\n                                            <select id="sortselect" class="form-control" value.bind="searchParams.sortBy" change.delegate="sortfilterSearch()" data-ph-at-id="search-page-sort-drop-down" tabindex="0">\r\n                                                    <option data-ph-at-text="search-page-sort-drop-down"\r\n                                                            value="Most relevant" key="mostRelevantText" \r\n                                                            key-value="mostRelevantValueText">\r\n                                                            Most relevant\r\n                                                    </option>\r\n                                                    <option data-ph-at-text="search-page-sort-drop-down"\r\n                                                            value="Most recent" key="mostRecentText" \r\n                                                            key-value="mostRecentValueText">\r\n                                                        Most recent\r\n                                                    </option>\r\n                                                </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="phs-filter">\r\n                                        <a href="javascript:void(0)" click.delegate="showFacetFilter()" data-ph-at-id="mobile-facet-filter-menu">\r\n                                            <span class="sr-only">\r\n                                                <ppc-content key="filterText">Filter</ppc-content>\r\n                                            </span>\r\n                                            <ppc-content type="icon">\r\n                                                <i class="icon icon-filter"></i>\r\n                                            </ppc-content>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="phs-jobs-block" show.bind="!showLoader && totalJobs">\r\n                        <ul>\r\n                            <li class="jobs-list-item" repeat.for="result of jobResults">\r\n                                <div class="information" data-ph-at-id="job-info" \r\n                                    data-ph-at-job-title-text="${result.title}"\r\n                                    data-ph-at-job-location-text = "${result.location}"\r\n                                    data-ph-at-job-category-text = "${result.category}" \r\n                                    data-ph-at-industry-text = "${result.industry}"\r\n                                    data-ph-at-job-post-date-text = "${result.postedDate}">\r\n                                    <a ph-tevent="job_click" ref="linkEle" href.bind="getUrl(linkEle, \'job\', result)">\r\n                                        <h4>${result.title}</h4>\r\n                                        <span class="job-location" show.bind="result.location">\r\n                                            ${result.location}\r\n                                        </span>\r\n                                        <span class="job-category" show.bind="result.category">\r\n                                            ${result.category}\r\n                                        </span>\r\n                                        <span class="job-industry" show.bind="result.industry">\r\n                                            <ppc-content type="icon">\r\n                                                <i class="icon icon-graduation-cap"></i>\r\n                                            </ppc-content>\r\n                                            ${result.industry}\r\n                                        </span>\r\n                                        <span class="job-date">\r\n                                            <span>\r\n                                                <ppc-content type="icon">\r\n                                                    <i class="icon icon-filled"></i>\r\n                                                </ppc-content>\r\n                                            </span>\r\n                                            <span>\r\n                                                <ppc-content key="postedDateText">\r\n                                                    Posted \r\n                                                </ppc-content>\r\n                                            </span>\r\n                                            ${result.postedDate | dateFormat:getDateFormat(jobDateFormat)}</span>\r\n                                        <div class="description" innerhtml.bind="result.descriptionTeaser | sanitizeHTML" tabindex="0"></div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class="actions">\r\n                                    <span tabindex="0">${result.postedDate | dateFormat:getDateFormat(jobDateFormat)}</span>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="no-data-view" show.bind="!totalJobs && !showLoader" \r\n                         data-ph-at-id="inner-search-no-jobs-found-text">\r\n                        <div class="no-result-info">\r\n                            <ppc-content type="image">\r\n                                <img ph-src="assets/images/no_jobs_found.png" \r\n                                     key-ph-src="noJobsFoundImgSrc"\r\n                                     alt="No jobs found" key-alt="noJobsFoundAltText">\r\n                            </ppc-content>\r\n                            <h3 show.bind="!searchKeyword" tabindex="0">\r\n                                <ppc-content key="noJobsFoundInfoText" data-ph-at-text="inner-search-no-jobs-found-text">\r\n                                     There are no jobs for your search criteria.\r\n                                </ppc-content>\r\n                            </h3>\r\n                            <p tabindex="0">\r\n                                <ppc-content key="noJobsFoundSuggesionText" data-ph-at-sub-text = "inner-search-no-jobs-found-text">\r\n                                    Please search again.\r\n                                </ppc-content>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="pagination-block" show.bind="!showLoader && totalJobs">\r\n                    <div class="search-bottom-count" tabindex="0" \r\n                         data-ph-at-id="search-results-bottom-count"\r\n                         data-ph-at-text="search-results-bottom-count">\r\n                        <span>\r\n                            <ppc-content key="resultsPrefixText"> Showing </ppc-content>\r\n                            <span> ${startingJobNumberInPage} </span>\r\n                        </span>\r\n                        <span>    \r\n                            <ppc-content key="resultsSymbol"> - </ppc-content>\r\n                            <span> ${endingJobNumberInpage} </span>\r\n                        </span>\r\n                        <span>\r\n                            <ppc-content key="resultsPreposition"> of</ppc-content><span> ${totalJobs} </span>\r\n                        </span>\r\n                        <span>\r\n                            <ppc-content key="resultsPostfixText">jobs</ppc-content>\r\n                        </span>\r\n                    </div>\r\n                    <ul class="pagination" show.bind="paginationRange.length > 1" data-ph-at-id="pagination">\r\n                        <li>\r\n                            <a href.bind="paginationUrl(currentSelectedPage - 1)" \r\n                            aria-label="Previous" key-aria-label="prevPaginationAriaLabelText"\r\n                            show.bind="prevButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Previous"\r\n                            data-ph-at-id="pagination-previous-link">\r\n                                <ppc-content key="prevPaginationText" data-ph-at-text="pagination-previous-link"> Prev </ppc-content>\r\n                                <ppc-content type="icon">\r\n                                    <span aria-hidden="true" class="icon icon-left-arrow"></span>\r\n                                </ppc-content>\r\n                            </a>\r\n                        </li>\r\n                        <li repeat.for="page of paginationRange" class="${currentSelectedPage == page ? \'active\' : \'\'}">\r\n                            <a href.bind="paginationUrl(page)" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="${page}">${page}</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href.bind="paginationUrl(currentSelectedPage + 1)" \r\n                               aria-label="Next" key-aria-label="nextPaginationAriaLabelText"\r\n                               show.bind="nextButtonVisibility" ph-tevent="pagination_click" data-ph-tevent-attr-trait214="Next"\r\n                            data-ph-at-id="pagination-next-link">\r\n                                <ppc-content key="nextPaginationText" data-ph-at-text="pagination-next-link"> Next </ppc-content>\r\n                                <ppc-content type="icon">\r\n                                    <span aria-hidden="true" class="icon icon-arrow-right"></span>\r\n                                </ppc-content>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v3/ph-job-cart-count-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"jobCartCountV2"}}});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-job-cart-count-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.commonService=e}return e.prototype.jobCartCount=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.JobCartCountService=o});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-job-cart-count",["require","exports","aurelia-framework","ph-common","./ph-job-cart-count-config","./ph-job-cart-count-service","aurelia-event-aggregator"],function(e,t,a,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="v3",c="ph-job-cart-count-"+s,l=function(e){function t(t,a,n,i){var r=e.call(this,t,a,c)||this;return r.eventAggregator=n,r.jobCartCountService=i,r.jobCartCount=0,r.getJobCartCount=function(){r.jobCartCountService.jobCartCount(c,o.WidgetConfig[s].ddoKey,{}).then(function(e){r.jobCartCount=e.result})},r.updatedJobCartCount=function(){r.eventAggregator.subscribe("jobCartUpdatedCount",function(e){r.getJobCartCount()})},r}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.getJobCartCount(),this.updatedJobCartCount()},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),t=__decorate([a.customElement(c),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==n.CommonService&&n.CommonService)&&l||Object,r.EventAggregator,i.JobCartCountService])],t);var l}(n.PhenomWidget);t.JobCartCount=l}),define("text!v3/ph-job-cart-count.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v3/views/ph-job-cart-count-v3/default/view.html",["module"],function(e){e.exports="<template>\n\x3c!-- view html here --\x3e\n</template>"}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!0,testing:!0}}),define("v1/ph-facets-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"refineSearch",ddoPlaceAutoComplete:"placeAutoComplete",ddoKeyAdd:"addToCartV2",ddoKeyDelete:"deleteFromCartV2",ddoKeyStatus:"getJobStatus",ddoKeyStatusList:"getJobStatusListV2",ddoKeyEagerLoad:"eagerLoadRefineSearch"}}});var __decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-facets-service",["require","exports","aurelia-framework","aurelia-event-aggregator","ph-common"],function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.commonService=e,this.eventAggregator=t}return e.prototype.getSearchData=function(e,t,a,n,o,i,r,s){var c=this;void 0===a&&(a=[]),void 0===n&&(n={});var l=JSON.parse(JSON.stringify(n));return l.keywords=i?encodeURIComponent(i):"",l.global=!0,l.size=l.size||50,l.all_fields=l.all_fields||["city","state","category","type","orgFunction","country"],l.selected_fields=l.selected_fields||{},a.forEach(function(e){l.selected_fields[e.facet]||(l.selected_fields[e.facet]=[]),-1==l.selected_fields[e.facet].indexOf(e.name)&&l.selected_fields[e.facet].push(e.name)}),l.sortBy&&"Most recent"==l.sortBy?(l.sort={},l.sort.order="desc",l.sort.field="postedDate"):l.sortBy&&"Most popular"==l.sortBy&&(l.sort={},l.sort.order="desc",l.sort.field="mostpopular"),l.subsearch&&(l.subsearch=encodeURIComponent(l.subsearch)||""),r&&(l.pageIdentifier=r),s&&(l.locationData=s),l.rk&&(l.rkstatus=!0),l.ak&&l.rkstatus&&(l.rkstatus=!1,l.rk=""),o||this.commonService.clearDDO("eagerLoadRefineSearch"),console.log("firstTime:"+o),this.commonService.getDDO(e,"eagerLoadRefineSearchSession",l),new Promise(function(a,n){var i=c.commonService.getCachedDDO("eagerLoadRefineSearch",e);if(i&&i.data&&i.data.jobs){var r={refineSearch:i};r.refineSearch.data&&r.refineSearch.data.ui_selections?(r.refineSearch.selected_fields=r.refineSearch.data.ui_selections,l.selected_fields=r.refineSearch.selected_fields,c.commonService.getDDO(e,"eagerLoadRefineSearchSession",l)):r.refineSearch.selected_fields=l.selected_fields,a(r)}else l.isSliderEnable?(l.s="1",c.commonService.getDDO(e,"eagerLoadRefineSearch",l).then(function(t){t&&t.eagerLoadRefineSearch?(t={refineSearch:t.eagerLoadRefineSearch},t.refineSearch.data&&t.refineSearch.data.ui_selections?(t.refineSearch.selected_fields=t.refineSearch.data.ui_selections,l.selected_fields=t.refineSearch.selected_fields,c.commonService.getDDO(e,"eagerLoadRefineSearchSession",l)):t.refineSearch.selected_fields=l.selected_fields,a(t)):c.eventAggregator.publish(c.commonService.getErrorChannel(e),{})})):l.rk||l.ak?(!l.rk&&o||(l.s="1"),c.commonService.getDDO(e,"eagerLoadRefineSearch",l).then(function(t){t&&t.eagerLoadRefineSearch?(t={refineSearch:t.eagerLoadRefineSearch},t.refineSearch.data&&t.refineSearch.data.ui_selections?(t.refineSearch.selected_fields=t.refineSearch.data.ui_selections,l.selected_fields=t.refineSearch.selected_fields,c.commonService.getDDO(e,"eagerLoadRefineSearchSession",l)):t.refineSearch.selected_fields=l.selected_fields,a(t)):c.eventAggregator.publish(c.commonService.getErrorChannel(e),{})})):c.commonService.getDDO(e,t,l).then(function(t){t&&t.refineSearch?(t.refineSearch.selected_fields=t.refineSearch.ui_selections||l.selected_fields,a(t)):c.eventAggregator.publish(c.commonService.getErrorChannel(e),{})})})},e.prototype.getLocations=function(e,t,a){if(a){var n={};return n.keywords=a,this.commonService.getDDO(e,t,n).then(function(e){return e[t]})}},e.prototype.makeDDORequest=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==o.CommonService&&o.CommonService)&&t||Object,n.EventAggregator])],e);var t}();t.FacetsService=i});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-facets",["require","exports","aurelia-framework","aurelia-event-aggregator","ph-common","./ph-facets-config","./ph-facets-service"],function(e,t,a,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ph-facets-v1",c="eager",l=5,d="3",p=function(e){function t(t,a,n,i,r,l,p){var h=e.call(this,t,a,s)||this;return h.element=t,h.commonService=a,h.facetsService=n,h.localStorage=i,h.cookieManager=r,h.geoLocationService=l,h.eventAggregator=p,h.searchParams={sortBy:"",subsearch:"",from:0},h.searchFacets={},h.searchFacetKeys=[],h.searchSelections={},h.searchSelectionKeys=[],h.tempSearchSelectionKeys=[],h.jobResults=[],h.tempJobResultsForLazyLoad=[],h.pageResults=[],h.pages=1,h.pageSize=50,h.paginationBlockSize=10,h.paginationRange=[],h.totalJobs=0,h.tempTotalJobs=0,h.currentSelectedPage=1,h.startingJobNumberInPage=1,h.endingJobNumberInpage=1,h.prevButtonVisibility=!0,h.nextButtonVisibility=!0,h.jobsViewed=[],h.jobsViewedFlag=!0,h.firstTime=!1,h.allResults=!1,h.rt="professional",h.showErrorMsg=!1,h.bulkcart=!1,h.clickTojd=!1,h.loadType=c,h.defaultFacetsToOpen=[],h.openFacets=[],h.showMultiLocationInlineView=!1,h.locationSliderFacet=!1,h.sliderRadius=305,h.placeVal="",h.showLocationDropdown=!0,h.locationSliderMode=!1,h.locationRangeEnd=300,h.locationSliderFacetMaxRange=300,h.locationSliderFacetUnbounded=!0,h.aboveMaxRadius=!0,h.location="",h.workLocation="",h.enableLocationSlider=!0,h.subscriptions=[],h.selectedSkill=[],h.skills=[],h.clearResults="",h.onlyCounts=0,h.isCritical=!1,h.clearAll=!1,h.facetSelectionCounts={},h.lastSelection={},h.bodyclass=document.body.className,h.addJobContext=function(){h.commonService.addJobContext(s,h.jobResults),h.commonService.jobContext(s)},h.getDataCount=function(){return h.totalJobs?h.totalJobs:0},h.widgetViewType=e.prototype.getQueryParam.call(h,"m"),h.searchKeyword=e.prototype.getSearchKeyword.call(h),h.queryCity=e.prototype.getQueryParam.call(h,"qcity"),h.queryState=e.prototype.getQueryParam.call(h,"qstate"),h.queryCountry=e.prototype.getQueryParam.call(h,"qcountry"),h.placeId=e.prototype.getQueryParam.call(h,"p"),h.locationKey=e.prototype.getQueryParam.call(h,"lk"),h.category=decodeURIComponent(e.prototype.getQueryParam.call(h,"c")||""),h.subCategory=e.prototype.getQueryParam.call(h,"subCategory"),h.workLocation=e.prototype.getQueryParam.call(h,"workLocation"),h.latitude=e.prototype.getQueryParam.call(h,"latitude"),h.longitude=e.prototype.getQueryParam.call(h,"longitude"),h.searchParams.subsearch=decodeURIComponent(e.prototype.getQueryParam.call(h,"s_s")||""),h.rk=e.prototype.getQueryParam.call(h,"rk")||h.commonService.getSessionParam("rk"),h.rt=e.prototype.getQueryParam.call(h,"rt")||h.commonService.getSessionParam("rt"),h.ak=e.prototype.getQueryParam.call(h,"ak")||h.commonService.getSessionParam("ak"),h.widgetViewType==d?h.location=decodeURIComponent(e.prototype.getQueryParam.call(h,"location")||""):h.placeId&&h.placeId.trim().length?(h.locationSliderMode=!0,h.placeVal=decodeURIComponent(e.prototype.getQueryParam.call(h,"location")||""),h.placeVal&&h.placeVal.trim().length&&(h.enableLocationSlider=!0)):h.city=decodeURIComponent(e.prototype.getQueryParam.call(h,"location")||""),h.eventAggregator.subscribe("GeoLocation",function(e){o.logger.debug("payload location ::"+e),h.locationLatLongs=e}),h.eventAggregator.subscribe("GeoLocationDetails",function(e){o.logger.debug("payload location ::"+e),h.locationLatLongs=e}),h.geoLocationService.askForLocation(),h}return __extends(t,e),t.prototype.shouldAddSessionParams=function(){var t=!1;return"1"==e.prototype.getQueryParam.call(this,"s")&&(t=!0),t},t.prototype.hasLocationSliderFacet=function(){return-1!=this.facetsToEnable.indexOf("phLocSlider")},t.prototype.created=function(){this.populateSelectedFields(),this.localStorage.removeItem("sbts"),this.localStorage.getItem("jobsViewed")||this.localStorage.setItem("jobsViewed",[]);var e=this.commonService.getSiteSettings("refineSearch");e&&e.enabledFacets&&(this.facetsToEnable=e.enabledFacets,this.facetDisplayNames=e.facetDisplayNames,this.facetPlaceholderNames=e.facetPlaceholderNames,this.defaultFacetsToOpen=e.defaultFacetsToOpen),this.hasLocationSliderFacet()&&(e&&e.facetConfig&&(this.locationRangeEnd=e.facetConfig.phLocSlider.locationRangeEnd,this.sliderRadius=e.facetConfig.phLocSlider.sliderRadius,this.locationSliderFacetMaxRange=this.locationRangeEnd,this.aboveMaxRadius=e.facetConfig.phLocSlider.aboveMaxRadius,l=e.facetConfig.phLocSlider.sliderDelta),this.locationSliderFacetUnbounded&&(this.locationRangeEnd=this.locationRangeEnd+l)),this.handleEventSubscriptions()},t.prototype.detached=function(){this.subscriptions.forEach(function(e){e.dispose()})},t.prototype.handleEventSubscriptions=function(){var e=this;this.subscriptions.push(this.eventAggregator.subscribe("ph:clearSelection",function(t){e.clearSelection(t)})),this.subscriptions.push(this.eventAggregator.subscribe("ph:searchType:changed",function(t){t&&t.searchType&&(e.rt=t.searchType,e.searchData(1,""))})),this.subscriptions.push(this.eventAggregator.subscribe("ph:resetAll",function(t){e.emptySelectionsAndCallSearch()})),this.subscriptions.push(this.eventAggregator.subscribe("ph:subSearchReset",function(t){e.clearSubSearchAndCallSearch(t)})),this.subscriptions.push(this.eventAggregator.subscribe("ph:subSearch",function(t){e.searchParams.subsearch=t.subsearch,e.filterSearch()})),this.subscriptions.push(this.eventAggregator.subscribe("ph:sortBy",function(t){e.searchParams.sortBy=t.sortBy,e.sortfilterSearch()})),this.subscriptions.push(this.eventAggregator.subscribe("ph:pullResults",function(t){e.raiseSearchResultsEvent()})),this.subscriptions.push(this.eventAggregator.subscribe("ph:showfilter",function(t){e.facetFilter=t,e.showFacetFilter()})),this.subscriptions.push(this.eventAggregator.subscribe("selectFields",function(t){e.saveFacetSelection()})),this.subscriptions.push(this.eventAggregator.subscribe("selectedSkillField",function(t){
e.handleSelectedSkills(t)})),this.subscriptions.push(this.eventAggregator.subscribe("ph:gotoPageEvent",function(t){e.gotoPage(t)}))},t.prototype.handleSelectedSkills=function(e){var t=!1;this.searchKeyword.split(",");for(var a=0;a<e.length;a++)this.searchKeyword.indexOf(e[a])>-1&&(t=!0),t||(this.searchKeyword+=","+e[a]),t=!1;this.selectedSkill=e,this.searchData(1,"")},t.prototype.saveFacetSelection=function(){var e={};e.selected_fields={},this.searchSelectionKeys.forEach(function(t){e.selected_fields[t.facet]||(e.selected_fields[t.facet]=[]),-1==e.selected_fields[t.facet].indexOf(t.name)&&e.selected_fields[t.facet].push(t.name)}),e.all_fields=this.facetsToEnable,e.facetDisplayNames=this.facetDisplayNames,e.keywords=this.searchKeyword,e.searchType=this.searchParams.searchType,e.subsearch=this.searchParams.subsearch;var t=Object.keys(e.selected_fields||{});e.isSearchRefined=!!(t.length||e.keywords||e.subsearch),this.eventAggregator.publish("saveSelections",e)},t.prototype.populateSelectedFields=function(t){if(this.searchParams.sortBy=this.commonService.getSessionParam("sortBy")||"",this.shouldAddSessionParams()){t=t||{};var a=t.locationData||this.commonService.getSessionParam("locationData");t=t.selected_fields||this.commonService.getSessionParam("selected_fields");var n={city:"qcity",state:"qstate",country:"qcountry"};for(var o in n)n.hasOwnProperty(o)&&!this[o]&&this.commonService.getSessionParam(n[o])&&(this[o]=this.commonService.getSessionParam(n[o]),this.existsInSession(o,this[o]));if(t){t=this.parseJsonStringToObj(t);for(var i in t)if(t.hasOwnProperty(i))for(var r=t[i],s=0;s<r.length;s++)this.existsInSession(i,r[s])}if(a&&Object.keys(a).length){a=this.parseJsonStringToObj(this.commonService.getSessionParam("locationData"));for(var o in a)a.hasOwnProperty(o)&&(this[o]||"boolean"==typeof this[o]||(this[o]=a[o],"place_id"==o&&(this.placeId=a[o])));a.hasOwnProperty("sliderRadius")&&(this.sliderRadius=a.sliderRadius,this.aboveMaxRadius=a.aboveMaxRadius)}this.commonService.getSessionParam("subsearch")&&(this.searchParams.subsearch=decodeURIComponent(this.commonService.getSessionParam("subsearch"))||"");var c=e.prototype.getQueryParam.call(this,"from")||0;this.searchParams.from=parseInt(c),this.searchParams.from>0&&(this.currentSelectedPage=Math.ceil(this.searchParams.from/this.pageSize)+1)}},t.prototype.attached=function(){e.prototype.attached.call(this),this.pageName=this.commonService.getPageName(),this.pageType=this.commonService.getPageType(),this.clearAll="true"==this.commonService.getSessionParam("clearAll"),this.clearResults=this.clearResults||this.commonService.getSiteSettings("clearResults"),this.clearResults||(this.clearResults="full"),this.categoryNameInput=this.categoryNameInput||this.category;var t={city:this.city||this.queryCity||"",state:this.queryState||"",country:this.queryCountry||"",category:this.categoryNameInput||"",subCategory:this.subCategory||"",workLocation:this.workLocation||""};if(this.widgetViewType==d&&(t.location=this.location||""),"1"!=e.prototype.getQueryParam.call(this,"s"))for(var a in t)t.hasOwnProperty(a)&&this.existsInSession(a,t[a]);this.populateSelectedFields(),this.landingPageKey&&this.landingPageType&&this.landingPageKey.trim().length>0&&this.landingPageType.trim().length>0&&(this.pageIdentifier={landingPageType:this.landingPageType,landingPageKey:this.landingPageKey}),this.sort&&(this.searchParams.sortBy=this.sort),0!=this.onlyCounts&&(this.showJobs="false",this.showCounts="false"),this.showJobs&&"false"==this.showJobs?this.searchParams.jobs=!1:this.searchParams.jobs=!0,this.showCounts&&"false"==this.showCounts?this.searchParams.counts=!1:this.searchParams.counts=!0,this.searchData(this.currentSelectedPage,"",!0)},t.prototype.existsInSession=function(e,t){var a=!1;if(t.length>0){var n={facet:e,name:t};for(var o in this.searchSelectionKeys)if(this.searchSelectionKeys[o].facet==e&&this.searchSelectionKeys[o].name==t){a=!0;break}a||(this.searchSelectionKeys.push(n),this.updateFacetSelectionCounts(e))}},t.prototype.filterChanged=function(e,t){if(this.lastSelection={},this.lastSelection={facet:e,facetKey:t},e.checked){var a=this.commonService.getSiteSettings("refineSearch");if(a&&a.facetConfig){var n=a.facetConfig[t];if(n&&n.selectSingle)for(var o=0;o<this.searchSelectionKeys.length;o++)if(this.searchSelectionKeys[o].facet==t){this.searchSelectionKeys.splice(o,1),this.updateFacetSelectionCounts(t,{decrement:!0});break}}this.searchSelectionKeys.push(e),this.tempSearchSelectionKeys.push(e),this.updateFacetSelectionCounts(t)}else for(var i=e.name,o=0;o<this.searchSelectionKeys.length;o++)if(i==this.searchSelectionKeys[o].name&&this.searchSelectionKeys[o].facet==t){this.searchSelectionKeys.splice(o,1),this.updateFacetSelectionCounts(t,{decrement:!0});break}"accordion"==this.mode?this.openFacets[0]=e.facet:-1==this.openFacets.indexOf(e)&&this.openFacets.splice(this.openFacets.indexOf(e)),this.searchParams.from=0,this.searchData(1,e.facet);try{var r={};r.trait6=e.name,r.trait47=t||"",this.commonService.processTrackingEvent("refiner_search",void 0,r)}catch(e){console.log(e.message)}},t.prototype.filterSearch=function(e){this.searchData(1,"");var t={};t.trait6=e||this.searchParams.subsearch,this.commonService.processTrackingEvent("results_search",void 0,t)},t.prototype.sortfilterSearch=function(){this.searchData(1,"");var e={};e.trait61=this.searchParams.sortBy,this.commonService.processTrackingEvent("sort_by_click",void 0,e)},t.prototype.emptySearchData=function(){this.searchFacetKeys=[],this.searchFacets={},this.pageResults=[],this.searchSelectionKeys=[],this.updateFacetSelectionCounts(void 0,{reset:!0}),this.searchParams.from=0},t.prototype.emptySelectionsAndCallSearch=function(){o.logger.debug("Request received at emptySearchDataAndCallSearch"),this.locationSliderMode||(this.searchFacetKeys=[]),this.searchSelectionKeys=[],this.updateFacetSelectionCounts(void 0,{reset:!0}),this.searchParams.from=0;var e={queryCity:"qcity",queryState:"qstate",queryCountry:"qcountry"};for(var t in e)e.hasOwnProperty(t)&&this[t]&&(this.searchParams[e[t]]="");"none"!=this.clearResults&&"keywords"!=this.clearResults&&(this.clearAll=!0,this.rk="",this.category="",this.ak="",this.location=""),"full"!=this.clearResults&&"keywords"!=this.clearResults||(this.clearAll=!0,this.searchKeyword=""),this.searchData(1,"")},t.prototype.gotoPage=function(e){e>0&&this.searchData(e,"")},t.prototype.searchData=function(t,a,n){var o=this;if(e.prototype.unhideLoader.call(this),this.eventAggregator.publish("ph:fetchingResults",{}),this.firstTime=n,this.searchParams.all_fields=this.facetsToEnable,this.searchParams.pageName=this.pageName,this.searchParams.pageType=this.pageType,this.searchParams.from=this.pageSize*(t-1),this.searchParams.size=this.pageSize,this.searchParams.rk=this.rk,this.searchParams.searchType=this.rt,this.searchParams.ak=this.ak,this.searchParams.clearAll=this.clearAll,this.searchParams.jdsource="facets",this.clearAll&&(this.searchParams.location=""),this.locationKey&&(this.searchParams.lk=this.locationKey),this.selectedSkill.length>0){var r={};r.skills=this.selectedSkill,this.searchParams.selected_suggestions=r}this.searchParams.isSliderEnable=this.hasLocationSliderFacet(),this.isCritical&&(this.searchParams.selected_fields={isCritical:["true"]});var d;this.placeId?(d={place_id:this.placeId,sliderRadius:this.sliderRadius,aboveMaxRadius:this.aboveMaxRadius,placeVal:this.placeVal},this.locationLatLongs&&this.locationLatLongs.coords?(d.latitude=this.locationLatLongs.coords.latitude,d.longitude=this.locationLatLongs.coords.longitude):this.latitude&&this.longitude&&(d.latitude=this.latitude,d.longitude=this.longitude)):this.hasLocationSliderFacet()&&(d={sliderRadius:this.sliderRadius,aboveMaxRadius:this.aboveMaxRadius}),this.facetsService.getSearchData(s,i.WidgetConfig.v1.ddoKey,this.searchSelectionKeys,this.searchParams,this.firstTime,this.searchKeyword,this.pageIdentifier,d).then(function(t){o.locationSliderMode||(o.searchFacetKeys=[]),setTimeout(function(){o.scrollToSelection()},250);var r=t.refineSearch,d=r.data.jobs;if(r&&r.allResults?o.allResults=r.allResults:o.allResults=!1,o.firstTime&&r.totalHits&&r.totalHits<=o.searchParams.from)return o.commonService.setPageState("results"),o.searchData(1,"",!0),!1;r.data&&r.data.searchConfig&&r.data.searchConfig.mostpopular&&(o.searchParams.isMostPopular=!0),d&&d.length>o.pageSize&&d.splice(o.pageSize),r.data&&(o.uiSkillSelection=r.data.ui_skills_selection||"");var p=r.data.locationData;if(r.data&&p&&Object.keys(p).length)for(var h in p)p.hasOwnProperty(h)&&(o[h]=p[h],"place_id"==h?o.placeId=p[h]:"aboveMaxRadius"==h&&"false"==p[h]?o.aboveMaxRadius=!1:"locationRangeEnd"==h&&(o.locationRangeEnd=o.locationRangeEnd+l));if(o.placeVal&&o.placeVal.trim().length&&(o.enableLocationSlider=!0,o.aboveMaxRadius=!1,o.sliderRadius>o.locationSliderFacetMaxRange&&(o.aboveMaxRadius=!0)),o.loadType==c||""==a?(o.jobResults=d,o.totalJobs=r.totalHits||0,o.tempTotalJobs=r.totalHits||0,o.tempJobResultsForLazyLoad=d):"lazy"==o.loadType&&(o.tempJobResultsForLazyLoad=d,o.tempTotalJobs=r.totalHits||0),r.selected_fields&&(o.searchSelectionKeys=[],o.updateFacetSelectionCounts(void 0,{reset:!0}),r.selected_fields.isCritical&&delete r.selected_fields.isCritical),(!o.searchSelectionKeys||!o.searchSelectionKeys.length)&&r.selected_fields){var u=r.selected_fields,g=r.data.aggregations;g&&g.length&&g.forEach(function(e){var t=u[e.field];if(t)for(var a in e.value)if(e.value.hasOwnProperty(a)){var n=e.value[a];if(!n){var i=t.indexOf(a);-1!=i&&o.updateFacetSelectionCounts(e.field,{decrement:!0})}}});for(var h in u)!function(e){u[e]&&u[e].length&&u[e].forEach(function(t){o.searchSelectionKeys.push({facet:e,name:t}),o.updateFacetSelectionCounts(e)})}(h)}if(o.commonService.populateJobResults&&(o.jobResults=o.commonService.populateJobResults(o.jobResults,o.clickTojd,"job_click")),o.raiseSearchResultsEvent(),o.raiseSkillsResultsEvent(r.data),e.prototype.raiseDataFetchEvent&&setTimeout(function(){e.prototype.raiseDataFetchEvent.call(o)},250),o.bulkcart&&!o.commonService.isCrawlerUserAgent()){for(var f=[],y=0,v=d;y<v.length;y++){var b=v[y];d.isJobSaved=null,d.saveJobInterState=null,d.inProgress=!1,f.push(b.jobSeqNo)}var m={jobSeqNos:f};o.facetsService.makeDDORequest(s,i.WidgetConfig.v1.ddoKeyStatusList,m).then(function(e){if(e&&e.data)for(var t=e.data,a=0,n=d;a<n.length;a++){var o=n[a];o.isJobSaved=t[o.jobSeqNo]||!1,o.saveJobInterState=t[o.jobSeqNo]||!1}})}if(r&&r.data&&r.data.aggregations){var g=r.data.aggregations,S=r.selected_fields,_=o.parseJsonStringToObj(o.commonService.getSessionParam("selected_fields"));n&&_&&Object.keys(_).length&&(S=_),g.forEach(function(e){o.searchFacets[e.field]=[];var t={key:e.field,visible:!1};a==e.field&&(t.visible=!0);for(var n in e.value)if(e.value.hasOwnProperty(n)&&e.value[n]){var i=!1;S[e.field]&&-1!=S[e.field].indexOf(n)&&(i=!0,t.visible=!0),o.searchFacets[e.field].push({name:n,checked:i,count:e.value[n],facet:e.field})}})}if(!n&&o.locationSliderMode||o.facetsToEnable&&o.facetsToEnable.forEach(function(e){var t={key:e,visible:!1};a!=e&&"phLocSlider"!=e||(t.visible=!0),o.searchFacetKeys.push(t)}),n){o.openSpecificFacets(o.defaultFacetsToOpen);var k={};k.searchKeyword=o.searchKeyword,k.placeVal=o.placeVal,k.category=o.category,k.city=o.city,o.showErrorMsg=!1,o.totalJobs?o.commonService.setPageState("results"):(o.hasLocationSliderFacet()||o.eventAggregator.publish("ph:noJobsFound",k),o.hasLocationSliderFacet()||o.commonService.setPageState("no-results"),o.commonService.setPageStateData(k),o.isErrorMsgReqd?o.showErrorMsg=!0:o.hasLocationSliderFacet()?o.enableLocationSlider=!0:e.prototype.hideContainer.call(o))}else o.openSpecificFacets(o.openFacets)})},t.prototype.handleDoneButtonClick=function(){if("lazy"==this.loadType){this.jobResults=this.tempJobResultsForLazyLoad,this.totalJobs=this.tempTotalJobs,this.tempSearchSelectionKeys=[],this.raiseSearchResultsEvent(),this.resetFacetFilter(),e.prototype.closeDialogPopup.call(this);var t=this.facetFilter.querySelector(".ph-a11y-row");t&&t.removeAttribute("aria-hidden")}},t.prototype.clearSelection=function(e){e&&(e.checked=!1,this.filterChanged(e,e.facet))},t.prototype.parseJsonStringToObj=function(e){return e&&"string"==typeof e&&(e=JSON.parse(e)),e},t.prototype.clearPlaceVal=function(){this.placeVal="",this.placeId="",this.showLocationDropdown=!1,this.locationSliderChanged(),this.searchData(1,"")},t.prototype.resetAllSelections=function(){var e=this;this.searchSelectionKeys.forEach(function(t){var a=e.searchFacets[t.facet];-1!=a.indexOf(t)&&(a[a.indexOf(t)].checked=!1)}),this.searchSelectionKeys=[],this.updateFacetSelectionCounts(void 0,{reset:!0})},t.prototype.showFacetFilter=function(){var t=this,a=this.bodyclass+" facete";document.body.className=a,this.loadType="lazy",this.tempSearchSelectionKeys.length&&this.tempSearchSelectionKeys.forEach(function(e){t.searchSelectionKeys.push(e)});var n=this.element.parentElement.parentElement;n.classList.contains("ph-a11y-facets")||n.classList.add("ph-a11y-facets"),n.setAttribute("role","dialog");var o=this.facetFilter.querySelector(".ph-a11y-row");o&&o.setAttribute("aria-hidden",!0),setTimeout(function(){var a=t.facetFilter.querySelector(".ph-a11y-filter a"),o=n.querySelector(".ph-a11y-facets a");a||(a=t.facetFilter),e.prototype.openDialogPopup.call(t,n,a,o)},50)},t.prototype.resetFacetFilter=function(){document.body.className=this.bodyclass,this.loadType=c},t.prototype.hideFacetFilter=function(){if(this.tempSearchSelectionKeys.length)for(var t=this.tempSearchSelectionKeys.length,a=this.searchSelectionKeys.length,n=0;n<t;n++)for(var o=0;o<a;o++)this.tempSearchSelectionKeys[n].name==this.searchSelectionKeys[o].name&&(this.searchSelectionKeys.splice(o,1),a=this.searchSelectionKeys.length);this.resetFacetFilter(),e.prototype.closeDialogPopup.call(this);var i=this.facetFilter.querySelector(".ph-a11y-row");i&&i.removeAttribute("aria-hidden")},t.prototype.adjustAccordian=function(e){if(this.mode){if("accordion"==this.mode)for(var t=this.searchFacetKeys[e].key,a=0;a<this.searchFacetKeys.length;a++)this.searchFacetKeys[a].key==t?this.searchFacetKeys[a].visible=!this.searchFacetKeys[a].visible:this.searchFacetKeys[a].visible=!1}else this.searchFacetKeys[e].visible=!this.searchFacetKeys[e].visible},t.prototype.onJobClicked=function(){return this.localStorage.setItem("sbts",{sbts:1}),!0},t.prototype.clearSubSearchAndCallSearch=function(e){this.searchParams.subsearch="",this.filterSearch(e)},t.prototype.openSpecificFacets=function(e){if(e&&e.length>0)if("accordion"==this.mode){for(var t=0;t<this.searchFacetKeys.length;t++)if(this.searchFacetKeys[t].key==e[0]){this.searchFacetKeys[t].visible=!0;break}}else for(var t=0;t<this.searchFacetKeys.length;t++)e.indexOf(this.searchFacetKeys[t].key)>-1&&(this.searchFacetKeys[t].visible=!0)},t.prototype.hasSplRendering=function(e){return"phLocSlider"==e},t.prototype.locationSliderChanged=function(){var e=this;setTimeout(function(){e.sliderRadius>e.locationSliderFacetMaxRange?e.aboveMaxRadius=!0:e.aboveMaxRadius=!1,e.searchData(1,"")},0)},t.prototype.fetchLocations=function(e){var t=this,a=e.target?e.target.value:void 0;a?this.facetsService.getLocations(s,i.WidgetConfig.v1.ddoPlaceAutoComplete,a).then(function(e){t.showLocationDropdown=!0,t.allLocations=e.predictions},function(e){new Error(e)}):this.clearPlaceVal()},t.prototype.setLocation=function(e){e&&(this.locationSliderMode=!0,this.placeVal=e.description,this.enableLocationSlider=!0,this.placeId=e.place_id,this.showLocationDropdown=!1,this.searchData(1,""))},t.prototype.raiseSearchResultsEvent=function(){this.eventAggregator.publish("ph:searchResults",{jobResults:this.jobResults,totalJobs:this.totalJobs,searchSelectionKeys:this.searchSelectionKeys,searchParams:this.searchParams,searchKeyword:this.searchKeyword,locationKeyword:(this.locationKey&&this.locationKey.length)>0?this.locationKey:this.placeVal,pageSize:this.pageSize,selectedSkills:this.uiSkillSelection,allResults:this.allResults,clearResults:this.clearResults,clearAll:this.clearAll})},t.prototype.raiseSkillsResultsEvent=function(e){e&&e.suggestions&&e.suggestions.skills&&this.eventAggregator.publish("skillsResultsEvent",e.suggestions.skills)},t.prototype.handleSaveJob=function(e){this.bulkcart&&!e.inProgress&&(e.inProgress=!0,e.saveJobInterState?this.deleteJobFromCart(e):this.addToJobCart(e))},t.prototype.addToJobCart=function(e){var t=this,a={job:{title:e.title,jobSeqNo:e.jobSeqNo,location:e.location,type:e.type,shortDescription:e.descriptionTeaser,applyUrl:e.applyUrl,category:e.category,postedDate:e.postedDate,expiryDate:e.expiryDate,reqId:e.reqId,multi_location:e.multi_location}};this.facetsService.makeDDORequest(s,i.WidgetConfig.v1.ddoKeyAdd,a).then(function(a){if(e.inProgress=!1,"602"==a.status){var n={trait5:e.jobSeqNo,trait14:e.category};e.saveJobInterState=!0,t.eventAggregator.publish("jobCartCount","+1"),t.eventAggregator.publish("jobCartUpdatedCount",""),t.commonService.processTrackingEvent("job_added_to_jobcart",void 0,n)}else e.isJobSaved=!1,e.saveJobInterState=!1,console.info("failed on jobsave: "+a.status)})},t.prototype.deleteJobFromCart=function(e){var t=this,a={jobSeqNo:e.jobSeqNo};this.facetsService.makeDDORequest(s,i.WidgetConfig.v1.ddoKeyDelete,a).then(function(a){if(e.inProgress=!1,"605"==a.status){var n={};e.isJobSaved=!1,e.saveJobInterState=!1,n.trait5=e.jobSeqNo,n.trait14=e.category,t.eventAggregator.publish("jobCartCount","-1"),t.eventAggregator.publish("jobCartUpdatedCount",""),t.commonService.processTrackingEvent("job_unfavorited",void 0,n)}else e.isJobSaved=!0,e.saveJobInterState=!0,console.info("failed on deleteJobFromCart")})},t.prototype.updateFacetSelectionCounts=function(e,t){t&&t.reset&&(this.facetSelectionCounts={}),e&&(this.facetSelectionCounts=this.facetSelectionCounts||{},void 0==this.facetSelectionCounts[e]&&(this.facetSelectionCounts[e]=0),t&&t.decrement?this.facetSelectionCounts[e]=this.facetSelectionCounts[e]-1:this.facetSelectionCounts[e]=this.facetSelectionCounts[e]+1)},t.prototype.scrollToSelection=function(){if(this.lastSelection&&this.lastSelection.facet)for(var e=void 0,t=this.element.querySelectorAll('[data-ph-at-text="'+this.lastSelection.facet.name+'"]'),a=0;a<t.length;a++)if((e=t[a])&&e.getAttribute&&e.getAttribute("data-ph-at-id")){var n=e.getAttribute("data-ph-at-id");if(n=="facet-"+this.lastSelection.facet.facet&&e&&e.scrollIntoView){e.scrollIntoView(!1),this.eventAggregator.publish("scrollToResults",{});break}}return!0},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable(),__metadata("design:type",Number)],t.prototype,"pageSize",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"categoryNameInput",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"category",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"city",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"mode",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"bulkcart",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"clickTojd",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"loadType",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"landingPageKey",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"landingPageType",void 0),__decorate([a.bindable(),__metadata("design:type",Number)],t.prototype,"locationRangeEnd",void 0),__decorate([a.bindable(),__metadata("design:type",String)],t.prototype,"clearResults",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"sort",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"showJobs",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"showCounts",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],t.prototype,"onlyCounts",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isCritical",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"clearAll",void 0),t=__decorate([a.customElement(s),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(p=void 0!==o.CommonService&&o.CommonService)&&p||Object,r.FacetsService,"function"==typeof(h=void 0!==o.LocalStorageAPI&&o.LocalStorageAPI)&&h||Object,"function"==typeof(u=void 0!==o.CookieManager&&o.CookieManager)&&u||Object,"function"==typeof(g=void 0!==o.GeoLocationService&&o.GeoLocationService)&&g||Object,n.EventAggregator])],t);var p,h,u,g}(o.PhenomWidget);t.Facets=p}),define("text!v1/ph-facets.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-facets-v1/default/view.html",["module"],function(e){e.exports='<template>\n <div class="phs-facets-area">\n    <div class="phs-refine-block">\n        <div class="phs-hide-filter">\n            <ppc-content type="link">\n                <a href="javascript:void(0)" click.delegate="hideFacetFilter()" title="Close Filter"\n                   data-ph-at-id="mobile-facet-filter-close-button">\n                    <span class="sr-only">\n                        <ppc-content key="filterCloseButton">\n                            Close Filter\n                        </ppc-content>\n                        </span>\n                    <ppc-content type="icon">\n                        <i class="icon icon-cancel"></i>\n                    </ppc-content>\n                </a>\n            </ppc-content>\n        </div>\n        <div class="panel panel-default main-panel">\n            <div class="panel-heading" role="tab" \n                 data-ph-at-id="facet-heading">\n                <h4 class="panel-title" tabindex="0" title="Refine your search results by below filters">\n                    <ppc-content data-ph-at-id="facet-heading" key="facetSearchHeading">\n                        Refine your search\n                    </ppc-content>\n                </h4>\n            </div>\n        </div>\n        <div class="phs-filter-panels">\n            <div class="panel panel-default refine-widget" repeat.for="facetKey of searchFacetKeys">\n                \x3c!-- facet heading { bindings :  facetKey }--\x3e\n                <div class="panel-heading" role="tab" click.delegate="adjustAccordian($index)">\n                    <h4 class="panel-title">\n                        <a class="facet-menu" data-ph-at-id="facet-heading-${facetKey.key}" data-ph-at-text="${facetDisplayNames[facetKey.key]}">${facetDisplayNames[facetKey.key]}\n                            <ppc-content type="icon">\n                                <i class="${facetKey.visible ? \'icon icon-minus\' : \'icon icon-plus\'}"></i>\n                            </ppc-content>\n                        </a>\n                    </h4>\n                </div>\n                \x3c!-- facet options block --\x3e\n                <div show.bind="!hasSplRendering(facetKey.key)" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingcity">\n                    <div class="panel-body" show.bind="facetKey.visible">\n                        \x3c!-- search field and button --\x3e\n                        <div class="phs-facet-innersearch" tabindex="0">\n                            <label for="inner_${filterKey}" class="sr-only">\n                                        <ppc-content key="literal-66">\n                                    </ppc-content> ${facetKey.key}\n                                </label>\n                            <input type="search" class="form-control search-box" value.bind="filterKey" placeholder="${facetPlaceholderNames[facetKey.key]}" \n                            data-ph-at-id="facet-${facetKey.key}-textbox"\n                            data-ph-at-text="${facetPlaceholderNames[facetKey.key]}"/>\n                            <a class="innersearch-trigger" href="javascript:void(0)">\n                                <ppc-content type="icon">\n                                    <i class="icon icon-search"></i>\n                                </ppc-content>\n                                <span class="sr-only">\n                                    <ppc-content key="searchButtonText">\n                                    search button\n                                </ppc-content>\n                            </span>\n                            </a>\n                        </div>\n                        \x3c!-- facet options --\x3e\n                        <div class="phs-facet-results">\n                            <ul>\n                                <li repeat.for="facet of searchFacets[facetKey.key] | searchFilter:filterKey:\'name\'">\n                                    <label class="phs-checkbox input-check-group" for="${facetKey.key + \'_phs_\' + facet.count + $index}">\n                                    <input type="checkbox" model.bind="facet" checked.bind="facet.checked" change.delegate="filterChanged(facet, facetKey.key)"\n                                    data-ph-at-id="facet-${facetKey.key}" data-ph-at-text="${facet.name}" data-ph-at-count="${facet.count}" id="${facetKey.key + \'_phs_\' + facet.count + $index}">\n                                    <span class="checkbox"></span>\n                                    <span class="result-text">${facet.name}</span>\n                                    <span class="result-jobs-count">\n                                        <span class="symbol">\n                                            <ppc-content key="facetOpenSymbol"> (</ppc-content></span>${facet.count}<span class="sym">\n                                            <ppc-content key="facetCloseSymbol">)\n                                            </ppc-content>\n                                        </span>\n                                    </span>\n                                </label>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div show.bind="hasSplRendering(facetKey.key)" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingcity">\n                    <div class="panel-body" show.bind="facetKey.visible">\n                        <div class="phs-facet-innersearch type-ahead">\n                            <label for="inner_${filterKey}" class="sr-only">\n                                ${facetKey.key}\n                            </label>\n                            <div class="location-search">\n                                <input type="text" class="form-control search-box" name="locationVal" placeholder="${facetPlaceholderNames[facetKey.key]}" value.bind="$parent.placeVal" keyup.trigger="fetchLocations($event)">\n                                <a class="innersearch-trigger" href="javascript:void(0)"  data-ph-at-id="facet-input-close" click.delegate="clearPlaceVal()" show.bind="$parent.placeVal.length">\n                                    <ppc-content type="icon">\n                                        <i class="icon icon-cancel"></i>\n                                    </ppc-content>\n                                    <span class="sr-only">\n                                        <ppc-content key="clearSearchText">\n                                        clear search\n                                        </ppc-content>\n                                    </span>\n                                </a>\n                            </div>\n                            <ul show.bind="showLocationDropdown" data-ph-at-id="facet-slider-dropdown-input-Heading">\n                                <li class="heading" show.bind="$parent.allLocations.length">  \n                                    <ppc-content key="locationHeading" data-ph-at-text="facet-slider-dropdown-input-Heading">  Location </ppc-content>\n                                </li>\n                                <li repeat.for="eachLocation of $parent.allLocations" class="phsLocationsSuggested_${$index}" data-ph-at-id="facet-slider-dropdown-values">\n                                    <a ph-tevent="type_ahead_search" ref="linkEle" click.delegate="setLocation(eachLocation)" data-ph-at-text="${eachLocation.description}"> ${eachLocation.description}\n                                    </a>\n                                </li>\n                            </ul>\n                            <section class="ph-widget ${enableLocationSlider ? \'\' : \'disabled\'}">\n                                <div as-element="ph-range-slider-v1" range-val.two-way="sliderRadius" change-handler.call="locationSliderChanged()" range-end.bind="locationRangeEnd" class="ph-range-slider-v1-default-default" data-ph-at-id="facet-slider"></div>\n                            </section>\n                            <span show.bind="!aboveMaxRadius" data-ph-at-id="facet-slider-text">\n                               <ppc-content key="rangeSliderMinDistPreText" data-ph-at-text="facet-slider-text"> \n                                   Distance:\n                                </ppc-content> \n                                ${sliderRadius} \n                                <ppc-content key="rangeSliderMinDistPostText">\n                                   miles\n                               </ppc-content>\n                            </span>\n                            <span show.bind="aboveMaxRadius" data-ph-at-id="facet-slider-text">\n                                  <ppc-content key="rangeSliderMaxDistPreText" data-ph-at-text="facet-slider-text">\n                                     Distance: \n                                  </ppc-content>\n                                    ${locationSliderFacetMaxRange}+\n                                  <ppc-content key="rangeSliderMaxDistPostText"> miles</ppc-content>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="phs-bottom-hide-filter">\n                <a href="javascript:void(0)" click.delegate="handleDoneButtonClick()" class="btn primary-button btn-block" data-ph-at-id="mobile-facet-filter-done-button">\n                    <ppc-content key="filterDoneButtonText" data-ph-at-text="mobile-facet-filter-done-button">\n                        Refine Search\n                    </ppc-content>\n                </a>\n            </div>\n        </div>\n    </div>\n </div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-create-job-alert-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"jobAlertCreate",ddoKeyManage:"jobAlertManage",ddoKeyJobAlertList:"jobAlertList",ddoKeySocialProfile:"mergedProfile",ddoKeymasterFrequency:"masterFrequencyV1",ddoKeyValidateToken:"validateToken",ddoKeyValidateJwtToken:"validateJwtToken",ddoKeyATSProfileURL:"atsProfileURL"}}}),define("v1/ph-create-job-alert-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.email="",this.jobSeqNo="",this.name="",this.frequency="2",this.displayFrequency="",this.userSubType=""}return e.prototype.resetData=function(){this.email="",this.jobSeqNo="",this.name="",this.frequency="2",this.displayFrequency="",this.userSubType=""},e}();t.CreateJobAlertModel=a});var __decorate=this&&this.__decorate||function(e,t,a,n){
var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-create-job-alert-service",["require","exports","aurelia-framework","ph-common"],function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.commonService=e}return e.prototype.getProfile=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e.prototype.makeDDORequest=function(e,t,a){return this.commonService.getDDO(e,t,a).then(function(e){return e[t]})},e=__decorate([a.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.CreateJobAlertService=o});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-create-job-alert",["require","exports","aurelia-framework","ph-common","./ph-create-job-alert-config","aurelia-event-aggregator","./ph-create-job-alert-service","./ph-create-job-alert-model"],function(e,t,a,n,o,i,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="ph-create-job-alert-v1",l=function(e){function t(t,a,n,o,i){var r=e.call(this,t,a,c)||this;return r.element=t,r.createJobAlertService=n,r.createJobAlertModel=o,r.eventAggregator=i,r.isErrorMsgReqd=!1,r.validateDuplication={name:!0,selectedFields:!0,enable:!0},r.validateCreationLimit={count:10,enable:!0},r.errors={},r.showErrorMsg=!1,r.toggleJobAlert=!1,r.hideJobAlert=!0,r.facetObj={},r.userProfile={},r.isLoggedIn=!1,r.showSuccessMsg=!1,r.handleAlertStatus=!1,r.popupAlert=!1,r.isIconVisible=!0,r.closeAlert=!1,r.manageAlertStatus=!1,r.a=!1,r.masterFrequency=[],r.frequencyObj={},r.isDisabled=!1,r.requestInprogress=!1,r.isSearchDataUpdated=!1,r.isEmailReqd=!1,r.aCreatedAlerts=[],r.createdAlertCount=0,r.errorState={},r.isLocalDataSourceFn=function(){return!0},r}return __extends(t,e),t.prototype.attached=function(){var t=this;e.prototype.attached.call(this),this.getMasterFrequency(),this.isEmailReqd?(this.getEmail(),this.validateJwtToken()):this.getProfile(),(this.validateDuplication.enable||this.validateCreationLimit.enable)&&this.getJobAlertList(),this.eventAggregator.subscribe("saveSelections",function(e){n.logger.debug("i can hear u too",JSON.stringify(e)),t.facetObj=e}),this.eventAggregator.subscribe("ph:data:updated:event",function(e){e.isDataUpdated&&t.notify()})},t.prototype.notify=function(){this.eventAggregator.publish("ph:isUserLoggedIn",{isLoggedIn:this.isLoggedIn})},t.prototype.getMasterFrequency=function(){var e=this;this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeymasterFrequency,{}).then(function(t){t&&"success"==t.status&&(e.masterFrequency=t.data)})},t.prototype.getProfile=function(){var t=this;e.prototype.unhideLoader.call(this),this.createJobAlertService.getProfile(c,o.WidgetConfig.v1.ddoKeySocialProfile,{}).then(function(a){a=a||{},a=a.profile||a,a.email&&(t.isLoggedIn=!0,t.isDisabled=!0,t.userProfile=a,t.createJobAlertModel.email=t.userProfile.email),t.notify(),e.prototype.hideLoader.call(t)})},t.prototype.editEmail=function(){this.isIconVisible=!1},t.prototype.updateErrorState=function(){var e=this.errors||{},t=Object.keys(e),a=t.length;if(a>0)for(var n=0;n<a;n++){var o=e[t[n]];if(o){this.hasErrors=!0;break}}else this.hasErrors=!1;return this.hasErrors},t.prototype.validateName=function(){return this.resetErrors(),0==this.createJobAlertModel.name.length&&(this.errors.name="E103"),this.updateErrorState()},t.prototype.validateEmail=function(){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.createJobAlertModel.email?t.test(this.createJobAlertModel.email)||(this.errors.email="E102"):this.errors.email="E101",this.updateErrorState()?e.prototype.focusFormError.call(this):(this.handleAlertStatus=!0,this.hideJobAlert=!1,delete this.errors.email,this.createJobAlert())},t.prototype.alertFrequency=function(){this.toggleJobAlert=!0},t.prototype.showMsg=function(){this.handleAlertStatus=!1,this.popupAlert=!0;var t=this.element.querySelector(".ph-a11y-manage-block"),a=this.element.querySelector(".ph-a11y-manage-modal-dialog a");e.prototype.openDialogPopup.call(this,"ph-a11y-manage-modal-dialog",t,a)},t.prototype.closeManageAlert=function(){this.popupAlert=!1,this.closeAlert=!1,this.handleAlertStatus=!0,e.prototype.closeDialogPopup.call(this)},t.prototype.createJobAlert=function(){var t=this;this.requestInprogress=!0;var a={};a.alertData=this.facetObj,a.frequency=this.createJobAlertModel.frequency,a.email=this.createJobAlertModel.email,this.createJobAlertModel.userSubType.length>0&&(a.userSubType=this.createJobAlertModel.userSubType),this.createJobAlertModel.name.length>0&&(a.name=this.createJobAlertModel.name),this.getFreqValue(),this.hasErrors||(e.prototype.unhideLoader.call(this),this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKey,a).then(function(a){if(a&&"success"==a.status){var o=a.data;200==o.status?(t.showSuccessMsg=!0,t.hideJobAlert=!1,t.requestInprogress=!1,o.data&&o.data.manageStatus&&(t.manageAlertStatus=o.data.manageStatus),t.createdAlertCount++):400==o.status&&o.message?t.showConsolidatedError("showservermessage",o.message):t.showConsolidatedError("oopserroroccurred")}e.prototype.hideLoader.call(t);try{e.prototype.focusElement.call(t,".ph-a11y-create-alert-submit",250)}catch(e){n.logger.error(e.message)}},function(a){new Error(a),e.prototype.hideLoader.call(t),t.handleError("")}))},t.prototype.createAlert=function(){var t=this;this.eventAggregator.publish("selectFields",{});var a={};a.alertData=this.facetObj,a.frequency=this.createJobAlertModel.frequency,this.getFreqValue(),this.hasErrors||(e.prototype.unhideLoader.call(this),this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKey,a).then(function(a){if(e.prototype.hideLoader.call(t),a&&"success"==a.status){var n=a.data;200==n.status&&(t.showSuccessMsg=!0,t.hideJobAlert=!1,n.data&&n.data.manageStatus&&(t.manageAlertStatus=n.data.manageStatus))}},function(a){new Error(a),e.prototype.hideLoader.call(t),t.handleError("")}))},t.prototype.manageAlert=function(){var t=this;this.popupAlert=!1,this.closeAlert=!0,e.prototype.unhideLoader.call(this);var a={};a.email=this.createJobAlertModel.email,this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeyManage,a).then(function(a){e.prototype.hideLoader.call(t),a&&"success"==a.status&&a.data.status;var n=t.element.querySelector(".ph-a11y-manage-block"),o=t.element.querySelector(".ph-a11y-manage-modal-dialog-two");e.prototype.openDialogPopup.call(t,"ph-a11y-manage-modal-dialog-two",n,o)},function(a){new Error(a),e.prototype.hideLoader.call(t),t.handleError("")})},t.prototype.createNewAlert=function(){this.hideJobAlert=!0,this.showSuccessMsg=!1,this.validateCreationLimit.enable&&this.updateAlertCreationLimit(),this.createJobAlertModel.resetData()},t.prototype.closeEmailAlert=function(){this.closeAlert=!1,this.popupAlert=!1},t.prototype.getFrequencyObject=function(e){for(var t in this.masterFrequency)if(this.masterFrequency[t].key===e)return this.masterFrequency[t]},t.prototype.getFreqValue=function(){this.frequencyObj=this.getFrequencyObject(this.createJobAlertModel.frequency),this.frequencyObj&&(this.createJobAlertModel.displayFrequency=this.frequencyObj.literalkey)},t.prototype.handleError=function(t){this.isErrorMsgReqd?this.showErrorMsg=!0:e.prototype.onError.call(this,"")},t.prototype.getLocalWidgetBundle=function(){return{frequencydaily:"Daily",frequencyweekly:"Weekly",frequencymonthly:"Monthly",frequencybiweekly:"Bi-Weekly"}},t.prototype.getEmail=function(){var e=this;"internal"==this.commonService.getSiteType()?this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeyATSProfileURL).then(function(t){t&&"success"==t.status&&(e.isLoggedIn=!0,e.isDisabled=!0,e.createJobAlertModel.email=t.username||"",e.createJobAlertModel.name=t.firstName||"")},function(t){e.handleError()}):this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeyValidateToken).then(function(t){t&&t.access_token&&(e.isLoggedIn=!0,e.isDisabled=!0,e.createJobAlertModel.email=t.user_name||"")},function(t){e.handleError()})},t.prototype.validateJwtToken=function(){var e=this;"internal"==this.commonService.getSiteType()&&this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeyValidateJwtToken).then(function(t){"success"==t.status&&t.data&&t.data.userSubType&&(e.createJobAlertModel.userSubType=t.data.userSubType)},function(e){new Error(e)})},t.prototype.getJobAlertList=function(){var e=this;this.createJobAlertService.makeDDORequest(c,o.WidgetConfig.v1.ddoKeyJobAlertList,{}).then(function(t){if("success"===t.status&&t.data){var a=t.data.jobAlerts||[];e.createdAlertCount=a.length,e.aCreatedAlerts=a,e.updateAlertCreationLimit()}})},t.prototype.hasDuplicateFacetSelection=function(){var e=this;try{return!!this.aCreatedAlerts.length&&this.aCreatedAlerts.some(function(t){return JSON.stringify(e.facetObj.selected_fields)===JSON.stringify(t.alertData.selected_fields)})}catch(e){return!1}},t.prototype.isAllFieldsSelected=function(){return this.facetObj.isSearchRefined},t.prototype.updateAlertCreationLimit=function(){this.createdAlertCount>=this.validateCreationLimit.count&&this.showConsolidatedError("maxalertsreached")},t.prototype.validateOnAlertCreation=function(e){e&&e.preventDefault(),this.eventAggregator.publish("selectFields",{}),this.resetErrors(),(!this.validateName()||this.requestInprogress)&&(this.validateDuplication.enable?this.isAllFieldsSelected()?this.createJobAlert():this.showConsolidatedError("selectedallfields"):this.createJobAlert())},t.prototype.showConsolidatedError=function(e,t){switch(void 0===t&&(t=""),e){case"selectedallfields":this.errors.name="E104";break;case"duplicatefacets":break;case"maxalertsreached":this.errors.name="E106";break;case"showservermessage":this.errors.name="E400",this.errors.message=t;break;case"oopserroroccurred":this.errors.name="E404"}this.updateErrorState()},t.prototype.resetErrors=function(){delete this.errors.name},t.prototype.resetCreateForm=function(){},__decorate([a.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([a.bindable,__metadata("design:type",String)],t.prototype,"jobSeqNo",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"validateDuplication",void 0),__decorate([a.bindable,__metadata("design:type",Object)],t.prototype,"validateCreationLimit",void 0),__decorate([a.bindable,__metadata("design:type",Boolean)],t.prototype,"isLoggedIn",void 0),__decorate([a.bindable,__metadata("design:type",Boolean)],t.prototype,"showSuccessMsg",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],t.prototype,"isEmailReqd",void 0),t=__decorate([a.customElement(c),a.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==n.CommonService&&n.CommonService)&&l||Object,r.CreateJobAlertService,s.CreateJobAlertModel,i.EventAggregator])],t);var l}(n.PhenomWidget);t.CreateJobAlert=l}),define("text!v1/ph-create-job-alert.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-create-job-alert-v1/default/view.html",["module"],function(e){e.exports='<template>\n\t\x3c!-- view html here --\x3e\n\t<form role="form" submit.delegate="validateEmail()" show.bind="hideJobAlert">\n\t\t<div >\n\t\t\t<input type="text" placeholder="enter email" id="demo" value.bind="createJobAlertModel.email" >\n\t\t\t<a href="javascript:void(0)" mouseover.delegate="editEmail()" if.bind="isIconVisible===true" >icon</a>\n\t\t\t<span show.bind="hasErrors && errors.email == \'E101\'"><ppc-content> Email should not empty </ppc-content> </span>\n\t\t\t<span show.bind="hasErrors && errors.email == \'E102\'"><ppc-content> Please enter email </ppc-content> </span>\n\t\t\t<a href="javascript:void(0)" click.delegate="alertFrequency()">alert preferences</a>\n\t\t\t<div show.bind="toggleJobAlert">\n\t\t\t\t<select id="frequency" value.bind="createJobAlertModel.frequency" data-ph-at-id="" role="combobox" key-role="comboRole" aria-label="Select an email frequency" key-aria-label="selectFreq" change.delegate="changeFreq()">\n\t\t\t\t\t<option value.bind="freq.key" role="option" key-role="optionRole" repeat.for="freq of masterFrequency">${widgetBundle[freq.literalkey] | pht}</option>\n\t\t\t\t</select>   \n\t\t\t\t<input type="checkbox">Remember my preference\n\t\t\t</div>\n\t\t\t<button type="submit"> Create job alert</button>\n\t\t</div>\n\t\t\n\t\t</form>\n\t\t<div show.bind="showSuccessMsg">\n\t\t\t<h3>Job alert created successfully</h3>\n\t\t\t<p>E-mail:${createJobAlertModel.email} </p>\n\t\t\t\x3c!-- <p>Alert Frequency:${createJobAlertModel.displayFrequency} </p> --\x3e\n\t\t\t<p>Alert Frequency:${widgetBundle[createJobAlertModel.displayFrequency] | pht}</p>\n\t\t\t<a href="createNewAlert()">Create another alert</a>\n\t\t\t<a href="javascript:void(0)" if.bind="!isLoggedIn && manageAlertStatus" click.delegate="showMsg()">Manage alert</a>\n\t\t</div>\n\t\t<div show.bind="popupAlert">\n\t\t   <h3>Manage Job Alerts<a href="javascript:void(0)" click.delegate="closeManageAlert()"> close</a></h3>\n\t\t\t  <p>To manage your alerts,<a> sign-in</a> to career site using your credentials.</p>\n\t\t\t<p><a href="javascript:void(0)" click.delegate="manageAlert()" >click here</a> to receive an verification email\n\t\t\t\t\tthat will redirect you to \'Manage alerts\' page.</p>\t\t\n\t\t\t  <p>E-mail will be sent to "mymail@gamil.com"</p>\n\t\t</div>\n\t\t<div show.bind="closeAlert"><h3>Your email is on its way...</h3>\n\t\t\t<a href="javascript:void(0)" click.delegate="closeEmailAlert()" show.bind="closeAlert">close</a>\n\t\t\t<p>We\'ve emailed you a link to access your profile</p>\n\t\t</div>\t \n\t\n</template>'}),define("components",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["v1/ph-oauthsignin","v3/ph-global-search","v1/ph-language-selector","v1/ph-search-results","v3/ph-job-cart-count","v1/ph-facets","v1/ph-create-job-alert"]}),define("main",["require","exports","./environment","./components"],function(e,t,a,n){"use strict";function o(e){e.use.standardConfiguration().plugin("ph-common").globalResources(n.default),a.default.debug&&e.use.developmentLogging(),window&&(window.localAurelia=e),window.pht=window.pht||{};for(var t=document.querySelectorAll(".au-target"),o=0;o<t.length;o++){var i=t[o];i.className=i.className.replace("au-target","")}for(var r=document.querySelectorAll("div.ph-widget-target[data-widget]"),s=0;s<r.length;s++){var c=r[s];if(c){var l=c.getAttribute("type");if(!l||"static"!=l){var d=c.innerHTML,p=c.getAttribute("as-element"),h=c.getAttribute("view")||"default";d&&d.trim().length&&(pht[p+"-"+h]=d.trim()),c.innerHTML=""}}}e.start().then(function(){return e.enhance({},document.body)})}P.config({warnings:{wForgottenReturn:!1}}),t.configure=o}),document&&document.body&&document.body.setAttribute("aurelia-app","main");