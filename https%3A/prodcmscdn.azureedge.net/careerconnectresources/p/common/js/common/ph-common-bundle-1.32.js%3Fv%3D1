define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("index",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.DummyCommon=o}),define("ph-common/ph-common",["exports","./ph-src-attribute/ph-src-attribute","./ph-loader-attribute/ph-loading-image-attribute","./ph-tracking/ph-pa-event","./ph-href-attribute/ph-href-attribute","./ph-page-state-attribute/ph-page-state-attribute","./ph-slider/v1/ph-card-slider","./ph-media-gallery/v1/ph-media-gallery","./ph-video/v1/ph-video","./service_request","./common-service","./geo-location-service","./local-storage","./ph-widget","./ph-log","./ph-tracking/ph-tracker","./cookie-manager","./ph-value-converters/search-filter-value-converter","./ph-value-converters/date-format","./ph-value-converters/data-validate-value-converter","./url-manager","./ph-app-model-manager","./ph-job-widget","./ph-video-widget","./ph-modal-dialog-display","./ph-validation/ph-validation-controller","./ph-validation/ph-validate-binding-behavior","./ph-translation/ph-translation-value-converter","./ph-translation/ph-translation-service","./ph-candidate-login-service"],function(e,t,o,n,i,r,a,s,l,c,p,u,d,f,h,g,m,y,v,b,S,A,C,E,w,T,O,P,R,_){"use strict";function k(e){e.globalResources(["./ph-src-attribute/ph-src-attribute","./ph-href-attribute/ph-href-attribute","./ph-loader-attribute/ph-loading-image-attribute","./ph-tracking/ph-pa-event","./ph-value-converters/search-filter-value-converter","./ph-value-converters/date-format","./ph-value-converters/data-validate-value-converter","./ph-validation/ph-validate-binding-behavior","./ph-translation/ph-translation-value-converter","./ph-page-state-attribute/ph-page-state-attribute","./ph-slider/v1/ph-card-slider","./ph-media-gallery/v1/ph-media-gallery","./ph-video/v1/ph-video"])}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ImgSrcAttribute",{enumerable:!0,get:function(){return t.ImgSrcAttribute}}),Object.defineProperty(e,"LoadingImageAttribute",{enumerable:!0,get:function(){return o.LoadingImageAttribute}}),Object.defineProperty(e,"PhenomTrackEvent",{enumerable:!0,get:function(){return n.PhenomTrackEvent}}),Object.defineProperty(e,"AHrefAttribute",{enumerable:!0,get:function(){return i.AHrefAttribute}}),Object.defineProperty(e,"PhPageStateAttribute",{enumerable:!0,get:function(){return r.PhPageStateAttribute}}),Object.defineProperty(e,"CardSliderAttribute",{enumerable:!0,get:function(){return a.CardSliderAttribute}}),Object.defineProperty(e,"MediaGallery",{enumerable:!0,get:function(){return s.MediaGallery}}),Object.defineProperty(e,"VideoAttribute",{enumerable:!0,get:function(){return l.VideoAttribute}}),Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})}),Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}),Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}),Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})}),Object.keys(S).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return S[t]}})}),Object.keys(A).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return A[t]}})}),Object.keys(C).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return C[t]}})}),Object.keys(E).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}})}),Object.keys(w).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})}),Object.keys(T).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return T[t]}})}),Object.keys(O).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}})}),Object.keys(P).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return P[t]}})}),Object.keys(R).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return R[t]}})}),Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})}),e.configure=k}),define("ph-common",["ph-common/ph-common"],function(e){return e}),define("ph-common/ph-src-attribute/ph-src-attribute",["exports","aurelia-framework","./../index"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ImgSrcAttribute=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.ImgSrcAttribute=function(){function e(t,o){n(this,e),this.element=t,this.commonService=o}return e.prototype.valueChanged=function(e,t){if(e&&e.trim().length>0){var o=this.commonService.getImageUrl(e);this.element.src=o,this.element.removeAttribute&&this.element.removeAttribute("ph-src")}},e}();e.ImgSrcAttribute=s=r([(0,t.customAttribute)("ph-src"),(0,t.inject)(t.DOM.Element,o.CommonService),a("design:paramtypes",[Element,o.CommonService])],s)}),define("ph-common/index",["exports","./service_request","./common-service","./geo-location-service","./local-storage","./ph-widget","./ph-log","./ph-tracking/ph-tracker","./cookie-manager","./ph-value-converters/search-filter-value-converter","./ph-value-converters/date-format","./url-manager","./ph-app-model-manager"],function(e,t,o,n,i,r,a,s,l,c,p,u,d){"use strict";function f(e){e.globalResources(["./ph-src-attribute/ph-src-attribute","./ph-loader-attribute/ph-loading-image-attribute","./ph-device/hide-on-mobile-attr","./ph-tracking/ph-pa-event","./ph-value-converters/search-filter-value-converter","./ph-value-converters/date-format","./ph-href-attribute/ph-href-attribute"])}Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){"default"!==o&&"__esModule"!==o&&Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[o]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}),e.configure=f}),define("ph-common/service_request",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.ServiceRequest=function(){function e(o,n,i,r){t(this,e),this.method=o,this.url=n,this.params=i,this.headers=r}return e.prototype.getMethod=function(){return this.method},e.prototype.getUrl=function(){return this.url},e.prototype.getParams=function(){return this.params||{}},e.prototype.getHeaders=function(){return this.headers||{}},e}()}),define("ph-common/common-service",["exports","aurelia-fetch-client","aurelia-framework","aurelia-event-aggregator","./index","./local-storage","./url-manager","./ph-tracking/tracking-manager","./ph-app-model-manager","./local-storage-context-model","./ph-translation/ph-translation-service","./ph-bot-bridge-manager/profile-login-service","whatwg-fetch"],function(e,t,o,n,i,r,a,s,l,c,p,u){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.CommonService=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},g=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m={DEFAULT:"MMM Do YYYY",SHORT:"D M YY",MEDIUM:"MMM Do YYYY",LONG:"MMMM Do YYYY",FULL:"MMMM Do YYYY H mm",LOCALE_DEFAULT:"L",MMDDYYYY_SLASH:"MM/DD/YYYY"},y=e.CommonService=function(){function e(t,o,n,i,r,a,s,l,c){var p=this;d(this,e),this.http=t,this.eventAggregator=o,this.localStorage=n,this.urlManager=i,this.trackingManager=r,this.phenomAppManager=a,this.localStorageContext=s,this.profileLoginService=l,this.translationService=c,this.scriptSubScriptions={},this.mergeProfileProgress=!1,this.getPendingCalls=function(){return p.http.activeRequestCount},this._loadMessageBundle(),this.phenomAppManager.setPendingCalls(this.getPendingCalls),this.phenomAppManager.setCommonContext(this)}return e.prototype._getDDOUrl=function(){return this.phenomAppManager.getDDOUrl()},e.prototype._getDDOFromCache=function(e){return this.phenomAppManager.getDDOFromCache(e)},e.prototype._getCommonParams=function(){return this.phenomAppManager.getCommonParams()},e.prototype._loadMessageBundle=function(){var e=this,t=this._getDDOFromCache("siteConfig");if(t&&t.data.bundleVersions){var o=[this.phenomAppManager.getCdnUrl(),this.phenomAppManager.getRefNum(),this.phenomAppManager.getLocale(),"common/bundles","messages-"+this.phenomAppManager.getLocale()+"-"+t.data.bundleVersions.msgBundle+".json"];o=o.join("/");this.http.fetch(o).then(function(e){if(i.logger.debug("Message Bundle ",e),200==e.status)return e.json()}).then(function(t){i.logger.debug("Message Bundle ",t),e.phenomAppManager.setLangBundle(t)})}},e.prototype._loadValidationRules=function(){var e=this,t=this._getDDOFromCache("siteConfig");if(t&&t.data.bundleVersions){var o=[this.phenomAppManager.getCdnUrl(),this.phenomAppManager.getRefNum(),"common/validations","validationRules-"+t.data.bundleVersions.validationRules+".json"];o=o.join("/");this.http.fetch(o).then(function(e){if(200==e.status)return e.json()}).then(function(t){i.logger.debug("Validation Rules ",t),e.phenomAppManager.setValidationRules(t)})}},e.prototype.getErrorChannel=function(e){return e+"-error"},e.prototype.getSuccessChannel=function(e){return e+"-success"},e.prototype.getImageUrl=function(e){var t=this;if(e&&-1!=e.indexOf("://"))return e;var o=["cdnUrl","refNum","locale","deviceType"],n="";return o.forEach(function(e,o){var i=t.phenomAppManager.getParam(e);i&&i.trim().length>0&&(n+=i,"/"!==i[i.length-1]&&(n+="/"))}),n+e},e.prototype.getTemplateUrl=function(e,t){var o=this,n="views/";if(!this.phenomAppManager.hasAbsUrl())return"./"+n+e+"/"+t+"/view.html";n="widgets/"+e+"/"+n;var i=["cdnUrl","refNum","s:"+n,"s:"+t,"locale","deviceType"],r="";return i.forEach(function(e,t){var n=o.phenomAppManager.getParam(e);e&&e.startsWith("s:")&&(n=e.substring(2)),n&&n.trim().length>0&&(r+=n,"/"!==n[n.length-1]&&(r+="/"))}),r+"view.html"},e.prototype.getLoadingImgUrl=function(e){return this.getImageUrl(e)},e.prototype.getCachedDDO=function(e,t){var o=this._getDDOFromCache(e);if(o&&t){var n={};n[e]=o,this.eventAggregator.publish(this.getSuccessChannel(t),{respData:n,ddoKey:e})}return o},e.prototype.getDDO=function(e,t,o){var n=this;return new Promise(function(r,a){var s=n._getDDOFromCache(t);if(s){var l={};l[t]=s,n.eventAggregator.publish(n.getSuccessChannel(e),{respData:l,ddoKey:t}),r(l)}else{var c=n._getCommonParams();c.ddoKey=t;for(var p in o)o.hasOwnProperty(p)&&(c[p]=o[p]);var u=new Headers;u.append("Content-Type","application/json");var d=new i.ServiceRequest("POST",n._getDDOUrl(),c,u);n.invoke(d,e,t).then(function(e){r(e)})}})},e.prototype.invoke=function(e,t,o){var n=this;if(!e.getMethod())return void i.logger.error("Http Method type is mandatory");if(!e.getUrl())return void i.logger.error("Url is Mandatory");return"GET"==e.getMethod()?this.http.fetch(e.getUrl()).then(function(e){return e.json()}):this.http.fetch(e.getUrl(),{method:"post",body:JSON.stringify(e.getParams()),headers:e.getHeaders(),credentials:"include"}).then(function(e){var i=e.json();return n.eventAggregator.publish(n.getSuccessChannel(t),{successPromise:i,ddoKey:o}),i}).catch(function(e){i.logger.error("Error in WS call ",e),n.eventAggregator.publish(n.getErrorChannel(t),{})})},e.prototype.jobContext=function(e){return this.localStorageContext.jobContext(e)},e.prototype.addJobContext=function(e,t){this.localStorageContext.addJobContext(e,t)},e.prototype.getNextAndPrevJobData=function(e){return this.localStorageContext.getNextAndPrevJobData(e)},e.prototype.getUrl=function(e,t,o){"internal"===this.getSiteType()&&"job"===e&&t&&t.visibilityType&&"EXTERNAL"===t.visibilityType.toUpperCase()&&(o?o+="&vt=e":o="vt=e");var n=this.phenomAppManager.getRawUrl(e);if(n)return this.phenomAppManager.getBaseUrl()+this.urlManager.getUrl(e,t,o,n)},e.prototype.getRawUrl=function(e){return this.phenomAppManager.getRawUrl(e)},e.prototype.storePageTrackEventData=function(e,t){this.trackingManager.storePageTrackEventData(e,t)},e.prototype.processTrackingEvent=function(e,t,o,n,i){this.trackingManager.processTrackingEvent(e,t,o,n,i)},e.prototype.addRecommendationTrackCtx=function(e,t){var o=this.trackingManager.getPageTrackEventData(e);o&&this.localStorageContext.addRecommendationTrackCtx(t,o)},e.prototype.getRecommendedTrackCtx=function(){return this.localStorageContext.getRecommendedTrackCtx()},e.prototype.getSpecificTrackCtx=function(e,t){return this.localStorageContext.getSpecificTrackCtx(e,t)},e.prototype.setSpecificTrackCtx=function(e,t,o){return this.localStorageContext.setSpecificTrackCtx(e,t,o)},e.prototype.removeSpecificTrackCtx=function(e,t){return this.localStorageContext.removeSpecificTrackCtx(e,t)},e.prototype.removeRecomContentFromLocalStorage=function(){return this.localStorageContext.removeRecomContentFromLocalStorage()},e.prototype.getBaseUrl=function(){return this.phenomAppManager.getBaseUrl()},e.prototype.getBaseDomain=function(){return this.phenomAppManager.getBaseDomain()},e.prototype.getDateFormat=function(e){return m[e]||e},e.prototype.getSessionParam=function(e){return this.phenomAppManager.getSessionParams(e)},e.prototype.getWidgetSettings=function(e){return this.phenomAppManager.getWidgetSettings(e)},e.prototype.useInlineTmpl=function(){return this.phenomAppManager.useInlineTmpl()},e.prototype.getLocale=function(){return this.phenomAppManager.getLocale()},e.prototype.getPageType=function(){return this.phenomAppManager.getPageType()},e.prototype.getPageId=function(){return this.phenomAppManager.getPageId()},e.prototype.getPageName=function(){return this.phenomAppManager.getPageName()},e.prototype.getCountry=function(){return this.phenomAppManager.getCountry()},e.prototype.clearDDO=function(e){this.phenomAppManager.clearDDOFromcache(e)},e.prototype.getLangBundle=function(){return this.phenomAppManager.getLangBundle()},e.prototype.getValidationRules=function(e){return this.phenomAppManager.getValidationRules(e)},e.prototype.setLangBundle=function(e){return this.phenomAppManager.setLangBundle(e)},e.prototype.setValidationRules=function(e){return this.phenomAppManager.setValidationRules(e)},e.prototype.getParam=function(e){return this.phenomAppManager.getParam(e)},e.prototype.setParam=function(e,t){this.phenomAppManager.setParam(e,t)},e.prototype.getSiteType=function(){return this.phenomAppManager.getSiteType()},e.prototype.getSiteSettings=function(e){var t=this._getDDOFromCache("siteConfig");if(t&&t.data)return e?t.data.siteSettings[e]||t.data[e]:t.data.siteSettings},e.prototype.getUserSubType=function(){return this.phenomAppManager.getUserSubType()},e.prototype.setPageState=function(e){this.phenomAppManager.setPageState(e),this.eventAggregator.publish("pageState",{pageState:e})},e.prototype.getPageState=function(){var e=this.phenomAppManager.getPageState();return this.eventAggregator.publish("pageState",{pageState:e}),e},e.prototype.setPageStateData=function(e){this.phenomAppManager.setPageStateData(e),this.eventAggregator.publish("pageStateData",{})},e.prototype.getPageStateData=function(){return this.phenomAppManager.getPageStateData()},e.prototype.populateJobResults=function(e,t,o){if(e&&e.length){for(var n in e)e[n]&&(e[n].hasOwnProperty("externalApply")&&!e[n].externalApply&&(e[n].applyUrl=this.getBaseUrl()+"apply?jobSeqNo="+e[n].jobSeqNo),e[n].jobUrl=e[n].jobUrl||this.getUrl("job",e[n]),t?(e[n].actionUrl=e[n].jobUrl,e[n].actionEventName=o):(e[n].actionUrl=e[n].applyUrl,e[n].actionEventName="apply_click"),e[n].eventName=o);return e}},e.prototype.isCrawlerUserAgent=function(){var e=window.navigator.userAgent,t=!1,o=this.getSiteSettings("crawlerUserAgents");if(o){t=new RegExp(o,"i").test(e.toLowerCase())}return t},e.prototype.getRootDomain=function(){return this.phenomAppManager.getRootDomain()||this.phenomAppManager.getBaseDomain()},e.prototype.getCdnUrl=function(){return this.phenomAppManager.getCdnUrl()},e.prototype.getWidgetAssetsBaseUrl=function(e,t,o,n){return[this.getCdnUrl(),n?this.phenomAppManager.getRefNum():"common","assets/images/widgets",e,t,o].join("/")},e.prototype.getPlatformAssetsBaseUrl=function(){return[this.phenomAppManager.getCdnUrl(),"common/js/vendor/"].join("/")},e.prototype.addSubcriptionScript=function(e,t){return-1==Object.keys(this.scriptSubScriptions).indexOf(e)?(this.scriptSubScriptions[e]=[],this.scriptSubScriptions[e].push(t),!0):(this.scriptSubScriptions[e].push(t),!1)},e.prototype.proccessSubscritionScript=function(e){for(var t=0;t<this.scriptSubScriptions[e].length;t++)this.scriptSubScriptions[e][t]();delete this.scriptSubScriptions[e]},e.prototype.getWidgetLangBundle=function(e,t,o,n,i,r){var a=this;return new Promise(function(o,s){var l={},c=[i,e,t,n].join("-"),p=a.phenomAppManager.getTranslations();if(p){l=p.masterData||{};var u=p[c];u?Object.keys(u).forEach(function(e){l[e]=u[e]}):r&&Object.keys(r).forEach(function(e){l[e]||(l[e]=r[e])})}else r&&(l=r);o(l)})},e.prototype.applyWidgetBundle=function(e,t,o,n,i,r,a,s){var l=this;return this.getWidgetLangBundle(e,t,o,n,a,s).then(function(e){return l.translationService.parseTemplateAndApplyBundle(i,r,e)})},e.prototype.getTranslation=function(e,t,o){return t=t||{},this.translationService.renderLiteral(e,t,o)},e.prototype.getMergeProfileProgress=function(){return!this.mergeProfileProgress&&(this.mergeProfileProgress=!0,!0)},e.prototype.getQueryParam=function(e){var t=location.search;t=t.substr(1);for(var o=t.split("&"),n=0;n<o.length;n++){var i=o[n];if(i=i.split("="),i.length>1&&i[0]==e)return decodeURIComponent(i[1])}},e.prototype.getUrlObjFromString=function(e){var t=document.createElement("a");return t.href=e,{protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash,host:t.host}},e}();e.CommonService=y=h([(0,o.autoinject)(),g("design:paramtypes",[t.HttpClient,n.EventAggregator,r.LocalStorageAPI,a.UrlManager,s.TrackingManager,l.PhenomAppManager,c.LocalStorageContext,u.ProfileLoginService,p.TranslationService])],y)}),define("ph-common/local-storage",["exports","./ph-log"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorageAPI=void 0;var n=void 0,i=void 0;e.LocalStorageAPI=function(){function e(t){o(this,e),this.isLocalStorageAvailable()}return e.prototype.setItem=function(e,o){if(n)try{n.setItem(e,JSON.stringify(o))}catch(e){this.isQuotaExceeded(e)&&t.logger.error("Local Storage full")}},e.prototype.getItem=function(e){if(n){var t=n.getItem(e);return t=JSON.parse(t)}},e.prototype.removeItem=function(e){n&&n.removeItem(e)},e.prototype.setSessionStorageItem=function(e,o){if(i)try{"string"==typeof o?i.setItem(e,o):i.setItem(e,JSON.stringify(o))}catch(e){this.isQuotaExceeded(e)&&t.logger.error("Session Storage full")}},e.prototype.getSessionStorageItem=function(e){if(i){var t=i.getItem(e);try{t=JSON.parse(t)}catch(e){}return t}},e.prototype.removeSessionStorageItem=function(e){i&&i.removeItem(e)},e.prototype.isLocalStorageAvailable=function(){n=!("undefined"==typeof Storage||!window.localStorage)&&window.localStorage,i=!("undefined"==typeof Storage||!window.sessionStorage)&&window.sessionStorage},e.prototype.isQuotaExceeded=function(e){var t=!1;return e&&(e.code?22==e.code?t=!0:1014==e.code&&"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0):-2147024882===e.number&&(t=!0)),t},e}()}),define("ph-common/ph-log",["exports","aurelia-framework"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0;e.logger=t.LogManager.getLogger("PhenomHub")}),define("ph-common/url-manager",["exports","aurelia-framework","./ph-app-model-manager","./index"],function(e,t,o,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.UrlManager=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},s=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=e.UrlManager=function(){function e(t){i(this,e),this.phenomAppManager=t,this.pageKeyHandlers={category:this.handleCategoryUrl,job:this.handleJobUrl,"search-results":this.handleSearchResultsUrl,event:this.handleEventUrl},this.getFormattedCategoryName=function(e){return e.replace(/[\$_\-+:,\/#&\[\]@\{\}*%.()?–]/g,"").replace(/ /g,"-").toLowerCase()},this.handleSearchResultsUrl=function(e,t,o,n){return"?keyword="+o}}return e.prototype.getFormattedTitle=function(e){var t;if(e){var t=e.replace(/[\$_\-+:,\/#&\[\]@\{\}*%.()?–]/g,"-").replace(/ /g,"-").replace(/-+/g,"-");"-"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1))}return t||""},e.prototype.handleSpecialKeys=function(e,t,o,n,i){if(this.pageKeyHandlers[t])return this.pageKeyHandlers[t].apply(this,[e,o,n,i])},e.prototype.handleCategoryUrl=function(e,t,o,n){var i=this.phenomAppManager.getDDOFromCache("siteConfig");if(i&&i.data&&i.data.categoryUrlMap){var r=i.data.categoryUrlMap;if(r[t.internalId])return[r[t.internalId]];n=[];var a="search-results?category="+encodeURIComponent(t[e]||t.name);return n.push(a),n}if("key"==e||"category"==e){var s=this.getFormattedCategoryName(t[e]||t.name)+"-jobs";return n.push(s),n}},e.prototype.handleJobUrl=function(e,t,o,n){return"jobSeqNo"==e?(n.push(t.jobSeqNo||t.id),n):"title"==e?(n.push(this.getFormattedTitle(t.title_raw||t[e])),n):void 0},e.prototype.handleEventUrl=function(e,t,o,n){if("title"==e)return n.push(this.getFormattedTitle(t.title)),n},e.prototype.getUrl=function(e,t,o,i){var r=this,a=[],s=i.split("/");if(t){s.forEach(function(s){if(s.startsWith(":")){var l=s.substring(1);t&&t[l]||n.logger.error("Url replaceable param : "+l+" not found for url : "+i);var c=r.handleSpecialKeys(l,e,t,o,a);c?a=c:a.push(t[l])}else a.push(s)});var l=a.join("/");return o&&(l+="?"+o),l}},e}();e.UrlManager=l=a([(0,t.autoinject)(),s("design:paramtypes",[o.PhenomAppManager])],l)}),define("ph-common/ph-app-model-manager",["exports","./index"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomAppManager=void 0;var n="phApp";e.PhenomAppManager=function(){function e(){o(this,e),window&&window[n]&&(this.phApp=window[n],this.phApp.inline=this.phApp.inline,void 0===this.phApp.inline&&(this.phApp.inline=!0),this.phApp.ddo=this.phApp.ddo||{},this.phApp.pageGroup=this.phApp.pageGroup||{},this.phApp.ddoRealPath=this.phApp.ddoRealPath||{},this.phApp.sessionParams=this.phApp.sessionParams||{},this.phApp.widgetSettings=this.phApp.widgetSettings||{},this.phApp.siteSettings=this.phApp.siteSettings||{},this.phApp.bundle=this.phApp.bundle||{},this.phApp.validationRules=this.phApp.validationRules||{},this.phApp.nonEditableFields=this.phApp.nonEditableFields||[],this.phApp.pageStateData=this.phApp.pageStateData||{},this.phApp.translations=this.phApp.translations||{},t.logger.debug("PHAPP ",this.phApp))}return e.prototype.hasAbsUrl=function(){return this.phApp.absUrl},e.prototype.useInlineTmpl=function(){return this.phApp.inline},e.prototype.getParam=function(e){return this.phApp[e]},e.prototype.setParam=function(e,t){this.phApp[e]=t},e.prototype.getCommonParams=function(){return{lang:this.phApp.locale,deviceType:this.phApp.deviceType,country:this.phApp.country}},e.prototype.getDDOUrl=function(){return this.phApp.widgetApiEndpoint},e.prototype.getDDOFromCache=function(e){return this.phApp.ddo[e]||this.phApp.pageGroup[e]},e.prototype.getRawUrl=function(e){return this.phApp.urlMap[e]},e.prototype.getBaseUrl=function(){return this.phApp.baseUrl},e.prototype.getBaseDomain=function(){return this.phApp.baseDomain},e.prototype.getRefNum=function(){return this.phApp.refNum},e.prototype.getDeviceType=function(){return this.phApp.deviceType},e.prototype.getLocale=function(){return this.phApp.locale},e.prototype.getCountry=function(){return this.phApp.country},e.prototype.getTrackingConfig=function(){return this.phApp.trackingConfig},e.prototype.getRecommendedTrackingConfig=function(){return this.phApp.recommendedTrackingConfig},e.prototype.ddoRealPath=function(e){return this.phApp.ddoRealPath[e]},e.prototype.ddoRealData=function(e,t){var o=this.ddoRealPath(e);return o&&(o=o.split("."),o.forEach(function(e){t&&(t=t[e])})),t},e.prototype.getSessionParams=function(e){if(e&&this.phApp.sessionParams&&this.phApp.sessionParams[e])return decodeURIComponent(this.phApp.sessionParams[e])},e.prototype.getWidgetSettings=function(e){return this.phApp.widgetSettings[e]},e.prototype.getSiteSettings=function(e){return this.phApp.siteSettings[e]},e.prototype.getPageType=function(){return this.phApp.pageType},e.prototype.getPageId=function(){return this.phApp.pageId},e.prototype.getPageId=function(){return this.phApp.pageId},e.prototype.getPageName=function(){return this.phApp.pageName},e.prototype.clearDDOFromcache=function(e){e&&this.phApp.ddo[e]&&delete this.phApp.ddo[e]},e.prototype.getLangBundle=function(){return this.phApp.bundle},e.prototype.getValidationRules=function(e){return this.phApp.validationRules[e]||{}},e.prototype.getCdnUrl=function(){return this.phApp.cdnUrl},e.prototype.setLangBundle=function(e){this.phApp.bundle=e||{}},e.prototype.setValidationRules=function(e){this.phApp.validationRules=e||{}},e.prototype.getSiteType=function(){return this.phApp.siteType},e.prototype.setPendingCalls=function(e){this.phApp.pendingCalls=e},e.prototype.getUserSubType=function(){if(this.phApp.ddo&&this.phApp.ddo.validateJwtToken&&this.phApp.ddo.validateJwtToken.data&&this.phApp.ddo.validateJwtToken.data.userSubType)return this.phApp.ddo.validateJwtToken.data.userSubType},e.prototype.setPageState=function(e){this.phApp.pageState=e},e.prototype.getPageState=function(){return this.phApp.pageState},e.prototype.setPageStateData=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.phApp.pageStateData[t]=e[t])},e.prototype.getPageStateData=function(){return this.phApp.pageStateData},e.prototype.getRootDomain=function(){return this.phApp.rootDomain},e.prototype.getTranslations=function(){return this.phApp.translations},e.prototype.setCommonContext=function(e){this.phApp.phb=e},e}()}),define("ph-common/ph-tracking/tracking-manager",["exports","aurelia-framework","./../index","./../ph-app-model-manager"],function(e,t,o,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TrackingManager=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n
;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},s=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=e.TrackingManager=function(){function e(t){i(this,e),this.phenomAppManager=t,this.pageTrackingCommonData={},this.pageTrackingData={},this.trackingConfig={},this.trackingConfig=this.phenomAppManager.getTrackingConfig(),this.pageTrackingCommonData={trait2:this.phenomAppManager.getRefNum(),trait65:this.phenomAppManager.getDeviceType(),trait76:this.phenomAppManager.getPageType()||this.phenomAppManager.getPageName(),trait79:this.phenomAppManager.getLocale(),trait253:this.phenomAppManager.getPageName(),trait258:this.phenomAppManager.getSiteType(),trait263:this.phenomAppManager.getUserSubType()},this.phenomtrack=window.phenomevent}return e.prototype.storePageTrackEventData=function(e,t){e&&(this.pageTrackingData[e]=t)},e.prototype.getPageTrackEventData=function(e){return this.pageTrackingData[e]},e.prototype.processTrackingEvent=function(e,t,n,i,r){var a=this;i=i||{};var s=this.getPageTrackEventData(t)||r,l={};for(var c in this.pageTrackingCommonData)this.pageTrackingCommonData.hasOwnProperty(c)&&(l[c]=this.pageTrackingCommonData[c]);var p=this.trackingConfig[e];this.trackingConfig.ddoDataPath;if(p)for(var u in p)if(p.hasOwnProperty(u))if("related"!=u)l[u]=s[p[u]];else{var d=p[u];d&&d.ddo&&d.ddo.forEach(function(e){var t=a.phenomAppManager.getDDOFromCache(e.name);if(t){t=a.phenomAppManager.ddoRealData(e.name,t);var o=e.data;if(o)for(var n in o)o.hasOwnProperty(n)&&(l[n]=t[o[n]])}})}if(n)for(var f in n)n.hasOwnProperty(f)&&(l[f]=n[f]);o.logger.debug("processTrackingEvent ",l),this.track(e,l)},e.prototype.track=function(e,t){this.phenomtrack&&this.phenomtrack.track(e,t)},e}();e.TrackingManager=l=a([(0,t.autoinject)(),s("design:paramtypes",[n.PhenomAppManager])],l)}),define("ph-common/local-storage-context-model",["exports","aurelia-framework","./local-storage","./ph-app-model-manager","./cookie-manager"],function(e,t,o,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorageContext=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},l=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=e.LocalStorageContext=function(){function e(t,o,n){var i=this;r(this,e),this.localStorageAPI=t,this.phenomAppManager=o,this.cookieManager=n,this.recommendationTrackingConfig=this.phenomAppManager.getRecommendedTrackingConfig(),this.contexts={},this.loadJobContext(),window&&(window.addEventListener("beforeunload",function(e){i.supportsonBeforeUnload=!0,i.handleWindowUnload(e)}),window.addEventListener("unload",function(e){i.supportsonBeforeUnload||i.handleWindowUnload(e)}))}return e.prototype.handleWindowUnload=function(e){var t=[this.getRecommStorageKey(),"jobContext"].join("_"),o=[this.getRecommStorageKey(),this.activeContextRef].join("_"),n=[],i=this.contexts[this.activeContextRef];i&&i.forEach(function(e){var t={jobSeqNo:e.jobSeqNo,jobId:e.jobId,title:e.title};e.visibilityType&&(t.visibilityType=e.visibilityType),n.push(t)}),this.localStorageAPI.setItem(t,this.activeContextRef),this.localStorageAPI.setItem(o,n)},e.prototype.loadJobContext=function(){var e=[this.getRecommStorageKey(),"jobContext"].join("_");this.activeContextRef=this.localStorageAPI.getItem(e);var t=[this.getRecommStorageKey(),this.activeContextRef].join("_");this.contexts[this.activeContextRef]=this.localStorageAPI.getItem(t)},e.prototype.jobContext=function(e){if(!e)return this.activeContextRef;this.contexts[e]&&(this.activeContextRef=e)},e.prototype.addJobContext=function(e,t){this.contexts[e]=t},e.prototype.getJobContext=function(e){return this.contexts[e]},e.prototype.getNextAndPrevJobData=function(e){var t={},o=this.contexts[this.activeContextRef],n=-1;if(o)for(var i=0;i<o.length;i++){var r=o[i];if(r.jobSeqNo==e){n=i;break}}if(-1!=n){var a=n-1,s=n+1;return a>=0&&(t.prevJob=o[a]),s<o.length&&(t.nextJob=o[s]),t}},e.prototype.equals=function(e,t,o){var n=!0;return o.forEach(function(o){e[o]!=t[o]&&(n=!1)}),n},e.prototype.addRecommendationTrackCtx=function(e,t){var o=this;if(this.getTrackingCookieStatus()){var n=this.recommendationTrackingConfig[e];n&&(Array.isArray(n)||(n=[n]),n.forEach(function(e){var n=[o.getRecommStorageKey(),e.storageKey].join("_");if(e.storageKey){var i=!1,r=o.localStorageAPI.getItem(n);if(r?r.forEach(function(n){o.equals(n,t,e.ddoKeysToStore)&&(i=!0)}):(o.localStorageAPI.setItem(n,[]),r=o.localStorageAPI.getItem(n)),!i){var a={};e.ddoKeysToStore.forEach(function(e){t[e]&&(a[e]=t[e],a.timeStamp=(new Date).toUTCString())}),r.unshift(a),o.localStorageAPI.setItem(n,r)}}}))}},e.prototype.getRecommendedTrackCtx=function(){var e=this,t={};for(var o in this.recommendationTrackingConfig)if(this.recommendationTrackingConfig.hasOwnProperty(o))if(Array.isArray(this.recommendationTrackingConfig[o]))this.recommendationTrackingConfig[o].forEach(function(o){var n=[e.getRecommStorageKey(),o.storageKey].join("_");t[o.storageKey]=e.localStorageAPI.getItem(n)});else{var n=[this.getRecommStorageKey(),this.recommendationTrackingConfig[o].storageKey].join("_");t[this.recommendationTrackingConfig[o].storageKey]=this.localStorageAPI.getItem(n)}return t},e.prototype.getSpecificTrackCtx=function(e,t){var o=[this.getRecommStorageKey(),e].join("_"),n=void 0;return t?this.localStorageAPI.getSessionStorageItem(o)&&(n=this.localStorageAPI.getSessionStorageItem(o)):this.localStorageAPI.getItem(o)&&(n=this.localStorageAPI.getItem(o)),n},e.prototype.setSpecificTrackCtx=function(e,t,o){if(this.getTrackingCookieStatus()){var n=[this.getRecommStorageKey(),e].join("_");o?this.localStorageAPI.setSessionStorageItem(n,t):this.localStorageAPI.setItem(n,t)}},e.prototype.removeSpecificTrackCtx=function(e,t){var o=[this.getRecommStorageKey(),e].join("_");t?this.localStorageAPI.removeSessionStorageItem(o):this.localStorageAPI.removeItem(o)},e.prototype.getRecommStorageKey=function(){var e=this,t=void 0,o=this.phenomAppManager.getDDOFromCache("siteConfig");if(o&&o.data.siteSettings.recommendationStoargeKeys){var n=o.data.siteSettings.recommendationStoargeKeys,i=[];n.forEach(function(o,n){i.push(e.phenomAppManager.getParam(o)),t=i.join("_")})}else t=[this.phenomAppManager.getCountry(),this.phenomAppManager.getLocale()].join("_");return t},e.prototype.removeRecomContentFromLocalStorage=function(){var e=this;this.getRecommStorageKey();Object.keys(this.getRecommendedTrackCtx()).forEach(function(t,o){e.removeSpecificTrackCtx(t)})},e.prototype.getTrackingCookieStatus=function(){var e=this.cookieManager.get("PHPPPE_GCC");return!e||"d"!=e},e}();e.LocalStorageContext=c=s([(0,t.autoinject)(),l("design:paramtypes",[o.LocalStorageAPI,n.PhenomAppManager,i.CookieManager])],c)}),define("ph-common/cookie-manager",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.CookieManager=function(){function e(){t(this,e)}return e.prototype.get=function(e){var t=this.all();return t&&t[e]?t[e]:null},e.prototype.set=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.encode(e)+"="+this.encode(t);if(null===t&&(o.expiry=-1),o.expiry>=0&&!o.expires){var i=new Date;i.setHours(i.getHours()+o.expiry),o.expires=i}o.path&&(n+="; path="+o.path),o.domain&&(n+="; domain="+o.domain),o.expires&&(n+="; expires="+o.expires.toUTCString()),o.secure&&(n+="; secure"),document.cookie=n},e.prototype.delete=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.prototype.all=function(){return this.parse(document.cookie)},e.prototype.parse=function(e){var t={},o=e.split(/ *; */),n=void 0;if(""===o[0])return t;for(var i=0;i<o.length;++i)n=o[i].split("="),t[this.decode(n[0])]=this.decode(n[1]);return t},e.prototype.encode=function(e){try{return encodeURIComponent(e)}catch(e){return null}},e.prototype.decode=function(e){try{return decodeURIComponent(e)}catch(e){return null}},e}()}),define("ph-common/ph-translation/ph-translation-service",["exports","aurelia-framework"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationService=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,o,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},r=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=e.TranslationService=function(){function e(){o(this,e)}return e.prototype.renderLiteral=function(e,t,o){var n=/\{\{\s*(.*?)\s*\}\}/g,i=/\[\[\s*(.*?)\s*\]\]/g;return e&&"string"==typeof e?(e=e.replace(n,function(e,o){return t[o]||""}),o&&(e=encodeURIComponent(e)),e.replace(i,function(e,t){if(!t)return t})):e},e.prototype.parseTemplateAndApplyBundle=function(e,t,o){var n=this;return new Promise(function(i,r){if(t){for(var a=t.querySelectorAll("[tkeys]"),s=0;s<a.length;s++)for(var l=a[s],c=l.attributes,p=0;p<c.length;p++){var u=c[p].name,d=c[p].value;if(u.startsWith("tkey")){var f=n.renderLiteral(o[d],e);f&&(u.length>"tkey".length?(u=u.replace("tkey-",""),l.setAttribute(u,f)):l.innerHTML=f)}}i(t.innerHTML)}else r({})})},e}();e.TranslationService=a=i([(0,t.autoinject)(),r("design:paramtypes",[])],a)}),define("ph-common/ph-bot-bridge-manager/profile-login-service",["exports","aurelia-framework","./../ph-app-model-manager"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileLoginService=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.ProfileLoginService=function(){function e(t){n(this,e),this.phenomAppManager=t,this.providerConfig={}}return e.prototype.bootstrap=function(e){this.providerConfig=e},e.prototype.loginUrl=function(e){this.providerConfig=this.getSiteSettings("oauth")[e];var t=this.providerConfig.loginUrl,o={rurl:encodeURIComponent(window.location.href),mergeProfile:!0,protocol:window.location.protocol,page:window.location.pathname},n={response_type:this.providerConfig.response_type,client_id:this.providerConfig.clientId,redirect_uri:encodeURIComponent(this.getRootDomain()+this.providerConfig.redirectUri),scope:this.providerConfig.scope,state:encodeURIComponent(JSON.stringify(o))},i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(r+"="+n[r]);i="?"+i.join("&"),t+=i,window.location.href=t},e.prototype.getSiteSettings=function(e){var t=this.phenomAppManager.getDDOFromCache("siteConfig");if(t&&t.data)return e?t.data.siteSettings[e]||t.data[e]:t.data.siteSettings},e.prototype.getRootDomain=function(){return this.phenomAppManager.getRootDomain()||this.phenomAppManager.getBaseDomain()},e}();e.ProfileLoginService=s=r([(0,t.autoinject)(),a("design:paramtypes",[o.PhenomAppManager])],s)}),define("ph-common/geo-location-service",["exports","aurelia-framework","aurelia-event-aggregator"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.GeoLocationService=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.GeoLocationService=function(){function e(t){var o=this;n(this,e),this.eventAggregator=t,this.eventAggregator.subscribe("GeoLocation",function(e){o.geoLocationData=e,o.askForLocation(e)})}return e.prototype.askForLocation=function(e){this.geoLocationData&&this.eventAggregator.publish("GeoLocationDetails",this.geoLocationData)},e}();e.GeoLocationService=s=r([(0,t.inject)(o.EventAggregator),a("design:paramtypes",[o.EventAggregator])],s)}),define("ph-common/ph-widget",["exports","aurelia-framework","aurelia-dependency-injection","aurelia-event-aggregator","./index","./ph-modal-dialog"],function(e,t,o,n,i,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomWidget=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(r);e.PhenomWidget=function(){function e(t,r,s){var l=this;a(this,e),this.element=t,this.commonService=r,this.elementTag=s,this.view="default",this.template="",this.showLoader=!0,this.wdgt={},this.configuredDDOKeys=[],this.currSlideData=[],this.currSlide=0,this.entriesPerSlide=6,this.widgetBundle={},this.childWidgetGroupData={childWidgetData:{},childWidgetDataArr:[],childSubscriptions:{},childSubscriptionsCount:0,timeoutPromise:void 0},this.handleChildData=function(e,t,o){l.childWidgetGroupData.childWidgetData[t.id]={tag:t.tag,status:e,count:t.dataCountFn?t.dataCountFn():0,data:t.dataFn?t.dataFn():[]},l.childWidgetGroupData.childWidgetDataArr.push(l.childWidgetGroupData.childWidgetData[t.id]),l.childWidgetGroupData.childWidgetDataArr.sort(function(e,t){return t.count-e.count}),l.childWidgetGroupData.childSubscriptionsCount<=0&&l.childWidgetGroupData.resolve&&(clearTimeout(l.childWidgetGroupData.timeoutPromise),l.childWidgetGroupData.resolve({data:l.childWidgetGroupData.childWidgetDataArr,obj:l.childWidgetGroupData.childSubscriptions}))},this.tagName=s,this.slotContent=this.element.innerHTML,this.eventAggregator=o.Container.instance.get(n.EventAggregator);var c=this.eventAggregator;this.instanceId=this.element.getAttribute("instance-id"),this.widgetUniqueId=[s,this.instanceId].join("-"),c.subscribe(this.commonService.getErrorChannel(this.elementTag),function(e){l.onError(e)}),c.subscribe(this.commonService.getSuccessChannel(this.elementTag),function(e){var t=e.successPromise,o=e.ddoKey;l.configuredDDOKeys.push(o);var n=void 0;t?t.then(function(e){setTimeout(function(){l.addJobContext()},200),(n=e)&&n[o]&&n[o].eid&&(l.eid=n[o].eid)}):e.respData&&(setTimeout(function(){l.addJobContext()},200),(n=e.respData)&&n[o]&&n[o].eid&&(l.eid=n[o].eid))});o.Container.instance.get(i.PhenomTracker)}return e.prototype.openDialogPopup=function(e,t,o,n){s.default.OpenDialogList.length>0&&s.default.closeCurrentDialog();var i=this.element.querySelectorAll("."+e)[0];if(o){new s.default.Dialog(i,t,o)}else{new s.default.Dialog(i,t)}},e.prototype.closeDialogPopup=function(){s.default.closeCurrentDialog()},e.prototype.focusElement=function(e,t,o){var n=o||this.element;setTimeout(function(){e&&n.querySelector(e)&&n.querySelector(e).focus()},t||0)},e.prototype.focusFormError=function(){this.focusElement(".error.sr-only:not(.aurelia-hide)",50)},e.prototype.raiseEvent=function(e,t){e&&e.trim().length>0&&t&&this.eventAggregator.publish(e,t)},e.prototype.subscribeToEvent=function(e,t){e&&e.trim().length>0&&t&&this.eventAggregator.subscribe(e,t)},e.prototype.raiseDataFetchEvent=function(e){var t=(this.instanceId,[this.widgetUniqueId,"fetch-data"].join(":"));this.raiseEvent(t,e||{})},e.prototype.groupByChildrenData=function(e){var t=this;return e=e||2e3,new Promise(function(o,n){t.childWidgetGroupData.resolve=o,t.childWidgetGroupData.reject=n,t.childWidgetGroupData.timeoutPromise=setTimeout(function(){o({data:t.childWidgetGroupData.childWidgetDataArr,obj:t.childWidgetGroupData.childSubscriptions})},e);var i=t.element.querySelectorAll("section.ph-widget div[as-element]");if(i&&i.length)for(var r=0;r<i.length;r++){var a=i[r],s=a.getAttribute("data-widget")||"",l=[s,a.getAttribute("instance-id")||""].join("-"),c=void 0,p=void 0,u=void 0;a.au&&a.au.controller&&a.au.controller.viewModel&&(c=a.au.controller.viewModel.getDataCount,p=a.au.controller.viewModel.getData,u=a.au.controller.viewModel.isLocalDataSourceFn),u&&u()||function(){t.childWidgetGroupData.childSubscriptions[l]={tag:s,id:l,dataCountFn:c,dataFn:p},t.childWidgetGroupData.childSubscriptionsCount++;var e=[l,"fetch-data"].join(":");t.subscribeToEvent(e,function(o){var n=e.substring(0,e.lastIndexOf(":")),i=t.childWidgetGroupData.childSubscriptions[n];i&&(t.childWidgetGroupData.childSubscriptionsCount--,t.handleChildData("success",i,o))})}()}})},e.prototype.getElement=function(){return this.element},e.prototype.onError=function(e){this.hideContainer()},e.prototype.hideContainer=function(){this.element.style.display="none"},e.prototype.showContainer=function(){this.element.style.display="block"},e.prototype.hideLoader=function(){this.showLoader=!1},e.prototype.unhideLoader=function(){this.showLoader=!0},e.prototype.populateTrackingConfig=function(e){this.trackingCfg=e},e.prototype.getTemplateUrl=function(){if(!this.commonService.useInlineTmpl())return void(this.tmplUrl=this.commonService.getTemplateUrl(this.elementTag,this.view));var e=document.getElementById(this.elementTag+"-"+this.view);if(e&&(this.template=e.innerHTML,this.slotContent&&this.slotContent.trim().length)){var o=document.createElement("div");o.innerHTML=this.slotContent;var n=document.createElement("div");n.innerHTML=this.template,n.querySelector("ph-slot")&&o.querySelector("au-content")&&(n.querySelector("ph-slot").innerHTML=o.querySelector("au-content").innerHTML,this.template=n.innerHTML)}this.template&&0!=this.template.trim().length||window.pht&&(this.template=window.pht[this.elementTag+"-"+this.view],!this.template&&this.element&&this.element.attributes&&this.element.attributes["data-tmpl-type"]&&"inline"==this.element.attributes["data-tmpl-type"].value&&(this.template=this.element.innerHTML)),(!this.template||this.template.trim&&0==this.template.trim().length)&&this.getCardHtml&&(this.template=this.getCardHtml()),this.template&&-1==this.template.trim().indexOf("<template")&&(this.template="<template>"+this.template+"</template>"),(!this.template||this.template.trim&&0==this.template.trim().length)&&(this.template="<template></template>"),-1==this.template.trim().indexOf("<template")&&(this.template="<template>"+this.template+"</template>"),this.tmplUrl=new t.InlineViewStrategy(""+this.template)},e.prototype.tmplChanged=function(e,t){this.view=e},e.prototype.subscribeToTrackingEvents=function(e){e&&e.addEventListener("click",function(e){e.phTarget||(e.phTarget=e.currentTarget)})},e.prototype.handleTrackEvents=function(e){var t=e.phTarget;if(t&&t.getAttribute){var o=t.getAttribute("data-ph-tevent-name")||t.getAttribute("ph-tevent"),n=t.getAttribute("ph-tag"),r=n==this.tagName;if(o&&r){var a=t.getAttribute("ph-tref");i.logger.debug("Found an event to be tracked ... ",t,o,a);var s={},l={};this.eid&&(l.eid=this.eid);for(var c=t.attributes,p=0;p<c.length;p++){var u=c[p];if(u.name.startsWith("data-ph-tevent-attr-")){var d=u.name;d=d.replace("data-ph-tevent-attr-",""),s[d]=u.value}}s.params={widgetId:this.elementTag,widgetview:this.getView(),widgetName:this.getWidgetName(t)},this.commonService.processTrackingEvent(o,a,s,l)}}},e.prototype.getView=function(){return this.element.getAttribute("original-view")?this.element.getAttribute("original-view"):this.view},e.prototype.getWidgetName=function(e){return e&&e.getAttribute("data-widget-name")?e.getAttribute("data-widget-name"):this.elementTag.replace(/^.+?(\-)/,"").replace(/-[^-]+$/,"")},e.prototype.handleRecommendationTrackCtx=function(e){var t=e.phTarget;if(t&&t.getAttribute){var o=t.getAttribute("ph-click-ctx");if(o){var n=t.getAttribute("ph-tref");this.commonService.addRecommendationTrackCtx(n,o)}}},e.prototype.attached=function(){var e=this;if(this.populateWidgetBundle(),this.getTemplateUrl(),this.element.hasAttributes&&this.element.hasAttributes())for(var t=this.element.attributes,o=0;o<t.length;o++)this.wdgt[t[o].name]=t[o].value;this.element.addEventListener("click",function(t){e.handleTrackEvents(t),e.handleRecommendationTrackCtx(t),e.elementTag&&e.commonService.jobContext(e.elementTag)}),this.wdgt["per-slide"]&&(this.entriesPerSlide=this.wdgt["per-slide"])},e.prototype.getUrl=function(e,t,o,n,i){e&&e.setAttribute&&e.setAttribute("ph-click-ctx",t),e&&e.getAttribute&&e.getAttribute("ph-tevent")&&(this.subscribeToTrackingEvents(e),e.setAttribute("ph-tref",(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(0)),e.setAttribute("ph-tag",this.tagName),this.commonService.storePageTrackEventData(e.getAttribute("ph-tref"),o));var r=void 0;if(n)try{var a="";n=n.trim();var s="&"+n,l=/&[a-zA-Z0-9\s]+\=/g,c=s.match(l);if(c){for(var p=s.split(l),u=0;u<c.length;u++){var d=c[u];d&&p[u+1]&&(a+=d+encodeURIComponent(p[u+1]))}a=a.replace("&","")}r=a}catch(e){console.warn("ph-widget:getUrl:"+e)}return i=i||this.commonService.getUrl(t,o,r)},e.prototype.getSearchKeyword=function(){var e=location.search;e=e.substr(1);for(var t=e.split("&"),o=0;o<t.length;o++){var n=t[o];if(n=n.split("="),n.length>1&&-1!=["keywords","q"].indexOf(n[0]))return decodeURIComponent(n[1])}},e.prototype.getQueryParam=function(e){return this.commonService.getQueryParam(e)},e.prototype.getQueryParams=function(){var e=location.search;return e=e.substr(1)},e.prototype.getQueryParamsMap=function(){var e={},t=location.search;t=t.substr(1);for(var o=t.split("&"),n=0;n<o.length;n++){var i=o[n];i=i.split("="),i.length>1&&(e[i[0]]=i[1])}return e},e.prototype.getDateFormat=function(e){var t=this.commonService.getSiteSettings("l10n");return t&&t.dateFormat?t.dateFormat:this.commonService.getDateFormat(e)},e.prototype.getContextData=function(){},e.prototype.getSlideData=function(){var e=this.getContextData();if(e){var t=0,o=0;e.length<=this.entriesPerSlide?this.totalSlides=1:e.length%this.entriesPerSlide==0?this.totalSlides=parseInt(e.length/this.entriesPerSlide):this.totalSlides=parseInt(e.length/this.entriesPerSlide)+1,this.currSlide>=0&&this.currSlide<this.totalSlides&&(t=this.currSlide*this.entriesPerSlide,o=e.length%this.entriesPerSlide!=0&&this.currSlide==this.totalSlides-1?this.currSlide*this.entriesPerSlide+e.length%this.entriesPerSlide:(this.currSlide+1)*this.entriesPerSlide,this.currSlideData=e.slice(t,o))}},e.prototype.goToSlide=function(e){e>this.currSlide?this.addLeftAnimationClasses():e<this.currSlide&&this.addRightAnimationClasses(),this.currSlide=e,this.getSlideData()},e.prototype.goToNextSlide=function(){this.currSlide<this.totalSlides&&(this.currSlide=this.currSlide+1,this.goToSlide(this.currSlide))},e.prototype.goToPrevSlide=function(){this.currSlide>0&&(this.currSlide=this.currSlide-1,this.goToSlide(this.currSlide))},e.prototype.cleanupAnimationClasses=function(){this.element.classList&&(this.element.classList.remove("animated"),this.element.classList.remove("slideInLeft"),this.element.classList.remove("slideInRight"))},e.prototype.addLeftAnimationClasses=function(){this.cleanupAnimationClasses(),this.element.classList&&(this.element.classList.add("animated"),this.element.classList.add("slideInLeft"))},e.prototype.addRightAnimationClasses=function(){this.cleanupAnimationClasses(),this.element.classList&&(this.element.classList.add("animated"),this.element.classList.add("slideInRight"))},e.prototype.getWidgetAssetsBaseUrl=function(e){var t=this.element.getAttribute("theme")||"default";return this.commonService.getWidgetAssetsBaseUrl(this.elementTag,this.view,t,e)},e.prototype.loadScript=function(e,t,o,n,i,r){var a=this;if(e&&e.length){var s=!1;if(o.forEach(function(e){window[e]&&(s=!0)}),s)return void t();if(this.commonService.addSubcriptionScript(e,t)){var l=document.createElement("script");l.type="text/javascript",l.async=!n,l.defer=!i,l.src=e,t&&(l.onload=function(){o.forEach(function(e){window[e]&&(s=!0),s||(require&&require.defined?require.defined(e)&&(s=!0):o.forEach(function(e){window[e]=e}))}),setTimeout(function(){a.commonService.proccessSubscritionScript(e)},100)});var c=r||document.getElementsByTagName("script")[0];c.parentNode.insertBefore(l,c)}}},e.prototype.getLocalWidgetBundle=function(){return null},e.prototype.applyWidgetBundleToTmpl=function(e,t,o){o=this.getLocalWidgetBundle();var n=this.element.querySelector("#"+e);n||(n=this.element.querySelector("."+e));var i=this.element.getAttribute("theme")||"default",r=this.element.getAttribute("original-view")||"default",a=this.element.getAttribute("instance-id")||"",s=this.commonService.getPageId();return this.commonService.applyWidgetBundle(this.elementTag,r,i,a,t,n,s,o)},e.prototype.populateWidgetBundle=function(){var e=this,t=this.element.getAttribute("theme")||"default",o=this.element.getAttribute("original-view")||"default",n=this.element.getAttribute("instance-id")||"",i=this.commonService.getPageId();this.commonService.getWidgetLangBundle(this.elementTag,o,t,n,i,this.getLocalWidgetBundle()).then(function(t){e.widgetBundle=t})},e.prototype.addJobContext=function(){i.logger.warn("called no-op implementation of addJobContext.If the widget holds jobs data, provide an implementation")},e.prototype.trackWidgetClick=function(e,t,o){var n={};n.params={widgetId:this.elementTag,widgetview:this.getView(),widgetName:this.getWidgetName(!1)},o&&(n.params.parentWidgetName=o),this.commonService.processTrackingEvent(e,void 0,n,{},t)},e.prototype.isVisibleAction=function(e,t){return-1!==e.findIndex(function(e){return e===t})},e.prototype.getTranslation=function(e,t){return this.commonService.getTranslation(e,t)},e}()}),define("ph-common/ph-modal-dialog",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=o||{};o.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},o.Utils=o.Utils||{},o.Utils.matches=function(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var o=e.parentNode.querySelectorAll(t),n=o.length;--n>=0&&o.item(n)!==this;);return n>-1}),e.matches(t)},o.Utils.remove=function(e){return e.remove&&"function"==typeof e.remove?e.remove():!(!e.parentNode||!e.parentNode.removeChild||"function"!=typeof e.parentNode.removeChild)&&e.parentNode.removeChild(e)},o.Utils.isFocusable=function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!=e.rel;case"INPUT":return"hidden"!=e.type&&"file"!=e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},o.Utils.getAncestorBySelector=function(e,t){if(!o.Utils.matches(e,t+" "+e.tagName))return null;for(var n=e,i=null;null===i;)o.Utils.matches(n.parentNode,t)?i=n.parentNode:n=n.parentNode;return i},o.Utils.hasClass=function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},o.Utils.addClass=function(e,t){o.Utils.hasClass(e,t)||(e.className+=" "+t)},o.Utils.removeClass=function(e,t){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ").trim()};var o=o||{};o.Utils=o.Utils||{},function(){o.Utils.IgnoreUtilFocusChanges=!1,o.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(o.Utils.attemptFocus(n)||o.Utils.focusFirstDescendant(n))return!0}return!1},o.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(o.Utils.attemptFocus(n)||o.Utils.focusLastDescendant(n))return!0}return!1},o.Utils.attemptFocus=function(e){if(!o.Utils.isFocusable(e))return!1;o.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return o.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},o.OpenDialogList=o.OpenDialogList||new Array(0),o.getCurrentDialog=function(){if(o.OpenDialogList&&o.OpenDialogList.length)return o.OpenDialogList[o.OpenDialogList.length-1]},o.closeCurrentDialog=function(){var e=o.getCurrentDialog();return!!e&&(e.close(),!0)},o.handleEscape=function(e){(e.which||e.keyCode)===o.KeyCode.ESC&&o.closeCurrentDialog()&&(document.body.style.overflow="auto",e.stopPropagation())},document.addEventListener("keyup",o.handleEscape),o.Dialog=function(e,n,i){var r=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");this.dialogNode.classList.contains("hidden")&&this.dialogNode.classList.remove("hidden");if(this.dialogNode.parentNode.classList.contains("popup-modal-backdrop")?this.backdropNode=this.dialogNode.parentNode:(this.backdropNode=document.createElement("div"),this.backdropNode.className="popup-modal-backdrop",this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNode),this.backdropNode.appendChild(this.dialogNode)),this.backdropNode.classList.add("active"),"string"==typeof n)this.focusAfterClosed=document.getElementById(n);else{if("object"!==(void 0===n?"undefined":t(n)))throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");this.focusAfterClosed=n}"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":t(i))?this.focusFirst=i:this.focusFirst=null;var a=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(a,this.dialogNode),this.preNode.tabIndex=0;var s=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(s,this.dialogNode.nextSibling),this.postNode.tabIndex=0,
o.OpenDialogList.length>0&&o.getCurrentDialog().removeListeners(),this.addListeners(),o.OpenDialogList.push(this),this.clearDialog(),this.dialogNode.classList.add("default_dialog"),this.focusFirst?setTimeout(function(){r.focusFirst.focus()},100):(console.log("hi no focus first elelment"),o.Utils.focusFirstDescendant(this.dialogNode)),this.lastFocus=document.activeElement,document.body.style.overflow="hidden",this.backdropNode.addEventListener("click",function(e){e.target.classList.contains("default_dialog")&&o.closeCurrentDialog()})},o.Dialog.prototype.clearDialog=function(){Array.prototype.map.call(this.dialogNode.querySelectorAll("input"),function(e){e.value=""})},o.Dialog.prototype.close=function(){o.OpenDialogList.pop(),this.removeListeners(),o.Utils.remove(this.preNode),o.Utils.remove(this.postNode),this.dialogNode.classList.add("hidden"),this.backdropNode.classList.remove("active"),this.focusAfterClosed.focus(),document.body.style.overflow="auto",o.OpenDialogList.length>0&&o.getCurrentDialog().addListeners()},o.Dialog.prototype.replace=function(e,t,n){o.getCurrentDialog();o.OpenDialogList.pop(),this.removeListeners(),o.Utils.remove(this.preNode),o.Utils.remove(this.postNode),this.dialogNode.classList.add("hidden"),this.backdropNode.classList.remove("active");var i=t||this.focusAfterClosed;new o.Dialog(e,i,n)},o.Dialog.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},o.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},o.Dialog.prototype.trapFocus=function(e){if(!o.Utils.IgnoreUtilFocusChanges){var t=o.getCurrentDialog();t.dialogNode.contains(e.target)?t.lastFocus=e.target:(o.Utils.focusFirstDescendant(t.dialogNode),t.lastFocus==document.activeElement&&o.Utils.focusLastDescendant(t.dialogNode),t.lastFocus=document.activeElement)}},window.openDialog=function(e,t,n){new o.Dialog(e,t,n)},window.closeDialog=function(e){var t=o.getCurrentDialog();t.dialogNode.contains(e)&&t.close()},window.replaceDialog=function(e,t,n){var i=o.getCurrentDialog();i.dialogNode.contains(document.activeElement)&&i.replace(e,t,n)}}(),e.default=o}),define("ph-common/ph-tracking/ph-tracker",["exports","aurelia-framework"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomTracker=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,o,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},r=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=e.PhenomTracker=function(){function e(){o(this,e),this.listeners={},this.init()}return e.prototype.init=function(){document.addEventListener("click",function(e){e.target.getAttribute})},e.prototype.registerListerner=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.track=function(e,t){if(window&&window.phenomtrack){window.phenomtrack.track(e,t)}},e}();e.PhenomTracker=a=i([(0,t.autoinject)(),r("design:paramtypes",[])],a)}),define("ph-common/ph-value-converters/search-filter-value-converter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.SearchFilterValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t,o,n){if(e&&e.length&&t&&t.trim().length>0){return e.filter(function(i){var r="string"==typeof i,a=i;return r||o?(!r&&o&&(a=i[o]),a=a.toLowerCase(),n?a.startsWith(t.toLowerCase()):-1!=a.indexOf(t.toLowerCase())):e})}return e},e}()}),define("ph-common/ph-value-converters/date-format",["exports","moment-timezone"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateFormatValueConverter=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(t);e.DateFormatValueConverter=function(){function e(){o(this,e)}return e.prototype.toView=function(e,t,o){return n.default?o?n.utc(e).tz(o).format(t):n.utc(e).format(t):n(e).format(t)},e}()}),define("ph-common/ph-loader-attribute/ph-loading-image-attribute",["exports","aurelia-framework","./../index"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingImageAttribute=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.LoadingImageAttribute=function(){function e(t,o){n(this,e),this.loaderImg="assets/images/loader.gif",this.noImage=!1,this.element=t,this.commonService=o}return e.prototype.showLoaderChanged=function(e,t){if("boolean"==typeof e&&e){if(!this.noImage){var o=document.createElement("div");o.className="ph-loading";var n=document.createElement("img");n.setAttribute("src",this.commonService.getLoadingImgUrl(this.loaderImg)),o.appendChild(n),this.element.appendChild(o)}}else if(!this.noImage){var i=this.element.querySelector(".ph-loading");i&&i.parentElement.removeChild(i)}},e.prototype.loaderImgChanged=function(e,t){this.loaderImg=e},e}();r([t.bindable,a("design:type",Boolean)],s.prototype,"showLoader",void 0),r([t.bindable,a("design:type",String)],s.prototype,"loaderImg",void 0),r([t.bindable,a("design:type",Boolean)],s.prototype,"noImage",void 0),e.LoadingImageAttribute=s=r([(0,t.customAttribute)("ph-loading-img"),(0,t.inject)(t.DOM.Element,o.CommonService),a("design:paramtypes",[Element,o.CommonService])],s)}),define("ph-common/ph-tracking/ph-pa-event",["exports","aurelia-framework","aurelia-event-aggregator","./../index","./../common-service"],function(e,t,o,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomTrackEvent=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},l=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=e.PhenomTrackEvent=function e(t,o,i){var a=this;r(this,e),this.element=t,this.eventAggregator=o,this.commonService=i,n.logger.debug("PHTEvent::",this.element),t.addEventListener("click",function(e){e.target;e.phTarget||(e.phTarget=e.currentTarget);var o=t.getAttribute("ref")&&t.getAttribute("ph-tag");if(t&&t.getAttribute&&!o){for(var n=t.getAttribute("data-ph-tevent-name")||t.getAttribute("ph-tevent"),i={},r=t.attributes,s=0;s<r.length;s++){var l=r[s];if(l.name.startsWith("data-ph-tevent-attr-")){var c=l.name;c=c.replace("data-ph-tevent-attr-",""),i[c]=l.value}}!i.trait75&&"static_content_click"===n&&t.getAttribute("title")&&(i.trait75=t.getAttribute("title"),i.trait13||(i.trait13="")),a.commonService.processTrackingEvent(n,void 0,i,{})}var p=a.commonService.getSiteSettings("securePages");if(t&&"A"==t.nodeName&&p&&p.length){var u=t.getAttribute("href"),d=a.commonService.getBaseUrl(),f=void 0,h=void 0,g=void 0;u&&u.length&&(g=a.commonService.getUrlObjFromString(u)||"",h=u.replace(d,""),h=h.replace(g.search,"")),u&&-1!=p.indexOf(h)&&((f=a.commonService.getCachedDDO("validateJwtToken"))&&f.data&&f.data.loginStatus||(a.eventAggregator.publish("secure-url-click",{redirectUri:u}),e.preventDefault(),e.stopPropagation()))}})};e.PhenomTrackEvent=c=s([(0,t.customAttribute)("ph-tevent"),(0,t.autoinject)(),l("design:paramtypes",[Element,o.EventAggregator,i.CommonService])],c)}),define("ph-common/ph-href-attribute/ph-href-attribute",["exports","aurelia-framework","./../index"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AHrefAttribute=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.AHrefAttribute=function(){function e(t,o){n(this,e),this.element=t,this.commonService=o}return e.prototype.valueChanged=function(e,t){if(e&&e.trim().length>0){var o=void 0,n=void 0;n=this.element.getAttribute("href"),this.element.getAttribute("key-href")&&n&&n.length&&(e=n),o=e.startsWith("/")||e.startsWith("javascript:void(0)")||e.startsWith("mailto:")?e:-1==e.indexOf("//")?this.commonService.getBaseUrl()+e:e,this.element.href=o,this.element.removeAttribute&&(this.element.setAttribute("data-ph-href",this.element.getAttribute("ph-href")),this.element.removeAttribute("ph-href"))}},e}();e.AHrefAttribute=s=r([(0,t.customAttribute)("ph-href"),(0,t.inject)(t.DOM.Element,o.CommonService),a("design:paramtypes",[Element,o.CommonService])],s)}),define("ph-common/ph-page-state-attribute/ph-page-state-attribute",["exports","aurelia-framework","aurelia-event-aggregator","./../index"],function(e,t,o,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhPageStateAttribute=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},s=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=e.PhPageStateAttribute=function(){function e(t,o,n){i(this,e),this.element=t,this.commonService=o,this.eventAggregator=n}return e.prototype.valueChanged=function(e,t){var o=this;this.showOnState=e,this.eventAggregator.subscribe("pageState",function(e){o.checkAndRemoveElement(e.pageState)}),this.commonService.getPageState()},e.prototype.checkAndRemoveElement=function(e){e&&e!==this.showOnState?this.element.parentElement.removeChild(this.element):e&&this.element.classList.remove("hide")},e}();e.PhPageStateAttribute=l=a([(0,t.customAttribute)("ph-page-state"),(0,t.inject)(t.DOM.Element,n.CommonService,o.EventAggregator),s("design:paramtypes",[Element,n.CommonService,o.EventAggregator])],l)}),define("ph-common/ph-slider/v1/ph-card-slider",["exports","aurelia-framework","aurelia-event-aggregator","./../../app-constants","./../../ph-widget-attr","./../../index"],function(e,t,o,n,i,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.CardSliderAttribute=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},u=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d="ph-card-slider-v1",f=["/common/js/vendor/jquery.min.js","/common/js/vendor/jquery-migrate.min.js","/common/js/vendor/slick-v3.min.js"],h=e.CardSliderAttribute=function(e){function t(o,i,r,l){a(this,t);var c=s(this,e.call(this,o,r,d));return c.element=o,c.eventAggregator=i,c.commonService=r,c.templatingEngine=l,c.containerClass=n.AppConstants.CLASS_SLIDER_CONTAINER,c.loadOnEvent=!1,c.sliderOptions={},c.slickInited=!1,c.currentSlide=1,c.slickOverrideFun=function(){var e="button";c.phslideCustomPaging&&-1!=c.phslideCustomPaging.indexOf("<a")&&(e="a"),Slick.prototype.buildDots=function(){var t,o,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),o=$("<div />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)o.append(n.options.customPaging.call(this,n,t));n.$dots=o.appendTo(n.options.appendDots),n.$dots.find(e).first().addClass("slick-active")}},Slick.prototype.initADA=function(){var e=this,t=(Math.ceil(e.slideCount/e.options.slidesToShow),e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount}));e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(o){var n=t.indexOf(o);if($(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+o,tabindex:-1}),-1!==n){var i="slick-slide-control"+e.instanceUid+n;$("#"+i).length&&$(this).attr({"aria-describedby":i})}});for(var o=e.currentSlide,n=o+e.options.slidesToShow;o<n;o++)e.options.focusOnChange?e.$slides.eq(o).attr({tabindex:"0"}):e.$slides.eq(o).removeAttr("tabindex");e.activateADA()},Slick.prototype.updateDots=function(){this.$dots},Slick.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&($(e,t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&$(e,t.$dots).on("mouseenter.slick",$.proxy(t.interrupt,t,!0)).on("mouseleave.slick",$.proxy(t.interrupt,t,!1))},Slick.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&($(e,t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",$.proxy(t.interrupt,t,!0)).off("mouseleave.slick",$.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),$(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&$(t.$slideTrack).children().off("click.slick",t.selectHandler),$(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),$(window).off("resize.slick.slick-"+t.instanceUid,t.resize),$("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),$(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},Slick.prototype.changeSlide=function(t,o){var n,i,r,a=this,s=$(t.currentTarget);switch(s.is("a")&&t.preventDefault(),s.is(e)||(s=s.closest(e)),r=a.slideCount%a.options.slidesToScroll!=0,n=r?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":i=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-i,!1,o);break;case"next":i=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+i,!1,o);break;case"index":var l=0===t.data.index?0:t.data.index||s.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,o),s.children().trigger("focus");break;default:return}}},c.isScriptAvailable=function(e,t){var o=!1;return window?(e&&window[n.AppConstants.JQUERY]&&(window[n.AppConstants.JQUERY][t]?o=!0:window[n.AppConstants.JQUERY]()[t]&&(o=!0)),window[t]&&(o=!0)):require&&require.defined&&require.defined(t)&&(o=!0),o},c.parseBindableAttributes(),-1!=c.element.className.indexOf(c.containerClass)?c.totalSlidesCount=c.element.children.length:c.totalSlidesCount=c.element.querySelector("."+c.containerClass).children.length,c.element.classList.contains("ph-slide-loader")||c.element.classList.add("ph-slide-loader"),c.loadDependencies().then(function(){c.loadOnEvent?(c.subscribeToEvent(n.AppConstants.EVENT_LOAD_POPUP_SLIDER,function(e){if(e&&e.targetId==c.element.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID)){var t=e.itemIdx||0;c.sliderOptions.initialSlide=t,c.slickOverrideFun(),c.initSlick()}}),c.subscribeToEvent(n.AppConstants.EVENT_UNLOAD_POPUP_SLIDER,function(e){if(e&&e.targetId==c.element.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID)){var t=$(c.slickElem).find(".slick-active"),o=t?t[0].getAttribute(n.AppConstants.ATTR_WIDGET_REF):void 0;if(t&&o){var i=t[0].querySelector("["+o+"]");if(i){var r=i.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID);c.eventAggregator.publish(n.AppConstants.EVENT_PAUSE_VIDEO,{targetId:r})}}c.slickElem.slick("slickPause")}})):(c.slickOverrideFun(),c.initSlick())}),c}return l(t,e),t.prototype.detached=function(){this.eventSubs.forEach(function(e){e.dispose()})},t.prototype.initSlick=function(){var e=this;this.slickElem||(this.slickElem=$(this.element.parentElement.querySelector(this.getContainerSelector())),this.slickElem.on("init",function(){if(e.slickInited=!0,e.sliderOptions.ariaText&&e.sliderOptions.ariaText.length>0){var t=e.sliderOptions.ariaText?e.sliderOptions.ariaText:"";e.element.setAttribute("aria-label",t+e.currentSlide+"  of "+e.totalSlidesCount)}e.element.querySelector('[ph-slide-num="1"]')&&e.addDynamicAccessiblityEle(e.element.querySelector('[ph-slide-num="1"]')),e.toCheckSliderWidth(),e.slickOverrideAccessbility(),$(e.slickElem).resize(),e.attchSliderTrackingEvents()}),this.slickElem.on("reInit",function(){e.slickInited=!0}),this.slickElem.on("beforeChange",function(t,o,n,i){if(e.sliderOptions.hasOwnProperty("dots")&&e.sliderOptions.dots){var r=" .slick-dots",a=void 0;if(e.sliderOptions.appendDots?(e.sliderOptions.appendDots&&(r=e.sliderOptions.appendDots+" .slick-dots"),a=e.element.querySelector(r),e.element.querySelector(e.sliderOptions.appendDots)):(r=" .slick-dots",a=e.element.querySelector(r),e.element.querySelector(e.sliderOptions.appendDots)),a.children.length>0){var s="button";if(e.phslideCustomPaging&&-1!=e.phslideCustomPaging.indexOf("<a")&&(s="a"),$(a).find(s).removeClass("slick-active").end(),i||0==i){var l=$(a).find(s)[i];$(l).addClass("slick-active")}}}}),this.slickElem.on("afterChange",function(t,o,i,r){if(e.currentSlide=i+1,e.sliderOptions.ariaText&&e.sliderOptions.ariaText.length>0){var a=e.sliderOptions.ariaText?e.sliderOptions.ariaText:"";e.element.setAttribute("aria-label",a+e.currentSlide+"  of "+e.totalSlidesCount)}if(o){for(var s=0;s<o.$slideTrack.find(".slick-slide").length;s++)if(-1!=o.$slideTrack.find(".slick-slide")[s].className.indexOf("slick-active")){o.$slideTrack.find(".slick-slide")[s].removeAttribute("tabindex");for(var l=0;l<$(o.$slideTrack.find(".slick-slide")[s]).find("a, input, button, select").length;l++)$(o.$slideTrack.find(".slick-slide")[s]).find("a, input, button, select")[l].setAttribute("tabindex","0")}else{o.$slideTrack.find(".slick-slide")[s].setAttribute("tabindex","-1");for(var c=0;c<$(o.$slideTrack.find(".slick-slide")[s]).find("a, input, button, select").length;c++)$(o.$slideTrack.find(".slick-slide")[s]).find("a, input, button, select")[c].setAttribute("tabindex","-1")}var p=o.$slides[i];if(p){var u=p.getAttribute(n.AppConstants.ATTR_MEDIA_TYPE),d=p.getAttribute(n.AppConstants.ATTR_WIDGET_REF);if(u==n.AppConstants.MEDIA_TYPE_VIDEO){var f=p.querySelector("["+d+"]"),h=f.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID);h&&e.eventAggregator.publish(n.AppConstants.EVENT_PAUSE_VIDEO,{targetId:h})}}var g=p.querySelectorAll(".ph-a11y-aria-live"),m=void 0,y=void 0;if(e.element.parentElement&&!e.element.parentElement.querySelector(".ph-a11y-readable-content")&&(m=document.createElement("div"),m.setAttribute("class","ph-a11y-readable-content sr-only"),m.setAttribute("aria-live","assertive"),m.setAttribute("aria-atomic",!0),e.element.parentElement.appendChild(m)),y=e.element.parentElement.querySelector(".ph-a11y-readable-content"),y.innerHTML="",g&&g.length){for(var v="",b=0;b<g.length;b++)v+=g[b].innerText;y.innerHTML='<div role="presentation"> slide '+e.currentSlide+"  of "+e.totalSlidesCount+v+"</div>"}setTimeout(function(){$(y)[0].querySelector("[role='presentation']").setAttribute("aria-hidden",!0)},2500)}e.slickOverrideAccessbility()})),this.slickInited?(this.slickElem.slick("unslick"),this.slickElem.slick(this.sliderOptions),this.slickElem.slick("slickGoTo",this.sliderOptions.initialSlide||0)):(this.slickElem.removeClass(n.AppConstants.CLASS_HIDE).slick(this.sliderOptions),this.slickElem.slick("slickGoTo",this.sliderOptions.initialSlide||0))},t.prototype.addDynamicAccessiblityEle=function(e){var t=e.querySelectorAll(".ph-a11y-aria-live"),o=void 0,n=void 0;if(this.element.parentElement&&!this.element.parentElement.querySelector(".ph-a11y-readable-content")&&(o=document.createElement("div"),o.setAttribute("class","ph-a11y-readable-content sr-only"),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic",!0),this.element.parentElement.appendChild(o)),n=this.element.parentElement.querySelector(".ph-a11y-readable-content"),n.innerHTML="",t&&t.length){for(var i="",r=0;r<t.length;r++)i+=t[r].innerText;n.innerHTML='<div role="presentation"> slide '+this.currentSlide+"  of "+this.totalSlidesCount+i+"</div>"}setTimeout(function(){$(n)[0].querySelector("[role='presentation']").setAttribute("aria-hidden",!0)},2500);for(var a=this.element.querySelector(".slick-track"),s=0;s<$(a).find(".slick-slide").length;s++)if(-1!=$(a).find(".slick-slide")[s].className.indexOf("slick-active")){$(a).find(".slick-slide")[s].removeAttribute("tabindex");for(var l=0;l<$($(a).find(".slick-slide")[s]).find("a, input, button, select").length;l++)$($(a).find(".slick-slide")[s]).find("a, input, button, select")[l].setAttribute("tabindex","0")}else{$(a).find(".slick-slide")[s].setAttribute("tabindex","-1");for(var c=0;c<$($(a).find(".slick-slide")[s]).find("a, input, button, select").length;c++)$($(a).find(".slick-slide")[s]).find("a, input, button, select")[c].setAttribute("tabindex","-1")}},t.prototype.toCheckSliderWidth=function(){var e=this;clearTimeout(this.toLoadTimeout),this.toLoadTimeout=setTimeout(function(){$&&$(e.element).find(".slick-track").length>0?(console.log("width",e.element.querySelectorAll(".slick-track")[0].style.width),"0px"==e.element.querySelectorAll(".slick-track")[0].style.width?($(e.element).trigger("resize"),e.goToActiveSlideChanged(e.sliderOptions.initialSlide||0),e.toCheckSliderWidth()):clearTimeout(e.toLoadTimeout),e.element.classList.contains("ph-slide-loader")&&e.element.classList.remove("ph-slide-loader")):e.toCheckSliderWidth()},150)},t.prototype.goToActiveSlideChanged=function(e){this.element.querySelector("."+this.containerClass)&&$&&$(this.element).find("."+this.containerClass).slick("slickGoTo",e)},t.prototype.slickOverrideAccessbility=function(){if(this.sliderOptions.dots){var e=" .slick-dots";this.sliderOptions.appendDots&&(e=this.sliderOptions.appendDots+" .slick-dots");var t=this.element.querySelector(e);this.element.querySelector(this.sliderOptions.appendDots);t.children.length>0&&setTimeout(function(){t.setAttribute("role","tablist");for(var e=0;e<=t.children.length-1;e++){var o=t.children[e];"BUTTON"==o.nodeName&&o.setAttribute("role","tab"),-1!=o.className.indexOf("slick-active")?("A"==o.nodeName&&o.setAttribute("aria-current",!0),"BUTTON"==o.nodeName&&o.setAttribute("aria-selected",!0)):("A"==o.nodeName&&o.removeAttribute("aria-current"),"BUTTON"==o.nodeName&&o.setAttribute("aria-selected",!1))}},100)}},t.prototype.attchSliderTrackingEvents=function(){var t=this,o=this.element.querySelector(".slick-next"),n=this.element.querySelector(".slick-prev"),i=this.element.querySelector(".slick-dots");if(this.sliderOptions&&this.sliderOptions.appendDots){var r=" .slick-dots";this.sliderOptions.appendDots&&(r=this.sliderOptions.appendDots+" .slick-dots");var a=this.element.querySelector(r);i=a||document.querySelector(r)}o&&o.addEventListener("click",function(o){e.prototype.trackWidgetClick.call(t,"next_slider_click",{})}),n&&n.addEventListener("click",function(o){e.prototype.trackWidgetClick.call(t,"previous_slider_click",{})}),i&&i.addEventListener("click",function(o){e.prototype.trackWidgetClick.call(t,"dot_slider_click",{})})},t.prototype.getContainerSelector=function(){return"."+this.containerClass},t.prototype.parseBindableAttributes=function(){var t=this;e.prototype.parseBindableAttributes.call(this);for(var o=this.element.attributes,i=0;i<o.length;i++){var r=o[i],a=this.kebabCaseToCameCase(r.name),s=r.value;if(s&&(s.toLowerCase()==n.AppConstants.TRUE?s=!0:s.toLowerCase()==n.AppConstants.FALSE&&(s=!1)),a.startsWith(n.AppConstants.ATTR_SLIDE_PREFIX)){var l=a.replace(n.AppConstants.ATTR_SLIDE_PREFIX,"");l=l[0].toLowerCase()+l.substring(1),this.sliderOptions[l]=s}}if(this.sliderOptions&&this.sliderOptions.customPaging){var c=this.sliderOptions.customPaging,p=void 0;this.sliderOptions.customPaging=function(e,o){p=c;var n=t.element.querySelector('[ph-slide-num="'+(o+1)+'"]'),i=void 0,r=void 0,a=(e.slideCount,void 0);if(n&&n.attributes)for(var s=0;s<n.attributes.length;s++)a=n.attributes[s].name,-1!=a.indexOf("thumb")&&(i=n.getAttribute(n.attributes[s].name),r=a.replace("data-ph-thumb-",""),p=p.replace("#"+r+"#",i));return p}}this.sliderOptions&&this.sliderOptions.appendDots&&(this.sliderOptions.appendDots="[data-ph-id="+this.element.getAttribute("data-ph-id")+"] "+this.sliderOptions.appendDots),this.sliderOptions&&this.sliderOptions.appendArrows&&(this.sliderOptions.appendArrows="[data-ph-id="+this.element.getAttribute("data-ph-id")+"] "+this.sliderOptions.appendArrows)},t.prototype.loadScript=function(e,t,o){var i=this;return new Promise(function(r,a){var s=!1;if(s=i.isScriptAvailable(o,t))r();else{var l=[],c=!1;if(window&&(window[n.AppConstants.SCRIPTCACHE]=window[n.AppConstants.SCRIPTCACHE]||[],l=window[n.AppConstants.SCRIPTCACHE]),-1!=l.indexOf(e)?c=!0:l.push(e),c)var p=setInterval(function(){(s=i.isScriptAvailable(o,t))&&(clearInterval(p),r())},100);else{var u=document.createElement("script");u.src=e,u.onload=function(){r()};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(u,d)}}})},t.prototype.loadDependencies=function(){var e=this;return new Promise(function(t,o){var i=JSON.parse(JSON.stringify(f)),r=e.commonService.getCdnUrl()+i.shift();e.loadScript(r,n.AppConstants.JQUERY).then(function(){var o=e.commonService.getCdnUrl()+i.shift();e.loadScript(o,"migrateWarnings",!0).then(function(){var o=e.commonService.getCdnUrl()+i.shift();e.loadScript(o,"slick",!0).then(function(){t()})})})})},t}(i.PhenomWidgetAttribute);e.CardSliderAttribute=h=p([(0,t.customAttribute)(d),(0,t.autoinject)(),u("design:paramtypes",[Element,o.EventAggregator,r.CommonService,t.TemplatingEngine])],h)}),define("ph-common/app-constants",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=e.AppConstants=function e(){t(this,e)};o.TRUE="true",o.FALSE="false",o.JQUERY="jQuery",o.SCRIPTCACHE="phAppScriptCache",o.MEDIA_TYPE_IMAGE="image",o.MEDIA_TYPE_VIDEO="video",o.ATTR_BINDABLE_PREFIX="pha-",o.ATTR_AU_TARGET_ID="au-target-id",o.ATTR_SLIDE_PREFIX="phslide",o.ATTR_MEDIA_TYPE="data-media-type",o.ATTR_WIDGET_REF="data-widget-ref",o.ATTR_GALLERY_ITEM_TYPE="data-gallery-item-type",o.ATTR_VIDEO_PROVIDER="data-gallery-video-provider",o.ATTR_VIDEO_ID="data-gallery-video-id",o.ATTR_SRC="src",o.ATTR_ITEM_ID="data-item-id",o.ATTR_IS_GALLERY_ITEM="pha-gallery-item",o.EVENT_PLAY_VIDEO="PLAY_VIDEO",o.EVENT_PAUSE_VIDEO="PAUSE_VIDEO",o.EVENT_START_VIDEO="START_VIDEO",o.EVENT_LOAD_POPUP_SLIDER="load-popup-slider",o.EVENT_UNLOAD_POPUP_SLIDER="unload-popup-slider",o.PROVIDER_YOUTUBE="youtube",o.PROVIDER_VIMEO="vimeo",o.PROVIDER_VIDEO="video",o.PROVIDER_WISTIA="wistia",o.CLASS_SLIDER_CONTAINER="ph-slider-container",o.CLASS_HIDE="hide",o.CLASS_VIDEOJS="ph-video-js",o.SELECTOR_GALLERY_ITEM=".ph-gallery-item",o.SELECTOR_GALLERY_ITEM_CTR=".ph-gallery-item-container",o.SELECTOR_GALLERY_ITEM_LINK=".ph-gallery-item-link",o.SELECTOR_GALLERY_CLOSE=".ph-gallery-close",o.SELECTOR_POPUP_CONTAINER=".popup-container",o.SELECTOR_GALLERY_CONTAINER=".ph-gallery-container"}),define("ph-common/ph-widget-attr",["exports","aurelia-dependency-injection","aurelia-event-aggregator","./ph-modal-dialog","./app-constants"],function(e,t,o,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomWidgetAttribute=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n);e.PhenomWidgetAttribute=function(){function e(n,i,a){r(this,e),this.commonService=i,this.attrName=a,this.eventSubs=[],this.element=n,this.eventAggregator=t.Container.instance.get(o.EventAggregator);this.eventAggregator}return e.prototype.kebabCaseToCameCase=function(e){return e=e.replace(i.AppConstants.ATTR_BINDABLE_PREFIX,""),e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})},e.prototype.parseBindableAttributes=function(e){for(var t=this.element.attributes,o=0;o<t.length;o++){var n=t[o],r=this.kebabCaseToCameCase(n.name),a=n.value;a&&(a.toLowerCase()==i.AppConstants.TRUE?a=!0:a.toLowerCase()==i.AppConstants.FALSE&&(a=!1)),e&&(e[r]=a),this[r]=a}},e.prototype.raiseEvent=function(e,t){e&&e.trim().length>0&&t&&this.eventAggregator.publish(e,t)},e.prototype.subscribeToEvent=function(e,t){e&&e.trim().length>0&&t&&this.eventSubs.push(this.eventAggregator.subscribe(e,t))},e.prototype.openDialogPopup=function(e,t,o,n){"."!=e[0]&&(e="."+e);var i=this.element.querySelectorAll(e)[0];if(o){new a.default.Dialog(i,t,o)}else{new a.default.Dialog(i,t)}},e.prototype.closeDialogPopup=function(){a.default.closeCurrentDialog()},e.prototype.getView=function(e){if(e.getAttribute("data-widget")&&"BODY"!=e.nodeName)return e.getAttribute("original-view")||"default";this.getView(e.parentElement)},e.prototype.getWidgetName=function(e){return e&&e.getAttribute("data-widget-name")?e.getAttribute("data-widget-name"):this.attrName.replace(/^.+?(\-)/,"").replace(/-[^-]+$/,"")},e.prototype.trackWidgetClick=function(e,t){var o={};o.params={widgetId:this.attrName,widgetName:this.getWidgetName(!1),widgetview:this.getView(this.element)},this.commonService.processTrackingEvent(e,void 0,o,{},t)},e}()}),define("ph-common/ph-media-gallery/v1/ph-media-gallery",["exports","aurelia-framework","aurelia-event-aggregator","./../../ph-widget-attr","./../../app-constants","./../../index"],function(e,t,o,n,i,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.MediaGallery=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},u=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d="ph-media-gallery-v1",f=e.MediaGallery=function(e){function t(o,n,l,c){a(this,t);var p=s(this,e.call(this,o,l,d));return p.element=o,p.eventAggregator=n,p.commonService=l,p.templatingEngine=c,p.items=[],p.enablepopup=!0,p.handleGalleryItemClick=function(e){if(p.galleryPopup.classList.remove(i.AppConstants.CLASS_HIDE),p.items.length){var t=p.galleryPopup.querySelector("["+i.AppConstants.ATTR_IS_GALLERY_ITEM+"]");t&&p.raiseEvent(i.AppConstants.EVENT_START_VIDEO,{targetId:p.getAttr(t,i.AppConstants.ATTR_AU_TARGET_ID)})}try{p.openDialogPopup(i.AppConstants.SELECTOR_POPUP_CONTAINER,e.target,p.galleryPopup)}catch(e){console.error(e)}p.raiseEvent(i.AppConstants.EVENT_LOAD_POPUP_SLIDER,{itemIdx:e.target.getAttribute(i.AppConstants.ATTR_ITEM_ID),targetId:p.getAttr(p.element.querySelector(i.AppConstants.SELECTOR_GALLERY_CONTAINER),i.AppConstants.ATTR_AU_TARGET_ID)})},r.logger.debug("Loaded custom attribtue ... ",o),p.parseBindableAttributes(),p.prepareMediaGalleryViewer(),p}return l(t,e),t.prototype.prepareBindableAttributes=function(e,t,o){e=e||this.element;for(var n=e.attributes,r=0;r<n.length;r++){var a=n[r];if(!o||a.name.startsWith(i.AppConstants.ATTR_BINDABLE_PREFIX)){var s=a.name,l=a.value;l&&(l.toLowerCase()==i.AppConstants.TRUE?l=!0:l.toLowerCase()==i.AppConstants.FALSE&&(l=!1)),t&&(t[s]=a.value)}}},t.prototype.isImage=function(e){return e&&e.getAttribute(i.AppConstants.ATTR_GALLERY_ITEM_TYPE)===i.AppConstants.MEDIA_TYPE_IMAGE},t.prototype.isVideo=function(e){return e&&e.getAttribute(i.AppConstants.ATTR_GALLERY_ITEM_TYPE)===i.AppConstants.MEDIA_TYPE_VIDEO},t.prototype.getAttr=function(e,t){return e.getAttribute(t)},t.prototype.closeGallery=function(){if(this.raiseEvent(i.AppConstants.EVENT_UNLOAD_POPUP_SLIDER,{targetId:this.getAttr(this.element.querySelector(i.AppConstants.SELECTOR_GALLERY_CONTAINER),i.AppConstants.ATTR_AU_TARGET_ID)}),this.items.length){var e=this.galleryPopup.querySelector("["+i.AppConstants.ATTR_IS_GALLERY_ITEM+"]");e&&this.raiseEvent(i.AppConstants.EVENT_PAUSE_VIDEO,{targetId:this.getAttr(e,i.AppConstants.ATTR_AU_TARGET_ID)})}this.galleryPopup.classList.add(i.AppConstants.CLASS_HIDE),this.closeDialogPopup()},t.prototype.parseGalleryItems=function(){for(var e=this.element.querySelectorAll(i.AppConstants.SELECTOR_GALLERY_ITEM_LINK),t=0;t<e.length;t++){var o=e[t];o.setAttribute(i.AppConstants.ATTR_ITEM_ID,t+""),this.enablepopup&&o.addEventListener("click",this.handleGalleryItemClick);var n=o.querySelector(i.AppConstants.SELECTOR_GALLERY_ITEM);if(n){n.setAttribute(i.AppConstants.ATTR_ITEM_ID,t+"");var r={};this.isImage(n)?(r.type=i.AppConstants.MEDIA_TYPE_IMAGE,r.src=this.getAttr(n,i.AppConstants.ATTR_SRC),r.alt=this.getAttr(n,"alt")):this.isVideo(n)&&(r.type=i.AppConstants.MEDIA_TYPE_VIDEO,r.widget=this.getAttr(n,i.AppConstants.ATTR_WIDGET_REF),r.provider=this.getAttr(n,i.AppConstants.ATTR_VIDEO_PROVIDER));var a={};this.prepareBindableAttributes(n,a,!0),a["pha-gallery-item"]=!0,r.attribs=a,this.items.push(r)}}},t.prototype.prepareMediaGalleryViewer=function(){var e=this,t=this.element.querySelector(i.AppConstants.SELECTOR_GALLERY_CLOSE);t&&t.addEventListener("click",function(){e.closeGallery()}),this.galleryPopup=this.element.querySelector(i.AppConstants.SELECTOR_POPUP_CONTAINER),this.galleryPopup.addEventListener("keyup",function(t){"Escape"!=t.key&&27!==t.keyCode&&27!==t.which||e.closeGallery()}),this.parseGalleryItems();var o=this.element.querySelector(i.AppConstants.SELECTOR_GALLERY_ITEM_CTR);this.items.forEach(function(t){var n=o.cloneNode();if(n.setAttribute(i.AppConstants.ATTR_MEDIA_TYPE,t.type),t.type===i.AppConstants.MEDIA_TYPE_IMAGE){var r=document.createElement("img"),a=e.galleryLazyLoad?"data-lazy":"src";r.setAttribute(a,t.src),r.alt=t.alt,n.appendChild(r)}else if(t.type===i.AppConstants.MEDIA_TYPE_VIDEO){var s=document.createElement("div");if(s.setAttribute(t.widget,t.provider),n.setAttribute(i.AppConstants.ATTR_WIDGET_REF,t.widget),t.attribs)for(var l in t.attribs)t.attribs.hasOwnProperty(l)&&s.setAttribute(l,t.attribs[l]);n.appendChild(s),e.templatingEngine&&e.templatingEngine.enhance&&e.templatingEngine.enhance({element:s})}o.parentElement.appendChild(n)}),o.parentElement.removeChild(o)},t}(n.PhenomWidgetAttribute);e.MediaGallery=f=p([(0,t.customAttribute)(d),(0,t.autoinject)(),u("design:paramtypes",[Element,o.EventAggregator,r.CommonService,t.TemplatingEngine])],f)}),define("ph-common/ph-video/v1/ph-video",["exports","aurelia-framework","./../../index","./../../app-constants","./../../ph-widget-attr","./video-player-factory"],function(e,t,o,n,i,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.VideoAttribute=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},u=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d="ph-video-v1",f=e.VideoAttribute=function(e){function t(o,i,r){a(this,t);var l=s(this,e.call(this,o,i,d));return l.element=o,l.commonService=i,l.videoPlayerFactory=r,l.playerOptions={},l.handleVideoPlayBroadcast=function(e){var t=l.element.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID);e&&e.targetId!=t&&l.player.pause()},l.handleVideoPause=function(e){var t=l.element.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID);e&&e.targetId==t&&l.player.pause()},l.handleLoadVideo=function(e){var t=l.element.getAttribute(n.AppConstants.ATTR_AU_TARGET_ID);e&&e.targetId==t&&l.player.load()},l.parseBindableAttributes(l.playerOptions),l}return l(t,e),t.prototype.valueChanged=function(e,t){this.provider=e},t.prototype.attached=function(){this.subscribeToEvent(n.AppConstants.EVENT_PLAY_VIDEO,this.handleVideoPlayBroadcast),this.subscribeToEvent(n.AppConstants.EVENT_PAUSE_VIDEO,this.handleVideoPause),this.subscribeToEvent(n.AppConstants.EVENT_START_VIDEO,this.handleLoadVideo),this.initPlayer()},t.prototype.detached=function(){this.eventSubs.forEach(function(e){e.dispose()})},t.prototype.initPlayer=function(){this.player=r.VideoPlayerFactory.createPlayer(this.element,this.provider,this.playerOptions),this.player.setEventAggregator(this.eventAggregator),this.playerOptions.galleryItem||this.player.load()},t}(i.PhenomWidgetAttribute);e.VideoAttribute=f=p([(0,t.customAttribute)(d),(0,t.autoinject)(),u("design:paramtypes",[Element,o.CommonService,r.VideoPlayerFactory])],f)}),define("ph-common/ph-video/v1/video-player-factory",["exports","./../../app-constants","./youtube-player","./vimeo-player","./video-player","./wistia-player"],function(e,t,o,n,i,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlayerFactory=void 0;e.VideoPlayerFactory=function(){function e(){a(this,e)}return e.createPlayer=function(e,a,s){return a===t.AppConstants.PROVIDER_YOUTUBE?new o.YoutubePlayer(e,s):a===t.AppConstants.PROVIDER_VIMEO?new n.VimeoPlayer(e,s):a===t.AppConstants.PROVIDER_VIDEO?new i.VideoPlayer(e,s):a===t.AppConstants.PROVIDER_WISTIA?new r.WistiaPlayer(e,s):void 0},e}()}),define("ph-common/ph-video/v1/youtube-player",["exports","./base-video-player"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.YoutubePlayer=void 0;var r="onYouTubeIframeAPIReady";e.YoutubePlayer=function(e){function t(i,a){o(this,t);var s=n(this,e.call(this,i,a));return s.element=i,s.playerOptions={},s.onApiReady=function(){},s.onPlayerReady=function(e,t){s.player=t||e.target,s.pollingInterval=setInterval(function(e){var t=s.player.getPlayerState();s.onPlayerStateChange({data:t},!0)},240),s.player.addEventListener("onStateChange",function(e){s.onPlayerStateChange(e)}),s.playerOptions.volume<=0&&s.mute(),"1"==s.playerOptions.autoplay&&s.play()},s.onPlayerStateChange=function(t,o){!o&&s.pollingInterval&&(clearInterval(s.pollingInterval),s.pollingInterval=void 0);var n=t.data;n==YT.PlayerState.PLAYING?e.prototype.play.call(s):n==YT.PlayerState.PAUSED&&e.prototype.pause.call(s)},s.playerOptions=a||{},window&&(window[r]=s.onApiReady),s.playerContainer=document.createElement("div"),s.element.appendChild(s.playerContainer),s}return i(t,e),t.prototype.isApiRequested=function(){return window?window.YTSCRIPTADDED:void 0},t.prototype.isApiLoaded=function(){return window?window.YT:void 0},t.prototype.initPlayer=function(){var e=this;if(this.player)return void this.onPlayerReady(void 0,this.player);if(this.playerOptions.playerVars=this.playerOptions.playerVars||{},this.playerOptions.playerVars.rel=this.playerOptions.rel||0,isNaN(this.playerOptions.playerVars.rel)&&(this.playerOptions.playerVars.rel=parseInt(this.playerOptions.playerVars.rel,10)),this.playerOptions.width=this.playerOptions.width||"100%",this.playerOptions.height=this.playerOptions.height||"100%",this.playerOptions.playerVars.modestbranding=this.playerOptions.modestbranding||1,isNaN(this.playerOptions.playerVars.modestbranding)&&(this.playerOptions.playerVars.modestbranding=parseInt(this.playerOptions.playerVars.modestbranding,10)),this.playerOptions.events={onReady:this.onPlayerReady},window.YT&&YT.Player){new YT.Player(this.playerContainer,this.playerOptions)}else setTimeout(function(){return e.initPlayer()},300)},t.prototype.load=function(){var e=this;if(!this.isApiRequested()){window.YTSCRIPTADDED=!0;var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}this.isApiLoaded()?this.initPlayer():setTimeout(function(){return e.initPlayer()},300)},t.prototype.play=function(){e.prototype.play.call(this),this.player&&this.player.playVideo()},t.prototype.pause=function(){e.prototype.pause.call(this),this.player&&this.player.pauseVideo()},t.prototype.stop=function(){e.prototype.stop.call(this),this.player&&this.player.stopVideo()},t.prototype.mute=function(){e.prototype.mute.call(this),this.player&&this.player.mute()},t.prototype.loop=function(){e.prototype.loop.call(this),this.player&&this.player.setLoop()},t}(t.BaseVideoPlayer)}),define("ph-common/ph-video/v1/base-video-player",["exports","./../../app-constants"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVideoPlayer=void 0;e.BaseVideoPlayer=function(){function e(t,n,i){o(this,e),this.element=t,this.eventAggregator=i}return e.prototype.setEventAggregator=function(e){this.eventAggregator=e},e.prototype.load=function(){},e.prototype.play=function(){this.eventAggregator.publish(t.AppConstants.EVENT_PLAY_VIDEO,{targetId:this.element.getAttribute(t.AppConstants.ATTR_AU_TARGET_ID)})},e.prototype.pause=function(){},e.prototype.stop=function(){},e.prototype.mute=function(){},e.prototype.loop=function(){},e.prototype.controls=function(){},e.prototype.preload=function(e){},e}()}),define("ph-common/ph-video/v1/vimeo-player",["exports","./base-video-player"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.VimeoPlayer=void 0;e.VimeoPlayer=function(e){function t(i,r){o(this,t);var a=n(this,e.call(this,i,r));return a.element=i,a.playerOptions={},a.onApiReady=function(){},a.onPlayerReady=function(e){a.playerOptions.volume<=0&&a.mute(),"1"==a.playerOptions.autoplay&&a.play()},a.playerOptions=r||{},a.playerContainer=document.createElement("div"),a.element.appendChild(a.playerContainer),a}return i(t,e),t.prototype.isApiRequested=function(){return window?window.VIMEOSCRIPTADDED:void 0},t.prototype.isApiLoaded=function(){return window?window.Vimeo:void 0},t.prototype.initPlayer=function(){var t=this;if(this.player)return void this.onPlayerReady(this.player);if(this.playerOptions.id=this.playerOptions.videoId,this.playerOptions.width=this.playerOptions.width||560,this.playerOptions.autopause=!0,window.Vimeo&&Vimeo.Player){var o=new Vimeo.Player(this.playerContainer,this.playerOptions);o.ready().then(this.onPlayerReady),o.on("play",function(o){e.prototype.play.call(t)}),o.on("pause",function(o){e.prototype.pause.call(t)}),this.player=o}else setTimeout(function(){return t.initPlayer()},300)},t.prototype.load=function(){var e=this;if(!this.isApiRequested())if(window.VIMEOSCRIPTADDED=!0,window.require)window.require(["https://player.vimeo.com/api/player.js"],function(e){window.Vimeo={Player:e}});else{var t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}this.isApiLoaded()?this.initPlayer():setTimeout(function(){return e.initPlayer()},300)},t.prototype.play=function(){e.prototype.play.call(this),this.player&&this.player.play()},t.prototype.pause=function(){e.prototype.pause.call(this),this.player&&this.player.pause()},t.prototype.stop=function(){e.prototype.stop.call(this)},t.prototype.mute=function(){e.prototype.mute.call(this),this.player&&this.player.mute()},t.prototype.loop=function(){e.prototype.loop.call(this),this.player},t}(t.BaseVideoPlayer)}),define("ph-common/ph-video/v1/video-player",["exports","./../../app-constants","./base-video-player"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlayer=void 0;e.VideoPlayer=function(e){function o(t,r){n(this,o);var a=i(this,e.call(this,t,r));return a.element=t,a.playerOptions={},a.onApiReady=function(){},a.onPlayerReady=function(e){a.playerOptions.volume<=0&&a.mute(),"1"==a.playerOptions.autoplay&&a.play(),"1"==a.playerOptions.loop&&a.loop(),"0"==a.playerOptions.controls&&a.controls(),a.playerOptions.preload&&a.preload(a.playerOptions.preload)},a.playerOptions=r||{},a.playerContainer=document.createElement("div"),a.element.appendChild(a.playerContainer),a}return r(o,e),o.prototype.isApiRequested=function(){return window?window.VIDEOJSSCRIPTADDED:void 0},o.prototype.isApiLoaded=function(){return window?window.videojs:void 0},o.prototype.initPlayer=function(){var o=this;if(this.player)return void this.onPlayerReady({});this.playerOptions.width=this.playerOptions.width||560,this.playerOptions.autopause=!0,this.playerOptions.controls=this.playerOptions.controls||!0,this.playerOptions.preload=this.playerOptions.preload||"auto";var n=document.createElement("video");n.classList.add(t.AppConstants.CLASS_VIDEOJS),n.setAttribute("src",this.playerOptions.videoUrl),this.playerOptions.controls&&n.setAttribute("controls",""),this.player=n,this.player.addEventListener("playing",function(){e.prototype.play.call(o)}),this.player.addEventListener("pause",function(){e.prototype.pause.call(o)}),this.playerContainer.appendChild(n),this.onPlayerReady({})},o.prototype.load=function(){this.initPlayer()},o.prototype.play=function(){var t=this;setTimeout(function(){e.prototype.play.call(t),t.player&&t.player.play()},10)},o.prototype.pause=function(){e.prototype.pause.call(this),this.player&&this.player.pause()},o.prototype.stop=function(){e.prototype.stop.call(this)},o.prototype.mute=function(){e.prototype.mute.call(this),this.player&&(this.player.muted=!0)},o.prototype.loop=function(){e.prototype.loop.call(this),this.player&&(this.player.loop=!0)},o.prototype.controls=function(){e.prototype.controls.call(this),this.player&&(this.player.controls=!1)},o.prototype.preload=function(t){e.prototype.preload.call(this,t),this.player&&(this.player.preload=t)},o}(o.BaseVideoPlayer)}),define("ph-common/ph-video/v1/wistia-player",["exports","./base-video-player"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.WistiaPlayer=void 0;e.WistiaPlayer=function(e){function t(i,r){o(this,t);var a=n(this,e.call(this,i,r));return a.element=i,a.playerOptions={},a.onApiReady=function(){},a.onPlayerReady=function(t,o){a.player=o||t,a.playerOptions.volume<=0&&a.mute(),"1"==a.playerOptions.autoplay&&a.play(),a.player.bind("pause",function(){e.prototype.pause.call(a)}),a.player.bind("play",function(){e.prototype.play.call(a)})},a.playerOptions=r||{},a.playerContainer=document.createElement("div"),a.element.appendChild(a.playerContainer),a}return i(t,e),t.prototype.isApiRequested=function(){return window?window.WISTIASCRIPTADDED:void 0},t.prototype.isApiLoaded=function(){return window?window._wq:void 0},t.prototype.initPlayer=function(){if(this.player)return void this.onPlayerReady(void 0,this.player);this.playerOptions.id=this.playerOptions.videoId,this.playerOptions.width=this.playerOptions.width||560,this.playerOptions.autopause=!0,window._wq=window._wq||[],window._wq.push({id:this.playerOptions.id,onReady:this.onPlayerReady})},t.prototype.load=function(){if(!this.isApiRequested()){window.WISTIASCRIPTADDED=!0,this.playerContainer.classList.add("wistia_embed"),this.playerContainer.classList.add("wistia_async_"+this.playerOptions.videoId);var e=document.createElement("script");e.src="//fast.wistia.com/assets/external/E-v1.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}this.initPlayer()},t.prototype.play=function(){e.prototype.play.call(this),this.player&&this.player.play()},t.prototype.pause=function(){e.prototype.pause.call(this),this.player&&this.player.pause()},t.prototype.stop=function(){e.prototype.stop.call(this)},t.prototype.mute=function(){e.prototype.mute.call(this),this.player&&this.player.mute()},t.prototype.loop=function(){e.prototype.loop.call(this),this.player},t}(t.BaseVideoPlayer)}),define("ph-common/ph-value-converters/data-validate-value-converter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.DataValidateValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t,o){if(e&&e.trim().length&&t&&t.length&&o&&o.trim().length>0){return t.filter(function(t){return t&&t[o]&&t[o]===e}).length?e:void 0}},e}()}),define("ph-common/ph-job-widget",["exports","./index"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomJobWidget=void 0;var r="none";e.PhenomJobWidget=function(e){function a(t,i,s){o(this,a);var l=n(this,e.call(this,t,i,s));return l.element=t,l.commonService=i,l.elementTag=s,l.jobFields=[],l.jobActions=[],l.isErrorMsgReqd=!1,l.bulkcart=!1,l.jobsDisplayMode="seeMore",l.slideMode=!1,l.seemoretext=!0,l.showErrorMsg=!1,l.maxDisplayCount=5,l.showExpiredJobs=!1,l.jobsPerSlide=5,l.maxJobs=18,l.clickTojd=!1,l.isBulkcartEnable=!1,l.showTitle=!0,l.showSubTitle=!1,l.showMore=null,l.isKeyPress=!1,l.jobResults=[],l.showReferView=!1,l.referMode="hidePopup",l.referJob={},l.enabledFields={},l.enabledActions={},l.questionnaireMode=r,l.referralId="",l.bindableValues=[{attrKey:"is-error-msg-reqd",actualKey:"isErrorMsgReqd",type:"boolean"},{attrKey:"bulkcart",actualKey:"bulkcart",type:"boolean"},{attrKey:"jobs-display-mode",actualKey:"jobsDisplayMode",type:"string"},{attrKey:"slide-mode",actualKey:"slideMode",type:"boolean"},{attrKey:"show-error-msg",actualKey:"showErrorMsg",type:"boolean"},{attrKey:"show-expired-jobs",actualKey:"showExpiredJobs",type:"boolean"},{attrKey:"jobs-per-slide",actualKey:"jobsPerSlide",type:"number"},{attrKey:"max-jobs",actualKey:"maxJobs",type:"number"},{attrKey:"click-tojd",actualKey:"clickTojd",type:"boolean"},{attrKey:"max-display-count",actualKey:"maxDisplayCount",type:"number"},{attrKey:"show-title",actualKey:"showTitle",type:"boolean"},{attrKey:"show-sub-title",actualKey:"showSubTitle",type:"boolean"},{attrKey:"questionnaire-mode",actualKey:"questionnaireMode",type:"string"}],l.viewEvenMoreCount=2,l.viewEvenMoreClickcounter=1,l.setReferralId=function(e){l.referralId=e},l}return i(a,e),a.prototype.attached=function(){e.prototype.attached.call(this),this.fetchBindableValues(),this.fetchJobWidgetSettings(),this.getJobFields(),this.getJobActions(),this.checkBulkcartStatus(),this.getShowMoreCount=this.maxDisplayCount},a.prototype.addJobContext=function(){t.logger.warn("called no-op implementation of addJobContext.If the widget holds jobs data, provide an implementation"),this.commonService.addJobContext(this.elementTag,this.jobResults)},a.prototype.checkBulkcartStatus=function(){if(this.bulkcart)this.isBulkcartEnable=!0;else for(var e=0;e<this.jobActions.length;e++)if("addToCart"==this.jobActions[e].name||"removeFromCart"==this.jobActions[e].name){this.isBulkcartEnable=!0;break}},a.prototype.decodeStringQuotes=function(e){return e?e.replace(/\\"/g,'"'):e},a.prototype.fetchBindableValues=function(){var e=this;this.bindableValues.forEach(function(t,o){var n=e.element.getAttribute(t.attrKey);n&&("boolean"==t.type?n="true"==n:"number"==t.type&&(n=parseInt(n)),e[t.actualKey]=n)})},a.prototype.fetchJobWidgetSettings=function(){var e=this.commonService.getCachedDDO("jobwidgetsettings",this.elementTag);e&&e.data&&(this.jobFields=e.data.fields||[],this.jobActions=e.data.actions||[])},a.prototype.getJobFields=function(){var e=this;try{this.jobFields=JSON.parse(this.element.getAttribute("job-fields"))||this.jobFields}catch(e){console.error(e)}this.jobFields.forEach(function(t){e.enabledFields[t.name]=t})},a.prototype.getJobActions=function(){var e=this;try{this.jobActions=JSON.parse(this.element.getAttribute("job-actions"))||this.jobActions}catch(e){console.error(e)}this.jobActions.forEach(function(t){e.enabledActions[t.name]=t})},a.prototype.seemore=function(){var t=this;e.prototype.trackWidgetClick.call(this,"see_more_click",{});var o=this.maxDisplayCount;setTimeout(function(){t.element.querySelector('[data-access-list-item="'+o+'"]')&&t.element.querySelector('[data-access-list-item="'+o+'"]').focus()},150),this.maxDisplayCount=this.jobResults.length,this.showMore=!1},a.prototype.seeLess=function(){var t=this;e.prototype.trackWidgetClick.call(this,"see_less_click",{}),this.maxDisplayCount=this.getShowMoreCount,this.showMore=!0,setTimeout(function(){t.element.querySelector('[data-access="showMore"]')&&t.element.querySelector('[data-access="showMore"]').focus(),t.element.querySelector('[data-access="seeNext"]')&&t.element.querySelector('[data-access="seeNext"]').focus(),t.element.querySelector('[data-access="seeEvenMore"]')&&t.element.querySelector('[data-access="seeEvenMore"]').focus()},350)},a.prototype.seeNext=function(){var t=this;e.prototype.trackWidgetClick.call(this,"see_next_click",{});var o=this.maxDisplayCount;this.maxDisplayCount+this.getShowMoreCount<this.jobResults.length?(this.showMore=!0,this.maxDisplayCount+=this.getShowMoreCount):(this.maxDisplayCount=this.jobResults.length,this.showMore=!1),setTimeout(function(){t.element.querySelector('[data-access-list-item="'+o+'"]')&&t.element.querySelector('[data-access-list-item="'+o+'"]').focus()},150)},a.prototype.seeEvenMore=function(){var t=this;e.prototype.trackWidgetClick.call(this,"see_even_more_click",{});var o=this.viewEvenMoreCount>this.viewEvenMoreClickcounter;this.viewEvenMoreClickcounter++;var n=this.maxDisplayCount;o&&this.maxDisplayCount+this.getShowMoreCount<=this.jobResults.length?(this.showMore=!0,this.maxDisplayCount+=this.getShowMoreCount):(this.maxDisplayCount=this.jobResults.length,this.viewEvenMoreClickcounter=1,this.showMore=!1),setTimeout(function(){t.element.querySelector('[data-access-list-item="'+n+'"]')&&t.element.querySelector('[data-access-list-item="'+n+'"]').focus()},150)},a.prototype.seemoreOnKeyUp=function(e){return 13===e.keyCode&&(this.isKeyPress=!0,this.seeNext()),!0},a.prototype.handleError=function(t){e.prototype.hideLoader.call(this),this.isErrorMsgReqd?this.showErrorMsg=!0:e.prototype.onError.call(this,"")},a.prototype.onDataChange=function(e,t){this.jobResults.length?this.commonService.populateJobResults&&(this.jobResults=this.commonService.populateJobResults(this.jobResults,this.clickTojd,e)):this.handleError(""),"all"==this.jobsDisplayMode&&(this.maxDisplayCount=this.jobResults.length),this.seemoretext=this.seemoretext&&this.jobResults.length>this.maxDisplayCount,this.seemoretext?this.showMore=!0:this.maxDisplayCount=this.jobResults.length,this.fetchJobStatus()},a.prototype.fetchJobStatus=function(){var t=this;if(this.isBulkcartEnable&&!this.commonService.isCrawlerUserAgent()){for(var o=[],n=this.jobResults,i=Array.isArray(n),r=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(r>=n.length)break;a=n[r++]}else{if(r=n.next(),r.done)break;a=r.value}var s=a;this.jobResults.isJobSaved=null,this.jobResults.saveJobInterState=null,this.jobResults.inProgress=!1,o.push(s.jobSeqNo)}var l={jobSeqNos:o};this.commonService.getDDO(this.elementTag,"getJobStatusListV2",l).then(function(o){if(e.prototype.hideLoader.call(t),o&&o.getJobStatusListV2)for(var n=o.getJobStatusListV2.data,i=t.jobResults,r=Array.isArray(i),a=0,i=r?i:i[Symbol.iterator]();;){var s;if(r){
if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s;l.isJobSaved=n[l.jobSeqNo]||!1,l.saveJobInterState=n[l.jobSeqNo]||!1}})}},a.prototype.handleSaveJob=function(e){this.isBulkcartEnable&&!e.inProgress&&(e.inProgress=!0,e.saveJobInterState?this.deleteJobFromCart(e):this.addToJobCart(e))},a.prototype.addToJobCart=function(t){var o=this,n={jobSeqNo:t.jobSeqNo};this.commonService.getDDO(this.elementTag,"addToCartV2",n).then(function(n){var i=n.addToCartV2;if(t.inProgress=!1,"602"==i.status){var r={jobSeqNo:t.jobSeqNo,category:t.category};t.saveJobInterState=!0,o.eventAggregator.publish("jobCartCount","+1"),o.eventAggregator.publish("jobCartUpdatedCount",""),e.prototype.trackWidgetClick.call(o,"job_added_to_jobcart",r)}else t.isJobSaved=!1,t.saveJobInterState=!1})},a.prototype.deleteJobFromCart=function(t,o){var n=this;o||(o={jobSeqNo:t.jobSeqNo}),this.commonService.getDDO(this.elementTag,"deleteFromCartV2",o).then(function(o){var i=o.deleteFromCartV2;if(t.inProgress=!1,"605"==i.status){var r={jobSeqNo:t.jobSeqNo,category:t.category};t.isJobSaved=!1,t.saveJobInterState=!1,n.eventAggregator.publish("jobCartCount","-1"),n.eventAggregator.publish("jobCartUpdatedCount",""),e.prototype.trackWidgetClick.call(n,"job_unfavorited",r)}else t.isJobSaved=!0,t.saveJobInterState=!0})},a.prototype.handleReferJob=function(e,t){this.questionnaireMode==r?(this.referMode="showPopup",document.body.classList.add("modal-open"),this.referJob=JSON.parse(JSON.stringify(e)),e.showReferView=!e.showReferView,e.showReferView||(this.referMode="hidePopup",this.closeRefer(e))):"first"==this.questionnaireMode?t?"ph-questionnaire"==t?(e.showReferView=!0,e.showQuestionnaireView=!1):this.closeRefer(e):(document.body.classList.add("modal-open"),e.showReferView=!1,e.showQuestionnaireView=!0,this.referJob=JSON.parse(JSON.stringify(e))):"last"==this.questionnaireMode&&(t?"ph-refer-friend"==t?(e.showReferView=!1,e.showQuestionnaireView=!0):this.closeRefer(e):(document.body.classList.add("modal-open"),e.showReferView=!0,e.showQuestionnaireView=!1,this.referJob=JSON.parse(JSON.stringify(e))))},a.prototype.closeRefer=function(e){e.showReferView=!1,e.showQuestionnaireView=!1,document.body.classList.remove("modal-open"),this.referralId=""},a.prototype.handleJobClick=function(e){var t={params:{widgetId:this.elementTag,widgetview:this.getView(),widgetName:this.getWidgetName(!1)}};e.fitLevel&&(t.params.jobFitLevel=e.fitLevel);var o=(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(0);return this.commonService.storePageTrackEventData(o,e),this.commonService.processTrackingEvent("job_click",o,t,{}),!0},a}(t.PhenomWidget)}),define("ph-common/ph-video-widget",["exports","./index"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PhenomVideoWidget=void 0;e.PhenomVideoWidget=function(e){function t(i,r,a){return o(this,t),n(this,e.call(this,i,r,a))}return i(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.subscribeToEvent("PLAY_VIDEO",this.playVideo),this.subscribeToEvent("PAUSE_VIDEO",this.pauseVideo)},t.prototype.playVideo=function(e){},t.prototype.pauseVideo=function(e){},t.prototype.changeVolume=function(e){},t}(t.PhenomWidget)}),define("ph-common/ph-modal-dialog-display",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(o){t(this,e),this.bodyOverflow="auto",this.activeElement=null,this.canHideDocumentOverflow=!0,this.keyEventCallback=null,this.updateSelectors(o),this.keyEventCallback=this.handleKeyDown.bind(this)}return e.prototype.updateSelectors=function(e){var t=e||{};this.sModalContent=t.sModalContent||".ph-widget-modal-content",this.sPopoverBody=t.sPopoverBody||".popover-body",this.nPopupHide=t.nPopupHide||"popup-hide",this.nPopupShow=t.nPopupShow||"popup-show",this.sFocusToFirstItem=t.sFocusToFirstItem||".popover-main.active .ref-modal-tab-item",this.sTabGaurdEndSrOnly=t.sTabGaurdEndSrOnly||".tabGaurdEndSrOnly",this.sTabGaurdStartSrOnly=t.sTabGaurdStartSrOnly||".tabGaurdStartSrOnly"},e.prototype.show=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.querySelector(this.sModalContent),o=t.querySelector(this.sPopoverBody);o&&(1==e?(o.classList.remove(this.nPopupHide),o.classList.add(this.nPopupShow)):0==e&&(o.classList.remove(this.nPopupShow),o.classList.add(this.nPopupHide)),this.handleModalAriaContent(e))},e.prototype.addFocusToFirst=function(e){if(e=e||document.querySelector(this.sModalContent)){var t=e.querySelector(this.sFocusToFirstItem);t&&t.focus()}},e.prototype.handleKeyDown=function(e){var t=document.querySelector(this.sModalContent);if(t){switch(e.keyCode){case 27:this.show(!1);break;case 9:t&&!t.contains(document.activeElement)&&(this.addFocusToFirst(t),e.preventDefault());break;case 33:case 34:case 38:case 40:t.contains(document.activeElement)&&e.preventDefault()}return!0}},e.prototype.handleModalAriaContent=function(e,t){var o=this;try{var n=!!e,i=t||[".ph-header",".ph-inline-nav-bar",".ph-footer",".ph-widget-main-content"];if(!i.length)return!1;i.forEach(function(e){if(e){var t=document.querySelectorAll(e),o=t&&t.length;if(o){for(var i=void 0,r=0;r<o;r++)i=t[r];i&&i.setAttribute("aria-hidden",n+"")}}});var r=document.querySelector(this.sModalContent);r.setAttribute("aria-hidden",!n+""),e?(this.activeElement=document.activeElement,this.handleDocumentOverflow(!0),document.addEventListener("keydown",this.keyEventCallback),r.querySelector(this.sTabGaurdStartSrOnly).addEventListener("focus",function(e){if(e.stopImmediatePropagation(),r){var t=r.querySelectorAll(o.sFocusToFirstItem);t[t.length-1].focus()}},!0),r.querySelector(this.sTabGaurdEndSrOnly).addEventListener("focus",function(e){e.stopImmediatePropagation(),o.addFocusToFirst(r)},!0),setTimeout(function(){o.addFocusToFirst(r)},40)):(document.removeEventListener("keydown",this.keyEventCallback),this.handleDocumentOverflow(!1),this.activeElement&&this.activeElement.focus())}catch(e){console.info(e)}},e.prototype.handleDocumentOverflow=function(e){"hidden"!==document.body.style.overflow&&(this.bodyOverflow=document.body.style.overflow),e&&this.canHideDocumentOverflow?document.body.style.overflow="hidden":document.body.style.overflow=this.bodyOverflow},e}();e.ModalDailogDisplay=o}),define("ph-common/ph-validation/ph-validation-controller",["exports","validate.js"],function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationController=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.ValidationController=function(){function e(){o(this,e),this.validationObj={},this.validationRules={},this.validationErrors={},this.recentError="",this._prevProperty="",this.validateTrigger="blur",this.validateApi=n.default,this.validateApi.options={fullMessages:!1},this.addCustomValidationProviders()}return e.prototype.equal=function(e,t){for(var o in e)if(e[o]!==t[o])return!1;return!0},e.prototype.isNestedObject=function(e){if(e&&this.validateApi.isArray(e)&&e.length){for(var t=0;t<e.length;t++){var o=e[t];if(this.validateApi.isObject(o))return!0}return!1}},e.prototype.getNestedObjIdx=function(e,t,o){var n=this,i=-1;return this.isNestedObject(t)&&t.forEach(function(t,r){var a=n.validationObj[e];n.validateApi.isArray(a)&&(a=a[r]),n.equal(o,a)&&(i=r)}),i},e.prototype.setDirty=function(e,t,o,n,i,r){return this.validateApi.isArray[this.validationObj[e]]?e==t&&n==o&&this.equal(i,this.validationObj[e][r]):e==t&&n==o&&this.equal(i,this.validationObj[e])},e.prototype.addCustomValidationProviders=function(){var e=this;this.validateApi.validators.objectArray=function(t,o,n,i){var r=[];t&&e.validateApi.isArray(t)&&t.forEach(function(t){var n=e.validateApi(t,o);r.push(n||{})});var a=!1;if(r.forEach(function(e){a=e}),a)return r},this.validateApi.validators.simpleOject=function(t,o,n,i){var r={key:{}};if(t=t||e.validationObj[n]){var a=e.validateApi(t,o);return r.key=a}return r}},e.prototype.addValidationCtx=function(e,t){this.validationObj=e,this.validationRules=t},e.prototype.setValidateTrigger=function(e){this.validateTrigger=e},e.prototype.validate=function(e,t,o){var n=this,i=this.validateApi(this.validationObj,this.validationRules);for(var r in i)if(i.hasOwnProperty(r)&&this.validateApi.isArray(i[r]))for(var a=0;a<i[r].length;a++)this.validateApi.isEmpty(i[r][a])&&(i[r][a]=void 0);for(var s in i)if(i.hasOwnProperty(s)&&this.validateApi.isArray(i[s])){for(var l=!0,c=0;c<i[s].length;c++)if(void 0!=i[s][c]){l=!1;break}l&&delete i[s]}var p=JSON.parse(JSON.stringify(this.validationErrors)),u="";if(i&&e){var d=e.indexOf(".");if(-1!=d&&(e=e.substring(0,d)),this.isNestedObject(i[e])){var f=this.getNestedObjIdx(e,i[e],t);-1!=f&&(p[e]||(p[e]=[{}]),p[e][f]||(p[e][f]={}),i[e]=i[e]||{},o?(i[e][f]=i[e][f]||{},p[e][f][o]=i[e][f][o],u=i[e][f][o],this._prevProperty=e+f+o+""):(p[e][f]=i[e][f],u=i[e][f],this._prevProperty=e+f))}else u=i[e],p[e]=i[e],this._prevProperty=e;u&&(this.recentError="",this.validateApi.isArray(u)&&(u=u[0]),setTimeout(function(){n.recentError=u},6))}else p=i||{};return this.validationErrors=p,this.validationErrors},e.prototype.hasErrors=function(){var e=this.validate();return Object.keys(e).length>0},e}()}),define("ph-common/ph-validation/ph-validate-binding-behavior",["exports","aurelia-framework","aurelia-dependency-injection","./ph-validation-controller"],function(e,t,o,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhValidateBindingBehavior=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},s=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=e.PhValidateBindingBehavior=function(){function e(t){i(this,e),this.container=t}return e.prototype.bind=function(e,t,o){var i=this;this.validationController=this.container.get(n.ValidationController);for(var r=e.sourceExpression.expression.name,a=e.sourceExpression.expression.object,s=void 0,l=void 0;(!e.source.bindingContext.element||a.object)&&a;){l=r,r=a.name+"."+r;var c=e.source.bindingContext[a.name];!c&&a.object&&(c=e.source.bindingContext[a.object.name][a.name]),s=Object.create(c),a=a.object}var p=this.getTarget(e,t);this.validationController.validateTrigger&&(e.validateBlurHandler=function(){i.validationController.validate(r,s,l)},p.addEventListener("blur",e.validateBlurHandler))},e.prototype.unbind=function(e,t){e.validateBlurHandler&&e.validateTarget&&(e.validateTarget.removeEventListener("blur",e.validateBlurHandler),e.validateBlurHandler=null,e.validateTarget=null)},e.prototype.getTarget=function(e,t){var o=e.target;if(o instanceof Element)return o;for(var n=0,i=t.controllers.length;n<i;n++){var r=t.controllers[n];if(r.viewModel===o){var a=r.container.get(DOM.Element);if(a)return a;throw new Error('Unable to locate target element for "'+e.sourceExpression+'".')}}throw new Error('Unable to locate target element for "'+e.sourceExpression+'".')},e}();e.PhValidateBindingBehavior=l=a([(0,t.autoinject)(),s("design:paramtypes",[o.Container])],l)}),define("ph-common/ph-translation/ph-translation-value-converter",["exports","aurelia-framework","./../common-service","./ph-translation-service"],function(e,t,o,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PhtValueConverter=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},s=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=e.PhtValueConverter=function(){function e(t,o){i(this,e),this.commonService=t,this.translationService=o,this.bundle=this.commonService.getLangBundle()}return e.prototype.toView=function(e,t,o,n){if(this.bundle=this.commonService.getLangBundle(),t)return this.translationService.renderLiteral(e,t);var i="";if(e)if(o)for(var r=e.split(o),n=n||" ",a=0;a<r.length;a++){var s=r[a];i+=this.bundle[s]||s,i+=n}else i=this.bundle[e]||e;return i},e}();e.PhtValueConverter=l=a([(0,t.autoinject)(),s("design:paramtypes",[o.CommonService,n.TranslationService])],l)}),define("ph-common/ph-candidate-login-service",["exports","aurelia-framework","./index"],function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.CandidateLoginService=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,o,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(a<3?r(s):a>3?r(t,o,s):r(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=e.CandidateLoginService=function(){function e(t){n(this,e),this.commonService=t,this.providerKey={FACEBOOK:"facebook",MICROSOFT:"microsoft",LINKEDIN:"linkedIn",GOOGLE:"google",LOGIN:"google-signin"}}return e.prototype.getValidateJwtToken=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getLocale=function(){var e=this.commonService.getLocale();return e=e.split("_"),e="/"+e[1]+"/"+e[0]+"/"},e.prototype.socialLoginUrl=function(e,t,n){var i=this.commonService.getQueryParam("qpage")||"";i=decodeURIComponent(i);var r=n.name,a=n.profileValidation,s=n.redirectUri||window.location.href;r&&"linkedin"==r.toLocaleLowerCase()&&(r="linkedIn");var l=this.commonService.getCachedDDO("siteConfig",e);l=l.data&&l.data.siteSettings&&l.data.siteSettings.oauth;var c=this.commonService.getQueryParam("page")||"",p=l[r],u=this.getLocale(),d=this.commonService.getLocale(),f=window.location.pathname;i||(f+=window.location.search);var h={page:f,protocol:window.location.protocol,localePath:u,qpage:i,pagename:c,locale:d,siteVariant:t,rurl:encodeURIComponent(s)};return a&&(h.profileValidation=!0),p?(p.redirectUriPath=this.commonService.getRootDomain()+p.redirectUri,p.state=JSON.stringify(h),this.redirectToProvider(p,r)):(o.logger.debug("provider doesnt exist"),!1)},e.prototype.redirectToProvider=function(e,t){var o=this.providerKey,n=e.loginUrl+"?response_type="+e.response_type+"&";switch(t){case o.MICROSOFT:case o.LINKEDIN:n+="client_id="+encodeURIComponent(e.clientId)+"&";break;case o.GOOGLE:case o.LOGIN:n+="client_id="+encodeURIComponent(e.clientId)+"&access_type=offline&approval_prompt=auto&";break;case o.FACEBOOK:n+="api_key="+encodeURIComponent(e.clientId)+"&"}return!!t&&(n+="redirect_uri="+encodeURIComponent(e.redirectUriPath),e.scope&&(n+="&scope="+encodeURIComponent(e.scope)),e.state&&(n+="&state="+encodeURIComponent(e.state)),n)},e.prototype.getMergeProfile=function(e,t,n){return this.commonService.getDDO(e,t,{}).then(function(e){if((e=e[t])&&"success"==e.status){var n=e.data;if(n&&n.allProfiles&&n.allProfiles.length){var i=[];n.linkedAccountList=[],n.mergeProfilesCount=0,n.allProfiles.forEach(function(e){if(e.hasOwnProperty("merge")||(e.merge=!0),e.hasOwnProperty("validation")&&!n.mergeAuthFlow&&(n.mergeAuthFlow="unsuccessfulMerge",e.validation&&(n.mergeAuthFlow="successfulMerge")),e.merge&&e.linkedAccounts&&e.linkedAccounts.length){for(var t=0;t<e.linkedAccounts.length;t++)-1==i.indexOf(e.linkedAccounts[t].email+""+e.linkedAccounts[t].socialProvider)&&(n.linkedAccountList.push(e.linkedAccounts[t]),i.push(e.linkedAccounts[t].email+""+e.linkedAccounts[t].socialProvider));n.mergeProfilesCount++}})}return n}if("failure"==e.status)return o.logger.debug("Failed"),{}})},e.prototype.doLogout=function(e,t){return this.commonService.getDDO(e,t,{}).then(function(e){return e[t]})},e.prototype.profileMergeCancel=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e}();e.CandidateLoginService=s=r([(0,t.autoinject)(),a("design:paramtypes",[o.CommonService])],s)});