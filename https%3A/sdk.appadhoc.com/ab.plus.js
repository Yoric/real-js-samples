!function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){/*@version: 4.24.0
							@date: 2019-1-30 14:18:48*/
var o=function(e){return null!=e&&void 0!=e},s=function(e){return!o(e)},a=function(e){return e===!0},c=function(e){return e===!1},u=function(e){return"function"==typeof e},d=function(e){return"number"==typeof e},l=function(e){return"[object array]"===Object.prototype.toString.call(e).toLowerCase()},h=function(e){return"object"==("undefined"==typeof e?"undefined":n(e))&&"[object object]"==Object.prototype.toString.call(e).toLowerCase()&&null!=e},f=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];e.apply(t,n.concat(r))}},p=function(){var t;e.console&&u(e.console.log)?(t=e.console).log.apply(t,arguments):null},m=function(){var t;e.console&&u(e.console.warn)?(t=e.console).warn.apply(t,arguments):null},g=function(t){e.console&&u(e.console.warn)?e.console.warn(t):null};e.JSON?null:e.JSON={};var v={stringify:e.JSON.stringify||function(e){var t="undefined"==typeof e?"undefined":n(e);if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var i,r,o=[],s=e&&e.constructor==Array;for(i in e)r=e[i],t="undefined"==typeof r?"undefined":n(r),"string"==t?r='"'+r+'"':"object"==t&&null!==r&&(r=v.stringify(r)),"function"!=t&&o.push((s?"":'"'+i+'":')+String(r));return(s?"[":"{")+String(o)+(s?"]":"}")},parse:e.JSON.parse||function(e){return eval("("+e+")")}},w={each:function(e,t){var i=e&&e.hasOwnProperty("length")?e.length:0;if(i)for(var n=0;n<i&&t(e[n],n)!==!1;n++);},indexOf:function(e,t){var i=e.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=i);n<i;n++)if(n in e&&e[n]===t)return n;return-1},uniquePush:function(e,t){w.indexOf(e,t)===-1&&e.push(t)}},y={keys:Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},assign:Object.assign||function(){for(var e=arguments[0],t=1,i=arguments.length;t<i;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e}},b=function(){function e(e){return u(e)||h(e)}function i(e){return"function"==typeof e}function r(e){Q=e}function o(e){Y=e}function s(){return function(){return process.nextTick(f)}}function a(){return"undefined"!=typeof W?function(){W(f)}:l()}function c(){var e=0,t=new ee(f),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function d(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<G;e+=2){var t=ne[e],i=ne[e+1];t(i),ne[e]=void 0,ne[e+1]=void 0}G=0}function p(){try{var e=require,t=e("vertx");return W=t.runOnLoop||t.runOnContext,a()}catch(i){return l()}}function m(e,t){var i=arguments,n=this,r=new this.constructor(v);void 0===r[oe]&&R(r);var o=n._state;return o?!function(){var e=i[o-1];Y(function(){return M(o,r,e,n._result)})}():I(n,r,e,t),r}function g(e){var t=this;if(e&&"object"==("undefined"==typeof e?"undefined":n(e))&&e.constructor===t)return e;var i=new t(v);return S(i,e),i}function v(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return ue.error=t,ue}}function x(e,t,i,n){try{e.call(t,i,n)}catch(r){return r}}function _(e,t,i){Y(function(e){var n=!1,r=x(i,t,function(i){n||(n=!0,t!==i?S(e,i):A(e,i))},function(t){n||(n=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&r&&(n=!0,T(e,r))},e)}function E(e,t){t._state===ae?A(e,t._result):t._state===ce?T(e,t._result):I(t,void 0,function(t){return S(e,t)},function(t){return T(e,t)})}function k(e,t,n){t.constructor===e.constructor&&n===m&&t.constructor.resolve===g?E(e,t):n===ue?(T(e,ue.error),ue.error=null):void 0===n?A(e,t):i(n)?_(e,t,n):A(e,t)}function S(t,i){t===i?T(t,w()):e(i)?k(t,i,b(i)):A(t,i)}function C(e){e._onerror&&e._onerror(e._result),O(e)}function A(e,t){e._state===se&&(e._result=t,e._state=ae,0!==e._subscribers.length&&Y(O,e))}function T(e,t){e._state===se&&(e._state=ce,e._result=t,Y(C,e))}function I(e,t,i,n){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ae]=i,r[o+ce]=n,0===o&&e._state&&Y(O,e)}function O(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?M(i,n,r,o):r(o);e._subscribers.length=0}}function N(){this.error=null}function P(e,t){try{return e(t)}catch(i){return de.error=i,de}}function M(e,t,n,r){var o=i(n),s=void 0,a=void 0,c=void 0,u=void 0;if(o){if(s=P(n,r),s===de?(u=!0,a=s.error,s.error=null):c=!0,t===s)return void T(t,y())}else s=r,c=!0;t._state!==se||(o&&c?S(t,s):u?T(t,a):e===ae?A(t,s):e===ce&&T(t,s))}function L(e,t){try{t(function(t){S(e,t)},function(t){T(e,t)})}catch(i){T(e,i)}}function D(){return le++}function R(e){e[oe]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function K(e,t){this._instanceConstructor=e,this.promise=new e(v),this.promise[oe]||R(this.promise),$(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):T(this.promise,F())}function F(){return new Error("Array Methods must be provided an Array")}function U(e){return new K(this,e).promise}function q(e){var t=this;return new t($(e)?function(i,n){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(i,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function j(e){var t=this,i=new t(v);return T(i,e),i}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[oe]=D(),this._result=this._state=void 0,this._subscribers=[],v!==e&&("function"!=typeof e&&B(),this instanceof z?L(this,e):H())}function V(){var e=void 0;if("undefined"!=typeof t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(i){}if("[object Promise]"===r&&!n.cast)return}e.Promise=z}var X=void 0;X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $=X,G=0,W=void 0,Q=void 0,Y=function(e,t){ne[G]=e,ne[G+1]=t,G+=2,2===G&&(Q?Q(f):re())},J="undefined"!=typeof window?window:void 0,Z=J||{},ee=Z.MutationObserver||Z.WebKitMutationObserver,te="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),ie="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),re=void 0;re=te?s():ee?c():ie?d():void 0===J&&"function"==typeof require?p():l();var oe=Math.random().toString(36).substring(16),se=void 0,ae=1,ce=2,ue=new N,de=new N,le=0;return K.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===se&&i<e;i++)this._eachEntry(t[i],i)},K.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===g){var r=b(e);if(r===m&&e._state!==se)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===z){var o=new i(v);k(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},K.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===se&&(this._remaining--,e===ce?T(n,i):this._result[t]=i),0===this._remaining&&A(n,this._result)},K.prototype._willSettleAt=function(e,t){var i=this;I(e,void 0,function(e){return i._settledAt(ae,t,e)},function(e){return i._settledAt(ce,t,e)})},z.all=U,z.race=q,z.resolve=g,z.reject=j,z._setScheduler=r,z._setAsap=o,z._asap=Y,z.prototype={constructor:z,then:m,_catch:function(e){return this.then(null,e)}},z.polyfill=V,z.Promise=z,z},x=b(),_=e.XMLHttpRequest,E=function(t){var i=t.url,n=t.data,r=t.timeout;return s(r)?r=3e3:"",new x(function(t,a){try{if(s(n)||s(n.app_key))return a("Please pass your appKey in the init method");var c=new _;"withCredentials"in c||(o(e.XDomainRequest)?(c=new e.XDomainRequest,i=i.replace(/http\w*\:/,e.location.protocol)):a("construct $request failed")),c.onload=function(){t(c.responseText)},c.onerror=function(){a(c.responseText||"network failed")},setTimeout(function(){a(i+" timeout")},r),c.open("POST",i,!0),u(c.setRequestHeader)?c.setRequestHeader("Content-Type","application/json;charset=UTF-8"):"",c.send(v.stringify(n))}catch(d){a(d)}})},k={getAllParams:function(){var t=e.location.search,i={};if(t.indexOf("?")!=-1)for(var n=t.replace(/^\?/,"").split("&"),r=n.length,o=0,s=void 0;o<r;o++)n[o]&&(s=n[o].split("="),i[s[0]]=s[1]);return i},getQueryString:function(t,i){if(i=i||e.location.search.substr(1)){var n=null;return w.each(i.split("&"),function(e){if(0==e.indexOf(t+"="))return n=e.split("=")[1],!1}),o(n)?n:null}return null},getProtocol:function(t){if(s(t))return e.location.protocol;var i=t.match(/http\w*\:/);return i&&1==i.length?i[0]:(m("get protocol failed"),"")},getHost:function(t){return s(t)?e.location.host:(t=t.replace(/http\w*\:\/\//,""),t.indexOf("?")>0?t=t.substr(0,t.indexOf("?")):"",t.indexOf("#")>0?t=t.substr(0,t.indexOf("#")):"",t.split("/")[0])},getPath:function(t){if(s(t))return e.location.pathname;var i=t.replace(/http\w*\:\/\//).split("/");return i.shift(),"/"+i.join("/").replace(/[\?|\#]\S*/,"")},getSearch:function(t){if(s(t))return e.location.search;var i=t.split("?")[1];return i?"?"+i.replace(/\#\S+$/,""):""},getHash:function(t){if(s(t))return e.location.hash;var i=t.split("#")[1];return i?"#"+i:""}},S=function(e){if(e){var t=encodeURIComponent(v.stringify(e)),i="https://zhtest.appadhoc.com/l.gif?m="+t+"&t="+Date.now(),n=document.createElement("img");n.src=i}},C="1.0",A=function(e){e+=C;for(var t=encodeURIComponent(e),i=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t)){var s=o.substring(i.length,o.length);return decodeURIComponent(s)}}return null},T=function(e,t,i,n){e+=C;var r=i?1e3*i:31536e6,s=new Date((new Date).getTime()+r),a="; expires="+s.toUTCString(),c=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+"; path=/;";o(n)&&""!=n&&(c+="domain="+n+";"),document.cookie=c},I=function(e,t,i){e+=C;var n=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;Max-Age=-99999999";o(i)&&""!=i&&(n+="domain="+i+";"),document.cookie=n},O={set:T,get:A},N={getCookies:function(e){for(var t=[],i=encodeURIComponent(e),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);0===o.indexOf(i)&&t.push(o)}return t},delCookies:function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(t+C),s=o+"=";if(0===r.indexOf(o)){var a=r.substring(s.length,r.length);I(t,decodeURIComponent(a),i),I(t,decodeURIComponent(a),"")}}}};try{e.localStorage.setItem("_adhoc_test_",1),O.setItem=function(t,i){e.localStorage.setItem(t,i)},O.getItem=function(t){return e.localStorage.getItem(t)},O.removeItem=function(t){return e.localStorage.removeItem(t)}}catch(P){O.setItem=function(){},O.getItem=function(){},O.removeItem=function(){}}var M={$:function(e){for(var t=e.match(/(\w|\-)+(?=\[)/g),i=e.match(/\d+(?=\])/g),n=document.body,r=0,o=i.length;r<o;r++){var a=t[r].toLowerCase(),c=i[r];if("body"!=a){if(!n)return null;for(var u=n.childNodes,d=-1,l=0,h=u.length;l<h;l++){var f=u[l];if(1===f.nodeType&&f.nodeName.toLowerCase()==a){d++;var p=f.getAttribute(K);if(p==c){n=f,d=p;break}if(s(p)&&d==c){n=f;break}}}if(d!=c){n=null;break}}}return n},addEvent:function(e,t,i,n,r,o){var s=e,a=!!o&&o,c=null;r&&(s=r===!0?n:r),c=function(e){return i.call(s,e||window.event)};try{e.addEventListener(t,c,a)}catch(u){try{e.attachEvent("on"+t,c)}catch(d){e["on"+t]=c}}},findParentNodeByTag:function(e,t){for(;e!=document&&e.parentNode.tagName&&e.parentNode.tagName.toLowerCase()!=t;)e=e.parentNode;return e==document||e.parentNode==document?null:e.parentNode},next:function _e(e){var _e=e.nextSibling;if(!_e)return null;if("#text"===_e.nodeName&&3===_e.nodeType)return _e;for(;_e&&1!=_e.nodeType;)_e=_e.nextSibling;return _e},ready:function(e){"function"==typeof e&&setTimeout(function(){return"complete"===r.readyState?e():M.ready(e)},0)},getChildren:function(e,t){for(var i=[],n=e.childNodes,r=0,o=n.length;r<o;r++){var s=n[r];1===s.nodeType&&s.tagName&&"style"!=s.tagName.toLowerCase()&&"script"!=s.tagName.toLowerCase()&&(t?s.tagName&&s.tagName.toLowerCase&&t==s.tagName.toLowerCase()&&i.push(s):i.push(s))}return i},getDoms:function(e){var t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,i=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(t.test(e)){var n=t.exec(e);return document.getElementById(n[2])}if(i.test(e)){for(var r=i.exec(e),o=document.getElementsByTagName("*"),s=[],a=0,c=o.length;a<c;a++)o[a].className.match(new RegExp("(\\s|^)"+r[2]+"(\\s|$)"))&&s.push(o[a]);return s}},querySelectorPolyfill:function(){document.querySelectorAll||(document.querySelectorAll=function(e){var t,i=document.createElement("style"),n=[];for(document.documentElement.firstChild.appendChild(i),document._qsa=[],i.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),i.parentNode.removeChild(i);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),n.push(t);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null})},isChildsOnlyText:function(e){for(var t=e.childNodes,i=void 0,n=0;n<t.length;n++)"#text"!=t[n].nodeName?"BR"!=t[n].nodeName&&(i=!1):i=!0;return i}},L=void 0,D={setName:function(t){e.name=e.ADHOC_WINDOW_NAME=L=t},getName:function(){return L||document.referrer}};D.setName(e.name);var R="data-ab-origin-sequence",K="data-ab-origin-tag-sequence",F=void 0;!function(){var e="0.7.19",t="",i="?",r="function",o="object",s="string",a="major",c="model",u="name",d="type",l="vendor",h="version",f="architecture",p="console",m="mobile",g="tablet",v="smarttv",w="wearable",y="embedded",b={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2===0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return("undefined"==typeof e?"undefined":n(e))===s?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},x={rgx:function(e,t){for(var i,s,a,c,u,d,l=0;l<t.length&&!u;){var h=t[l],f=t[l+1];for(i=s=0;i<h.length&&!u;)if(u=h[i++].exec(e))for(a=0;a<f.length;a++)d=u[++s],c=f[a],("undefined"==typeof c?"undefined":n(c))===o&&c.length>0?2==c.length?n(c[1])==r?this[c[0]]=c[1].call(this,d):this[c[0]]=c[1]:3==c.length?n(c[1])!==r||c[1].exec&&c[1].test?this[c[0]]=d?d.replace(c[1],c[2]):void 0:this[c[0]]=d?c[1].call(this,d,c[2]):void 0:4==c.length&&(this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):void 0):this[c]=d?d:void 0;l+=2}},str:function(e,t){for(var r in t)if(n(t[r])===o&&t[r].length>0){for(var s=0;s<t[r].length;s++)if(b.has(t[r][s],e))return r===i?void 0:r}else if(b.has(t[r],e))return r===i?void 0:r;return e}},_={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},E={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,h],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],h],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,h],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],h],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],h],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],h],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],h],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],h],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],h],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],h],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],h],[/(qqbrowserlite)\/([\w\.]+)/i],[u,h],[/(QQ)\/([\d\.]+)/i],[u,h],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,h],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[u,h],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,h],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[h,[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,h],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[h,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],h],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],h],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[h,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,h],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],h],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],h],[/fxios\/([\w\.-]+)/i],[h,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,u],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[h,x.str,_.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],h],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,l,[d,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[l,"Apple"],[d,g]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,c,[d,g]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[l,"Amazon"],[d,g]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,x.str,_.device.amazon.model],[l,"Amazon"],[d,m]],[/android.+aft([bms])\sbuild/i],[c,[l,"Amazon"],[d,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,l,[d,m]],[/\((ip[honed|\s\w*]+);/i],[c,[l,"Apple"],[d,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,c,[d,m]],[/\(bb10;\s(\w+)/i],[c,[l,"BlackBerry"],[d,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[l,"Asus"],[d,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[c,"Xperia Tablet"],[d,g]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[l,"Sony"],[d,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,c,[d,p]],[/android.+;\s(shield)\sbuild/i],[c,[l,"Nvidia"],[d,p]],[/(playstation\s[34portablevi]+)/i],[c,[l,"Sony"],[d,p]],[/(sprint\s(\w+))/i],[[l,x.str,_.device.sprint.vendor],[c,x.str,_.device.sprint.model],[d,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,c,[d,g]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[c,/_/g," "],[d,m]],[/(nexus\s9)/i],[c,[l,"HTC"],[d,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[c,[l,"Huawei"],[d,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,c,[d,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[l,"Microsoft"],[d,p]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[l,"Microsoft"],[d,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[l,"Motorola"],[d,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[l,"Motorola"],[d,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,b.trim],[c,b.trim],[d,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[l,"Samsung"],[d,v]],[/\(dtv[\);].+(aquos)/i],[c,[l,"Sharp"],[d,v]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],c,[d,g]],[/smart-tv.+(samsung)/i],[l,[d,v],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],c,[d,m]],[/sie-(\w*)/i],[c,[l,"Siemens"],[d,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],c,[d,m]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[l,"Acer"],[d,g]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[l,"LG"],[d,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],c,[d,g]],[/(lg) netcast\.tv/i],[l,c,[d,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[l,"LG"],[d,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[l,"Lenovo"],[d,g]],[/linux;.+((jolla));/i],[l,c,[d,m]],[/((pebble))app\/[\d\.]+\s/i],[l,c,[d,w]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,c,[d,m]],[/crkey/i],[[c,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[c,[l,"Google"],[d,w]],[/android.+;\s(pixel c)[\s)]/i],[c,[l,"Google"],[d,g]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[c,[l,"Google"],[d,m]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[l,"Xiaomi"],[d,m]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[l,"Xiaomi"],[d,g]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[l,"Meizu"],[d,g]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],c,[d,m]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[c,[l,"OnePlus"],[d,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[l,"RCA"],[d,g]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[l,"Dell"],[d,g]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[l,"Verizon"],[d,g]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],c,[d,g]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[l,"NuVision"],[d,g]],[/android.+;\s(k88)\sbuild/i],[c,[l,"ZTE"],[d,g]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[l,"Swiss"],[d,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[l,"Swiss"],[d,g]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[l,"Zeki"],[d,g]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],c,[d,g]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[l,"Insignia"],[d,g]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[l,"NextBook"],[d,g]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],c,[d,m]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],c,[d,m]],[/android.+;\s(PH-1)\s/i],[c,[l,"Essential"],[d,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[l,"Envizen"],[d,g]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,c,[d,g]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[l,"MachSpeed"],[d,g]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,c,[d,g]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[l,"Rotor"],[d,g]],[/android.+(KS(.+))\s+build/i],[c,[l,"Amazon"],[d,g]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,c,[d,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,b.lowerize],l,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[d,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,h],[/rv\:([\w\.]{1,9}).+(gecko)/i],[h,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[h,x.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[h,x.str,_.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[u,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],h],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],h],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],h],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,h],[/(haiku)\s(\w+)/i],[u,h],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,h]]},k=function(e,i){"object"===("undefined"==typeof e?"undefined":n(e))&&(i=e,e=void 0);var r=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t),o=i?b.extend(E,i):E;return this.getBrowser=function(){var e={name:void 0,version:void 0};return x.rgx.call(e,r,o.browser),e.major=b.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return x.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return x.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return x.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return x.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};k.VERSION=e,k.BROWSER={NAME:u,MAJOR:a,VERSION:h},k.CPU={ARCHITECTURE:f},k.DEVICE={MODEL:c,VENDOR:l,TYPE:d,CONSOLE:p,MOBILE:m,SMARTTV:v,TABLET:g,WEARABLE:w,EMBEDDED:y},k.ENGINE={NAME:u,VERSION:h},k.OS={NAME:u,VERSION:h};var S=function(e){if(!e)return"";var t=e.split("."),i="";return t.length>0&&(i+=t[0]),t.length>1&&(i+="."+t[1]),i},C=new k,A=C.getResult(),T={},I=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||"",O="",N="",P=I.indexOf("-");P>0&&(O=I.substr(P+1).toUpperCase(),I=I.substr(0,P),N=I+"_"+O);var M=navigator.userAgent.toLocaleLowerCase();if(null!=M.match(/chrome/)){var L=function(e,t){var i=navigator.mimeTypes;for(var n in i)if(i[n][e]==t)return!0;return!1},D=L("type","application/vnd.chromium.remoting-viewer");D&&(A.browser.name="360")}if("iOS"==A.os.name?A.os.name="iPhone OS":"Android"==A.os.name?A.os.name="google_android":"Windows"==A.os.name&&"mobile"!=A.device.type?A.device.type="PC":"Mac OS"==A.os.name&&"mobile"!=A.device.type&&(A.device.type="Mac"),"Mobile Safari"==A.browser.name?A.browser.name="Safari":"IEMobile"==A.browser.name?A.browser.name="IE":"Opera Mini"==A.browser.name&&(A.browser.name="Opera"),T={sdk_api_version:"2.0",sdk_version:"4.24.0",OS:A.os.name||"",os_version:S(A.os.version),os_version_name:A.os.version||"",device_model:A.device.model||navigator.platform||"",country:O,language:I,locale:N,display_height:window.innerHeight||document.documentElement.clientHeight,display_width:window.innerWidth||document.documentElement.clientWidth,device_type:A.device.type||"",device_vendor:A.device.vendor||"",url:window.location.href,referrer:document.referrer,browser:A.browser.name||"",browser_version:S(A.browser.version),browser_version_name:A.browser.version||"",browser_engine:A.engine.name||"",source:""},!A.browser.name||!A.browser.version||!A.engine.name){var R=A.ua.match(/(bot|crawl|slurp|spider)/i);R&&(T.browser="__spider__")}F=T}();var U=F,q=function(e){U.source=e},j=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},B="ADHOC_MEMBERSHIP_CLIENT_ID",H=function(){function e(t,n,r){i(this,e);try{var s=O.get(B);if(r){var a=N.getCookies(B);N.delCookies(a,B,r)}this.id=o(n)?n:o(s)?s:j(),o(n)||o(s)||O.removeItem("ADHOC_EXP_INFO_"+t),o(n)&&o(s)&&n!=s&&O.removeItem("ADHOC_EXP_INFO_"+t),O.set(B,this.id,"",r)}catch(c){g(c)}}return e.prototype.getId=function(){return this.id},e.prototype.update=function(e){o(e)?this.id=e:null},e}(),z=function(t){return new x(function(i,n){try{e._adhoc_config_env_="production",e._adhoc_md5_=t;var o=r.createElement("script");o.onload=function(){i("editor ready")},o.onerror=function(){n("load editor failed")},o.setAttribute("charset","utf-8"),o.src=e.setAbtestingEditorUrl||"https://editor.appadhoc.com/adhoc-editor.js?v="+(new Date).getTime();var s=r.getElementsByTagName("head")[0];s.appendChild(o)}catch(a){n(a)}})},V=function(){function e(t){i(this,e),this.expList=[],this.usedFlagMap={},this.onMatch=t,this.use=f(this.use,this)}return e.prototype.setExpList=function(e){this.expList=e},e.prototype.use=function(e){var t=this;this.usedFlagMap.hasOwnProperty(e)||(this.usedFlagMap[e]=!0,w.each(this.expList,function(e,i){if(!h(e))return!0;var n=!0;w.each(e.flags,function(e){if(!t.usedFlagMap.hasOwnProperty(e))return n=!1,!1}),a(n)&&t.expList[i]&&t.onMatch(t.expList.splice(i,1)[0])}))},e}(),X=function(){function t(n){var r=this;i(this,t);var s=n.appKey,a=n.clientId,u=n.custom,d=n.onMatch,l=n.defaultFlags,h=n.noStorage,f=n.experimentCache;this.matchedExpIdsList=[],this.matchedExpsList=[],this.adhocMatchExp=new V(function(e){r.matchedExpIdsList.push(e.id),r.matchedExpsList.push(e),d(e)}),this.promise=new x(function(i,n){try{var r="ADHOC_EXP_INFO_"+s,d=O.getItem(r),p=!1;if(f&&o(d)&&c(h))try{var m=v.parse(e.decodeURIComponent(d));i(m),p=!0}catch(w){g(w)}E({url:t.protocol+"//experiment."+t.domain+"/get_flags_async",data:{app_key:s,client_id:a,
summary:U,custom:u},timeout:t.timeout}).then(function(t){var n=v.parse(t);c(p)&&(p=!0,i(n)),c(h)&&O.setItem(r,e.encodeURIComponent(t))})._catch(function(e){c(p)&&(i({experiments:[],flags:l}),p=!0)})}catch(w){i({experiments:[],flags:l})}}).then(function(e){return r.adhocMatchExp.setExpList(e.experiments),{expInfoOrigin:e,flags:r.expInfo2FlagObj(e)}})._catch(function(e){return m("get flag failed!\n"+e),{expInfoOrigin:l,flags:r.expInfo2FlagObj({flags:l})}})}return t.prototype.getFlags=function(e){return this.promise.then(function(t){return u(e)&&e(t.flags),t}),this},t.prototype.getMatchedExpIds=function(){return this.matchedExpIdsList},t.prototype.getMatchedExps=function(){return this.matchedExpsList},t.prototype.expInfo2FlagObj=function(e){var t=e.flags,i=this.adhocMatchExp.use;return{get:function(e){return t.hasOwnProperty(e)&&i(e),t[e]},all:function(){return t}}},t}();X.domain="appadhoc.com",X.protocol=e.location.protocol,X.timeout=void 0;var $=function(){function e(t){i(this,e);var n=t.appKey,r=t.clientId,o=t.custom;this.appKey=n,this.clientId=r,this.custom=o,this.cachedStats=[]}return e.prototype.track=function(e,t,i,r){var o=this;l(t)||(t=[t]),w.each(t,function(t,r){var s=1;"number"==typeof i&&(s=i),"object"===("undefined"==typeof i?"undefined":n(i))&&i.hasOwnProperty("length")&&(s=r<i.length?i[r]:1);var a={key:t,value:s,timestamp:Math.round((new Date).getTime()/1e3),experiment_ids:e};o.cachedStats.push(a)}),u(r)?"":r=function(){},e.length>0?(this.send(e,this.cachedStats,r),this.cachedStats=[]):r("no matchedExpId")},e.prototype.send=function(t,i,n){w.each(i,function(e,n){i[n].experiment_ids=t}),""!=U.OS&&""!=U.browser_engine&&window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("spider")<0&&E({url:e.protocol+"//tracker."+e.domain+"/tracker",timeout:e.timeout,data:{app_key:this.appKey,client_id:this.clientId,summary:U,custom:this.custom,stats:i}}).then(function(){n(null)})._catch(function(e){n(e)})},e}();$.domain="appadhoc.com",$.protocol=e.location.protocol,$.timeout=void 0;var G=function(){function e(){i(this,e);var t=r.createElement("style");t.setAttribute("type","text/css"),s(t.styleSheet)&&t.appendChild(r.createTextNode("")),r.getElementsByTagName("head")[0].appendChild(t),this.s=t,this.hiddenElementMap={}}return e.prototype.update=function(){var e=[];for(var t in this.hiddenElementMap)e.push(t);var i=0==e.length?"":e.join(",")+"{opacity:0 !important; filter:alpha(opacity=0) !important; background:none !important;visibility:hidden !important;}";this.s.styleSheet?this.s.styleSheet.cssText=i:this.s.innerHTML=i},e.prototype.hide=function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];w.each(i,function(t){e.hiddenElementMap[t]=!0}),this.update()},e.prototype.show=function(){var e=this;try{for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];0==i.length?this.hiddenElementMap={}:w.each(i,function(t){delete e.hiddenElementMap[t]}),this.update()}catch(r){g(r)}},e.prototype.xPath2Css=function(e){var t=e.match(/\w+(?=\[)/g);if("IE"==U.browser&&Math.floor(U.browser_version)<=8)return t.join(">");var i=e.match(/\d+(?=\])/g),n=[];return w.each(t,function(e,t){n.push(e+":nth-of-type("+(parseInt(i[t])+1)+")")}),n.join(">")},e.prototype.log=function(){console.log(this.s.styleSheet.cssText)},e}(),W=function(e,t){w.each(e,function(e){"domXpath"==e.mode?w.each(e.elemId,function(i){!function(e,i){var n=t.xPath2Css(e),r=function a(){var r=M.$(e);if(o(r)){r.setAttribute("data-adhoc-stat","true");var c=r.tagName.toLowerCase(),u=r.getAttribute("type");u?u=u.toLowerCase():null;var d=r.getAttribute("target"),l=r.getAttribute("href");"a"==c&&s(d)&&o(l)&&l.indexOf("http")>-1||"input"==c&&"submit"==u||"input"==c&&"image"==u||"button"==c&&"submit"==u?Q(r,i):M.addEvent(r,"click",function(){adhoc("track",i,1,function(){},!0)}),t.show(n)}else setTimeout(a)};setTimeout(r)}(i,e.statName)}):w.each(e.doms,function(i){!function(e,i){var r=function a(){var r=void 0,c=void 0,u=void 0;switch(e.mode){case"domXpath":r=M.$(e.id),c=t.xPath2Css(e.id);break;case"class":u=e.id.split(" "),r=u.length>1?document.querySelectorAll("["+e.mode+"='"+e.id+"']"):M.getDoms("."+e.id),c=u.length>1?"["+e.mode+"='"+e.id+"']":"."+e.id;break;case"id":u=e.id.split(" "),r=u.length>1?document.querySelectorAll("["+e.mode+"='"+e.id+"']"):document.getElementById(e.id),c=u.length>1?"["+e.mode+"='"+e.id+"']":"#"+e.id;break;default:r=document.querySelectorAll("["+e.mode+"='"+e.id+"']"),c="["+e.mode+"='"+e.id+"']"}if(o(r)&&"object"===("undefined"==typeof r?"undefined":n(r))&&void 0!=r.length&&r.length>0||o(r)&&"object"===("undefined"==typeof r?"undefined":n(r))&&void 0==r.length){var d=function(e){e.setAttribute("data-adhoc-stat","true");var n=e.tagName.toLowerCase(),r=e.getAttribute("type");r?r=r.toLowerCase():null;var a=e.getAttribute("target"),u=e.getAttribute("href");"a"==n&&s(a)&&o(u)&&u.indexOf("http")>-1||"input"==n&&"submit"==r||"input"==n&&"image"==r||"button"==n&&"submit"==r?Q(e,i):M.addEvent(e,"click",function(){adhoc("track",i,1,function(){},!0)}),t.show(c)};if(r.length&&r.length>=1)for(var l=0;l<r.length;l++)d(r[l]);else d(r)}else setTimeout(a)};setTimeout(r)}(i,e.statName)})})},Q=function(t,i){var n=o(t.tagName)?t.tagName.toLowerCase():"";t.adhocVisualClicked=!1;var s=function(){try{if(t&&t.dispatchEvent){var e=r.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}else t.click()}catch(i){g(i)}};if("a"==n){var c=t.parentNode,d=M.next(t),l=t.cloneNode(!0);l.removeAttribute("onclick"),l.setAttribute("href","javascript:;"),M.addEvent(l,"click",function(n){a(t.adhocVisualClicked)||(o(n)&&u(n.preventDefault)?n.preventDefault():n.returnValue=!1,t.adhocVisualClicked=!0,adhoc("track",i,1,function(){t.adhocVisualClicked=!1;var i=l.getAttribute("href");"javascript:;"==i?s():e.location.href=i},!0))}),c.removeChild(t),c.insertBefore(l,d)}else{var h=M.findParentNodeByTag(t,"form");if(o(h)){var f=null;M.addEvent(t,"click",function(){f=t}),M.addEvent(h,"submit",function(e){a(t.adhocVisualClicked)||f!=t||(t.adhocVisualClicked=!0,o(e)&&u(e.preventDefault)?e.preventDefault():e.returnValue=!1,adhoc("track",i,1,function(){s(),t.adhocVisualClicked=!1},!0))})}else M.addEvent(t,"click",function(){adhoc("track",i,1,function(){},!0)})}},Y=function(e,t){w.each(e,function(e){Z(J(e.changes),t)})},J=function(e){for(var t=e.slice(),i=[],n=0,r=e.length;n<r;n++){for(var o=t[n],s=!1,a=n+1;a<r;a++){var c=t[a];if("src"==c.key&&"src"==o.key&&c.id==o.id&&c.type==o.type&&c.mode==o.mode){s=!0;break}}s||i.push(o)}return i},Z=function(e,t){var i=[];w.each(e,function(e){!function(e){var n=void 0,r=function o(){var r=void 0,a=void 0;switch(e.mode){case"domXpath":r=M.$(e.id),n=t.xPath2Css(e.id);break;case"class":a=e.id.split(" "),r=a.length>1?document.querySelectorAll("["+e.mode+"='"+e.id+"']"):M.getDoms("."+e.id),n=a.length>1?"["+e.mode+"='"+e.id+"']":"."+e.id;break;case"id":a=e.id.split(" "),r=a.length>1?document.querySelectorAll("["+e.mode+"='"+e.id+"']"):document.getElementById(e.id),n=a.length>1?"["+e.mode+"='"+e.id+"']":"#"+e.id;break;default:r=document.querySelectorAll("["+e.mode+"='"+e.id+"']"),n="["+e.mode+"='"+e.id+"']"}if(s(r)||l(r)&&0==r.length||0==r.length)return void setTimeout(o);var c=function(t){switch(e.type){case"attr":if(t.tagName&&"img"==t.tagName.toLowerCase()&&"src"==e.key.toLowerCase()){var n=void 0;i.indexOf(t)==-1&&(n=t.style.visibility),t.style.visibility="hidden",i.push(t);var r=new Image;r.onload=function(){t.setAttribute("src",e.val),setTimeout(function(){t.style.visibility=n},100),t.onload=function(){t.getAttribute("src")!=e.val&&t.setAttribute("src",e.val)}},r.onerror=function(){t.style.visibility=n},r.src=e.val}else t.setAttribute(e.key,e.val);break;case"html":t.outerHTML=e.val;break;case"text":M.isChildsOnlyText(t)?t.innerHTML=e.val:t.innerText=e.val;break;case"style":var o=void 0;"ie"==U.browser.toLowerCase()&&"7.0"==U.browser_version?(o=t.style.cssText||"",t.style.cssText=o+";"+e.val):(o=t.getAttribute("style")||"",t.setAttribute("style",o+";"+e.val));break;case"drag":var a=M.$(e.val),c=a.parentNode;"after"==e.key&&(a=M.next(a)),c.insertBefore(t,a);break;case"sequence":l(e.val)&&(w.each(M.getChildren(t),function(e,i){e&&(s(e.getAttribute(R))&&e.setAttribute(R,i),s(e.getAttribute(K))&&w.each(M.getChildren(t,e.tagName.toLowerCase()),function(e,t){s(e.getAttribute(K))&&e.setAttribute(K,t)}))}),w.each(e.val.reverse(),function(e){var i=M.getChildren(t);i[e]&&s(i[e].getAttribute(R))?t.insertBefore(i[e],i[0]):w.each(i,function(n){n.getAttribute(R)==e&&t.insertBefore(n,i[0])})}))}};if(r.length&&r.length>=1)for(var u=0;u<r.length;u++)c(r[u]);else c(r);t.show(n)};setTimeout(r)}(e)})},ee=function(e){var t=new G,i=[],n=[],r=[];w.each(e,function(e){return!!s(e)||(l(e.changes)&&(w.each(e.changes,function(e){"domXpath"==e.mode&&n.push(t.xPath2Css(e.id))}),i.push(e)),void(l(e.stats)&&w.each(e.stats,function(e){"domXpath"==e.mode&&w.each(e.elemId,function(e){n.push(t.xPath2Css(e))}),r.push(e)})))}),t.hide.apply(t,n),W(r,t),Y(i,t)},te=function(t,i,n,r,u,d){return new x(function(l,f){var p=t.all(),m=ne(i);if(c(m))return f("no referrer in control group");var g=[],w=null;for(var y in p){var b=p[y],x=void 0;try{x=v.parse(b)}catch(_){continue}for(var E in x){var k=x[E];if(!s(k)&&!s(k.mode)){var S="regex"==k.mode?k.regexp:k.url;if(a(oe(m,S,k.mode,u))){var C=e.navigator&&e.navigator.userAgent?e.navigator.userAgent:"";if(o(k.ua)&&c(new RegExp(k.ua,"i").test(C)))continue;var A=k.data||{};if(s(w)&&o(A.newPageUrl)&&i!=he.SPLIT&&""!=A.newPageUrl){if(0!=A.newPageUrl.indexOf("http"))return void f("newPageUrl error!\n"+k.newPageUrl);w={newUrl:A.newPageUrl,originUrl:m}}else t.get(y);g.push(k.data)}}}}if(h(w)){var T=ie(w,n,r,d);D.setName(w.originUrl);Math.random();e.location.replace(T),setTimeout(function(){f("redirect failed")},1e3)}else try{ee(g),l()}catch(_){f(_)}})},ie=function(e,t,i,n){var r=e.newUrl,s=se(r)+("?"+fe.SPLIT+"="+t),a=k.getSearch(r);if(a&&(s+="&"+a.substr(1)),c(i)){var u=k.getSearch(e.originUrl).substr(1).split("&"),d=[];w.each(u,function(e,t){if(o(e)&&e.indexOf("adhoc")>-1||""==e)d.push(e);else if(n.length>0){var i=e.match(/(\S*)=/)[1];n.indexOf(i)==-1?d.push(e):""}}),w.each(d,function(e){var t=u.indexOf(e);t>-1?u.splice(t,1):""}),u.length>0?s+="&"+u.join("&"):null}var l=k.getHash(r);return"#"==l?l="":"",s+=l},ne=function(t){var i=void 0;if(t==he.SPLIT){if(i=D.getName(),!i||i.indexOf("http")<0)return!1}else i=e.location.href;var n=k.getProtocol(i),r=k.getHost(i),o=k.getPath(i),s=k.getHash(i),a=k.getSearch(i),c="";if(a.length>0&&0==a.indexOf("?")){var u=a.substr(1).split("&"),d=u.length;w.each(u,function(e,t){return""==e||e.indexOf("adhoc_force_client_id")>=0||(c+=e,void(t<d-1&&(c+="&")))}),c.length>0&&(c="?"+c)}return n+"//"+r+o+c+s},re=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},oe=function(t,i,n,r){switch(t=re(t),i=re(i),n){case"regex":return new RegExp(i.replace("?","\\?").replace(/\*/g,"\\S*")+"$").test(t);case"equal":if(a(r)){if(se(i)==se(t)&&k.getHash(i)==k.getHash(t)){var o="&"+k.getSearch(t).substr(1)+"&",s=k.getSearch(i).substr(1).split("&"),c=!0;return w.each(s,function(e){return""==e||(o.indexOf("&"+e+"&")<0?(c=!1,!1):void 0)}),c}return!1}if(i.indexOf("?")>-1||i.indexOf("#")>-1){var u=k.getProtocol(t)+k.getHost(t)+k.getPath(t)+k.getSearch(t)+k.getHash(t),d=k.getProtocol(i)+k.getHost(i)+k.getPath(i)+k.getSearch(i)+k.getHash(i);return e.decodeURIComponent(u)==e.decodeURIComponent(d)}return se(t)==se(i)}},se=function(e){return k.getProtocol(e)+"//"+k.getHost(e)+k.getPath(e)},ae="ADHOC_CROSS_PAGE_EXPIDS",ce=1800,ue=function(){function e(t,n){i(this,e);var r=O.get(ae)||"[]";this.ids=v.parse(r),this.domain=t,this.duration=n||ce}return e.prototype.getCrossExpIds=function(){return this.ids},e.prototype.concatExp=function(e){var t=this;return w.each(e,function(e){w.uniquePush(t.ids,e)}),this.ids},e.prototype.save=function(e){w.uniquePush(this.ids,e),O.set(ae,v.stringify(this.ids),this.duration,this.domain)},e}(),de=function(){function e(){i(this,e),this.events={}}return e.prototype.on=function(e,t){this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},e.prototype.trigger=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.shift(),r=this.events[n];if(void 0!=r)for(var o=0;o<r.length;o++)r[o].apply(null,t)},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}(),le=de.getInstance(),he={EDITOR:"editor",SPLIT:"split",FORCE_CLIENT:"force_client",NORMAL:"normal"},fe={SPLIT:"__adhoc_split_id__",FORCE_CLIENT:"adhoc_force_client_id",APP_KEY:"appKey"},pe=function(){function t(){i(this,t),this.appKey=void 0,this.client=void 0,this.mode=void 0,this.exp=void 0,this.tracker=void 0,this.style=new G,this.crossExp=void 0,this.event=le,this.experimentCache=void 0,this.urlKeys=[]}return t.prototype.init=function(t){var i={appKey:void 0,clientId:void 0,defaultFlags:{},custom:{},stopUrlParams:!1,filterUrlParams:!1,protocol:e.location.protocol,domain:"appadhoc.com",timeout:3e3,crossDomain:void 0,crossDomainDuration:void 0,experimentCache:!0,urlKeys:[],clientIdDomain:void 0,sourceKey:void 0};if(y.assign(i,t),s(i.appKey))return g("adhoc needs an appKey, get it from your abtesting web console please");if(o(this.appKey))return g("please just init adhoc once");this.appKey=i.appKey,this.client=new H(i.appKey,i.clientId,i.clientIdDomain),this.custom=i.custom||{},this.defaultFlags=h(i.defaultFlags)?i.defaultFlags:{},this.stopUrlParams=!!i.stopUrlParams,this.filterUrlParams=!!i.filterUrlParams,this.crossDomain=i.crossDomain,this.experimentCache=i.experimentCache,this.urlKeys=i.urlKeys,this.clientIdDomain=i.clientIdDomain,this.sourceKey=i.sourceKey,this.crossExp=new ue(this.crossDomain,i.crossDomainDuration),X.domain=$.domain=i.domain,X.protocol=$.protocol=i.protocol,X.timeout=$.timeout=i.timeout,this.setOverlay(!0),this.sourceKey&&k.getQueryString(this.sourceKey)&&q(k.getQueryString(this.sourceKey));var n=k.getQueryString(fe.SPLIT),r=k.getQueryString(fe.FORCE_CLIENT),a=/openSDK/.test(D.getName())?he.EDITOR:n?he.SPLIT:r?he.FORCE_CLIENT:he.NORMAL;switch(this.mode=a,a){case he.EDITOR:k.getQueryString(fe.APP_KEY,D.getName())===this.appKey?(this.setOverlay(!1),z(this.appKey)._catch(function(e){g("init editor failed! \n "+e)})):(this.setOverlay(!1),alert("appkey error"));break;case he.SPLIT:this.initSDK(n);break;case he.FORCE_CLIENT:this.initSDK(r);break;case he.NORMAL:default:this.initSDK()}},t.prototype.initSDK=function(e){var t=this,i=this.mode==he.FORCE_CLIENT;this.mode==he.SPLIT&&D.getName().indexOf("force_client_id")>0&&(i=!0),o(e)?this.client.update(e):"",this.exp=new X({appKey:this.appKey,clientId:this.client.getId(),custom:this.custom,noStorage:i,experimentCache:this.experimentCache,defaultFlags:this.defaultFlags,onMatch:function(e){t.event.trigger("MatchExperiment",e),t.tracker.track([e.id],"Event-GET_EXPERIMENT_FLAGS",1),t.event.trigger("Track",{statname:"PV",expids:[e.id],value:1}),t.crossDomain&&t.crossExp.save(e.id)}}).getFlags(function(e){te(e,t.mode,t.client.getId(),t.stopUrlParams,t.filterUrlParams,t.urlKeys).then(function(){t.setOverlay(!1),t.event.trigger("rander")})._catch(function(e){t.event.trigger("rander"),t.setOverlay(!1),g(e)})}),this.tracker=new $({appKey:this.appKey,clientId:this.client.getId(),custom:this.custom})},t.prototype.getFlags=function(e){o(this.exp)?this.exp.getFlags(function(t){u(e)&&e(t)}):g("please try:\n\tadhoc('init', {appKey: 'your adhoc appKey'})")},t.prototype.track=function(e,t,i){if(o(this.tracker)){var n=this.crossExp.concatExp(this.exp.getMatchedExpIds());this.tracker.track(n,e,t,i),n&&0!=n.length&&this.event.trigger("Track",{statname:e,expids:n,value:t})}else u(i)?i("no matchedExpId"):"",g("please try:\n\tadhoc('init', {appKey: 'your adhoc appKey'})")},t.prototype.getMatchedExpIds=function(){return this.exp.getMatchedExpIds()},t.prototype.getMatchedExps=function(){return this.exp.getMatchedExps()},t.prototype.getCurClientId=function(){return this.client.id},t.prototype.corssTrack=function(e,t,i,n){var r=new $({appKey:e.appKey,clientId:e.clientId,custom:e.custom||{}});r.track(e.expids,t,i,n)},t.prototype.setOverlay=function(e){e||(this.setOverlay=function(){}),this.style[e?"hide":"show"]("*","body")},t.prototype.on=function(e,t){this.event.on(e,t)},t}();!function(){var e=void 0;pe.getInstance=function(t){return s(e)&&(e=new pe),e}}();var me=pe.getInstance(),ge=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.shift();try{if(s(n))return m("apiName is not defined");if("track"==n){var r=t[0],o=(new Date).getTime();if(a(t[3]));else{if(d(be[r])&&o-be[r]<3e3)throw new Error("please do not track one stat frequently");be[r]=o}}switch(n){case"initSDK":break;case"show":return we.apply(void 0,t);case"hide":return ye.apply(void 0,t);default:if(s(this[n]))throw new Error("api: "+n+" is not exist");return this[n].apply(this,t)}}catch(c){g(c)}},ve=new G,we=function(){ve.show.apply(ve,arguments)},ye=function(){ve.hide.apply(ve,arguments)},be={},xe=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return ge.apply(me,t)};e.adhoc=xe,e.adhoc.init=function(e,t){adhoc("init",{appKey:e,clientId:t})},M.querySelectorPolyfill()}(window,document),t["true"]=e}({},function(){return this}());