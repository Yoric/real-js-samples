YUI.add("td-applet-trending-atomic-mainview",function(t,e){var i="container",n=".trending-list",o=".trending-title",a=".tn-title",r="data-category",s="data-title",l="selected",c="blur",g="function"==typeof window.requestAnimationFrame;t.namespace("TD.Applet").TrendingAtomicMainView=t.Base.create("TDAppletTrendingAtomicMainView",t.Af.AppletView,[],{initializer:function(e){var a,s=this,c=s.get(i),g=c?c.all(o):[],u=c?c.all(n):[];s.guid=e.guid,s.config=t.Af.Bootstrap.getViewMeta(s.guid,"main").config||{},s.currentCategory=null,s.categories=[],s.titleNodes={},s.listNodes={},s._handles=[],t.each(g,function(t){var e=t.getAttribute(r);s.categories.push(e),s.titleNodes[e]=t,t.hasClass(l)&&e&&(s.currentCategory=e)}),t.each(u,function(t){var e=t.getAttribute(r);s.listNodes[e]=t}),s.config.rotationEnabled&&s.categories.length>1&&(s.FirstRotateTimerEvent=null,s.rotateTimerEvent=null,a=s.config.firstRotationInterval||s.config.rotationInterval||1e4,s._handles.push(c.on("mouseenter",t.bind(s.stopRotation,s))),s._handles.push(c.on("mouseleave",t.bind(s.startRotation,s))),s.rotate(),s.FirstRotateTimerEvent=t.later(a,s,s.rotate,[],!1),s.startRotation()),s.config.clickableTitles&&s.categories.length>1&&s._handles.push(c.delegate("click",t.bind(s.handleSelect,s),o))},startRotation:function(){var e,i=this;i.rotateTimerEvent&&i.stopRotation(),e=i.config.rotationInterval||15e3,i.rotateTimerEvent=t.later(e,i,i.rotate,[],!0)},stopRotation:function(){var t=this;t.rotateTimerEvent.cancel(),t.rotateTimerEvent=null,t.FirstRotateTimerEvent&&(t.FirstRotateTimerEvent.cancel(),t.FirstRotateTimerEvent=null)},rotate:function(){var e=this,i=e.categories.shift();e.categories.push(i),g?window.requestAnimationFrame(t.bind(function(){e.toggleCategory(i)},e)):e.toggleCategory(i)},handleSelect:function(t){var e=this,i=t.currentTarget.getAttribute(r);i!==e.currentCategory&&(g?window.requestAnimationFrame(function(){e.toggleCategory(i)}):e.toggleCategory(i))},toggleCategory:function(e){var i=this;i.currentCategory&&e&&i.currentCategory!==e&&(i.show(i.titleNodes[e]),i.hide(i.titleNodes[i.currentCategory]),t.one(a)&&t.one(a).setHTML(i.titleNodes[e].getAttribute(s)),i.show(i.listNodes[e]),i.hide(i.listNodes[i.currentCategory]),i.currentCategory!==e&&i.FirstRotateTimerEvent&&(i.FirstRotateTimerEvent.cancel(),i.FirstRotateTimerEvent=null,i.startRotation()),i.currentCategory=e)},show:function(t){t&&t.removeClass(c).addClass(l)},hide:function(t){t&&t.removeClass(l).addClass(c)},destructor:function(){t.Array.each(this._handles,function(t){t.detach()}),this._handles=[]}})},"@VERSION@",{requires:["af-applet-view","node"]});