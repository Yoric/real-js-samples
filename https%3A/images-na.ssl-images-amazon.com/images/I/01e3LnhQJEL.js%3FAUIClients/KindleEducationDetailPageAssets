(function(e){var f=window.AmazonUIPageJS||window.P,c=f._namespace||f.attributeErrors,a=c?c("KindleEducationDetailPageAssets"):f;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,f,c){e.when("A","jQuery","a-carousel-framework","ready").register("sofia-impressions",function(a,e,c,p){return{register:function(d){function g(){var b=n,d=b.getBoundingClientRect().top,a=d+100,b=b.getBoundingClientRect().bottom;(0<=d&&a<=f.innerHeight||0<=b-100&&b<=f.innerHeight)&&l()}
function l(){for(var b=h.getAttr("pageSize"),a=(h.getAttr("pageNumber")-1)*b,b=Math.min(h.getAttr("set_size"),a+b),e=[],c;a<b;++a)c=k[a],"undefined"!==typeof c&&1!==m[c]&&(m[c]=1,e.push({id:c}));0!==e.length&&(b={programGroup:d.programGroup,impressionType:"action",impressionData:[{featureName:d.featureName,resources:e}],foresterChannel:"action-impressions"},d.globalMetadata&&(b.metadata=d.globalMetadata),f.ue.impression(b))}var n=document.getElementById(d.elementId),h=c.getCarouselByName(d.carouselName),
m={},k=a.state(d.asinMap);"undefined"===typeof k||"function"===typeof Object.keys&&0===Object.keys(k).length||(e(f).scroll(g),e(f).resize(g),c.onInit(d.carouselName,g),a.on("a:carousel:"+d.carouselName+":change:pageNumber",l))}}})});