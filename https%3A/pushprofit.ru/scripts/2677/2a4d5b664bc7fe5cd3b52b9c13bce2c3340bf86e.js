!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=3)}({"162o":function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n("DuR2"))},3:function(e,t,n){e.exports=n("Rxnp")},DFDv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){n("rplX");var r=setTimeout;function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}a(t.promise,r)}else(1===e._state?a:c)(t.promise,e._value)})):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){c(e,t)}var r,i}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){o(e,t)},n)}r[e]=s,0==--i&&t(r)}catch(e){n(e)}}for(var s=0;s<r.length;s++)o(s,r[s])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();function p(e,t){return e(t={exports:{}},t.exports),t.exports}l.Promise||(l.Promise=o);var h=p(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),d=p(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),b=(d.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),_=function(e){if(!b(e))throw TypeError(e+" is not an object!");return e},g=function(e){try{return!!e()}catch(e){return!0}},v=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),y=h.document,m=b(y)&&b(y.createElement),w=!v&&!g(function(){return 7!=Object.defineProperty((e="div",m?y.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),E=Object.defineProperty,S={f:v?Object.defineProperty:function(e,t,n){if(_(e),t=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),_(n),w)try{return E(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},T=v?function(e,t,n){return S.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},O={}.hasOwnProperty,I=function(e,t){return O.call(e,t)},A=0,D=Math.random(),N=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++A+D).toString(36))},P=p(function(e){var t=N("src"),n=Function.toString,r=(""+n).split("toString");d.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,i,o){var s="function"==typeof i;s&&(I(i,"name")||T(i,"name",n)),e[n]!==i&&(s&&(I(i,t)||T(i,t,e[n]?""+e[n]:r.join(String(n)))),e===h?e[n]=i:o?e[n]?e[n]=i:T(e,n,i):(delete e[n],T(e,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),k=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){var r,i,o,s,a=e&C.F,c=e&C.G,u=e&C.S,f=e&C.P,l=e&C.B,p=c?h:u?h[t]||(h[t]={}):(h[t]||{}).prototype,b=c?d:d[t]||(d[t]={}),_=b.prototype||(b.prototype={});for(r in c&&(n=t),n)o=((i=!a&&p&&void 0!==p[r])?p:n)[r],s=l&&i?k(o,h):f&&"function"==typeof o?k(Function.call,o):o,p&&P(p,r,o,e&C.U),b[r]!=o&&T(b,r,s),f&&_[r]!=o&&(_[r]=o)};h.core=d,C.F=1,C.G=2,C.S=4,C.P=8,C.B=16,C.W=32,C.U=64,C.R=128;var x=C,j={}.toString,B=function(e){return j.call(e).slice(8,-1)},R=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==B(e)?e.split(""):Object(e)},F=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},U=Math.ceil,L=Math.floor,M=Math.min,K=function(e){return e>0?M(function(e){return isNaN(e=+e)?0:(e>0?L:U)(e)}(e),9007199254740991):0},W=Array.isArray||function(e){return"Array"==B(e)},V=h["__core-js_shared__"]||(h["__core-js_shared__"]={}),G=function(e){return V[e]||(V[e]={})},H=p(function(e){var t=G("wks"),n=h.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:N)("Symbol."+e))}).store=t}),z=H("species"),Y=function(e,t){return new(function(e){var t;return W(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!W(t.prototype)||(t=void 0),b(t)&&null===(t=t[z])&&(t=void 0)),void 0===t?Array:t}(e))(t)},q=function(e,t){var n=1==e,r=2==e,i=3==e,o=4==e,s=6==e,a=5==e||s,c=t||Y;return function(t,u,f){for(var l,p,h=Object(F(t)),d=R(h),b=k(u,f,3),_=K(d.length),g=0,v=n?c(t,_):r?c(t,0):void 0;_>g;g++)if((a||g in d)&&(p=b(l=d[g],g,h),e))if(n)v[g]=p;else if(p)switch(e){case 3:return!0;case 5:return l;case 6:return g;case 2:v.push(l)}else if(o)return!1;return s?-1:i||o?o:v}},X=H("unscopables"),$=Array.prototype;void 0==$[X]&&T($,X,{});var J=function(e){$[X][e]=!0},Q=q(5),Z=!0;"find"in[]&&Array(1).find(function(){Z=!1}),x(x.P+x.F*Z,"Array",{find:function(e){return Q(this,e,arguments.length>1?arguments[1]:void 0)}}),J("find");d.Array.find;var ee=q(6),te=!0;"findIndex"in[]&&Array(1).findIndex(function(){te=!1}),x(x.P+x.F*te,"Array",{findIndex:function(e){return ee(this,e,arguments.length>1?arguments[1]:void 0)}}),J("findIndex");d.Array.findIndex;var ne=H("match"),re=function(e,t,n){if(b(r=t)&&(void 0!==(i=r[ne])?i:"RegExp"==B(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,i;return String(F(e))},ie=H("match"),oe="".startsWith;x(x.P+x.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ie]=!1,!"/./"[e](t)}catch(e){}}return!0}("startsWith"),"String",{startsWith:function(e){var t=re(this,e,"startsWith"),n=K(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return oe?oe.call(t,r,n):t.slice(n,n+r.length)===r}});d.String.startsWith}.call(t,n("162o").setImmediate,n("DuR2"))},DuR2:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},It2I:function(e,t,n){n("DFDv"),e.exports=n("SHXD").default},Pxmi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("TToO"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,f=o>>2,l=(3&o)<<4|a>>4,p=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(p=64)),r.push(n[f],n[l],n[p],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();var u=o<<2|s>>4;if(r.push(u),64!=a){var f=s<<4&240|a>>2;if(r.push(f),64!=c){var l=a<<6&192|c;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=f(e[n],t[n]));return e}var l=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},h="FirebaseError",d=Error.captureStackTrace;var b=function(){return function(e,t){if(this.code=e,this.message=t,d)d(this,_.prototype.create);else{var n=Error.apply(this,arguments);this.name=h,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b.prototype.name=h;var _=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new b(i,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();function g(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=g(u(o[0])||""),n=g(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},y=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},m=function(e,t){return y(t,function(t,n){e[t]=n}),e},w=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},E=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],f=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=f^c&(u^f),s=1518500249):(o=c^u^f,s=1859775393):r<60?(o=c&u|f&(c|u),s=2400959708):(o=c^u^f,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=f,f=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(function(){return function(){this.blockSize=-1}}());var S=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function T(){}function O(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.assert=o,t.assertionError=s,t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=a(e);return c.encodeByteArray(t,!0)},t.CONSTANTS=i,t.deepCopy=function(e){return f(void 0,e)},t.deepExtend=f,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=l,t.getUA=p,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=_,t.FirebaseError=b,t.patchCapture=function(e){var t=d;return d=e,t},t.jsonEval=g,t.stringify=function(e){return JSON.stringify(e)},t.decode=v,t.isAdmin=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=v(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=v(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=v(e).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),i&&t&&n&&i>=t&&i<=n},t.clone=function(e){return m({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=m,t.findKey=w,t.findValue=function(e,t,n){var r=w(e,t,n);return r&&e[r]},t.forEach=y,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var t=[];return y(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.Sha1=E,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.createSubscribe=function(e,t){var n=new S(e,t);return n.subscribe.bind(n)},t.errorPrefix=O,t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(e,t,r)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}},Rxnp:function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("It2I");n("TG4O");var o={apiUrl:"https://subscribe.pushprofit.net/subscription/site",storageKey:"sentPushProfitMessagingToken",siteID:"2a4d5b664bc7fe5cd3b52b9c13bce2c3340bf86e",isShow:!1,config:{apiKey:"AIzaSyAJGaKRIe3fPRUtDziQcfVzjmoDgYjJ84k",authDomain:"pushprofit-dd74e.firebaseapp.com",databaseURL:"https://pushprofit-dd74e.firebaseio.com",projectId:"pushprofit-dd74e",storageBucket:"pushprofit-dd74e.appspot.com",messagingSenderId:"810494605829"},started:!1,options:{autoShow:!0,cssSection:null,scriptSection:null,coverFon:{id:null,style:null,class:null,center:null,right:null,left:null,html:null,enable:!1},firstForm:{id:null,style:null,class:null,enable:!1},onClickElementId:null,onShowTimeout:null,subscriber:{is_mobile:!1,is_support:!1,browser:null,is_set:!1,os:null},gift:{elementId:null,enable:!1,class:"",title:"",url:"#",image:"",message:""}},statics:[],events:{show:[],subscribe:[],unsubscribe:[],message:[],afterinit:[],beforeinit:[]},init:function(e){var t=this;if(t.toStatic("init")){var n=Object.keys(t.events);if(void 0!==e.events)for(var i=0;i<n.length;i++)r(e.events[n[i]])===("undefined"==typeof Function?"undefined":r(Function))&&t.attach(n[i],e.events[n[i]]);return t.subscriberInfo(e),t.trigger("beforeinit"),t.load(),document.addEventListener?(void 0===t.started&&(t.started=!1),document.addEventListener("DOMContentLoaded",function(){t.load()})):(void 0===this.started&&(t.started=!1),document.attachEvent("onreadystatechange",t.loadCallback)),t.started=!0,t}},toStatic:function(e){for(var t=0;t<this.statics.length;t++)if(this.statics[t]===e)return!1;return this.statics.push(e),!0},attach:function(e,t){this.events[e].push(t)},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(void 0!==this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)r(this.events[e][n])===("undefined"==typeof Function?"undefined":r(Function))&&this.events[e][n](t)}catch(t){console.log("Ошибка при обработке события:"+e,t)}},load:function(){var e=this,t=setInterval(function(){"undefined"!=typeof window&&void 0!==e.started&&e.started&&(clearInterval(t),e.postInitialize())},50)},postInitialize:function(){var e=this;if(this.toStatic("postInitialize")){if(e.options.gift.enable){var t=e.options.subscriber;e.attach("unsubscribe",function(){t.is_block=!0,t.is_set=!0,t.is_support=!0,e.subscriberInfo({options:{subscriber:t}}),e.pasteGift(),setTimeout(function(){e.closeGift()},2e3)}),e.attach("subscribe",function(){var t=e.options.subscriber;t.is_block=!1,t.is_set=!0,t.is_support=!0,e.subscriberInfo({options:{subscriber:t}}),e.pasteGift(),setTimeout(function(){e.closeGift()},1e4)}),e.attach("show",function(){e.subscriberInfo(),e.pasteGift()}),e.attach("afterinit",function(){e.options.gift.class=e.options.subscriber.browser})}e.options.coverFon.enable&&e.attach("show",function(){e.isShow&&!e.isMobile()?(e.options.cssSection&&e.createStyleSection(),e.attach("subscribe",function(){e.closeCoverFon()}),e.attach("unsubscribe",function(){e.closeCoverFon()}),e.createCoverFon()):e.isShow&&(e.options.cssSection&&e.createStyleSection(),e.attach("subscribe",function(){e.closeCoverFon()}),e.attach("unsubscribe",function(){e.closeCoverFon()}),e.createCoverFon())}),e.options.autoShow?e.subscribeInit():Number(e.options.onShowTimeout)>0&&setTimeout(function(){e.subscribeInit()},1e3*e.options.onShowTimeout),e.options.onClickElementId&&e.setOnClickElement(),e.trigger("afterinit")}},subscribeInit:function(){var e=this;if(e.toStatic("subscribeInit")){e.subscriberInfo(),i.initializeApp(e.config);var t=i.messaging();"default"===Notification.permission?(e.isShow=!0,e.trigger("show"),t.requestPermission().then(function(){return t.getToken()}).then(function(t){return t&&(e.sendTokenToServer(t),"default"!==Notification.permission&&"denied"!==Notification.permission||!e.isShow||e.trigger("unsubscribe")),t}).catch(function(t){"default"!==Notification.permission&&"denied"!==Notification.permission||!e.isShow||e.trigger("unsubscribe"),"granted"===Notification.permission&&e.isShow&&e.trigger("subscribe"),e.setTokenSentToServer(!1),e.closeSubWindow("denied")})):"granted"===Notification.permission&&t.requestPermission().then(function(){return t.getToken()}).then(function(t){t&&e.sendTokenToServer(t)}).catch(function(t){e.setTokenSentToServer(!1)}),t.onMessage(function(t){t.data["gcm.notification.image"]&&(t.data.image=t.data["gcm.notification.image"]),navigator.serviceWorker.register("/pushprofit-messaging-sw.js"),Notification.requestPermission(function(n){"granted"===n&&navigator.serviceWorker.ready.then(function(n){return t.data.data=t.data,e.trigger("message"),n.showNotification(t.data.title,t.data)}).catch(function(e){console.log("ServiceWorker registration failed",e)})})})}},pasteGift:function(){var e=this;if(!this.options.subscriber.is_mobile){var t,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down";return"up"===e?"https://pushprofit.net/img/gift/8b16867f-d538-4668-b68b-749e4c2e72d9_up.png":"down"===e?"https://pushprofit.net/img/gift/5bbaa25f-91a5-44b0-a5bb-c0fbd689cf9e_down.png":void 0},r=function(){var t=document.createElement("div");t.setAttribute("id",e.options.gift.id),t.setAttribute("class","gift-div");var n='<div class="state push-'+(e.options.subscriber.is_block&&e.options.subscriber.is_set?"denied":!e.options.subscriber.is_block&&e.options.subscriber.is_set?"granted":"default")+'"><div class="PushTip">';e.options.subscriber.is_mobile?(n+='<div class="PushTip-title">',e.options.subscriber.is_set?n+='<h4 class="PushTip-titleItem">'+e.options.gift.title+"</h4>":n+='<h4 class="PushTip-titleItem">Нажмите «Разрешить»,<span class="br-in-\'+self.options.subscriber.browser+\'"> </span>чтобы получить доступ<span class="br-in-\'+self.options.subscriber.browser+\'"> </span>к скидкам и акциям</h4>',n+="</div>",n+="</div>"):(e.options.subscriber.is_set?(n+='<div class="Push-wrapperInner"><img src="'+e.options.gift.image+'" class="Pic__down"/>',n+='<div class="PushTip-title"><a href="'+e.options.gift.url+'" class="PushTip-titleItem js-exchange">'+e.options.gift.title+"</a></div>",n+="</div>"):(n+='<div data-os="'+e.options.subscriber.os+'" data-browser="'+e.options.subscriber.browser+'" class="PushTip-imageWrap">',n+='<img src="'+e.options.gift.image+'" class="PushTip-image"/>',n+='<div class="PushTip-block-hide">'+e.options.subscriber.browser+" "+e.options.subscriber.os+"</div>",n+='<h4 class="PushTip-titleItem">'+e.options.gift.title+"</h4>",n+="</div>"),n+="</div>",n+="</div>",t.innerHTML=n),document.body.appendChild(t)},i=e.getElementByAttribute("style","id","gift-styles"),o=e.getElementByAttribute("div","id",e.options.gift.id);e.options.subscriber.is_support&&!e.options.subscriber.is_set?(e.options.subscriber.is_mobile?e.options.gift.title="Разрешите сайту <br/> отправлять вам уведомления <br/> о скидках и акциях":e.options.gift.title='Нажмите «Разрешить»,<span class="br-in-'+e.options.subscriber.browser+'"> </span>чтобы получить доступ<span class="br-in-'+e.options.subscriber.browser+'"> </span>к скидкам и акциям',e.options.gift.message&&(e.options.gift.title=e.options.gift.message),e.options.gift.image=function(){if(e.options.subscriber.is_support)if("windows"===e.options.subscriber.os||"-"===e.options.subscriber.os)switch(e.options.subscriber.browser){case"chrome":return"https://pushprofit.net/img/gift/Chrome_WIN-6e32732774.png";case"firefox":return"https://pushprofit.net/img/gift/Firefox_WIN-8560ff15b6.png";case"yandex-browser":return"https://pushprofit.net/img/gift/Yandex_WIN-c0df1d5936.png";case"opera":return"https://pushprofit.net/img/gift/Opera_WIN-58f6f14d73.png"}else if("mac-os"===e.options.subscriber.os)switch(e.options.subscriber.browser){case"chrome":return"https://pushprofit.net/img/gift/Chrome_MAC-bcf27b50f5.png";case"firefox":return"https://pushprofit.net/img/gift/Firefox_MAC-bc079aebab.png";case"yandex-browser":return"https://pushprofit.net/img/gift/Yandex_MAC-c0df1d5936.png";case"opera":return"https://pushprofit.net/img/gift/Opera_MAC-58f6f14d73.png";case"safari":return"https://pushprofit.net/img/gift/Safari_MAC-bcc2ebf1ec.png"}}()):e.options.subscriber.is_support&&!e.options.subscriber.is_block?(e.options.gift.image=n("up"),e.options.gift.title="Получить подарок"):e.options.subscriber.is_support&&e.options.subscriber.is_set&&e.options.subscriber.is_block?(e.options.gift.image=n("down"),e.options.gift.title="К сожалению, вы заблокировали наши уведомления"):e.options.subscriber.is_support||(e.options.gift.image=n("down"),e.options.gift.title="Ваш браузер не поддерживает уведомления"),i||((t=document.createElement("style")).setAttribute("id","gift-styles"),t.innerHTML='.Push-wrapperInner img { width:50%; } .gift-div{ display: inline-block; width: 340px; z-index: 999999; position: fixed; top: 0; left: 0; right:0; margin:auto; text-align: center;}.PushTip {\ndisplay:flex; flex-flow:column; justify-content: center;  width: 333px;\n  height: 428px;\n  background: #fff;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);\n  margin: 20px auto; }\n .PushTip-close {\n    position: absolute;\n    top: 10px;\n    right: 15px;\n    cursor: pointer; }\n  .PushTip-title {\n    width: 100%;\n    padding: 27px 0 21px 0;\n    height: 63px;\n    text-align: center;\n    box-sizing: content-box; }\n.PushTip-titleItem {\n    color: #363833;\n    width: 80%;\n    font-size: 18px;\n    font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;\n    font-weight: 100;\n   margin: 20px auto; }\n  .PushTip-imageWrap {\n    text-align: center; }\n  .PushTip-image {\n    width: 234px;\n    height: 234px; }\n  .PushTip-button {\n    text-align: center;\n    padding: 18px 0 27px 0; }\n  .PushTip-buttonItem {\n    text-align: center;\n    min-width: 99px;\n    max-width: 150px;\n    height: 33px;\n    border: 1px solid #363833;\n    font-size: 14px;\n    background-color: #fff;\n    cursor: pointer;\n    overflow: hidden;\n    white-space: nowrap; }\n.PushTip .PushTip-block-hide { display: none; }',document.body.appendChild(t)),o?(o.remove(),r()):r()}},sendTokenToServer:function(e){var t=this;if(t.isTokenSentToServer(e))return t.closeSubWindow("granted"),!1;var n=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest),r="?s_hash="+encodeURIComponent(t.siteID)+"&token="+encodeURIComponent(e)+"&href="+encodeURIComponent(location.href);return(oldToken=t.getToken())&&(r+="&oldToken="+encodeURIComponent(oldToken)),n.open("GET",t.apiUrl+r,!0),n.onload=function(){t.closeSubWindow("granted"),t.trigger("subscribe")},n.send(),t.setTokenSentToServer(e),!0},isTokenSentToServer:function(e){return window.localStorage.getItem(this.storageKey)===e},getToken:function(){return window.localStorage.getItem(this.storageKey)},setTokenSentToServer:function(e){window.localStorage.setItem(this.storageKey,e||"")},closeSubWindow:function(e){window.opener&&window.opener.postMessage(e,"*")},getSubscribeHref:function(){return window.opener?window.location.search.replace("?","").split("&").reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e},{}).shref:location.href},setOnClickElement:function(){var e=this,t=document.getElementById(this.options.onClickElementId);t&&t.addEventListener("click",function(){return e.subscribeInit(),!1})},pasteSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&void 0!==e.options)for(var t=["autoShow","onShowTimeout","scriptSection","cssSection","cssSectionMobile","coverFon","firstForm","onClickElementId","subscriber","gift"],n=0;n<t.length;n++)void 0!==e.options[t[n]]&&(this.options[t[n]]=e.options[t[n]])},subscriberInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.options.subscriber.is_mobile=this.isMobile(),this.options.subscriber.browser=this.options.subscriber.is_mobile?"mobile-chrome":this.clientInfo().browser,e&&void 0!==e&&void 0!==e.options&&void 0!==e.options.subscriber?(void 0===e.options.subscriber.is_block&&(this.options.subscriber.is_block="denied"===Notification.permission),void 0===e.options.subscriber.is_set&&(this.options.subscriber.is_set="default"!==Notification.permission),void 0===e.options.subscriber.is_support&&(this.options.subscriber.is_support="serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window&&-1===navigator.userAgent.indexOf("YaBrowser/15.12.1.6476")&&!/\YaBrowser\/[0-9\.]+ \(beta\)/.test(navigator.userAgent))):(this.options.subscriber.is_support="serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window&&-1===navigator.userAgent.indexOf("YaBrowser/15.12.1.6476")&&!/\YaBrowser\/[0-9\.]+ \(beta\)/.test(navigator.userAgent),this.options.subscriber.is_set="default"!==Notification.permission,this.options.subscriber.is_block="denied"===Notification.permission),this.pasteSettings(e)},createFirstForm:function(){this.toStatic("createFirstForm")},createStyleSection:function(){if(this.toStatic("createStyleSection")&&this.options.cssSection){var e=document.createElement("style");e.innerHTML=this.isMobile()?this.options.cssSectionMobile:this.options.cssSection,document.body.appendChild(e)}},createScriptSection:function(){if(this.toStatic("createScriptSection")&&this.options.scriptSection){var e=document.createElement("script");e.innerHTML=this.options.scriptSection,document.body.appendChild(e)}},createCoverFon:function(){if(this.toStatic("")&&this.options.coverFon.id){var e=document.createElement("div");if(e.setAttribute("id",this.options.coverFon.id),this.options.coverFon.message){var t=document.createElement("div");t.setAttribute("class","backdrop-message"),t.innerHTML=this.options.coverFon.message,e.appendChild(t)}var n=document.createElement("div");n.setAttribute("class","backdrop-close"),n.setAttribute("onclick","window.pushprofit.closeCoverFon(); return false;"),n.innerHTML="<big>×</big><br/>",e.appendChild(n),document.body.appendChild(e)}},closeCoverFon:function(){if(this.options.coverFon.enable&&this.options.coverFon.id){var e=document.getElementById(this.options.coverFon.id);e&&e.parentElement.removeChild(e)}},closeGift:function(){if(this.options.gift.enable){var e=document.getElementById(this.options.gift.id);e&&document.body.removeChild(e)}},clientInfo:function(){return{screenWidth:0<window.innerWidth?window.innerWidth:screen.width,os:(/Windows/.test(navigator.userAgent)?"windows":/Android/.test(navigator.userAgent)&&"android")||/(iPhone|iPad|iPod)/.test(navigator.userAgent)&&"ios"||/Mac OS X/.test(navigator.userAgent)&&"mac-os"||"-",browser:(-1!==navigator.userAgent.indexOf("Opera")?"opera":-1!==navigator.userAgent.indexOf("OPR/")&&"opera")||-1!==navigator.userAgent.indexOf("YaBrowser")&&"yandex"||-1!==navigator.userAgent.indexOf("Edge")&&"edge"||-1!==navigator.userAgent.indexOf("MSIE")&&"ie"||-1!==navigator.userAgent.indexOf("Trident/")&&"ie"||-1!==navigator.userAgent.indexOf("Chrome")&&"chrome"||-1!==navigator.userAgent.indexOf("Safari")&&"safari"||-1!==navigator.userAgent.indexOf("Firefox")&&"firefox"||"-"}},isMobile:function(){var e=this.clientInfo();return this.options.subscriber.os=e.os,"android"===e.os},getElementByAttribute:function(e,t,n){try{for(var r=document.querySelectorAll(e+"["+t+"="+n+"]"),i=null,o=0;o<r.length;o++){i||(i=r[o]);break}}catch(e){console.log(e)}return i}};window.pushprofit=o.init({options:{https:Boolean("1"),autoShow:Boolean(String("timeout")===String("auto")),onShowTimeout:Number("20"),onClickElementId:String("")?String(""):null,coverFon:{id:"fonPushProfit",enable:Boolean(String("none")===String("fon")),message:String("Нажмите &quot;Разрешить&quot;, чтобы получать уведомления о последних новостях из мира Apple, Samsung, Microsoft и Google.")},gift:{id:"giftPushProfit",enable:Boolean(String("none")===String("gift")),message:String(""),url:""},cssSection:"#fonPushProfit{ display: flex; justify-content: center; align-items: center; position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 999996; background: rgba(0,0,0,.75); text-align: center; transition: all .2s ease .1s; }#fonPushProfit.show {display:block !important; opacity: 1 !important;} #fonPushProfit .backdrop-close { right: 20px; top: 20px; font-weight: 300; opacity: .8; cursor: pointer;  font-family:'Segoe UI','Open Sans',Ubuntu,'Dejavu Sans',Helvetica,'Helvetica Neue',Arial,sans-serif; color: #fff; top: 0; width: 100px; position: absolute;}#fonPushProfit .backdrop-message { color: #000; font-family: 'Segoe UI','Open Sans',Ubuntu,'Dejavu Sans',Helvetica,'Helvetica Neue',Arial,sans-serif; right: 0; bottom: 0; left: 0; z-index: 999997; max-width: 410px; margin: 0 auto; font-size: 25px; padding: 32px; font-weight: 500;  background-color: rgba(255, 255, 255, 0.8313725490196079); border-radius: 15px;}#fonPushProfit .backdrop-close > big { font-size: 60px; line-height: 20px; }#fonPushProfit .backdrop-close > small { font-size: 16px; }",cssSectionMobile:"#fonPushProfit{ position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 999996; background: rgba(0,0,0,.65); text-align: center; transition: all .2s ease .1s; }#fonPushProfit .backdrop-close { font-size: 32px; right: 20px; top: 20px; font-weight: 300; opacity: .8; cursor: pointer; color: #fff; top: 0; width: 100px; position: absolute;}#fonPushProfit .backdrop-message { color: rgb(255, 255, 255); font-family: 'Segoe UI', 'Open Sans', Ubuntu, 'Dejavu Sans', Helvetica, 'Helvetica Neue', 'Arial', 'sans-serif'; right: 0px; bottom: 0px; left: 0px; z-index: 999997; max-width: 360px; margin: 11vh auto 10vh; font-size: 25px; padding: 20px; font-weight: 800; }"},events:{afterinit:function(){}}})},SHXD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"firebase",function(){return f});var r=n("Pxmi"),i=(n.n(r),function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}),o="[DEFAULT]",s=[],a=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=Object(r.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){s.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){s=s.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==o?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;Object(r.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(s.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),s=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},e}();function c(e,t){throw u.create(e,t)}a.prototype.name&&a.prototype.options||a.prototype.delete||console.log("dc");var u=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),f=function e(){var t={},n={},s={},u={__esModule:!0,initializeApp:function(e,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var s=n;void 0===s.name&&(s.name=o);var f=s.name;"string"==typeof f&&f||c("bad-app-name",{name:f+""}),i(t,f)&&c("duplicate-app",{name:f});var l=new a(e,s,u);return t[f]=l,p(l,"create"),l},app:f,apps:null,Promise:Promise,SDK_VERSION:"4.13.0",INTERNAL:{registerService:function(e,t,i,o,p){n[e]&&c("duplicate-service",{name:e}),n[e]=t,o&&(s[e]=o,l().forEach(function(e){o("create",e)}));var h=function(t){return void 0===t&&(t=f()),"function"!=typeof t[e]&&c("invalid-app-argument",{name:e}),t[e]()};return void 0!==i&&Object(r.deepExtend)(h,i),u[e]=h,a.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,p?t:[])},h},createFirebaseNamespace:e,extendNamespace:function(e){Object(r.deepExtend)(u,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(e){p(t[e],"delete"),delete t[e]},factories:n,useAsService:h,Promise:Promise,deepExtend:r.deepExtend}};function f(e){return i(t,e=e||o)||c("no-app",{name:e}),t[e]}function l(){return Object.keys(t).map(function(e){return t[e]})}function p(e,t){Object.keys(n).forEach(function(n){var r=h(e,n);null!==r&&s[r]&&s[r](t,e)})}function h(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return Object(r.patchProperty)(u,"default",u),Object.defineProperty(u,"apps",{get:l}),Object(r.patchProperty)(f,"App",a),u}();t.default=f},TG4O:function(e,t,n){n("dqyG")},TToO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.d(t,"__assign",function(){return i}),t.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n},t.__decorate=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},t.__param=function(e,t){return function(n,r){t(n,r,e)}},t.__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t.__awaiter=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},t.__generator=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},t.__exportStar=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},t.__values=o,t.__read=s,t.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},t.__await=a,t.__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||c(e,t)})})}function c(e,t){try{(n=i[e](t)).value instanceof a?Promise.resolve(n.value.v).then(u,f):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){c("next",e)}function f(e){c("throw",e)}function l(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}},t.__asyncDelegator=function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:a(e[r](t)),done:"return"===r}:i?i(t):t})}},t.__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):o(e)},t.__makeTemplateObject=function(e,t){Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t;return e},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__importDefault=function(e){return e&&e.__esModule?e:{default:e}};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e){return this instanceof a?(this.v=e,this):new a(e)}},W2nU:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!f){var e=a(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},dqyG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"registerMessaging",function(){return k});var r,i,o,s=n("Pxmi"),a=(n.n(s),n("TToO")),c=n("SHXD"),u={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},f=((r={})[u.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",r[u.AVAILABLE_IN_SW]="This method is available in a service worker context.",r[u.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",r[u.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r[u.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",r[u.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",r[u.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",r[u.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",r[u.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",r[u.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",r[u.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",r[u.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",r[u.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",r[u.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",r[u.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",r[u.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",r[u.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",r[u.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",r[u.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",r[u.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r[u.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r[u.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",r[u.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r[u.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",r[u.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",r[u.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",r[u.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r[u.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",r[u.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r[u.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",r[u.BAD_SCOPE]="The service worker scope must be a string with at least one character.",r[u.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",r[u.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",r[u.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",r[u.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",r[u.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",r[u.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",r[u.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",r),l=new s.ErrorFactory("messaging","Messaging",f),p=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),h="https://fcm.googleapis.com";function d(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=0;i<e.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function b(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(i||(i={})),function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(o||(o={}));var _=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,c,f,d,_;return Object(a.__generator)(this,function(a){switch(a.label){case 0:r=b(t.getKey("p256dh")),i=b(t.getKey("auth")),o="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+i,n!==p&&(s=b(n),o+="&application_pub_key="+s),(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:c,body:o},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(h+"/fcm/connect/subscribe",f)];case 2:return[4,a.sent().json()];case 3:return d=a.sent(),[3,5];case 4:throw a.sent(),l.create(u.TOKEN_SUBSCRIBE_FAILED);case 5:if(d.error)throw _=d.error.message,l.create(u.TOKEN_SUBSCRIBE_FAILED,{message:_});if(!d.token)throw l.create(u.TOKEN_SUBSCRIBE_NO_TOKEN);if(!d.pushSet)throw l.create(u.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:d.token,pushSet:d.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,r,i){return Object(a.__awaiter)(this,void 0,void 0,function(){var o,s,c,f,d,_,g,v;return Object(a.__generator)(this,function(a){switch(a.label){case 0:o=b(r.getKey("p256dh")),s=b(r.getKey("auth")),c="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+o+"&encryption_auth="+s,i!==p&&(f=b(i),c+="&application_pub_key="+f),(d=new Headers).append("Content-Type","application/x-www-form-urlencoded"),_={method:"POST",headers:d,body:c},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(h+"/fcm/connect/subscribe",_)];case 2:return[4,a.sent().json()];case 3:return g=a.sent(),[3,5];case 4:throw a.sent(),l.create(u.TOKEN_UPDATE_FAILED);case 5:if(g.error)throw v=g.error.message,l.create(u.TOKEN_UPDATE_FAILED,{message:v});if(!g.token)throw l.create(u.TOKEN_UPDATE_NO_TOKEN);return[2,g.token]}})})},e.prototype.deleteToken=function(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,c;return Object(a.__generator)(this,function(a){switch(a.label){case 0:r="authorized_entity="+e+"&token="+t+"&pushSet="+n,(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(h+"/fcm/connect/unsubscribe",o)];case 2:return[4,a.sent().json()];case 3:if((s=a.sent()).error)throw c=s.error.message,l.create(u.TOKEN_UNSUBSCRIBE_FAILED,{message:c});return[3,5];case 4:throw a.sent(),l.create(u.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},e}();function g(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var v="undefined",y="fcm_token_object_Store";function m(){var e=indexedDB.open(v);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(y)){var t=e.transaction(y).objectStore(y),n=new _,r=t.openCursor();r.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},r.onsuccess=function(){var t=r.result;if(t){var i=t.value;n.deleteToken(i.fcmSenderId,i.fcmToken,i.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(v)}}}(e.result)}}var w=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){return this.createTransaction(function(n){return n.index(e).get(t)})},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(a.__generator)(this,function(s){switch(s.label){case 0:return[4,this.getDb()];case 1:return n=s.sent(),r=n.transaction(this.objectStoreName,t),i=r.objectStore(this.objectStoreName),[4,function(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}(e(i))];case 2:return o=s.sent(),[2,new Promise(function(e,t){r.oncomplete=function(){e(o)},r.onerror=function(){t(r.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}})),this.dbPromise},e}();var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return Object(a.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:m();case 2:var r,i=(r=e.transaction.objectStore(this.objectStoreName)).openCursor();i.onsuccess=function(){var e=i.result;if(e){var t=e.value,n=Object(a.__assign)({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=g(t.vapidKey)),"string"==typeof t.auth&&(n.auth=g(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=g(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){if(!e)throw l.create(u.BAD_TOKEN);return S({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){if(!e)throw l.create(u.BAD_SCOPE);return S({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){if(!e.swScope)throw l.create(u.BAD_SCOPE);if(!e.vapidKey)throw l.create(u.BAD_VAPID_KEY);if(!e.endpoint||!e.auth||!e.p256dh)throw l.create(u.BAD_SUBSCRIPTION);if(!e.fcmSenderId)throw l.create(u.BAD_SENDER_ID);if(!e.fcmToken)throw l.create(u.BAD_TOKEN);if(!e.fcmPushSet)throw l.create(u.BAD_PUSH_SET);return S(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(l.create(u.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw l.create(u.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(w);function S(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw l.create(u.BAD_TOKEN);if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw l.create(u.BAD_SCOPE);if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw l.create(u.BAD_VAPID_KEY);if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw l.create(u.BAD_SUBSCRIPTION);if(e.auth&&!(e.auth instanceof ArrayBuffer))throw l.create(u.BAD_SUBSCRIPTION);if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw l.create(u.BAD_SUBSCRIPTION);if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw l.create(u.BAD_SENDER_ID);if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw l.create(u.BAD_PUSH_SET)}var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(a.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw l.create(u.BAD_SCOPE);return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(r){if("string"!=typeof e||0===e.length)throw l.create(u.BAD_SCOPE);if(null===t||65!==t.length)throw l.create(u.BAD_VAPID_KEY);return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw l.create(u.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(w),O="messagingSenderId",I=function(){function e(e){var t=this;if(!e.options[O]||"string"!=typeof e.options[O])throw l.create(u.BAD_SENDER_ID);this.messagingSenderId=e.options[O],this.tokenDetailsModel=new E,this.vapidDetailsModel=new T,this.iidModel=new _,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return"granted"!==(e=this.getNotificationPermission_())?"denied"===e?[2,Promise.reject(l.create(u.NOTIFICATIONS_BLOCKED))]:[2,Promise.resolve(null)]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(i){switch(i.label){case 0:return function(e,t,n){if(!d(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,i=d(e.getKey("auth"),n.auth),o=d(e.getKey("p256dh"),n.p256dh);return r&&i&&o}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,t,n)];case 1:return i=a.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return a.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return a.sent(),[2,i];case 4:return s=a.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw a.sent(),s;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return r=o.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,r.token]}})})},e.prototype.deleteToken=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw l.create(u.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw l.create(u.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw l.create(u.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw l.create(u.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw l.create(u.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw l.create(u.AVAILABLE_IN_SW)},e.prototype.delete=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIIDModel=function(){return this.iidModel},e}();var A=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return Object(a.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return i.sent()?t.notification||this.bgMessageHandler?[2,this.sendMessageToWindowClients_(t)]:[2]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return[2,i.sent().showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return i.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=i.sent(),[3,3];case 2:throw t=i.sent(),l.create(u.UNABLE_TO_RESUBSCRIBE,{message:t});case 3:return i.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(a.__generator)(this,function(s){switch(s.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=s.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=s.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=s.sent(),s.label=5;case 5:return r?(delete t.notification,i=N(o.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=Object(a.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw l.create(u.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,D()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===t){r=n[i];break}return[2,r]}})})},t.prototype.attemptToMessageClient_=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(n){if(!e)throw l.create(u.NO_WINDOW_CLIENT_TO_MSG);return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,D()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return[4,D()];case 1:return t=i.sent(),n=N(o.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return i.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw l.create(u.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,p]:[2,t]}})})},t}(I);function D(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function N(e,t){return(n={})[i.TYPE_OF_MSG]=e,n[i.DATA]=t,n;var n}var P=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(s.createSubscribe)(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=Object(s.createSubscribe)(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return Object(a.__extends)(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(l.create(u.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){if(this.manifestCheckPromise)return this.manifestCheckPromise;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise=e?fetch(e.href).then(function(e){return e.json()}).catch(function(){}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw l.create(u.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise},t.prototype.requestPermission=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return"granted"===Notification.permission?[2]:[2,new Promise(function(e,t){var n=function(n){return"granted"===n?e():t("denied"===n?l.create(u.PERMISSION_BLOCKED):l.create(u.PERMISSION_DEFAULT))},r=Notification.requestPermission(n);r&&r.then(n)})]})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw l.create(u.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw l.create(u.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw l.create(u.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw l.create(u.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=g(e);if(65!==t.length)throw l.create(u.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){var i=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(l.create(u.SW_REG_REDUNDANT))}t.removeEventListener("statechange",i)};t.addEventListener("statechange",i)}else r(l.create(u.SW_REG_REDUNDANT));else n(e);else r(l.create(u.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw l.create(u.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse?Promise.resolve(this.publicVapidKeyToUse):Promise.resolve(p)},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[i.TYPE_OF_MSG]){var n=t.data;switch(n[i.TYPE_OF_MSG]){case o.PUSH_MSG_RECEIVED:case o.NOTIFICATION_CLICKED:var r=n[i.DATA];e.messageObserver&&e.messageObserver.next(r)}}},!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(I);function k(e){var t={Messaging:P};e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new A(e):new P(e)},t)}k(c.default)},mypn:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,c=1,u={},f=!1,l=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){d(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},p.clearImmediate=h}function h(e){delete u[e]}function d(e){if(f)setTimeout(d,0,e);else{var t=u[e];if(t){f=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n("DuR2"),n("W2nU"))},rplX:function(e,t,n){"use strict";var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=l(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=a(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,r,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},d.call(_.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];v.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var m=self.DOMException;try{new m}catch(e){(m=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),m.prototype.constructor=m}function w(e,t){return new Promise(function(n,i){var o=new _(e,t);if(o.signal&&o.signal.aborted)return i(new m("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new v(i,r))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new m("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",a)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=u,self.Request=_,self.Response=v)}});