!function(e){e.fest||(e.fest={}),e.fest["ct-comments-list-short.xml"]=e.fest["bem/news/web/web.bundles/ct-comments-list-short"]=function(a){"use strict";var e,S,F,P,t,z,B,d,s,r=this,m="",c=[],L=[],n="",O={},i="",o="",l="",y=[],p={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},g=/[&<>"]/g,h=/[&<>"]/,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},U=function(e){return"string"==typeof e&&h.test(e)?e.replace(g,f):null==e?"":e},f=function(e){return _[e]},E=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},G=function(e){return e.param=!0,e};r&&"function"==typeof r.i18n&&r.i18n;function A(e){s(e+'\nin block "'+l+'" at line: '+o+"\nfile: "+i)}function H(e,t,a){if(a)for(var s in t)"function"==typeof t[s]&&t[s].param&&(t[s]=t[s]());return e.call(r,t)}s="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;if(O.ajax=function(e){var t="";try{F=e.html}catch(e){F=!1,A(e.message)}if(F)try{t+=e.html}catch(e){A(e.message+"5")}return t},O.block=function(r){var e="";S="element",B={};try{E(B,r)}catch(e){A(e.message)}try{E(B,{baseClass:"block"})}catch(e){A(e.message)}return B.html=G(function(){var t,e,a,s="";try{t=r.wrapper}catch(e){t=!1,A(e.message)}if(t){a={};try{E(a,r.wrapper)}catch(e){A(e.message)}try{E(a,{html:r.html})}catch(e){A(e.message)}(e=O.wrapper)&&(s+=H(e,a,!1))}else{try{t=r.html}catch(e){t=!1,A(e.message)}if(t)try{s+=r.html}catch(e){A(e.message+"25")}}return s}),(z=O[S])&&(e+=H(z,B,!0)),e},O.wrapper=function(e){var t="";S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,{baseClass:"wrapper"})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O.element=function(e){var t,a,s,r,m="";try{var c=e.baseParams||e.forParams||e,n=c.attrs||{},i=e.baseClass||e.forClass||"",o=e.elem,l=e.htmlDeep;o&&l&&!o.htmlDeep?o.htmlDeep=l:!o&&l&&(e.html=l),e.href&&(n.href=e.href)}catch(e){A(e.message)}try{"string"!=typeof(d=(n.href?"a":e.tagName)||"div")&&(A("Element name must be a string"),d="div")}catch(e){d="div",A(e.message)}y.push(d),m+="<"+d,m+=' class="';try{S=fest._helpers.classNamesFor(i,c)}catch(e){S="",A(e.message)}m+=S,m+='"';try{t=n||{}}catch(e){P={},A(e.message)}for(a in t){s=t[a];try{S=a}catch(e){S="",A(e.message)}if(""!==S){m+=" "+S+'="';try{m+=U(s)}catch(e){A(e.message+"25")}m+='"'}}try{r=e.attrsNoEscape||{}}catch(e){P={},A(e.message)}for(a in r){s=r[a];try{S=a}catch(e){S="",A(e.message)}if(""!==S){m+=" "+S+'="';try{m+=s}catch(e){A(e.message+"30")}m+='"'}}m+=(d=y[y.length-1])in p?"/>":">";try{F=e.htmlPrepend}catch(e){F=!1,A(e.message)}if(F)try{m+=e.htmlPrepend}catch(e){A(e.message+"36")}try{F=e.html}catch(e){F=!1,A(e.message)}if(F)try{m+=e.html}catch(e){A(e.message+"39")}try{F=e.elem}catch(e){F=!1,A(e.message)}if(F){S="element",B={};try{B=e.elem}catch(e){A(e.message)}(z=O[S])&&(m+=H(z,B,!1))}try{F=e.elems}catch(e){F=!1,A(e.message)}if(F){var g,h,_;try{h=(_=e.elems||[]).length}catch(e){_=[],h=0,A(e.message)}for(g=0;g<h;g++){o=_[g];try{F=o}catch(e){F=!1,A(e.message)}if(F){S="element",B={};try{B=o}catch(e){A(e.message)}(z=O[S])&&(m+=H(z,B,!1))}}}try{F=e.htmlAppend}catch(e){F=!1,A(e.message)}if(F)try{m+=e.htmlAppend}catch(e){A(e.message+"52")}return(d=y[y.length-1])in p||(m+="</"+d+">"),y.pop(),m},O.share=function(m){var e="";try{F=m.name}catch(e){F=!1,A(e.message)}if(F){try{m.innerParams||m.innerMix,m.countParams||m.countMix}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"share"})}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams(m,{mods:[m.name],attrs:{"data-share":m.name}}))}catch(e){A(e.message)}B.html=G(function(){var e,t,a="";t={};try{E(t,m.buttonParams)}catch(e){A(e.message)}try{E(t,{baseClass:"share__button"})}catch(e){A(e.message)}return t.html=G(function(){var e,t,a,s,r="";e="icon",s={};try{E(s,{name:m.name})}catch(e){A(e.message)}try{E(s,m.iconParams)}catch(e){A(e.message)}try{E(s,fest._helpers.mergeTopParams({mods:["social","social_"+m.name]},m.iconParams))}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=m.text}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,m.textParams)}catch(e){A(e.message)}try{E(s,{tagName:"span",baseClass:"share__text",html:m.text})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(e=O.element)&&(a+=H(e,t,!0)),a}),(z=O[S])&&(e+=H(z,B,!0))}return e},O.icon=function(m){var e="";try{var c=m.svg}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams(m,{mods:c?["svg"]:[],attrs:m.title&&{title:m.title}}))}catch(e){A(e.message)}try{E(B,{tagName:m.tagName||m.tag||"span",baseClass:"icon"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=c&&c.name}catch(e){t=!1,A(e.message)}if(t){e="icon__svg_defs",s={};try{s=c}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.icon}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=m.icon}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.html}catch(e){t=!1,A(e.message)}if(t)try{r+=m.html}catch(e){A(e.message+"35")}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.icon__svg_defs=function(a){var e="";S="element",B={};try{E(B,a)}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams(a,{mods:[a.name],attrs:a.viewbox&&{viewbox:a.viewbox}}))}catch(e){A(e.message)}try{E(B,{tagName:"svg",baseClass:"icon__svg"})}catch(e){A(e.message)}return B.html=G(function(){var t,e="";e+='<use xlink:href="';try{t="#icon__svg_"+a.name}catch(e){t="",A(e.message)}return e+=t,e+='"></use>'}),(z=O[S])&&(e+=H(z,B,!0)),e},O.label=function(e){var t="";S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,{tagName:"span",baseClass:"label",html:e.text})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O.hdr__side=function(e){var t="";try{L[0]=U((e.mods?" hdr__side_"+e.mods.join(" hdr__side_"):"")+(e.mix?" "+e.mix.join(" "):""))}catch(e){L[0]="",A(e.message)}t+='<div class="hdr__side'+L[0]+'">';try{F=e.html}catch(e){F=!1,A(e.message)}if(F)try{t+=e.html}catch(e){A(e.message+"6")}return t+="</div>"},O.hdr__ending=function(e){var t,a,s,r="";try{"string"!=typeof(d=e.href?"a":"span")&&(A("Element name must be a string"),d="div")}catch(e){d="div",A(e.message)}y.push(d),r+="<"+d;try{F=e.href}catch(e){F=!1,A(e.message)}if(F){r+=' href="';try{r+=e.href}catch(e){A(e.message+"8")}r+='"'}r+=' class="';try{r+=fest._helpers.classNamesFor("hdr__ending",e)}catch(e){A(e.message+"14")}r+='"';try{s=e.attrs||{}}catch(e){P={},A(e.message)}for(t in s){a=s[t];try{S=t}catch(e){S="",A(e.message)}if(""!==S){r+=" "+S+'="';try{S=a}catch(e){S="",A(e.message)}r+=S,r+='"'}}r+=(d=y[y.length-1])in p?"/>":">";try{F=e.text}catch(e){F=!1,A(e.message)}if(F)try{r+=e.text}catch(e){A(e.message+"24")}return(d=y[y.length-1])in p||(r+="</"+d+">"),y.pop(),r},O.hdr=function(o){var e="";try{if(!o.item&&o.text){var t,a,s,r={text:o.text,tag:o.tag},m=["Mods","Mix","Href","Tag","Ending"];for(t in m)(s=o["text"+(a=m[t])])&&(r[a.toLowerCase()]=s);o.item=r}o.item&&(o.items=o.items||[],o.items.splice(0,0,o.item))}catch(e){A(e.message)}S="element",B={};try{E(B,o)}catch(e){A(e.message)}try{E(B,{baseClass:"hdr",href:null})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=o.left}catch(e){t=!1,A(e.message)}if(t){e="hdr__side",s={};try{E(s,{mods:["left"],html:o.left})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=o.right}catch(e){t=!1,A(e.message)}if(t){e="hdr__side",s={};try{E(s,{mods:["right"],html:o.right})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=o.items}catch(e){t=!1,A(e.message)}if(t){var m,c,n,i;r+='<div class="hdr__wrapper">';try{n=(i=o.items||[]).length}catch(e){i=[],n=0,A(e.message)}for(m=0;m<n;m++){c=i[m];try{c.mods=c.mods||[],1<o.items.length&&1!=c.active&&c.mods.push("inactive")}catch(e){A(e.message)}try{t=c.icon}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=c.icon}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="element",s={};try{E(s,c)}catch(e){A(e.message)}try{E(s,{baseClass:"hdr__text",tagName:"span"})}catch(e){A(e.message)}s.html=G(function(){var e,t,a,s,r="";try{t=c.text}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,c.innerParams)}catch(e){A(e.message)}try{E(s,{baseClass:"hdr__inner",tagName:c.tag?c.tag:"span"})}catch(e){A(e.message)}try{E(s,"string"==typeof c.text&&{html:c.text}||c.text)}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=c.ending}catch(e){t=!1,A(e.message)}if(t){e="hdr__ending",s={};try{s=c.ending}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=o.textHtml}catch(e){t=!1,A(e.message)}if(t)try{r+=o.textHtml}catch(e){A(e.message+"113")}return r}),(a=O[e])&&(r+=H(a,s,!0))}r+="</div>"}try{t=o.label}catch(e){t=!1,A(e.message)}if(t){e="label",s={};try{s=o.label}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=o.html}catch(e){t=!1,A(e.message)}if(t)try{r+=o.html}catch(e){A(e.message+"132")}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.text=function(e){var t="";S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,{baseClass:"text",tagName:e.tag||"span",html:e.text||e.html})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O.loader=function(e){var t="";try{L[0]=U(fest._helpers.classNamesFor("loader",e))}catch(e){L[0]="",A(e.message)}return t+='<svg class="'+L[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .33)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .66)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'},O.button=function(m){var e="";try{var c,n=m.icon;n&&(c=n.position||"left",n=fest._helpers.mergeParams(n,{mix:["button__icon"].concat(m.text||m.ending?["button__icon_"+c]:[])}))}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"button",tagName:m.tagName||"button"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=m.loader}catch(e){t=!1,A(e.message)}if(t){e="loader",s={};try{s={mods:["button"],mix:["button__loader"]}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}r+='<span class="button__inner">';try{t="left"===c}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=n}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.text}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,m.textParams)}catch(e){A(e.message)}try{E(s,{baseClass:"button__text",html:m.text})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.hiddenText}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,fest._helpers.mergeTopParams(m.textParams,{mods:["hidden"]}))}catch(e){A(e.message)}try{E(s,{baseClass:"button__text",tagName:"span",html:m.hiddenText})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.ending}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,m.endingParams)}catch(e){A(e.message)}try{E(s,{baseClass:"button__ending",html:m.ending})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t="right"==c}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=n}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.html}catch(e){t=!1,A(e.message)}if(t)try{r+=m.html}catch(e){A(e.message+"91")}return r+="</span>"}),(z=O[S])&&(e+=H(z,B,!0)),e},O.link=function(m){var e="";try{var c,n=m.textParams||{mods:m.textMods||[],mix:m.textMix||[]},i=m.endingParams||{mods:m.endingMods||[],mix:m.endingMix||[]},o=m.icon;o&&(c=o.position||"left",o.mix=o.mix||[],o.mix.push("link__icon"),o.mix.push("margin_"+("left"==c?"right":"left")+"_"+(o.marginSize||5)),m.mods=m.mods||[],m.mods.push("icon")),m.ending&&(n.mix=["margin_right_5"].concat(n.mix||[]))}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"link",tagName:"span"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t="left"==c}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=o}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.beginning||m.beginningParams}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,{baseClass:"link__beginning",tagName:"span",html:m.beginning})}catch(e){A(e.message)}try{E(s,m.beginningParams)}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t="text"in m}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,n)}catch(e){A(e.message)}try{E(s,{baseClass:"link__text",tagName:"span",html:m.text})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.ending}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,i)}catch(e){A(e.message)}try{E(s,{baseClass:"link__ending",tagName:"span",html:m.ending})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t="right"==c}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{s=o}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.avatar=function(e){var t="";try{var a={32:90,45:90},s=e.user,r=e.avatarSize,m=e.src;!m&&s&&(r||(r=90),m=fest._helpers.avatar({email:s.email,name:s.name,domain:s.domain,filin_domain:s.filin_domain,filin_d:s.filin_d,width:r in a?a[r]:180}))}catch(e){A(e.message)}S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams(e,r&&{mods:["size_"+r]},m&&{attrs:{style:"background-image: url('"+m+"');"}}))}catch(e){A(e.message)}try{E(B,{baseClass:"avatar",tagName:"span"})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O.like=function(i){var e="";try{var o,t=i.data||{},r=parseInt(t.count,10)||0}catch(e){A(e.message)}S="element",B={};try{E(B,i)}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams({mods:0!==r?["count"]:[]},i))}catch(e){A(e.message)}try{E(B,{baseClass:"like"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s="";e="element",a={};try{E(a,i.countParams)}catch(e){A(e.message)}try{E(a,{baseClass:"like__count",html:0<r?"+"+r:String(r)})}catch(e){A(e.message)}(t=O[e])&&(s+=H(t,a,!1)),e="element",a={};try{E(a,i.controlsParams)}catch(e){A(e.message)}try{E(a,{baseClass:"like__controls"})}catch(e){A(e.message)}return a.html=G(function(){var t,e,a,s,r,m,c,n="";try{m=(c=["like","dislike"]).length}catch(e){c=[],m=0,A(e.message)}for(s=0;s<m;s++){r=c[s];try{o=i[r+"Params"]}catch(e){A(e.message)}try{t=o}catch(e){t=!1,A(e.message)}if(t){a={};try{E(a,o)}catch(e){A(e.message)}try{E(a,fest._helpers.mergeTopParams(o,{mods:[r]}))}catch(e){A(e.message)}try{E(a,{baseClass:"like__control"})}catch(e){A(e.message)}a.html=G(function(){var t,e,a,s="";try{t=o.icon}catch(e){t=!1,A(e.message)}if(t){a={};try{E(a,o.icon)}catch(e){A(e.message)}try{E(a,fest._helpers.mergeTopParams(o.icon,{mix:["like__icon"]}))}catch(e){A(e.message)}(e=O.icon)&&(s+=H(e,a,!1))}return s}),(e=O.element)&&(n+=H(e,a,!0))}}return n}),(t=O[e])&&(s+=H(t,a,!0)),s}),(z=O[S])&&(e+=H(z,B,!0)),e},O.comment=function(m){var e="";try{var c=fest._helpers.mergeTopParams,n=!!m.is_hidden,t=!!m.is_current_user,a=!n&&"complaints_cnt"in m&&parseInt(m.complaints_cnt,10)>s,s=m.complaintsCountMax||0,i=m.author||{},o=m.like;m.mix=m.mix||["js-comments_comment"],m.mods=o&&o.tooltip&&["tooltip"]||[],m.attrs=m.attrs||{"data-id":m.id,id:"comment-"+m.id}}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,c(m,n?{mods:["deleted"]}:null,a?{mods:["bad"]}:null,t?{mods:["current"]}:null,m.clbScroll?{attrs:{"data-counter":m.clbScroll},mix:["js-track_scroll"]}:null))}catch(e){A(e.message)}try{E(B,{baseClass:"comment",href:null})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=n}catch(e){t=!1,A(e.message)}if(t){e="link",s={};try{s={mix:["margin_left_10"],icon:{mods:["delete_rect"],mix:["color_red_normal"]},text:"Комментарий удален."}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),e="link",s={};try{E(s,c(m.removedParams,{mods:["dashed"],mix:["margin_left_5","js-comments_rules"]}))}catch(e){A(e.message)}try{E(s,{href:"#rules",text:"Почему?"})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}else{r+='\x3c!--noindex--\x3e<div class="comment__left">',e="avatar",s={};try{s={src:i.src,user:{name:i.nick,email:i.email,domain:i.domain,filin_domain:i.filin_domain,filin_d:i.filin_d},avatarSize:m.avatarSize||45,mix:m.avatarMix||["comment__avatar"],href:i.href}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+='</div>\x3c!--/noindex--\x3e<div class="comment__body">';try{t=o}catch(e){t=!1,A(e.message)}if(t){e="comment__like",s={};try{s=o}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="comment__info",s={};try{s=m}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=m.parent_reply}catch(e){t=!1,A(e.message)}if(t){e="comment__history",s={};try{s=m}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.content_to_web}catch(e){t=!1,A(e.message)}if(t){r+='<div class="comment__text">';try{r+=m.content_to_web}catch(e){A(e.message+"116")}r+="</div>"}e="comment__actions",s={};try{s=m}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=m.bans_cnt}catch(e){t=!1,A(e.message)}if(t){e="comment__bans",s={};try{s=m}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="element",s={};try{s={baseClass:"comment__form",mix:m.formMix||["js-comments_form_cont"]}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+="</div>"}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.scroll=function(e){var t="";try{e.type=e.type||"vertical";var a=e.trackParams||{},s=e.trackBoxParams||{},r=e.dragParams||{},m=e.dragWrapParams||{};e.mix=e.mix||["js-scrollbar"],s.mix=s.mix||["js-scrollbar__track"],m.mix=m.mix||["js-scrollbar__track__drag__point"],r.mix=r.mix||["js-scrollbar__track__drag"]}catch(e){A(e.message)}try{L[0]=U(fest._helpers.classNamesFor("scroll",e))}catch(e){L[0]="",A(e.message)}try{L[1]=U(e.type)}catch(e){L[1]="",A(e.message)}t+='<div class="'+L[0]+'" data-type="'+L[1]+'">';try{L[0]=U(fest._helpers.classNamesFor("scroll__track",a))}catch(e){L[0]="",A(e.message)}t+='<div class="'+L[0]+'">';try{L[0]=U(fest._helpers.classNamesFor("scroll__track__box",s))}catch(e){L[0]="",A(e.message)}t+='<div class="'+L[0]+'">';try{L[0]=U(fest._helpers.classNamesFor("scroll__track__drag-wrap",m))}catch(e){L[0]="",A(e.message)}t+='<div class="'+L[0]+'">';try{L[0]=U(fest._helpers.classNamesFor("scroll__track__drag",r))}catch(e){L[0]="",A(e.message)}return t+='<div class="'+L[0]+'"></div></div></div></div></div>'},O.tooltip__box=function(m){var e="";S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"tooltip__box"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a="";t={};try{E(t,m.innerParams)}catch(e){A(e.message)}try{E(t,{baseClass:"tooltip__inner"})}catch(e){A(e.message)}return t.html=G(function(){var e,t,a,s,r="";try{t=m.close}catch(e){t=!1,A(e.message)}if(t){e="icon",s={};try{E(s,m.close)}catch(e){A(e.message)}try{E(s,fest._helpers.mergeTopParams(m.close,{mix:["tooltip__close"]}))}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=m.scrollParams}catch(e){t=!1,A(e.message)}if(t){e="scroll",s={};try{s=fest._helpers.mergeParams(m.scrollParams,{mix:["tooltip__scroll"]})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="element",s={};try{E(s,m.contentParams)}catch(e){A(e.message)}try{E(s,{baseClass:"tooltip__content"})}catch(e){A(e.message)}return s.html=G(function(){var t,e="";try{t=m.html}catch(e){t=!1,A(e.message)}if(t)try{e+=m.html}catch(e){A(e.message+"50")}return e}),(a=O[e])&&(r+=H(a,s,!0)),r}),(e=O.element)&&(a+=H(e,t,!0)),a}),(z=O[S])&&(e+=H(z,B,!0)),e},O.tooltip=function(m){var e="";try{var c=m.scrollParams;c&&(m.mods=["scroll"].concat(m.mods||[]))}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"tooltip"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=m.html}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,{baseClass:"tooltip__wrapper"})}catch(e){A(e.message)}s.html=G(function(){var e="";try{e+=m.html}catch(e){A(e.message+"28")}return e}),(a=O[e])&&(r+=H(a,s,!0))}try{t=m.boxHtml||m.boxParams||m.innerParams}catch(e){t=!1,A(e.message)}if(t){e="tooltip__box",s={};try{E(s,m.boxParams)}catch(e){A(e.message)}try{E(s,{scrollParams:c,innerParams:m.innerParams,contentParams:m.contentParams,html:m.boxHtml,close:m.close})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.comment__info=function(o){var e="";try{var l,g,h=fest._helpers.mergeTopParams,_=o.isTopic,d=o.author,y=o.created_at,p=o.afterAuthorHtml,f=_&&o.parent_reply,u=f&&f.author;y&&("string"==typeof y?l=(g=y).replace(" ","T")+"+03:00":"rfc3339"in y&&"display"in y&&(g=y.display,l=y.rfc3339))}catch(e){A(e.message)}e+="\x3c!--noindex--\x3e",S="element",B={};try{E(B,o.info)}catch(e){A(e.message)}try{E(B,{baseClass:"comment__info"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r,m,c,n,i="";try{t=d&&d.nick}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,{baseClass:"comment__info-item",tagName:"span",html:d.nick})}catch(e){A(e.message)}try{E(s,d)}catch(e){A(e.message)}try{E(s,h(d,{mods:["author"]}))}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1))}try{t=d.is_official}catch(e){t=!1,A(e.message)}if(t){e="tooltip",s={};try{E(s,{contentParams:{mix:["color_black"]},boxHtml:"Официальный аккаунт"})}catch(e){A(e.message)}try{E(s,o.iconTooltip)}catch(e){A(e.message)}try{E(s,fest._helpers.mergeTopParams(o.iconTooltip,{mods:["width_medium","hover","arrow_left-center"]}))}catch(e){A(e.message)}s.html=G(function(){var e,t,a="";t={};try{E(t,o.iconOfficial)}catch(e){A(e.message)}try{E(t,fest._helpers.mergeTopParams(o.iconOfficial,{mix:["margin_left_10"],mods:["check","size_10","primary"]}))}catch(e){A(e.message)}return(e=O.icon)&&(a+=H(e,t,!1)),a}),(a=O[e])&&(i+=H(a,s,!0))}try{t=p}catch(e){t=!1,A(e.message)}if(t)try{i+=p}catch(e){A(e.message+"93")}try{t=u}catch(e){t=!1,A(e.message)}if(t){e="link",s={};try{s={mods:["dotted","black","pointer"],text:"В ответ на "+u.nick,mix:["margin_left_10"].concat(o.historyParentLinkMix||["js-comments_parent"]),href:f.href}}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1))}try{t=y&&g}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,{baseClass:"comment__info-item",tagName:"time",html:g})}catch(e){A(e.message)}try{E(s,h({mix:["js-ago","js-ago-wrapper"],attrs:{datetime:l},mods:_?["date"]:[]},o.timeParams))}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1))}try{c=(n=o.info_items||[]).length}catch(e){n=[],c=0,A(e.message)}for(r=0;r<c;r++){m=n[r],e="element",s={};try{E(s,m)}catch(e){A(e.message)}try{E(s,{baseClass:"comment__info-item",tagName:"span",html:m.text,href:m.href})}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1))}return i}),(z=O[S])&&(e+=H(z,B,!0)),e+="\x3c!--/noindex--\x3e"},O.comment__history=function(m){var e="";try{var c=m.parent_reply,n=m.depth_level-1,i=c&&c.author,t={mods:m.historyMods||[],mix:m.historyMix||[]};c.bansLink=m.bansLink,c.bansParams=m.bansParams,c.removedParams=m.removedParams,c.avatarSize=45,c.attrs={"data-id":m.id,id:"parent-comment-"+m.id}}catch(e){A(e.message)}S="element",B={};try{E(B,t)}catch(e){A(e.message)}try{E(B,{baseClass:"comment__history"})}catch(e){A(e.message)}B.html=G(function(){var e,t,a,s,r="";r+='<span class="comment__history-text">В ответ на</span> ',e="link",s={};try{s={mods:["dotted","black","pointer"],text:"комментарий",mix:m.historyParentLinkMix||["js-comments_parent"],href:c.href}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+=' <span class="comment__history-text">от ',e="element",s={};try{s={baseClass:"comment__for",tagName:"span",href:i.href,html:i.nick}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+="</span>";try{t=1<n}catch(e){t=!1,A(e.message)}if(t){r+=" ",e="link",s={};try{s={mods:["dotted","black","pointer"],mix:m.historyTreeLinkMix||["js-comments_history"],text:"История переписки",icon:{position:"right",mods:["count"],mix:["comment__count"],html:n}}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(z=O[S])&&(e+=H(z,B,!0));try{F=c}catch(e){F=!1,A(e.message)}if(F){S="element",B={};try{E(B,{baseClass:"comment__parent",mix:m.historyParentMix||["js-comments_parent_cont"]})}catch(e){A(e.message)}B.html=G(function(){var e,t,a="";t={};try{t=c}catch(e){A(e.message)}return(e=O.comment)&&(a+=H(e,t,!1)),a}),(z=O[S])&&(e+=H(z,B,!0))}try{F=0<n}catch(e){F=!1,A(e.message)}if(F){S="element",B={};try{B={baseClass:"comment__tree",mix:m.historyTreeMix||["js-comments_history_cont"]}}catch(e){A(e.message)}(z=O[S])&&(e+=H(z,B,!1))}return e},O.comment__bans=function(s){var e="";try{var r=s.bansLink||{}}catch(e){A(e.message)}e+="\x3c!--noindex--\x3e",S="element",B={};try{E(B,s.bansParams)}catch(e){A(e.message)}try{E(B,{baseClass:"comment__bans"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a="";t={};try{E(t,r)}catch(e){A(e.message)}try{E(t,{text:(r.text||"Список банов")+" ("+s.bans_cnt+")"})}catch(e){A(e.message)}try{E(t,fest._helpers.mergeTopParams({mods:["dotted","black","pointer"],attrs:{"data-email":s.author.email}},r))}catch(e){A(e.message)}return(e=O.link)&&(a+=H(e,t,!1)),a}),(z=O[S])&&(e+=H(z,B,!0)),e+="\x3c!--/noindex--\x3e"},O.comment__actions=function(e){var t="";try{var a=fest._helpers.mergeTopParams,s=e.permissions||{},r=[{type:"reply",text:"Ответить",icon:{mods:["comment"],name:"icon_actions_comments"},mix:["js-comments_reply","comment__action_visibled"]},{type:"link",text:"Ссылка",icon:{mods:["link"],name:"icon_status_link"},href:e.href},{type:"abuse",text:"Пожаловаться",icon:{mods:["abuse"],name:"icon_status_warning-triangle"},mix:["js-comments_complaint","comment__action_complaint"],textMix:["js-comments_complaint_text"]},{type:"delete",text:"Удалить",icon:{mods:["delete_round"],name:"icon_actions_delete"},mix:["js-comments_delete","comment__action_delete"],textMix:["js-comments_complaint_text"]},{type:"delete_admin",text:"Удалить",icon:{mods:["delete_round"],name:"icon_actions_delete"},ending:"(модератор)",mix:["js-comments_admin_delete","comment__action_delete","comment__action_delete_admin"],endingMix:["comment__action-ending"],textMix:["js-comments_complaint_text"]},{type:"ban",text:"Забанить пользователя",icon:{mods:["ban"]},mix:["js-show_form"],attrs:{"data-module":"AsyncForms.BanUser","data-email":e.author.email,"data-reply-id":e.id},textMix:["js-comments_complaint_text"]},{type:"goto_admin_panel",text:"Перейти в админку",href:e.moder_url,ending:"(модератор)"}].filter(function(e){switch(e.type){case"reply":return(t=s.post_reply)&&!!t.status;case"delete":return(t=s.hide_reply_by_self)&&!!t.status;case"delete_admin":return(t=s.hide_reply)&&!!t.status;case"ban":return(t=s.ban_user)&&!!t.status;case"goto_admin_panel":var t;return(t=s.hide_reply)&&!!t.status;default:return!0}}),m=e.actions||r||[],c=e.callbackParams}catch(e){A(e.message)}try{F=m.length}catch(e){F=!1,A(e.message)}if(F){var n,i,o,l;t+='\x3c!--noindex--\x3e<div class="comment__actions">';try{o=(l=m||[]).length}catch(e){l=[],o=0,A(e.message)}for(n=0;n<o;n++){i=l[n],S="link",B={};try{E(B,i)}catch(e){A(e.message)}try{E(B,a(i,{mods:i.mods||["dotted","black","pointer"],mix:["comment__action"]}))}catch(e){A(e.message)}try{E(B,{endingParams:{mix:["comment__action-ending"]}})}catch(e){A(e.message)}(z=O[S])&&(t+=H(z,B,!1))}t+="</div>\x3c!--/noindex--\x3e"}try{F=c&&c.actionsOther&&c.actionsOtherTemplate}catch(e){F=!1,A(e.message)}if(F){try{S=c.actionsOtherTemplate}catch(e){S="",A(e.message)}B={};try{E(B,c.actionsOther)}catch(e){A(e.message)}(z=O[S])&&(t+=H(z,B,!1))}return t},O.comment__like=function(e){var t="";try{var m=e,c=m.tooltip,n=fest._helpers.mergeTopParams}catch(e){A(e.message)}S="element",B={};try{E(B,m)}catch(e){A(e.message)}try{E(B,{baseClass:"comment__like"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=c}catch(e){t=!1,A(e.message)}if(t){e="tooltip",s={};try{E(s,c)}catch(e){A(e.message)}s.html=G(function(){var e,t,a="";t={};try{E(t,m.like)}catch(e){A(e.message)}try{E(t,{controlsParams:n(m.like.controlsParams,{mix:["comment__like-controls"]}),countParams:n(m.like.countParams,{mix:["comment__like-count"]})})}catch(e){A(e.message)}return(e=O.like)&&(a+=H(e,t,!1)),a}),s.boxHtml=G(function(){var e,t,a="";t={};try{E(t,n(c.textParams,{mods:["light_small"]}))}catch(e){A(e.message)}return t.html=G(function(){var t,e="";try{t=c.text}catch(e){t=!1,A(e.message)}if(t)try{e+=U(c.text)}catch(e){A(e.message+"55")}return e}),(e=O.text)&&(a+=H(e,t,!0)),a}),(a=O[e])&&(r+=H(a,s,!0))}else{e="like",s={};try{E(s,m.like)}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(z=O[S])&&(t+=H(z,B,!0)),t},O.comment_topic=function(n){var e="";try{var t=fest._helpers.mergeTopParams,i=!!n.is_hidden,a=!!n.is_current_user,o=n.depth_level,l=n.author||{},g=n.parent_reply,h=n.like,s=n.permissions||{},_=s.hide_reply&&!!s.hide_reply.status}catch(e){A(e.message)}S="element",B={};try{E(B,n)}catch(e){A(e.message)}try{E(B,{baseClass:"comment",href:null})}catch(e){A(e.message)}try{E(B,t(n,{mix:n.mix||["js-comments_comment"],mods:["topic"].concat(h&&h.tooltip&&["tooltip"]||[]),attrs:n.attrs||{"data-id":n.id,id:"comment-"+n.id}},i?{mods:["deleted"]}:null,i&&_?{mods:["hidden-moder"]}:null,a?{mods:["current"]}:null,o?{mods:["topic_level_"+Math.min(o,3)]}:null,n.clbScroll?{attrs:{"data-counter":n.clbScroll},mix:["js-track_scroll"]}:null))}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s,r="";try{t=i&&!_}catch(e){t=!1,A(e.message)}if(t){e="link",s={};try{s={mix:["margin_left_10"],icon:{mods:["delete_rect"],mix:["color_red_normal"]},text:"Комментарий удален."}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),e="link",s={};try{s={mods:["dashed"],mix:["margin_left_5","js-comments_rules"],href:"#rules",text:"Почему?"}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}else{r+='\x3c!--noindex--\x3e<div class="comment__left">',e="avatar",s={};try{s={src:l.src,user:{name:l.nick,email:l.email,domain:l.domain,filin_domain:l.filin_domain,filin_d:l.filin_d},avatarSize:n.avatarSize||(1<o?32:45),mix:n.avatarMix||["comment__avatar"],href:l.href}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+='</div>\x3c!--/noindex--\x3e<div class="comment__body">';try{t=h}catch(e){t=!1,A(e.message)}if(t){e="comment__like",s={};try{E(s,h)}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="comment__info",s={};try{E(s,n)}catch(e){A(e.message)}try{E(s,{isTopic:!0})}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=g}catch(e){t=!1,A(e.message)}if(t){try{var m=o-1,c={mods:n.historyMods||[],mix:n.historyMix||[]};g.avatarSize=32,g.history=!0,g.attrs={"data-id":n.id,id:"parent-comment-"+n.id}}catch(e){A(e.message)}e="element",s={};try{E(s,{baseClass:"comment__parent",mix:n.historyParentMix||["js-comments_parent_cont"]})}catch(e){A(e.message)}s.html=G(function(){var e,t,a,s,r="";e="comment_topic",s={};try{s=g}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=1<m}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,c)}catch(e){A(e.message)}try{E(s,{baseClass:"comment__history"})}catch(e){A(e.message)}s.html=G(function(){var e,t,a="";t={};try{t={mods:["dotted","black","pointer"],mix:n.historyTreeLinkMix||["js-comments_history"],text:"История переписки",icon:{position:"right",mods:["count"],mix:["comment__count"],html:m}}}catch(e){A(e.message)}return(e=O.link)&&(a+=H(e,t,!1)),a}),(a=O[e])&&(r+=H(a,s,!0))}return r}),(a=O[e])&&(r+=H(a,s,!0));try{t=m}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{s={baseClass:"comment__tree",mix:n.historyTreeMix||["js-comments_history_cont"]}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}}try{t=n.content_to_web}catch(e){t=!1,A(e.message)}if(t){r+='<div class="comment__text">';try{r+=n.content_to_web}catch(e){A(e.message+"178")}r+="</div>"}e="comment__actions",s={};try{s=n}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=n.bans_cnt}catch(e){t=!1,A(e.message)}if(t){e="comment__bans",s={};try{s=n}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="element",s={};try{s={baseClass:"comment__form",mix:n.formMix||["js-comments_form_cont"]}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),r+="</div>"}return r}),(z=O[S])&&(e+=H(z,B,!0)),e},O.input_hidden=function(e){var t="";S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,fest._helpers.mergeTopParams(e,{attrs:{type:"hidden"}}))}catch(e){A(e.message)}try{E(B,{tagName:"input"})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O.form=function(e){var t="";S="element",B={};try{E(B,e)}catch(e){A(e.message)}try{E(B,{baseClass:"form",tagName:e.tagName||"form"})}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t},O["comment-form"]=function(o){var e="";try{var l=fest._helpers.mergeTopParams,g=o.message||{},h=o.avatar||{},_=o.submit||{},d=o.rules||{},y=o.closeParams,p=o.user||{},f=p.pay,t=o.errors||{},u=t.emptyComment&&t.emptyComment.message}catch(e){A(e.message)}S="element",B={};try{E(B,o)}catch(e){A(e.message)}try{E(B,{baseClass:"comment-form"})}catch(e){A(e.message)}return B.html=G(function(){var e,t,a="";t={};try{E(t,o.form)}catch(e){A(e.message)}try{E(t,l(o.form,{mix:["comment-form__form"]}))}catch(e){A(e.message)}return t.html=G(function(){var e,t,a,s,r,m,c,n,i="";try{c=(n=o.inputs||[]||[]).length}catch(e){n=[],c=0,A(e.message)}for(r=0;r<c;r++){m=n[r],e="input_hidden",s={};try{s=m}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1))}i+='<div class="comment-form__avatar">',e="avatar",s={};try{E(s,h)}catch(e){A(e.message)}try{E(s,l({mix:["js-avatar"]},h))}catch(e){A(e.message)}try{E(s,{avatarSize:h.avatarSize||45})}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1)),i+='</div><div class="comment-form__body">';try{t=p&&p.name}catch(e){t=!1,A(e.message)}if(t){e="element",s={};try{E(s,p)}catch(e){A(e.message)}try{E(s,{baseClass:"comment-form__user",href:null})}catch(e){A(e.message)}s.html=G(function(){var e,t,a,s,r="";e="link",s={};try{E(s,p.name)}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1));try{t=f}catch(e){t=!1,A(e.message)}if(t){r+='<span class="valign_middle">, </span>',e="link",s={};try{E(s,f)}catch(e){A(e.message)}try{E(s,l(f,{mix:["color_gray"]}))}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}return r}),(a=O[e])&&(i+=H(a,s,!0))}i+='<div class="comment-form__inner">',e="element",s={};try{E(s,l({attrs:{name:g.attrs.name||"message",placeholder:g.attrs.placeholder||"Ваш комментарий"}},g))}catch(e){A(e.message)}try{E(s,{baseClass:"comment-form__input",tagName:"textarea"})}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1)),i+='<div class="comment-form__actions"><div class="comment-form__actions-inner"><div class="comment-form__actions-item">',e="button",s={};try{E(s,_)}catch(e){A(e.message)}try{E(s,l({mix:["comment-form__submit"]},_))}catch(e){A(e.message)}try{E(s,{icon:_.icon||{mods:["comment"],position:"left"},text:_.text||"Комментировать"})}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1)),i+="</div>";try{t=y}catch(e){t=!1,A(e.message)}if(t){i+='<div class="comment-form__actions-item">',e="link",s={};try{s=y}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1)),i+="</div>"}i+='<div class="comment-form__actions-item align_right">',e="link",s={};try{E(s,d)}catch(e){A(e.message)}try{E(s,l({mods:["dotted"],mix:["comment-form__rules","color_black","js-comments_rules"]},d))}catch(e){A(e.message)}try{E(s,{text:d.text||"Правила размещения сообщения",href:d.href||"#rules"})}catch(e){A(e.message)}(a=O[e])&&(i+=H(a,s,!1)),i+='</div></div></div></div><div class="comment-form__error-text js-error-text_empty">';try{i+=U(u)}catch(e){A(e.message+"163")}return i+="</div></div>"}),(e=O.form)&&(a+=H(e,t,!0)),a}),(z=O[S])&&(e+=H(z,B,!0)),e},O.paging=function(e){var t,a,s,r="";try{var m=e.contentParams||{mods:e.contMods,mix:e.contMix},c=e.moreParams||{mods:e.moreMods,mix:e.moreMix}}catch(e){A(e.message)}try{L[0]=U(fest._helpers.classNamesFor("paging",e))}catch(e){L[0]="",A(e.message)}r+='<div class="'+L[0]+'"';try{s=e.attrs||{}}catch(e){P={},A(e.message)}for(t in s){a=s[t];try{S=t}catch(e){S="",A(e.message)}if(""!==S){r+=" "+S+'="';try{r+=U(a)}catch(e){A(e.message+"10")}r+='"'}}r+=">";try{F=e.html}catch(e){F=!1,A(e.message)}if(F){try{L[0]=U(fest._helpers.classNamesFor("paging__content",m))}catch(e){L[0]="",A(e.message)}r+='<div class="'+L[0]+'">';try{r+=e.html}catch(e){A(e.message+"17")}r+="</div>"}try{F=e.button}catch(e){F=!1,A(e.message)}if(F){try{L[0]=U(fest._helpers.classNamesFor("paging__more",c))}catch(e){L[0]="",A(e.message)}r+='<div class="'+L[0]+'">',S="button",B={};try{B=e.button}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1)),r+="</div>"}var n=+e.total;try{F=1<n&&e.href}catch(e){F=!1,A(e.message)}if(F){try{var i,o,l,g={mods:["disabled"],html:"&hellip;"},h={pageParam:e.pageParameter||"page",href:e.href,anchor:e.anchor||"",addPage:e.addPage||!0},_=e.itemParams||{},d=+e.current||1;l=+e.maxPages||6,(i=d-Math.ceil(l/2))<1&&(i=1),n<(o=i+l)&&(o=n)}catch(e){A(e.message)}var y,p,f,u,x,v;try{p=(f=["prev","next"]).length}catch(e){f=[],p=0,A(e.message)}for(u=0;u<p;u++){y=f[u];try{var b=e[y],k=("prev"==y?1:n)==d}catch(e){A(e.message)}try{F=b}catch(e){F=!1,A(e.message)}if(F){S="paging__link",B={};try{E(B,h)}catch(e){A(e.message)}try{E(B,b)}catch(e){A(e.message)}try{E(B,{mods:["nav","nav_"+y].concat(b.mods||[]).concat(k?["disabled"]:[]),pageNum:d+("prev"==y?-1:1)})}catch(e){A(e.message)}B.html=G(function(){var t,e,a,s="";try{t=b.icon}catch(e){t=!1,A(e.message)}if(t){a={};try{E(a,b.icon)}catch(e){A(e.message)}try{E(a,{mix:["paging__icon"].concat(b.icon.mix||[])})}catch(e){A(e.message)}(e=O.icon)&&(s+=H(e,a,!1))}return s}),(z=O[S])&&(r+=H(z,B,!0))}}try{F=1<i}catch(e){F=!1,A(e.message)}if(F){S="paging__link",B={};try{E(B,h)}catch(e){A(e.message)}try{E(B,_)}catch(e){A(e.message)}try{E(B,{mods:["first"].concat(_.mods||[]),pageNum:1})}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1));try{F=2<i}catch(e){F=!1,A(e.message)}if(F){S="paging__link",B={};try{B=g}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1))}}try{v=i,x=o}catch(e){x=v=0,A(e.message)}for(u=v;u<=x;u++){S="paging__link",B={};try{E(B,h)}catch(e){A(e.message)}try{E(B,_)}catch(e){A(e.message)}try{E(B,{pageNum:u,mods:(_.mods||[]).concat(d==u?["active"]:[])})}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1))}try{F=o<n}catch(e){F=!1,A(e.message)}if(F){try{F=o<n-1}catch(e){F=!1,A(e.message)}if(F){S="paging__link",B={};try{B=g}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1))}S="paging__link",B={};try{E(B,h)}catch(e){A(e.message)}try{E(B,_)}catch(e){A(e.message)}try{E(B,{mods:["last"].concat(_.mods||[]),pageNum:n})}catch(e){A(e.message)}(z=O[S])&&(r+=H(z,B,!1))}}return r+="</div>"},O.paging__link=function(e){var t,a,s,r="";try{var m=e.href,c=e.pageNum,n=e.attrs||{},i=e.mods||[],o=m&&-1==i.indexOf("active")&&-1==i.indexOf("disabled");c&&(-1==i.indexOf("nav")&&(n["data-page"]=c),1<c&&o&&(m=m+(e.addPage?(-1===m.indexOf("?")?"?":"&")+e.pageParam+"="+c:"")+e.anchor),e.html||(e.html=c))}catch(e){A(e.message)}try{"string"!=typeof(d=o?"a":"span")&&(A("Element name must be a string"),d="div")}catch(e){d="div",A(e.message)}y.push(d),r+="<"+d,r+=' class="';try{S=fest._helpers.classNamesFor("paging__link",e)}catch(e){S="",A(e.message)}r+=S,r+='"';try{F=o}catch(e){F=!1,A(e.message)}if(F){r+=' href="';try{S=m}catch(e){S="",A(e.message)}r+=S,r+='"'}try{s=n||{}}catch(e){P={},A(e.message)}for(t in s){a=s[t];try{S=t}catch(e){S="",A(e.message)}if(""!==S){r+=" "+S+'="';try{r+=U(a)}catch(e){A(e.message+"32")}r+='"'}}r+=(d=y[y.length-1])in p?"/>":">";try{F=e.html}catch(e){F=!1,A(e.message)}if(F)try{r+=e.html}catch(e){A(e.message+"37")}return(d=y[y.length-1])in p||(r+="</"+d+">"),y.pop(),r},O["comments-paging"]=function(e){var t="";try{var a=e.first||{};a.mods=a.mods||["dashed","pointer"],a.mix=a.mix||[],a.mix.push("comments-paging__end"),a.text=a.text||"К первому сообщению",a.icon="icon"in a?a.icon:{mods:["round_up"],position:"left",marginSize:10};var s=e.last||{};s.mods=s.mods||["dashed","pointer"],s.mix=s.mix||[],s.mix.push("comments-paging__end"),s.text=s.text||"К последнему сообщению",s.icon="icon"in s?s.icon:{mods:["round_down"],position:"right",marginSize:10};var r=e.previous||{};r.mix=r.mix||[],r.mix.push("comments-paging__nav"),r.mods=r.mods||["paging_previous"];var m=e.next||{};m.mix=m.mix||[],m.mix.push("comments-paging__nav"),m.mods=m.mods||["paging_next"]}catch(e){A(e.message)}try{L[0]=U(fest._helpers.classNamesFor("comments-paging",e))}catch(e){L[0]="",A(e.message)}t+='<div class="'+L[0]+'"><div class="comments-paging__inner"><div class="comments-paging__cell">',S="link",B={};try{B=a}catch(e){A(e.message)}(z=O[S])&&(t+=H(z,B,!1)),t+='</div><div class="comments-paging__cell">';try{L[0]=U(fest._helpers.classNamesFor("comments-paging__navigation",e.navigation))}catch(e){L[0]="",A(e.message)}t+='<div class="'+L[0]+'">',S="icon",B={};try{B=r}catch(e){A(e.message)}(z=O[S])&&(t+=H(z,B,!1));try{L[0]=U(fest._helpers.classNamesFor("comments-paging__pages",e.pages))}catch(e){L[0]="",A(e.message)}t+='<span class="'+L[0]+'"></span>',S="icon",B={};try{B=m}catch(e){A(e.message)}(z=O[S])&&(t+=H(z,B,!1)),t+='</div></div><div class="comments-paging__cell">',S="link",B={};try{B=s}catch(e){A(e.message)}return(z=O[S])&&(t+=H(z,B,!1)),t+="</div></div></div>"},O.comments=function(o){var e="";try{var t={review:{title:"Отзывы",titleEmpty:"Пока отзывов нет, начните обсуждение",formSubmits:["Оставить отзыв","Ответить"],formPlaceholders:["Ваш отзыв","Ваш ответ"],formRules:["Правила размещения отзыва","Правила размещения отзыва"]},comment:{title:"Комментарии",titleEmpty:"Пока ни одного комментария, будьте первым!",formSubmits:["Ответить","Ответить"],formPlaceholders:["Ваш ответ","Ваш ответ"],formRules:["Правила размещения комментариев","Правила размещения комментариев"]}},l=o.api,a=o.customData,s=l&&l.params&&l.params.urls&&l.params.enabled&&(!l.topic||!l.topic.is_hidden)}catch(e){A(e.message)}try{F=s}catch(e){F=!1,A(e.message)}if(F){try{var r=ru.mail.cpf.Basic.Extend,m=t[l.params.type]||t.comment,c=o.texts||{},n=l.params.texts||{},g={},h=l.topic;l.pager=l.pager||{commentsCount:0,totalPages:0,currentPage:0},Object.keys(m).forEach(function(e){g[e]=c[e]||n[e]||m[e]});var i=l.pager.commentsCount,_=l.pager.totalPages,d=!0===o.isCommentsPage,y=fest._helpers.classNamesFor("comments__pages",{mods:o.pagesMods||[],mix:o.pagesMix||["js-comments_pages"]}),p=fest._helpers.classNamesFor("comments__inner",{mods:o.innerMods||[],mix:o.innerMix||["js-comments_list"]}),f=o.hdr||{};if(!1!==o.hdr){f.text=f.text||(i?g.title:g.titleEmpty),f.mix=f.mix||[],f.mix.push("comments__hdr");var u=f.label||{};u.text=u.text||i||null,u.mix=u.mix||["js-comments-cnt"],f.label=u.text?u:null}var x,v,b=o.loginButton||{href:"#",mix:["js-check_auth","margin_right_10"],icon:{position:"left",mods:["login"]},text:"Войти"},k=o.regLink||{href:"#",mods:["pointer","underline"],mix:["js-check_auth","margin_left_10"],text:"Зарегистрироваться"},P=o.commentsPageButton||{text:"Читать все",icon:{mods:["arrow_down"],position:"right"}};P.ending=i,P.href=l.params.urls.list,o.mods=o.mods||[],i||o.mods.push("empty"),d&&(o.mods.push("page"),(x=o.paging||{}).mix=x.mix||["js-comments_paging"],x.first=x.first||{},x.first.attrs=x.first.attrs||{"data-page":1},x.first.mix=x.first.mix||["js-first","js-comments_paging_btn"],x.last=x.last||{},x.last.attrs=x.last.attrs||{"data-page":"last"},x.last.mix=x.last.mix||["js-last","js-comments_paging_btn"],x.previous=x.previous||{},x.previous.mix=x.previous.mix||["js-prev","js-comments_paging_btn"],x.next=x.next||{},x.next.mix=x.next.mix||["js-next","js-comments_paging_btn"],x.navigation=x.navigation||{},x.navigation.mix=x.navigation.mix||["js-comments_btnwrap"],x.pages=x.pages||{},x.pages.mix=x.pages.mix||["js-comments_page_btn_cont"],_<2&&x.mix.push("hidden_all")),o.simplePaging&&((v=o.paging||{}).total=_,v.current=l.pager.currentPage,v.href=l.pager.url,v.mix=v.mix||["js-topic-pager","margin_top_20","margin_bottom_20"],v.prev=v.prev||{icon:{mods:["paging_previous"]}},v.next=v.next||{icon:{mods:["paging_next"]}});var j=l.params.ident,C=[{mix:["js-comment_id"],attrs:{name:"replyto",value:"0"}}];if(j)for(var w in j)j.hasOwnProperty(w)&&C.push({attrs:{name:w,value:j[w]}});var M=["fixed","wander"].map(function(e){var t=o[e+"Form"]||{},a=t.message||{};a.attrs=a.attrs||{},a.attrs.maxlength=l.params.maxMsgLen;var s={avatar:t.avatar||("wander"==e?{avatarSize:45}:null),inputs:t.inputs||C,submit:t.submit||{mix:["js-comments_form_submit"]},mods:t.mods||[e],mix:t.mix||["js-comments_form_"+e],form:t.form||{mix:["js-comments_form"]},message:a,user:o.user||{},rules:o.commentsRules||{}};return"fixed"===e&&s.mix.push("comments__authorized"),s}),N=r(!0,{},{sendError:{head:"Ошибка отправки",descr:"Перегрузите страницу, или попробуйте позже",message:"При отправке сообщения возникла ошибка"},requestError:{head:"Ошибка",descr:"Перегрузите страницу, или попробуйте позже",message:"При получении данных возникла ошибка."},emptyComment:{head:"Ошибка",descr:"",message:"Вы не ввели текст комментария"}},o.errorTexts||{}),T={topicId:l.params.topicId,currentPage:l.pager.currentPage,totalPages:l.pager.totalPages,commentsCount:l.pager.commentsCount,postUrl:l.params.urls.add,historyUrl:l.params.urls.history,complainUrl:l.params.urls.complain,deleteUrl:l.params.urls.delete,commentsUrl:l.params.urls.jsonList,adminUrl:l.params.urls.proxy,texts:N,handleScroll:!!d,appendNewComment:o.appendNewComment,customData:a,clbScrolls:o.clbScrolls};o.attrs=o.attrs||{},o.attrs.onclick=o.attrs.onclick||"return "+JSON.stringify(T),o.mix=o.mix||[],o.mix.push("js-comments")}catch(e){A(e.message)}S="element",B={};try{E(B,o)}catch(e){A(e.message)}try{E(B,{baseClass:"comments",href:null})}catch(e){A(e.message)}B.html=G(function(){var t,a,e,s,r,m,c,n,i="";try{a=!1!==o.hdr}catch(e){a=!1,A(e.message)}if(a){t="hdr",s={};try{s=f}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1))}i+='<div class="comments__list">';try{L[0]=U(y)}catch(e){L[0]="",A(e.message)}i+='<div class="'+L[0]+'">';try{a=v&&1<_}catch(e){a=!1,A(e.message)}if(a){t="paging",s={};try{s=v}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1))}else{try{a=d}catch(e){a=!1,A(e.message)}if(a){t="comments-paging",s={};try{s=x}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1))}}try{L[0]=U(p)}catch(e){L[0]="",A(e.message)}i+='<div class="'+L[0]+'">';try{c=(n=l.list||[]||[]).length}catch(e){n=[],c=0,A(e.message)}for(r=0;r<c;r++){m=n[r];try{t=h?"comment_topic":"comment"}catch(e){t="",A(e.message)}s={};try{E(s,m)}catch(e){A(e.message)}try{E(s,{bansParams:o.bansParams||{},bansLink:o.bansLink||{},complaintsCountMax:o.complaintsCountMax,removedParams:o.removedParams||{},callbackParams:o.commentCallback&&o.commentCallback(m)})}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1))}i+="</div></div></div>";try{a=v&&1<_}catch(e){a=!1,A(e.message)}if(a){t="paging",s={};try{s=v}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1))}i+="\x3c!--noindex--\x3e";try{a=!(h&&!0===h.is_closed)}catch(e){a=!1,A(e.message)}if(a){i+='<div class="comments__actions"><div class="margin_top_30 margin_bottom_10 comments__no-authorized">Чтобы оставить комментарий, вам нужно авторизоваться.</div><div>';try{a=!d&&!v&&P&&1<_}catch(e){a=!1,A(e.message)}if(a){i+='<span class="margin_right_20">',t="button",s={};try{s=P}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1)),i+="</span>"}i+='<span class="comments__no-authorized">',t="button",s={};try{s=b}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1)),t="link",s={};try{s={text:"или"}}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1)),t="link",s={};try{s=k}catch(e){A(e.message)}(e=O[t])&&(i+=H(e,s,!1)),i+="</span></div></div>",t="element",s={};try{E(s,o.add||{mix:["js-comments_add"]})}catch(e){A(e.message)}try{E(s,{baseClass:"comments__add"})}catch(e){A(e.message)}s.html=G(function(){var e,t,a,s,r,m,c="";try{r=(m=M||[]).length}catch(e){m=[],r=0,A(e.message)}for(a=0;a<r;a++){s=m[a];try{s.submit=s.submit||{},s.submit.text=g.formSubmits[a],s.rules=s.rules||{},s.rules.text=g.formRules[a],s.message=s.message||{},s.message.attrs=s.message.attrs||{},s.message.attrs.placeholder=g.formPlaceholders[a],s.errors=T.texts||{}}catch(e){A(e.message)}t={};try{t=s}catch(e){A(e.message)}(e=O["comment-form"])&&(c+=H(e,t,!1))}return c}),(e=O[t])&&(i+=H(e,s,!0));try{a=o.html}catch(e){a=!1,A(e.message)}if(a)try{i+=o.html}catch(e){A(e.message+"333")}}return i+="\x3c!--/noindex--\x3e"}),(z=O[S])&&(e+=H(z,B,!0)),e+="\x3c!--noindex--\x3e",B={},(z=O[S="pc-comment-rules"])&&(e+=H(z,B,!1)),e+="\x3c!--/noindex--\x3e"}return e},O["pc-comments_short"]=function(e){var t="";try{var r=e.data||{},m=(r.list,(r.pager||{}).commentsCount),c=r.params||{},n=c.urls||{}}catch(e){A(e.message)}S="block",B={};try{E(B,fest._helpers.mergeTopParams({mix:["link-hdr","js-module","p-payment-comments__parent"],mods:["collapse"],attrs:{"data-module":"Toggle,TrackBlocks","data-counter-id":"28147653"}},e))}catch(e){A(e.message)}return B.html=G(function(){var e,t,a,s="";e="hdr",a={};try{E(a,{mix:["margin_bottom_10"],attrs:{name:"clb28147653"},item:{text:"Комментарии",href:m?n.list:null,ending:m&&{mix:["margin_left_10","color_gray","text_light_large","js-comments-cnt"],text:m}}})}catch(e){A(e.message)}(t=O[e])&&(s+=H(t,a,!1)),s+='<div class="js-module" data-module="AsyncFormsCont">',e="element",a={};try{E(a,{mix:["js-module"],attrs:{"data-module":"CommentsLikesModel,CommentsInit","data-view":"CommentsLikesView",onclick:"return "+JSON.stringify({CommentsLikesModel:{options:{urls:{currentUserLikes:c.urls.curuser_likes}}},CommentsLikesView:{options:{pageId:c.topicId,likesParam:{options:{urls:{like:c.urls.like,dislike:c.urls.dislike}}}}}})}})}catch(e){A(e.message)}a.html=G(function(){var e,t,a="";t={};try{E(t,{mods:["unauthorized","compact"],api:r,fixedForm:{submit:{mix:["js-comments_form_submit"],text:"Отправить",attrs:{type:"submit"},mods:["color_project"],icon:{mods:["comment"],mix:["margin_right_5"],position:"left"}}},user:{mix:["hidden","js-payments__userinfo"],name:{mix:["js-payments__userinfo-name"]},pay:{text:"вы можете комментировать еще",textParams:{mix:["valign_middle","color_gray"]},ending:"&nbsp; дней",endingParams:{mods:["light_small"],mix:["js-payments__userinfo-pay"]}}},commentsRules:{mix:["js-module"],attrs:{"data-module":"ShowPopupModel","data-view":"ShowPopup.Comments.Rules"}},removedParams:{mix:["js-module"],attrs:{"data-module":"ShowPopupModel","data-view":"ShowPopup.Comments.Rules"}},add:{mix:["js-toggle__container","js-comments_add","hidden_all"]},appendNewComment:!0})}catch(e){A(e.message)}return(e=O.comments)&&(a+=H(e,t,!1)),a}),(t=O[e])&&(s+=H(t,a,!0)),s+="</div>",e="block",a={};try{E(a,{mods:["collapse"],mix:["js-toggle__container"]})}catch(e){A(e.message)}return a.html=G(function(){var e,t,a,s,r="";try{t=!m}catch(e){t=!1,A(e.message)}if(t){e="text",s={};try{s={mix:["margin_bottom_20"],mods:["light_small","block"],text:"Пока ни одного комментария, будьте первым!"}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}try{t=1<m}catch(e){t=!1,A(e.message)}if(t){e="button",s={};try{s={mix:["margin_right_20"],attrs:{name:"clb28147653"},text:"Читать все",ending:m,href:n.list}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1))}e="button",s={};try{s={mix:["js-toggle__button","p-payment-comments__button-form"],mods:["color_project"],text:"Комментировать",href:n.list}}catch(e){A(e.message)}(a=O[e])&&(r+=H(a,s,!1)),e="button",s={};try{s={mix:["js-payments__check-btn","p-payment-comments__button-payment"],mods:["color_project"],text:"Комментировать",href:n.list}}catch(e){A(e.message)}return(a=O[e])&&(r+=H(a,s,!1)),r}),(t=O[e])&&(s+=H(t,a,!0)),s}),(z=O[S])&&(t+=H(z,B,!0)),t},function(e){var t=a;S="ajax",B={};try{var s=t||{}}catch(e){A(e.message)}B.html=G(function(){var e,t,a="";t={};try{E(t,{data:s})}catch(e){A(e.message)}return(e=O["pc-comments_short"])&&(a+=H(e,t,!1)),a}),c.push(m,{name:S,params:B,cp:!0}),m=""}(),t=c.length){for(P=0;P<t;P++)"string"==typeof(e=c[P])?n+=e:(z=O[e.name])&&(n+=H(z,e.params,e.cp));return n+m}return m}}(Function("return this")());