!function(){function e(r,t,n){function o(a,c){if(!t[a]){if(!r[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=t[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return o(t||e)},f,f.exports,e,r,t,n)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,r,t){!function(e,n){if("object"==typeof t&&"object"==typeof r)r.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o=n();for(var i in o)("object"==typeof t?t:e)[i]=o[i]}}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="/dist/",r(0)}([function(e,r,t){"use strict";var n=t(1);e.exports={createReporter:n.createReporter,version:"2.0.7"}},function(e,r,t){"use strict";function n(e){var r=window.location.origin;return e.split("\n").map(function(e){return(0,u.trim)(e).replace(r,"")})}function o(e){var r=e.logName,t=e.projectName,o=e.transportType,l=void 0===o?"img":o,p=e.errorKeyName,d=void 0===p?"jsError":p,v=(0,s.getTransport)(l),m=(0,u.getHostName)(a.APP_DEFAULTS)(t),y=function(e,n,o){var i=(0,c.getPayload)({projectName:t,logName:r,name:e},n,o),a=v(m,i);return{payload:i,uri:a}},h=function(){return{logName:r,projectName:t,uri:m}},g=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=(0,f.normalizeError)(e),o=window.location.href;try{throw t}catch(a){var c=i({r:o,m:a.message,s:n(a.stack||"")},r);return y(d,1,c)}},w=function(e){var r=arguments.length<=1||void 0===arguments[1]?function(e){return e}:arguments[1],t=window.addEventListener?"addEventListener":"attachEvent",n="addEventListener"===t?"":"on";e[t](n+"error",function(e){var t=e||window.event,n=(0,f.normalizeError)(t.error);r(e,g(n,{f:t.filename||"",l:t.lineno||"",c:t.colno||""}))})};return{captureException:g,watchForErrorOn:w,getParams:h,send:y}}Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r.createReporter=o;var a=t(2),c=t(3),u=t(4),s=t(6),f=t(7)},function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.APP_DEFAULTS={protocol:"https",hostName:"radar.imgsmail.ru",url:"/update"},r.ERROR_DEFAULT={error:!0}},function(e,r,t){"use strict";function n(e){return Object.keys(e).reduce(function(r,t){var n=e[t];return(0,i.isEmpty)(n)||(r[t]=n),r},{})}function o(e){var r=e.projectName,t=e.logName,o=void 0===t?null:t,i=e.name,c=void 0===i?"error":i,s=arguments.length<=1||void 0===arguments[1]?1:arguments[1],f=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],l={p:r,t:c,v:s,rnd:Math.random()};if(null!==o){l.rlog=o;var p={p:(0,a.getPlatform)(),d:n(f)};try{l.rlog_message=JSON.stringify(p)}catch(d){l.rlog_message=u}}return l}Object.defineProperty(r,"__esModule",{value:!0}),r.getPayload=o;var i=t(4),a=t(5),c=t(2),u=JSON.stringify(c.ERROR_DEFAULT)},function(e,r){"use strict";function t(e){var r=e.protocol,t=e.hostName,n=e.url;return function(e){return r+"://"+e+"."+t+n}}function n(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function o(e){return"undefined"==typeof e||null===e||(!e.toString||0===n(e.toString()).length)}Object.defineProperty(r,"__esModule",{value:!0}),r.getHostName=t,r.trim=n,r.isEmpty=o},function(e,r){"use strict";function t(){var e=window.navigator.userAgent,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],t=r[1]||"",n=r[2]||"";if(/trident/i.test(r[1])){var o=/\brv[ :]+(\d+)/g.exec(navigator.userAgent);return null!==o?{n:"IE",v:o[1]}:{n:"IE",v:""}}if("Opera"===t){if(window.opera)return{n:"Opera",v:window.opera.version()};var i=e.match(/\bOPR\/([\d|\.]+)/);return{n:t,v:i[1]}}if("Safari"===t){var a=e.match(/Version\/([\d|\.]+)/i);return{n:t,v:a[1]||n}}return{n:t,v:n}}Object.defineProperty(r,"__esModule",{value:!0}),r.getPlatform=t},function(e,r,t){"use strict";function n(e){return Object.keys(e).reduce(function(r,t){var n=e[t];return(0,a.isEmpty)(n)?r:r.concat(t+"="+encodeURIComponent(n))},[]).join("&")}function o(e,r){var t=n(r);return e+"?"+t}function i(e){switch(e){case"dummy":return function(e,r){var t=o(e,r);return t};case"xhr":throw new c.MPFRadarReportError({message:"XHR: not implemented"});case"img":return function(e,r){var t=o(e,r),n=new Image;return n.src=t,t};case"fetch":default:return function(e,r,t){var n=o(e,r);return fetch(n,{mode:"no-cors"}),n}}}Object.defineProperty(r,"__esModule",{value:!0}),r.getTransport=i;var a=t(4),c=t(7)},function(e,r){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function o(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}function i(e){return e instanceof Error?e:new Error(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeError=i;r.MPFRadarReportError=function(e){function r(e){var o=e.message,i=void 0===o?"unknown error":o;t(this,r);var a=n(this,Object.getPrototypeOf(r).call(this,i));return a.name=a.constructor.name,Error.captureStackTrace?Error.captureStackTrace(a,a.constructor.name):a.stack=(new Error).stack,a}return o(r,e),r}(Error)}])})},{}],2:[function(e,r,t){"use strict";function n(e){if(!e.title)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty title"});if(!e.body)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty body"});if(!e.url)throw new i.PushNotificationsError({code:"invalid_format",message:"Empty url"});return e}var o=e("@mrgm/radar-report"),i=e("../utils/error"),a="news",c="/json/browser_push/",u="https://news.mail.ru/img/logo/news/news_192x192.png",s=(0,o.createReporter)({projectName:a,transportType:"fetch"});self.addEventListener("install",function(e){e.waitUntil(self.skipWaiting())}),self.addEventListener("message",function(){}),self.addEventListener("push",function(e){return s.send("push_worker_push",1),e.waitUntil(fetch(c).then(function(e){if(200!==e.status)throw new i.PushNotificationsError({code:"invalid_response",message:"Invalid Response"});return e.json()}).then(n).then(function(e){s.send("push_worker_server",1);var r=new Date,t={body:e.body||"",icon:e.icon||u,data:{url:e.url||"/"},tag:"".concat(e.tag||r.getTime())};return self.registration.showNotification(e.title,t)})["catch"](function(e){s.send("push_worker_server",0),console.error("Invalid data",e.code,e.message)}))}),self.addEventListener("notificationclick",function(e){var r=e.notification,t=(r.data||{}).url||"/";s.send("push_worker_notification_click",1),e.notification.close(),e.waitUntil(clients.openWindow(t))})},{"../utils/error":3,"@mrgm/radar-report":1}],3:[function(e,r,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){return!r||"object"!==n(r)&&"function"!=typeof r?c(e):r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&p(e,r)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var r="function"==typeof Map?new Map:void 0;return(u=function(e){function t(){return f(e,arguments,d(this).constructor)}if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof r){if(r.has(e))return r.get(e);r.set(e,t)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),p(t,e)})(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e,r,t){return f=s()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=Function.bind.apply(e,n),i=new o;return t&&p(i,t.prototype),i},f.apply(null,arguments)}function l(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function p(e,r){return(p=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.PushNotificationsError=void 0;var v=function(e){function r(e){var t,n=e.message,a=e.code;return o(this,r),t=i(this,d(r).call(this,n)),t.name=t.constructor.name,t.code=a,Error.captureStackTrace?Error.captureStackTrace(c(c(t)),t.constructor.name):t.stack=(new Error).stack,t}return a(r,e),r}(u(Error));t.PushNotificationsError=v;var m=v;t["default"]=m},{}]},{},[2]);