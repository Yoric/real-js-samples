/*!
 * @zentrick/creative-template-unruly-vpaid v0.2.97
 * Copyright (c) 2019 Zentrick nv (https://www.zentrick.com/)
 *
 * Includes:
 * - http://npm.im/bowser
 * - http://npm.im/camelcase
 * - http://npm.im/core-js
 * - http://npm.im/delay
 * - http://npm.im/event-target-shim
 * - http://npm.im/eventemitter3
 * - http://npm.im/iab-vast-error
 * - http://npm.im/iab-vast-loader
 * - http://npm.im/iab-vast-model
 * - http://npm.im/json-stringify-safe
 * - http://npm.im/p-defer
 * - http://npm.im/p-finally
 * - http://npm.im/promise-queue
 * - http://npm.im/protochain
 * - http://npm.im/querystring
 * - http://npm.im/raf
 * - http://npm.im/rx.disposables
 * - http://npm.im/safe-json-stringify
 * - http://npm.im/unfetch
 * - http://npm.im/upper-case-first
 */
(function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function e(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){return"[Throws: "+(t?t.message:"?")+"]"}function i(e){var i=[];return function e(r){if(null===r||"object"!==(void 0===r?"undefined":t(r)))return r;if(-1!==i.indexOf(r))return"[Circular]";i.push(r);if("function"==typeof r.toJSON)try{return e(r.toJSON())}catch(t){return n(t)}return Array.isArray(r)?r.map(e):Object.keys(r).reduce(function(t,i){t[i]=e(function(t,e){if(Ni.call(t,e))try{return t[e]}catch(t){return n(t)}return t[e]}(r,i));return t},{})}(e)}function r(){var t,e,n=[];if(Array.isArray(arguments[0]))e=(n=arguments[0]).length;else{e=arguments.length;n=new Array(e);for(t=0;t<e;t++)n[t]=arguments[t]}this._disposables=n;this.isDisposed=!1;this.length=n.length}function o(t,e){return e=e||{},new Promise(function(n,i){function r(){var t,e=[],n=[],i={};return o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(r,o,s){e.push(o=o.toLowerCase()),n.push([o,s]),i[o]=(t=i[o])?t+","+s:s}),{ok:2==(o.status/100|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:r,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return e},entries:function(){return n},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}}var o=new XMLHttpRequest;for(var s in o.open(e.method||"get",t,!0),e.headers)o.setRequestHeader(s,e.headers[s]);o.withCredentials="include"==e.credentials,o.onload=function(){n(r())},o.onerror=i,o.send(e.body||null)})}function s(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":t(n))&&"function"!=typeof n?e:n}function a(t){return null==t?null:Object.getPrototypeOf(Object(t))}Function.prototype.$asyncbind=function e(n,i){"use strict";function r(){return o.apply(n,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0});e.trampoline||(e.trampoline=function(t,e,n,i,r){return function o(s){for(;s;){if(s.then){s=s.then(o,i);return r?void 0:s}try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return i(t)}}}});if(!e.LazyThenable){e.LazyThenable=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,i,r){try{var o=r?r(i):i;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then(function(t){e(n,t)},function(t){n.reject(t)}):n.resolve(o)}catch(t){n.reject(t)}}function n(){}function i(t){}function r(i,r){var o=new n;try{this._resolver(function(n){return t(n)?n.then(i,r):e(o,n,i)},function(t){e(o,t,r)})}catch(t){e(o,t,r)}return o}function o(t){this._resolver=t;this.then=r}n.prototype={resolve:i,reject:i,then:function(t,e){this.resolve=t;this.reject=e}};o.resolve=function(t){return o.isThenable(t)?t:{then:function(e){return e(t)}}};o.isThenable=t;return o}();e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){function n(t){if(t){var e=this;t(function(t){e.resolve(t)},function(t){e.reject(t)})}}function i(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function r(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}e=e||"object"===("undefined"==typeof process?"undefined":t(process))&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,0)};var o=function(){function t(){for(;n.length-i;){try{n[i]()}catch(t){}n[i++]=void 0;if(i===r){n.splice(0,r);i=0}}}var n=[],i=0,r=1024;return function(r){n.push(r);n.length-i==1&&e(t)}}();n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===(void 0===e?"undefined":t(e))))try{var r=0,s=e.then;if("function"==typeof s){s.call(e,function(t){r++||n.resolve(t)},function(t){r++||n.reject(t)});return}}catch(t){r||this.reject(t);return}this.state=i;this.v=e;n.c&&o(function(){for(var t=0,r=n.c.length;t<r;t++)i(n.c[t],e)})}},reject:function(t){if(void 0===this.state){this.state=r;this.v=t;var e=this.c;e&&o(function(){for(var n=0,i=e.length;n<i;n++)r(e[n],t)})}},then:function(t,e){var i=new n,r={y:t,n:e,p:i};if(void 0===this.state)this.c?this.c.push(r):this.c=[r];else{var s=this.state,a=this.v;o(function(){s(r,a)})}return i}};n.resolve=function(t){if(t&&t instanceof n)return t;var e=new n;e.resolve(t);return e};n.reject=function(t){if(t&&t instanceof n)return t;var e=new n;e.reject(t);return e};n.version="2.3.3-nodent";return n})()}var o=this;switch(i){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:r.then=r;return r;default:return function(){try{return o.apply(n,arguments)}catch(t){return i(t)}}}};var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),l={}.hasOwnProperty,h=function(t,e){return l.call(t,e)},d=function(t){try{return!!t()}catch(t){return!0}},f=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),p=e(function(t){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)}),y=(p.version,function(e){return"object"===(void 0===e?"undefined":t(e))?null!==e:"function"==typeof e}),m=function(t){if(!y(t))throw TypeError(t+" is not an object!");return t},v=c.document,g=y(v)&&y(v.createElement),b=function(t){return g?v.createElement(t):{}},_=!f&&!d(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!y(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!y(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,A={f:f?Object.defineProperty:function(t,e,n){m(t);e=w(e,!0);m(n);if(_)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");"value"in n&&(t[e]=n.value);return t}},L=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=f?function(t,e,n){return A.f(t,e,L(1,n))}:function(t,e,n){t[e]=n;return t},C=0,S=Math.random(),I=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++C+S).toString(36))},j=e(function(t){var e=I("src"),n=Function.toString,i=(""+n).split("toString");p.inspectSource=function(t){return n.call(t)};(t.exports=function(t,n,r,o){var s="function"==typeof r;s&&(h(r,"name")||M(r,"name",n));if(t[n]!==r){s&&(h(r,e)||M(r,e,t[n]?""+t[n]:i.join(String(n))));if(t===c)t[n]=r;else if(o)t[n]?t[n]=r:M(t,n,r);else{delete t[n];M(t,n,r)}}})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),T=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},E=function(t,e,n){T(t);if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},x=function t(e,n,i){var r,o,s,a,u=e&t.F,l=e&t.G,h=e&t.P,d=e&t.B,f=l?c:e&t.S?c[n]||(c[n]={}):(c[n]||{}).prototype,y=l?p:p[n]||(p[n]={}),m=y.prototype||(y.prototype={});l&&(i=n);for(r in i){s=((o=!u&&f&&void 0!==f[r])?f:i)[r];a=d&&o?E(s,c):h&&"function"==typeof s?E(Function.call,s):s;f&&j(f,r,s,e&t.U);y[r]!=s&&M(y,r,a);h&&m[r]!=s&&(m[r]=s)}};c.core=p;x.F=1;x.G=2;x.S=4;x.P=8;x.B=16;x.W=32;x.U=64;x.R=128;var P=x,D=e(function(e){var n=I("meta"),i=A.f,r=0,o=Object.isExtensible||function(){return!0},s=!d(function(){return o(Object.preventExtensions({}))}),a=function(t){i(t,n,{value:{i:"O"+ ++r,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,i){if(!y(e))return"symbol"==(void 0===e?"undefined":t(e))?e:("string"==typeof e?"S":"P")+e;if(!h(e,n)){if(!o(e))return"F";if(!i)return"E";a(e)}return e[n].i},getWeak:function(t,e){if(!h(t,n)){if(!o(t))return!0;if(!e)return!1;a(t)}return t[n].w},onFreeze:function(t){s&&u.NEED&&o(t)&&!h(t,n)&&a(t);return t}}}),O=(D.KEY,D.NEED,D.fastKey,D.getWeak,D.onFreeze,"__core-js_shared__"),N=c[O]||(c[O]={}),z=function(t){return N[t]||(N[t]={})},V=e(function(t){var e=z("wks"),n=c.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:I)("Symbol."+t))}).store=e}),$=A.f,H=V("toStringTag"),R=function(t,e,n){t&&!h(t=n?t:t.prototype,H)&&$(t,H,{configurable:!0,value:e})},F={f:V},U=A.f,W=function(t){var e=p.Symbol||(p.Symbol=c.Symbol||{});"_"==t.charAt(0)||t in e||U(e,t,{value:F.f(t)})},B={}.toString,Z=function(t){return B.call(t).slice(8,-1)},G=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Z(t)?t.split(""):Object(t)},Q=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Y=function(t){return G(Q(t))},J=Math.ceil,K=Math.floor,q=function(t){return isNaN(t=+t)?0:(t>0?K:J)(t)},X=Math.min,tt=function(t){return t>0?X(q(t),9007199254740991):0},et=Math.max,nt=Math.min,it=function(t,e){return(t=q(t))<0?et(t+e,0):nt(t,e)},rt=function(t){return function(e,n,i){var r,o=Y(e),s=tt(o.length),a=it(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},ot=z("keys"),st=function(t){return ot[t]||(ot[t]=I(t))},at=rt(!1),ut=st("IE_PROTO"),ct=function(t,e){var n,i=Y(t),r=0,o=[];for(n in i)n!=ut&&h(i,n)&&o.push(n);for(;e.length>r;)h(i,n=e[r++])&&(~at(o,n)||o.push(n));return o},lt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ht=Object.keys||function(t){return ct(t,lt)},dt={f:Object.getOwnPropertySymbols},ft={f:{}.propertyIsEnumerable},pt=Array.isArray||function(t){return"Array"==Z(t)},yt=f?Object.defineProperties:function(t,e){m(t);for(var n,i=ht(e),r=i.length,o=0;r>o;)A.f(t,n=i[o++],e[n]);return t},mt=c.document,vt=mt&&mt.documentElement,gt=st("IE_PROTO"),bt=function(){},_t=function(){var t,e=b("iframe"),n=lt.length;e.style.display="none";vt.appendChild(e);e.src="javascript:";(t=e.contentWindow.document).open();t.write("<script>document.F=Object<\/script>");t.close();_t=t.F;for(;n--;)delete _t.prototype[lt[n]];return _t()},wt=Object.create||function(t,e){var n;if(null!==t){bt.prototype=m(t);n=new bt;bt.prototype=null;n[gt]=t}else n=_t();return void 0===e?n:yt(n,e)},kt=lt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return ct(t,kt)}},Lt=At.f,Mt={}.toString,Ct="object"==("undefined"==typeof window?"undefined":t(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],St={f:function(t){return Ct&&"[object Window]"==Mt.call(t)?function(t){try{return Lt(t)}catch(t){return Ct.slice()}}(t):Lt(Y(t))}},It=Object.getOwnPropertyDescriptor,jt={f:f?It:function(t,e){t=Y(t);e=w(e,!0);if(_)try{return It(t,e)}catch(t){}if(h(t,e))return L(!ft.f.call(t,e),t[e])}},Tt=D.KEY,Et=jt.f,xt=A.f,Pt=St.f,Dt=c.Symbol,Ot=c.JSON,Nt=Ot&&Ot.stringify,zt="prototype",Vt=V("_hidden"),$t=V("toPrimitive"),Ht={}.propertyIsEnumerable,Rt=z("symbol-registry"),Ft=z("symbols"),Ut=z("op-symbols"),Wt=Object[zt],Bt="function"==typeof Dt,Zt=c.QObject,Gt=!Zt||!Zt[zt]||!Zt[zt].findChild,Qt=f&&d(function(){return 7!=wt(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=Et(Wt,e);i&&delete Wt[e];xt(t,e,n);i&&t!==Wt&&xt(Wt,e,i)}:xt,Yt=function(t){var e=Ft[t]=wt(Dt[zt]);e._k=t;return e},Jt=Bt&&"symbol"==t(Dt.iterator)?function(e){return"symbol"==(void 0===e?"undefined":t(e))}:function(t){return t instanceof Dt},Kt=function(t,e,n){t===Wt&&Kt(Ut,e,n);m(t);e=w(e,!0);m(n);if(h(Ft,e)){if(n.enumerable){h(t,Vt)&&t[Vt][e]&&(t[Vt][e]=!1);n=wt(n,{enumerable:L(0,!1)})}else{h(t,Vt)||xt(t,Vt,L(1,{}));t[Vt][e]=!0}return Qt(t,e,n)}return xt(t,e,n)},qt=function(t,e){m(t);for(var n,i=function(t){var e=ht(t),n=dt.f;if(n)for(var i,r=n(t),o=ft.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}(e=Y(e)),r=0,o=i.length;o>r;)Kt(t,n=i[r++],e[n]);return t},Xt=function(t){var e=Ht.call(this,t=w(t,!0));return!(this===Wt&&h(Ft,t)&&!h(Ut,t))&&(!(e||!h(this,t)||!h(Ft,t)||h(this,Vt)&&this[Vt][t])||e)},te=function(t,e){t=Y(t);e=w(e,!0);if(t!==Wt||!h(Ft,e)||h(Ut,e)){var n=Et(t,e);!n||!h(Ft,e)||h(t,Vt)&&t[Vt][e]||(n.enumerable=!0);return n}},ee=function(t){for(var e,n=Pt(Y(t)),i=[],r=0;n.length>r;)h(Ft,e=n[r++])||e==Vt||e==Tt||i.push(e);return i},ne=function(t){for(var e,n=t===Wt,i=Pt(n?Ut:Y(t)),r=[],o=0;i.length>o;)!h(Ft,e=i[o++])||n&&!h(Wt,e)||r.push(Ft[e]);return r};if(!Bt){j((Dt=function(){if(this instanceof Dt)throw TypeError("Symbol is not a constructor!");var t=I(arguments.length>0?arguments[0]:void 0);f&&Gt&&Qt(Wt,t,{configurable:!0,set:function e(n){this===Wt&&e.call(Ut,n);h(this,Vt)&&h(this[Vt],t)&&(this[Vt][t]=!1);Qt(this,t,L(1,n))}});return Yt(t)})[zt],"toString",function(){return this._k});jt.f=te;A.f=Kt;At.f=St.f=ee;ft.f=Xt;dt.f=ne;f&&j(Wt,"propertyIsEnumerable",Xt,!0);F.f=function(t){return Yt(V(t))}}P(P.G+P.W+P.F*!Bt,{Symbol:Dt});for(var ie="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ie.length>re;)V(ie[re++]);for(var oe=ht(V.store),se=0;oe.length>se;)W(oe[se++]);P(P.S+P.F*!Bt,"Symbol",{for:function(t){return h(Rt,t+="")?Rt[t]:Rt[t]=Dt(t)},keyFor:function(t){if(!Jt(t))throw TypeError(t+" is not a symbol!");for(var e in Rt)if(Rt[e]===t)return e},useSetter:function(){Gt=!0},useSimple:function(){Gt=!1}});P(P.S+P.F*!Bt,"Object",{create:function(t,e){return void 0===e?wt(t):qt(wt(t),e)},defineProperty:Kt,defineProperties:qt,getOwnPropertyDescriptor:te,getOwnPropertyNames:ee,getOwnPropertySymbols:ne});Ot&&P(P.S+P.F*(!Bt||d(function(){var t=Dt();return"[null]"!=Nt([t])||"{}"!=Nt({a:t})||"{}"!=Nt(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Jt(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);"function"==typeof(e=i[1])&&(n=e);!n&&pt(e)||(e=function(t,e){n&&(e=n.call(this,t,e));if(!Jt(e))return e});i[1]=e;return Nt.apply(Ot,i)}}});Dt[zt][$t]||M(Dt[zt],$t,Dt[zt].valueOf);R(Dt,"Symbol");R(Math,"Math",!0);R(c.JSON,"JSON",!0);var ae=V("toStringTag"),ue="Arguments"==Z(function(){return arguments}()),ce=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ae))?n:ue?Z(e):"Object"==(i=Z(e))&&"function"==typeof e.callee?"Arguments":i},le={};le[V("toStringTag")]="z";le+""!="[object z]"&&j(Object.prototype,"toString",function(){return"[object "+ce(this)+"]"},!0);p.Symbol;P(P.S,"Object",{create:wt});P(P.S+P.F*!f,"Object",{defineProperty:A.f});P(P.S+P.F*!f,"Object",{defineProperties:yt});var he=function(t,e){var n=(p.Object||{})[t]||Object[t],i={};i[t]=e(n);P(P.S+P.F*d(function(){n(1)}),"Object",i)},de=jt.f;he("getOwnPropertyDescriptor",function(){return function(t,e){return de(Y(t),e)}});var fe=function(t){return Object(Q(t))},pe=st("IE_PROTO"),ye=Object.prototype,me=Object.getPrototypeOf||function(t){t=fe(t);return h(t,pe)?t[pe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ye:null};he("getPrototypeOf",function(){return function(t){return me(fe(t))}});he("keys",function(){return function(t){return ht(fe(t))}});he("getOwnPropertyNames",function(){return St.f});var ve=D.onFreeze;he("freeze",function(t){return function(e){return t&&y(e)?t(ve(e)):e}});var ge=D.onFreeze;he("seal",function(t){return function(e){return t&&y(e)?t(ge(e)):e}});var be=D.onFreeze;he("preventExtensions",function(t){return function(e){return t&&y(e)?t(be(e)):e}});he("isFrozen",function(t){return function(e){return!y(e)||!!t&&t(e)}});he("isSealed",function(t){return function(e){return!y(e)||!!t&&t(e)}});he("isExtensible",function(t){return function(e){return!!y(e)&&(!t||t(e))}});var _e=Object.assign,we=!_e||d(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";t[n]=7;i.split("").forEach(function(t){e[t]=t});return 7!=_e({},t)[n]||Object.keys(_e({},e)).join("")!=i})?function(t,e){for(var n=fe(t),i=arguments.length,r=1,o=dt.f,s=ft.f;i>r;)for(var a,u=G(arguments[r++]),c=o?ht(u).concat(o(u)):ht(u),l=c.length,h=0;l>h;)s.call(u,a=c[h++])&&(n[a]=u[a]);return n}:_e;P(P.S+P.F,"Object",{assign:we});var ke=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};P(P.S,"Object",{is:ke});var Ae=function(t,e){m(t);if(!y(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Le={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=E(Function.call,jt.f(Object.prototype,"__proto__").set,2))(t,[]);e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){Ae(t,i);e?t.__proto__=i:n(t,i);return t}}({},!1):void 0),check:Ae};P(P.S,"Object",{setPrototypeOf:Le.set});p.Object;var Me={},Ce={};M(Ce,V("iterator"),function(){return this});var Se=function(t,e,n){t.prototype=wt(Ce,{next:L(1,n)});R(t,e+" Iterator")},Ie=V("iterator"),je=!([].keys&&"next"in[].keys()),Te=function(){return this},Ee=function(t,e,n,i,r,o,s){Se(n,e,i);var a,u,c,l=function(t){if(!je&&t in y)return y[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f="values"==r,p=!1,y=t.prototype,m=y[Ie]||y["@@iterator"]||r&&y[r],v=m||l(r),g=r?f?l("entries"):v:void 0,b="Array"==e?y.entries||m:m;if(b&&(c=me(b.call(new t)))!==Object.prototype&&c.next){R(c,d,!0);h(c,Ie)||M(c,Ie,Te)}if(f&&m&&"values"!==m.name){p=!0;v=function(){return m.call(this)}}(je||p||!y[Ie])&&M(y,Ie,v);Me[e]=v;Me[d]=Te;if(r){a={values:f?v:l("values"),keys:o?v:l("keys"),entries:g};if(s)for(u in a)u in y||j(y,u,a[u]);else P(P.P+P.F*(je||p),e,a)}return a},xe=function(t,e){var n,i,r=String(Q(t)),o=q(e),s=r.length;return o<0||o>=s?"":(n=r.charCodeAt(o))<55296||n>56319||o+1===s||(i=r.charCodeAt(o+1))<56320||i>57343?r.charAt(o):r.slice(o,o+2)};Ee(String,"String",function(t){this._t=String(t);this._i=0},function(){var t,e=this._t,n=this._i;if(n>=e.length)return{value:void 0,done:!0};t=xe(e,n);this._i+=t.length;return{value:t,done:!1}});P(P.S,"Array",{isArray:pt});var Pe=function(t,e,n,i){try{return i?e(m(n)[0],n[1]):e(n)}catch(e){var r=t.return;void 0!==r&&m(r.call(t));throw e}},De=V("iterator"),Oe=Array.prototype,Ne=function(t){return void 0!==t&&(Me.Array===t||Oe[De]===t)},ze=function(t,e,n){e in t?A.f(t,e,L(0,n)):t[e]=n},Ve=V("iterator"),$e=p.getIteratorMethod=function(t){if(void 0!=t)return t[Ve]||t["@@iterator"]||Me[ce(t)]},He=V("iterator"),Re=!1;try{[7][He]().return=function(){Re=!0}}catch(t){}var Fe=function(t,e){if(!e&&!Re)return!1;var n=!1;try{var i=[7],r=i[He]();r.next=function(){return{done:n=!0}};i[He]=function(){return r};t(i)}catch(t){}return n};P(P.S+P.F*!Fe(function(t){}),"Array",{from:function(t){var e,n,i,r,o=fe(t),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,c=void 0!==u,l=0,h=$e(o);c&&(u=E(u,a>2?arguments[2]:void 0,2));if(void 0==h||s==Array&&Ne(h))for(n=new s(e=tt(o.length));e>l;l++)ze(n,l,c?u(o[l],l):o[l]);else for(r=h.call(o),n=new s;!(i=r.next()).done;l++)ze(n,l,c?Pe(r,u,[i.value,l],!0):i.value);n.length=l;return n}});P(P.S+P.F*d(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)ze(n,t,arguments[t++]);n.length=e;return n}});var Ue=function(t,e){return!!t&&d(function(){e?t.call(null,function(){},1):t.call(null)})},We=[].join;P(P.P+P.F*(G!=Object||!Ue(We)),"Array",{join:function(t){return We.call(Y(this),void 0===t?",":t)}});var Be=[].slice;P(P.P+P.F*d(function(){vt&&Be.call(vt)}),"Array",{slice:function(t,e){var n=tt(this.length),i=Z(this);e=void 0===e?n:e;if("Array"==i)return Be.call(this,t,e);for(var r=it(t,n),o=it(e,n),s=tt(o-r),a=Array(s),u=0;u<s;u++)a[u]="String"==i?this.charAt(r+u):this[r+u];return a}});var Ze=[].sort,Ge=[1,2,3];P(P.P+P.F*(d(function(){Ge.sort(void 0)})||!d(function(){Ge.sort(null)})||!Ue(Ze)),"Array",{sort:function(t){return void 0===t?Ze.call(fe(this)):Ze.call(fe(this),T(t))}});var Qe=V("species"),Ye=function(t,e){return new(function(t){var e;if(pt(t)){"function"!=typeof(e=t.constructor)||e!==Array&&!pt(e.prototype)||(e=void 0);y(e)&&null===(e=e[Qe])&&(e=void 0)}return void 0===e?Array:e}(t))(e)},Je=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,u=e||Ye;return function(e,c,l){for(var h,d,f=fe(e),p=G(f),y=E(c,l,3),m=tt(p.length),v=0,g=n?u(e,m):i?u(e,0):void 0;m>v;v++)if(a||v in p){d=y(h=p[v],v,f);if(t)if(n)g[v]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:g.push(h)}else if(o)return!1}return s?-1:r||o?o:g}},Ke=Je(0),qe=Ue([].forEach,!0);P(P.P+P.F*!qe,"Array",{forEach:function(t){return Ke(this,t,arguments[1])}});var Xe=Je(1);P(P.P+P.F*!Ue([].map,!0),"Array",{map:function(t){return Xe(this,t,arguments[1])}});var tn=Je(2);P(P.P+P.F*!Ue([].filter,!0),"Array",{filter:function(t){return tn(this,t,arguments[1])}});var en=Je(3);P(P.P+P.F*!Ue([].some,!0),"Array",{some:function(t){return en(this,t,arguments[1])}});var nn=Je(4);P(P.P+P.F*!Ue([].every,!0),"Array",{every:function(t){return nn(this,t,arguments[1])}});var rn=function(t,e,n,i,r){T(e);var o=fe(t),s=G(o),a=tt(o.length),u=r?a-1:0,c=r?-1:1;if(n<2)for(;;){if(u in s){i=s[u];u+=c;break}u+=c;if(r?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;r?u>=0:a>u;u+=c)u in s&&(i=e(i,s[u],u,o));return i};P(P.P+P.F*!Ue([].reduce,!0),"Array",{reduce:function(t){return rn(this,t,arguments.length,arguments[1],!1)}});P(P.P+P.F*!Ue([].reduceRight,!0),"Array",{reduceRight:function(t){return rn(this,t,arguments.length,arguments[1],!0)}});var on=rt(!1),sn=[].indexOf,an=!!sn&&1/[1].indexOf(1,-0)<0;P(P.P+P.F*(an||!Ue(sn)),"Array",{indexOf:function(t){return an?sn.apply(this,arguments)||0:on(this,t,arguments[1])}});var un=[].lastIndexOf,cn=!!un&&1/[1].lastIndexOf(1,-0)<0;P(P.P+P.F*(cn||!Ue(un)),"Array",{lastIndexOf:function(t){if(cn)return un.apply(this,arguments)||0;var e=Y(this),n=tt(e.length),i=n-1;arguments.length>1&&(i=Math.min(i,q(arguments[1])));i<0&&(i=n+i);for(;i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}});var ln=[].copyWithin||function(t,e){var n=fe(this),i=tt(n.length),r=it(t,i),o=it(e,i),s=arguments.length>2?arguments[2]:void 0,a=Math.min((void 0===s?i:it(s,i))-o,i-r),u=1;if(o<r&&r<o+a){u=-1;o+=a-1;r+=a-1}for(;a-- >0;){o in n?n[r]=n[o]:delete n[r];r+=u;o+=u}return n},hn=V("unscopables"),dn=Array.prototype;void 0==dn[hn]&&M(dn,hn,{});var fn=function(t){dn[hn][t]=!0};P(P.P,"Array",{copyWithin:ln});fn("copyWithin");P(P.P,"Array",{fill:function(t){for(var e=fe(this),n=tt(e.length),i=arguments.length,r=it(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:it(o,n);s>r;)e[r++]=t;return e}});fn("fill");var pn=Je(5),yn=!0;"find"in[]&&Array(1).find(function(){yn=!1});P(P.P+P.F*yn,"Array",{find:function(t){return pn(this,t,arguments.length>1?arguments[1]:void 0)}});fn("find");var mn=Je(6),vn=!0;"findIndex"in[]&&Array(1).findIndex(function(){vn=!1});P(P.P+P.F*vn,"Array",{findIndex:function(t){return mn(this,t,arguments.length>1?arguments[1]:void 0)}});fn("findIndex");var gn=V("species"),bn=function(t){var e=c[t];f&&e&&!e[gn]&&A.f(e,gn,{configurable:!0,get:function(){return this}})};bn("Array");var _n=function(t,e){return{value:e,done:!!t}},wn=Ee(Array,"Array",function(t,e){this._t=Y(t);this._i=0;this._k=e},function(){var t=this._t,e=this._k,n=this._i++;if(!t||n>=t.length){this._t=void 0;return _n(1)}return _n(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Me.Arguments=Me.Array;fn("keys");fn("values");fn("entries");p.Array;for(var kn=V("iterator"),An=V("toStringTag"),Ln=Me.Array,Mn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Cn=ht(Mn),Sn=0;Sn<Cn.length;Sn++){var In,jn=Cn[Sn],Tn=Mn[jn],En=c[jn],xn=En&&En.prototype;if(xn){xn[kn]||M(xn,kn,Ln);xn[An]||M(xn,An,jn);Me[jn]=Ln;if(Tn)for(In in wn)xn[In]||j(xn,In,wn[In],!0)}}var Pn,Dn,On,Nn=e(function(t){var e={},n={},i=t.exports=function(t,i,r,o,s){var a,u,c,l,h=s?function(){return t}:$e(t),d=E(r,o,i?2:1),f=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(Ne(h)){for(a=tt(t.length);a>f;f++)if((l=i?d(m(u=t[f])[0],u[1]):d(t[f]))===e||l===n)return l}else for(c=h.call(t);!(u=c.next()).done;)if((l=Pe(c,d,u.value,i))===e||l===n)return l};i.BREAK=e;i.RETURN=n}),zn=V("species"),Vn=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},$n=c.process,Hn=c.setImmediate,Rn=c.clearImmediate,Fn=c.MessageChannel,Un=c.Dispatch,Wn=0,Bn={},Zn=function(){var t=+this;if(Bn.hasOwnProperty(t)){var e=Bn[t];delete Bn[t];e()}},Gn=function(t){Zn.call(t.data)};if(!Hn||!Rn){Hn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);Bn[++Wn]=function(){Vn("function"==typeof t?t:Function(t),e)};Pn(Wn);return Wn};Rn=function(t){delete Bn[t]};if("process"==Z($n))Pn=function(t){$n.nextTick(E(Zn,t,1))};else if(Un&&Un.now)Pn=function(t){Un.now(E(Zn,t,1))};else if(Fn){On=(Dn=new Fn).port2;Dn.port1.onmessage=Gn;Pn=E(On.postMessage,On,1)}else if(c.addEventListener&&"function"==typeof postMessage&&!c.importScripts){Pn=function(t){c.postMessage(t+"","*")};c.addEventListener("message",Gn,!1)}else Pn="onreadystatechange"in b("script")?function(t){vt.appendChild(b("script")).onreadystatechange=function(){vt.removeChild(this);Zn.call(t)}}:function(t){setTimeout(E(Zn,t,1),0)}}var Qn,Yn,Jn,Kn,qn={set:Hn,clear:Rn},Xn=qn.set,ti=c.MutationObserver||c.WebKitMutationObserver,ei=c.process,ni=c.Promise,ii="process"==Z(ei),ri={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t;n=i});this.resolve=T(e);this.reject=T(n)}(t)}},oi=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},si=qn.set,ai=function(){var t,e,n,i=function(){var i,r;ii&&(i=ei.domain)&&i.exit();for(;t;){r=t.fn;t=t.next;try{r()}catch(i){t?n():e=void 0;throw i}}e=void 0;i&&i.enter()};if(ii)n=function(){ei.nextTick(i)};else if(ti){var r=!0,o=document.createTextNode("");new ti(i).observe(o,{characterData:!0});n=function(){o.data=r=!r}}else if(ni&&ni.resolve){var s=ni.resolve();n=function(){s.then(i)}}else n=function(){Xn.call(c,i)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r);if(!t){t=r;n()}e=r}}(),ui=c.TypeError,ci=c.process,li=c.Promise,hi="process"==ce(ci),di=function(){},fi=Yn=ri.f,pi=!!function(){try{var t=li.resolve(1),e=(t.constructor={})[V("species")]=function(t){t(di,di)};return(hi||"function"==typeof PromiseRejectionEvent)&&t.then(di)instanceof e}catch(t){}}(),yi=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},mi=function(t,e){if(!t._n){t._n=!0;var n=t._c;ai(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s=r?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{if(s){if(!r){2==t._h&&bi(t);t._h=1}if(!0===s)n=i;else{c&&c.enter();n=s(i);c&&c.exit()}n===e.promise?u(ui("Promise-chain cycle")):(o=yi(n))?o.call(n,a,u):a(n)}else u(i)}catch(t){u(t)}};n.length>o;)s(n[o++]);t._c=[];t._n=!1;e&&!t._h&&vi(t)})}},vi=function(t){si.call(c,function(){var e,n,i,r=t._v,o=gi(t);if(o){e=oi(function(){hi?ci.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)});t._h=hi||gi(t)?2:1}t._a=void 0;if(o&&e.e)throw e.v})},gi=function t(e){if(1==e._h)return!1;for(var n,i=e._a||e._c,r=0;i.length>r;)if((n=i[r++]).fail||!t(n.promise))return!1;return!0},bi=function(t){si.call(c,function(){var e;hi?ci.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},_i=function(t){var e=this;if(!e._d){e._d=!0;(e=e._w||e)._v=t;e._s=2;e._a||(e._a=e._c.slice());mi(e,!0)}},wi=function t(e){var n,i=this;if(!i._d){i._d=!0;i=i._w||i;try{if(i===e)throw ui("Promise can't be resolved itself");if(n=yi(e))ai(function(){var r={_w:i,_d:!1};try{n.call(e,E(t,r,1),E(_i,r,1))}catch(t){_i.call(r,t)}});else{i._v=e;i._s=1;mi(i,!1)}}catch(t){_i.call({_w:i,_d:!1},t)}}};if(!pi){li=function(t){!function(t,e,n,i){if(!(t instanceof li)||"_h"in t)throw TypeError("Promise: incorrect invocation!")}(this);T(t);Qn.call(this);try{t(E(wi,this,1),E(_i,this,1))}catch(t){_i.call(this,t)}};(Qn=function(t){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=function(t,e,n){for(var i in e)j(t,i,e[i],void 0);return t}(li.prototype,{then:function(t,e){var n=fi(function(t,e){var n,i=m(t).constructor;return void 0===i||void 0==(n=m(i)[zn])?e:T(n)}(this,li));n.ok="function"!=typeof t||t;n.fail="function"==typeof e&&e;n.domain=hi?ci.domain:void 0;this._c.push(n);this._a&&this._a.push(n);this._s&&mi(this,!1);return n.promise},catch:function(t){return this.then(void 0,t)}});Jn=function(){var t=new Qn;this.promise=t;this.resolve=E(wi,t,1);this.reject=E(_i,t,1)};ri.f=fi=function(t){return t===li||t===Kn?new Jn(t):Yn(t)}}P(P.G+P.W+P.F*!pi,{Promise:li});R(li,"Promise");bn("Promise");Kn=p.Promise;P(P.S+P.F*!pi,"Promise",{reject:function(t){var e=fi(this);(0,e.reject)(t);return e.promise}});P(P.S+P.F*!pi,"Promise",{resolve:function(t){return function(t,e){m(t);if(y(e)&&e.constructor===t)return e;var n=ri.f(t);(0,n.resolve)(e);return n.promise}(this,t)}});P(P.S+P.F*!(pi&&Fe(function(t){li.all(t).catch(di)})),"Promise",{all:function(t){var e=this,n=fi(e),i=n.resolve,r=n.reject,o=oi(function(){var n=[],o=0,s=1;Nn(t,!1,function(t){var a=o++,u=!1;n.push(void 0);s++;e.resolve(t).then(function(t){if(!u){u=!0;n[a]=t;--s||i(n)}},r)});--s||i(n)});o.e&&r(o.v);return n.promise},race:function(t){var e=this,n=fi(e),i=n.reject,r=oi(function(){Nn(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});r.e&&i(r.v);return n.promise}});p.Promise;var ki=(c.Reflect||{}).apply,Ai=Function.apply;P(P.S+P.F*!d(function(){ki(function(){})}),"Reflect",{apply:function(t,e,n){var i=T(t),r=m(n);return ki?ki(i,e,r):Ai.call(i,e,r)}});var Li=[].slice,Mi={},Ci=Function.bind||function(t){var e=T(this),n=Li.call(arguments,1),i=function i(){var r=n.concat(Li.call(arguments));return this instanceof i?function(t,e,n){if(!(e in Mi)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Mi[e]=Function("F,a","return new F("+i.join(",")+")")}return Mi[e](t,n)}(e,r.length,r):Vn(e,r,t)};y(e.prototype)&&(i.prototype=e.prototype);return i},Si=(c.Reflect||{}).construct,Ii=d(function(){function t(){}return!(Si(function(){},[],t)instanceof t)}),ji=!d(function(){Si(function(){})});P(P.S+P.F*(Ii||ji),"Reflect",{construct:function(t,e){T(t);m(e);var n=arguments.length<3?t:T(arguments[2]);if(ji&&!Ii)return Si(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];i.push.apply(i,e);return new(Ci.apply(t,i))}var r=n.prototype,o=wt(y(r)?r:Object.prototype),s=Function.apply.call(t,o,e);return y(s)?s:o}});P(P.S+P.F*d(function(){Reflect.defineProperty(A.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){m(t);e=w(e,!0);m(n);try{A.f(t,e,n);return!0}catch(t){return!1}}});var Ti=jt.f;P(P.S,"Reflect",{deleteProperty:function(t,e){var n=Ti(m(t),e);return!(n&&!n.configurable)&&delete t[e]}});var Ei=function(t){this._t=m(t);this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};Se(Ei,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}});P(P.S,"Reflect",{enumerate:function(t){return new Ei(t)}});P(P.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return m(e)===o?e[n]:(i=jt.f(e,n))?h(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:y(r=me(e))?t(r,n,o):void 0}});P(P.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return jt.f(m(t),e)}});P(P.S,"Reflect",{getPrototypeOf:function(t){return me(m(t))}});P(P.S,"Reflect",{has:function(t,e){return e in t}});var xi=Object.isExtensible;P(P.S,"Reflect",{isExtensible:function(t){m(t);return!xi||xi(t)}});var Pi=c.Reflect,Di=Pi&&Pi.ownKeys||function(t){var e=At.f(m(t)),n=dt.f;return n?e.concat(n(t)):e};P(P.S,"Reflect",{ownKeys:Di});var Oi=Object.preventExtensions;P(P.S,"Reflect",{preventExtensions:function(t){m(t);try{Oi&&Oi(t);return!0}catch(t){return!1}}});P(P.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],a=jt.f(m(e),n);if(!a){if(y(o=me(e)))return t(o,n,i,s);a=L(0)}if(h(a,"value")){if(!1===a.writable||!y(s))return!1;(r=jt.f(s,n)||L(0)).value=i;A.f(s,n,r);return!0}return void 0!==a.set&&(a.set.call(s,i),!0)}});Le&&P(P.S,"Reflect",{setPrototypeOf:function(t,e){Le.check(t,e);try{Le.set(t,e);return!0}catch(t){return!1}}});p.Reflect;var Ni=Object.prototype.hasOwnProperty,zi=function(t){return JSON.stringify(i(t))};zi.ensureProperties=i;var Vi,$i=Symbol("dispatchedEvents"),Hi=["AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete"],Ri=["start","firstQuartile","midpoint","thirdQuartile","complete"],Fi=Ri.reduce(function(t,e,n){var i=Hi[n];t[e]=i;return t},{}),Ui={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"},Wi={adLinear:{defaultValue:!0},adWidth:{defaultValue:-2},adHeight:{defaultValue:-2},adExpanded:{defaultValue:!1},adSkippableState:{defaultValue:!1},adRemainingTime:{defaultValue:-2},adDuration:{defaultValue:-2},adVolume:{writable:!0,defaultValue:-2},adCompanions:{defaultValue:""},adIcons:{defaultValue:!1}};(Vi={}).initAd=[Ui.AdLoaded],Vi.resizeAd=[Ui.AdSizeChange],Vi.startAd=[Ui.AdStarted],Vi.stopAd=[Ui.AdStopped],Vi.pauseAd=[Ui.AdPaused],Vi.resumeAd=[Ui.AdPlaying],Vi.expandAd=[Ui.AdExpandedChange],Vi.collapseAd=[Ui.AdExpandedChange],Vi.skipAd=[Ui.AdSkipped,Ui.AdStopped];var Bi,Zi=[Ui.AdLoaded,Ui.AdStarted,Ui.AdStopped,Ui.AdSkipped,Ui.AdImpression,Ui.AdVideoStart,Ui.AdVideoFirstQuartile,Ui.AdVideoMidpoint,Ui.AdVideoThirdQuartile,Ui.AdVideoComplete,Ui.AdError];(Bi={})[Ui.AdSkipped]=["skip"],Bi[Ui.AdStarted]=["creativeView"],Bi[Ui.AdImpression]=["impression"],Bi[Ui.AdVideoStart]=["start"],Bi[Ui.AdVideoFirstQuartile]=["firstQuartile"],Bi[Ui.AdVideoMidpoint]=["midpoint"],Bi[Ui.AdVideoThirdQuartile]=["thirdQuartile"],Bi[Ui.AdVideoComplete]=["complete"],Bi[Ui.AdUserAcceptInvitation]=["acceptInvitation"],Bi[Ui.AdUserMinimize]=["collapse","playerCollapse"],Bi[Ui.AdUserClose]=["close","closeLinear"],Bi[Ui.AdPaused]=["pause"],Bi[Ui.AdPlaying]=["resume"],Bi[Ui.AdExpandedChange]=["expand","playerExpand"],Bi[Ui.AdError]=["error"];var Gi,Qi="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return void 0===e?"undefined":t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":t(e)},Yi=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ji=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}return function(e,n,i){n&&t(e.prototype,n);i&&t(e,i);return e}}(),Ki=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":t(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},qi=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":t(n))&&"function"!=typeof n?e:n},Xi=0,tr=function(t){return null==t||""===t},er=function(){function t(e){Yi(this,t);this[$i]=[];this._subscribers=Object.create(null);this._state=Xi;this._didDispose=!1;this._paused=!1;this._lastQuartile=-1;this._controller=e;this._controller.vpaid=this}t.prototype.notify=function(t,e){var n=this["$on"+t];null!=n&&n.call(this,e)};t.prototype.$onprogress=function(t){var e=t.progress;this._setProgress(e)};t.prototype.$onquartile=function(t){var e=t.type;this._publish(e)};t.prototype.$ondurationChange=function(){this._controller.dispatchEvent({type:"durationChange"});this._publish("AdDurationChange")};t.prototype.$onstart=function(){this._assertState(3,"start");this._state=4;this._publish("AdStarted")};t.prototype.$onimpression=function(){this._assertState([3,4],"impression");this._publish("AdImpression")};t.prototype.$onpause=function(){this._setPaused(!0)};t.prototype.$onresume=function(){this._setPaused(!1)};t.prototype.$onclick=function(t){var e=t.url,n=t.id,i=t.playerHandles;this._publish("AdClickThru",[e,n,i])};t.prototype.$onskippableStateChange=function(){this._publish("AdSkippableStateChange")};t.prototype.$onskip=function(){this._skipAdAsync()};t.prototype._setProgress=function(t){if(t>0){this._publish("AdRemainingTimeChange");if(!this._controller.reportsQuartiles){var e=this._lastQuartile;this._lastQuartile=Math.max(this._lastQuartile,Math.floor(4*t));for(var n=e+1;n<=this._lastQuartile;++n)this._publish(Hi[n])}}};t.prototype.handshakeVersion=function(t){return"2.0"};t.prototype.initAd=function(t,e,n,i,r,o){this._initAdAsync(t,e,n,i,r,o)};t.prototype._initAdAsync=function(t,e,n,i,r,o){return new Promise(function(s,a){this._assertState(Xi,"initAd");this._state=1;var u=function(){return s()}.$asyncbind(this,a),c=function(t){this._onError(t);return u()}.$asyncbind(this,a);try{return this._controller.initAd(t,e,n,i,r,o).then(function(t){this._state=2;this._publish("AdLoaded");return u()}.$asyncbind(this,c),c)}catch(t){c(t)}}.$asyncbind(this))};t.prototype.startAd=function(){this._startAdAsync()};t.prototype._startAdAsync=function(){return new Promise(function(t,e){var n,i=function(t){return function(e){if(n&&(3===this._state||4===this._state)){this._state=5;this._publish("AdStopped")}return t&&t.call(this,e)}.$asyncbind(this,e)}.$asyncbind(this);this._assertState(2,"startAd");this._state=3;n=!1;var r=function(){return t()}.$asyncbind(this,e),o=function(t){this._onError(t);return i(r)()}.$asyncbind(this,i(e));try{return this._controller.runAd(this._paused).then(function(t){n=t;return i(r)()}.$asyncbind(this,o),o)}catch(t){o(t)}}.$asyncbind(this))};t.prototype.stopAd=function(){this._stopAdAsync()};t.prototype._stopAdAsync=function(){return new Promise(function(t,e){return this._terminateAd(!1).then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};t.prototype.skipAd=function(){this._skipAdAsync()};t.prototype._skipAdAsync=function(){return new Promise(function(t,e){return this._terminateAd(!0).then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};t.prototype.getAdWidth=function(){return this._getProperty("adWidth")};t.prototype.getAdHeight=function(){return this._getProperty("adHeight")};t.prototype.getAdVolume=function(){return this._getProperty("adVolume")};t.prototype.setAdVolume=function(t){this._setProperty("adVolume",t);this._publish("AdVolumeChange")};t.prototype.getAdRemainingTime=function(){var t=this._getProperty("adRemainingTime");return t<=0||isNaN(t)?-2:t};t.prototype.getAdDuration=function(){var t=this._getProperty("adDuration");return t<=0||isNaN(t)?-2:t};t.prototype.getAdLinear=function(){return!0};t.prototype.getAdExpanded=function(){return!1};t.prototype.getAdSkippableState=function(){return this._controller.adSkippable};t.prototype.getAdIcons=function(){return!1};t.prototype.getAdCompanions=function(){return""};t.prototype.resizeAd=function(t,e,n){this._resizeAdAsync(t,e,n)};t.prototype._resizeAdAsync=function(t,e,n){return new Promise(function(i,r){if(this._state===Xi||this._state>=5)return i();var o=function(){this._publish("AdSizeChange");return i()}.$asyncbind(this,r),s=function(t){this._onError(t);return i()}.$asyncbind(this,r);try{return this._controller.resizeAd(t,e,n).then(function(t){return o()}.$asyncbind(this,s),s)}catch(t){s(t)}}.$asyncbind(this))};t.prototype.pauseAd=function(){this._pauseAdAsync()};t.prototype._pauseAdAsync=function(){return new Promise(function(t,e){if(this._paused){this._publish("AdPaused");return t()}if(this._state<4){this._paused=!0;this._publish("AdPaused");return t()}this._assertState(4,"pauseAd");var n=function(){this._setPaused(!0);return t()}.$asyncbind(this,e),i=function(e){this._onError(e);return t()}.$asyncbind(this,e);try{return this._controller.pauseAd().then(function(t){return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}.$asyncbind(this))};t.prototype.resumeAd=function(){this._resumeAdAsync()};t.prototype._resumeAdAsync=function(){return new Promise(function(t,e){if(!this._paused){this._publish("AdPlaying");return t()}if(this._state<4){this._paused=!1;this._publish("AdPlaying");return t()}this._assertState(4,"resumeAd");var n=function(){this._setPaused(!1);return t()}.$asyncbind(this,e),i=function(e){this._onError(e);return t()}.$asyncbind(this,e);try{return this._controller.resumeAd().then(function(t){return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}.$asyncbind(this))};t.prototype.expandAd=function(){};t.prototype.collapseAd=function(){};t.prototype.subscribe=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._subscribers[e]=this._subscribers[e]||[];this._subscribers[e].push({fn:t,ctx:n})};t.prototype.unsubscribe=function(t,e){null!=this._subscribers[e]&&(this._subscribers[e]=this._subscribers[e].filter(function(e){var n=e.fn;return t!==n}))};t.prototype._terminateAd=function(t){return new Promise(function(e,n){if(this._state>=6)return e();this._state=6;var i=function(){return e()}.$asyncbind(this,n),r=function(t){this._onError(t);return i()}.$asyncbind(this,n);try{return this._controller.stopAd().then(function(e){return this._dispose().then(function(e){t&&this._publish("AdSkipped");this._publish("AdStopped");this._unsubscribeAll();this._state=7;return i()}.$asyncbind(this,r),r)}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this))};t.prototype._getProperty=function(t){var e=void 0;try{e=this._controller[t]}catch(t){this._onError(t);return}return void 0!==e?e:Wi[t].defaultValue};t.prototype._setProperty=function(t,e){try{this._controller[t]=e}catch(t){this._onError(t)}};t.prototype._dispose=function(){var t=arguments;return new Promise(function(e,n){var i;i=t.length>0&&void 0!==t[0]?t[0]:null;if(this._didDispose)return e();this._didDispose=!0;var r=function(){return e()}.$asyncbind(this,n),o=function(t){this._onError(t);return r()}.$asyncbind(this,n);try{return this._controller.disposeAd(i).then(function(t){return r()}.$asyncbind(this,o),o)}catch(t){o(t)}}.$asyncbind(this))};t.prototype._unsubscribeAll=function(){this._subscribers=Object.create(null)};t.prototype._onError=function(t){return new Promise(function(e,n){if(8===this._state)return e();this._state=8;return this._dispose(t).then(function(n){if(null!=(r=t)&&"string"==typeof r.$type&&"number"==typeof r.code){this._sendMessage("vastError",{type:t.$type,code:t.code,message:t.message,data:t.data,cause:t.cause});t=t.message}else t=(i=t,tr(i)?"":"object"!==(void 0===i?"undefined":Qi(i))?""+i:tr(i.message)?tr(i.stack)?zi(i):""+i.stack:""+i.message);var i,r;this._publish("AdError",[t]);this._unsubscribeAll();return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};t.prototype._sendMessage=function(t,e){this._publish("AdLog",[JSON.stringify({type:"message",data:{type:t,data:e}})])};t.prototype._publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this[$i].push({name:t,args:e});if(null!=this._subscribers[t])for(var n=this._subscribers[t].slice(),i=0;i<n.length;++i){var r=n[i],o=r.fn,s=r.ctx;o.apply(s,e)}};t.prototype._emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this._publish(t,n)};t.prototype._setPaused=function(t){if(t!==this._paused){this._paused=t;this._publish(t?"AdPaused":"AdPlaying")}};t.prototype._assertState=function(t,e){Array.isArray(t)||(t=[t]);if(t.indexOf(this._state)<0)throw new Error(e+": Expected state to be in "+JSON.stringify(t)+", got "+this._state+" instead")};return t}(),nr=function(t,e,n,i){e=e||"&";n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var o=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,l,h,d,f=t[u].replace(o,"%20"),p=f.indexOf(n);if(p>=0){c=f.substr(0,p);l=f.substr(p+1)}else{c=f;l=""}h=decodeURIComponent(c);d=decodeURIComponent(l);y=r,m=h,Object.prototype.hasOwnProperty.call(y,m)?Array.isArray(r[h])?r[h].push(d):r[h]=[r[h],d]:r[h]=d}var y,m;return r},ir=function(e){switch(void 0===e?"undefined":t(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},rr=function(e,n,i,r){n=n||"&";i=i||"=";null===e&&(e=void 0);return"object"===(void 0===e?"undefined":t(e))?Object.keys(e).map(function(t){var r=encodeURIComponent(ir(t))+i;return Array.isArray(e[t])?e[t].map(function(t){return r+encodeURIComponent(ir(t))}).join(n):r+encodeURIComponent(ir(e[t]))}).join(n):r?encodeURIComponent(ir(r))+i+encodeURIComponent(ir(e)):""},or=e(function(t,e){e.decode=e.parse=nr;e.encode=e.stringify=rr}),sr=(or.decode,or.parse),ar=(or.encode,or.stringify),ur="event",cr=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));i.setHitType(ur);return i}Ki(e,t);e.prototype.setEventCategory=function(t){return this.set("ec",t)};e.prototype.setEventAction=function(t){return this.set("ea",t)};e.prototype.setEventLabel=function(t){return this.set("el",t)};e.prototype.setEventValue=function(t){return this.set("ev",t)};return e}(function(){function t(e){Yi(this,t);this._options=Object.assign({},e);this._params={};this.setProtocolVersion(1)}t.prototype.build=function(){return this._baseUrl+"?"+this.buildQueryString()};t.prototype.buildQueryString=function(){return or.stringify(this._params)+"&z="+this.buildCacheBuster()};t.prototype.buildCacheBuster=function(){if(this._params.hasOwnProperty("z")){var t=this._params.z;delete this._params.z;return encodeURIComponent(t)}if(this._options.vast)return"[CACHEBUSTING]";var e=1e6+Math.floor(9e6*Math.random());return""+(new Date).getTime()+e};t.prototype.setBaseUrl=function(t){this._baseUrl=t;return this};t.prototype.set=function(t,e){null!=e&&(this._params[t]=e);return this};t.prototype.setProtocolVersion=function(t){return this.set("v",t)};t.prototype.setTrackingId=function(t){return this.set("tid",t)};t.prototype.setClientId=function(t){return this.set("cid",t)};t.prototype.setHitType=function(t){return this.set("t",t)};t.prototype.setDocumentReferrer=function(t){return this.set("dr",t)};t.prototype.setCampaignName=function(t){return this.set("cn",t)};t.prototype.setCampaignSource=function(t){return this.set("cs",t)};t.prototype.setCampaignMedium=function(t){return this.set("cm",t)};t.prototype.setCampaignKeyword=function(t){return this.set("ck",t)};t.prototype.setCampaignContent=function(t){return this.set("cc",t)};t.prototype.setCampaignId=function(t){return this.set("ci",t)};t.prototype.setCustomDimension=function(t,e){return this.set("cd"+t,e)};t.prototype.setCustomMetric=function(t,e){return this.set("cm"+t,e)};Ji(t,[{key:"options",get:function(){return this._options}}]);return t}()),lr=(Gi=cr,Ki(function t(e){Yi(this,t);var n=qi(this,Gi.call(this,e));!function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.setBaseUrl("https://www.google-analytics.com/"+(e?"debug/collect":"collect"))}(n,!!n.options.debug);return n},Gi),e(function(t){t.exports=function(){var t={};t.promise=new Promise(function(e,n){t.resolve=e;t.reject=n});return t}})),hr=10,dr={timeout:2e3,postAllowed:!1,styles:{position:"absolute",top:0,left:0,width:0,height:0,border:0,pointerEvents:"none",visibility:"hidden"}},fr=function(){},pr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi(this,t);this._url=e;this._options=Object.assign({},dr,n);var i=window,r=0;try{for(;r<hr&&i.parent!==i&&null!=i.parent.document.createElement("img");){i=i.parent;++r}}catch(t){}this._window=i}t.prototype.load=function(){if(null!=this._deferred)return Promise.reject(new Error("Already loading"));this._deferred=lr();this._deferred.promise.catch(fr);(this._options.postAllowed&&"function"==typeof navigator.sendBeacon?this._sendBeacon:this._loadPixel).call(this);return this._deferred.promise};t.prototype.dispose=function(){this._rejectWith("Disposed")};t.prototype._sendBeacon=function(){navigator.sendBeacon(this._url,"")?this._deferred.resolve():this._deferred.reject(new Error("Failed"))};t.prototype._loadPixel=function(){this._image=this._window.document.createElement("img");this._image.src=this._url;Object.assign(this._image.style,this._options.styles);this._image.onload=this._onImageLoad.bind(this);this._image.onerror=this._onImageError.bind(this);this._window.document.body.appendChild(this._image);setTimeout(this._onImageTimeout.bind(this),this._options.timeout)};t.prototype._onImageLoad=function(){this._deferred.resolve();this._remove()};t.prototype._onImageError=function(){this._rejectWith("Unknown error")};t.prototype._onImageTimeout=function(){this._rejectWith("Timed out")};t.prototype._rejectWith=function(t){this._deferred.reject(new Error(t));this._remove()};t.prototype._remove=function(){if(null!=this._image){null!=this._image.parentNode&&this._image.parentNode.removeChild(this._image);this._image=null}};Ji(t,[{key:"promise",get:function(){return null!=this._deferred?this._deferred.promise:null}}]);return t}(),yr=function(t){var e=null;return function(){null===e&&(e=new t);return e}},mr=Symbol("tracking"),vr=function(){},gr=[],br=function(){function t(){Yi(this,t);this[mr]=[]}t.prototype.complete=function(){return new Promise(function(t,e){function n(){if(this[mr].length>0){i=this[mr];this[mr]=[];return Promise.all(i).then(function(t){return n}.$asyncbind(this,e),e)}return[1]}var i;return Function.$asyncbind.trampoline(this,function(){return t()},n,e,!0)(n)}.$asyncbind(this))};t.prototype.track=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new pr(t,e),i=n.load().catch(vr);this[mr].push(i);gr.push(i);return n};return t}(),_r=yr(br),wr=function(){return new Promise(function(t,e){function n(){if(gr.length>0){i=gr;gr=[];return Promise.all(i).then(function(t){return n}.$asyncbind(this,e),e)}return[1]}var i;return Function.$asyncbind.trampoline(this,function(){return t()},n,e,!0)(n)}.$asyncbind(this))},kr=function(t){t.setBaseUrl("https://pxsrv.net/")},Ar=/^(?:(\w+):)?\/\/(.*)/,Lr=/[_%]/g,Mr=function(t){return"_"===t?"_5F":"_"},Cr=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));kr(i);return i}Ki(e,t);e.prototype.setRedirectUrl=function(t){this._redirectUrl=t;return this};e.prototype.build=function(){if(null==this._redirectUrl)return t.prototype.build.call(this);var e=Ar.exec(this._redirectUrl);if(null==e)throw new Error("Invalid redirect URL: "+this._redirectUrl);return this._baseUrl+"t/"+this._buildEmbeddedQueryString()+"/"+(e[1]||"https")+"/"+e[2]};e.prototype._buildEmbeddedQueryString=function(){return this.buildQueryString().replace(Lr,Mr)};return e}(cr),Sr={placement:"ZA-",embed:"ZO-",wrapper:"ZW-"},Ir=Object.keys(Sr),jr=yr(function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Yi(this,e);var i=qi(this,t.call(this));null!=n&&(i.config=n);return i}Ki(e,t);e.prototype.trackEvent=function(t,e,n,i){if(null==this._trackingId)throw new Error("Invalid pxsrv configuration");var r=void 0;r=null!=n&&"object"!==(void 0===n?"undefined":Qi(n))?Object.assign({},i,{label:n}):Object.assign({},n);var o=(new Cr).setTrackingId(this._trackingId).setClientId(this._clientId).setEventCategory(t).setEventAction(e);null!=r.label&&o.setEventLabel(r.label);null!=r.value&&o.setEventValue(r.value);Object.keys(r.customDimensions||{}).forEach(function(t){o.setCustomDimension(t,r.customDimensions[t])});Object.keys(r.customMetrics||{}).forEach(function(t){o.setCustomMetric(t,r.customMetrics[t])});null!=r.redirectUrl&&o.setRedirectUrl(r.redirectUrl);if(null!=this._baseUrl){var s="function"==typeof this._baseUrl?this._baseUrl(t,e,r):this._baseUrl;o.setBaseUrl(s)}var a=o.build();return this.track(a,{postAllowed:!0})};Ji(e,[{key:"config",set:function(t){this._trackingId=function(t){null!=t.placement&&null!=t.campaign&&(t={placement:t.campaign+"-"+t.placement});for(var e=0;e<Ir.length&&null==t[Ir[e]];)++e;if(e===Ir.length)throw new Error("Invalid pxsrv configuration");var n=Ir[e];return Sr[n]+t[n]}(t);this._baseUrl=t.baseUrl;this._clientId=t.client||function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^(new Date/1e9%1+Math.random())%1*(20^t?16:4):4).toString(16):"-");return e}()}}]);return e}(br)),Tr=["AdLoaded","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdError"],Er=["AdClickThru","AdInteraction"],xr=["initAd","startAd","stopAd"],Pr=jr(),Dr={},Or={},Nr=0,zr=null,Vr=function(t,e,n){zr=t;if(null!=(t=n("vpaid",t))){var i=++Nr;return Pr.trackEvent("vpaid",t,Object.assign({},e,{customDimensions:Object.assign({106:i},Dr),customMetrics:Or})).promise}},$r=function(t,e,n){t.subscribe(function i(r){t.unsubscribe(i,e);var o={};if("AdError"===e&&"string"==typeof r){r.length>500&&(r=r.substr(0,500)+"...");o.customDimensions={110:r,111:zr}}Vr(e,o,n)},e)},Hr=function(t,e,n){t.subscribe(function(t){Vr(e,{value:function(t){var e=void 0===t?"undefined":Qi(t);return"string"!==e&&"number"!==e?0:(t=parseInt(t,10))>=0&&t<=9?t:0}(t?t.id:0)},n)},e)},Rr=function(t,e,n){var i=t[e],r=!1;t[e]=function(){if(!r){r=!0;Vr(e,null,n)}for(var t=arguments.length,o=Array(t),s=0;s<t;s++)o[s]=arguments[s];return i.apply(this,o)}},Fr=e(function(e){var n=e.exports.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(t){return"[["+t+"_"+Math.random().toFixed(8).slice(2)+"]]"},i=e.exports.isObject=function(e){return"object"===(void 0===e?"undefined":t(e))&&null!==e};e.exports.LISTENERS=n("listeners");e.exports.CAPTURE=1;e.exports.BUBBLE=2;e.exports.ATTRIBUTE=3;e.exports.newNode=function(t,e,n){var r=i(n);return{listener:t,kind:e,once:r&&Boolean(n.once),passive:r&&Boolean(n.passive),next:null}}}),Ur=(Fr.createUniqueKey,Fr.isObject,Fr.LISTENERS,Fr.CAPTURE,Fr.BUBBLE,Fr.ATTRIBUTE,Fr.newNode,Fr.LISTENERS),Wr=Fr.ATTRIBUTE,Br=Fr.newNode,Zr=function(e,n){function i(){e.call(this)}var r={constructor:{value:i,configurable:!0,writable:!0}};n.forEach(function(e){r["on"+e]={get:function(){return function(t,e){for(var n=t[Ur][e];null!=n;){if(n.kind===Wr)return n.listener;n=n.next}return null}(this,e)},set:function(n){!function(e,n,i){"function"!=typeof i&&"object"!==(void 0===i?"undefined":t(i))&&(i=null);for(var r=null,o=e[Ur][n];null!=o;){o.kind===Wr?null==r?e[Ur][n]=o.next:r.next=o.next:r=o;o=o.next}null!=i&&(null==r?e[Ur][n]=Br(i,Wr):r.next=Br(i,Wr))}(this,e,n)},configurable:!0,enumerable:!0}});i.prototype=Object.create(e.prototype,r);return i},Gr=Fr.createUniqueKey,Qr=Gr("stop_immediate_propagation_flag"),Yr=Gr("canceled_flag"),Jr=Gr("passive_listener_flag"),Kr=Gr("original_event"),qr=Object.freeze({stopPropagation:Object.freeze({value:function(){var t=this[Kr];"function"==typeof t.stopPropagation&&t.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[Qr]=!0;var t=this[Kr];"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){if(!this[Jr]){!0===this.cancelable&&(this[Yr]=!0);var t=this[Kr];"function"==typeof t.preventDefault&&t.preventDefault()}},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[Yr]},enumerable:!0,configurable:!0})}),Xr={STOP_IMMEDIATE_PROPAGATION_FLAG:Qr,PASSIVE_LISTENER_FLAG:Jr,createEventWrapper:function(t,e){var n="number"==typeof t.timeStamp?t.timeStamp:Date.now(),i={type:{value:t.type,enumerable:!0},target:{value:e,enumerable:!0},currentTarget:{value:e,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(t.bubbles),enumerable:!0},cancelable:{value:Boolean(t.cancelable),enumerable:!0},timeStamp:{value:n,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};i[Qr]={value:!1,writable:!0};i[Yr]={value:!1,writable:!0};i[Jr]={value:!1,writable:!0};i[Kr]={value:t};void 0!==t.detail&&(i.detail={value:t.detail,enumerable:!0});return Object.create(Object.create(t,qr),i)}},to=e(function(e){var n=Fr.isObject,i=Fr.LISTENERS,r=Fr.CAPTURE,o=Fr.BUBBLE,s=Fr.ATTRIBUTE,a=Fr.newNode,u=Zr,c=Xr.createEventWrapper,l=Xr.STOP_IMMEDIATE_PROPAGATION_FLAG,h=Xr.PASSIVE_LISTENER_FLAG,d="undefined"!=typeof window&&void 0!==window.EventTarget,f=e.exports=function t(){if(!(this instanceof t)){if(1===arguments.length&&Array.isArray(arguments[0]))return u(t,arguments[0]);if(arguments.length>0){for(var e=Array(arguments.length),n=0;n<arguments.length;++n)e[n]=arguments[n];return u(t,e)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,i,{value:Object.create(null)})};f.prototype=Object.create((d?window.EventTarget:Object).prototype,{constructor:{value:f,writable:!0,configurable:!0},addEventListener:{value:function(e,s,u){if(null==s)return!1;if("function"!=typeof s&&"object"!==(void 0===s?"undefined":t(s)))throw new TypeError('"listener" is not an object.');var c=(n(u)?Boolean(u.capture):Boolean(u))?r:o,l=this[i][e];if(null==l){this[i][e]=a(s,c,u);return!0}for(var h=null;null!=l;){if(l.listener===s&&l.kind===c)return!1;h=l;l=l.next}h.next=a(s,c,u);return!0},configurable:!0,writable:!0},removeEventListener:{value:function(t,e,s){if(null==e)return!1;for(var a=(n(s)?Boolean(s.capture):Boolean(s))?r:o,u=null,c=this[i][t];null!=c;){if(c.listener===e&&c.kind===a){null==u?this[i][t]=c.next:u.next=c.next;return!0}u=c;c=c.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(t){var e=t.type,n=this[i][e];if(null==n)return!0;for(var r=c(t,this),o=null;null!=n;){n.once?null==o?this[i][e]=n.next:o.next=n.next:o=n;r[h]=n.passive;"function"==typeof n.listener?n.listener.call(this,r):n.kind!==s&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(r);if(r[l])break;n=n.next}return!r.defaultPrevented},configurable:!0,writable:!0}})}),eo=e(function(t){function e(){}function n(t){this.isDisposed=!1;this.action=i(t)?t:e}var i=t.exports=function(){var t=function(t){return"function"==typeof t||!1};t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)});return t}();n.prototype.dispose=function(){if(!this.isDisposed){this.action();this.isDisposed=!0}};n.create=function(t){return new n(t)};n.empty={dispose:e};n.isDisposable=function(t){return t&&i(t.dispose)};n._fixup=function(t){return n.isDisposable(t)?t:n.empty};t.exports=n});r.prototype.add=function(t){if(this.isDisposed)t.dispose();else{this._disposables.push(t);this.length++}};r.prototype.remove=function(t){var e=!1;if(!this.isDisposed){var n=this._disposables.indexOf(t);if(-1!==n){e=!0;this._disposables.splice(n,1);this.length--;t.dispose()}}return e};r.prototype.clear=function(){if(!this.isDisposed){for(var t=this._disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this._disposables[n];this._disposables=[];this.length=0;for(n=0;n<t;n++)e[n].dispose()}};r.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this._disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this._disposables[n];this._disposables=[];this.length=0;for(n=0;n<t;n++)e[n].dispose()}};for(var no=r,io=function(t,e){var n=setTimeout(function(){t();i.dispose()},e),i=eo.create(function(){clearTimeout(n)});return i},ro=function(t,e){var n=setInterval(t,e);return eo.create(function(){clearInterval(n)})},oo=e(function(t){(function(){var e,n,i,r,o,s;if("undefined"!=typeof performance&&null!==performance&&performance.now)t.exports=function(){return performance.now()};else if("undefined"!=typeof process&&null!==process&&process.hrtime){t.exports=function(){return(e()-o)/1e6};n=process.hrtime;r=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})();s=1e9*process.uptime();o=r-s}else if(Date.now){t.exports=function(){return Date.now()-i};i=Date.now()}else{t.exports=function(){return(new Date).getTime()-i};i=(new Date).getTime()}}).call(u)}),so="undefined"==typeof window?u:window,ao=["moz","webkit"],uo="AnimationFrame",co=so["request"+uo],lo=so["cancel"+uo]||so["cancelRequest"+uo],ho=0;!co&&ho<ao.length;ho++){co=so[ao[ho]+"Request"+uo];lo=so[ao[ho]+"Cancel"+uo]||so[ao[ho]+"CancelRequest"+uo]}if(!co||!lo){var fo=0,po=0,yo=[];co=function(t){if(0===yo.length){var e=oo(),n=Math.max(0,1e3/60-(e-fo));fo=n+e;setTimeout(function(){var t=yo.slice(0);yo.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(fo)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}yo.push({handle:++po,callback:t,cancelled:!1});return po};lo=function(t){for(var e=0;e<yo.length;e++)yo[e].handle===t&&(yo[e].cancelled=!0)}}var mo=function(t){return co.call(so,t)};mo.cancel=function(){lo.apply(so,arguments)};mo.polyfill=function(){so.requestAnimationFrame=co;so.cancelAnimationFrame=lo};var vo=function(t){var e=mo(t);return eo.create(function(){mo.cancel(e)})},go=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);e.prototype.setTimeout=function(t,e){return this._createDisposable(io,t,e)};e.prototype.setInterval=function(t,e){return this._createDisposable(ro,t,e)};e.prototype.requestAnimationFrame=function(t){return this._createDisposable(vo,t)};e.prototype.addEventListener=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return this._createDisposable.apply(this,[function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.addEventListener.apply(t,n);return eo.create(function(){t.removeEventListener.apply(t,n)})},t].concat(n))};e.prototype.on=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return this._createDisposable.apply(this,[function(t,e,n){t.on(e,n);return eo.create(function(){t.removeListener(e,n)})},t].concat(n))};e.prototype.once=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return this._createDisposable.apply(this,[function(t,e,n){t.once(e,n);return eo.create(function(){t.removeListener(e,n)})},t].concat(n))};e.prototype._createDisposable=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=t.apply(void 0,n);this.add(r);return r};return e}(no),bo={autoDisposeDisabled:!1},_o={width:"100%",height:"100%",pointerEvents:"auto"},wo=Symbol("options"),ko=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this));i[wo]=Object.assign({},bo,n);i._disposables=new go;i._skippable=!1;return i}Ki(e,t);e.prototype.onInstalled=function(){};e.prototype.setAdSkippable=function(t){if(this._skippable!==t){this._skippable=t;this._vpaid.notify("skippableStateChange")}};e.prototype.setCustomDimensions=function(t){e=t,Object.assign(Dr,e);var e};e.prototype.setCustomMetrics=function(t){e=t,Object.assign(Or,e);var e};e.prototype.initAd=function(t,e,n,i,r,o){return new Promise(function(s,a){this._adVolume=1;this._adWidth=t;this._adHeight=e;this._viewMode=n;this._desiredBitrate=i;this._creativeData=r;this._envVars=o;this._videoSlot=o.videoSlot;this._slot=o.slot;this._videoSlotCanAutoPlay=o.videoSlotCanAutoPlay;return this._createContainer(o.slot).then(function(t){return s()}.$asyncbind(this,a),a)}.$asyncbind(this))};e.prototype.runAd=function(t){return new Promise(function(e,n){return this.startAd(t).then(function(t){return this[wo].autoDisposeDisabled?e(!1):this.disposeAd().then(function(t){return e(!0)}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.disposeAd=function(){return new Promise(function(t,e){try{this._disposables.dispose()}catch(t){}var n=function(){return t()}.$asyncbind(this,e),i=function(t){return n()}.$asyncbind(this,e);try{return wr().then(function(t){return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}.$asyncbind(this))};e.prototype.startAd=function(t){return new Promise(function(t,e){return e(new Error("Method startAd is abstract"))}.$asyncbind(this))};e.prototype.stopAd=function(){return new Promise(function(t,e){return e(new Error("Method stopAd is abstract"))}.$asyncbind(this))};e.prototype.pauseAd=function(){return new Promise(function(t,e){return e(new Error("Method pauseAd is abstract"))}.$asyncbind(this))};e.prototype.resumeAd=function(){return new Promise(function(t,e){return e(new Error("Method resumeAd is abstract"))}.$asyncbind(this))};e.prototype.resizeAd=function(t,e,n){return new Promise(function(i,r){this._adWidth=t;this._adHeight=e;this._viewMode=n;return i()}.$asyncbind(this))};e.prototype._createContainer=function(t){return new Promise(function(e,n){var i=t.ownerDocument||document,r="vpaid-container-"+(new Date).getTime()+"-"+Math.floor(1e8*Math.random()),o=r+"-0",s=i.createElement("style");s.textContent="#"+o+", #"+o+" :not(html) { \n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  background: none;\n  opacity: 1;\n  border: none;\n  outline: none;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n }";t.appendChild(s);var a=this._createContainer0(t,o);this.disposables.add(new eo(function(){t.removeChild(a);t.removeChild(s)}));for(var u=a,c="#"+a.id,l=1;l<5;++l)c+=" #"+(u=this._createContainer0(u,r+"-"+l)).id;this._container=u;this._containerSelector=c;return e()}.$asyncbind(this))};e.prototype._createContainer0=function(t,e){var n=(t.ownerDocument||document).createElement("div");n.id=e;Object.assign(n.style,_o);t.appendChild(n);return n};Ji(e,[{key:"disposables",get:function(){return this._disposables}},{key:"options",get:function(){return this[wo]}},{key:"adWidth",get:function(){return this._adWidth}},{key:"adHeight",get:function(){return this._adHeight}},{key:"viewMode",get:function(){return this._viewMode}},{key:"desiredBitrate",get:function(){return this._desiredBitrate}},{key:"envVars",get:function(){return this._envVars}},{key:"slot",get:function(){return this._slot}},{key:"container",get:function(){return this._container}},{key:"containerSelector",get:function(){return this._containerSelector}},{key:"videoSlot",get:function(){return this._videoSlot}},{key:"videoSlotCanAutoPlay",get:function(){return this._videoSlotCanAutoPlay}},{key:"creativeData",get:function(){return this._creativeData}},{key:"adVolume",get:function(){return this._adVolume},set:function(t){this._adVolume=t}},{key:"vpaid",get:function(){return this._vpaid},set:function(t){this._vpaid=t}},{key:"reportsQuartiles",get:function(){return!1}},{key:"adRemainingTime",get:function(){throw new Error("Method adRemainingTime is abstract")}},{key:"adDuration",get:function(){throw new Error("Method adDuration is abstract")}},{key:"adSkippable",get:function(){return this._skippable}}]);return e}(to),Ao=e(function(t){function e(){}function n(t,e,n){this.fn=t;this.context=e;this.once=n||!1}function i(){this._events=new e;this._eventsCount=0}var r=Object.prototype.hasOwnProperty,o="~";if(Object.create){e.prototype=Object.create(null);(new e).__proto__||(o=!1)}i.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n};i.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,a=new Array(s);r<s;r++)a[r]=i[r].fn;return a};i.prototype.emit=function(t,e,n,i,r,s){var a=o?o+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){l.once&&this.removeListener(t,l.fn,void 0,!0);switch(h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++){l[c].once&&this.removeListener(t,l[c].fn,void 0,!0);switch(h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}}return!0};i.prototype.on=function(t,e,i){var r=new n(e,i||this),s=o?o+t:t;this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++);return this};i.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),s=o?o+t:t;this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++);return this};i.prototype.removeListener=function(t,n,i,r){var s=o?o+t:t;if(!this._events[s])return this;if(!n){0==--this._eventsCount?this._events=new e:delete this._events[s];return this}var a=this._events[s];if(a.fn)a.fn!==n||r&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new e:delete this._events[s]);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==n||r&&!a[u].once||i&&a[u].context!==i)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new e:delete this._events[s]}return this};i.prototype.removeAllListeners=function(t){var n;if(t){n=o?o+t:t;this._events[n]&&(0==--this._eventsCount?this._events=new e:delete this._events[n])}else{this._events=new e;this._eventsCount=0}return this};i.prototype.off=i.prototype.removeListener;i.prototype.addListener=i.prototype.on;i.prototype.setMaxListeners=function(){return this};i.prefixed=o;i.EventEmitter=i;t.exports=i});!function(t){function e(t){"string"!=typeof t&&(t=String(t));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){"string"!=typeof t&&(t=String(t));return t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};f.iterable&&(e[Symbol.iterator]=function(){return e});return e}function r(t){this.map={};t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)};t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);e.readAsArrayBuffer(t);return n}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);e.set(new Uint8Array(t));return e.buffer}function c(){this.bodyUsed=!1;this._initBody=function(t){this._bodyInit=t;if(t)if("string"==typeof t)this._bodyText=t;else if(f.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(f.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(f.arrayBuffer&&f.blob&&y(t)){this._bodyArrayBuffer=u(t.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(!f.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!m(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};if(f.blob){this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}}this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=s(e);e.readAsText(t);return n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};f.formData&&(this.formData=function(){return this.text().then(h)});this.json=function(){return this.text().then(JSON.parse)};return this}function l(t,e){var n=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url;this.credentials=t.credentials;e.headers||(this.headers=new r(t.headers));this.method=t.method;this.mode=t.mode;if(!n&&null!=t._bodyInit){n=t._bodyInit;t.bodyUsed=!0}}else this.url=String(t);this.credentials=e.credentials||this.credentials||"omit";!e.headers&&this.headers||(this.headers=new r(e.headers));this.method=function(t){var e=t.toUpperCase();return v.indexOf(e)>-1?e:t}(e.method||this.method||"GET");this.mode=e.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}});return e}function d(t,e){e||(e={});this.type="default";this.status="status"in e?e.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in e?e.statusText:"OK";this.headers=new r(e.headers);this.url=e.url||"";this._initBody(t)}if(!t.fetch){var f={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{new Blob;return!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},m=ArrayBuffer.isView||function(t){return t&&p.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t);i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i};r.prototype.delete=function(t){delete this.map[e(t)]};r.prototype.get=function(t){t=e(t);return this.has(t)?this.map[t]:null};r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))};r.prototype.set=function(t,i){this.map[e(t)]=n(i)};r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};r.prototype.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});return i(t)};r.prototype.values=function(){var t=[];this.forEach(function(e){t.push(e)});return i(t)};r.prototype.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});return i(t)};f.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})};c.call(l.prototype);c.call(d.prototype);d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})};d.error=function(){var t=new d(null,{status:0,statusText:""});t.type="error";return t};var g=[301,302,303,307,308];d.redirect=function(t,e){if(-1===g.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})};t.Headers=r;t.Request=l;t.Response=d;t.fetch=function(t,e){return new Promise(function(n,i){var o=new l(t,e),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new r;t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}});return e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new d(e,t))};s.onerror=function(){i(new TypeError("Network request failed"))};s.ontimeout=function(){i(new TypeError("Network request failed"))};s.open(o.method,o.url,!0);"include"===o.credentials&&(s.withCredentials=!0);"responseType"in s&&f.blob&&(s.responseType="blob");o.headers.forEach(function(t,e){s.setRequestHeader(e,t)});s.send(void 0===o._bodyInit?null:o._bodyInit)})};t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var Lo,Mo=self.fetch.bind(self),Co=function(t){return function(e){return e.nodeType===t}},So=Co(1),Io=Co(3),jo=Co(4),To=function(t,e){return Array.prototype.filter.call(t.childNodes,e)},Eo=function(t){return Io(t)||jo(t)},xo=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/,Po=function(t){var e=xo.exec(t);if(null==e)throw new Error('Failed to parse time "'+t+'"');return 60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])},Do=(Lo={},Lo.b=function(t){return"true"===t},Lo.i=function(t){return parseInt(t,10)},Lo.f=parseFloat,Lo.t=Po,Lo),Oo=function(){var t=/^[A-Z]+/,e=function(t){return 1===t.length?t.toLowerCase():t.substr(0,t.length-1).toLowerCase()+t.charAt(t.length-1)};return function(n){return n.replace(t,e)}}(),No=function(t,e,n){return null!=t[e]&&~t[e].indexOf(n)},zo=function(){function t(e){var n=e.collections,i=e.freeforms,r=e.types;Yi(this,t);this._collections=n;this._freeforms=i;this._types=r}t.prototype.unmarshal=function(t){return this._createNode(t)};t.prototype._createNode=function(t){var e=Object.create(null);e._value=this._convertPropertyValue((n=t,To(n,Eo).map(function(t){return t.nodeValue}).join("").trim()),t.nodeName,"_value");var n;this._copyAttributes(e,t);this._createCollections(e,t);this._createChildren(e,t);return e};t.prototype._createFreeformNode=function(t){var e=Object.create(null);this._copyAttributes(e,t);e._value=t;return e};t.prototype._copyAttributes=function(t,e){for(var n=e.nodeName,i=0;i<e.attributes.length;++i){var r=e.attributes[i],o=r.nodeName,s=r.nodeValue;t[o]=this._convertPropertyValue(s,n,o)}};t.prototype._createCollections=function(t,e){null!=this._collections[e.nodeName]&&this._collections[e.nodeName].forEach(function(e){t[Oo(e)]=[]})};t.prototype._createChildren=function(t,e){var n=this,i=e.nodeName;To(e,So).forEach(function(e){var r=e.nodeName,o=Oo(r);n._isFreeformParent(i)?n._isFreeformChild(i,r)&&n._addFreeformChild(e,o,t):n._addNodeChild(e,o,t,i,r)})};t.prototype._addNodeChild=function(t,e,n,i,r){var o=this._createNode(t);if(null==n[e])n[e]=o;else{if(!this._isCollection(i,r))throw new Error("Multiple values for "+i+"."+r);n[e].push(o)}};t.prototype._addFreeformChild=function(t,e,n){n[e]=n[e]||[];n[e].push(this._createFreeformNode(t))};t.prototype._convertPropertyValue=function(t,e,n){var i=null!=this._types[e]?this._types[e][n]:null;return null!=i?Do[i](t):t};t.prototype._isCollection=function(t,e){return No(this._collections,t,e)};t.prototype._isFreeformParent=function(t){return null!=this._freeforms[t]};t.prototype._isFreeformChild=function(t,e){return No(this._freeforms,t,e)};return t}(),Vo={collections:{Companion:["CompanionClickTracking"],CompanionAds:["Companion"],CreativeExtensions:["CreativeExtension"],Creatives:["Creative"],Extensions:["Extension"],Icon:["IconViewTracking"],IconClicks:["IconClickTracking"],Icons:["Icon"],InLine:["Impression","Error"],MediaFiles:["MediaFile"],NonLinear:["NonLinearClickTracking"],NonLinearAds:["NonLinear"],TrackingEvents:["Tracking"],VAST:["Error","Ad"],VideoClicks:["ClickTracking","CustomClick"],Wrapper:["Impression","Error"]},freeforms:{CreativeExtensions:["CreativeExtension"],Extensions:["Extension"]},types:{Ad:{sequence:"i"},AdParameters:{xmlEncoded:"b"},Companion:{width:"i",height:"i",expandedWidth:"i",expandedHeight:"i"},Creative:{sequence:"i"},Duration:{_value:"t"},Icon:{width:"i",height:"i",offset:"t",duration:"t"},MediaFile:{bitrate:"i",minBitrate:"i",maxBitrate:"i",width:"i",height:"i",scalable:"b",maintainAspectRatio:"b"},NonLinear:{width:"i",height:"i",assetWidth:"i",assetHeight:"i",expandedWidth:"i",expandedHeight:"i",scalable:"b",maintainAspectRatio:"b",minSuggestedDuration:"t"},Pricing:{_value:"f"},Wrapper:{followAdditionalWrappers:"b",allowMultipleAds:"b",fallbackOnNoAd:"b"}}},$o=function(){function t(){Yi(this,t);this._contents=[]}t.prototype.add=function(t){this._contents.push(t);this._contents.sort(function(t,e){return(t.sequence||0)-(e.sequence||0)})};t.prototype.remove=function(t){for(var e=this._contents.indexOf(t);e>=0;){this._contents.splice(e,1);e=this._contents.indexOf(t,e)}};t.prototype.get=function(t){return this._contents[t]};t.prototype.clear=function(){this._contents.length=0};t.prototype[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t.get(e++),done:!1}:{value:void 0,done:!0}}}};t.prototype.toArray=function(){return this._contents.slice()};Ji(t,[{key:"length",get:function(){return this._contents.length}},{key:"$type",get:function(){return"SortedList"}}]);return t}(),Ho=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._errors=[];return n}Ki(e,t);Ji(e,[{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}},{key:"errors",get:function(){return this._errors}},{key:"$type",get:function(){return"VAST"}}]);return e}(function(){function t(){Yi(this,t);this._ads=new $o}Ji(t,[{key:"ads",get:function(){return this._ads}},{key:"adPod",get:function(){return this._adPod},set:function(t){this._adPod=t}},{key:"$type",get:function(){return"AdBuffet"}}]);return t}()),Ro=function(){function t(){Yi(this,t)}Ji(t,[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}},{key:"$type",get:function(){return"AdSystem"}}]);return t}(),Fo=function(){function t(){Yi(this,t);this._ads=new $o}Ji(t,[{key:"ads",get:function(){return this._ads}},{key:"$type",get:function(){return"AdPod"}}]);return t}(),Uo=function(){function t(){Yi(this,t)}Ji(t,[{key:"sequence",get:function(){return this._sequence},set:function(t){this._sequence=t}}]);return t}(),Wo=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._creatives=new $o;n._impressions=[];n._errors=[];n._extensions=[];return n}Ki(e,t);Ji(e,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"adSystem",get:function(){return this._adSystem},set:function(t){this._adSystem=t}},{key:"creatives",get:function(){return this._creatives}},{key:"impressions",get:function(){return this._impressions}},{key:"errors",get:function(){return this._errors}},{key:"error",get:function(){console.warn("Ad.error is deprecated. Please use ad.errors instead.");return this._errors[0]},set:function(t){console.warn("Ad.error is deprecated. Please use ad.errors instead.");this._errors[0]=t}},{key:"extensions",get:function(){return this._extensions}}]);return e}(Uo),Bo=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"adTitle",get:function(){return this._adTitle},set:function(t){this._adTitle=t}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"advertiser",get:function(){return this._advertiser},set:function(t){this._advertiser=t}},{key:"survey",get:function(){return this._survey},set:function(t){this._survey=t}},{key:"pricing",get:function(){return this._pricing},set:function(t){this._pricing=t}},{key:"$type",get:function(){return"InLine"}}]);return e}(Wo),Zo=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"vastAdTagURI",get:function(){return this._vastAdTagURI},set:function(t){this._vastAdTagURI=t}},{key:"followAdditionalWrappers",get:function(){return this._followAdditionalWrappers},set:function(t){this._followAdditionalWrappers=t}},{key:"allowMultipleAds",get:function(){return this._allowMultipleAds},set:function(t){this._allowMultipleAds=t}},{key:"fallbackOnNoAd",get:function(){return this._fallbackOnNoAd},set:function(t){this._fallbackOnNoAd=t}},{key:"$type",get:function(){return"Wrapper"}}]);return e}(Wo),Go=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._extensions=[];return n}Ki(e,t);Ji(e,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"adID",get:function(){return this._adID},set:function(t){this._adID=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"extensions",get:function(){return this._extensions}}]);return e}(Uo),Qo=function(){function t(){Yi(this,t);this._clickTrackings=[]}Ji(t,[{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}}]);return t}(),Yo=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._customClicks=[];return n}Ki(e,t);Ji(e,[{key:"customClicks",get:function(){return this._customClicks}},{key:"$type",get:function(){return"VideoClicks"}}]);return e}(Qo),Jo=function(){function t(){Yi(this,t);this._map=Object.create(null)}t.prototype.get=function(t){return this._map[t]||[]};t.prototype.add=function(t,e){this._map[t]=this._map[t]||[];this._map[t].push(e)};Ji(t,[{key:"types",get:function(){return Object.keys(this._map)}},{key:"$type",get:function(){return"TrackingEvents"}}]);return t}(),Ko=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._mediaFiles=[];n._trackingEvents=new Jo;n._videoClicks=new Yo;n._icons=[];return n}Ki(e,t);Ji(e,[{key:"skipoffset",get:function(){return this._skipoffset},set:function(t){this._skipoffset=t}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration=t}},{key:"mediaFiles",get:function(){return this._mediaFiles}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"videoClicks",get:function(){return this._videoClicks}},{key:"icons",get:function(){return this._icons}},{key:"$type",get:function(){return"Linear"}}]);return e}(Go),qo=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._companions=[];return n}Ki(e,t);Ji(e,[{key:"companions",get:function(){return this._companions}},{key:"required",get:function(){return this._required},set:function(t){this._required=t}},{key:"$type",get:function(){return"CompanionAds"}}]);return e}(Go),Xo=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._nonLinears=[];n._trackingEvents=new Jo;return n}Ki(e,t);Ji(e,[{key:"nonLinears",get:function(){return this._nonLinears}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"NonLinearAds"}}]);return e}(Go),ts=function(){function t(){Yi(this,t);this._clickTrackings=[];this._trackingEvents=new Jo}Ji(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"assetWidth",get:function(){return this._assetWidth},set:function(t){this._assetWidth=t}},{key:"assetHeight",get:function(){return this._assetHeight},set:function(t){this._assetHeight=t}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(t){this._expandedWidth=t}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(t){this._expandedHeight=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"adSlotID",get:function(){return this._adSlotID},set:function(t){this._adSlotID=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"altText",get:function(){return this._altText},set:function(t){this._altText=t}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"Companion"}}]);return t}(),es=function(){function t(){Yi(this,t);this._clickTrackings=[]}Ji(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(t){this._expandedWidth=t}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(t){this._expandedHeight=t}},{key:"scalable",get:function(){return this._scalable},set:function(t){this._scalable=t}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(t){this._maintainAspectRatio=t}},{key:"minSuggestedDuration",get:function(){return this._minSuggestedDuration},set:function(t){this._minSuggestedDuration=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"$type",get:function(){return"NonLinear"}}]);return t}(),ns=function(){function t(){Yi(this,t)}Ji(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"Impression"}}]);return t}(),is=function(){function t(){Yi(this,t)}Ji(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"delivery",get:function(){return this._delivery},set:function(t){this._delivery=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"bitrate",get:function(){return this._bitrate},set:function(t){this._bitrate=t}},{key:"minBitrate",get:function(){return this._minBitrate},set:function(t){this._minBitrate=t}},{key:"maxBitrate",get:function(){return this._maxBitrate},set:function(t){this._maxBitrate=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"scalable",get:function(){return this._scalable},set:function(t){this._scalable=t}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(t){this._maintainAspectRatio=t}},{key:"codec",get:function(){return this._codec},set:function(t){this._codec=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"MediaFile"}}]);return t}(),rs=function(){function t(){Yi(this,t)}Ji(t,[{key:"content",get:function(){return this._content},set:function(t){this._content=t}}]);return t}(),os=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"HTMLResource"}}]);return e}(rs),ss=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"IFrameResource"}}]);return e}(rs),as=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"creativeType",get:function(){return this._creativeType},set:function(t){this._creativeType=t}},{key:"$type",get:function(){return"StaticResource"}}]);return e}(rs),us=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"IconClicks"}}]);return e}(Qo),cs=function(){function t(){Yi(this,t);this._clicks=new us;this._viewTrackings=[]}Ji(t,[{key:"program",get:function(){return this._program},set:function(t){this._program=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){this._xPosition=t}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){this._yPosition=t}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"clicks",get:function(){return this._clicks}},{key:"viewTrackings",get:function(){return this._viewTrackings}},{key:"$type",get:function(){return"Icon"}}]);return t}(),ls=function(){function t(){Yi(this,t)}Ji(t,[{key:"model",get:function(){return this._model},set:function(t){this._model=t}},{key:"currency",get:function(){return this._currency},set:function(t){this._currency=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"$type",get:function(){return"Pricing"}}]);return t}(),hs=function(){function t(){Yi(this,t)}Ji(t,[{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}}]);return t}(),ds=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"Extension"}}]);return e}(hs),fs=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"CreativeExtension"}}]);return e}(hs),ps=function(){function t(){Yi(this,t)}Ji(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"Click"}}]);return t}(),ys=function(){function t(){Yi(this,t)}Ji(t,[{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"$type",get:function(){return"TrackingEvent"}}]);return t}(),ms=function(){function t(){Yi(this,t)}Ji(t,[{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]);return t}(),vs=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"AbsoluteTimeOffset"}}]);return e}(ms),gs=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);Ji(e,[{key:"$type",get:function(){return"RelativeTimeOffset"}}]);return e}(ms),bs=function(t){var e=new is;e.id=t.id;e.delivery=t.delivery;e.type=t.type;e.bitrate=t.bitrate;e.minBitrate=t.minBitrate;e.maxBitrate=t.maxBitrate;e.width=t.width;e.height=t.height;e.scalable=t.scalable;e.maintainAspectRatio=t.maintainAspectRatio;e.codec=t.codec;e.apiFramework=t.apiFramework;e.uri=t._value;return e},_s=function(t){return t.staticResource?function(t){var e=new as;e.creativeType=t.creativeType;e.content=t._value;return e}(t.staticResource):t.iFrameResource?function(t){var e=new ss;e.content=t._value;return e}(t.iFrameResource):t.htmlResource?function(t){var e=new os;e.content=t._value;return e}(t.htmlResource):null},ws=function(t){var e=new ps;e.id=t.id;e.uri=t._value;return e},ks=function(t){return"string"==typeof t&&t.length>0},As=function(t){return null!=t&&ks(t._value)},Ls=function(t){var e=new cs;e.program=t.program;e.width=t.width;e.height=t.height;e.xPosition=t.xPosition;e.yPosition=t.yPosition;e.duration=t.duration;e.offset=t.offset;e.apiFramework=t.apiFramework;e.resource=_s(t);if(t.iconClicks){t.iconClicks.iconClickThrough&&As(t.iconClicks.iconClickThrough)&&(e.clicks.clickThrough=ws(t.iconClicks.iconClickThrough));if(t.iconClicks.iconClickTracking){var n;(n=e.clicks.clickTrackings).push.apply(n,t.iconClicks.iconClickTracking.filter(As).map(ws))}}if(t.iconViewTracking){var i;(i=e.viewTrackings).push.apply(i,t.iconViewTracking.filter(As).map(ws))}return e},Ms=function(t,e,n){if("%"===t.charAt(t.length-1)){var i=new gs;i.value=parseFloat(t.substr(0,t.length-1));return i}var r=new vs;try{r.value=Po(t)}catch(n){e.errorHandler(n)}return r},Cs=function(t){var e=new fs;e.type=t.type;e.content=t._value;return e},Ss=function(t,e){e.id=t.id;e.sequence=t.sequence;e.adID=t.AdID||t.adID;e.apiFramework=t.apiFramework;if(t.creativeExtensions&&t.creativeExtensions.creativeExtension){var n;(n=e.extensions).push.apply(n,t.creativeExtensions.creativeExtension.map(Cs))}},Is=function(t,e,n){if(null!=t&&Array.isArray(t.tracking)){var i=t.tracking,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var s;if(r){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var a=s;if(ks(a._value)){var u=new ys;u.uri=a._value;if("progress"===a.event&&ks(a.offset))try{u.offset=Ms(a.offset)}catch(t){n.errorHandler(t)}e.add(a.event,u)}}}},js=function(t){var e=new es;e.id=t.id;e.width=t.width;e.height=t.height;e.expandedWidth=t.expandedWidth;e.expandedHeight=t.expandedHeight;e.scalable=t.scalable;e.maintainAspectRatio=t.maintainAspectRatio;e.minSuggestedDuration=t.minSuggestedDuration;e.apiFramework=t.apiFramework;e.resource=_s(t);t.nonLinearClickThrough&&As(t.nonLinearClickThrough)&&(e.clickThrough=ws(t.nonLinearClickThrough));if(t.nonLinearClickTracking){var n;(n=e.clickTrackings).push.apply(n,t.nonLinearClickTracking.filter(As).map(ws))}t.adParameters&&(e.adParameters=t.adParameters._value);return e},Ts=function(t){var e=new ts;e.id=t.id;e.width=t.width;e.height=t.height;e.assetWidth=t.assetWidth;e.assetHeight=t.assetHeight;e.expandedWidth=t.expandedWidth;e.expandedHeight=t.expandedHeight;e.apiFramework=t.apiFramework;e.adSlotID=t.adSlotID;e.resource=_s(t);t.adParameters&&(e.adParameters=t.adParameters._value);t.altText&&(e.altText=t.altText._value);t.companionClickThrough&&As(t.companionClickThrough)&&(e.clickThrough=ws(t.companionClickThrough));if(t.companionClickTracking){var n;(n=e.clickTrackings).push.apply(n,t.companionClickTracking.filter(As).map(ws))}Is(t.trackingEvents,e.trackingEvents);return e},Es=function(t){var e=new ds;e.type=t.type;e.content=t._value;return e},xs=function(t){var e=new ns;e.id=t.id;e.uri=t._value;return e},Ps=function(t){return null!=t&&ks(t._value)},Ds=function(t,e,n,i){n.id=t.id;n.sequence=t.sequence;if(null!=e.adSystem){n.adSystem=new Ro;n.adSystem.name=e.adSystem._value;n.adSystem.version=e.adSystem.version}if(null!=e.impression){var r;(r=n.impressions).push.apply(r,e.impression.filter(Ps).map(xs))}if(null!=e.error){var o;(o=n.errors).push.apply(o,e.error.filter(Ps).map(function(t){return t._value}))}null!=e.creatives&&Array.isArray(e.creatives.creative)&&e.creatives.creative.forEach(function(t){try{var e=function(t,e){if(t.linear)return function(t,e){var n=t.linear,i=new Ko;Ss(t,i);ks(n.skipoffset)&&(i.skipoffset=Ms(n.skipoffset,e));n.adParameters&&(i.adParameters=n.adParameters._value);n.duration&&(i.duration=n.duration._value);if(n.mediaFiles&&n.mediaFiles.mediaFile){var r;(r=i.mediaFiles).push.apply(r,n.mediaFiles.mediaFile.map(bs))}Is(n.trackingEvents,i.trackingEvents,e);n.videoClicks&&function(t,e){t.clickThrough&&As(t.clickThrough)&&(e.clickThrough=ws(t.clickThrough));if(t.clickTracking){var n;(n=e.clickTrackings).push.apply(n,t.clickTracking.filter(As).map(ws))}if(t.customClick){var i;(i=e.customClicks).push.apply(i,t.customClick.filter(As).map(ws))}}(n.videoClicks,i.videoClicks);if(n.icons&&n.icons.icon){var o;(o=i.icons).push.apply(o,n.icons.icon.map(Ls))}return i}(t,e);if(t.nonLinearAds)return function(t){var e=t.nonLinearAds,n=new Xo;Ss(t,n);if(e.nonLinear){var i;(i=n.nonLinears).push.apply(i,e.nonLinear.map(js))}Is(e.trackingEvents,n.trackingEvents);return n}(t);if(t.companionAds)return function(t){var e=t.companionAds,n=new qo;Ss(t,n);n.required=e.required;if(e.companion){var i;(i=n.companions).push.apply(i,e.companion.map(Ts))}return n}(t);throw new Error("Unrecognized creative type")}(t,i);n.creatives.add(e)}catch(t){i.errorHandler(t)}});if(null!=e.extensions&&Array.isArray(e.extensions.extension)){var s;(s=n.extensions).push.apply(s,e.extensions.extension.map(Es))}return n},Os=function(t,e){if(t.inLine)return function(t,e){var n=new Bo,i=t.inLine;Ds(t,i,n,e);n.adTitle=null!=i.adTitle?i.adTitle._value:null;n.description=null!=i.description?i.description._value:null;n.advertiser=null!=i.advertiser?i.advertiser._value:null;n.survey=null!=i.survey?i.survey._value:null;i.pricing&&(n.pricing=function(t){var e=new ls;e.model=t.model;e.currency=t.currency;e.value=t._value;return e}(i.pricing));return n}(t,e);if(t.wrapper)return function(t,e){var n=new Zo,i=t.wrapper;Ds(t,i,n,e);n.vastAdTagURI=null!=i.vastAdTagURI?i.vastAdTagURI._value:null;n.followAdditionalWrappers=!!i.followAdditionalWrappers;n.allowMultipleAds=!!i.allowMultipleAds;n.fallbackOnNoAd=!!i.fallbackOnNoAd;return n}(t,e);throw new Error("Unrecognized ad type")},Ns=function(t){throw t},zs=function(){},Vs={strict:!1,noSingleAdPods:!1},$s={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General Wrapper error.",301:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element.",302:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",303:"No ads VAST response after one or more Wrappers. Also includes number of empty VAST responses from fallback.",400:"General linear error. Video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Timeout of MediaFile URI.",403:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying MediaFile.",406:"Mezzanine was required but not provided. Ad not served.",407:"Mezzanine is in the process of being downloaded for the first time. Download may take several hours. Ad will not be served until mezzanine is downloaded and transcoded.",408:"Conditional ad rejected.",409:"Interactive unit in the InteractiveCreativeFile node was not executed",410:"Verification unit in the Verification node was not executed.",411:"Mezzanine was provided as required, but file did not meet required specification. Ad not served.",500:"General NonLinearAds error.",501:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearresource with supported type.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within Companion display area.",602:"Unable to display Required Companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"Undefined error.",901:"General VPAID error."},Hs=function(e){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));Object.defineProperty(e,"message",{configurable:!0,enumerable:!1,value:t,writable:!0});Object.defineProperty(e,"name",{configurable:!0,enumerable:!1,value:e.constructor.name,writable:!0});if(Error.hasOwnProperty("captureStackTrace")){Error.captureStackTrace(e,e.constructor);return s(e)}Object.defineProperty(e,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0});return e}!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":t(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,function(t){function e(){t.apply(this,arguments)}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t;return e}(Error));return n}(),Rs=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Yi(this,e);var o=qi(this,t.call(this,n));o.$type="VASTLoaderError";o.cause=i;o.uri=r;return o}Ki(e,t);return e}(function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:900;Yi(this,e);var i=qi(this,t.call(this,"VAST error "+n+(n in $s?": "+$s[n]:"")));i.code=n;i.$type="VASTError";return i}Ki(e,t);return e}(Hs)),Fs=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this,"HTTP "+n+(null!=i&&""!==i?": "+i:"")));r.status=n;r.statusText=i;r.$type="HTTPError";return r}Ki(e,t);return e}(Hs),Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ws=/^data:(.*?)(;\s*base64)?,(.*)/,Bs={maxDepth:10,credentials:"omit",timeout:1e4,noSingleAdPods:!1,fetch:Mo},Zs=function(t){function e(n,i,r){Yi(this,e);var o=qi(this,t.call(this));o._uri=n;if(null!=r){o._root=r._root;o._options=o._root._options;o._depth=r._depth+1}else{o._root=o;o._options=Object.assign({},Bs,i);o._depth=1}return o}Ki(e,t);e.prototype.load=function(){var t=this;return this._load(this._uri).catch(function(e){t._emit("error",{error:e});throw e})};e.prototype._load=function(t){var e=this;return Promise.resolve().then(function(){e._emit("willFetch",{uri:t});var n=Ws.exec(t);return null==n?e._fetchUri(t):e._parseDataUri(n[3],n[1],null!=n[2])}).then(function(n){var i=n.headers,r=n.body;e._emit("didFetch",{uri:t,headers:i,body:r});e._emit("willParse",{uri:t,body:r});var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=Object.assign({},Vs,e)).errorHandler=e.strict?Ns:zs;var n=function(t,n){"string"==typeof t&&(t=(e.domParser||new DOMParser).parseFromString(t,"text/xml"));null!=t.documentElement&&(t=t.documentElement);return t}(t);return function(t,e){try{return function(t,e){var n,i=new Ho;i.version=t.version;(n=i.errors).push.apply(n,t.error.map(function(t){return t._value}).filter(function(t){return""!==t}));var r=function(t){for(var e=[],n=[],i=0;i<t.length;++i){var r=t[i];void 0!==r.sequence?e.push(r):n.push(r)}return[e,n]}(t.ad),o=r[0],s=r[1];if(o.length>0)if(e.noSingleAdPods&&1===t.ad.length&&1===o.length)s.push(o[0]);else{i.adPod=new Fo;for(var a=0;a<o.length;a++)i.adPod.ads.add(Os(o[a],e))}for(var u=0;u<s.length;u++)i.ads.add(Os(s[u],e));return i}(t,e)}catch(t){e.errorHandler(t)}}(new zo(Vo).unmarshal(n),e)}(r,{noSingleAdPods:e._options.noSingleAdPods});o.uri=t;e._emit("didParse",{uri:t,body:r,vast:o});if(o.ads.length>0){var s=o.ads.get(0);if(s instanceof Zo||"Wrapper"===s.$type)return e._loadWrapped(s.vastAdTagURI,o)}else if(e._depth>1)throw new Rs(303,null,t);return[o]})};e.prototype._parseDataUri=function(t,e,n){return{headers:new Headers({"Content-Type":e}),body:n?function(t){var e="",n=0;do{var i=Us.indexOf(t.charAt(n++)),r=Us.indexOf(t.charAt(n++)),o=Us.indexOf(t.charAt(n++)),s=(63&i)<<2|r>>4&3,a=(15&r)<<4|o>>2&15,u=(3&o)<<6|63&Us.indexOf(t.charAt(n++));e+=String.fromCharCode(s)+(a?String.fromCharCode(a):"")+(u?String.fromCharCode(u):"")}while(n<t.length);return e}(t):decodeURIComponent(t)}};e.prototype._loadWrapped=function(t,n){var i=this;return Promise.resolve().then(function(){var n=i._options.maxDepth;if(n>0&&i._depth+1>=n)throw new Rs(302,null,t);return new e(t,null,i).load()}).then(function(t){return[n].concat(t)})};e.prototype._fetchUri=function(t){var e=this,n=this._fetchWithCredentials(t),i=this._createTimeouter(n,t);return Promise.race([n,i]).then(function(t){i.cancel();return t}).catch(function(n){i.cancel();throw e._depth>1?new Rs(301,null,t):n})};e.prototype._fetchWithCredentials=function(t){var e=this,n=this._options.credentials;"function"==typeof n&&(n=n(t));Array.isArray(n)||(n=[n]);return n.reduce(function(n,i){return n.catch(function(){return e._tryFetch(t,i)})},Promise.reject(new Error))};e.prototype._tryFetch=function(t,e){var n=this,i=void 0;return(0,this._options.fetch)(t,{credentials:e}).then(function(e){if(e.ok){i=e.headers;return e.text()}var n=new Fs(e.status,e.statusText);throw new Rs(301,n,t)}).then(function(t){return{headers:i,body:t}}).catch(function(i){n._emit("fetchError",{uri:t,credentials:e,error:i});throw i})};e.prototype._createTimeouter=function(t,e){var n=this._options.timeout,i=null,r=new Promise(function(t,r){i=setTimeout(function(){r(new Rs(301,null,e))},n)});r.cancel=function(){if(null!=i){clearTimeout(i);i=null}};return r};e.prototype._emit=function(){var t;(t=this._root).emit.apply(t,arguments)};return e}(Ao),Gs=function(t){return function(e){e=""+e;for(;e.length<t;)e="0"+e;return e}},Qs=Gs(2),Ys=Gs(3),Js={timestamp:function(){return encodeURIComponent(function(t){var e=t.getTimezoneOffset(),n=Math.floor(e/60),i=(n<0?"+"+Qs(-n):"-"+Qs(n))+":"+Qs(e%60);return t.getFullYear()+"-"+Qs(t.getMonth()+1)+"-"+Qs(t.getDate())+"T"+Qs(t.getHours())+":"+Qs(t.getMinutes())+":"+Qs(t.getSeconds())+"."+Ys(t.getMilliseconds())+i}(new Date))},cachebusting:function(){return 1e7+Math.floor(9e7*Math.random())},errorcode:function(t){return null!=t&&"number"==typeof t.code?t.code:900}},Ks=new RegExp("\\[("+Object.keys(Js).join("|")+")\\]","ig"),qs=function(t,e,n){var i,r,o=(i=e,r=n,i.replace(Ks,function(t,e){return Js[e.toLowerCase()](r)}));_r().track(o);return null},Xs=e(function(t,e){function n(t,e){var n=[],i=[];null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(e)).join(".")+"]"});return function(r,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this);~s?i.splice(s,1/0,r):i.push(r);~n.indexOf(o)&&(o=e.call(this,r,o))}else n.push(o);return null==t?o:t.call(this,r,o)}}(t.exports=function(t,e,i,r){return JSON.stringify(t,n(e,r),i)}).getSerialize=n}),ta=(Xs.getSerialize,function t(e,n){switch(void 0===e?"undefined":Qi(e)){case"object":if(null==e)return e;if(null!=e.nodeType)return"[DOM "+function(t){if(null==t)return"null";if(1!==t.nodeType)return"node";try{var e=(t.nodeName||"unknown").toLowerCase();null!=t.id&&(e+="#"+t.id);t.classList&&t.classList.length>0&&(e+="."+Array.from(t.classList).join("."));return e}catch(t){return"err"}}(e)+"]";if(n.indexOf(e)>=0)return"[Circular]";n.push(e);var i=Array.isArray(e)?[]:{},r=function(t){for(var n=[],i=a(e);i;){n.push(i);i=a(i)}return n}().filter(function(t){return t!==Object.prototype});return function t(e){if(null==e)return e;var n=Object.keys(e);if(1!==n.length||"message"!==n[0])return e;var i=e.message;Array.isArray(i)&&1===i.length&&(i=i[0]);return t(i)}([e].concat(r).map(function(t){return Object.getOwnPropertyNames(t)}).reduce(function(i,r){r.forEach(function(r){try{e instanceof Error&&"stack"===r||(i[r]=t(e[r],n))}catch(t){i[r]="[Error: "+(t.message||t)+"]"}});return i},i));case"function":if(n.length>0)return;return"[Function "+(e.name||"anonymous")+"]";default:return e}}),ea=jr(),na={},ia={},ra={_:(new Date).getTime()},oa=["_","factory","loadingMedia","loadedMedia","executing"],sa=void 0,aa=void 0,ua="",ca=null,la=0,ha={get type(){return null},get sampleRate(){return 1},get dimensions(){return{}},get metrics(){return{}},init:function(){},setDimension:function(){},setMetric:function(){},track:function(){},trackError:function(){}},da={get type(){return"pxsrv"},get sampleRate(){return aa},get dimensions(){return na},get metrics(){return ia},init:function(t){"number"==typeof(aa=t.sampleRate)&&aa<1&&(ua="/"+Math.round(1/aa));if(null!=t.trackingConfig){var e=function(t){return"terrax"===t||"galactus"===t?"https://unrulydiag.pxsrv.net/":"https://pixel.unruly.systems/"};ea.config=Object.assign({},t.trackingConfig,{baseUrl:e})}ca=t.eventCategory;Object.assign(na,t.customDimensions,{171:function(){var t=window,e=0;try{for(;e<10&&t.parent!==t&&null!=t.parent.location&&null!=t.parent.location.hostname;){t=t.parent;++e}}catch(t){}return t}().location.hostname});Object.assign(ia,t.customMetrics)},setDimension:function(t,e){null==na[t]&&(na[t]=e)},setMetric:function(t,e){null==ia[t]&&(ia[t]=e)},track:function(t,e,n){if(!(la>=100)){var i=(new Date).getTime();la++;var r={110:i-ra._},o=oa.indexOf(t);if(o>0){ra[t]=i;var s=ra[oa[o-1]];r[111]=i-s}ea.trackEvent(ca,t+ua,{customDimensions:Object.assign({},na,e,{106:la,107:document.readyState}),customMetrics:Object.assign({},ia,n,r)})}},trackError:function(t,e,n,i){e=e||"[Unknown error]";this.track(t,Object.assign({},n,{110:function(t){try{var e=ta(t,[])||t;switch(void 0===e?"undefined":Qi(e)){case"string":return e;case"number":return""+e;default:return Xs(e)}}catch(t){return"[Error]"}}(e).substring(0,1e3)}),i)}},fa={get type(){return sa.type},get sampleRate(){return sa.sampleRate},get dimensions(){return sa.dimensions},get metrics(){return sa.metrics},init:function(t){sa===ha&&null!=t.eventCategory&&(sa=da).init(t)},setDimension:function(){if(null!=sa){var t;(t=sa).setDimension.apply(t,arguments)}},setMetric:function(){var t;(t=sa).setMetric.apply(t,arguments)},track:function(){var t;(t=sa).track.apply(t,arguments)},trackError:function(){var t;(t=sa).trackError.apply(t,arguments)}};sa=ha;var pa,ya,ma,va=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this,"Method is abstract"));n.$type="AbstractMethodError";return n}Ki(e,t);return e}(Hs),ga=function(t){function e(n,i,r){Yi(this,e);var o=qi(this,t.call(this,"VAST error "+n+": "+(null!=i?i:$s[n])));o.$type="VASTError";o.code=n;o.cause=r;o.errorCode=n;return o}Ki(e,t);return e}(Hs),ba=function(t){function e(n,i,r){Yi(this,e);var o=qi(this,t.call(this,901,"Error calling '"+n+"': "+r,r));o.$type="VPAIDCallError";o.methodName=n;o.args=i;o.cause=r;o.inner=o.cause;return o}Ki(e,t);return e}(ga),_a=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n.$type="ExecutorError";return n}Ki(e,t);return e}(Hs),wa=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this,"Canceled"));n.$type="CancelationError";return n}Ki(e,t);return e}(_a),ka=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this,"Disposed"));n.$type="DisposalError";return n}Ki(e,t);return e}(_a),Aa=e(function(t){function e(){}function n(t,e,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new function(t,e,n){this.fn=t;this.context=e;this.once=n||!1}(n,i||t,r),a=s?s+e:e;t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++);return t}function i(t,n){0==--t._eventsCount?t._events=new e:delete t._events[n]}function r(){this._events=new e;this._eventsCount=0}var o=Object.prototype.hasOwnProperty,s="~";if(Object.create){e.prototype=Object.create(null);(new e).__proto__||(s=!1)}r.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n};r.prototype.listeners=function(t){var e=s?s+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o};r.prototype.listenerCount=function(t){var e=s?s+t:t,n=this._events[e];return n?n.fn?1:n.length:0};r.prototype.emit=function(t,e,n,i,r,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){l.once&&this.removeListener(t,l.fn,void 0,!0);switch(h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++){l[c].once&&this.removeListener(t,l[c].fn,void 0,!0);switch(h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}}return!0};r.prototype.on=function(t,e,i){return n(this,t,e,i,!1)};r.prototype.once=function(t,e,i){return n(this,t,e,i,!0)};r.prototype.removeListener=function(t,e,n,r){var o=s?s+t:t;if(!this._events[o])return this;if(!e){i(this,o);return this}var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||i(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this};r.prototype.removeAllListeners=function(t){var n;if(t){n=s?s+t:t;this._events[n]&&i(this,n)}else{this._events=new e;this._eventsCount=0}return this};r.prototype.off=r.prototype.removeListener;r.prototype.addListener=r.prototype.on;r.prefixed=s;r.EventEmitter=r;t.exports=r}),La=(Object.prototype.hasOwnProperty,function(){var t=/^[0-9]+$/;return function(e){return t.test(e)}}()),Ma=function(){function t(e,n,i){Yi(this,t);this._executor=e;this._icon=n;this._document=i;this._visibleTimeout=null;this._trackedView=!1;this._disposed=!1;this._boundOnClick=this._onClick.bind(this);this._boundOnWillExecute=this._onWillExecute.bind(this);this._boundOnDidExecute=this._onDidExecute.bind(this);this._boundOnWillDispose=this._onWillDispose.bind(this);this._element=this._createElement();this._element.style.setProperty("pointer-events","auto","important");this._positionElement();this._addClickListener();this._addExecutorListeners()}t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;this._cancelPendingVisibility();this._removeClickListener();this._removeExecutorListeners();this._setVisible(!1)}};t.prototype._createElement=function(){throw new va};t.prototype._positionElement=function(){var t=this._icon,e=this._element;Object.assign(e.style,{width:t.width?t.width+"px":"auto",height:t.height?t.height+"px":"auto",display:"none",position:"absolute",cursor:"pointer"});"right"===t.xPosition?e.style.right="0":e.style.left=La(t.xPosition)?t.xPosition+"px":"0";"bottom"===t.yPosition?e.style.bottom="0":e.style.top=La(t.yPosition)?t.yPosition+"px":"0"};t.prototype._addClickListener=function(){null!=this._icon.clicks&&this._element.addEventListener("click",this._boundOnClick)};t.prototype._removeClickListener=function(){this._element.removeEventListener("click",this._boundOnClick)};t.prototype._onClick=function(){var t=this._icon.clicks,e=t.clickThrough,n=t.clickTrackings;null!=e&&window.open(e.uri,"_blank");for(var i=0;n.length;++i)this._executor._track("iconclick",n[i].uri,{})};t.prototype._onWillExecute=function(){var t=this._icon;t.offset>0||t.duration>0?this._setVisibleIntermittently(!0,t.offset,t.duration):this._setVisible(!0)};t.prototype._onDidExecute=function(){this._removeExecutorListeners()};t.prototype._onWillDispose=function(){this._removeExecutorListeners()};t.prototype._setVisible=function(t){if(t){this._element.style.display="";if(!this._trackedView){this._trackedView=!0;for(var e=this._icon.viewTrackings,n=0;n<e.length;++n)this._executor._track("iconview",e[n].uri,{})}}else this._element.style.display="none"};t.prototype._setVisibleDelayed=function(t,e,n){var i=this;this._cancelPendingVisibility();var r=function(){i._setVisible(t);"function"==typeof n&&n()};e>0?this._visibleTimeout=setTimeout(r,e):r()};t.prototype._setVisibleIntermittently=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._setVisibleDelayed(t,1e3*n,function(){i>0&&e._setVisibleDelayed(!t,1e3*i)})};t.prototype._cancelPendingVisibility=function(){if(null!=this._visibleTimeout){clearTimeout(this._visibleTimeout);this._visibleTimeout=null}};t.prototype._addExecutorListeners=function(){this._executor.once("willExecute",this._boundOnWillExecute);this._executor.once("didExecute",this._boundOnDidExecute);this._executor.once("willDispose",this._boundOnWillDispose)};t.prototype._removeExecutorListeners=function(){this._executor.removeListener("willExecute",this._boundOnWillExecute);this._executor.removeListener("didExecute",this._boundOnDidExecute);this._executor.removeListener("willDispose",this._boundOnWillDispose)};Ji(t,[{key:"element",get:function(){return this._element}}]);return t}(),Ca=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);e.prototype._createElement=function(){var t=this._document.createElement("img");t.src=this._icon.resource.content;return t};return e}(Ma),Sa=function(t,e){var n=void 0,i=void 0,r=new Promise(function(r,o){i=r;n=setTimeout(i,t,e)});r.clear=function(){if(n){clearTimeout(n);n=null;i(e)}};return r},Ia=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=Object.keys(e),r=0;r<i.length;++r){var o=i[r],s=e[o];t.style.setProperty(o,s,n)}},ja=function(t,e){var n=lr(),i=function i(){t.removeEventListener(e,i);n.resolve()};t.addEventListener(e,i);n.promise.cancel=function(){t.removeEventListener(e,i);n.reject(new Error("Canceled"))};return n.promise},Ta=function(t,e){null==e&&(e=window.document);var n=e.createElement("iframe");n.frameBorder="0";n.scrolling="no";null!=t&&Ia(n,t,"important");return n},Ea=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);e.prototype._createElement=function(){var t=Ta(null,this._document);t.src=this._icon.resource.content;return t};return e}(Ma),xa=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);e.prototype._createElement=function(){var t=this._document.createElement("div");this._initElement(t);return t};e.prototype._initElement=function(t){return new Promise(function(e,n){var i,r;i=this._icon.resource.content;r=null;var o=function(){null!=r?t.innerHTML=r:this.dispose();return e()}.$asyncbind(this,n),s=function(t){return o()}.$asyncbind(this,n);try{return(a=i,new Promise(function(t,e){var n=new XMLHttpRequest;n.addEventListener("load",function(){n.status>=200&&n.status<300?t(n.responseText):e(new Error)});n.addEventListener("error",function(){e(new Error)});n.open("GET",a);n.send()})).then(function(t){r=t;return o()}.$asyncbind(this,s),s)}catch(t){s(t)}var a}.$asyncbind(this))};return e}(Ma),Pa=function(t,e,n){switch(e.resource.$type){case"StaticResource":return new Ca(t,e,n);case"IFrameResource":return new Ea(t,e,n);case"HTMLResource":return new xa(t,e,n);default:throw new Error("Unsupported resource type for <Icon>")}},Da=function(){},Oa=function(t){var e=!1,n=void 0;return function(){if(!e){e=!0;for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];n=t.apply(this,r)}return n}},Na={position:"absolute",left:0,top:0,margin:0,padding:0,width:"100%",height:"100%",border:0},za=Na,Va=Object.assign({},za,{"pointer-events":"none"}),$a=za,Ha=0,Ra=2,Fa=function(t,e){return e.offset.value-t.offset.value},Ua=function(t){return t instanceof wa||t instanceof ka},Wa=Symbol("config"),Ba=Symbol("listeners"),Za=Symbol("iframe"),Ga=Symbol("slot"),Qa=Symbol("videoSlot"),Ya=Symbol("iconSlot"),Ja=Symbol("iconLayers"),Ka=Symbol("width"),qa=Symbol("height"),Xa=Symbol("maxWidth"),tu=Symbol("maxHeight"),eu=Symbol("createdVideoSlot"),nu=Symbol("progressTimer"),iu=Symbol("boundOnProgressTimer"),ru=Symbol("remainingAbsoluteProgressEvents"),ou=Symbol("remainingRelativeProgressEvents"),su=Symbol("paused"),au=Symbol("state"),uu=Symbol("erroring"),cu=Symbol("canceling"),lu=Symbol("disposing"),hu=Symbol("errored"),du=["load","execute","cancel","dispose","_finishTracking"],fu=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this));i[Wa]=n;i[Ba]=[];i[Za]=null;i[Ga]=null;i[Qa]=null;i[Ka]=0;i[qa]=0;i[eu]=!1;i[nu]=null;i[iu]=function(){return i._onProgressTimer()};i[su]=!1;i[au]=Ha;i[uu]=lr();i[cu]=lr();i[lu]=lr();i[hu]=null;for(var r=0;r<du.length;++r){var o=du[r];i[o]=Oa(i[o])}fa.init({eventCategory:n.diagnosticsEventCategory});return i}Ki(e,t);e.canExecute=function(t){throw new va};e.prototype.load=function(){return new Promise(function(t,e){function n(){this[Wa].videoSlotCreationDisabled||this._provisionVideoSlot();this._provisionSlot();this._setDefaultDimensions();this._provisionIconSlot();this._addAllListeners();fa.track("loadingMedia");var n=function(){return t()}.$asyncbind(this,e),i=function(t){Ua(t)&&fa.trackError("loadError",t);return this._onInternalError(t,"load").then(function(e){throw t}.$asyncbind(this,e),e)}.$asyncbind(this,e);try{return this._internalCallAsync("load").then(function(t){fa.track("loadedMedia");this.emit("didLoad");this[au]=Ra;return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}if(this[au]!==Ha)return e(new _a("Must be idle"));this[au]=1;this.emit("willLoad");return this[Wa].iframeDisabled?n.call(this):this._provisionIframe().then(function(t){return n.call(this)}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.execute=function(){return new Promise(function(t,e){if(this[au]!==Ra)return e(new _a("Must be loaded"));this[au]=3;this.emit("willExecute");fa.track("executing");var n=function(){function n(){return t()}return this[Wa].autoDisposeDisabled?this._finishTracking().then(function(t){return n.call(this)}.$asyncbind(this,e),e):this.dispose().then(function(t){return n.call(this)}.$asyncbind(this,e),e)}.$asyncbind(this,e),i=function(t){Ua(t)&&fa.trackError("executeError",t);return this._onInternalError(t,"execute").then(function(e){throw t}.$asyncbind(this,e),e)}.$asyncbind(this,e);try{return this._internalCallAsync("execute",[this[su]]).then(function(t){fa.track("executed");this.emit("didExecute");this[au]=4;return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}.$asyncbind(this))};e.prototype.pause=function(){return new Promise(function(t,e){function n(){return t()}if(3!==this[au]){this[Wa].pauseBeforeExecuteDisabled||(this[su]=!0);return n.call(this)}this.emit("willPause");var i=function(){return n.call(this)}.$asyncbind(this,e),r=function(t){return this._onInternalError(t,"pause").then(function(e){throw t}.$asyncbind(this,e),e)}.$asyncbind(this,e);try{return this._internalCallAsync("pause").then(function(t){this.emit("didPause");return i()}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this))};e.prototype.resume=function(){return new Promise(function(t,e){function n(){return t()}if(3!==this[au]){this[Wa].pauseBeforeExecuteDisabled||(this[su]=!1);return n.call(this)}this.emit("willResume");var i=function(){return n.call(this)}.$asyncbind(this,e),r=function(t){return this._onInternalError(t,"resume").then(function(e){throw t}.$asyncbind(this,e),e)}.$asyncbind(this,e);try{return this._internalCallAsync("resume").then(function(t){this.emit("didResume");return i()}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this))};e.prototype.cancel=function(){return new Promise(function(t,e){return t(this._cancelImpl(!1))}.$asyncbind(this))};e.prototype.skip=function(){return new Promise(function(t,e){this.emit("willSkip");this.emitVAST("skip");return this._cancelImpl(!0).then(function(e){this.emit("didSkip");return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype._cancelImpl=function(t){return new Promise(function(e,n){if(this[au]>=4)return e();this[au]=6;this.emit("willCancel");var i=function(){return this._finishTracking().then(function(t){this[cu].reject(new wa);return e()}.$asyncbind(this,n),n)}.$asyncbind(this,n),r=function(t){return this._onInternalError(t,"cancel").then(function(e){throw t}.$asyncbind(this,n),n)}.$asyncbind(this,n);try{return this._internalCallAsync("cancel",[t]).then(function(t){this._removeAllListeners();this._stopProgressTimer();this.emit("didCancel");this[au]=5;return i()}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this))};e.prototype.dispose=function(){return new Promise(function(t,e){var n;this[au]=7;this.emit("willDispose");n=null;var i=function(){this._removeAllListeners();this._stopProgressTimer();this._maybeRemoveIconSlot();this._maybeRemoveIframeAndSlot();this._maybeRemoveVideoSlot();this.emit("didDispose");this[au]=8;return this._finishTracking().then(function(i){if(null!=n){this[uu].reject(n);return e(n)}this[lu].reject(new ka);return t()}.$asyncbind(this,e),e)}.$asyncbind(this,e),r=function(t){this._setError(n);n=t;return i()}.$asyncbind(this,e);try{return this.disposeInternal().then(function(t){return i()}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this))};e.prototype.resize=function(t,e){var n=arguments;return new Promise(function(i,r){var o;o=n.length>2&&void 0!==n[2]?n[2]:"normal";this.emit("willResize");var s=function(){return i()}.$asyncbind(this,r),a=function(t){return this._onInternalError(t,"resize").then(function(e){throw t}.$asyncbind(this,r),r)}.$asyncbind(this,r);try{return this._internalCallAsync("resize",[t,e,o]).then(function(t){this.emit("didResize");return s()}.$asyncbind(this,a),a)}catch(t){a(t)}}.$asyncbind(this))};e.prototype.getMediaWidthInternal=function(){return null==this[Wa]?0:this[Wa].mediaFile.width};e.prototype.getMediaHeightInternal=function(){return null==this[Wa]?0:this[Wa].mediaFile.height};e.prototype.getClientWidthInternal=function(){return this[Ka]};e.prototype.getClientHeightInternal=function(){return this[qa]};e.prototype.getVolumeInternal=function(){throw new va};e.prototype.setVolumeInternal=function(){throw new va};e.prototype.getMutedInternal=function(){throw new va};e.prototype.setMutedInternal=function(){throw new va};e.prototype.loadInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.executeInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.pauseInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.resumeInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.resizeInternal=function(t,e,n){return new Promise(function(n,i){this._resizeSlots(t,e);return n()}.$asyncbind(this))};e.prototype._resizeSlots=function(t,e){if(null!=this.slot&&null!=this.slot.style){this.slot.style.width=t+"px";this.slot.style.height=e+"px"}};e.prototype.cancelInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.disposeInternal=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.emitVAST=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,["vast:"+t].concat(n))};e.prototype.onVASTError=function(t){this.emitVAST("error",t);this._onInternalError(t,"VAST error")};e.prototype._provisionIframe=function(){return new Promise(function(t,e){var n,i,r,o,s;i=(n=this[Wa]).container,r=n.videoSlot,o=n.iframeProperties;return function(t){return new Promise(function(e,n){var i,r,o=function(t){return function(e){i.cancel();r.cancel();return t&&t.call(this,e)}.$asyncbind(this,n)}.$asyncbind(this);if(null!=t.body)return e();i=(s=t,a="body",function(t,e){var n=lr(),i=setInterval(function(){null!=s[a]&&n.resolve()},20);n.promise.cancel=function(){clearInterval(i);n.reject(new Error("Canceled"))};return n.promise}());var s,a;r=ja(t,"DOMContentLoaded");i.catch(Da);r.catch(Da);var u=function(){return e()}.$asyncbind(this,n),c=function(t){throw t}.$asyncbind(this,o(n));try{return Promise.race([i,r]).then(function(t){return o(u)()}.$asyncbind(this,c),c)}catch(t){c(t)}}.$asyncbind(this))}((s=null!=i?i:null!=r&&null!=r.parentNode&&null!=r.parentNode.ownerDocument?r.parentNode:document.body).ownerDocument).then(function(n){return function(t,e,n){return new Promise(function(t,i){var r,o,s;r=Ta(e,n.ownerDocument);o=ja(r,"load");r.src="about:blank";n.appendChild(r);return Promise.race([o,function(t){return new Promise(function(e,n){function i(){return null==t.contentWindow||null==t.contentWindow.document?Sa(100).then(function(t){return i}.$asyncbind(this,n),n):[1]}return Function.$asyncbind.trampoline(this,function(){return e()},i,n,!0)(i)}.$asyncbind(this))}(r)]).then(function(e){(s=r.contentWindow.document).open();s.write('<!doctype html>\n<html>\n<head>\n<meta charset="utf-8">\n<style>html,body{margin:0;padding:0}</style>\n</head>\n<body>\n</body>\n</html>');s.close();return t(r)}.$asyncbind(this,i),i)}.$asyncbind(this))}(0,Na,s).then(function(e){this[Za]=e;Object.assign(this[Za],o);return t()}.$asyncbind(this,e),e)}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype._provisionSlot=function(){var t=void 0,e=void 0;null!=this[Za]?e=(t=this[Za].contentWindow.document).body:null!=this[Wa].container?t=(e=this[Wa].container).ownerDocument:e=(t=document).body;var n=t.createElement("div");Object.assign(n.style,za);e.appendChild(n);this[Ga]=n};e.prototype._maybeRemoveIframeAndSlot=function(){null!=this[Ga]&&null!=this[Ga].parentNode&&this[Ga].parentNode.removeChild(this[Ga]);this[Ga]=null;null!=this[Za]&&null!=this[Za].parentNode&&this[Za].parentNode.removeChild(this[Za]);this[Za]=null};e.prototype._provisionIconSlot=function(){var t=this,e=this[Wa],n=e.container,i=e.icons;if(null!=n&&null!=i&&0!==i.length){this[Ya]=n.ownerDocument.createElement("div");Ia(this[Ya],Va,"important");var r=function(){Ia(t[Ya],{width:t.clientWidth+"px",height:t.clientHeight+"px",left:.5*(t[Ga].clientWidth-t.clientWidth)+"px",top:.5*(t[Ga].clientHeight-t.clientHeight)+"px"})};this._addListener("didResize",r);r();n.appendChild(this[Ya]);this[Ja]=[];for(var o=Object.create(null),s=0;s<i.length;++s){var a=i[s];if(null!=a.resource&&(c=a.resource.$type,["StaticResource","IFrameResource","HTMLResource"].indexOf(c)>=0)){if(null!=a.program&&""!==a.program){if(o[a.program])continue;o[a.program]=!0}var u=Pa(this,a,this[Ya].ownerDocument);this[Ja].push(u);this[Ya].appendChild(u.element)}}}var c};e.prototype._maybeRemoveIconSlot=function(){if(null!=this[Ya]){this[Ya].parentNode.removeChild(this[Ya]);this[Ya]=null}if(null!=this[Ja]){for(var t=0;t<this[Ja].length;++t)this[Ja][t].dispose();this[Ja]=null}};e.prototype._provisionVideoSlot=function(){this[Qa]=this[Wa].videoSlot;if(null==this[Qa]){this[eu]=!0;var t=null!=this[Wa].container?this[Wa].container:document.body,e=this._determineVideoSlotCreationDocument(t).createElement("video");e.setAttribute("playsinline","true");e.setAttribute("webkit-playsinline","true");Object.assign(e.style,$a);t.insertBefore(e,this[Za]);this[Qa]=e}};e.prototype._maybeRemoveVideoSlot=function(){if(this[eu]&&null!=this[Qa]){null!=this[Qa].parentNode&&this[Qa].parentNode.removeChild(this[Qa]);this[Qa]=null}};e.prototype._determineVideoSlotCreationDocument=function(t){return t.ownerDocument};e.prototype._setDefaultDimensions=function(){var t=this.mediaWidth>0&&this.mediaHeight>0?this.mediaWidth/this.mediaHeight:16/9;this[Xa]=this[Ga].clientWidth;this[tu]=this[Ga].clientHeight;if(t<this[Xa]/this[tu]){this[qa]=this[tu];this[Ka]=Math.round(t*this[qa])}else{this[Ka]=this[Xa];this[qa]=Math.round(this[Ka]/t)}};e.prototype._addAllListeners=function(){var t=this;if(null!=this[Wa].trackingEvents){var e=!1;this[Wa].trackingEvents.types.forEach(function(n){"progress"===n?e=!0:t._addListener("vast:"+n,function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t._onVastEvent.apply(t,[n].concat(i))})});if(e){this._indexProgressEvents();this._addProgressListeners()}}};e.prototype._addListener=function(t,e){var n=e.bind(this);this.on(t,n);this[Ba].push({type:t,listener:n})};e.prototype._removeAllListeners=function(){var t=this;this[Ba].forEach(function(e){var n=e.type,i=e.listener;t.removeListener(n,i)});this[Ba].length=0};e.prototype._onVastEvent=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=this[Wa].trackingEvents&&this[Wa].trackingEvents.get(t).forEach(function(i){var r=i.uri;e._track(t,r,n)})};e.prototype._emitClickThrough=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"boolean"!=typeof(e=Object.assign({},e)).playerHandles&&(e.playerHandles=!0);if(null!=this[Wa].videoClicks){"string"!=typeof e.url&&null!=this[Wa].videoClicks.clickThrough&&(e.url=this[Wa].videoClicks.clickThrough.uri);this[Wa].videoClicks.clickTrackings.forEach(function(e){var n=e.uri;t._track("clickThrough",n,{})})}this.emit("clickThrough",e);null!=this[Wa].clickthroughHandler?this[Wa].clickthroughHandler(e):e.playerHandles&&null!=e.url&&window.open(e.url,"_blank")};e.prototype._indexProgressEvents=function(){var t=this;this[ru]=[];this[ou]=[];this[Wa].trackingEvents.get("progress").filter(function(t){return null!=t.offset}).forEach(function(e){e.offset instanceof gs||"RelativeTimeOffset"===e.offset.$type?t[ou].push(e):(e.offset instanceof vs||"AbsoluteTimeOffset"===e.offset.$type)&&t[ru].push(e)});this[ru].sort(Fa);this[ou].sort(Fa)};e.prototype._addProgressListeners=function(){this._addListener("vast:start",this._startProgressTimer);this._addListener("vast:resume",this._startProgressTimer);this._addListener("vast:pause",this._stopProgressTimer);this._addListener("vast:complete",this._stopProgressTimer)};e.prototype._startProgressTimer=function(){null==this[nu]&&this._hasRemainingProgressEvents()&&(this[nu]=setInterval(this[iu],250))};e.prototype._stopProgressTimer=function(){if(null!=this[nu]){clearInterval(this[nu]);this[nu]=null;this._onProgressTimer()}};e.prototype._onProgressTimer=function(){var t=this.remainingTime,e=this.duration;if(!(isNaN(t)||t<0||isNaN(e)||e<=0||t>e)){var n=e-t,i=100*n/e;this._dispatchProgressEvents(this[ru],n);this._dispatchProgressEvents(this[ou],i);this._hasRemainingProgressEvents()||this._stopProgressTimer()}};e.prototype._dispatchProgressEvents=function(t,e){for(var n=this,i=t.length;i>0&&e>=t[i-1].offset.value;)--i;i<t.length&&t.splice(i).forEach(function(t){var e=t.uri,i=t.offset;n._track("progress",e,{offset:i})})};e.prototype._hasRemainingProgressEvents=function(){return this[ru].length+this[ou].length>0};e.prototype._track=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.config.trackingHandler;null!=i&&i(t,e,n)};e.prototype._internalCallSync=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return this[t+"Internal"].apply(this,e)}catch(e){n||this._onInternalError(e,t).catch(function(n){console.warn("Failed to handle error from "+t+": "+e);console.warn("Error handler failed with: "+n)});throw e}};e.prototype._internalCallAsync=function(t){var e=arguments;return new Promise(function(n,i){var r,o;r=e.length>1&&void 0!==e[1]?e[1]:[];o=this[t+="Internal"].apply(this,r);return Promise.race([o,this[uu].promise,this[cu].promise,this[lu].promise]).then(function(t){return n(t)}.$asyncbind(this,i),i)}.$asyncbind(this))};e.prototype._onInternalError=function(t){if(Ua(t))return Promise.resolve();this._setError(t);this[uu].reject(t);return this.dispose().catch(function(){})};e.prototype._setError=function(t){if(null==this[hu]){this[hu]=t;this.emit("error",t)}};e.prototype._finishTracking=function(){return new Promise(function(t,e){this.emit("willFinishTracking");return function(){return new Promise(function(t,e){return wr().then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))}().then(function(e){this.emit("didFinishTracking");return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};Ji(e,[{key:"config",get:function(){return this[Wa]}},{key:"iframe",get:function(){return this[Za]}},{key:"slot",get:function(){return this[Ga]}},{key:"videoSlot",get:function(){return this[Qa]}},{key:"mediaWidth",get:function(){return this._internalCallSync("getMediaWidth",[],!0)}},{key:"mediaHeight",get:function(){return this._internalCallSync("getMediaHeight",[],!0)}},{key:"clientWidth",get:function(){return this._internalCallSync("getClientWidth",[],!0)}},{key:"clientHeight",get:function(){return this._internalCallSync("getClientHeight",[],!0)}},{key:"maxWidth",get:function(){return this[Xa]}},{key:"maxHeight",get:function(){return this[tu]}},{key:"volume",get:function(){return this._internalCallSync("getVolume",[],!0)},set:function(t){this._internalCallSync("setVolume",[t])}},{key:"muted",get:function(){return this._internalCallSync("getMuted",[],!0)},set:function(t){if(t!==this.muted){this._internalCallSync("setMuted",[t]);this.emitVAST(t?"mute":"unmute")}}},{key:"paused",get:function(){throw new va}},{key:"remainingTime",get:function(){throw new va}},{key:"duration",get:function(){throw new va}}]);return e}(Aa),pu={tr:{regexp:/[\u0069]/g,map:{i:""}},az:{regexp:/[\u0069]/g,map:{i:""}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i":"I","j":"J","":"","i":"","i":"","i":""}}},yu=function(t,e){return null==t?"":function(t,n){var i=pu[e];t=null==t?"":String(t);i&&(t=t.replace(i.regexp,function(t){return i.map[t]}));return t.toUpperCase()}((t=String(t)).charAt(0))+t.substr(1)},mu={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"},vu=[mu.AdLoaded,mu.AdStarted,mu.AdStopped,mu.AdSkipped,mu.AdImpression,mu.AdVideoStart,mu.AdVideoFirstQuartile,mu.AdVideoMidpoint,mu.AdVideoThirdQuartile,mu.AdVideoComplete,mu.AdError],gu=(pa={},pa[mu.AdDurationChange]="durationchange",pa[mu.AdVolumeChange]="volumechange",pa),bu=(ya={},ya[mu.AdSkipped]="skip",ya[mu.AdStarted]="creativeView",ya[mu.AdImpression]="impression",ya[mu.AdVideoStart]="start",ya[mu.AdVideoFirstQuartile]="firstQuartile",ya[mu.AdVideoMidpoint]="midpoint",ya[mu.AdVideoThirdQuartile]="thirdQuartile",ya[mu.AdVideoComplete]="complete",ya[mu.AdUserAcceptInvitation]="acceptInvitation",ya[mu.AdUserMinimize]="collapse",ya[mu.AdUserClose]="close",ya[mu.AdPaused]="pause",ya[mu.AdPlaying]="resume",ya),_u=-2,wu=[],ku=function(t){wu.push(t);return wu.length-1},Au=function(t){return t>=0&&t<wu.length?'"'+wu[t]+'"':"<unknown>"},Lu=ku("empty"),Mu=ku("loading"),Cu=ku("loaded"),Su=ku("starting"),Iu=ku("started"),ju=ku("completed"),Tu=ku("terminating"),Eu=ku("terminated"),xu=ku("error"),Pu=(ma={},ma[mu.AdLoaded]=[Mu,Tu],ma[mu.AdStarted]=[Su,Su],ma[mu.AdStopped]=[Mu,Tu],ma[mu.AdSkipped]=[Mu,Tu],ma[mu.AdSkippableStateChange]=[Mu,Tu],ma[mu.AdSizeChange]=[Mu,Tu],ma[mu.AdLinearChange]=[Mu,Tu],ma[mu.AdDurationChange]=[Mu,Tu],ma[mu.AdExpandedChange]=[Mu,Tu],ma[mu.AdRemainingTimeChange]=[Mu,Tu],ma[mu.AdVolumeChange]=[Mu,Tu],ma[mu.AdImpression]=[Su,ju],ma[mu.AdVideoStart]=[Su,ju],ma[mu.AdVideoFirstQuartile]=[Su,Tu],ma[mu.AdVideoMidpoint]=[Su,Tu],ma[mu.AdVideoThirdQuartile]=[Su,Tu],ma[mu.AdVideoComplete]=[Su,Tu],ma[mu.AdClickThru]=[Su,ju],ma[mu.AdInteraction]=[Mu,ju],ma[mu.AdUserAcceptInvitation]=[Su,ju],ma[mu.AdUserMinimize]=[Su,Tu],ma[mu.AdUserClose]=[Su,Tu],ma[mu.AdPaused]=[Mu,Tu],ma[mu.AdPlaying]=[Su,ju],ma),Du=Symbol("state"),Ou=Symbol("vpaid"),Nu=Symbol("listeners"),zu=Symbol("wasMuted"),Vu=Symbol("volume"),$u=Symbol("muted"),Hu=Symbol("paused"),Ru=Symbol("width"),Fu=Symbol("height"),Uu=Symbol("timeouts"),Wu=Symbol("receiving"),Bu=Symbol("erroring"),Zu=Symbol("playbackStarted"),Gu=Symbol("fallbackDuration"),Qu=Symbol("fallbackElapsedTime"),Yu=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));i[Du]=Lu;i[Ou]=null;i[Nu]=Object.create(null);i[zu]=!1;i[Vu]=_u;i[$u]=!1;i[Hu]=!0;i[Ru]=0;i[Fu]=0;i[Uu]=[];i[Wu]={};i[Bu]=lr();i[Zu]=null;i[Qu]=0;i[Gu]=_u;return i}Ki(e,t);e.prototype.getClientWidthInternal=function(){return this[Ru]||t.prototype.getClientWidthInternal.call(this)};e.prototype.getClientHeightInternal=function(){return this[Fu]||t.prototype.getClientHeightInternal.call(this)};e.prototype.getVolumeInternal=function(){return null==this[Ou]||this[$u]?this[Vu]:this._getVpaidProperty("adVolume")};e.prototype.setVolumeInternal=function(t){this[Vu]=t;null!=this[Ou]&&this._vpaidCall("setAdVolume",[t])};e.prototype.getMutedInternal=function(){return this[$u]};e.prototype.setMutedInternal=function(t){this[$u]=t;null!=this.videoSlot&&(this.videoSlot.muted=t);if(null!=this[Ou]){var e=this[$u]?0:this[Vu];this._vpaidCall("setAdVolume",[e])}};e.prototype.loadInternal=function(){return new Promise(function(t,e){this._assertVpaidState("load",Lu);this._setVpaidState(Mu);this._startReceiving(mu.AdLoaded);return this.setUp().then(function(n){var i=function(){this._performAdInit();return this._finishReceiving(mu.AdLoaded).then(function(e){this._setVpaidState(Cu);return t()}.$asyncbind(this,e),e)}.$asyncbind(this,e),r=function(t){throw new ga(401,null,t)}.$asyncbind(this,e);try{return this.loadMediaFile().then(function(t){return i()}.$asyncbind(this,r),r)}catch(t){r(t)}}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.executeInternal=function(t){return new Promise(function(e,n){var i,r;this._assertVpaidState("execute",Cu);this._setVpaidState(Su);this._startReceiving(mu.AdStopped);i=this._finishReceiving(mu.AdStopped);r=this._callAndReceive("startAd",[],mu.AdStarted,this.config.adStartTimeout);return Promise.race([r,i]).then(function(r){function o(){return i.then(function(t){return e()}.$asyncbind(this,n),n)}return t?Promise.race([this.pauseInternal(),i]).then(function(t){return o.call(this)}.$asyncbind(this,n),n):o.call(this)}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.pauseInternal=function(){return new Promise(function(t,e){this._assertVpaidState("pause",Su,Iu);return this._callAndReceive("pauseAd",[],mu.AdPaused).then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.resumeInternal=function(){return new Promise(function(t,e){this._assertVpaidState("resume",Su,Iu);return this._callAndReceive("resumeAd",[],mu.AdPlaying).then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.resizeInternal=function(e,n,i){return new Promise(function(r,o){function s(){return r()}if(null==this[Ou]){this.maxWidth=e;this.maxHeight=n;this.emit(mu.AdSizeChange,[e,n,i]);return s.call(this)}this._assertVpaidState("resize",Mu,Iu);return t.prototype.resizeInternal.call(this,e,n,i).then(function(t){function r(){return s.call(this)}return e!==this.clientWidth||n!==this.clientHeight?this._callAndReceive("resizeAd",[e,n,i],mu.AdSizeChange).then(function(t){return r.call(this)}.$asyncbind(this,o),o):r.call(this)}.$asyncbind(this,o),o)}.$asyncbind(this))};e.prototype.cancelInternal=function(t){return new Promise(function(e,n){this._assertVpaidState("cancel",Su,Iu);this._terminate(t);return e()}.$asyncbind(this))};e.prototype.disposeInternal=function(){return new Promise(function(t,e){var n=function(){this._clearTimeouts();this._maybeTearDown();return t()}.$asyncbind(this,e),i=function(t){return n()}.$asyncbind(this,e);try{return this._terminate(!1).then(function(t){return n()}.$asyncbind(this,i),i)}catch(t){i(t)}}.$asyncbind(this))};e.prototype._terminate=function(t){return new Promise(function(e,n){var i;this._clearTimeouts();if(this[Du]>=ju)return e();this._setVpaidState(Tu);this._startReceiving(mu.AdStopped);i=!1;if(t)try{this[Ou].skipAd()}catch(t){i=!0}else i=!0;var r=function(){this._unsubscribeAll();this._setVpaidState(Eu);return e()}.$asyncbind(this,n),o=function(t){this._onVpaidError(t);return e()}.$asyncbind(this,n);try{i&&this._callVpaidFunction("stopAd");return this._finishReceiving(mu.AdStopped,this.config.adStopTimeout).then(function(t){return r()}.$asyncbind(this,o),o)}catch(t){o(t)}}.$asyncbind(this))};e.prototype.setUp=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.tearDown=function(){throw new va};e.prototype.loadMediaFile=function(){return new Promise(function(t,e){return e(new va)}.$asyncbind(this))};e.prototype.getVPAIDAd=function(){throw new va};e.prototype.getEnvironmentVars=function(){return{}};e.prototype._rememberDimensions=function(){this[Ru]=this._getVpaidProperty("adWidth");this[Fu]=this._getVpaidProperty("adHeight")};e.prototype._onVpaidPlaying=function(){this[Hu]=!1;null==this[Zu]&&(this[Zu]=(new Date).getTime())};e.prototype._onVpaidPaused=function(){this[Hu]=!0;if(null!=this[Zu]){this[Qu]+=this._computeIntermediateElapsedTime();this[Zu]=null}};e.prototype._storeFallbackDuration=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!(this[Gu]>=0)){var t=_u;try{t=this._getVpaidProperty("adDuration")}catch(t){}if(t>=0)this[Gu]=t;else{var e=_u;try{e=this._getVpaidProperty("adRemainingTime")}catch(t){}this[Gu]=e>=0?this._computeIntermediateElapsedTime()+e:-2}}};e.prototype._computeIntermediateElapsedTime=function(){return null!=this[Zu]?((new Date).getTime()-this[Zu])/1e3:0};e.prototype._performAdInit=function(){this[Ou]=this.getVPAIDAd();this._handshakeVersion();this._subscribeAll();this._initAd()};e.prototype._subscribeAll=function(){for(var t=this,e=Object.keys(mu).map(function(t){return mu[t]}),n=function(n){var i=e[n],r=vu.indexOf(i)>=0,o=function e(){for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=null!=t[Nu][i];if(r){delete t[Nu][i];try{t[Ou].unsubscribe(e,i)}catch(t){}}if(a)try{t._onVpaidEvent.apply(t,[i].concat(o))}catch(e){t._onVpaidError("Failed to handle '"+i+"': "+e)}};t[Ou].subscribe(o,i);t[Nu][i]=o},i=0;i<e.length;++i)n(i)};e.prototype._unsubscribeAll=function(){for(var t=Object.keys(this[Nu]),e=0;e<t.length;++e){var n=t[e],i=this[Nu][n];try{this[Ou].unsubscribe(i,n)}catch(t){}}this[Nu]=Object.create(null)};e.prototype._onVpaidEvent=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=Pu[t];if(null!=r&&(this[Du]<r[0]||this[Du]>r[1]))this._onVpaidError('Event "'+t+'" not allowed in state '+Au(this[Du])+", must be between "+Au(r[0])+" and "+Au(r[1]));else{var o="$on"+t;null!=this[o]&&this[o].apply(this,n);null!=this[Wu][t]&&this[Wu][t].resolve();this.emit.apply(this,["vpaid:"+t].concat(n));var s=gu[t];null!=s&&this.emit(s);null!=bu[t]&&this.emitVAST(bu[t])}};e.prototype._handshakeVersion=function(){return this._callVpaidFunction("handshakeVersion",["2.0"])};e.prototype._initAd=function(){var t={AdParameters:this.config.adParameters},e=this.getEnvironmentVars();this._callVpaidFunction("initAd",[this.maxWidth,this.maxHeight,"normal",-2,t,e])};e.prototype._callVpaidFunction=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==this[Ou])throw new ga(901,'Failed to call VPAID function "'+t+'": VPAID not available');return this._vpaidCall(t,e)};e.prototype._getVpaidProperty=function(t){return null!=this[Ou]?this._vpaidCall("get"+yu(t),[],!0):_u};e.prototype._vpaidCall=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var i;return(i=this[Ou])[t].apply(i,e)}catch(i){var r=new ba(t,e,i);n||this._onVpaidError(r);throw r}};e.prototype._callAndReceive=function(t,e,n,i){return new Promise(function(r,o){this._startReceiving(n);this._callVpaidFunction(t,e);return this._finishReceiving(n,i).then(function(t){return r()}.$asyncbind(this,o),o)}.$asyncbind(this))};e.prototype._startReceiving=function(t){this[Wu][t];this[Wu][t]=lr()};e.prototype._finishReceiving=function(t,e){return new Promise(function(n,i){var r,o,s;if(null==this[Wu][t])return n();r=this[Wu][t].promise;o=e>0?this._timeoutAfter(r,e):r;s=t!==mu.AdError?Promise.race([o,this[Bu].promise]):o;var a=function(){return n()}.$asyncbind(this,i),u=function(e){throw new ga(901,"Failed to receive "+t+": "+e)}.$asyncbind(this,i);try{return s.then(function(t){return a()}.$asyncbind(this,u),u)}catch(t){u(t)}}.$asyncbind(this))};e.prototype._timeoutAfter=function(t,e){var n=this,i=lr(),r=setTimeout(function(){i.reject(new ga(901,"Timed out"))},e),o=function(t){clearTimeout(r);for(var e=0;e<n[Uu].length&&n[Uu][e]!==r;)++e;e<n[Uu].length&&n[Uu].splice(e,1);if(null!=t)throw t};this[Uu].push(r);return Promise.race([t,i.promise]).then(function(){return o()},function(t){return o(t)})};e.prototype._clearTimeouts=function(){for(var t=0;t<this[Uu].length;++t)clearTimeout(this[Uu][t]);this[Uu].length=0};e.prototype._setVpaidState=function(t){this[Du]>t||(this[Du]=t)};e.prototype._assertVpaidState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(this[Du]<Tu&&(this[Du]<e||this[Du]>n))throw new ga(901,"VPAID state "+this[Du]+" must be between "+Au(e)+" and "+Au(n)+' for operation "'+t+'"')};e.prototype._onVpaidError=function(t){if(this[Du]!==xu){this._setVpaidState(xu);var e="string"==typeof t?[new ga(901,t),t]:null!=t&&"string"==typeof t.message?[t,t.message]:[new ga(901),null],n=e[0],i=e[1];this.onVASTError(t instanceof ga?t:new ga(901,i,t));this._maybeTearDown();this[Bu].reject(n)}};e.prototype._maybeTearDown=function(){if(null!=this[Ou]){this[Ou]=null;this.tearDown()}};e.prototype["$on"+mu.AdLoaded]=function(){var t=this._getVpaidProperty("adVolume");this[zu]=0===t;var e=this[$u]?0:this[Vu];this[Vu]=t;e>=0&&e!==t&&this._vpaidCall("setAdVolume",[e]);this._rememberDimensions()};e.prototype["$on"+mu.AdStarted]=function(){this[Du]===Su&&this._setVpaidState(Iu);this._onVpaidPlaying();this._storeFallbackDuration()};e.prototype["$on"+mu.AdVideoStart]=function(){this._onVpaidPlaying();this._storeFallbackDuration()};e.prototype["$on"+mu.AdVideoFirstQuartile]=function(){this._storeFallbackDuration()};e.prototype["$on"+mu.AdVideoMidpoint]=function(){this._storeFallbackDuration()};e.prototype["$on"+mu.AdVideoThirdQuartile]=function(){this._storeFallbackDuration()};e.prototype["$on"+mu.AdVideoComplete]=function(){this._storeFallbackDuration()};e.prototype["$on"+mu.AdPlaying]=function(){this._onVpaidPlaying()};e.prototype["$on"+mu.AdPaused]=function(){this._onVpaidPaused()};e.prototype["$on"+mu.AdStopped]=function(){this[Du]===Iu&&this._setVpaidState(ju);this._onVpaidPaused()};e.prototype["$on"+mu.AdSizeChange]=function(){this._rememberDimensions();this._resizeSlots(this.clientWidth,this.clientHeight);this.emit("resize")};e.prototype["$on"+mu.AdDurationChange]=function(){this._storeFallbackDuration(!0)};e.prototype["$on"+mu.AdVolumeChange]=function(){var t=this._getVpaidProperty("adVolume");this[$u]||(this[Vu]=t);var e=0===t;if(this[zu]!==e){this[zu]=e;this.emitVAST(e?"mute":"unmute")}};e.prototype["$on"+mu.AdClickThru]=function(t,e,n){if(null!=t&&null==e&&null==n&&"object"===(void 0===t?"undefined":Qi(t))){var i=t;t=i.url;e=i.id;n=i.playerHandles}var r={url:"string"==typeof t&&""!==t?t:null,id:"string"==typeof e?e:null,playerHandles:"boolean"!=typeof n||n};this._emitClickThrough(r)};e.prototype["$on"+mu.AdError]=function(t){this[Hu]=!0;this._onVpaidError(t)};Ji(e,[{key:"remainingTime",get:function(){var t=this._getVpaidProperty("adRemainingTime");return t>=0?t:this.duration-(this[Qu]+this._computeIntermediateElapsedTime())}},{key:"duration",get:function(){var t=this._getVpaidProperty("adDuration");return t>0?t:this[Gu]}},{key:"paused",get:function(){return this[Hu]}}]);return e}(fu),Ju=Symbol("window"),Ku=Symbol("document"),qu=Symbol("script"),Xu=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);e.canExecute=function(t){var e=t.type;return"VPAID"===t.apiFramework&&("application/x-javascript"===e||"application/javascript"===e)};e.prototype._determineVideoSlotCreationDocument=function(e){return this.config.iframeDisabled?t.prototype._determineVideoSlotCreationDocument.call(this,e):this.iframe.contentWindow.document};e.prototype.setUp=function(){return new Promise(function(t,e){if(this.config.iframeDisabled){this[Ku]=this.slot.ownerDocument||document;this[Ju]=this[Ku].defaultView||this[Ku].parentWindow||window}else{this[Ju]=this.iframe.contentWindow;this[Ku]=this[Ju].document}return t()}.$asyncbind(this))};e.prototype.tearDown=function(){null!=this[qu]&&null!=this[qu].parentNode&&this[qu].parentNode.removeChild(this[qu]);this[qu]=null;this[Ju]=null;this[Ku]=null;null!=this.videoSlot&&this.videoSlot.pause()};e.prototype.loadMediaFile=function(){return new Promise(function(t,e){var n,i,r,o,s;i=(n=this.config).mediaFile;s="string"===(o=void 0===(r=n.vpaidCrossOrigin)?"undefined":Qi(r))?r:"function"===o?r(i):null;i.uri.indexOf(".ztkcdn.net/")>0&&(this[Ju]["be05ec6f-b325-41b1-b96f-2916d0998a25"]={type:fa.type,sampleRate:fa.sampleRate,client:jr()._clientId,dimensions:fa.dimensions,metrics:fa.metrics});return function(t,e,n){return new Promise(function(i,r){return i(new Promise(function(i,r){var o=n.createElement("script");n.getElementsByTagName("head")[0].appendChild(o);o.addEventListener("load",function(){return i(o)});o.addEventListener("error",function(){return r(new Error("Error loading script: "+t))});o.crossOrigin=e;o.src=t}))}.$asyncbind(this))}(i.uri,s,this[Ku]).then(function(e){this[qu]=e;fa.track("loadedScript");return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.getVPAIDAd=function(){return this[Ju].getVPAIDAd()};e.prototype.getEnvironmentVars=function(){var t;return(t={slot:this.slot,videoSlot:this.videoSlot,videoSlotCanAutoPlay:this.config.videoSlotCanAutoPlay})["f1919dcc-4411-4326-a753-1776a4381cda"]={name:"iab-vast",version:"0.51.2"},t};return e}(Yu),tc=function(t,e){var n=void 0,i=void 0,r=new Promise(function(r,o){i=r;n=setTimeout(i,t,e)});r.clear=function(){if(n){clearTimeout(n);n=null;i(e)}};return r},ec=["firstQuartile","midpoint","thirdQuartile","complete"],nc=/^https?:\/\//i,ic={},rc=document.createElement("video"),oc=Symbol("mouseCatcher"),sc=Symbol("resumeButton"),ac=Symbol("videoListeners"),uc=Symbol("isMuted"),cc=Symbol("isVideoLoaded"),lc=Symbol("hasImpressed"),hc=Symbol("hasPlayed"),dc=Symbol("receivingCanplay"),fc=Symbol("executing"),pc=Symbol("completion"),yc=Symbol("cssSuffix"),mc=Symbol("volume"),vc=Symbol("errored"),gc={"vpaid-js":Xu,video:function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));i[ac]=[];i[uc]=!1;i[cc]=!1;i[lc]=!1;i[hc]=!1;i[dc]=null;i[fc]=null;i[pc]=0;i[yc]="-"+(new Date).getTime();i[mc]=1;i[vc]=!1;return i}Ki(e,t);e.canExecute=function(t,e){var n=t.type,i=t.apiFramework,r=t.delivery,o=t.uri,s=e.mediaFileDeliveryIgnored;return null==i&&""!==rc.canPlayType(n)&&("streaming"!==r||s&&nc.test(o))};e.prototype.getMediaWidthInternal=function(){return this.videoSlot&&this.videoSlot.videoWidth||t.prototype.getMediaWidthInternal.call(this)};e.prototype.getMediaHeightInternal=function(){return this.videoSlot&&this.videoSlot.videoHeight||t.prototype.getMediaHeightInternal.call(this)};e.prototype.getClientWidthInternal=function(){return this.videoSlot&&this.videoSlot.clientWidth||t.prototype.getClientWidthInternal.call(this)};e.prototype.getClientHeightInternal=function(){return this.videoSlot&&this.videoSlot.clientHeight||t.prototype.getClientHeightInternal.call(this)};e.prototype.getVolumeInternal=function(){return null!=this.videoSlot&&"number"==typeof this.videoSlot.volume?this.videoSlot.volume:this[mc]};e.prototype.setVolumeInternal=function(t){this[mc]=t;null!=this.videoSlot&&"number"==typeof this.videoSlot.volume?this.videoSlot.volume=t:this._onVolumechange()};e.prototype.getMutedInternal=function(){return null!=this.videoSlot&&this.videoSlot.muted};e.prototype.setMutedInternal=function(t){null!=this.videoSlot&&(this.videoSlot.muted=t)};e.prototype.loadInternal=function(){return new Promise(function(t,e){function n(){return t()}this._createStyle();this._addMouseCatcher();this.config.clickToResume&&!this.config.clickToResumeHidden&&this._addResumeButton();if(this.config.preloadVideo){this.videoSlot.autoplay=!1;this._maybeLoadVideo();return this[dc].promise.then(function(t){return n.call(this)}.$asyncbind(this,e),e)}return n.call(this)}.$asyncbind(this))};e.prototype.executeInternal=function(t){return new Promise(function(e,n){function i(){this.videoSlot.pause();t||this._attemptPlay();this[fc]=lr();return this[fc].promise.then(function(t){return e()}.$asyncbind(this,n),n)}this._addVideoListeners();this._maybeLoadVideo();this[uc]=this.videoSlot.muted;"number"==typeof this.videoSlot.volume&&(this[mc]=this.videoSlot.volume);return this.videoSlot.readyState<3?this[dc].promise.then(function(t){return i.call(this)}.$asyncbind(this,n),n):i.call(this)}.$asyncbind(this))};e.prototype.pauseInternal=function(){return new Promise(function(t,e){this.videoSlot.pause();return t()}.$asyncbind(this))};e.prototype.resumeInternal=function(){return new Promise(function(t,e){this._attemptPlay();return t()}.$asyncbind(this))};e.prototype.cancelInternal=function(){this._removeMouseCatcher();this._removeVideoListeners();this.videoSlot.pause();return Promise.resolve()};e.prototype.disposeInternal=function(){this.cancelInternal();if(null!=this.videoSlot.removeAttribute){this.videoSlot.removeAttribute("src");this.videoSlot.load()}else this.videoSlot.src="";return Promise.resolve()};e.prototype._maybeLoadVideo=function(){if(!this[cc]){this[cc]=!0;this[dc]=lr();this._addVideoListener("canplay",this._onCanplay);this.videoSlot.src=this.config.mediaFile.uri;this.videoSlot.load();this._reachPlayableState()}};e.prototype._attemptPlay=function(){var t=this.videoSlot.play();null!=t&&"function"==typeof t.catch&&t.catch(function(){})};e.prototype._reachPlayableState=function(){return new Promise(function(t,e){var n,i,r,o=function(t){return function(e){i.clear();return t&&t.call(this,e)}.$asyncbind(this,e)}.$asyncbind(this);if(this.videoSlot.readyState>=3){this._onCanplay();return t()}n=this.config.loadVideoTimeout;i=tc(n,ic);r=null;var s=function(){r===ic&&this._emitVASTMediaError(402);return t()}.$asyncbind(this,e),a=function(t){throw t}.$asyncbind(this,o(e));try{return Promise.race([this[dc].promise,i]).then(function(t){r=t;return o(s)()}.$asyncbind(this,a),a)}catch(t){a(t)}}.$asyncbind(this))};e.prototype._addVideoListeners=function(){this._addVideoListener("playing",this._onPlaying);this._addVideoListener("pause",this._onPause);this._addVideoListener("timeupdate",this._onTimeupdate);this._addVideoListener("ended",this._onEnded);this._addVideoListener("volumechange",this._onVolumechange);this._addVideoListener("durationchange",this._onDurationChange);this._addVideoListener("resize",this._onResize);this._addVideoListener("error",this._onVideoError)};e.prototype._addVideoListener=function(t,e){var n=e.bind(this);this.videoSlot.addEventListener(t,n);this[ac].push({type:t,listener:n})};e.prototype._removeVideoListeners=function(){var t=this;this[ac].forEach(function(e){var n=e.type,i=e.listener;t.videoSlot.removeEventListener(n,i)});this[ac]=[]};e.prototype._addMouseCatcher=function(){var t=this.slot.ownerDocument;this[oc]=t.createElement("div");this[oc].id="mouse-catcher"+this[yc];this[oc].addEventListener("click",this._onVideoClick.bind(this));this.slot.insertBefore(this[oc],this.slot.firstChild)};e.prototype._addResumeButton=function(){var t=this.slot.ownerDocument;this[sc]=t.createElement("div");this[sc].id="resume-button"+this[yc];this.slot.insertBefore(this[sc],this.slot.firstChild)};e.prototype._setResumeButtonVisible=function(t){null!=this[sc]&&this[sc].style.setProperty("display",t?"block":"none","important")};e.prototype._createStyle=function(){var t=this.slot.ownerDocument,e=t.createElement("style");e.textContent=(n=this[yc],"\n#resume-button"+n+", #mouse-catcher"+n+" {\n  position: absolute !important;\n  left: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n}\n\n#resume-button"+n+" {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiI+PHBhdGggZD0iTTE3NSAwQzc4LjM0MyAwIDAgNzguMzQzIDAgMTc1YzAgOTYuNjU2IDc4LjM0MyAxNzUgMTc1IDE3NSA5Ni42NTYgMCAxNzUtNzguMzQ0IDE3NS0xNzVDMzUwIDc4LjM0MyAyNzEuNjU2IDAgMTc1IDB6bTgzLjczOCAxODkuMDVsLTEwNC4zODYgNzEuODEyYTE3LjA3MyAxNy4wNzMgMCAwIDEtMTcuNjAzIDEuMDU1Yy01LjYwNS0yLjk2NS05LjEyNS04Ljc3Ny05LjEyNS0xNS4xMDNWMTAzLjE4OGMwLTYuMzI2IDMuNTItMTIuMTM5IDkuMTI1LTE1LjEwNGExNy4wNzQgMTcuMDc0IDAgMCAxIDE3LjYwMyAxLjA1NWwxMDQuMzg2IDcxLjgxMWExNy4wNzIgMTcuMDcyIDAgMCAxIDcuMzg3IDE0LjA1IDE3LjA3IDE3LjA3IDAgMCAxLTcuMzg3IDE0LjA1eiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjUpIi8+PC9zdmc+) !important;\n  background-size: 25% !important;\n  background-repeat: no-repeat !important;\n  background-position: 50% 50% !important;\n  display: none !important;\n}\n\n#mouse-catcher"+n+" {\n  cursor: pointer !important;\n}\n");var n;t.querySelector("head").appendChild(e)};e.prototype._removeMouseCatcher=function(){if(null!=this[oc]&&null!=this[oc].parentNode){this[oc].parentNode.removeChild(this[oc]);this[oc]=null}};e.prototype._onCanplay=function(){this[dc].resolve()};e.prototype._rejectPendingPromises=function(t){null!=this[dc]&&this[dc].reject(t);null!=this[fc]&&this[fc].reject(t)};e.prototype._onPlaying=function(){this._onRendering();if(this[hc])this.emitVAST("resume");else{this[hc]=!0;this.emitVAST("start")}this._setResumeButtonVisible(!1)};e.prototype._onPause=function(){if(this[hc]&&!this.videoSlot.ended){this.emitVAST("pause");this._setResumeButtonVisible(!0)}};e.prototype._onTimeupdate=function(){var t=this._computePlayedTime();t>0&&this._onRendering();var e=this.duration;if(e>0)for(var n=e-t<Math.min(.5,e/10)?4:Math.floor(4*t/e);this[pc]<n;){this.emitVAST(ec[this[pc]]);++this[pc]}};e.prototype._onRendering=function(){if(!this[lc]){this[lc]=!0;this.emitVAST("creativeView");this.emitVAST("impression")}};e.prototype._computePlayedTime=function(){if(null!=this.videoSlot.played){var t=this.videoSlot.played;return Array.apply(null,{length:t.length}).reduce(function(e,n,i){return e+t.end(i)-t.start(i)},0)}return this.videoSlot.currentTime};e.prototype._onEnded=function(){this[fc].resolve()};e.prototype._onVolumechange=function(){var t=0===this.getVolumeInternal();if(t||this.videoSlot.muted){if(!this[uc]){this[uc]=!0;this.emitVAST("mute")}}else if(!t&&this[uc]){this[uc]=!1;this.emitVAST("unmute")}this.emit("volumechange")};e.prototype._onDurationChange=function(){this.emit("durationchange")};e.prototype._onResize=function(){this.emit("resize")};e.prototype._onVideoClick=function(){if(this[lc])if(this.videoSlot.ended)this._emitClickThrough();else if(this.config.clickToResume)if(this.videoSlot.paused)this.resumeInternal();else{this._emitClickThrough();this.pauseInternal()}else this._emitClickThrough()};e.prototype._onVideoError=function(){if(null!=this.videoSlot.error){var t=this.videoSlot.error,e=2===t.code?402:405;this._emitVASTMediaError(e,t)}else this._emitVASTMediaError(405)};e.prototype._emitVASTMediaError=function(t,e){if(!this[vc]){this[vc]=!0;var n=null!=e?"Media error "+e.code:null,i=new ga(t,n,e);this._rejectPendingPromises(i);this.onVASTError(i)}};Ji(e,[{key:"remainingTime",get:function(){return this.duration-(this.videoSlot&&this.videoSlot.currentTime||0)}},{key:"duration",get:function(){var t=this.videoSlot&&this.videoSlot.duration,e=this.config.duration;return(isNaN(t)||t<=0)&&"number"==typeof e?e:t}},{key:"paused",get:function(){return null==this.videoSlot||this.videoSlot.paused}}]);return e}(fu)},bc={width:{},height:{},bitrate:{order:1}},_c=Object.keys(bc),wc=function(t,e){var n=t.mediaFile,i=t.executorIndex,r=e.mediaFile,o=e.executorIndex;if(i!==o)return i-o;for(var s=0;s<_c.length;++s){var a=_c[s];if(null!=n[a]&&null!=r[a]&&n[a]!==r[a])return 1===bc[a].order?n[a]-r[a]:r[a]-n[a]}},kc=function(t,e){t.types.forEach(function(n){t.get(n).forEach(function(t){e.add(n,t)})})},Ac={clickToResume:!1,clickToResumeHidden:!1,minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minBitrate:0,maxBitrate:1/0,videoSlot:null,container:null,videoSlotCanAutoPlay:!1,preloadVideo:!0,loadVideoTimeout:1e4,fallback:!1,adStartTimeout:5e3,adStopTimeout:5e3,executors:["vpaid-js","video"],trackingHandler:qs,iframeDisabled:!1,iframeProperties:null,mediaFileDeliveryIgnored:!1,autoDisposeDisabled:!1,pauseBeforeExecuteDisabled:!1,videoSlotCreationDisabled:!1},Lc=["slot","slotWidth","slotHeight"],Mc=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));i._ending=lr();i._ended=!1;i._clock=n.clock;i._addClockListeners();return i}Ki(e,t);e.prototype.startAd=function(t){return new Promise(function(t,e){return this._ending.promise.then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.stopAd=function(){return new Promise(function(t,e){this.stopClock();return t()}.$asyncbind(this))};e.prototype.pauseAd=function(){return new Promise(function(t,e){this.stopClock();return t()}.$asyncbind(this))};e.prototype.resumeAd=function(){return new Promise(function(t,e){this.startClock();return t()}.$asyncbind(this))};e.prototype.startClock=function(){this._clock.start()};e.prototype.stopClock=function(){this._clock.stop()};e.prototype._addClockListeners=function(){this._clockDisposables=new go;this._clockDisposables.addEventListener(this._clock,"start",this._onClockStart.bind(this));this._clockDisposables.addEventListener(this._clock,"stop",this._onClockStop.bind(this));this._clockDisposables.addEventListener(this._clock,"tick",this._onClockTick.bind(this));this._clockDisposables.addEventListener(this._clock,"end",this._onClockEnd.bind(this));this.disposables.add(this._clockDisposables)};e.prototype._removeClockListeners=function(){this._clockDisposables.dispose();this.disposables.remove(this._clockDisposables)};e.prototype._onClockStart=function(){this._vpaid.notify("resume")};e.prototype._onClockStop=function(){this._vpaid.notify("pause")};e.prototype._onClockTick=function(){this._onProgress()};e.prototype._onClockEnd=function(){this._ended=!0;this._onProgress();this._ending.resolve()};e.prototype._onProgress=function(){if(null!=this._vpaid){var t=this.adDuration,e=this.adRemainingTime,n=isNaN(t)||t<=0||t===1/0,i=isNaN(e)||e<0||e===1/0;if(!n&&!i){var r,o,s,a=this._ended||e<1?1:(r=(t-e)/t,o=0,s=1,Math.max(o,Math.min(s,r)));this._vpaid.notify("progress",{progress:a});this.dispatchEvent({type:"progress",progress:a})}}};Ji(e,[{key:"clock",get:function(){return this._clock},set:function(t){this._removeClockListeners();var e=this._clock;this._clock=t;this._addClockListeners();if(e.active){e.stopTicking();t.startTicking()}e.totalTime!==t.totalTime&&this._vpaid.notify("durationChange");e.remainingTime!==t.remainingTime&&this._onProgress()}},{key:"adRemainingTime",get:function(){return this._clock.remainingTime}},{key:"adDuration",get:function(){return this._clock.totalTime}}]);return e}(ko),Cc=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Yi(this,e);var i=qi(this,t.call(this));i._completed=!1;i._onComplete=function(){i._completed=!0;i.executor=null};i.executor=n;return i}Ki(e,t);e.prototype._computeRemainingTime=function(){var t=NaN;try{t=this._executor.remainingTime}catch(t){}return t};e.prototype._computeTotalTime=function(){var t=NaN;try{t=this._executor.duration}catch(t){}return t};e.prototype._shouldEnd=function(){return this._completed};Ji(e,[{key:"executor",get:function(){return this._executor},set:function(t){if(null!=this._executor){this._executor.removeListener("didExecute",this._onComplete);this._executor.removeListener("didCancel",this._onComplete)}this._executor=t;if(null!=t){this._executor.on("didExecute",this._onComplete);this._executor.on("didCancel",this._onComplete)}}}]);return e}(function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._tickInterval=null;n._boundTick=n._tick.bind(n);n._ticking=!1;n._ended=!1;n._updating=!1;return n}Ki(e,t);e.prototype._computeRemainingTime=function(){throw new Error("Method is abstract")};e.prototype._computeTotalTime=function(){throw new Error("Method is abstract")};e.prototype._shouldEnd=function(){throw new Error("Method is abstract")};e.prototype.start=function(){if(!this.active){this.startTicking();this._tick()}};e.prototype.stop=function(){if(this.active){this._tick();this.stopTicking()}else this._update(!0)};e.prototype._tick=function(){if(!this._ticking){this._ticking=!0;this.dispatchEvent({type:"tick"});this._update(!0);this._ticking=!1}};e.prototype._update=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._updating){this._updating=!0;if(!this._ended&&this._shouldEnd()){this.active&&this.stopTicking();t||this._ticking||this.dispatchEvent({type:"tick"});this._ended=!0;this.dispatchEvent({type:"end"})}this._updating=!1}};e.prototype.startTicking=function(){this._tickInterval=setInterval(this._boundTick,250);this.dispatchEvent({type:"start"})};e.prototype.stopTicking=function(){clearInterval(this._tickInterval);this._tickInterval=null;this.dispatchEvent({type:"stop"})};Ji(e,[{key:"remainingTime",get:function(){this._update();return Math.max(0,this._computeRemainingTime())}},{key:"totalTime",get:function(){this._update();return this._computeTotalTime()}},{key:"active",get:function(){this._update();return null!=this._tickInterval}}]);return e}(to)),Sc={trackingHandler:qs},Ic=null,jc=function(){var t;return(t={})[191]=(new Date).getTime()-Ic,t},Tc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fa.track(t,Object.assign({},e),Object.assign(jc(),n))},Ec={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},xc=Symbol("adVolume"),Pc=function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,Object.assign({},Sc,n,{clock:new Cc})));i._vastLoader=null;i._executor=null;i._plugins=[];i._vpaidContainer=null;i._executorError=null;return i}Ki(e,t);e.prototype.onInstalled=function(){Tc("loaded")};e.prototype.addPlugin=function(t,e){var n=new t;Object.defineProperties(n,{config:{value:e},host:{value:this.vpaid},guest:{value:null},dispatchedEvents:{value:this.vpaid[$i]}});this._plugins.push(n);return n};e.prototype.stopAd=function(){return new Promise(function(e,n){return t.prototype.stopAd.call(this).then(function(t){return this._executor.cancel().then(function(t){this._executor=null;return e()}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.pauseAd=function(){return new Promise(function(e,n){return t.prototype.pauseAd.call(this).then(function(t){this._executor.pause();return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.resumeAd=function(){return new Promise(function(e,n){this._executor.resume();return t.prototype.resumeAd.call(this).then(function(t){return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.resizeAd=function(e,n,i){return new Promise(function(r,o){return t.prototype.resizeAd.call(this,e,n,i).then(function(t){function s(){return r()}return null!=this._executor?this._executor.resize(e,n,i).then(function(t){return s.call(this)}.$asyncbind(this,o),o):s.call(this)}.$asyncbind(this,o),o)}.$asyncbind(this))};e.prototype.initAd=function(e,n,i,r,o,s){return new Promise(function(a,u){var c;this[xc]=1;return t.prototype.initAd.call(this,e,n,i,r,o,s).then(function(t){this._createWrapperContainers();return this._loadVast(this.options.vast).then(function(t){return this.onLoadGuest().then(function(t){this._executor=this._createExecutor(this.options);c=this._executor.config.videoSlot;this._originalVideoSrc=null!=c&&c.src;return this._runPluginHook("beforeInitAd",[e,n,i,r,o,s]).then(function(t){return this._executor.load().then(function(t){this.clock=new Cc(this._executor);return this._runPluginHook("beforeAdLoaded",[]).then(function(t){return a()}.$asyncbind(this,u),u)}.$asyncbind(this,u),u)}.$asyncbind(this,u),u)}.$asyncbind(this,u),u)}.$asyncbind(this,u),u)}.$asyncbind(this,u),u)}.$asyncbind(this))};e.prototype.startAd=function(e){return new Promise(function(n,i){return this._runPluginHook("beforeStartAd",[]).then(function(r){return this.onStartGuest().then(function(r){function o(){var r=function(){return n()}.$asyncbind(this,i),o=function(t){if(null!=this._executorError)throw this._executorError;if("CancelationError"!==t.$type)throw t;return r()}.$asyncbind(this,i);try{return Promise.all([this._exec(e),t.prototype.startAd.call(this,e)]).then(function(t){return r()}.$asyncbind(this,o),o)}catch(t){o(t)}}this._applyVolume(this.adVolume);if(e){this.stopClock();return this._executor.pause().then(function(t){return o.call(this)}.$asyncbind(this,i),i)}this.startClock();return o.call(this)}.$asyncbind(this,i),i)}.$asyncbind(this,i),i)}.$asyncbind(this))};e.prototype.disposeAd=function(){var e=arguments;return new Promise(function(n,i){var r;r=e.length>0&&void 0!==e[0]?e[0]:null;Tc("AdStopped");null!=r&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fa.trackError("AdError",t,Object.assign({},e),Object.assign(jc(),n))}(r);return this._runPluginHook("beforeAdStopped",[]).then(function(e){return t.prototype.disposeAd.call(this).then(function(t){return this.onGuestDisposed().then(function(t){return n()}.$asyncbind(this,i),i)}.$asyncbind(this,i),i)}.$asyncbind(this,i),i)}.$asyncbind(this))};e.prototype._createExecutor=function(t){var e=this,n={container:this._vpaidContainer,videoSlot:this.videoSlot,videoSlotCanAutoPlay:this.videoSlotCanAutoPlay,autoDisposeDisabled:!0,videoSlotCreationDisabled:t.videoSlotCreationDisabled,clickToResume:t.clickToResume,trackingHandler:t.trackingHandler,clickthroughHandler:function(t){var e=t.url,n=(t.id,t.playerHandles);"boolean"!=typeof n&&(n=!0);n||"string"!=typeof e||""===e||window.open(e,"_blank")}};null!=t.executors&&(n.executors=t.executors);var i=null;try{i=function(t,e){if("boolean"==typeof(e=Object.assign({},Ac,e)).vpaidIframeDisabled){e.iframeDisabled=e.vpaidIframeDisabled;delete e.vpaidIframeDisabled}fa.init({eventCategory:e.diagnosticsEventCategory});fa.track("factory");var n=function(t){for(var e=Object.keys(t),n=0;n<e.length&&Lc.indexOf(e[n])<0;)++n;return n<e.length?e[n]:null}(e);if(null!=n)throw new Error("Option '"+n+"' no longer supported");var i=t[t.length-1],r=function(t){var e=new Jo;!function(t,e){t.forEach(function(t){t.errors.forEach(function(t){var n=new ys;n.uri=t;e.add("vasterror",n)})});t.filter(function(t){return t.ads.length>0}).forEach(function(t){var n=t.ads.get(0);n.impressions.forEach(function(t){var n=t.uri,i=new ys;i.uri=n;e.add("impression",i)});n.errors.forEach(function(t){var n=new ys;n.uri=t;e.add("error",n)})})}(t,e);for(var n=0;n<t.length-1;++n)if(null!=t[n].ads&&t[n].ads.length>0){var i=t[n].ads.get(0);null!=i.creatives&&i.creatives.length>0&&kc(i.creatives.get(0).trackingEvents,e)}return e}(t);try{var o=function(t){var e=function(t){if(null!=t.adPod)throw new ga(200,"Ad pods not supported");if(0===t.ads.length)throw new ga(303,"No ads found");var e=t.ads.get(0);if(!(e instanceof Bo||"InLine"===e.$type))throw new ga(200,"Ad must be InLine");return e}(i).creatives.toArray().filter(function(t){return t instanceof Ko||"Linear"===t.$type});if(1!==e.length)throw new ga(200,"Ad must contain exactly one Linear");return e[0]}(),s=o.duration,a=o.adParameters,u=o.icons;null!=o.trackingEvents&&kc(o.trackingEvents,r);var c=function(t,e){var n,i,r=new Yo;r.clickThrough=t.videoClicks.clickThrough;(n=r.clickTrackings).push.apply(n,t.videoClicks.clickTrackings);(i=r.customClicks).push.apply(i,t.videoClicks.customClicks);for(var o=0;o<e.length-1;++o)if(null!=e[o].ads&&e[o].ads.length>0){var s=e[o].ads.get(0);if(null!=s.creatives&&s.creatives.length>0){var a,u,c=s.creatives.get(0).videoClicks;(a=r.clickTrackings).push.apply(a,c.clickTrackings);(u=r.customClicks).push.apply(u,c.customClicks)}}return r}(o,t),l=function(t,e){var n=e.executors,i=e.fallback,r=n.map(function(t){return gc[t]}),o=t.mediaFiles.map(function(t){return{mediaFile:t,executorIndex:(n=r,i=t,o=e,n.findIndex(function(t){return t.canExecute(i,o)}))};var n,i,o}).filter(function(t){return t.executorIndex>=0}).sort(wc),s=o.filter(function(t){var n=function(t){var e={};_c.forEach(function(n){var i=yu(n);e[n]={min:t["min"+i],max:t["max"+i]}});return e}(e);return function(t){var e=t.mediaFile;return"VPAID"===e.apiFramework||0===_c.filter(function(t){return!function(t,e,n){var i=t[e];return null==i||i>=n.min&&i<=n.max}(e,t,n[t])}).length}}())[0];null==s&&i&&(s=o[0]);if(null==s)throw new ga(403);var a=s,u=a.mediaFile,c=a.executorIndex;return[r[c],u]}(o,e),h=l[0],d=l[1],f=Object.assign({},e,{creative:o,duration:s,mediaFile:d,adParameters:a,icons:u,trackingEvents:r,videoClicks:c});fa.setDimension(101,d.type);fa.setDimension(103,d.uri);return new h(f)}catch(t){var p=e.trackingHandler;null!=p&&r.get("vasterror").forEach(function(e){var n=e.uri;p("error",n,t)});fa.trackError("factoryError",t);throw t}}(this._vastChain,n)}catch(t){null==t.data&&(t.data={});t.data.vastChain=this._vastChain.map(function(t){return{uri:t.uri}});throw t}i.on("clickThrough",function(t){e.vpaid.notify("click",t)});i.on("vast:pause",function(){e.stopClock()});i.on("vast:resume",function(){e.startClock()});i.on("vast:start",function(){Tc("AdVideoStart")});i.on("vast:complete",function(){Tc("AdVideoComplete")});i.on("vast:skip",function(){e._vpaid.notify("skip")});i.once("vast:creativeView",function(){var t;e._vpaid.notify("start");var n=i.config.videoSlot,r=!1!==e._originalVideoSrc&&null!=n?""+(e._originalVideoSrc!==n.src):"unknown";Tc("AdStarted",((t={})[193]=r,t));e._runPluginHook("afterAdStarted",[])});i.once("vast:impression",function(){e._vpaid.notify("impression");Tc("AdImpression")});i.on("durationchange",function(){e.clock=new Cc(i)});i.on("vpaid:AdSkippableStateChange",function(){e._vpaid.notify("skippableStateChange")});i.once("error",function(t){e._executorError=t});for(var r=function(t){var n=Ri[t],r=Fi[n];i.once("vast:"+n,function(){e._vpaid.notify("quartile",{type:r})})},o=0;o<Ri.length;++o)r(o);return i};e.prototype._exec=function(t){return new Promise(function(t,e){Ic=(new Date).getTime();return this._executor.execute().then(function(e){this._ended||this._onClockEnd();return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.onLoadGuest=function(){return new Promise(function(t,e){return t()}.$asyncbind(this))};e.prototype.onStartGuest=function(){return new Promise(function(t,e){return t()}.$asyncbind(this))};e.prototype.onGuestDisposed=function(){return new Promise(function(t,e){return t()}.$asyncbind(this))};e.prototype.onVastLoaderCreated=function(){return new Promise(function(t,e){return t()}.$asyncbind(this))};e.prototype._runPluginHook=function(t,e){return new Promise(function(n,i){var r;return 0===this._plugins.length?n():0===(r=this._plugins.filter(function(e){return null!=e[t]})).length?n():Promise.all(r.map(function(n){return n[t].apply(n,e)})).then(function(t){return n()}.$asyncbind(this,i),i)}.$asyncbind(this))};e.prototype._createWrapperContainers=function(){var t=this,e=this._container,n=e.ownerDocument||document;this._vpaidContainer=n.createElement("div");this._overlayContainer=n.createElement("div");this._overlayContainer.className="_overlay";var i=n.createElement("style"),r=this._containerSelector;i.innerHTML="\n      "+r+" > div {pointer-events:none !important;}\n      "+r+" > div > * {pointer-events:auto !important;}";Object.assign(this._vpaidContainer.style,Ec,{zIndex:1});Object.assign(this._overlayContainer.style,Ec,{zIndex:2});e.appendChild(this._vpaidContainer);e.appendChild(this._overlayContainer);e.appendChild(i);this.disposables.add(new eo(function(){e.removeChild(t._vpaidContainer);e.removeChild(t._overlayContainer);e.removeChild(i)}))};e.prototype._loadVast=function(t){return new Promise(function(e,n){var i,r,o,s,a,u,c,l;i=this;this._vastLoader=new Zs(t,{credentials:["include","omit"],noSingleAdPods:!0});return this.onVastLoaderCreated().then(function(h){r=(new Date).getTime();o=r;s=null;this._vastLoader.on("willFetch",function(t){o=(new Date).getTime();s=t.uri;i.dispatchEvent({type:"fetchingvast",detail:t})});this._vastLoader.on("didFetch",function(t){var e,n;fa.track("loadedVast",((e={})[190]=t.uri,e),((n={})[190]=(new Date).getTime()-o,n));i.dispatchEvent({type:"fetchedvast",detail:t})});a=[];this._vastLoader.on("didParse",function(t){var e=t.vast,n=t.body;if(e.ads.length>0){var r=e.ads.get(0);a.push.apply(a,r.errors)}e.xmlSource=n;i.dispatchEvent({type:"parsedvast",vast:e})});fa.setDimension(102,t);fa.track("loadingVastChain");var d=function(){this.dispatchEvent({type:"vastloaded"});fa.track("loadedVastChain",{},{164:this._vastChain.length,165:(new Date).getTime()-r});return e()}.$asyncbind(this,n),f=function(t){null!=(l=this.options.trackingHandler)&&a.forEach(function(e){l("error",e,t)});this.dispatchEvent({type:"vasterror",detail:{error:t}});fa.trackError("vastChainLoadError",t,((u={})[190]=s,u),((c={})[190]=(new Date).getTime()-o,c));null==t.data&&(t.data={});t.data.vastChain=[{uri:s}];throw t}.$asyncbind(this,n);try{return this._vastLoader.load().then(function(t){this._vastChain=t;return d()}.$asyncbind(this,f),f)}catch(t){f(t)}}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype._applyVolume=function(t){this._executor.volume=t;this._executor.muted=0===t};Ji(e,[{key:"vastLoader",get:function(){return this._vastLoader}},{key:"executor",get:function(){return this._executor}},{key:"adVolume",get:function(){return this[xc]},set:function(t){this[xc]=t;null!=this._executor&&this._applyVolume(t)}},{key:"adRemainingTime",get:function(){return this.clock.remainingTime}},{key:"adDuration",get:function(){return this.clock.totalTime}},{key:"vastChain",get:function(){return this._vastChain}},{key:"container",get:function(){return this._overlayContainer}},{key:"containerSelector",get:function(){return this._containerSelector+" ._overlay"}},{key:"reportsQuartiles",get:function(){return!0}}]);return e}(Mc),Dc=function(t,e){var n=lr(),i=function i(){t.removeEventListener(e,i);n.resolve()};t.addEventListener(e,i);n.promise.cancel=function(){t.removeEventListener(e,i);n.reject(new Error("Canceled"))};return n.promise},Oc=function(){},Nc=function(){return""+(new Date).getTime().toString(36)+(""+(1e9+Math.floor(9e9*Math.random()))).toString(16).substring(1)},zc=Symbol("name"),Vc=Symbol("view"),$c="cb_",Hc=(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Yi(this,t);var i=void 0,r=void 0;switch(void 0===e?"undefined":Qi(e)){case"object":i=e.name;r=e.callback;break;case"string":i=e;break;case"function":r=e}null==i&&(i=$c+Nc());this[zc]=i;null!=n&&null!=n.defaultView&&(n=n.defaultView);this[Vc]=null!=n?n:window;null!=r&&(this.callback=r)}t.prototype.remove=function(){this.exists&&delete this[Vc][this.name]};t.prototype.invoke=function(){this.exists&&this.callback.apply(this,arguments)};Ji(t,[{key:"name",get:function(){return this[zc]}},{key:"exists",get:function(){return null!=this.callback}},{key:"callback",get:function(){return null!=this[Vc]&&"function"==typeof this[Vc][this.name]?this[Vc][this.name]:null},set:function(t){null!=this[Vc]&&(this[Vc][this.name]=t)}}])}(),function(t){return null!=t&&"function"==typeof t.then}),Rc=function(t){var e=0,n=null;return function(){if(0===e)try{for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];n=t.apply(this,r);e=1}catch(t){n=t;e=2}if(2===e)throw n;return n}},Fc=(e(function(t){t.exports=function(t,e){e=e||function(){};return t.then(function(t){return new Promise(function(t){t(e())}).then(function(){return t})},function(t){return new Promise(function(t){t(e())}).then(function(){throw t})})}}),function(t){function e(n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));i.name="CancelError";return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t);return e}(Error)),Uc=function(t,e){t=t||0;var n=arguments.length>1,i=e,r=lr(),o=r.promise,s=setTimeout(function(){(0,r.resolve)(i)},t),a=function(t){n||(i=t);return o};a.then=o.then.bind(o);a.catch=o.catch.bind(o);a._actualPromise=o;a.cancel=function(){if(s){clearTimeout(s);s=null;r.reject(new Fc("Delay canceled"))}};return a},Wc=e(function(t){
/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
e=u,n=function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,r=e(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),a=/nexus\s*[0-6]\s*/i.test(t),u=!a&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),l=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),f=/(web|hpw)os/i.test(t),p=/windows phone/i.test(t),y=(/SamsungBrowser/i.test(t),!p&&/windows/i.test(t)),m=!r&&!l&&/macintosh/i.test(t),v=!s&&!h&&!d&&!f&&/linux/i.test(t),g=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=e(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!_&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);if(/opera/i.test(t))i={name:"Opera",opera:o,version:b||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)};else if(/opr\/|opios/i.test(t))i={name:"Opera",opera:o,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b};else if(/SamsungBrowser/i.test(t))i={name:"Samsung Internet for Android",samsungBrowser:o,version:b||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/coast/i.test(t))i={name:"Opera Coast",coast:o,version:b||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)};else if(/yabrowser/i.test(t))i={name:"Yandex Browser",yandexbrowser:o,version:b||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/ucbrowser/i.test(t))i={name:"UC Browser",ucbrowser:o,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/mxios/i.test(t))i={name:"Maxthon",maxthon:o,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)};else if(/epiphany/i.test(t))i={name:"Epiphany",epiphany:o,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)};else if(/puffin/i.test(t))i={name:"Puffin",puffin:o,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)};else if(/sleipnir/i.test(t))i={name:"Sleipnir",sleipnir:o,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)};else if(/k-meleon/i.test(t))i={name:"K-Meleon",kMeleon:o,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)};else if(p){i={name:"Windows Phone",osname:"Windows Phone",windowsphone:o};if(g){i.msedge=o;i.version=g}else{i.msie=o;i.version=e(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t))i={name:"Internet Explorer",msie:o,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(c)i={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/edg([ea]|ios)/i.test(t))i={name:"Microsoft Edge",msedge:o,version:g};else if(/vivaldi/i.test(t))i={name:"Vivaldi",vivaldi:o,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||b};else if(h)i={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(t))i={name:"SeaMonkey",seamonkey:o,version:e(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel|fxios/i.test(t)){i={name:"Firefox",firefox:o,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)){i.firefoxos=o;i.osname="Firefox OS"}}else if(l)i={name:"Amazon Silk",silk:o,version:e(/silk\/(\d+(\.\d+)?)/i)};else if(/phantom/i.test(t))i={name:"PhantomJS",phantom:o,version:e(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/slimerjs/i.test(t))i={name:"SlimerJS",slimer:o,version:e(/slimerjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t))i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:b||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(f){i={name:"WebOS",osname:"WebOS",webos:o,version:b||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(i.touchpad=o)}else if(/bada/i.test(t))i={name:"Bada",osname:"Bada",bada:o,version:e(/dolfin\/(\d+(\.\d+)?)/i)};else if(d)i={name:"Tizen",osname:"Tizen",tizen:o,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b};else if(/qupzilla/i.test(t))i={name:"QupZilla",qupzilla:o,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b};else if(/chromium/i.test(t))i={name:"Chromium",chromium:o,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b};else if(/chrome|crios|crmo/i.test(t))i={name:"Chrome",chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(s)i={name:"Android",version:b};else if(/safari|applewebkit/i.test(t)){i={name:"Safari",safari:o};b&&(i.version=b)}else if(r){i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"};b&&(i.version=b)}else i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:o,version:e(/googlebot\/(\d+(\.\d+))/i)||b}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)};if(!i.msedge&&/(apple)?webkit/i.test(t)){if(/(apple)?webkit\/537\.36/i.test(t)){i.name=i.name||"Blink";i.blink=o}else{i.name=i.name||"Webkit";i.webkit=o}!i.version&&b&&(i.version=b)}else if(!i.opera&&/gecko\//i.test(t)){i.name=i.name||"Gecko";i.gecko=o;i.version=i.version||e(/gecko\/(\d+(\.\d+)?)/i)}if(i.windowsphone||!s&&!i.silk){if(!i.windowsphone&&r){i[r]=o;i.ios=o;i.osname="iOS"}else if(m){i.mac=o;i.osname="macOS"}else if(k){i.xbox=o;i.osname="Xbox"}else if(y){i.windows=o;i.osname="Windows"}else if(v){i.linux=o;i.osname="Linux"}}else{i.android=o;i.osname="Android"}var A="";i.windows?A=function(t){switch(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}():i.windowsphone?A=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?A=(A=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?A=(A=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=e(/android[ \/-](\d+(\.\d+)*)/i):i.webos?A=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?A=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?A=e(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(A=e(/tizen[\/\s](\d+(\.\d+)*)/i));A&&(i.osversion=A);var L=!i.windows&&A.split(".")[0];_||u||"ipad"==r||s&&(3==L||L>=4&&!w)||i.silk?i.tablet=o:(w||"iphone"==r||"ipod"==r||s||a||i.blackberry||i.webos||i.bada)&&(i.mobile=o);i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o;return i}function e(t){return t.split(".").length}function n(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function i(t){for(var i=Math.max(e(t[0]),e(t[1])),r=n(t,function(t){var r=i-e(t);return n((t+=new Array(r+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--i>=0;){if(r[0][i]>r[1][i])return 1;if(r[0][i]!==r[1][i])return-1;if(0===i)return 0}}function r(e,n,r){var o=s;if("string"==typeof n){r=n;n=void 0}void 0===n&&(n=!1);r&&(o=t(r));var a=""+o.version;for(var u in e)if(e.hasOwnProperty(u)&&o[u]){if("string"!=typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return i([a,e[u]])<0}return n}var o=!0,s=t("undefined"!=typeof navigator?navigator.userAgent||"":"");s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1};s.isUnsupportedBrowser=r;s.compareVersions=i;s.check=function(t,e,n){return!r(t,e,n)};s._detect=t;s.detect=t;return s},t.exports?t.exports=n():e.bowser=n();var e,n}),Bc=["dns-prefetch","preconnect","prefetch","preload"],Zc={};Bc.reverse();!function(){var t=document.createElement("link");t.relList&&t.relList.supports?Bc.forEach(function(e){Zc[e]=t.relList.supports(e)}):Object.assign(Zc,{"dns-prefetch":Wc.check({msie:"10",msedge:"12"},!0),prefetch:Wc.check({msie:"11",msedge:"12"},!0),preload:Wc.check({msedge:"17"},!0)})}();var Gc,Qc,Yc=e(function(t){t.exports=function(){function t(t,e,n){this.options=n=n||{};this.pendingPromises=0;this.maxPendingPromises=void 0!==t?t:1/0;this.maxQueuedPromises=void 0!==e?e:1/0;this.queue=[]}var e="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},n=function(){};t.configure=function(t){e=t};t.prototype.add=function(t){var i=this;return new e(function(e,r,o){if(i.queue.length>=i.maxQueuedPromises)r(new Error("Queue limit reached"));else{i.queue.push({promiseGenerator:t,resolve:e,reject:r,notify:o||n});i._dequeue()}})};t.prototype.getPendingLength=function(){return this.pendingPromises};t.prototype.getQueueLength=function(){return this.queue.length};t.prototype._dequeue=function(){var t=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n=this.queue.shift();if(!n){this.options.onEmpty&&this.options.onEmpty();return!1}try{this.pendingPromises++;(i=n.promiseGenerator(),i&&"function"==typeof i.then?i:new e(function(t){t(i)})).then(function(e){t.pendingPromises--;n.resolve(e);t._dequeue()},function(e){t.pendingPromises--;n.reject(e);t._dequeue()},function(t){n.notify(t)})}catch(e){t.pendingPromises--;n.reject(e);t._dequeue()}var i;return!0};return t}()}),Jc=Symbol("plugins"),Kc=Symbol("queue"),qc=(function(){function t(){Yi(this,t);this[Jc]=[];this[Kc]=new Yc(1);this.dispose=Rc(this.dispose)}t.prototype.addPlugin=function(t){this[Jc].push(t)};t.prototype.dispose=function(){return Promise.all(this._runStageHooks("dispose",[]))};t.prototype.runPhase=function(t,e,n){var i=arguments;return new Promise(function(r,o){var s=this,a=i.length>3&&void 0!==i[3]&&i[3];return r(this[Kc].add(function(){return new Promise(function(i,r){return i(s._runPhase0(t,e,n,a))}.$asyncbind(this))}))}.$asyncbind(this))};t.prototype.runPhaseSync=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=yu(t);this._runStageHooks("before"+o+"Sync",e);var s=n.apply(void 0,e);this._runStage("after"+o,[].concat(e,[s])).catch(i);return r?null:s};t.prototype._runPhase0=function(t,e,n,i){return new Promise(function(r,o){var s,a;s=yu(t);return this._runStage("before"+s,e).then(function(t){a=n.apply(void 0,e);return this._runStage("after"+s,[].concat(e,[a])).then(function(t){return r(i?null:a)}.$asyncbind(this,o),o)}.$asyncbind(this,o),o)}.$asyncbind(this))};t.prototype._runStage=function(t,e){return new Promise(function(n,i){return n(Promise.all(this._runStageHooks(t,e)))}.$asyncbind(this))};t.prototype._runStageHooks=function(t,e){return this[Jc].filter(function(e){return null!=e[t]}).map(function(n){return n[t].apply(n,e)}).filter(Hc)};Ji(t,[{key:"plugins",get:function(){return this[Jc].slice()}}])}(),Symbol("subscribers")),Xc=Symbol("published"),tl=(function(){function t(){Yi(this,t);this[qc]={};this[Xc]=[]}t.prototype.subscribe=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==this[qc][e]&&(this[qc][e]=[]);this[qc][e].push({fn:t,ctx:n})};t.prototype.unsubscribe=function(t,e){var n=this[qc][e];if(null!=n)for(var i=n.length-1;i>=0;--i)n[i].fn===t&&n.splice(i,1)};t.prototype.publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(Zi.indexOf(t)>=0&&this.didPublish(t))){e=this._normalizeEventArgs(t,e);this[Xc].push({name:t,args:e});if(null!=this[qc][t])for(var n=this[qc][t].slice(),i=0;i<n.length;++i){var r=n[i],o=r.fn,s=r.ctx;o.apply(s,e)}}};t.prototype.didPublish=function(t){return this[Xc].some(function(e){var n=e.name;return t===n})};t.prototype._normalizeEventArgs=function(t,e){switch(t){case Ui.AdClickThru:var n=e[0],i=e[1],r=e[2];return["string"==typeof n?n:void 0,null!=i?i:"",null==r||!!r];default:return e}};Ji(t,[{key:"published",get:function(){return this[Xc]}}])}(),Object.keys(Ui).map(function(t){return Ui[t]}),"vast"),el=/^(?:application|text)\/(?:x-)?javascript$/i,nl=function(t){var e=t.type;return"VPAID"===t.apiFramework&&el.test(e)},il={probably:0,maybe:1},rl=(Gc={},Gc.vpaid=1,Gc.video=2,Gc[tl]=3,function(t){return t.width*t.height}),ol=function(t){return t.reduce(function(t,e){return rl(e)<rl(t)?e:t})},sl=function(t){return t.reduce(function(t,e){return rl(e)<rl(t)?t:e})},al=function(t,e,n,i){var r=null!=n?function(t){var e=t.maxWidth,n=t.maxHeight,i=t.maxBitrate;return function(t){var r=t.width,o=t.height,s=t.bitrate;return r<=e&&o<=n&&!(s>i)}}(n):function(){return!0},o=t.filter(r);if(o.length>0)return i(o);var s=e.filter(r);return s.length>0?i(s):null},ul=function(t){return t>0?t:1/0},cl=function(t,e,n,i,r){var o,s,a=(o=t,s=r,o.reduce(function(t,e){var n=s.canPlayType(e.type),i=il[n];null!=i&&t[i].push(e);return t},[[],[]])),u=a[0],c=a[1];if(u.length+c.length===0)return null;var l={maxWidth:ul(e),maxHeight:ul(n),maxBitrate:ul(i)};return al(u,c,l,sl)||al(u,c,null,ol)},ll=(Qc={},Qc[tl]=function(t){return t[0]},Qc.vpaid=function(t){return function(e){var n=t.filter(nl);return n.length>0?sl(n):null}()},Qc.video=function(t,e,n,i,r){var o=void 0;null!=r&&"function"==typeof r.canPlayType&&(o=cl(t,e,n,i,r));null==o&&(o=cl(t,e,n,i,document.createElement("video")));return o},e(function(t){t.exports=function(t,e){e=Object.assign({pascalCase:!1},e);var n=function(t){return e.pascalCase?t.charAt(0).toUpperCase()+t.slice(1):t};if(0===(t=Array.isArray(t)?t.map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length)return"";if(1===t.length)return e.pascalCase?t.toUpperCase():t.toLowerCase();if(/^[a-z\d]+$/.test(t))return n(t);t!==t.toLowerCase()&&(t=function(t){for(var e=!1,n=!1,i=!1,r=0;r<t.length;r++){var o=t[r];if(e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o){t=t.slice(0,r)+"-"+t.slice(r);e=!1;i=n;n=!0;r++}else if(n&&i&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o){t=t.slice(0,r-1)+"-"+t.slice(r-1);i=n;n=!1;e=!0}else{e=o.toLowerCase()===o;i=n;n=o.toUpperCase()===o}}return t}(t));return n(t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}))}}),function(t,e,n,i){return new Promise(function(r,o){var s,a;s=t.ownerDocument.createElement("iframe");a=Dc(s,"load");s.frameBorder="0";s.scrolling="no";!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!=t&&null!=t.style){var i=n?"important":"";Object.keys(e).forEach(function(n){t.style.setProperty(n,e[n],i)})}}(s,e,n);s.src=i;t.appendChild(s);return Promise.race([a,function(t){return new Promise(function(e,n){function i(){return null==t.contentWindow||null==t.contentWindow.document?Uc(100).then(function(t){return i}.$asyncbind(this,n),n):[1]}return Function.$asyncbind.trampoline(this,function(){return e()},i,n,!0)(i)}.$asyncbind(this))}(s)]).then(function(t){return r(s)}.$asyncbind(this,o),o)}.$asyncbind(this))}),hl={impression:"impression",error:"error",creativeView:"creativeView",start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",mute:"mute",unmute:"unmute",pause:"pause",rewind:"rewind",resume:"resume",fullscreen:"fullscreen",exitFullscreen:"exitFullscreen",expand:"expand",collapse:"collapse",acceptInvitation:"acceptInvitation",acceptInvitationLinear:"acceptInvitationLinear",close:"close",closeLinear:"closeLinear",skip:"skip",progress:"progress"},dl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t.attributes[e]?t.attributes[e].value:n},fl=function(t){return"string"==typeof t.textContent?t.textContent.trim():null},pl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=t.querySelector(e);return null!=i?fl(i):n},yl=function(t,e){for(var n=t.querySelectorAll(e),i=[],r=0;r<n.length;++r){var o=fl(n[r]);null!=o&&i.push(o)}return i},ml=function(t,e){for(var n=null,i=0;i<t.length&&null==n;){n=t[i].querySelector(e);++i}return n},vl=function(t,e){for(var n=[],i=0;i<t.length;++i){var r=t[i].querySelectorAll(e);n.push.apply(n,r)}return n},gl=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/,bl=["Unruly","unruly-opt-out"],_l=[],wl=function(t,e){_l.push([t,e])};wl("brandbar",function(t,e,n,i){var r=ml(i,"BrandBar");return null==r?null:{images:{left:pl(r,"LeftImage"),right:pl(r,"RightImage"),background:pl(r,"BackgroundImage")},backgroundColour:dl(r,"background-colour","transparent"),height:parseInt(dl(r,"height","0"),10)+"px",type:dl(r,"type","pushdown"),clicks:{clickThrough:pl(r,"BrandBarClicks > ClickThrough"),clickTracking:yl(r,"BrandBarClicks > ClickTracking")}}});wl("sharing",function(t,e,n,i){var r=ml(i,"Sharing");return null==r?null:{shareMessage:pl(r,"ShareMessage"),shareUrl:pl(r,"ShareUrl"),shareImage:pl(r,"ShareImage"),shareMedia:pl(r,"ShareMedia"),sharingPlatforms:Array.from(r.querySelectorAll("SharingPlatforms > SharingPlatform")).map(function(t){return{name:dl(t,"name"),shareTracking:yl(t,"ShareTracking")}})}});wl("viewability",function(t,e,n,i){for(var r=vl(i,"Viewability > Viewable"),o={},s=0;s<r.length;s++){var a=dl(r[s],"name");o[a]={};for(var u=r[s].querySelectorAll("Property"),c=0;c<u.length;c++){var l=u[c],h=dl(l,"name");""!==h&&(o[a][h]=fl(l))}}return o});wl("customTracking",function(t,e,n,i){for(var r=Object.create(null),o=vl(i,"CustomTrackingEvents > CustomTracking"),s=0;s<o.length;++s){var a=o[s],u=dl(a,"event"),c=fl(a);if(null!=u&&""!==u&&null!=c&&""!==c){null==r[u]&&(r[u]=[]);r[u].push(c)}}return r});wl("skip",function(t,e,n,i){var r={tracking:n.customTracking.skip},o=ml(i,'VASTOverrides > Attribute[name="skipoffset"]');if(null!=o){var s=fl(o);null!=s&&(r.skipOffset=function(t){var e=gl.exec(t);if(null==e)throw new Error('Failed to parse time "'+t+'"');return 60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])}(s))}if(null==r.skipoffset){var a=e.map(function(t){return t.creatives.get(0)}).filter(Boolean).find(function(t){return null!=t.skipoffset});null!=a&&(r.skipOffset=a.skipoffset.value)}return r});wl("privacy",function(t,e,n){var i=e[0].creatives,r={offsetTop:null==n.brandbar?0:n.brandbar.height},o=i.get(0),s=null!=o&&null!=o.icons?o.icons.find(function(t){return bl.indexOf(t.program)>=0}):null;if(null!=s){r.xPosition=s.xPosition;r.yPosition=s.yPosition;if(null!=s.clicks){null!=s.clicks.clickTrackings&&(r.tracking=s.clicks.clickTrackings.map(function(t){return t.uri}));null!=s.clicks.clickThrough&&(r.url=s.clicks.clickThrough.uri)}}return r});wl("properties",function(t,e,n,i){for(var r={},o=vl(i,"UnrulyCreative > Property[id]").filter(function(t){return"string"==typeof t.textContent}),s=0;s<o.length;++s){var a=o[s];r[dl(a,"id")]=fl(a)}return r});var kl,Al,Ll=function(t){var e=Object.create(null),n=t.map(function(t){return(null!=t.adPod&&t.adPod.ads.length>0?t.adPod:t).ads.get(0)}).filter(Boolean);if(n.length>0)for(var i=(u=n,Array.prototype.concat.apply([],u.map(function(t){return t.extensions.filter(function(t){return"Unruly"===t.type})})).map(function(t){return t.content}).filter(Boolean)),r=0;r<_l.length;++r){var o=_l[r],s=o[0],a=o[1];e[s]=a(t,n,e,i)}var u;return e},Ml=function(t,e){for(var n=t;null!=n&&e.length>0;)n=n[e.shift()];return n},Cl="__unrulyPageLoadId",Sl=!1,Il=function(){if(!1===Sl){var t=function(t){try{for(;null==t[Cl]&&t.parent!==t&&null!=t.parent.document;)t=t.parent;if(null!=t[Cl])return t}catch(t){}return null}(window);if(null!=t){var e=t.document.querySelector("iframe.nativeLoaderIframe");Sl={window:t,iframe:e,ids:{pageLoadId:t[Cl],siteId:Ml(t,["unruly","native","siteId"]),sessionId:Ml(e,["contentWindow","_sessionId"])}}}else Sl=null}return Sl},jl=window["be05ec6f-b325-41b1-b96f-2916d0998a25"]||{},Tl=function(t){var e=Number(t).toString(16);return(e.length<2?"0":"")+e},El=(function(t){function e(n,i,r){Yi(this,e);return qi(this,t.call(this,n,i,r,1))}Ki(e,t);e.fromJson=function(t){return new e(t.red,t.green,t.blue)};e.prototype.toRgbString=function(){return"rgb("+this._red+", "+this._green+", "+this._blue+")"};e.prototype.toHexString=function(){return"#"+[this._red,this._green,this._blue].map(Tl).join("")};e.prototype.toString=function(){return this.toRgbString()}}(function(){function t(e,n,i,r){Yi(this,t);this._red=e;this._green=n;this._blue=i;this._opacity=r}t.fromJson=function(e){return new t(e.red,e.green,e.blue,e.opacity)};t.prototype.toRgbaString=function(){return"rgba("+this._red+", "+this._green+", "+this._blue+", "+this._opacity+")"};t.prototype.toString=function(){return this.toRgbaString()};Ji(t,[{key:"red",get:function(){return this._red},set:function(t){this._red=t}},{key:"green",get:function(){return this._green},set:function(t){this._green=t}},{key:"blue",get:function(){return this._blue},set:function(t){this._blue=t}},{key:"opacity",get:function(){return this._opacity},set:function(t){this._opacity=t}}]);return t}()),function(){function t(e){var n=e.id;Yi(this,t);this._id=n;this._representations=[]}Ji(t,[{key:"id",get:function(){return this._id}},{key:"representations",get:function(){return this._representations}}]);return t}()),xl="https://assets.zentrick.io",Pl=function(t){return[t.charAt(0),t.substr(0,2),t].join("/")},Dl=function(){function t(e,n){Yi(this,t);this._asset=e;this._role=n.role;this._url=xl+"/"+Pl(e.id)+"/"+n.path}Ji(t,[{key:"role",get:function(){return this._role}},{key:"url",get:function(){return this._url}}]);return t}(),Ol=function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);return e}(Dl),Nl=(Al=El,Ki(function t(e){Yi(this,t);var n=qi(this,Al.call(this,e));n._representations.push(new Ol(n,{path:"source"}));return n},Al),function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this,n,i));r._width=i.width;r._height=i.height;r._mimeType=i.mimeType;return r}Ki(e,t);Ji(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"mimeType",get:function(){return this._mimeType}}]);return e}(Dl)),zl="media/360p30.mp4",Vl=(function(t){function e(n){Yi(this,e);var i=qi(this,t.call(this,n));i._duration=n.duration;if(null!=n.representations){var r;(r=i._representations).push.apply(r,n.representations.map(function(t){return new Nl(i,t)}))}else i._representations.push(new Nl(i,{path:zl}));return i}Ki(e,t);Ji(e,[{key:"duration",get:function(){return this._duration}}])}(El),function(t){function e(){Yi(this,e);return qi(this,t.apply(this,arguments))}Ki(e,t);return e}(Dl)),$l=(kl=El,Ki(function t(e){Yi(this,t);var n=qi(this,kl.call(this,e));n._representations.push(new Vl(n,{path:"source"}));return n},kl),{minWidth:0,minHeight:0}),Hl=function(){function t(e,n,i){Yi(this,t);this._vpaid=e;this._config=this._parseConfig(n);this._dom=i;this._breakpoints=[]}t.prototype.init=function(){var t=this;this._resize();this._vpaid.subscribe(function(){t._resize()},"AdSizeChange")};t.prototype._parseConfig=function(t){var e={};Object.keys(t).forEach(function(n){e[n]=Object.assign({},$l,t[n])});return e};t.prototype._resize=function(){var t=this;this._adWidth=this._vpaid.getAdWidth();this._adHeight=this._vpaid.getAdHeight();Object.keys(this._config).forEach(function(e){if(t._matches(t._config[e])){t._dom.classList.add(e);t._breakpoints.push(e)}else{t._dom.classList.remove(e);t._breakpoints.splice(t._breakpoints.indexOf(e),e)}})};t.prototype._matches=function(t){return this._matchesWidth(t)&&this._matchesHeight(t)};t.prototype._matchesWidth=function(t){return this._adWidth>=t.minWidth};t.prototype._matchesHeight=function(t){return this._adHeight>=t.minHeight};Ji(t,[{key:"breakpoints",get:function(){return this._breakpoints}}]);return t}(),Rl=e(function(t,e){!function(t){function e(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function n(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;i<r;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function i(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n].o==t.n){t.tag="#";return!0}}function r(t,e,n){for(var i=0,r=n.length;i<r;i++)if(n[i].c==t&&n[i].o==e)return!0}function o(t){return t.replace(p,"\\\\").replace(h,'\\"').replace(d,"\\n").replace(f,"\\r").replace(y,"\\u2028").replace(m,"\\u2029")}function s(t){return~t.indexOf(".")?"d":"f"}function a(t,e){var n="<"+(e.prefix||"")+t.n+g++;e.partials[n]={name:t.n,partials:{}};e.code+='t.b(t.rp("'+o(n)+'",c,p,"'+(t.indent||"")+'"));';return n}function u(t,e){e.code+="t.b(t.t(t."+s(t.n)+'("'+o(t.n)+'",c,p,0)));'}function c(t){return"t.b("+t+");"}var l=/\S/,h=/\"/g,d=/\n/g,f=/\r/g,p=/\\/g,y=/\u2028/,m=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12};t.scan=function(i,r){function o(){if(f.length>0){p.push({tag:"_t",text:new String(f)});f=""}}function s(e,n){o();if(e&&function(){for(var e=!0,n=v;n<p.length;n++)if(!(e=t.tags[p[n].tag]<t.tags._v||"_t"==p[n].tag&&null===p[n].text.match(l)))return!1;return e}()){for(var i,r=v;r<p.length;r++)if(p[r].text){(i=p[r+1])&&">"==i.tag&&(i.indent=p[r].text.toString());p.splice(r,1)}}else n||p.push({tag:"\n"});y=!1;v=p.length}function a(t,n){var i="="+b,r=t.indexOf(i,n),o=e(t.substring(t.indexOf("=",n)+1,r)).split(" ");g=o[0];b=o[o.length-1];return r+i.length-1}var u=i.length,c=0,h=null,d=null,f="",p=[],y=!1,m=0,v=0,g="{{",b="}}";if(r){r=r.split(" ");g=r[0];b=r[1]}for(m=0;m<u;m++)if(0==c)if(n(g,i,m)){--m;o();c=1}else"\n"==i.charAt(m)?s(y):f+=i.charAt(m);else if(1==c){m+=g.length-1;if("="==(h=(d=t.tags[i.charAt(m+1)])?i.charAt(m+1):"_v")){m=a(i,m);c=0}else{d&&m++;c=2}y=m}else if(n(b,i,m)){p.push({tag:h,n:e(f),otag:g,ctag:b,i:"/"==h?y-g.length:m+b.length});f="";m+=b.length-1;c=0;"{"==h&&("}}"==b?m++:"}"===(_=p[p.length-1]).n.substr(_.n.length-1)&&(_.n=_.n.substring(0,_.n.length-1)))}else f+=i.charAt(m);var _;s(y,!0);return p};var v={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,i){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+function t(e){var n=[];for(var i in e.partials)n.push('"'+o(i)+'":{name:"'+o(e.partials[i].name)+'", '+t(e.partials[i])+"}");return"partials: {"+n.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+o(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(e.subs)}(e)+"}"};var g=0;t.generate=function(e,n,i){g=0;var r={code:"",subs:{},partials:{}};t.walk(e,r);return i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)};t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"};t.template=t.Template;t.makeTemplate=function(t,e,n){var i=this.makePartials(t);i.code=new Function("c","p","i",this.wrapMain(t.code));return new this.template(i,e,this,n)};t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n};t.codegen={"#":function(e,n){n.code+="if(t.s(t."+s(e.n)+'("'+o(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){';t.walk(e.nodes,n);n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+s(e.n)+'("'+o(e.n)+'",c,p,1),c,p,1,0,0,"")){';t.walk(e.nodes,n);n.code+="};"},">":a,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[a(e,n)];r.subs=i.subs;r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i);n.subs[e.n]=i.code;n.inPartial||(n.code+='t.sub("'+o(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=c('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+s(t.n)+'("'+o(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=c('"'+o(t.text)+'"')},"{":u,"&":u};t.walk=function(e,n){for(var i,r=0,o=e.length;r<o;r++)(i=t.codegen[e[r].tag])&&i(e[r],n);return n};t.parse=function(e,n,o){return function e(n,o,s,a){var u=[],c=null,l=null,h=null;l=s[s.length-1];for(;n.length>0;){h=n.shift();if(l&&"<"==l.tag&&!(h.tag in v))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||i(h,a)){s.push(h);h.nodes=e(n,h.tag,s,a)}else{if("/"==h.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+h.n);c=s.pop();if(h.n!=c.n&&!r(h.n,c.n,a))throw new Error("Nesting error: "+c.n+" vs. "+h.n);c.end=h.i;return u}"\n"==h.tag&&(h.last=0==n.length||"\n"==n[0].tag)}u.push(h)}if(s.length>0)throw new Error("missing closing tag: "+s.pop().n);return u}(e,0,[],(o=o||{}).sectionTags||[])};t.cache={};t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")};t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];if(r){var o=r.partials;for(var s in o)delete o[s].instance;return r}r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n);return this.cache[i]=r}}(e)}),Fl=e(function(e,n){!function(e){function n(e,n,i){var r;n&&"object"==(void 0===n?"undefined":t(n))&&(void 0!==n[e]?r=n[e]:i&&n.get&&"function"==typeof n.get&&(r=n.get(e)));return r}function i(t){return String(null===t||void 0===t?"":t)}e.Template=function(t,e,n,i){t=t||{};this.r=t.code||this.r;this.c=n;this.options=i||{};this.text=e||"";this.partials=t.partials||{};this.subs=t.subs||{};this.buf=""};e.Template.prototype={r:function(t,e,n){return""},v:function(t){t=i(t);return c.test(t)?t.replace(r,"&amp;").replace(o,"&lt;").replace(s,"&gt;").replace(a,"&#39;").replace(u,"&quot;"):t},t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;this.partials[t].base=i;if(n.subs){e.stackText||(e.stackText={});for(key in n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=function(t,e,n,i,r,o){function s(){}function a(){}s.prototype=t;a.prototype=t.subs;var u,c=new s;c.subs=new a;c.subsText={};c.buf="";i=i||{};c.stackSubs=i;c.subsText=o;for(u in e)i[u]||(i[u]=e[u]);for(u in i)c.subs[u]=i[u];r=r||{};c.stackPartials=r;for(u in n)r[u]||(r[u]=n[u]);for(u in r)c.partials[u]=r[u];return c}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}this.partials[t].instance=i;return i},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(l(i))for(var r=0;r<i.length;r++){t.push(i[r]);n(t,e,this);t.pop()}else n(t,e,this)},s:function(e,n,i,r,o,s,a){var u;if(l(e)&&0===e.length)return!1;"function"==typeof e&&(e=this.ms(e,n,i,r,o,s,a));u=!!e;!r&&u&&n&&n.push("object"==(void 0===e?"undefined":t(e))?e:n[n.length-1]);return u},d:function(t,e,i,r){var o,s=t.split("."),a=this.f(s[0],e,i,r),u=this.options.modelGet,c=null;if("."===t&&l(e[e.length-2]))a=e[e.length-1];else for(var h=1;h<s.length;h++)if(void 0!==(o=n(s[h],a,u))){c=a;a=o}else a="";if(r&&!a)return!1;if(!r&&"function"==typeof a){e.push(c);a=this.mv(a,e,i);e.pop()}return a},f:function(t,e,i,r){for(var o=!1,s=!1,a=this.options.modelGet,u=e.length-1;u>=0;u--)if(void 0!==(o=n(t,e[u],a))){s=!0;break}if(!s)return!r&&"";r||"function"!=typeof o||(o=this.mv(o,e,i));return o},ls:function(t,e,n,r,o){var s=this.options.delimiters;this.options.delimiters=o;this.b(this.ct(i(t.call(e,r)),e,n));this.options.delimiters=s;return!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;this.buf="";return t},ms:function(t,e,n,i,r,o,s){var a,u=e[e.length-1],c=t.call(u);if("function"==typeof c){if(i)return!0;a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text;return this.ls(c,u,n,a.substring(r,o),s)}return c},mv:function(t,e,n){var r=e[e.length-1],o=t.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(t,e,n,i){var r=this.subs[t];if(r){this.activeSub=t;r(e,n,this,i);this.activeSub=!1}}};var r=/&/g,o=/</g,s=/>/g,a=/\'/g,u=/\"/g,c=/[&<>\"\']/,l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(n)});Rl.Template=Fl.Template;Rl.template=Rl.Template;var Ul=Rl,Wl=new Ul.Template({code:function(t,e,n){this.b(n=n||"");this.b('<div class="banner">');this.b("\n"+n);this.b('  <div class="image-side image-left"></div>');this.b("\n"+n);this.b('  <div class="image-side image-right"></div>');this.b("\n"+n);this.b("</div>");this.b("\n");return this.fl()},partials:{},subs:{}}),Bl=function(t){var e={};!function t(e,n,i,r){Object.keys(e).forEach(function(o){var s=[].concat(i,[o]),a=s.join(n);null!=e[o]&&"object"===Qi(e[o])?t(e[o],n,s,r):r[a]=e[o]})}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",[],e);return e},Zl={s:{minHeight:0},m:{minHeight:250}},Gl=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this));r._settings=i;r._view=n;r._disposables=new go;r._isMobile=/\b(Android|iPad|iPhone|Windows Phone|[Mm]obile)\b/.test(navigator.userAgent);return r}Ki(e,t);e.prototype.init=function(){return new Promise(function(t,e){var n=Object.assign({rootSelector:this._view.selector},this._settings);delete n.clicks;Object.keys(n.images).forEach(function(t){n.images[t]=(e=n.images[t],e?"url("+e+")":"none");var e});var i=Bl(n,"-");return t({html:Wl.render(i),css:(r=i,r.rootSelector+" .banner{position:absolute;top:0;width:100%;background-color:"+r.backgroundColour+";background-size:cover;background-image:"+r["images-background"]+";background-position-x:center;transition:opacity .25s ease-in-out;cursor:pointer}"+r.rootSelector+" .banner.s{height:20%}"+r.rootSelector+" .banner.m{height:"+r.height+"}"+r.rootSelector+" .banner.effect-hover{opacity:0}"+r.rootSelector+" .banner .image-side{position:absolute;width:50%;height:100%;background-size:contain;background-repeat:no-repeat}"+r.rootSelector+" .banner .image-left{left:0;background-image:"+r["images-left"]+";background-position:0}"+r.rootSelector+" .banner .image-right{right:0;background-image:"+r["images-right"]+";background-position:100%}")});var r}.$asyncbind(this))};e.prototype.initHover=function(){var t=this._view._parentElement.parentElement,e=this._view._parentElement.querySelector(".banner");t.addEventListener("mouseenter",function(){e.style.opacity=1});t.addEventListener("mouseleave",function(){e.style.opacity=0})};e.prototype.run=function(t){return new Promise(function(e,n){var i=this;if("hover"===this._settings.type&&!this._isMobile){t.className+=" effect-hover";this.initHover()}this._disposables.addEventListener(t,"click",function(t){t.preventDefault();i.dispatchEvent({type:"navigate",url:i._settings.clicks.clickThrough,name:"banner"})});new Hl(this._view.vpaid,Zl,t).init();return e()}.$asyncbind(this))};Ji(e,[{key:"disposable",get:function(){return this._disposables}}]);return e}(to),Ql=new Ul.Template({code:function(t,e,n){this.b(n=n||"");this.b('<div class="sharing">');this.b("\n"+n);this.b('  \x3c!-- <div class="btn-share facebook"></div> --\x3e');this.b("\n"+n);this.b("</div>");this.b("\n");return this.fl()},partials:{},subs:{}}),Yl=new Image;Yl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIuOSwxMC4xdjEyLjJjMCwwLjQtMC4zLDAuOC0wLjgsMC44aC0zLjV2LTUuM2gxLjhsMC4zLTIuMWgtMnYtMS4zYzAtMC42LDAuMi0xLDEtMWwxLjEsMHYtMS44CgkJYy0wLjIsMC0wLjgtMC4xLTEuNi0wLjFjLTEuNiwwLTIuNywxLTIuNywyLjd2MS41aC0xLjh2Mi4xaDEuOFYyM0g5LjljLTAuNCwwLTAuOC0wLjMtMC44LTAuOFYxMC4xYzAtMC40LDAuMy0wLjgsMC44LTAuOGgxMi4yCgkJQzIyLjUsOS4zLDIyLjksOS43LDIyLjksMTAuMXoiLz4KPC9nPgo8L3N2Zz4K";var Jl=new Image;Jl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjEuNiwxMy4zYzAsMC4xLDAsMC4zLDAsMC40YzAsMy44LTIuOSw4LjItOC4yLDguMmMtMS42LDAtMy4yLTAuNS00LjQtMS4zYzAuMiwwLDAuNSwwLDAuNywwCgkJYzEuMywwLDIuNi0wLjUsMy42LTEuMmMtMS4zLDAtMi4zLTAuOS0yLjctMmMwLjIsMCwwLjQsMCwwLjUsMGMwLjMsMCwwLjUsMCwwLjgtMC4xYy0xLjMtMC4zLTIuMy0xLjQtMi4zLTIuOGMwLDAsMCwwLDAsMAoJCWMwLjQsMC4yLDAuOCwwLjMsMS4zLDAuNGMtMC44LTAuNS0xLjMtMS40LTEuMy0yLjRjMC0wLjUsMC4xLTEsMC40LTEuNWMxLjQsMS44LDMuNiwyLjksNS45LDNjMC0wLjItMC4xLTAuNC0wLjEtMC43CgkJYzAtMS42LDEuMy0yLjksMi45LTIuOWMwLjgsMCwxLjYsMC4zLDIuMSwwLjljMC43LTAuMSwxLjMtMC40LDEuOC0wLjdjLTAuMiwwLjctMC43LDEuMi0xLjMsMS42YzAuNi0wLjEsMS4xLTAuMiwxLjctMC40CgkJQzIyLjYsMTIuNCwyMi4xLDEyLjksMjEuNiwxMy4zeiIvPgo8L2c+Cjwvc3ZnPgo=";var Kl=new Image;Kl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAuOCwxMi42TDEwLjgsMTIuNmMtMSwwLTEuNi0wLjctMS42LTEuNWMwLTAuOSwwLjctMS41LDEuNy0xLjVjMSwwLDEuNiwwLjcsMS42LDEuNQoJCUMxMi41LDExLjksMTEuOCwxMi42LDEwLjgsMTIuNnogTTEyLjMsMjIuNkg5LjN2LTguOGgyLjlWMjIuNnogTTIyLjksMjIuNmgtMi45di00LjdjMC0xLjItMC40LTItMS41LTJjLTAuOCwwLTEuMywwLjUtMS41LDEuMQoJCWMtMC4xLDAuMi0wLjEsMC41LTAuMSwwLjd2NC45aC0yLjljMC04LDAtOC44LDAtOC44aDIuOVYxNWgwYzAuNC0wLjYsMS4xLTEuNSwyLjctMS41YzEuOSwwLDMuNCwxLjMsMy40LDRWMjIuNnoiLz4KPC9nPgo8L3N2Zz4K";var ql=new Image;ql.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTYsMjNjLTAuNywwLTEuMy0wLjEtMS45LTAuM2MwLjMtMC40LDAuNi0wLjksMC43LTEuNWMwLDAsMC4xLTAuMywwLjUtMS45YzAuMiwwLjUsMC45LDAuOSwxLjcsMC45CgkJYzIuMiwwLDMuNy0yLDMuNy00LjdjMC0yLTEuNy0zLjktNC4zLTMuOWMtMy4yLDAtNC45LDIuMy00LjksNC4zYzAsMS4yLDAuNCwyLjIsMS40LDIuNmMwLjIsMC4xLDAuMywwLDAuMy0wLjIKCQljMC0wLjEsMC4xLTAuNCwwLjEtMC41YzAtMC4yLDAtMC4yLTAuMS0wLjRjLTAuMy0wLjMtMC41LTAuNy0wLjUtMS4zYzAtMS43LDEuMy0zLjMsMy40LTMuM2MxLjgsMCwyLjksMS4xLDIuOSwyLjYKCQljMCwyLTAuOSwzLjYtMi4yLDMuNmMtMC43LDAtMS4zLTAuNi0xLjEtMS4zYzAuMi0wLjksMC42LTEuOCwwLjYtMi40YzAtMC42LTAuMy0xLTAuOS0xYy0wLjcsMC0xLjMsMC44LTEuMywxLjhjMCwwLDAsMC43LDAuMiwxLjEKCQljLTAuOCwzLjItMC45LDMuNy0wLjksMy43Yy0wLjEsMC41LTAuMSwxLjEtMC4xLDEuNmMtMi40LTEuMS00LjEtMy41LTQuMS02LjNjMC0zLjgsMy4xLTYuOSw2LjktNi45YzMuOCwwLDYuOSwzLjEsNi45LDYuOQoJCUMyMi45LDIwLDE5LjgsMjMsMTYsMjN6Ii8+CjwvZz4KPC9zdmc+Cg==";var Xl=new Image;Xl.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTYsMjQuMmMtNC40LDAtOC0zLjYtOC04YzAtNC40LDMuNi04LDgtOGM0LjQsMCw4LDMuNiw4LDhDMjQsMjAuNiwyMC40LDI0LjIsMTYsMjQuMnogTTE5LjcsMTQuOAoJCWMtMC4zLDAtMC42LDAuMS0wLjgsMC4zYy0wLjctMC41LTEuNy0wLjgtMi44LTAuOWwwLjYtMi41bDEuOCwwLjRjMCwwLjQsMC40LDAuOCwwLjgsMC44YzAuNCwwLDAuOC0wLjQsMC44LTAuOHMtMC40LTAuOC0wLjgtMC44CgkJYy0wLjMsMC0wLjYsMC4yLTAuNywwLjRsLTItMC40Yy0wLjEsMC0wLjIsMC0wLjIsMC4xbC0wLjYsMi44Yy0xLjEsMC0yLDAuNC0yLjgsMC45Yy0wLjItMC4yLTAuNS0wLjMtMC44LTAuMwoJCWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xYzAsMC40LDAuMywwLjgsMC42LDFjMCwwLjItMC4xLDAuMy0wLjEsMC41YzAsMS43LDEuOSwzLjEsNC4zLDMuMWMyLjQsMCw0LjMtMS40LDQuMy0zLjEKCQljMC0wLjIsMC0wLjMtMC4xLTAuNWMwLjMtMC4yLDAuNi0wLjUsMC42LTFDMjAuOCwxNS4zLDIwLjMsMTQuOCwxOS43LDE0Ljh6IE0xNC4yLDE3LjhjLTAuNCwwLTAuOC0wLjQtMC44LTAuOAoJCWMwLTAuNCwwLjQtMC44LDAuOC0wLjhjMC40LDAsMC44LDAuNCwwLjgsMC44QzE1LDE3LjQsMTQuNywxNy44LDE0LjIsMTcuOHogTTE3LjgsMTguOWMtMC41LDAuNS0xLjUsMC42LTEuOCwwLjYKCQljLTAuMywwLTEuMywwLTEuOC0wLjZjLTAuMS0wLjEtMC4xLTAuMiwwLTAuM2MwLjEtMC4xLDAuMi0wLjEsMC4zLDBjMC4zLDAuMywxLDAuNCwxLjUsMC40YzAuNSwwLDEuMi0wLjEsMS41LTAuNAoJCWMwLjEtMC4xLDAuMi0wLjEsMC4zLDBDMTcuOSwxOC43LDE3LjksMTguOCwxNy44LDE4Ljl6IE0xNy44LDE3LjhjLTAuNCwwLTAuOC0wLjQtMC44LTAuOGMwLTAuNCwwLjQtMC44LDAuOC0wLjgKCQljMC40LDAsMC44LDAuNCwwLjgsMC44QzE4LjYsMTcuNCwxOC4yLDE3LjgsMTcuOCwxNy44eiIvPgo8L2c+Cjwvc3ZnPgo=";var th=new Image;th.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjAuNiwyMi4yQzIwLjMsMjIuNiwxOS4xLDIzLDE4LDIzYy0zLjIsMC4xLTQuNS0yLjMtNC41LTR2LTQuOUgxMnYtMS45YzIuMi0wLjgsMi44LTIuOCwyLjktNAoJCWMwLTAuMSwwLjEtMC4xLDAuMS0wLjFjMCwwLDAsMCwyLjIsMFYxMmgzdjIuM2gtM3Y0LjZjMCwwLjYsMC4yLDEuNSwxLjQsMS41YzAuNCwwLDAuOS0wLjEsMS4yLTAuM0wyMC42LDIyLjJ6Ii8+CjwvZz4KPC9zdmc+Cg==";var eh=new Image;eh.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTYsMjNjLTMuOCwwLTYuOS0zLjEtNi45LTYuOWMwLTMuOCwzLjEtNi45LDYuOS02LjljMy44LDAsNi45LDMuMSw2LjksNi45QzIyLjksMjAsMTkuOCwyMywxNiwyM3oKCQkgTTE3LjMsMTUuN0gxNHYxLjJIMTZjLTAuMSwwLjktMSwxLjUtMS45LDEuNWMtMS4yLDAtMi4xLTEtMi4xLTIuMmMwLTEuMiwwLjktMi4yLDIuMS0yLjJjMC41LDAsMSwwLjIsMS40LDAuNWwwLjktMC45CgkJYy0wLjYtMC42LTEuNC0wLjktMi4zLTAuOWMtMS45LDAtMy40LDEuNS0zLjQsMy40czEuNSwzLjQsMy40LDMuNGMyLDAsMy4zLTEuNCwzLjMtMy4zQzE3LjMsMTYuMSwxNy4zLDE1LjksMTcuMywxNS43eiBNMjEuNCwxNi43CgkJdi0xaC0xdi0xaC0xdjFoLTF2MWgxdjFoMXYtMUgyMS40eiIvPgo8L2c+Cjwvc3ZnPgo=";var nh=new Image;nh.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTYuOSwxMy41YzAtMC41LTAuNC0wLjktMC45LTAuOXMtMC45LDAuNC0wLjksMC45djUuNWMwLDIuMS0xLjcsMy44LTMuOCwzLjhjLTIuMSwwLTMuOC0xLjctMy44LTMuOAoJCWMwLDAsMCwwLDAtMi40aDIuOXYyLjNjMCwwLjUsMC40LDAuOSwwLjksMC45czAuOS0wLjQsMC45LTAuOXYtNS41YzAtMiwxLjgtMy43LDMuOC0zLjdjMi4xLDAsMy44LDEuNywzLjgsMy43djEuMmwtMS43LDAuNQoJCWwtMS4yLTAuNVYxMy41eiBNMjQuNiwxNi41YzAsMi4zLDAsMi40LDAsMi40YzAsMi4xLTEuNywzLjgtMy44LDMuOGMtMi4xLDAtMy44LTEuNy0zLjgtMy44di0yLjRsMS4yLDAuNWwxLjctMC41VjE5CgkJYzAsMC41LDAuNCwwLjksMC45LDAuOXMwLjktMC40LDAuOS0wLjl2LTIuNUgyNC42eiIvPgo8L2c+Cjwvc3ZnPgo=";var ih=new Image;ih.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIuOSwxNmMwLDMuNy0zLDYuNy02LjcsNi43Yy0xLjEsMC0yLjMtMC4zLTMuMy0wLjhsLTMuNywxLjJsMS4yLTMuNmMtMC42LTEtMS0yLjMtMS0zLjUKCQljMC0zLjcsMy02LjcsNi43LTYuN0MxOS44LDkuMywyMi45LDEyLjMsMjIuOSwxNnogTTIxLjcsMTZjMC0zLjEtMi41LTUuNi01LjYtNS42Yy0zLjEsMC01LjYsMi41LTUuNiw1LjZjMCwxLjIsMC40LDIuMywxLjEsMy4zCgkJbC0wLjcsMi4xbDIuMi0wLjdjMC45LDAuNiwyLDAuOSwzLjEsMC45QzE5LjIsMjEuNiwyMS43LDE5LjEsMjEuNywxNnogTTE5LjYsMTcuN2MwLDAsMCwwLjEsMCwwLjFjMCwwLjItMC4xLDAuNS0wLjIsMC43CgkJYy0wLjIsMC41LTEsMC44LTEuNSwwLjhjLTAuNCwwLTEuMy0wLjQtMS43LTAuNmMtMS4zLTAuNi0yLjEtMS42LTIuOC0yLjdjLTAuMy0wLjUtMC42LTEuMS0wLjYtMS43di0wLjFjMC0wLjYsMC4yLTEsMC43LTEuNAoJCWMwLjEtMC4xLDAuMy0wLjIsMC41LTAuMmMwLjEsMCwwLjIsMCwwLjMsMGMwLjIsMCwwLjMsMC4xLDAuNCwwLjNjMC4xLDAuMiwwLjUsMS40LDAuNSwxLjVjMCwwLjMtMC42LDAuNy0wLjYsMC45YzAsMCwwLDAuMSwwLDAuMQoJCWMwLjIsMC40LDAuNiwwLjksMC45LDEuMmMwLjQsMC40LDAuOCwwLjcsMS4zLDAuOWMwLjEsMCwwLjEsMC4xLDAuMiwwLjFjMC4zLDAsMC43LTAuOSwwLjktMC45QzE4LjEsMTYuOSwxOS41LDE3LjYsMTkuNiwxNy43eiIvPgo8L2c+Cjwvc3ZnPgo=";var rh=new Image;rh.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMiAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzIgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIuNSwxNC4zYy0xLjQsMS0yLjgsMS45LTQuMiwyLjljLTAuNiwwLjQtMS42LDEuMi0yLjMsMS4yaDBoMGMtMC43LDAtMS43LTAuOC0yLjMtMS4yCgkJYy0xLjQtMS0yLjgtMS45LTQuMi0yLjlDOC45LDEzLjksOCwxMi45LDgsMTIuMWMwLTAuOSwwLjUtMS42LDEuNC0xLjZoMTMuMWMwLjgsMCwxLjQsMC42LDEuNCwxLjRDMjQsMTIuOSwyMy4zLDEzLjgsMjIuNSwxNC4zegoJCSBNMjQsMjEuNmMwLDAuOC0wLjYsMS40LTEuNCwxLjRIOS40QzguNiwyMyw4LDIyLjQsOCwyMS42di03LjFjMC4zLDAuMywwLjYsMC42LDAuOSwwLjhjMS41LDEsMywyLDQuNCwzLjEKCQljMC44LDAuNiwxLjcsMS4yLDIuNywxLjJoMGgwYzEsMCwxLjktMC43LDIuNy0xLjJjMS41LTEuMSwzLTIuMSw0LjQtMy4xYzAuMy0wLjIsMC42LTAuNSwwLjktMC44VjIxLjZ6Ii8+CjwvZz4KPC9zdmc+Cg==";var oh={facebook:Yl,twitter:Jl,linkedin:Kl,pinterest:ql,reddit:Xl,tumblr:th,googleplus:eh,stumbleupon:nh,whatsapp:ih,email:rh},sh={s:{minHeight:0},m:{minHeight:250}},ah=/\b(Android|[Mm]obile)\b/.test(navigator.userAgent),uh=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this));r._settings=i;r._view=n;r._disposables=new go;r._shareUrls={};return r}Ki(e,t);e.prototype.init=function(){return new Promise(function(t,e){var n=Object.assign({rootSelector:this._view.selector},this._settings),i=Bl(n,"-");return t({html:Ql.render(i),css:(r=i,r.rootSelector+" .sharing.s{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"+r.rootSelector+" .sharing.m{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"+r.rootSelector+" .sharing{position:absolute;left:0;width:32px;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"+r.rootSelector+" .sharing .btn-share{width:32px;height:32px;min-height:32px;background:#000;cursor:pointer}"+r.rootSelector+" .sharing .btn-share img{background:none;width:100%;height:100%}"+r.rootSelector+" .sharing .btn-share.facebook{background:#293e68}"+r.rootSelector+" .sharing .btn-share.facebook:hover{background:#3b5996}"+r.rootSelector+" .sharing .btn-share.twitter{background:#3e638d}"+r.rootSelector+" .sharing .btn-share.twitter:hover{background:#598fcb}"+r.rootSelector+" .sharing .btn-share.linkedin{background:#007ab6}"+r.rootSelector+" .sharing .btn-share.linkedin:hover{background:#29d}"+r.rootSelector+" .sharing .btn-share.pinterest{background:#8c161a}"+r.rootSelector+" .sharing .btn-share.pinterest:hover{background:#c92026}"+r.rootSelector+" .sharing .btn-share.reddit{background:#3e638d}"+r.rootSelector+" .sharing .btn-share.reddit:hover{background:#c92026}"+r.rootSelector+" .sharing .btn-share.tumblr{background:#3e638d}"+r.rootSelector+" .sharing .btn-share.tumblr:hover{background:#c92026}"+r.rootSelector+" .sharing .btn-share.googleplus{background:#3e638d}"+r.rootSelector+" .sharing .btn-share.googleplus:hover{background:#598fcb}"+r.rootSelector+" .sharing .btn-share.stumbleupon{background:#000}"+r.rootSelector+" .sharing .btn-share.stumbleupon:hover{background:#111}"+r.rootSelector+" .sharing .btn-share.email{background:#333}"+r.rootSelector+" .sharing .btn-share.email:hover{background:#555}"+r.rootSelector+" .sharing .btn-share.whatsapp{background:#25d366}"+r.rootSelector+" .sharing .btn-share.whatsapp:hover{background:#2bed6c}")});var r}.$asyncbind(this))};e.prototype.run=function(t){return new Promise(function(e,n){var i=this,r=t.ownerDocument||document;this._shareUrls={facebook:"http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this._settings.shareUrl),whatsapp:"whatsapp://send?text="+encodeURIComponent(this._settings.shareMessage)+"%20"+encodeURIComponent(this._settings.shareUrl),twitter:"http://twitter.com/home?status="+encodeURIComponent(this._settings.shareMessage)+"+-+"+encodeURIComponent(this._settings.shareUrl),linkedin:"http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(this._settings.shareUrl)+"&title="+encodeURIComponent(this._settings.shareMessage),pinterest:"http://pinterest.com/pin/create/button/?url="+encodeURIComponent(this._settings.shareUrl)+"&description="+encodeURIComponent(this._settings.shareMessage)+"&media="+encodeURIComponent(this._settings.shareMedia||this._settings.shareImage||"")};this._settings.sharingPlatforms.filter(function(t){return i._shareUrls.hasOwnProperty(t.name)}).forEach(function(e){("whatsapp"!==e.name||ah)&&t.appendChild(i._getShareButton(e,r))});new Hl(this._view.vpaid,sh,t).init();return e()}.$asyncbind(this))};e.prototype._getShareButton=function(t,e){var n=this,i=e.createElement("div");i.className="btn-share "+t.name;var r=oh[t.name];r&&i.appendChild(r);this._disposables.addEventListener(i,"click",function(e){e.preventDefault();n.share(t.name);t.shareTracking.forEach(function(t){return n.track(t)})});return i};e.prototype.share=function(t){this.dispatchEvent({type:"navigate",url:this._shareUrls[t],name:"social"})};e.prototype.track=function(t){this.dispatchEvent({type:"track",url:t})};Ji(e,[{key:"disposable",get:function(){return this._disposables}}]);return e}(to),ch=new Ul.Template({code:function(t,e,n){this.b(n=n||"");this.b('<div class="skip" style="display:none">');this.b("\n"+n);this.b('  <div class="text">');this.b("\n"+n);this.b("  </div>");this.b("\n"+n);this.b("</div>");this.b("\n");return this.fl()},partials:{},subs:{}}),lh=new Image;lh.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAzMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMC40LDIyLjdWOS42YzAtMC4zLDAuMi0wLjQsMC40LTAuMmw2LjMsNi4zYzAuMSwwLjEsMC4xLDAuMSwwLjEsMC4yVjkuOWMwLTAuMywwLjMtMC42LDAuNi0wLjZIOQoJCWMwLjMsMCwwLjYsMC4zLDAuNiwwLjZ2MTIuNkM5LjYsMjIuOCw5LjMsMjMsOSwyM0g3LjljLTAuMywwLTAuNi0wLjMtMC42LTAuNnYtNi4xYzAsMC4xLTAuMSwwLjEtMC4xLDAuMmwtNi4zLDYuMwoJCUMwLjYsMjMuMSwwLjQsMjMuMSwwLjQsMjIuN3oiLz4KPC9nPgo8L3N2Zz4K";var hh={xs:{},sm:{minWidth:544},md:{minWidth:768},lg:{minWidth:992},xl:{minWidth:1200}},dh=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this));r._settings=i;r._view=n;r._disposables=new go;r._dom=null;r._textEl=null;r._skippable=!1;r._hidden="number"!=typeof r._settings.skipOffset;return r}Ki(e,t);e.prototype.init=function(){return new Promise(function(t,e){if(this._hidden)return t({html:"",css:""});var n=Object.assign({rootSelector:this._view.selector},this._settings),i=Bl(n,"-");return t({html:ch.render(i),css:(r=i,r.rootSelector+" .skip{font-size:12px;height:32px;line-height:32px;background:rgba(0,0,0,.5);padding:0 10px;position:absolute;bottom:5em;right:0;color:#fff;font-family:Arial,Helvetica,sans-serif;cursor:default}"+r.rootSelector+" .skip.md{font-size:14px}"+r.rootSelector+" .skip.lg{font-size:18px}"+r.rootSelector+" .skip.xl{font-size:22px}"+r.rootSelector+" .skip .icon{display:none;margin-left:5px;height:100%;float:right}"+r.rootSelector+" .skip.enabled{cursor:pointer}"+r.rootSelector+" .skip.enabled .text{float:left}"+r.rootSelector+" .skip.enabled .icon{display:block}")});var r}.$asyncbind(this))};e.prototype.run=function(t){return new Promise(function(e,n){if(!this._hidden){this._dom=t;this._textEl=this._dom.querySelector(".text");lh.className="icon";t.appendChild(lh);new Hl(this._view.vpaid,hh,t).init()}return e()}.$asyncbind(this))};e.prototype.skip=function(){this.dispatchEvent({type:"skip"})};e.prototype.track=function(t){this.dispatchEvent({type:"track",url:t})};e.prototype.setCurrentTime=function(t){if(!this._hidden){this._renderRemainingTime(this._settings.skipOffset-t);t>0&&this._dom.style.setProperty("display","","")}};e.prototype._renderRemainingTime=function(t){if(t>0){this.skippable=!1;this._textEl.innerText="You can skip this video in "+Math.ceil(t)+"s"}else this.skippable=!0};Ji(e,[{key:"disposable",get:function(){return this._disposables}},{key:"skippable",get:function(){return this._skippable},set:function(t){var e=this;if(t!==this._skippable){this._skippable=t;if(!0===t){this._dom.classList.add("enabled");this._textEl.innerText="Skip";this._disposables.addEventListener(this._dom,"click",function(t){t.preventDefault();e.skip();null!=e._settings.tracking&&e._settings.tracking.forEach(function(t){return e.track(t)})})}else{this._dom.classList.remove("enabled");this._textEl.innerText="";this._disposables.dispose()}}}}]);return e}(to),fh=new Ul.Template({code:function(t,e,n){this.b(n=n||"");this.b('<div class="privacy">');this.b("\n"+n);this.b("</div>");this.b("\n");return this.fl()},partials:{},subs:{}}),ph=new Image;ph.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMi4zLDIuM0MzLjksMC44LDUuOCwwLDgsMHM0LjEsMC44LDUuNywyLjNDMTUuMiwzLjksMTYsNS44LDE2LDhzLTAuOCw0LjEtMi4zLDUuN1MxMC4yLDE2LDgsMTYKCQlzLTQuMS0wLjgtNS43LTIuM1MwLDEwLjIsMCw4UzAuOCwzLjksMi4zLDIuM3ogTTMuNSwxMi41YzEuMywxLjMsMi44LDEuOSw0LjUsMS45czMuMy0wLjYsNC41LTEuOXMxLjktMi44LDEuOS00LjUKCQljMC0xLjgtMC42LTMuMy0xLjktNC41QzExLjMsMi4yLDkuOCwxLjYsOCwxLjZTNC43LDIuMiwzLjUsMy41QzIuMiw0LjcsMS42LDYuMiwxLjYsOEMxLjYsOS44LDIuMiwxMS4zLDMuNSwxMi41eiBNNy4yLDUuNlY0aDEuNgoJCXYxLjZINy4yeiBNNy4yLDEyVjcuMmgxLjZWMTJINy4yeiIvPgo8L2c+Cjwvc3ZnPgo=";var yh=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this));r._settings=i;r._view=n;r._disposables=new go;r._hidden="string"!=typeof r._settings.url;return r}Ki(e,t);e.prototype.init=function(){return new Promise(function(t,e){if(this._hidden)return t({html:"",css:""});var n=Object.assign({rootSelector:this._view.selector},this._settings),i=Bl(n,"-");return t({html:fh.render(i),css:(r=i,r.rootSelector+" .privacy{width:20px;height:20px;position:absolute;right:10px;top:10px;cursor:pointer}"+r.rootSelector+" .privacy .icon{height:100%}"+r.rootSelector+" .privacy.bottom{top:auto;bottom:10px}"+r.rootSelector+" .privacy.left{right:auto;left:10px}")});var r}.$asyncbind(this))};e.prototype.run=function(t){return new Promise(function(e,n){var i=this;if(!this._hidden){t.className=[].concat((r=t,"string"==typeof r.className&&" "!==r.className?r.className.split(" "):[]),["left"===this._settings.xPosition?"left":"right","bottom"===this._settings.yPosition?"bottom":"top"]).join(" ");ph.className="icon";t.appendChild(ph);t.style.setProperty("margin-top",this._settings.offsetTop,"");this._disposables.addEventListener(t,"click",function(t){t.preventDefault();i.navigate(i._settings.url);i._settings.tracking.forEach(function(t){return i.track(t)})})}var r;return e()}.$asyncbind(this))};e.prototype.navigate=function(t){this.dispatchEvent({type:"navigate",url:t,name:"privacy"})};e.prototype.track=function(t){this.dispatchEvent({type:"track",url:t})};Ji(e,[{key:"disposable",get:function(){return this._disposables}}]);return e}(to),mh=function(t){function e(n,i){Yi(this,e);var r=qi(this,t.call(this));r._parentElement=n;r._selector=i;r._parentElement.id="overlay";r._disposables=new go;r._disposables.add(new eo(function(){n.innerHTML=""}));return r}Ki(e,t);e.prototype.getComponents=function(t){var e={};null!=t.brandbar&&(e.bannerOverlay=new Gl(this,t.brandbar));null!=t.sharing&&(e.socialOverlay=new uh(this,t.sharing));null!=t.skip&&(e.skipOverlay=new dh(this,t.skip));null!=t.privacy&&(e.privacyOverlay=new yh(this,t.privacy));return e};e.prototype.init=function(t,e){return new Promise(function(n,i){var r=this,o=new DOMParser;this._vpaid=e;this._components=this.getComponents(t);Object.keys(this._components).forEach(function(t){return new Promise(function(e,n){var i,s,a;i=r._components[t];r._disposables.add(i.disposable);r._disposables.addEventListener(i,"click",function(t){return r.dispatchEvent(t)});r._disposables.addEventListener(i,"track",function(t){return r.dispatchEvent(t)});r._disposables.addEventListener(i,"navigate",function(t){return r.dispatchEvent(t)});r._disposables.addEventListener(i,"skip",function(t){return r.dispatchEvent(t)});return i.init().then(function(t){function u(){a=null;if(""!==s.html){a=o.parseFromString(s.html,"text/html").body.firstChild;r._parentElement.appendChild(a)}return i.run(a).then(function(t){return e()}.$asyncbind(this,n),n)}return""!==(s=t).css?r.createStyleElement(s.css).then(function(t){return u.call(this)}.$asyncbind(this,n),n):u.call(this)}.$asyncbind(this,n),n)}.$asyncbind(this))});return n()}.$asyncbind(this))};e.prototype.setCurrentTime=function(t){this._components.skipOverlay.setCurrentTime(t)};e.prototype.createStyleElement=function(t){return new Promise(function(e,n){var i=(this._parentElement.ownerDocument||document).createElement("style");i.textContent=t;this._parentElement.appendChild(i);return e()}.$asyncbind(this))};Ji(e,[{key:"disposable",get:function(){return this._disposables}},{key:"selector",get:function(){return this._selector}},{key:"vpaid",get:function(){return this._vpaid}}]);return e}(to),vh=function(){function t(e,n){Yi(this,t);this._vpaidController=e;this._view=n;this._disposables=new go;this._wireEvents()}t.prototype._wireEvents=function(){var t=this;this._disposables.addEventListener(this._view,"click",function(e){t.vpaid._publish("AdClickThru",[null,null,!1])});this._disposables.addEventListener(this._view,"navigate",function(e){e.continuePlayback||t.vpaid.pauseAd();window.open(e.url,"_blank");t.vpaid._publish("AdInteraction",[""+e.name])});this._disposables.addEventListener(this._view,"skip",function(e){t.vpaid.skipAd()});this._disposables.addEventListener(this._view,"track",function(e){t._vpaidController.track(e.url)});this._disposables.addEventListener(this._vpaidController,"progress",function(e){t._view.setCurrentTime(t._vpaidController.adDuration-t._vpaidController.adRemainingTime)})};t.prototype.init=function(t){return new Promise(function(e,n){return this._view.init(t,this.vpaid).then(function(t){return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};Ji(t,[{key:"disposable",get:function(){return this._disposables}},{key:"vpaid",get:function(){return this._vpaidController.vpaid}}]);return t}(),gh=["AdLoaded"],bh=["AdVideoStart","AdPlaying"],_h=["AdPaused","AdStopped"],wh=function(t){function e(){Yi(this,e);var n=qi(this,t.call(this));n._settings=null;n._disposables=new go;n._tracked={};n._elapsedTime=0;n._startTime=0;n._lastRemainingTime=-1;n._probablyPlaying=!1;n._reachingProbablyPlayingState=lr();return n}Ki(e,t);e.prototype.init=function(t,e){this._vpaidController=t;var n=this._vpaidController.vpaid;this._settings=e;this._subscribeMulti(n,gh,this._onLoaded);this._subscribeMulti(n,bh,this._onMaybePlaying);this._subscribeMulti(n,_h,this._onPaused);this._disposables.setInterval(this._checkProgress.bind(this),250);var i=this._onError.bind(this);n.subscribe(i,"AdError");this._disposables.add(new eo(function(){n.unsubscribe(i,"AdError")}))};e.prototype.onVastEvent=function(t){switch(t){case"firstQuartile":case"midpoint":case"thirdQuartile":this._onProbablyPlaying();break;case"complete":this._maybeTrack("complete");this._maybeTrack("completed_view")}};e.prototype._subscribeMulti=function(t,e,n){var i=this;n=n.bind(this);for(var r=function(r){var o=e[r];t.subscribe(n,o);i._disposables.add(new eo(function(){t.unsubscribe(n,o)}))},o=0;o<e.length;++o)r(o)};e.prototype._onLoaded=function(){this._maybeTrack("loaded",!1)};e.prototype._onMaybePlaying=function(){0===this._startTime&&(this._startTime=(new Date).getTime());this._checkProgress()};e.prototype._onPaused=function(){if(this._startTime>0){this._elapsedTime+=(new Date).getTime()-this._startTime;this._startTime=0}this._checkProgress()};e.prototype._onError=function(){this._disposables.dispose()};e.prototype._onProbablyPlaying=function(){this._probablyPlaying=!0;this._reachingProbablyPlayingState.resolve()};e.prototype._checkProgress=function(){this._checkIfProbablyPlaying();var t=this._startTime>0?(new Date).getTime()-this._startTime:0,e=(this._elapsedTime+t)/1e3;e>=3&&this._maybeTrack("three");e>=10&&this._maybeTrack("watch");if(e>=30){this._maybeTrack("thirty");this._maybeTrack("completed_view")}};e.prototype._checkIfProbablyPlaying=function(){if(!this._probablyPlaying){var t=this._vpaidController.vpaid,e=-1;try{e=t.getAdRemainingTime()}catch(t){}!isFinite(e)||e<0||e===this._lastRemainingTime||(this._lastRemainingTime>=0?this._onProbablyPlaying():this._lastRemainingTime=e)}};e.prototype._maybeTrack=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._tracked[t]&&null!=this._settings[t]){for(var n=this._settings[t],i=0;i<n.length;++i)e?this._trackWhenProbablyPlaying(n[i]):this.track(n[i]);this._tracked[t]=!0}};e.prototype._trackWhenProbablyPlaying=function(t){return new Promise(function(e,n){return this._reachingProbablyPlayingState.promise.then(function(n){this.track(t);return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.track=function(t){this.dispatchEvent({type:"track",url:t})};Ji(e,[{key:"disposable",get:function(){return this._disposables}}]);return e}(to),kh="0.2.97",Ah=function(t){return null!=t},Lh=null,Mh=function(){null==Lh&&(Lh=function(){var t=Il(),e=null!=t?t.window:window,n={pageUrl:e.location.href,referrer:e.document.referrer};null!=t&&Object.assign(n,t.ids);return n}());return Lh},Ch="string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Mobi")>=0,Sh=["t","app","pid","vast_url","isMobile","pageLoadId","id","d"],Ih=Sh.reduce(function(t,e,n){var i;return Object.assign({},t,((i={})[e]=n,i))},{}),jh=function(t){if(t in Ih)return Ih[t];if(!(e=t,"perf_vast_"===e.substr(0,"perf_vast_".length)))return 1/0;var e,n=t.split("_"),i=n[2],r=n[3];return Sh.length+2*parseInt(i,10)+("end"===r?1:0)},Th=/^(?:(?:[A-Za-z]+:)?\/\/)?([^/]+)/,Eh=/\[([A-Z_]+)]/g,xh="f1919dcc-4411-4326-a753-1776a4381cda",Ph=["1086474","1100961","1102005","1102006","1102007"],Dh=[/\/\/(?:[^/]+\.)?crwdcntrl\.net\//],Oh=["timestamp","cachebusting","errorcode"],Nh={visibility:"hidden",position:"absolute",left:0,top:0,width:0,height:0,margin:0,padding:0,border:0},zh=function(t){if("string"!=typeof t)return null;var e=t.indexOf("//");return e>1?t.substr(0,e-1):null},Vh=["AdImpression","AdVideoStart","AdError"];!function(t){var e,n=t.window||window,i=t.controller,r=(e=i,new er(e));n.getVPAIDAd=function(){return r};if(null!=t.placement){!function(e,n){var i=t.campaign,r=t.placement,o=t.client,s=t.baseUrl,a=t.isSampled;Pr.config={campaign:i,placement:r,baseUrl:s,client:o};var u=function(t){if("function"!=typeof t)return function(t,e){return e};var e=Math.random()<.1?function(t){return t+"/10"}:function(t){return null};return function(n,i){return t(n,i)?e(i):i}}(a);Vr("load",null,u);for(var c=0;c<Tr.length;++c)$r(e,Tr[c],u);for(var l=0;l<Er.length;++l)Hr(e,Er[l],u);for(var h=0;h<xr.length;++h)Rr(e,xr[h],u)}(r);i.onInstalled()}}({controller:new(function(t){function e(){Yi(this,e);var n=qi(this,t.call(this,{autoDisposeDisabled:null!=Il(),executors:["vpaid-js","video"],clickToResume:!0,trackingHandler:function(t,e,i){n.track(e,null,i)}})),i={105:"unruly-wrapper@"+kh};if("pxsrv"===jl.type){if(null!=jl.dimensions)for(var r=194;r<=200;++r)i[r]=jl.dimensions[r];fa.init({sampleRate:jl.sampleRate,eventCategory:"galactus",customDimensions:i})}n.setCustomDimensions(i);n._requestCount=0;n._vastFetchStarted=Object.create(null);n._vastResults=[];n._loadingChain=[];n._didFlsReport=!1;n._trackingExclusions=[];n._obtainingSettings=lr();n.constructPixelParams();return n}Ki(e,t);e.prototype.initAd=function(e,n,i,r,o,s){return new Promise(function(a,u){var c,l,h,d;this._rewriteHttp="https:"===function(t){var e=t.document,n=t.location.protocol;return"http:"===n||"https:"===n?n:zh(e.documentURI)+":"}(window);this._rewriteHttp;if(null!=s.videoSlot){s.videoSlot.setAttribute("playsinline","");s.videoSlot.setAttribute("webkit-playsinline","")}c=sr(o.AdParameters);this._pubSubSpy=function(t){var e=[],n=t._publish;t._publish=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];e.push(r);return n.apply(t,r)};return{get history(){return e},dispose:function(){t._publish=n}}}(this.vpaid);this._wireEvents();l=c.config;h=null!=jl.dimensions&&"unified"===jl.dimensions[199];this.options.vast=h?"https://owof4aug.unifiedwrapper.com/1?t=vast&src="+encodeURIComponent(l):l;this.setCustomDimensions({102:l.substr(0,500)});var f=function(){this._flsReport(!1);this._populatePixelParams(e,n,c);this._wireMouseMoveEvent();return a()}.$asyncbind(this,u),p=function(t){d=null==this.executor;this._flsReport(d);throw t}.$asyncbind(this,u);try{return t.prototype.initAd.call(this,e,n,i,r,o,s).then(function(t){return f()}.$asyncbind(this,p),p)}catch(t){p(t)}}.$asyncbind(this))};e.prototype._createExecutor=function(e){var n=t.prototype._createExecutor.call(this,e),i=n.config.mediaFile;null!=i&&this.setCustomDimensions({101:i.type,103:i.uri.substr(0,500)});return n};e.prototype._populatePixelParams=function(t,e,n){this._updatePixelParams({sk_width:t,sk_height:e,vv_pw:t,vv_ph:e});if("string"==typeof n.url_ref){this._updatePixelParams({url_ref:n.url_ref});var i=Th.exec(n.url_ref);null!=i&&this._updatePixelParams({site_ref:i[1]})}};e.prototype._wireEvents=function(){this.disposables.addEventListener(this,"fetchingvast",this._onFetchingVast.bind(this));this.disposables.addEventListener(this,"fetchedvast",this._onFetchedVast.bind(this));this.disposables.addEventListener(this,"parsedvast",this._onParsedVast.bind(this));this.disposables.addEventListener(this,"vasterror",this._onVastError.bind(this))};e.prototype._wireMouseMoveEvent=function(){var t=this;this.container.addEventListener("mousemove",function(e){t._updatePixelParams({sk_mouse_x:e.clientX,sk_mouse_y:e.clientY})})};e.prototype._onFetchingVast=function(t){var e=t.detail.uri,n=(new Date).getTime();this._vastFetchStarted[e]={requestNumber:this._requestCount++,started:n}};e.prototype._onFetchedVast=function(t){var e=t.detail,n=e.uri,i=e.headers,r=e.body;this._storeVastResult(n,i,r,null)};e.prototype._onParsedVast=function(t){var e=t.vast;this._loadingChain.push(e);var n=this._vastResults.find(function(t){return t.uri===e.uri});null!=n&&Object.assign(n,{version:e.version})};e.prototype.onLoadGuest=function(){return new Promise(function(e,n){var i,r;this._normalizeVastChain();if(null!=(i=Ll(this.vastChain)).properties){if("1"===i.properties["imp[0].placement"]){this.options.autoDisposeDisabled=!1;Sl=null}this._trackingExclusions="true"===i.properties.block_dmp?Dh:[];!function(t,e){var n=e.pid,i=e.deal_id,r=e.rtb_crid,s=e.rtb_adid,a=e.rtb_all_adomains,u=e.cid,c=e.apid,l=e.crid;if(!(Ph.indexOf(n)<0||t.length<2)){var h=t[1].xmlSource,d=null!=r?[(null!=i?i:"OMP")+" - "+r+" - "+(null!=s?s:"unknown"),r]:null!=u&&null!=c?[u+" - "+c,c+"_"+l]:[null,null],f=d[0];if(null!=f){var p={vast:h,tagName:f,adTagId:d[1],adProviderName:a};o("https://vast.zentrick.com/tmt",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(p)}).catch(function(t){})}}}(this.vastChain,i.properties);!function(t,e){new Promise(function(n,i){function r(){return n()}if("1"===e["imp[0].placement"]&&null!=e.pid){var o=function(){return r.call(this)}.$asyncbind(this,i),s=function(t){return o()}.$asyncbind(this,i);try{return function(t,e){var n=arguments;return new Promise(function(i,r){var o,s;o=n.length>2&&void 0!==n[2]&&n[2];s=n.length>3&&void 0!==n[3]?n[3]:"about:blank";return function(){var t=arguments;return new Promise(function(e,n){var i,r,o,s=function(t){return function(e){r.cancel();o.cancel();return t&&t.call(this,e)}.$asyncbind(this,n)}.$asyncbind(this);if(null!=(i=t.length>0&&void 0!==t[0]?t[0]:document).body)return e();r=(a=i,u="body",function(t,e){var n=lr(),i=setInterval(function(){null!=a[u]&&n.resolve()},20);n.promise.cancel=function(){clearInterval(i);n.reject(new Error("Canceled"))};return n.promise}());var a,u;o=Dc(i,"DOMContentLoaded");r.catch(Oc);o.catch(Oc);var c=function(){return e()}.$asyncbind(this,n),l=function(t){throw t}.$asyncbind(this,s(n));try{return Promise.race([r,o]).then(function(t){return s(c)()}.$asyncbind(this,l),l)}catch(t){l(t)}}.$asyncbind(this))}(t.ownerDocument).then(function(n){return i(ll(t,e,o,s))}.$asyncbind(this,r),r)}.$asyncbind(this))}(t,Nh,!0,"https://video.unrulymedia.com/iframes/third-party-iframes.html?siteId="+e.pid).then(function(t){return o()}.$asyncbind(this,s),s)}catch(t){s(t)}}return r.call(this)}.$asyncbind(this))}(this.slot,i.properties)}this._obtainingSettings.value=i;this._obtainingSettings.resolve(i);r=this._pubSubSpy.history;this._pubSubSpy.dispose();null!=i.viewability&&this._initMoat(i,r);this._removeUnrulyIcon();this._initUnrulyTracking();this._initOverlay();return t.prototype.onLoadGuest.call(this).then(function(t){return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype._initMoat=function(t,e){var n=this,i=t.viewability.Moat;if(null!=i){for(var r=function(t,e,n,i){var r=document.createElement("script"),o={events:[],addEvent:function(t){a.sendEvent?(o.events&&(a.sendEvent(o.events),o.events=!1),a.sendEvent(t)):o.events.push(t)}},s=function(e){return function(){var n,i=-1;t&&t.getAdVolume&&(n=t.getAdVolume());"number"==typeof n&&!isNaN(n)&&0<=n&&(i=n);o.addEvent({type:e,adVolume:i});if(-1!==l.indexOf(e)&&t&&t.unsubscribe&&!c){c=!0;for(var r in u)if(u.hasOwnProperty&&u.hasOwnProperty(r))try{t.unsubscribe(u[r],r)}catch(t){}}}},a={adData:{ids:n,vpaid:t,build:"cc07a80-clean",duration:t.getAdDuration()},dispatchEvent:o.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());var u={AdStarted:s("AdStarted"),AdStopped:s("AdStopped"),AdSkipped:s("AdSkipped"),AdLoaded:s("AdLoaded"),AdLinearChange:s("AdLinearChange"),AdSizeChange:s("AdSizeChange"),AdExpandedChange:s("AdExpandedChange"),AdSkippableStateChange:s("AdSkippableStateChange"),AdDurationChange:s("AdDurationChange"),AdRemainingTimeChange:s("AdRemainingTimeChange"),AdVolumeChange:s("AdVolumeChange"),AdImpression:s("AdImpression"),AdClickThru:s("AdClickThru"),AdInteraction:s("AdInteraction"),AdVideoStart:s("AdVideoStart"),AdVideoFirstQuartile:s("AdVideoFirstQuartile"),AdVideoMidpoint:s("AdVideoMidpoint"),AdVideoThirdQuartile:s("AdVideoThirdQuartile"),AdVideoComplete:s("AdVideoComplete"),AdUserAcceptInvitation:s("AdUserAcceptInvitation"),AdUserMinimize:s("AdUserMinimize"),AdUserClose:s("AdUserClose"),AdPaused:s("AdPaused"),AdPlaying:s("AdPlaying"),AdError:s("AdError")},c=!1,l=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(t&&t.subscribe)for(var e in u)u.hasOwnProperty&&u.hasOwnProperty(e)&&t.subscribe(u[e],e)}();var h,d;try{d=(h=e.ownerDocument).defaultView||h.parentWindow}catch(t){h=document,d=window}d[n]=a;r.type="text/javascript";e&&e.insertBefore(r,e.childNodes[0]||null);r.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n;return a}(this.vpaid,this.slot,i,i.partnerCode),o=0;o<e.length;++o){var s=e[o][0];r.dispatchEvent({type:s,adVolume:1})}(a=this.vpaid,new Promise(function(t){var e=["AdDurationChange","AdRemainingTimeChange","AdStarted","AdVideoStart"],n=function(t){for(var n=0;n<e.length;++n)a[t](i,e[n])},i=function(){var e=a.getAdDuration();if(e>0){n("unsubscribe");t(e)}};n("subscribe");i()})).then(function(t){r.adData.duration=t;r.dispatchEvent({type:"AdDurationChange",adVolume:n.vpaid.getAdVolume(),duration:t})});var a}};e.prototype.onVastLoaderCreated=function(){return new Promise(function(t,e){if(!this._rewriteHttp)return t();var n=Zs.prototype._load;if("function"!=typeof n)return t();Zs.prototype._load=function(t){return new Promise(function(e,i){"http:"===t.substr(0,5)&&(t="https:"+t.substring(5));return e(n.call(this,t))}.$asyncbind(this))};return t()}.$asyncbind(this))};e.prototype._onVastError=function(t){var e=t.detail.error;null!=e&&this._storeVastResult(e.uri,null,null,e);this._flsReport(!0)};e.prototype._storeVastResult=function(t,e,n,i){var r=(new Date).getTime();if(null!=this._vastFetchStarted[t]){var o=this._vastFetchStarted[t],s=o.requestNumber,a=o.started;delete this._vastFetchStarted[t];this._vastResults[s]={uri:t,headers:e,body:n,error:i,started:a,ended:r}}};e.prototype._flsReport=function(){var t=arguments;return new Promise(function(e,n){var i=t.length>0&&void 0!==t[0]&&t[0];if(this._didFlsReport)return e();this._didFlsReport=!0;var r=null!=this.envVars&&null!=this.envVars[xh]?this.envVars[xh]:null,s=this.slot,a=null!=s&&null!=s.ownerDocument&&null!=s.ownerDocument.defaultView?s.ownerDocument.defaultView:window,u=this.vastChain||this._loadingChain,c=Ll(u),l={vastResults:this._vastResults,settings:c,window:a,vpaidHost:r,didError:i};!function(t){new Promise(function(e,n){var i,r,s,a,u,c;i=function(t){var e,n,i=t.vastResults,r=t.vpaidHost,o=(t.window,Ah(r)?1:0),s=Mh(),a=s.siteId,u=s.sessionId,c=s.pageUrl,l=s.referrer,h={raw:(e=i,n=o,e.map(function(t,e){var i={uri:t.uri,requestNumber:n+e};if(null!=t.error)i.reason=""+t.error;else{i.headers=function(e){var n=[],i=t.headers.entries(),r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var s;if(r){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var a=s,u=a[0],c=a[1];n.push(u+": "+c)}return n.join("\n")}();i.response=t.body}return i})),timings:function(t,e){for(var n={},i=0;i<t.length;++i)n["vast_"+(e+i)]={start:t[i].started,end:t[i].ended};return[n]}(i,o),vpaid:kh,pageUrl:c,referrer:l,siteId:a,sessionId:u};null!=r&&null!=r.version&&(h.executor=r.version);return h}(t);r=t.didError?"/error":"/success";s=null;a=1;if(null!=t.settings.properties){s=t.didError?t.settings.properties.fls_error_endpoint:t.settings.properties.fls_success_endpoint;a=(l=t.settings.properties.fls_sample_rate,isNaN(Number(""+l)+parseFloat(l))?1:parseFloat(t.settings.properties.fls_sample_rate))}var l;u=null!=s?s:"https://targaryen.unrulymedia.com"+r;c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};var h=function(){return e()}.$asyncbind(this,n),d=function(t){return h()}.$asyncbind(this,n);try{var f=function(){return h()};return Math.random()<a?o(u,c).then(function(t){return f.call(this)}.$asyncbind(this,d),d):f.call(this)}catch(t){d(t)}}.$asyncbind(this))}(l);(function(t){var e=t.settings,n=t.vastResults,i=Ah(t.vpaidHost),r=Mh(),o=r.siteId,s=r.pageLoadId,a=r.sessionId,u=Object.assign({isMobile:Ch,app:i?"native":"instream",d:(new Date).getTime()},{pid:o,pageLoadId:s,id:a},e.properties),c=i?1:0;return n.reduce(function(t,e,n){var i=function(t,e){var n,i=t.uri,r=t.started,o=t.ended,s=t.error,a=t.version,u=(n={vast_url:i,t:null==s?"vast_request_"+e:"error_ad_request_failed"},n["perf_vast_"+e+"_start"]=r,n["perf_vast_"+e+"_end"]=o,n.vast_version=a,n);null!=s&&(u.message="VAST Error: ["+s.code+"] - "+s.message);return u}(e,c+n);return[].concat(t,[Object.assign({},t[t.length-1],i)])},[{}]).slice(1).map(function(t){return Object.assign({},t,u)})})(l).forEach(function(t){var e=Object.keys(t).sort(function(t,e){return jh(t)-jh(e)||t.localeCompare(e)}).reduce(function(e,n){var i;return Object.assign({},e,((i={})[n]=t[n],i))},{}),n="https://stats3.unrulymedia.com/blank.gif?"+ar(e);_r().track(n)});return e()}.$asyncbind(this))};e.prototype._normalizeVastChain=function(){this._filterNonLinearCreatives();this._normalizeMediaFiles()};e.prototype._filterNonLinearCreatives=function(){for(var t=this.vastChain,e=0;e<t.length;++e)for(var n=t[e].ads,i=n.length-1;i>=0;--i)for(var r=n.get(i).creatives,o=r.length-1;o>=0;--o){var s=r.get(o);"Linear"!==s.$type&&r.remove(s)}};e.prototype._normalizeMediaFiles=function(){var t=this;this._forEachCreative(function(e){for(var n=e.mediaFiles,i=0;i<n.length;++i){var r=n[i],o=zh(r.uri);"http"!==o&&"https"!==o||(r.delivery="progressive");"http"===o&&"VPAID"===r.apiFramework&&t._rewriteHttp&&(r.uri="https:"+r.uri.substr(5))}})};e.prototype._removeUnrulyIcon=function(){this._forEachCreative(function(t){if(null!=t.icons&&t.icons.length>0){var e=t.icons.findIndex(function(t){return bl.indexOf(t.program)>=0});e>=0&&t.icons.splice(e,1)}})};e.prototype._forEachCreative=function(t){for(var e=this.vastChain[0],n=0;n<e.ads.length;++n)for(var i=e.ads.get(n).creatives,r=0;r<i.length;++r)t(i.get(r))};e.prototype.onStartGuest=function(){return new Promise(function(e,n){var i,r,o,s;i=Object.keys(hl).map(function(t){return hl[t]});for(r=0;r<i.length;++r){o=i[r];s=this._customTracking.onVastEvent.bind(this._customTracking,o);this.disposables.on(this.executor,"vast:"+o,s)}return t.prototype.onStartGuest.call(this).then(function(t){return e()}.$asyncbind(this,n),n)}.$asyncbind(this))};e.prototype.resizeAd=function(e,n,i){return new Promise(function(r,o){return t.prototype.resizeAd.call(this,e,n,i).then(function(t){this._updatePixelParams({sk_width:e,sk_height:n,vv_pw:e,vv_ph:n});return r()}.$asyncbind(this,o),o)}.$asyncbind(this))};e.prototype._initOverlay=function(){return new Promise(function(t,e){var n;this._overlayView=new mh(this.container,this.containerSelector);this.disposables.add(this._overlayView.disposable);this._overlayController=new vh(this,this._overlayView);this.disposables.add(this._overlayController.disposable);return this._getSettings().then(function(i){n=i;return this._overlayController.init(n).then(function(e){return t()}.$asyncbind(this,e),e)}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype._initUnrulyTracking=function(){return new Promise(function(t,e){var n,i;n=this;this._customTracking=new wh;this.disposables.add(this._customTracking.disposable);this.disposables.addEventListener(this._customTracking,"track",function(t){n.track(t.url)});return this._getSettings().then(function(e){i=e;this._customTracking.init(this,i.customTracking);return t()}.$asyncbind(this,e),e)}.$asyncbind(this))};e.prototype.track=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this._trackingExclusions.some(function(e){return e.test(t)})){var i,r,o=(new Date).getTime(),s=Math.floor(o/1e3),a=Object.assign({unixtime:s,cachebuster:o,duration:this.vpaid.getAdDuration()},this._pixelParameters,e),u=(i=t,r=a,i.replace(Eh,function(t,e){var n=e.toLowerCase();return Oh.indexOf(n)>=0?"["+e+"]":null!=r[n]?encodeURIComponent(""+r[n]):""}));qs(0,u,n)}};e.prototype._updatePixelParams=function(t){Object.assign(this._pixelParameters,t)};e.prototype.constructPixelParams=function(){this._pixelParameters={session:(new Date).getTime(),url_ref:"",site_ref:"",sk_width:0,sk_height:0,sk_mouse_x:0,sk_mouse_y:0,vv_pw:0,vv_ph:0,vv_focus:0,vv_bottom:0,vv_left:0,vv_right:0,vv_top:0,vv_perc:0}};e.prototype._getSettings=function(){return new Promise(function(t,e){return t(this._obtainingSettings.promise)}.$asyncbind(this))};e.prototype._log=function(t){this.vpaid._publish("AdLog",[t])};return e}(Pc)),placement:"qcfwbvan",client:jl.client,baseUrl:function(t){return"terrax"===t||"galactus"===t?"https://unrulydiag.pxsrv.net/":"https://pixel.unruly.systems/"},isSampled:function(t,e){return"vpaid"===t&&Vh.indexOf(e)<0}})}()}).call(this);
