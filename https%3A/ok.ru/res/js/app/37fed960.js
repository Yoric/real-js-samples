define(["OK/utils/utils"],function(a){function b(){}b.prototype={activate:function(c){this.link=c.getAttribute("href")||c.getAttribute("data-href");this.closeLayer=c.getAttribute("data-close-layer")==="1";c.addEventListener("click",this);},deactivate:function(c){c.removeEventListener("click",this);},handleEvent:function(f){f.preventDefault();var c=this.link,d=this.closeLayer;a.ajax({url:c}).done(function(g,e,h){if(d&&OK.Layers){OK.Layers.unregisterLast();}a.updateBlockModelCallback(g,e,h);});}};return b;});