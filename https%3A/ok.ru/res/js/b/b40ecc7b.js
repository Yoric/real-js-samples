define("OK/banners/BannerLoader",["OK/logger"],function(p){var k="onAdsSuccess",q="onNoAds",g="onScriptError";var n={};function d(){if(!window.MRGtag){window.MRGtag=[];window.MRGtag.push({preventAutoLoad:true});}}function c(r){d();require(["mrg/ads"],function(s){window.MRGtag.push({element:r,onAdsSuccess:b,onNoAds:i,onScriptError:m});},function(s){l("adsLoadingFailed");});}function b(r){o(k,r);}function i(r){o(q,r);}function m(r){o(g,r);}function e(s,r){if(!s||typeof r!=="function"){return false;}if(!n.hasOwnProperty(s)){n[s]=[];}var t=n[s];t.push(r);return true;}function j(t,s){if(!t||!n.hasOwnProperty(t)){return;}var u=n[t];var r=u.indexOf(s);if(r>=0){u.splice(r,1);}}function a(v,u){var r=[];for(var t in u){if(!u.hasOwnProperty(t)){continue;}var s=f(v,u[t]);if(e(t,s)){r.push({event:t,listener:s});}}return{remove:function(){while(r.length>0){var w=r.pop();j(w.event,w.listener);}}};}function f(r,s){return function(t){if(t&&t.slot===r){s.call(null,t);}};}function o(s,v){var x=(v&&v.slot)?v.slot:"";h(s,x);if(!n.hasOwnProperty(s)){return;}var u=n[s];for(var t=0,r=u.length;t<r;t++){var w=u[t];if(typeof w==="function"){w(v);}}}function l(r){p.success("new-banners",r);}function h(r,s){p.success("new-banners",r,s);}return{requestBanner:c,subscribeToEvents:a,publishEvent:o};});define("OK/banners/BannerController",["OK/banners/BannerLoader","OK/banners/StickyBannerContainer","OK/ViewportWidthObserver","OK/utils/dom","OK/logger"],function(ax,aq,aj,t,F){var l="onHideBanner",A="onRefreshBanner";var ap="data-ad-slot",e="data-ad-query";var n="data-site-zone",u="data-pass-height",K="data-pass-width",D="data-right-visibility-min-width",h="data-sticky-banner",ac="data-refresh-timeout",M="data-json-params";var k="h",c="w",y="_SITEID",d="t",ae="a",N="g",aD="lang",G="u",J="v",f="la",Y="test_id",Z="_SITEZONE",ao="l",ai="group",O="ism",I="grname",g="grdesc",aA="grpic",az="act",al="_STRING";var j={i:"user_id",n:"user_name",r:"days_to_birth",d:"days_birth",m:"month_birth"};var B="banner-layout-container",V="__ready",m="__hidden";var aF=[];var at=[];var x=[];function R(aJ){var aL=ay(aJ);if(!aL){return;}var aK=af(aL);var aI=ax.subscribeToEvents(aK,{onAdsSuccess:v,onHideBanner:C});at.push(aI);var aH=w(aJ);if(aH){aI=ax.subscribeToEvents(aK,{onAdsSuccess:U,onHideBanner:aw});at.push(aI);}aI=aC(aJ,aL);if(aI){at.push(aI);}var aG=X(aJ);if(aG>0){aI=aj.onToggle(aG,function(aM){if(aM){au(aJ,aL);}else{E(aL);}});aF.push(aI);aB(aG,aK,b(aJ));}else{au(aJ,aL);}}function af(aG){return aG.getAttribute(ap);}function aC(aJ,aL){var aI=H(aJ);if(aI<=0){return null;}var aG;var aH=function(aM){aG=aE(aJ,aL,aG,aI);};var aK=af(aL);return ax.subscribeToEvents(aK,{onAdsSuccess:aH,onNoAds:aH,onScriptError:aH,onHideBanner:function(aM){r(aG);}});}function r(aH){if(!aH){return;}var aG=x.indexOf(aH);if(aG>=0){x.splice(aG,1);}clearTimeout(aH);}function aE(aJ,aK,aG,aH){r(aG);var aI=setTimeout(function(){var aL=af(aK);ax.publishEvent(A,{el:aK,slot:aL});au(aJ,aK);},aH);x.push(aI);return aI;}function v(aH){if(aH){var aG=T(aH.el);o(aG,true);}}function C(aH){if(aH){var aG=T(aH.el);o(aG,false);}}function o(aG,aH){if(aG){aG.classList.toggle(V,aH);aG.classList.toggle(m,!aH);}}function U(aH){var aG=i(aH);if(aG){aq.activate(aG);}}function aw(aH){var aG=i(aH);if(aG){aq.deactivate(aG);}}function i(aG){if(aG&&aG.el){return t.parent(aG.el,"hookBlock");}return null;}function T(aG){if(aG){return t.parent(aG,B,5,true);}return null;}function X(aG){return a(aG,D);}function H(aG){return a(aG,ac);}function a(aH,aG){var aI=parseInt(aH.getAttribute(aG),10);if(isNaN(aI)){aI=0;}return aI;}function ay(aG){var aH=Array.prototype.slice.call(aG.getElementsByTagName("ins"));if(aH.length===0){return null;}return aH[0];}function au(aG,aH){Q(aG);ad(aG,aH);ax.requestBanner(aH);}function E(aH){aH.innerHTML="";var aG=aH.getAttribute(ap);ax.publishEvent(l,{el:aH,slot:aG});}function Q(aH){var aG=T(aH);o(aG,false);}function ad(aP,aM){var aL={};aL[y]=163;var aJ=b(aP);if(aJ){aL[Z]=aJ;}var aH=S(aP);p(aL,aH);ar(aL,aH);aa(aL,aH);ab(aL,aH);if(ag(aP)){aL[k]=document.documentElement.clientHeight;}if(q(aP)){aL[c]=W(aP);}var aK=z(aM);av(aK,aL);var aN=[];for(var aQ in aK){if(aK.hasOwnProperty(aQ)){aN.push(aQ+"="+encodeURIComponent(aK[aQ]));}}var aG=aH.b_count;if(aG&&aG>0){var aO=af(aM);var aR=L(aO,0);aM.setAttribute(ap,aR);for(var aI=1;aI<aG;aI++){aN.push("q="+L(aO,aI));}}aM.setAttribute(e,aN.join("&"));}function L(aH,aG){return encodeURIComponent(aH+"."+aG+"?n="+aG);}function an(aH){var aG=document.getElementById(aH);if(aG){return OK.util.parseJSON(aG.innerHTML)||{};}return{};}function p(aI,aH){var aJ=an("hook_Cfg_CurrentUser");var aG=aJ.bannerTargeting||{};if(aG.t){aI[d]=aG.t;}else{if(aG.a){aI[ae]=aG.a;aI[N]=aG.g;}}if(aJ.lang){aI[aD]=aJ.lang;}if(aH.wu&&aG.u){aI[G]=aG.u;}if(aH.wv&&aG.v){var aK=s(aG.v);if(aK){aI[J]=aK;}}}function ar(aH,aG){var aI=an("hook_Cfg_BannerConfig");if(aG.la&&aI.lastApps){aH[f]=aI.lastApps;}if(aI.expr){aH[Y]=aI.expr;}}function aa(aH,aG){var aI=an("hook_Cfg_BanData");if(aG.sz){aH[Z]=aG.sz;}else{if(aG.wsz&&aI.sitezone){aH[Z]=aI.sitezone;}}if(aI.groupId){aH[ai]=aI.groupId;}if(aI.isaMember){aH[O]=aI.isaMember;}}function ab(aH,aG){if(aG.cow){aH[ao]="1";}if(aG.grname){aH[I]=aG.grname;}if(aG.grdesc){aH[g]=aG.grdesc;}if(aG.grpic){aH[aA]=aG.grpic;}if(aG.act){aH[az]="1";}if(aG._STRING){aH[al]=aG._STRING;}}function s(aI){var aG="";for(var aH in aI){if(aI.hasOwnProperty(aH)){if(aG){aG+="&";}aG+=j[aH]+"="+aI[aH];}}return aG;}function W(aI){var aG=window.getComputedStyle(aI,null);var aH=parseInt(aG.paddingLeft,10);var aJ=parseInt(aG.paddingRight,10);return aI.clientWidth-aH-aJ;}function z(aI){var aG=aI.getAttribute(e);var aH={};aG.replace(/([^=]*)=([^&]*)&*/g,function(aJ,aK,aL){aH[aK]=decodeURIComponent(aL);});return aH;}function av(aH,aI){for(var aG in aI){if(aI.hasOwnProperty(aG)){aH[aG]=aI[aG];}}return aH;}function b(aG){return aG.getAttribute(n);}function ag(aG){return aG.getAttribute(u)==="true";}function q(aG){return aG.getAttribute(K)==="true";}function w(aG){return aG.getAttribute(h)==="true";}function S(aG){var aH=aG.getAttribute(M);if(aH){return JSON.parse(aG.getAttribute(M))||{};}return{};}function ah(aI){for(var aG=0;aG<aI.length;aG++){var aH=aI[aG];if(aH&&typeof aH.remove==="function"){aH.remove();}}}function am(aI){for(var aH=0;aH<aI.length;aH++){var aG=aI[aH];if(aG){clearTimeout(aG);}}}function ak(){ah(aF);ah(at);am(x);aF=[];at=[];x=[];}function aB(aH,aL,aI){var aG=aH<=window.innerWidth;var aK=aG?"activate.binv":"activate.boutv";var aJ=aL;if(aI){aJ+="."+aI;}P(aK,aJ);}function P(aH,aG){F.success("new-banners",aH,aG);}return{activate:R,deactivate:ak};});define("b/banners",["OK/banners/BannerController","OK/banners/BannerLoader"],{});