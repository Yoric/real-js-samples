webpackJsonp(["bundle.Ocf"],{"/8xP":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.708 22H4.292A2.294 2.294 0 0 1 2 19.708V7.375a2.294 2.294 0 0 1 2.292-2.292h2.146A6.545 6.545 0 0 1 12 2a6.546 6.546 0 0 1 5.562 3.083h2.146A2.294 2.294 0 0 1 22 7.375v12.333A2.294 2.294 0 0 1 19.708 22zM4.292 6.583a.793.793 0 0 0-.792.792v12.333c0 .437.355.792.792.792h15.416a.793.793 0 0 0 .792-.792V7.375a.793.793 0 0 0-.792-.792h-2.45a.742.742 0 0 1-.782-.382A5.051 5.051 0 0 0 12 3.501a5.046 5.046 0 0 0-4.476 2.702.746.746 0 0 1-.833.38H4.293z"}),i.default.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15a.75.75 0 0 1-1.5 0v-1.25H10a.75.75 0 0 1 0-1.5h1.25V11a.75.75 0 0 1 1.5 0v1.25H14a.75.75 0 0 1 0 1.5z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"/SMD":function(e,t,n){"use strict";var a=n("IfHf"),r=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var i=r(n("86MP")),o=r(n("fKPv")),s=r(n("Mpbj")),l=r(n("/Btz")),u=r(n("thTC")),c=r(n("B4q1")),d=r(n("0Ynt")),p=r(n("fQFk")),f=r(n("jYKd")),h=(n("wV7v"),a(n("GiK3"))),_=r(n("MjES")),m=(r(n("5nt5")),function(e){function t(){return e.apply(this,arguments)||this}(0,i.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.compact,n=e.onClick,a=e.selected,r=e.style,i=e.text,o=this._renderIcon(),l=[v.root,t&&v.compact,a&&v.selected,r],u=d.default.generate({backgroundColor:a?f.default.theme.colors.blue:"transparent",color:f.default.theme.colors[a?"white":"blue"]});return h.default.createElement(p.default,{interactiveStyles:u,onPress:n,style:l},h.default.createElement(_.default,{style:v.content},h.default.createElement(s.default,{color:a?"white":"blue",selectable:!1},i),o))},n._renderIcon=function(){var e=this.props,t=e.mode,n=e.selected,a=[v.icon,n&&v.iconSelected];switch(t){case"remove":return h.default.createElement(u.default,{style:a});case"expand":return h.default.createElement(c.default,{style:a});case"active":return h.default.createElement(l.default,{style:a});default:return null}},t}(h.PureComponent));(0,o.default)(m,"defaultProps",{compact:!1,selected:!1}),m.propTypes={};var v=f.default.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.blue,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:"1px",minHeight:e.spaces.xLarge,paddingHorizontal:e.spaces.medium},content:{alignItems:"center",flexDirection:"row",flexGrow:1,flexWrap:"nowrap"},compact:{minHeight:e.spaces.large,paddingHorizontal:e.spaces.small},selected:{backgroundColor:e.colors.blue},icon:{color:e.colors.textBlue,marginLeft:e.spaces.xxSmall},iconSelected:{color:e.colors.white}}}),g=m;t.default=g},"/Y4e":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5a.752.752 0 0 0-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25a.752.752 0 0 0-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"1KDF":function(e,t,n){"use strict";var a=n("IfHf"),r=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var i=r(n("lt8z")),o=r(n("86MP")),s=r(n("M1I4")),l=r(n("fKPv")),u=a(n("duuB")),c=a(n("o7y2")),d=r(n("GiK3")),p=r(n("vuwl")),f=r(n("W3GO")),h=r(n("0Ynt")),_=r(n("O27J")),m=r(n("jYKd")),v=r(n("a05n")),g=r(n("MjES")),b=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,(0,l.default)((0,s.default)((0,s.default)(a)),"_sliderLength",1),(0,l.default)((0,s.default)((0,s.default)(a)),"_isActive",!1),(0,l.default)((0,s.default)((0,s.default)(a)),"_keyPressValueDelta",1),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleRootRef",function(e){var t=_.default.findDOMNode(e);t instanceof window.HTMLElement&&(a._removeTouchMoveToScrollListener=(0,p.default)(t,"touchmove",a._handleTouchMoveToScroll,!1))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleLayout",function(e){var t=a.props.isVertical;a._sliderLength=e.nativeEvent.layout[t?"height":"width"]}),(0,l.default)((0,s.default)((0,s.default)(a)),"_resetKeyPressValueDelta",function(){var e=a.props,t=e.min,n=e.max,r=e.step;a._keyPressValueDelta="number"==typeof r?r:.001*(n-t)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleKeyUp",function(e){a._resetKeyPressValueDelta()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleKeyDown",function(e){var t=a.props,n=t.min,r=t.max,i=t.step,o=t.value,s=e.altKey,l=e.ctrlKey,u=e.metaKey;if(!(s||l||u)){var c="ArrowUp"===e.key||"ArrowRight"===e.key,d="ArrowDown"===e.key||"ArrowLeft"===e.key;if(c||d){var p=.05*(r-n),f=p;"number"==typeof i&&f<i&&(f=i);var h=Math.min(a._keyPressValueDelta,f)*(c?1:-1);a._keyPressValueDelta*=1.4;var _=a._normalizeValue(o+h);a._triggerChange(_),_!==n&&_!==r||a._resetKeyPressValueDelta(),e.preventDefault()}}}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleMouseDown",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_normalizeValue",function(e){var t=a.props,n=t.min,r=t.max,i=a._roundToMultipleOfStep(e);return Math.max(n,Math.min(i,r))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_roundToMultipleOfStep",function(e){var t=a.props.step;return"number"==typeof t?t*Math.round(e/t):e}),(0,l.default)((0,s.default)((0,s.default)(a)),"_triggerChange",function(e){(0,a.props.onChange)(a._normalizeValue(e))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleStartShouldSetPanResponder",function(e,t){return!0}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleMoveShouldSetPanResponder",function(e,t){return!0}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderGrant",function(e,t){var n=a.props,r=n.isVertical,i=n.min,o=r?a._getLocationY(e):a._getLocationX(e),s=a._normalizeValue(i+a._scaleLengthByMinMaxRatio(o));a._triggerChange(s),a._valueOnGrant=s,a._setActive(!0)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_scaleLengthByMinMaxRatio",function(e){var t=a.props,n=t.min,r=t.max;return e/a._sliderLength*(r-n)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_getLocationX",function(e){var t=e.currentTarget,n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:0};return e.nativeEvent.pageX-window.pageXOffset-(n&&n.left||0)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_getLocationY",function(e){var t=e.currentTarget,n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{top:0},r=e.nativeEvent.pageY-window.pageYOffset-(n&&n.top||0);return a._sliderLength-r}),(0,l.default)((0,s.default)((0,s.default)(a)),"_setActive",function(e){var t=a.props.onActive;a._isActive=e,t&&t(a._isActive)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleTouchMoveToScroll",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderChange",function(e){var t=a.props.isVertical,n=0;n=t?-1*e.dy:e.dx,a._triggerChange(a._valueOnGrant+a._scaleLengthByMinMaxRatio(n))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderMove",function(e,t){a._handlePanResponderChange(t)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderEnd",function(e,t){a._handlePanResponderChange(t),a._setActive(!1)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleFocusRingGained",function(){a.setState({focused:!0})}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleFocusRingLost",function(){a.setState({focused:!1})}),a.state={focused:!1},a._resetKeyPressValueDelta(),a._panResponder=v.default.create({onStartShouldSetPanResponder:a._handleStartShouldSetPanResponder,onMoveShouldSetPanResponder:a._handleMoveShouldSetPanResponder,onPanResponderGrant:a._handlePanResponderGrant,onPanResponderMove:a._handlePanResponderMove,onPanResponderRelease:a._handlePanResponderEnd,onPanResponderTerminate:a._handlePanResponderEnd}),a}(0,o.default)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener()},n.render=function(){var e=this,t=this.props,n=t.accessibilityLabel,a=t.color,r=t.isVertical,o=t.min,s=t.minIcon,l=t.max,p=t.maxIcon,_=t.withHidingThumb,v=t.value,b=m.default.theme.colors[a],k=c.cssToRgba(b),w=u.translucent({color:k,percent:.33,replace:!0}),S=c.rgbaToCss(w),C=h.default.generate({backgroundColor:m.default.theme.colors.transparent,color:b}),E={backgroundColor:S},x={backgroundColor:b};return d.default.createElement(g.default,{style:[y.root,r&&y.verticalRoot]},r&&p?d.default.createElement(g.default,{style:y.maxIconVerticalMargin},p):!r&&s?d.default.createElement(g.default,{style:y.minIconHorizontalMargin},s):null,d.default.createElement(f.default,null,function(t){var a,s=t.isHovered,u=e.state.focused||e._isActive,c=_&&!s&&!u,p=(v-o)/(l-o),h={flexGrow:p},m=(a={},a[r?"bottom":"left"]=100*p+"%",a);return d.default.createElement(g.default,(0,i.default)({style:[y.slider,r?y.verticalSlider:y.horizontalSlider]},e._panResponder.panHandlers,{onLayout:e._handleLayout,ref:e._handleRootRef}),d.default.createElement(g.default,{style:[y.track,r?y.verticalTrack:y.horizontalTrack,c&&(r?y.verticalTrackWithHiddenThumb:y.horizontalTrackWithHiddenThumb),E]},d.default.createElement(g.default,{style:[y.progress,x,h]}),d.default.createElement(f.default,{onFocusRingGained:e._handleFocusRingGained,onFocusRingLost:e._handleFocusRingLost},function(t){var a=t.isHovered,i=(t.isPressed,t.hasFocusRing);return d.default.createElement(g.default,{accessibilityLabel:n,accessibilityRole:"slider",accessible:!0,"aria-valuemax":l,"aria-valuemin":o,"aria-valuenow":v,onKeyDown:e._handleKeyDown,onKeyUp:e._handleKeyUp,onMouseDown:e._handleMouseDown,style:[y.thumbButton,r?y.verticalThumbButton:y.horizontalThumbButton,C.transitionStyle,(i||a)&&C.hoverStyle,u&&C.pressedStyle,i&&C.focusRingStyle,m]},d.default.createElement(g.default,{style:[y.thumb,c&&y.thumbHidden,u&&y.thumbActive,x]}))})))}),r&&s?d.default.createElement(g.default,{style:y.minIconVerticalMargin},s):!r&&p?d.default.createElement(g.default,{style:y.maxIconHorizontalMargin},p):null)},t}(d.default.Component);(0,l.default)(b,"defaultProps",{color:"blue",step:1});var y=m.default.create(function(e){return{root:{userSelect:"none",flexDirection:"row",alignItems:"center"},verticalRoot:{flexDirection:"column",flexGrow:1},minIconHorizontalMargin:{marginRight:e.spaces.xSmall},maxIconHorizontalMargin:{marginLeft:e.spaces.xSmall},maxIconVerticalMargin:{marginBottom:e.spaces.xSmall},minIconVerticalMargin:{marginTop:e.spaces.xSmall},slider:{cursor:"pointer",flexGrow:1,alignItems:"center"},verticalSlider:{width:e.spaces.medium,flexDirection:"column"},horizontalSlider:{height:e.spaces.medium,flexDirection:"row"},track:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.medium,flexGrow:1,alignItems:"center"},verticalTrack:{width:e.spaces.xxSmall,flexDirection:"column",justifyContent:"flex-end"},horizontalTrack:{height:e.spaces.xxSmall,flexDirection:"row"},verticalTrackWithHiddenThumb:{width:"calc("+e.spaces.xxSmall+" / 2)"},horizontalTrackWithHiddenThumb:{height:"calc("+e.spaces.xxSmall+" / 2)"},progress:{backgroundColor:e.colors.blue,borderRadius:e.borderRadii.medium,alignSelf:"stretch"},thumbButton:{borderRadius:e.borderRadii.infinite,cursor:"pointer",height:e.spaces.large,width:e.spaces.large,alignItems:"center",justifyContent:"center",position:"absolute"},verticalThumbButton:{marginBottom:"calc(-1 * ("+e.spaces.large+" / 2))"},horizontalThumbButton:{marginLeft:"calc(-1 * ("+e.spaces.large+" / 2))"},thumb:{backgroundColor:e.colors.white,height:e.spaces.small,width:e.spaces.small,borderRadius:e.borderRadii.infinite,transitionProperty:"transform",transitionDuration:"0.1s",transform:[{scale:1}]},thumbActive:{transform:[{scale:1.2}]},thumbHidden:{transform:[{scale:0}]},whiteThumb:{backgroundColor:e.colors.blue},blueThumb:{backgroundColor:e.colors.blue}}}),k=b;t.default=k},"2Uj9":function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments[1];switch(t.type){case E.REQUEST:return h()({},D,{fetchStatus:b.a.LOADING,flowName:t.meta.flowName,startLocation:e.startLocation});case C.REQUEST:return h()({},e,{fetchStatus:b.a.LOADING,submitFailed:!1});case R:var n=t.payload,a=n.navigationContext,r=n.navigationStack,i=n.sendPinCode,o=n.subtaskInputs,s=h()({},e.subtaskInputs);for(var l in s)o[l]&&delete s[l];return h()({},e,{currentSubtask:e.subtasks.find(function(e){return e.subtask_id===t.payload.subtaskId}),navigationContext:a,subtaskInputs:s,submitFailed:!1,navigationStack:r,sendPinCode:i});case A:return h()({},e,{startLocation:t.payload});case I:var u=t.payload,c=u.subtaskInputs,d=u.flowData;return h()({},e,{subtaskInputs:h()({},e.subtaskInputs,c),flowData:h()({},e.flowData,d)});case E.FAILURE:var p=t.payload.errors[0].code,f=t.payload.errors[0].message,_=p!==g.a.Offline,m=B(p)?f:void 0;return h()({},e,{fetchStatus:b.a.FAILED,failureMessage:m,shouldAbort:_});case C.FAILURE:var v=t.payload.errors[0].code,y=t.payload.errors[0].message,k=B(v)?y:void 0,w=!F(v,e.currentSubtask);return h()({},e,{fetchStatus:b.a.LOADED,failureMessage:k,shouldAbort:w,submitFailed:!0});case E.SUCCESS:case C.SUCCESS:var S=t.payload,O=S.flow_token,M=S.subtasks,L=t.meta||{},j=L.isTaskNavigation,U=M&&M.length?M[0]:null,V=N(U),z=!!j&&!U;return h()({},e,{currentSubtask:U,fetchStatus:b.a.LOADED,flowToken:O,sendPinCode:V,shouldEndFlow:z,submitFailed:!1,subtasks:M,subtaskInputs:{},navigationStack:U?[U.subtask_id]:[]});case x:return h()({},D);case P:return t.payload;case T.REQUEST:return h()({},e,{sendPinCode:!1});default:return e}}function r(){return M(Math.ceil(10)).toString("hex").slice(0,20)}n.d(t,"k",function(){return L}),n.d(t,"r",function(){return j}),n.d(t,"j",function(){return U}),n.d(t,"i",function(){return V}),n.d(t,"n",function(){return z}),n.d(t,"o",function(){return q}),n.d(t,"p",function(){return G}),n.d(t,"h",function(){return H}),n.d(t,"q",function(){return W}),n.d(t,"l",function(){return Y}),n.d(t,"m",function(){return Q}),n.d(t,"b",function(){return J}),n.d(t,"s",function(){return $}),n.d(t,"v",function(){return te}),n.d(t,"f",function(){return ne}),n.d(t,"t",function(){return re}),n.d(t,"c",function(){return ie}),n.d(t,"x",function(){return oe}),n.d(t,"a",function(){return se}),n.d(t,"g",function(){return le}),n.d(t,"u",function(){return ue}),n.d(t,"d",function(){return ce}),n.d(t,"e",function(){return de}),n.d(t,"w",function(){return pe});var i=n("+6Bu"),o=n.n(i),s=n("fZjL"),l=n.n(s),u=n("//Fk"),c=n.n(u),d=n("bOdI"),p=n.n(d),f=n("Dd8w"),h=n.n(f),_=n("d39v"),m=n("3vh8"),v=n.n(m),g=n("DnGj"),b=n("zAiL"),y=n("ipg4"),k=n("IIth"),w=n("GXZf"),S=n("pVDu"),C=Object(k.a)("rweb/ocf","FETCH"),E=Object(k.a)("rweb/ocf","START"),x="rweb/ocf/CLEAR",I="rweb/ocf/UPDATE",R="rweb/ocf/NAVIGATE",P="rweb/ocf/RESUME",A="rweb/ocf/ATTRIBUTE",T=Object(k.a)("rweb/ocf","VERIFY_IDENTIFIER"),O=v()(["signup"]),M=n("rOku"),D={currentSubtask:null,failureMessage:"",fetchStatus:b.a.NONE,flowName:null,flowToken:null,shouldAbort:!1,shouldEndFlow:!1,submitFailed:!1,startLocation:{},subtasks:[],subtaskInputs:{},navigationContext:{action:""},navigationStack:[],flowData:{}},F=function(e,t){var n=e===g.a.Offline||e===_.a.ValidationFailure||e===_.a.OnboardingFlowRetriableFailure,a=!!t&&!S.j.has(Object(w.e)(t));return n&&a},N=function(e){var t=e&&Object(w.e)(e);return t===S.m.EmailVerification||t===S.m.PhoneVerification},B=function(e){return e===_.a.ValidationFailure||e===_.a.OnboardingFlowFailure||e===_.a.OnboardingFlowRetriableFailure};y.a.register(p()({},"ocf",a));var L=function(e){return e.ocf.flowToken},j=function(e){return e.ocf.subtasks},U=function(e){return e.ocf.fetchStatus},V=function(e){return e.ocf.failureMessage},z=function(e){return e.ocf.shouldAbort},q=function(e){return e.ocf.shouldEndFlow},G=function(e){return e.ocf.submitFailed},H=function(e){return e.ocf.currentSubtask},W=function(e){return e.ocf.subtaskInputs},Y=function(e){return e.ocf.navigationContext},K=function(e){return function(t){return e.ocf.subtasks.find(function(e){return e.subtask_id===t})}},X=function(e){return e.ocf.navigationStack},Z=function(e){return!!e.alert_dialog},Q=function(e){var t=X(e),n=t?t.length:0;if(n<=1)return null;var a=e.ocf.subtasks.find(function(e){return e.subtask_id===t[n-2]});return Z(a)?t[n-3]:t[n-2]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearPersistence;return function(e,n,a){var r=a.persistence;t&&r.set("rweb/ocf",{}),e({type:x})}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,a){var r=(a.api,a.persistence),i=e.flow_name;return(O.has(i)?r.get("rweb/ocf",36e5):c.a.resolve(void 0)).then(function(n){return t(i&&n&&n[i]?{payload:n[i],type:P}:ee(e))})}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,a){var r=a.api,i=a.persistence,o=e.flow_name;return Object(k.b)(t,{params:e,request:r.Ocf.task})({actionTypes:E,context:"START_FLOW",meta:{flowName:o}}).then(function(e){return O.has(o)&&"success"===e.status&&i.set("rweb/ocf",p()({},o,n().ocf)),e})}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a,r){var i=p()({},e,t);a({type:I,payload:{subtaskId:e,subtaskInputs:i,flowData:n}})}},ne=function(e){var t=e.subtaskId,n=e.navigationContext,a=e.destructive,r=e.fromHiddenSubtask;return function(e,i){var o=i(),s=X(o),l=s.indexOf(t),u=[],c={};if(r&&s.length)u=s.slice(0,-1).concat([t]);else if(-1===l)u=s.concat([t]);else{var d=l+1;u=s.slice(0,d),a&&(c=s.slice(d,s.length).reduce(function(e,t){return h()({},e,p()({},t,{}))},{}))}var f=K(o)(t),_=n&&n.action,m="resend_sms"===_||"resend_email"===_,v=N(f)&&(!_||m);e({type:R,payload:{navigationContext:h()({action:""},n),sendPinCode:v,subtaskId:t,subtaskInputs:c,navigationStack:u}})}},ae=function(e,t){return l()(t).map(function(n){var a=e.find(function(e){return e.subtask_id===n}),r=a&&Object(w.d)(a);return p()({subtask_id:a.subtask_id},r,t[n])})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isTaskNavigation,n=o()(e,["isTaskNavigation"]);return function(e,a,r){var i=r.api,o=r.persistence,s=a(),l=L(s),u=j(s),c=W(s),d=ae(u,c),f=h()({},n,{flow_token:l,subtask_inputs:d});return Object(k.b)(e,{params:f,request:i.Ocf.task})({actionTypes:C,context:"SUBMIT_FLOW",meta:{isTaskNavigation:t}}).then(function(e){var t=a().ocf;return o.set("rweb/ocf",p()({},t.flowName,e.subtasks.length&&"success"===e.status?t:void 0)),e})}},ie=function(e,t){return function(n,a){var i=t.should_generate,o=t.next_link,s=a().ocf.flowData,l=i?r():s.OCF_GENERATED_PASSWORD;te(e,{password:l,link:o.link_id},p()({},"OCF_GENERATED_PASSWORD",l))(n,a)}},oe=function(e){return function(t,n,a){var r=a.api;if(n().ocf.sendPinCode){var i=L(n()),o=h()({},e,{flow_token:i});return Object(k.b)(t,{params:o,request:r.Ocf.verifyUserIdentifier})({actionTypes:T,context:"VERIFY_IDENTIFIER"})}return c.a.resolve({})}},se=function(e){return function(t,n,a){return a.api.Ocf.callOnboardingPath(e)}},le=function(e){return function(t,n,a){return a.api.Ocf.removeContacts(e)}},ue=function(e){return function(t,n,a){return a.api.Ocf.syncContacts(e)}},ce=function(e){return function(t,n,a){return a.api.Ocf.getContactsImportStatus(e)}},de=function(e){return function(t,n,a){return a.api.Ocf.getVerificationStatus(e)}},pe=function(e){return function(t,n,a){return a.api.Ocf.verificationLink(e)}}},"3VPz":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M18.707 13.293a1 1 0 0 0-1.414 0L13 17.586V5a1 1 0 1 0-2 0v12.586l-4.293-4.293a1 1 0 0 0-1.414 1.414l6 6a.996.996 0 0 0 1.414 0l6-6a1 1 0 0 0 0-1.414z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},B1Ul:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("cxPT"),i=a(r),o=n("LEGc"),s=a(o),l={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t=void 0,n=new Promise(function(n){t=(0,s.default)(function(){e&&n(e())})});return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){(0,o.cancelIdleCallback)(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){(0,i.default)(!!e,"Must provide a handle to clear.")},addListener:function(){}};t.default=l,e.exports=t.default},B4q1:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 11H13V4.25a1 1 0 1 0-2 0V11H4.25a1 1 0 1 0 0 2H11v6.75a1 1 0 1 0 2 0V13h6.75a1 1 0 1 0 0-2z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},CeBo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("//Fk"),r=n.n(a),i=n("Dd8w"),o=n.n(i),s=n("fZjL"),l=n.n(s),u=n("Zx67"),c=n.n(u),d=n("Zrlr"),p=n.n(d),f=n("wxAW"),h=n.n(f),_=n("zwoO"),m=n.n(_),v=n("Pf15"),g=n.n(v),b=n("rO6i"),y=n("9w+k"),k=n("iuYP"),w=n("Dxna"),S=n("GXZf"),C=n("pVDu"),E=n("GiK3"),x=n.n(E),I=(n("5nt5"),n("Mpbj")),R=n.n(I),P=n("jYKd"),A=n.n(P),T=n("KSGD"),O=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._textArray=function(){var e=a.props,t=e.entities,n=e.subtaskInputs,r=e.text;return t.reduce(function(e,i,o){var s=i.from_index,l=i.to_index,u=i.navigation_link,c=i.subtask_data_reference,d=t[o-1]?t[o-1].to_index:0,p=x.a.createElement(R.a,{key:d+","+s},r.slice(d,s)),f=void 0,h=s+","+l;if(u){var _=u.link_type===C.i.ChromelessWeb;f=x.a.createElement(w.a,{key:h,link:_?k.c(u.url):k.d("/"),onClick:_?void 0:a._handleClick(u),style:M.link},r.slice(s,l))}else f=c?x.a.createElement(R.a,{key:h},Object(S.c)(n,c)):x.a.createElement(R.a,{key:h},r.slice(s,l));var m=o===t.length-1?x.a.createElement(R.a,{key:""+l},r.slice(l)):null;return e.concat([p,f,m].filter(function(e){return!!e}))},[])},a._handleClick=function(e){return function(t){t.preventDefault();var n=a.props,r=n.onClick,i=n.onNavigate;i?i(e):r&&r()}},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.entities,a=e.size,r=e.style,i=e.text,o=e.weight;return x.a.createElement(R.a,{color:t,size:a,style:r,weight:o},n&&n.length>0?this._textArray():i)}}]),t}(x.a.PureComponent),M=A.a.create(function(e){return{link:{color:e.colors.blue,textDecorationLine:"none",cursor:"pointer"}}}),D=O,F=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._handleConfirm=function(){var e=a.props.subtask;a._handleButtonClick(e.next_link)},a._handleCancel=function(){var e=a.props.subtask.cancel_link;e&&a._handleButtonClick(e)},a._handleButtonClick=function(e){var t=a.props,n=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),n(e)},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.onNavigate,a=e.subtaskInputs,r=t.primary_text?x.a.createElement(D,o()({},t.primary_text,{nativeID:b.c,onNavigate:n,subtaskInputs:a})):void 0,i=t.secondary_text?x.a.createElement(D,o()({},t.secondary_text,{onNavigate:n,subtaskInputs:a})):void 0,s=t.cancel_link,l=t.next_link;return x.a.createElement(y.a,{cancelLabel:s&&s.label,confirmLabel:l&&l.label,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,onMaskClick:this._handleCancel,text:i})}}]),t}(x.a.Component),N=F,B=n("UB1R"),L=n("F8kA"),j=n("uMse"),U=n.n(j),V=n("qyjT"),z=n("MjES"),q=n.n(z),G=n("jaZx"),H=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._handleCtaClick=function(e){var t=n.props,a=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),a(e)},n._handlePrimaryActionClick=function(){n.setState({downloadLinkClicked:!0}),n._handleCtaClick(n.props.subtask.primary_action_link)},n._handleSecondaryActionClick=function(){var e=n.props.subtask.secondary_action_link;e&&n._handleCtaClick(e)},n.state={downloadLinkClicked:!1},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=this.state.downloadLinkClicked,u=i.primary_text?E.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,subtaskInputs:s})):null,c=!l||!i.primary_action_text_after_click,d=l&&i.primary_action_text_after_click||i.primary_action_link.label,p=i.primary_image_url?E.createElement(G.b,{accessibilityLabel:"",aspect:G.a.exact(1),image:i.primary_image_url||""}):null,f=i.secondary_text?E.createElement(D,o()({},i.secondary_text,{onNavigate:r,subtaskInputs:s})):null,h=E.createElement(q.a,null,p,f);return E.createElement(V.a,{history:t,location:n,onBackClick:a},E.createElement(B.a,{actionLabel:d||"",actionType:Object(S.a)(i.primary_action_style),message:u,onAction:c?this._handlePrimaryActionClick:U.a,onClose:U.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_style&&Object(S.a)(i.secondary_action_style),subtext:h,textAlignment:"center",withCloseButton:!1}),this.props.errorDialog)}}]),t}(E.Component),W=H,Y=n("YImy"),K=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._handleCtaClick=function(e){var t=a.props,n=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),n(e)},a._handlePrimaryActionClick=function(){a._handleCtaClick(a.props.subtask.primary_action_link)},a._handleSecondaryActionClick=function(){var e=a.props.subtask.secondary_action_link;e&&a._handleCtaClick(e)},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=E.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,subtaskInputs:s})),u=i.secondary_text?E.createElement(D,o()({},i.secondary_text,{onNavigate:r,subtaskInputs:s})):null,c=i.detail_text?E.createElement(D,o()({},i.detail_text,{onNavigate:r,subtaskInputs:s})):null;return E.createElement(V.a,{history:t,location:n,onBackClick:a},E.createElement(B.a,{actionLabel:i.primary_action_link.label||"",actionType:Object(S.a)(i.primary_action_style),footer:c,message:l,onAction:this._handlePrimaryActionClick,onClose:U.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_link&&Object(S.a)(i.secondary_action_style),subtext:u,textAlignment:i.text_alignment===C.n.Left?"left":"center",withCloseButton:!1}),this.props.errorDialog)}}]),t}(E.Component),X=K,Z=n("7t5w"),Q=n("2Uj9"),J=n("z9yJ"),$=n("4n+p"),ee=n("sLaq"),te=n("bndy"),ne=n("VFk1"),ae=n("y7g/"),re=function(e){return function(t,n){return n.location.query[e]}},ie=function(e,t){return t.flowName||t.location.pathname.slice(t.match.path.length)},oe=re("country_code"),se=function(e,t){return function(n,a){return a.location.state&&a.location.state[e]||t}}("input"),le=re("return_path"),ue=re("return_url"),ce=re("is_native"),de=re("test_country_code"),pe=function(e,t){return Object(S.b)(t.location.query.overrides)},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,a){return a.api.Nymizer.logSignup(e)}},he=Object(te.createSelector)(Q.h,oe,pe,ie,se,le,ue,ce,de,Q.r,Q.k,Q.j,Q.m,ne.a,Q.q,Q.i,Q.n,Q.o,Q.p,function(e,t,n,a,r,i,o,s,l,u,c,d,p,f,h,_,m,v,g){return{currentSubtask:e,countryCode:t,debugOverrides:n,isNative:s,testCountryCode:l,flowName:a,inputFlowData:r,returnPath:i,returnUrl:o,subtasks:u,flowToken:c,fetchStatus:d,previousNavigableSubtaskId:p,subtaskInputs:h,failureMessage:_,shouldAbort:m,shouldEndFlow:v,startLocation:f,submitFailed:g}}),_e={addToast:J.b,clearFlow:Q.b,createLocalApiErrorHandler:Object(ee.b)("OCF_FLOW"),removeContacts:Q.g,fetchTemporaryPassword:Q.c,logNymizerSignup:fe,navigateSubtask:Q.f,startFlow:Q.s,submitFlow:Q.t,updateFlow:Q.v,googleAnalyticsPageView:Z.b,googleAnalyticsSendEvent:Z.c,scribeAction:Z.d,scribePageImpression:Z.e,verifyCredentials:ae.o},me=Object($.connect)(he,_e),ve=n("bgPG"),ge=n("sp77"),be=n.n(ge),ye=n("czSA"),ke=function(e,t){return t.location.query.error},we=function(e,t){return!!t.location.query.state},Se=Object(te.createSelector)(ke,we,function(e,t){return{importError:e,startImport:t}}),Ce={createLocalApiErrorHandler:Object(ee.b)("EMAIL_CONTACTS_SYNC"),importStatus:Q.d,scribeAction:Z.d,syncContacts:Q.u},Ee=Object($.connect)(Se,Ce),xe=n("gRE1"),Ie=n.n(xe),Re=Object(T.shape)({action:T.string.isRequired,text:T.string}),Pe=Object(T.shape)({subtask_data_reference:Object(T.shape)({subtask_id:T.string.isRequired,key:T.string.isRequired})}),Ae=Object(T.shape)({media_data_reference:Pe.isRequired,style:Object(T.oneOf)(Ie()(C.h)).isRequired}),Te=Object(T.shape)({link_type:Object(T.oneOf)(Ie()(C.i)).isRequired,link_id:T.string.isRequired,label:T.string,label_icon:T.string,continue_message:T.string,url:T.string,subtask_navigation_context:Re,is_destructive:T.bool,suppress_client_events:T.bool,subtask_id:T.string}),Oe=Object(T.shape)({from_index:T.number.isRequired,to_index:T.number.isRequired,navigation_link:Te,subtask_data_reference:Pe}),Me=Object(T.shape)({text:T.string.isRequired,entities:Object(T.arrayOf)(Oe).isRequired}),De=Object(T.shape)({id:T.string.isRequired,name:T.string.isRequired}),Fe=Object(T.shape)({user_id:T.number.isRequired,user:T.object.isRequired,social_text:T.string,tracking_token:T.string,checked_by_default:T.bool.isRequired}),Ne=Object(T.shape)({header:T.string,show_more_button:T.object,items:Object(T.arrayOf)(Object(T.oneOfType)([De,Fe])).isRequired}),Be=Object(T.shape)({initial_value:T.bool.isRequired}),Le=Object(T.shape)({threshold:T.number.isRequired,text:Me}),je=Object(T.shape)({primary_text:Me.isRequired,secondary_text:Me,value_data:Ve,value_identifier:T.string,value_type:Object(T.oneOf)(Ie()(C.l))}),Ue=Object(T.shape)({settings:Object(T.arrayOf)(je).isRequired,status_text_quantity_pairs:Object(T.arrayOf)(Le)}),Ve=Object(T.shape)({boolean_data:Be,settings_group_data:Ue}),ze={subtask_id:T.string.isRequired},qe=Object(T.shape)({day:T.number.isRequired,month:T.number.isRequired,year:T.number.isRequired}),Ge=Object(T.shape)({primary_text:Me,secondary_text:Me,next_link:Te.isRequired,cancel_link:Te,dismiss_link:Te}),He=Object(T.shape)({primary_text:Me.isRequired,secondary_text:Me,next_link:Te.isRequired,cancel_link:Te,dismiss_link:Te}),We=Object(T.shape)({title:T.string.isRequired,next_link:Te.isRequired}),Ye=Object(T.shape)({primary_text:Me,secondary_text:Me,detail_text:Me,primary_action_link:Te.isRequired,primary_action_style:Object(T.oneOf)(Ie()(C.b)),secondary_action_link:Te,secondary_action_style:Object(T.oneOf)(Ie()(C.b)),settings:Object(T.arrayOf)(T.object),button_location:Object(T.oneOf)(Ie()(C.a)),text_alignment:Object(T.oneOf)(Ie()(C.n))}),Ke=Object(T.shape)({primary_text:Me.isRequired,secondary_text:Me,detail_text:Me,accept_text:T.string.isRequired,authorization_url:T.string.isRequired,decline_link:Te,next_link:Te.isRequired,skip_link:Te.isRequired}),Xe=Object(T.shape)({primary_text:Me.isRequired,secondary_text:Me,hint:T.string,name:T.string,username:T.string,email:T.string,next_link:Te.isRequired,phone:T.string}),Ze=Object(T.shape)({primary_text:Me,secondary_text:Me,hint_text:T.string,default_text:T.string,max_length:T.number,next_link:Te.isRequired,skip_link:Te}),Qe=Object(T.shape)({status:Object(T.oneOf)(Ie()(C.d)).isRequired,end_flow_type:Object(T.oneOf)(Ie()(C.i)).isRequired}),Je=Object(T.shape)({should_generate:T.bool.isRequired,next_link:Te.isRequired}),$e=Object(T.shape)({primary_text:Me,secondary_text:Me,hint:T.string.isRequired,custom_interests_header:T.string.isRequired,groups:Object(T.arrayOf)(Ne).isRequired,selected_items:Object(T.arrayOf)(T.string).isRequired,next_link:Te.isRequired,skip_link:Te}),et=Object(T.shape)({primary_text:Me,primary_action_links:Object(T.arrayOf)(Te).isRequired,cancel_link:Te,dismiss_link:Te}),tt=Object(T.shape)({primary_text:Me,secondary_text:Me,detail_text:Me,granted_link:Te.isRequired,denied_link:Te.isRequired,previously_granted_link:Te,previously_denied_link:Te,previously_denied_reprompt_behavior:Object(T.oneOf)(["always","never","preprompt"])}),nt=Object(T.shape)({user:T.object.isRequired,auth_token:T.string,oauth_token:T.string,oauth_token_secret:T.string,known_device_token:T.string,next_link:Te.isRequired}),at=Object(T.shape)({primary_text:Me,secondary_text:Me,cta_link:Te,next_link:Te.isRequired}),rt=Object(T.shape)({link:Te.isRequired,onboarding_callback_path:T.string}),it=Object(T.shape)({primary_text:Me.isRequired,secondary_text:Me.isRequired,detail_text:Me.isRequired,hint_text:T.string.isRequired,phone_number:Pe.isRequired,next_link:Te.isRequired,fail_link:Te.isRequired,cancel_link:Te.isRequired}),ot=Object(T.shape)({primary_text:Me,secondary_text:Me,detail_text:Me,hint_text:T.string.isRequired,email:Pe.isRequired,name:Pe.isRequired,next_link:Te.isRequired,fail_link:Te.isRequired,cancel_link:Te.isRequired}),st=Object(T.shape)({primary_text:T.string.isRequired,secondary_text:T.string,discoverable_by_email:T.bool,discoverable_by_email_label:T.string.isRequired,discoverable_by_email_detail_text:Me,discoverable_by_phone:T.bool,discoverable_by_phone_label:T.string.isRequired,discoverable_by_phone_detail_text:Me,next_link:Te.isRequired}),lt=Object(T.shape)({settings:Object(T.arrayOf)(je).isRequired,primary_text:Me,secondary_text:Me,detail_text:Me,next_link:Te.isRequired,cancel_link:Te,scroll_hint:T.string}),ut=Object(T.shape)({primary_text:T.string,secondary_text:T.string,name_hint:T.string.isRequired,phone_hint:T.string.isRequired,email_hint:T.string.isRequired,phone_email_hint:T.string.isRequired,birthday_hint:T.string.isRequired,birthday_explanation:T.string,use_phone_text:T.string.isRequired,use_email_text:T.string.isRequired,next_link:Te.isRequired,email_next_link:Te,js_instrumentation:T.object,ignore_birthday:T.bool,show_password_field:T.bool,password_hint:T.string}),ct=Object(T.shape)({primary_text:T.string,secondary_text:T.string,name:Pe,phone_number:Pe,email:Pe,birthday:Pe,birthday_requirement:qe,sign_in_text:Me,detail_text:Me,phone_next_link:Te.isRequired,email_next_link:Te.isRequired,name_edit_link:Te.isRequired,phone_edit_link:Te.isRequired,email_edit_link:Te.isRequired,birthday_edit_link:Te.isRequired,invalid_birthday_link:Te.isRequired,ignore_birthday:T.bool}),dt=Object(T.shape)({primary_text:Me,secondary_text:Me,next_link:Te.isRequired,skip_link:Te}),pt=Object(T.shape)({primary_text:Me,secondary_text:Me,next_link:Te.isRequired,skip_link:Te,avatar_image_reference:Pe}),ft=Object(T.shape)({sources:Object(T.arrayOf)(Ae).isRequired,next_link:Te.isRequired}),ht=Object(T.shape)({primary_text:Me,secondary_text:Me,hint:T.string,groups:Object(T.arrayOf)(Ne).isRequired,next_link:Te,next_link_label_enabled_text:Me,next_link_label_disabled_text:Me,skip_link:Te,follow_button_type:Object(T.oneOf)(Ie()(C.e)).isRequired,min_follow_count:T.number}),_t=(Object(T.shape)(o()({},ze,{alert_dialog:Ge,alert_dialog_suppress_client_events:He,cta:Ye,contacts_user_list:We,email_contacts_sync:Ke,end_flow:Qe,enter_password:Xe,enter_text:Ze,email_verification:ot,fetch_temporary_password:Je,interest_picker:$e,menu_dialog:et,notifications_permission_prompt:tt,open_account:nt,open_home_timeline:at,open_link:rt,phone_verification:it,privacy_options:st,select_avatar:dt,select_banner:pt,settings_list:lt,sign_up:ut,sign_up_review:ct,upload_media:ft,user_recommendations_list:ht})),n("zAiL")),mt=n("Y2tT"),vt=n("plj8"),gt=n.n(vt),bt=n("PJo1"),yt=n.n(bt),kt=n("zEXV"),wt=gt.a.bc6164b6,St=function(){return null},Ct=10,Et=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));return a._startContactImports=function(e){a._scribeOAuthAction("accepted");var t=a.props,n=t.createLocalApiErrorHandler;(0,t.syncContacts)(e).then(function(e){return a._pollImportStatus()}).catch(function(e){n()(e),a.setState({importFinished:!0})})},a._handlePrimaryActionClick=function(){var e=a.props.subtask,t=e.authorization_url;if(e.open_in_new_tab&&ye.canUseDOM){var n=window.innerWidth,r=n-500,i="width=500,height=500,top=0,left="+r+",toolbar=no,location=yes";window.open(t,"twitter_oauth",i).focus()}else kt.b.navigateTo(t)},a._handleSecondaryActionClick=function(){var e=a.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.skip_link;i(r,{link:o.link_id}),t(o)},a._scribeOAuthAction=function(e){(0,a.props.scribeAction)({page:"onboarding",section:"email_contacts_sync",component:"oauth_prompt",element:"permission",action:e})},a._handleEvent=function(e){if(e.origin==="https://"+window.location.hostname){var t=o()({callback_url:"https://"+window.location.hostname+window.location.pathname},e.data);!t.error&&t.state&&a._startContactImports(t)}},a._pollImportStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e>Ct)a.setState({importFinished:!0});else{var t=a.props,n=t.createLocalApiErrorHandler,r=t.importStatus;a._timer=setTimeout(function(){r().then(function(t){switch(t.status){case C.c.Success:a.setState({importFinished:!0});break;case C.c.NotFound:a._pollImportStatus(e+1);break;default:a.setState({importFinished:!0})}}).catch(function(e){n()(e),a.setState({importFinished:!0})})},1e3)}},a.state={importFinished:void 0},a._navigating=!1,window.addEventListener("message",a._handleEvent,!1),a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.importError,a=e.location,r=e.onNavigate,i=e.startImport,s=e.subtask,l=e.subtaskId,u=e.updateFlow;this._showLoadingSpinner=i;var c=s.decline_link;if("access_denied"===n)this._scribeOAuthAction("declined"),c&&(u(l,{link:c.link_id}),r(c));else if(i){var d=o()({callback_url:"https://"+window.location.hostname+a.pathname},a.query);t.replace(a.pathname),this._startContactImports(d)}}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),window.removeEventListener("message",this._handleEvent,!1)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,r=e.updateFlow,i=this.state.importFinished,o=n.next_link;!this._navigating&&i&&(this._navigating=!0,r(a,{link:o.link_id}),t(o))}},{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.accept_text,c=s.detail_text,d=s.primary_text,p=s.skip_link,f=s.secondary_text,h=x.a.createElement(D,o()({},d,{nativeID:b.c,onNavigate:i,subtaskInputs:l})),_=f?x.a.createElement(D,o()({},f,{onNavigate:i,subtaskInputs:l})):null,m=c?x.a.createElement(D,o()({},c,{onNavigate:i,subtaskInputs:l})):null;return this._showLoadingSpinner?x.a.createElement(mt.a,{fetchStatus:_t.a.LOADING,loadingMessage:wt,onRequestRetry:U.a,render:St,retryable:!1}):x.a.createElement(V.a,{hideLogo:!0,history:n,location:a,onBackClick:r},x.a.createElement(B.a,{actionLabel:u,footer:m,icon:yt.a,message:h,onAction:this._handlePrimaryActionClick,onClose:U.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:p.label,secondaryActionType:"text",subtext:_,withCloseButton:!1}),t)}}]),t}(x.a.Component),xt=Ee(Et),It=Object(te.createSelector)(Q.l,function(e){return{navigationContext:e}}),Rt={createLocalApiErrorHandler:Object(ee.b)("OCF_FLOW_EMAIL_VERIFICATION"),getVerificationStatus:Q.e,verifyIdentifier:Q.x},Pt=Object($.connect)(It,Rt),At=gt.a.ffc10a30,Tt={defaultToast:{text:At},showToast:!0},Ot=A.a.create(function(e){return{header:{marginBottom:e.spaces.xSmall},contentArea:{marginLeft:e.spaces.xLarge,marginRight:e.spaces.xLarge},checkboxText:{flexShrink:1,paddingRight:e.spaces.xSmall,width:"100%"},headline:{marginTop:e.spaces.small,marginBottom:e.spaces.small},option:{marginTop:e.spaces.xSmall,flexDirection:"row",justifyContent:"space-between"},primaryButton:{marginTop:e.spaces.small},subHeader:{marginBottom:e.spaces.small},textField:{padding:0,paddingLeft:0,paddingRight:0}}}),Mt=n("BrJN"),Dt=n("fF1d"),Ft=n.n(Dt),Nt={Email:"email"},Bt=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));Lt.call(a);var r=e.subtaskId,i=e.subtaskInputs,o=Object(S.c)(i,{key:Nt.Email,subtask_id:r},"")||"";return a.state={email:o,pinCode:""},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){return this.props.subtask.verification_status_polling_enabled&&this._startStatusPolling(),this._sendEmailVerificationRequest()}},{key:"componentWillUnmount",value:function(){this._clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=x.a.createElement(Ft.a,{disabled:!this.state.pinCode,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return x.a.createElement(V.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:u},x.a.createElement(q.a,null,x.a.createElement(q.a,{style:Ot.contentArea},i.primary_text&&x.a.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,size:"xLarge",style:Ot.headline,subtaskInputs:s,weight:"bold"})),i.secondary_text&&x.a.createElement(D,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})),x.a.createElement(Mt.a,{appText:{size:"large"},autoFocus:!0,name:"verfication_code",onChange:this._handleCodeUpdated,placeholder:i.hint_text,rootStyle:Ot.textField,withoutSidePadding:!0}),i.detail_text&&x.a.createElement(D,o()({},i.detail_text,{color:"blue",onNavigate:r,style:jt.detailLink,subtaskInputs:s})))),this.props.errorDialog)}}]),t}(x.a.Component),Lt=function(){var e=this;this._sendEmailVerificationRequest=function(){var t=e.props,n=t.createLocalApiErrorHandler,a=t.subtask,r=t.verifyIdentifier,i=t.onNavigate,o=t.subtaskInputs,s=a.email.subtask_data_reference,l=a.name.subtask_data_reference,u=s&&o[s.subtask_id][s.key],c=l&&o[l.subtask_id][l.key];return r({email:u,display_name:c}).then(function(t){e.setState({email:u})}).catch(function(e){n(Tt)(e),i(a.fail_link)})},this._handleCodeUpdated=function(t){e.setState({pinCode:t.target.value})},this._startStatusPolling=function(){var t=e.props,n=t.createLocalApiErrorHandler,a=t.getVerificationStatus,r=t.subtask,i=t.subtaskInputs,o=r.email.subtask_data_reference,s=o&&i[o.subtask_id][o.key];e._timer=setTimeout(function(){a({email:s}).then(function(t){t.verified?(e.setState({pinCode:t.pin_code}),e._clearTimer(),e._handleDoneButtonClick()):(e._clearTimer(),e._startStatusPolling())}).catch(function(t){n()(t),e._clearTimer(),e._startStatusPolling()})},1e3)},this._clearTimer=function(){e._timer&&clearTimeout(e._timer)},this._handleDoneButtonClick=function(){var t=e.props,n=t.onNavigate,a=t.subtask,r=t.subtaskId,i=t.updateFlow,o=e.state,s=o.email;i(r,{code:o.pinCode,email:s,link:a.next_link.link_id}),n(a.next_link)}},jt=A.a.create(function(e){return{detailLink:{marginTop:e.spaces.small}}}),Ut=Pt(Bt),Vt={scribeAction:Z.d},zt=Object($.connect)(null,Vt),qt=n("+6Bu"),Gt=n.n(qt),Ht=n("d7EF"),Wt=n.n(Ht),Yt=n("Qfhh"),Kt=gt.a.e01d8ebb,Xt=gt.a.ifbe0f64,Zt=Object(Yt.a)({namespace:"passwordValidity",fetchOneContext:"FETCH_PASSWORD_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.fetchPasswordStrength},fetchOneParams:function(e,t){var n=Wt()(e,1),a=n[0];return o()({password:a},t)},localValidator:function(e,t){var n=e.indexOf(" ")>=0,a=!(!t||!t.username)&&e===t.username,r=e.length>=6;return{errorMessage:n&&Kt||(a||!r)&&Xt,valid:r&&!a&&!n}}}),Qt=Object(te.createSelector)(Zt.selectEntitiesWithFetchStatus,function(e){return{validity:e}}),Jt={clearPasswordValidity:Zt.clear,createLocalApiErrorHandler:Object(ee.b)("PASSWORD_FIELD_CONTEXT"),scribeAction:Z.d,validate:Zt.validate},$t=Object($.connect)(Qt,Jt),en=n("NreW"),tn=n.n(en),nn={page:"onboarding",component:"password_entry"},an=gt.a.ef405e26,rn=gt.a.b790dab7,on=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));a._onValidationUpdated=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,n=t.validity,r=t.scribeAction,i=t.onPasswordValidated,s=e.result&&n[e.result]?n[e.result]:{},l=s.valid,u=void 0!==l&&l;a.setState({valid:u}),r(o()({},nn,{element:"entered_password",action:u?"valid":"invalid"})),i(u)},a._getVisibilityToggle=function(){var e=a.state.revealed;return x.a.createElement(R.a,{accessibilityRole:"button",color:"blue",onPress:a._handleVisibilityToggle,style:sn.toggleLink},e?rn:an)},a._handleVisibilityToggle=function(){a.setState({revealed:!a.state.revealed})},a._handlePasswordUpdated=function(e){var t=a.props,n=t.onPasswordChange,r=t.userIdentifier,i=e.target.value;a._validateDebounced(i,{username:r}),a.setState({password:i}),n(i)};var r=e.defaultValue;return a.state={revealed:!1,password:r,valid:!0},a._validateDebounced=tn()(function(e,t){return a.props.validate(e,t).catch(a.props.createLocalApiErrorHandler()).then(a._onValidationUpdated)},500),a}return g()(t,e),h()(t,[{key:"componentWillUnmount",value:function(){this.props.clearPasswordValidity(),this._validateDebounced.clear()}},{key:"render",value:function(){var e=this.props,t=e.userIdentifier,n=e.validity,a=Gt()(e,["userIdentifier","validity"]),r=this.state,i=r.revealed,s=r.password,l=n[s]||{},u=l.errorMessage,c=void 0===u?"":u;return x.a.createElement(q.a,{style:Ot.textField},t?x.a.createElement("input",{name:"username",type:"hidden",value:t}):null,x.a.createElement(Mt.a,o()({},a,{errorText:s?c:"",label:"",name:"password",onChange:this._handlePasswordUpdated,rootStyle:Ot.textField,type:i?"text":"password"})),this._getVisibilityToggle())}}]),t}(x.a.Component);on.defaultProps={defaultValue:"",onPasswordChange:U.a,onPasswordValidated:U.a};var sn=A.a.create(function(e){return{toggleLink:{marginTop:e.spaces.xxSmall}}}),ln=$t(on),un=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._handleDoneButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow;n._saveCredentialsIfNeeded().then(function(){i(r,o()({},n.state,{link:a.next_link.link_id})),t(a.next_link)}).catch(function(){n._scribeSmartLockError(),i(r,o()({},n.state,{link:a.next_link.link_id})),t(a.next_link)})},n._scribeSmartLockError=function(){(0,n.props.scribeAction)({page:"onboarding",section:"enter_password",component:"smart_lock",element:"prompt",action:"error"})},n._handlePasswordChange=function(e){n.setState({password:e})},n._handleValidationChange=function(e){n.setState({isPasswordValid:e})},n._saveCredentialsIfNeeded=function(){var e=n.props.subtask,t=e.username,a=n.state.password,i=!!window.PasswordCredential;if(t&&i){var o=new window.PasswordCredential({id:t,password:a});return navigator.credentials.store(o)}return r.a.resolve()},n.state={},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=this.state.isPasswordValid,c=x.a.createElement(Ft.a,{disabled:!u,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return x.a.createElement(V.a,{hideBackButton:!0,history:n,location:a,progressIndication:l,rightControl:c},x.a.createElement(q.a,{style:Ot.contentArea},x.a.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,size:"xLarge",style:Ot.headline,subtaskInputs:s,weight:"bold"})),i.secondary_text?x.a.createElement(D,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})):null,x.a.createElement(ln,{autoComplete:"true",onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handleValidationChange,placeholder:i.hint,userIdentifier:i.username})),t)}}]),t}(x.a.Component),cn=zt(un),dn=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));return a._handleDoneButtonClick=function(){var e=a.props,t=e.onNavigate,n=e.subtask.next_link,r=e.subtaskId;(0,e.updateFlow)(r,o()({},a.state,{link:n.link_id})),t(n)},a._handleSkipButtonClick=function(){var e=a.props,t=e.onNavigate,n=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;n&&i(r,{link:n.link_id}),n&&t(n)},a._handleEntryUpdated=function(e){var t=e.target.value,n=void 0===t?"":t,r=n.trim();a.setState({text:r})},a._getPropsFromKeyboardType=function(e){switch(e){case C.g.Email:return"email";case C.g.Number:return"number";case C.g.Password:return"password";case C.g.Telephone:return"tel";default:return}},a.state={text:a.props.subtask.default_text},a}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.default_text,c=s.keyboard_type,d=s.primary_text,p=s.secondary_text,f=s.hint_text,h=s.max_length,_=s.multiline,m=s.next_link,v=s.skip_link,g=x.a.createElement(Ft.a,{disabled:!v&&!this.state.text,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},m.label),y=v&&x.a.createElement(Ft.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"invertedPrimary"},v.label);return x.a.createElement(V.a,{history:n,location:a,onBackClick:r,rightControl:this.state.text||!v?g:y},x.a.createElement(q.a,{style:Ot.contentArea},d?x.a.createElement(D,o()({},d,{nativeID:b.c,onNavigate:i,size:"xLarge",style:Ot.headline,subtaskInputs:l,weight:"bold"})):null,p?x.a.createElement(D,o()({},p,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,x.a.createElement(Mt.a,{defaultValue:u,label:"",maxLength:h,multiline:_,name:"text",onChange:this._handleEntryUpdated,placeholder:f,type:this._getPropsFromKeyboardType(c)})),t)}}]),t}(x.a.Component),pn=dn,fn=n("sf7G"),hn=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._executeSubtaskAction=function(){var e=a.props,t=e.navigationLink,n=e.subtaskAction,r=e.onNavigate,i=e.onError;try{n().then(function(){return r(t,!0)}).catch(i)}catch(e){i(e)}},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){this._executeSubtaskAction()}},{key:"componentDidUpdate",value:function(e){this.props.subtaskId!==e.subtaskId&&this._executeSubtaskAction()}},{key:"render",value:function(){return null}}]),t}(x.a.Component);hn.defaultProps={onError:U.a};var _n,mn=hn,vn=n("c/Tr"),gn=n.n(vn),bn=n("Gu7T"),yn=n.n(bn),kn=n("3vh8"),wn=n.n(kn),Sn={SelectedCustomInterests:"selected_custom_interests",SelectedInterestIds:"selected_interest_ids"},Cn=function(e,t){var n=Object(Q.q)(e);return Object(S.c)(n,{key:Sn.SelectedCustomInterests,subtask_id:t.subtaskId},[]).map(function(e){return{topic:e.custom_interest,ttt_token:e.ttt_token}})},En=function(e,t){return Cn(e,t).map(function(e){return e.topic})},xn=function(e,t){var n=Object(Q.q)(e);return Object(S.c)(n,{key:Sn.SelectedInterestIds,subtask_id:t.subtaskId},[])},In=Object(te.createSelector)(Cn,En,xn,function(e,t,n){return{initialCustomInterests:e,initialCustomInterestIds:t,initialSelectedInterestIds:n}}),Rn=Object($.connect)(In),Pn=n("g91K"),An=n("/SMD"),Tn=n.n(An),On=n("6PFH"),Mn=[On.a.Topics],Dn=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));n._maybeRenderCustomInterests=function(){var e=n.props.subtask,t=e.custom_interests_header,a=n.state,r=a.customInterests;if(a.shouldRenderCustomInterests)return x.a.createElement(q.a,null,x.a.createElement(q.a,{name:"custom",style:Fn.group},x.a.createElement(R.a,{size:"large",style:Fn.groupHeader,weight:"bold"},t),x.a.createElement(q.a,{style:Fn.pillsContainer},r.map(function(e){return n._renderCustomInterest(e.topic)}))))},n._renderGroup=function(e){var t=void 0;if(e.show_more){var a=e.show_more.initial_to_show+(e.expanded?e.show_more.extra_to_show:0);t=e.items.slice(0,a)}else t=e.items;return x.a.createElement(q.a,{key:"group_"+e.header,name:"group",style:Fn.group},x.a.createElement(R.a,{size:"large",style:Fn.groupHeader,weight:"bold"},e.header),x.a.createElement(q.a,{style:Fn.pillsContainer},t.map(n._renderSelectionPill),n._maybeRenderShowMoreButton(e)))},n._maybeRenderShowMoreButton=function(e){return e.show_more&&e.items.length>e.show_more.initial_to_show&&!e.expanded?x.a.createElement(Tn.a,{compact:!0,key:"showMore_"+e.header,mode:"expand",name:"showMore",onClick:n._handleShowMore(e),style:Fn.selectionPillStyles,text:e.show_more.text}):null},n._renderCustomInterest=function(e){var t=n.state.selectedCustomInterestIds;return x.a.createElement(Tn.a,{compact:!0,key:"selectionPill_"+e,onClick:n._handleToggleCustomInterest(e),selected:t.has(e),style:Fn.selectionPillStyles,text:e,value:e})},n._renderSelectionPill=function(e){var t=n.state.selectedInterestIds,a=t.has(e.id),r=n._handleToggleInterest(e.id,a);return x.a.createElement(Tn.a,{compact:!0,key:"selectionPill_"+e.id,onClick:r,selected:a,style:Fn.selectionPillStyles,text:e.name,value:e.id})},n._shouldShowSkipInstead=function(){var e=n.state,t=e.selectedInterestIds,a=e.selectedCustomInterestIds;return 0===t.size&&0===a.size},n._handleSuggestionSelected=function(e){var t=n.state,a=t.customInterestIds,r=t.selectedCustomInterestIds,i=e.data,o=i.topic,s=i.ttt_context,l={topic:o,ttt_token:s};a.has(o)||n.setState({customInterests:n.state.customInterests.concat([l]),customInterestIds:wn()([].concat(yn()(a))).add(o),selectedCustomInterestIds:wn()([].concat(yn()(r))).add(o),shouldRenderCustomInterests:!0})},n._handleShowMore=function(e){return function(){var t=n.state.groups;t.find(function(t){return t.header===e.header}).expanded=!0,n.setState({groups:t})}},n._handleToggleCustomInterest=function(e){return function(){var t=wn()([].concat(yn()(n.state.selectedCustomInterestIds)));t.has(e)?(t.delete(e),n.setState({selectedCustomInterestIds:t})):n.setState({selectedCustomInterestIds:t.add(e)})}},n._handleToggleInterest=function(e,t){return function(){var a=wn()([].concat(yn()(n.state.selectedInterestIds)));t?(a.delete(e),n.setState({selectedInterestIds:a})):n.setState({selectedInterestIds:a.add(e)})}},n._handleNextButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state,s=o.customInterests,l=o.selectedCustomInterestIds,u=s.reduce(function(e,t){return l.has(t.topic)&&e.push({custom_interest:t.topic,ttt_token:t.ttt_token}),e},[]);i(r,{link:a.next_link.link_id,selected_interest_ids:gn()(n.state.selectedInterestIds),selected_custom_interests:u}),t(a.next_link)},n._handleSkipButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.skip_link)};var a=e.initialCustomInterests,r=e.initialCustomInterestIds,i=e.initialSelectedInterestIds,o=e.subtask.selected_items;return n.state={groups:e.subtask.groups||[],customInterests:a,customInterestIds:wn()(r),selectedCustomInterestIds:wn()(r),selectedInterestIds:i.length>0?wn()(i):wn()(o||[]),shouldRenderCustomInterests:a.length>0},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,s=this.state.groups,l=x.a.createElement(Ft.a,{onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},r.next_link.label),u=x.a.createElement(Ft.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"invertedPrimary"},r.skip_link.label),c=this._shouldShowSkipInstead()?u:l;return x.a.createElement(V.a,{history:t,location:n,rightControl:c},x.a.createElement(q.a,{style:Ot.contentArea},r.primary_text?x.a.createElement(D,o()({},r.primary_text,{nativeID:b.c,onNavigate:a,size:"xLarge",style:Ot.headline,subtaskInputs:i,weight:"bold"})):null,r.secondary_text?x.a.createElement(D,o()({},r.secondary_text,{onNavigate:a,style:Ot.subHeader,subtaskInputs:i})):null,x.a.createElement(q.a,{style:Fn.searchContainer},x.a.createElement(Pn.c,{filter:Mn,maxTopics:8,onItemClick:this._handleSuggestionSelected,placeholder:r.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:On.c.WelcomeFlow,withFocusStyling:!0})),this._maybeRenderCustomInterests(),x.a.createElement(q.a,null,s.map(this._renderGroup))),this.props.errorDialog)}}]),t}(x.a.Component),Fn=A.a.create(function(e){return{searchContainer:{marginBottom:e.spaces.small,zIndex:1},selectionPillStyles:{margin:e.spaces.xxSmall},pillsContainer:{flexDirection:"row",flexWrap:"wrap"},groupHeader:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},group:{marginBottom:e.spaces.xSmall}}}),Nn=Rn(Dn),Bn=n("YkY+"),Ln=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._makeNavFunction=function(e){return function(){var t=a.props,n=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),n(e)}},a._itemFromNavLink=function(e){return{text:e.label,onClick:a._makeNavFunction(e)}},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs;return x.a.createElement(Bn.a,{cancelLabel:n.cancel_link&&n.cancel_link.text,description:n.primary_text?x.a.createElement(D,o()({},n.primary_text,{nativeID:b.c,onNavigate:t,subtaskInputs:a})):null,items:n.primary_action_links.map(this._itemFromNavLink),onCloseRequested:n.cancel_link&&this._makeNavFunction(n.cancel_link)})}}]),t}(x.a.Component),jn=Ln,Un=n("GN08"),Vn=function(e){return Un.selectBrowserPushStatus(e)},zn=Object(te.createSelector)(Un.selectShouldPromptBrowserPush,Vn,function(e,t){return{promptAllowed:e,pushSettingsFetchStatus:t.fetchStatus,subscribed:t.subscribed}}),qn={createLocalApiErrorHandler:Object(ee.b)("NOTIFICATIONS_PERMISSIONS_PROMPT"),dismissPushNotificationsPrompt:Un.dismissPushNotificationsPrompt,fetchPushSettingsIfNeeded:Un.fetchPushSettingsIfNeeded,loadPushPromptSettingsIfNeeded:Un.loadPushPromptSettingsIfNeeded,pushSubscribe:Un.pushSubscribe},Gn=Object($.connect)(zn,qn),Hn=n("F/6Y"),Wn=n.n(Hn),Yn=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a.componentDidMount=function(){var e=a.props,t=e.createLocalApiErrorHandler,n=e.fetchPushSettingsIfNeeded,r=e.pushSettingsFetchStatus;n().catch(t()),r===_t.a.LOADED&&a._skipIfPushPromptNotAllowed()},a.componentDidUpdate=function(e){a.props.pushSettingsFetchStatus===_t.a.LOADED&&e.pushSettingsFetchStatus!==_t.a.LOADED&&a._skipIfPushPromptNotAllowed()},a._actionClicked=function(e){var t=a.props,n=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),n(e)},a._handleSkip=function(){var e=a.props,t=e.dismissPushNotificationsPrompt,n=e.subtask;t(),a._actionClicked(n.denied_link)},a._handleConfirm=function(){var e=a.props,t=e.subtask;(0,e.pushSubscribe)().then(function(){a._actionClicked(t.granted_link)})},a._skipIfPushPromptNotAllowed=function(){var e=a.props,t=e.promptAllowed,n=e.subscribed,r=e.subtask;t||a._actionClicked(n?r.granted_link:r.denied_link)},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.promptAllowed,i=e.subtask,s=e.subtaskInputs,l=i.primary_text?x.a.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:a,subtaskInputs:s})):null,u=i.secondary_text?x.a.createElement(D,o()({},i.secondary_text,{onNavigate:a,subtaskInputs:s})):null;return r?x.a.createElement(V.a,{hideLogo:!0,history:t,location:n},x.a.createElement(B.a,{actionLabel:i.granted_link.label,icon:Wn.a,message:l,onAction:this._handleConfirm,onClose:this._handleSkip,onSecondaryAction:this._handleSkip,secondaryActionLabel:i.denied_link.label,secondaryActionType:"text",subtext:u,withCloseButton:!1})):null}}]),t}(x.a.Component),Kn=Gn(Yn),Xn={callOnboardingPath:Q.a},Zn=Object($.connect)(null,Xn),Qn=function(e){function t(){var e,n,a,i;p()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(s))),a._hitCallbackPath=function(){var e=a.props,t=e.subtask.onboarding_callback_path,n=e.callOnboardingPath;return t?n(t).catch(U.a):r.a.resolve()},i=n,m()(a,i)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return x.a.createElement(mn,{navigationLink:t.link,onNavigate:a,subtaskAction:this._hitCallbackPath,subtaskId:n})}}]),t}(x.a.Component),Jn=Zn(Qn),$n=n("DOzz"),ea=Object(te.createSelector)(Q.l,function(e){return{navigationContext:e}}),ta={createLocalApiErrorHandler:Object(ee.b)("OCF_FLOW_PHONE_VERIFICATION"),verifyIdentifier:Q.x},na=Object($.connect)(ea,ta),aa=n("bOdI"),ra=n.n(aa),ia=n("d39v"),oa=gt.a.a40de2c9,sa=gt.a.gb4d056f,la=gt.a.bf486142,ua=gt.a.ffc10a30,ca=(_n={defaultToast:{text:ua}},ra()(_n,ia.a.DeviceAlreadyRegistered,{toast:{text:la}}),ra()(_n,ia.a.DeviceOperatorUnsupported,{toast:{text:sa}}),ra()(_n,ia.a.DeviceRegistrationPhoneNormalizationFailed,{toast:{text:oa}}),ra()(_n,ia.a.SmsVerifyGeneralError,{toast:{text:ua}}),ra()(_n,"showToast",!0),_n),da={NormalizedPhone:"normalized_phone"},pa=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));fa.call(a);var r=e.subtaskId,i=e.subtaskInputs,o=Object(S.c)(i,{key:da.NormalizedPhone,subtask_id:r},"")||"";return a.state={code:"",normalized_phone:o,by_voice:!1,showSmsResendDialog:!1},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){return this._sendSmsVerificationRequest()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=x.a.createElement(Ft.a,{disabled:!this.state.code,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return x.a.createElement(V.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:u},x.a.createElement(q.a,null,x.a.createElement(q.a,{style:Ot.contentArea},x.a.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,size:"xLarge",style:Ot.headline,subtaskInputs:s,weight:"bold"})),x.a.createElement(D,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})),x.a.createElement(Mt.a,{appText:{size:"large"},autoFocus:!0,name:"verfication_code",onChange:this._handleCodeUpdated,placeholder:i.hint_text,rootStyle:Ot.textField,withoutSidePadding:!0}),x.a.createElement(D,o()({},i.detail_text,{color:"blue",onNavigate:r,style:ha.detailLink,subtaskInputs:s})))),this.props.errorDialog)}}]),t}(x.a.Component);pa.contextTypes={featureSwitch:T.object};var fa=function(){var e=this;this._sendSmsVerificationRequest=function(){var t=e.props,n=t.createLocalApiErrorHandler,a=t.subtask,r=t.onNavigate,i=t.subtaskInputs,o=t.verifyIdentifier,s=a.phone_number.subtask_data_reference;return o({phone:s&&i[s.subtask_id][s.key]}).then(function(t){var n=t.normalized_phone_number;n&&e.setState({normalized_phone:n})}).catch(function(e){n(ca)(e),r(a.fail_link)})},this._handleCodeUpdated=function(t){e.setState({code:t.target.value})},this._handleDoneButtonClick=function(){var t=e.props,n=t.onNavigate,a=t.subtask,r=t.subtaskId,i=t.updateFlow,o=e.state,s=o.code,l=o.normalized_phone,u=o.by_voice;i(r,{code:s,link:a.next_link.link_id,normalized_phone:l,by_voice:u}),n(a.next_link)}},ha=A.a.create(function(e){return{detailLink:{marginTop:e.spaces.small}}}),_a=na(pa),ma=n("zZC9"),va=n.n(ma),ga={DiscoverableByEmail:"discoverable_by_email",DiscoverableByPhone:"discoverable_by_phone"},ba=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));n._formatSubtaskInputsForRedux=function(e){return{link:n.props.subtask.next_link,discoverable_by_email:e.discoverable_by_email?1:0,discoverable_by_phone:e.discoverable_by_phone?1:0}},n._numberToBoolean=function(e){return e>0},n._getInitialSubtaskInputs=function(){var e=n.props,t=e.subtaskId,a=e.subtaskInputs,r=Object(S.c)(a,{key:ga.DiscoverableByEmail,subtask_id:t}),i=Object(S.c)(a,{key:ga.DiscoverableByPhone,subtask_id:t});return{discoverable_by_email:void 0===r||n._numberToBoolean(r),discoverable_by_phone:void 0===i||n._numberToBoolean(i)}},n._handleDoneButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,n._formatSubtaskInputsForRedux(n.state)),t(a.next_link)},n._handleDiscoverableByEmailToggle=function(e){n.setState({discoverable_by_email:e})},n._handleDiscoverableByPhoneToggle=function(e){n.setState({discoverable_by_phone:e})};var a=n._getInitialSubtaskInputs();return n.state=o()({},a),n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,s=r.secondary_text?x.a.createElement(R.a,{size:"xLarge",style:Ot.headline,weight:"bold"},r.secondary_text):null,l=this.state,u=l.discoverable_by_email,c=l.discoverable_by_phone,d=x.a.createElement(Ft.a,{onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},r.next_link.label);return x.a.createElement(V.a,{history:t,location:n,rightControl:d},x.a.createElement(q.a,{style:Ot.contentArea},x.a.createElement(R.a,{nativeID:b.c,style:A.a.visuallyHidden},r.primary_text),x.a.createElement(R.a,{size:"xLarge",style:Ot.headline,weight:"bold"},s),x.a.createElement(q.a,{accessibilityRole:"label",style:Ot.option},x.a.createElement(q.a,{style:Ot.checkboxText},x.a.createElement(R.a,null,r.discoverable_by_email_label),x.a.createElement(D,o()({},r.discoverable_by_email_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:Ot.detailText,subtaskInputs:i}))),x.a.createElement(va.a,{name:"discoverable_by_email",onValueChange:this._handleDiscoverableByEmailToggle,value:u})),x.a.createElement(q.a,{accessibilityRole:"label",style:Ot.option},x.a.createElement(q.a,{style:Ot.checkboxText},x.a.createElement(R.a,null,r.discoverable_by_phone_label),x.a.createElement(D,o()({},r.discoverable_by_phone_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:Ot.supportingText,subtaskInputs:i}))),x.a.createElement(va.a,{name:"discoverable_by_phone",onValueChange:this._handleDiscoverableByPhoneToggle,value:c}))))}}]),t}(x.a.Component),ya=ba,ka=n("86z1"),wa=n("/FRN"),Sa=n("qX3G"),Ca=n("hviW"),Ea=n("ZHcj"),xa=function(e,t){var n=Ea.f(e),a=Ca.f(e,n);return Wt()(a,1)[0]},Ia=Object(te.createSelector)(Sa.b,xa,function(e,t){return{loggedInUser:e,avatarMedia:t}}),Ra={addAvatarMedia:Ea.a,removeAvatarMedia:Ea.c},Pa=Object($.connect)(Ia,Ra),Aa=n("3f1i"),Ta=n("Y+r2"),Oa=n("GfdX"),Ma=n("GWs/"),Da=n("UDB1"),Fa=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._handleCropDone=function(){return n.setState({done:!0,showCropper:!1})},n._handleCropCancel=function(){return n._handleCropDone()},n._handleImageMediaChange=function(e){(0,n.props.addAvatarMedia)(e[0]),n.setState({mediaId:e[0],showCropper:Aa.a.isTrue("responsive_web_media_avatar_crop_enabled"),done:!0})},n._handleImageMediaFailure=function(){n._handleSkipButtonClick()},n._handleImageMediaRemove=function(){(0,n.props.removeAvatarMedia)(),n.setState({done:!1,showCropper:!1})},n._handleDoneButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)},n._handleSkipButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)},n.state={done:!1,showCropper:!1,mediaId:void 0},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.primary_text,c=s.secondary_text,d=s.next_link,p=s.skip_link,f=x.a.createElement(Ft.a,{disabled:!p&&!this.state.mediaId,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&x.a.createElement(Ft.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"invertedPrimary"},p.label);return x.a.createElement(V.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?f:h},x.a.createElement(q.a,{style:Ot.contentArea},u?x.a.createElement(D,o()({},u,{nativeID:b.c,onNavigate:i,size:"xLarge",style:Ot.headline,subtaskInputs:l,weight:"bold"})):null,c?x.a.createElement(D,o()({},s.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,this._renderMediaPickerWithPreview()),this.state.showCropper&&void 0!==this.state.mediaId?x.a.createElement(Ta.a,{circle:!0,defaultAspectRatio:1,mediaId:this.state.mediaId,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null,t)}},{key:"_renderMediaPickerWithPreview",value:function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=this.state.done;return x.a.createElement(q.a,{style:Na.centerContent},x.a.createElement(Oa.a,{borderRadius:"infinite",currentContent:x.a.createElement(Ma.default,{uri:n.profile_image_url_https,userName:n.name}),maxGifSize:Da.g,maxImageSize:Da.h,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:a?this._handleImageMediaRemove:void 0,rootStyle:Na.avatarContainer}))}}]),t}(x.a.Component),Na=A.a.create(function(e){return{avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,width:"calc("+e.spaces.jumbo+" * 3)"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"}}}),Ba=Pa(Fa),La=function(e,t){var n=Ea.f(e),a=Ca.f(e,n);return Wt()(a,1)[0]},ja=function(e,t){var n=Ea.g(e),a=Ca.f(e,n);return Wt()(a,1)[0]},Ua=Object(te.createSelector)(Sa.b,La,ja,function(e,t,n){return{loggedInUser:e,avatarMedia:t,bannerMedia:n}}),Va={addBannerMedia:Ea.b,removeBannerMedia:Ea.d},za=Object($.connect)(Ua,Va),qa=n("2fO2"),Ga=n("fc63"),Ha=n.n(Ga),Wa=n("UvVB"),Ya=n.n(Wa),Ka=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._handleImageMediaRemove=function(){(0,n.props.removeBannerMedia)(),n.setState({done:!1,showCropper:!1})},n._handleCropDone=function(){return n.setState({done:!0,showCropper:!1})},n._handleCropCancel=function(){return n._handleCropDone()},n._handleImageMediaChange=function(e){(0,n.props.addBannerMedia)(e[0]),n.setState({media_id:e[0],showCropper:Aa.a.isTrue("responsive_web_media_avatar_crop_enabled"),done:!0})},n._handleImageMediaFailure=function(){n._handleSkipButtonClick()},n._handleDoneButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)},n._handleSkipButtonClick=function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)},n.state={done:void 0,media_id:void 0,showCropper:!1},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.primary_text,c=s.secondary_text,d=s.next_link,p=s.skip_link,f=x.a.createElement(Ft.a,{disabled:!p&&!this.state.media_id,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&x.a.createElement(Ft.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"invertedPrimary"},p.label);return x.a.createElement(V.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?f:h},x.a.createElement(q.a,{style:Ot.contentArea},u?x.a.createElement(D,o()({},u,{nativeID:b.c,onNavigate:i,size:"xLarge",style:Ot.headline,subtaskInputs:l,weight:"bold"})):null,c?x.a.createElement(D,o()({},s.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,x.a.createElement(q.a,{style:Xa.container},this._renderMediaPickerWithPreview(),this._renderAvatar(),this._renderNames()),this.state.showCropper&&void 0!==this.state.media_id?x.a.createElement(Ta.a,{defaultAspectRatio:3,mediaId:this.state.media_id,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null),t)}},{key:"_renderMediaPickerWithPreview",value:function(){var e=this.props,t=e.bannerMedia,n=e.loggedInUser,a=t||n.profile_banner_url,r=this.state.done;return x.a.createElement(Oa.a,{aspectRatio:3,currentContent:x.a.createElement(Ha.a,{ratio:A.a.theme.aspectRatios.profileBanner},a?x.a.createElement(Ya.a,{source:{uri:n.profile_banner_url},style:Xa.banner}):null),maxImageSize:Da.i,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:r?this._handleImageMediaRemove:void 0,rootStyle:Xa.bannerContainer})}},{key:"_renderAvatar",value:function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=t&&t.mediaFile&&t.mediaFile.url,r=a||n.profile_image_url_https,i=n.name;return x.a.createElement(Ma.default,{style:[Xa.avatarContainer],uri:r,userName:i})}},{key:"_renderNames",value:function(){var e=this.props.loggedInUser,t=e.name,n="@"+e.screen_name;return x.a.createElement(q.a,{style:Xa.nameContainer},x.a.createElement(R.a,{align:"left",style:Xa.names},x.a.createElement(R.a,{accessibilityRole:"heading",size:"xLarge",style:Xa.displayName,weight:"bold"},x.a.createElement(qa.a,{text:t})),x.a.createElement(R.a,{color:"deepGray",style:Xa.screenName},n)))}}]),t}(x.a.Component),Xa=A.a.create(function(e){return{container:{paddingBottom:e.spaces.jumbo},avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginLeft:e.spaces.small,marginTop:"-25%",maxWidth:"calc(${theme.spaces.small} * 8)",width:"25%"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"},nameContainer:{marginLeft:e.spaces.small},names:{display:"block",marginBottom:e.spaces.xSmall},displayName:{direction:"ltr",display:"block",marginTop:e.spaces.xxSmall},screenName:{direction:"ltr"}}}),Za=za(Ka),Qa=n("W3Iv"),Ja=n.n(Qa),$a=n("3VPz"),er=n.n($a),tr=function(e){function t(){return p()(this,t),m()(this,(t.__proto__||c()(t)).apply(this,arguments))}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isModal,n=e.label,a=e.onPress,r=[ar.pillContainer,t?ar.pillContainerModal:ar.pillContainerNarrow];return x.a.createElement(q.a,{style:r},x.a.createElement(Ft.a,{backgroundColor:"blue",border:"none",color:"white",icon:x.a.createElement(er.a,{style:ar.icon}),onPress:a,type:"primary"},x.a.createElement(R.a,{size:"normal",weight:"normal"},n)))}}]),t}(x.a.Component),nr=tr,ar=A.a.create(function(e){return{icon:{height:"1.5em",width:"1.5em"},pillContainer:{bottom:e.spaces.small,alignItems:"center",left:"0",right:"0",margin:"auto",zIndex:1},pillContainerNarrow:{position:"fixed"},pillContainerModal:{position:"absolute"}}}),rr=n("O27J"),ir=n.n(rr),or=gt.a.aa24e939,sr=gt.a.f4c9593e,lr=gt.a.f178263a,ur=gt.a.fab3c63c,cr=gt.a.a3aa6b69,dr=gt.a.abec13c0,pr=gt.a.j07decd3,fr=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._handleRemoveContactsClick=function(){n.setState({showRemoveContactsDialog:!0})},n._handleRemoveContactsConfirm=function(){n.setState({showRemoveContactsDialog:!1}),n._handleRemoveContacts()},n._handleRemoveContacts=function(){var e=n.props,t=e.addToast;(0,e.removeContacts)().then(function(e){n.setState({disableRemoveContactsButton:!0}),t({text:cr,withClearButton:!0})}).catch(function(e){t({actionLabel:pr,onAction:n._handleRemoveContacts,text:dr,withAutoDismiss:!0})})},n._handleRemoveContactsCancel=function(){n.setState({showRemoveContactsDialog:!1})},n.state={showRemoveContactsDialog:!1,disableRemoveContactsButton:!1},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.onNavigate,n=e.removeContactsSetting,a=e.subtaskInputs,r=this.state.disableRemoveContactsButton;return x.a.createElement(q.a,null,x.a.createElement(D,o()({},n.primary_text,{onNavigate:t,style:hr.header,subtaskInputs:a})),x.a.createElement(D,o()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:hr.subtext,subtaskInputs:a})),x.a.createElement(q.a,null,x.a.createElement(Ft.a,{disabled:r,onPress:this._handleRemoveContactsClick,type:"destructiveText"},n.value_data.action_data.link.label),this._maybeRenderRemoveContactsDialog()))}},{key:"_maybeRenderRemoveContactsDialog",value:function(){return this.state.showRemoveContactsDialog?x.a.createElement(y.a,{cancelLabel:sr,confirmLabel:or,headline:lr,onCancel:this._handleRemoveContactsCancel,onConfirm:this._handleRemoveContactsConfirm,onMaskClick:this._handleRemoveContactsCancel,text:ur}):null}}]),t}(x.a.Component),hr=A.a.create(function(e){return{header:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},subtext:{marginBottom:e.spaces.medium}}}),_r=fr,mr=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));vr.call(n);var a=e.settingValue,r=a.value_data,i=a.value_identifier,o=a.value_type;if(Object(S.f)(o)){var s=n._getSettingValueFromSubtaskInputs(a);void 0===s&&(s=r.boolean_data.initial_value),n.state=ra()({},i,s)}return n}return g()(t,e),h()(t,[{key:"render",value:function(){switch(this.props.settingValue.value_type){case C.l.Boolean:case C.l.PreciseLocation:return this._renderSettingOption();case C.l.SettingsGroup:return this._renderSettingsGroup();case C.l.StaticText:return this._renderHeader();case C.l.DestructiveAction:return this._renderDestructiveAction();default:return null}}},{key:"_renderHeader",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text;return x.a.createElement(q.a,{style:br.header},x.a.createElement(D,o()({},r,{onNavigate:t,size:"large",subtaskInputs:a,weight:"bold"})))}},{key:"_renderDestructiveAction",value:function(){var e=this.props,t=e.onNavigate,n=e.removeContacts,a=e.settingValue,r=e.subtaskInputs;return x.a.createElement(q.a,{style:{marginBottom:A.a.theme.spaces.small}},x.a.createElement(_r,{addToast:this._addToast,onNavigate:t,removeContacts:n,removeContactsSetting:a,subtaskInputs:r}))}},{key:"_renderSettingOption",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text,s=n.value_identifier;return x.a.createElement(q.a,{accessibilityRole:"label",accessible:!0,style:Ot.option},x.a.createElement(q.a,{style:Ot.checkboxText},x.a.createElement(D,o()({},r,{onNavigate:t,subtaskInputs:a})),i&&x.a.createElement(D,o()({},i,{color:"deepGray",onNavigate:t,size:"small",style:br.secondaryText,subtaskInputs:a}))),x.a.createElement(va.a,{name:s,onValueChange:this._handleSettingToggle,value:this.state[s]}))}},{key:"_renderSettingsGroup",value:function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text,s=n.value_data,l=s.settings_group_data,u=l.settings,c=l.status_text_quantity_pairs;return x.a.createElement(q.a,{accessibilityRole:"button",onClick:this._handleSettingGroupClick,style:br.settingGroup},x.a.createElement(D,o()({},r,{onNavigate:t,subtaskInputs:a})),this._renderQuantityStatus(u,c),i&&x.a.createElement(D,o()({},i,{color:"deepGray",onNavigate:t,size:"small",subtaskInputs:a})))}},{key:"_renderQuantityStatus",value:function(e,t){var n=this,a=this.props,r=a.onNavigate,i=a.subtaskInputs,s=e.reduce(function(e,t){return e+(n._getSettingValueFromSubtaskInputs(t)?1:0)},0),l=void 0;return t.forEach(function(e){s>=e.threshold&&(l=x.a.createElement(D,o()({},e.text,{color:"deepGray",onNavigate:r,size:"small",style:br.quantityStatusText,subtaskInputs:i})))}),l}}]),t}(x.a.Component),vr=function(){var e=this;this._getSettingValueFromSubtaskInputs=function(t){var n=e.props,a=n.subtaskId,r=n.subtaskInputs,i=t.value_identifier,o=t.value_type,s=Object(S.c)(r,{key:C.k,subtask_id:a},[]).find(function(e){return e.key===i}),l=void 0;return s&&Object(S.f)(o)&&(l=s.response_data.boolean_data.result),l},this._handleSettingGroupClick=function(){var t=e.props,n=t.onSettingGroupClick,a=t.settingValue;n&&n(a)},this._handleSettingToggle=function(){var t=e.props,n=t.onSettingToggle,a=t.settingValue,r=a.value_identifier;e.setState(o()({},e.state,ra()({},r,!e.state[r]))),n&&n(a)},this._addToast=function(t){e.props.addToast(t)}},gr=mr,br=A.a.create(function(e){return{header:{marginTop:e.spaces.large},secondaryText:{marginTop:e.spaces.xSmall},quantityStatusText:{marginTop:e.spaces.micro,marginBottom:e.spaces.xSmall},settingGroup:{marginTop:e.spaces.xSmall}}}),yr=n("OCyo"),kr=n.n(yr),wr=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));Sr.call(n);var a=e.subtask,r=n._initializeSettingsState(a.settings);return n.state={isSubList:!1,subList:[],subListHeader:{},settingsValues:r,lastSettingSeen:!1},n}return g()(t,e),h()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.context,t=e.isModal,n=e.viewport;this.props.subtask.scroll_hint&&!t&&(this._viewport=n,this._removeScrollListener=this._viewport.addScrollListener(this._handleViewportScroll)),this._updateFlow()}},{key:"componentWillUnmount",value:function(){this.props.subtask.scroll_hint&&this._removeScrollListener&&this._removeScrollListener()}},{key:"render",value:function(){return this.state.isSubList?this._renderSubList():this._renderMainList()}},{key:"_renderMainList",value:function(){var e=this.context.isModal,t=this.props,n=t.errorDialog,a=t.history,r=t.location,i=t.onBackClick,s=t.onNavigate,l=t.subtask,u=t.subtaskInputs,c=t.progressIndication,d=this.state.lastSettingSeen,p=!!l.scroll_hint,f=!p||d,h=x.a.createElement(Ft.a,{disabled:!f,onPress:this._handleDoneButtonPress,size:"normalCompact",type:"primary"},l.next_link.label),_=f?null:x.a.createElement(nr,{isModal:!!e,label:l.scroll_hint,onPress:this._handleScrollPromptClick});return x.a.createElement(V.a,{history:a,location:r,onBackClick:i,onViewportSet:this._handleViewportSet,progressIndication:c,rightControl:h,scrollPrompt:_},x.a.createElement(q.a,{style:[Ot.contentArea,Er.bottomPadding]},x.a.createElement(D,o()({},l.primary_text,{nativeID:b.c,onNavigate:s,size:"xLarge",style:Er.headline,subtaskInputs:u,weight:"bold"})),l.secondary_text&&x.a.createElement(D,o()({},l.secondary_text,{color:"deepGray",onNavigate:s,subtaskInputs:u})),this._renderSettingsList(l.settings),l.detail_text&&x.a.createElement(D,o()({},l.detail_text,{color:"deepGray",onNavigate:s,style:Er.detailText,subtaskInputs:u}))),n)}},{key:"_renderSubList",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtaskInputs,i=this.state,s=i.subList,l=i.subListHeader;return x.a.createElement(V.a,{history:t,location:n,onBackClick:this._handleSubListBackClick},x.a.createElement(q.a,{style:Ot.contentArea},x.a.createElement(D,o()({},l,{onNavigate:a,size:"xLarge",style:Er.headline,subtaskInputs:r,weight:"bold"})),this._renderSettingsList(s)))}},{key:"_renderSettingsList",value:function(e){var t=this,n=this.props,a=n.addToast,r=n.onNavigate,i=n.removeContacts,o=n.subtaskId,s=n.subtaskInputs,l=n.updateFlow;return x.a.Children.toArray(e.map(function(n,u){var c=u===e.length-1;return x.a.createElement(gr,{addToast:a,onNavigate:r,onSettingGroupClick:t._handleSettingGroupClick,onSettingToggle:t._handleSettingToggle,ref:t._setSettingsRef(c),removeContacts:i,settingValue:n,subtaskId:o,subtaskInputs:s,updateFlow:l})}))}},{key:"_initializeSettingsState",value:function(e){var t=this._loadSubtaskInputsFromStore();return t&&l()(t).length>0?t:e.reduce(function(e,t){var n=t.value_data,a=t.value_identifier,r=t.value_type;if(Object(S.f)(r))e[a]={result:n.boolean_data.initial_value,type:l()(n)[0]};else if(r===C.l.SettingsGroup){var i=n.settings_group_data.settings;i.forEach(function(t){var n=t.value_data,a=t.value_identifier,r=t.value_type;Object(S.f)(r)&&(e[a]={result:n.boolean_data.initial_value,type:l()(n)[0]})})}return e},{})}}]),t}(x.a.Component);wr.contextTypes={isModal:T.bool,viewport:T.object};var Sr=function(){var e=this;this._formatSubtaskInputsForStore=function(e){return Ja()(e).map(function(e){var t=Wt()(e,2),n=t[0],a=t[1],r=a.result,i=a.type;return{key:n,response_data:ra()({},i,{result:r})}})},this._loadSubtaskInputsFromStore=function(){var t=e.props,n=t.subtaskId,a=t.subtaskInputs;return Object(S.c)(a,{key:C.k,subtask_id:n},[]).reduce(function(e,t){var n=t.key,a=l()(t.response_data),r=Wt()(a,1),i=r[0],o=t.response_data[i].result;return e[n]={result:o,type:i},e},{})},this._updateFlow=function(){var t,n=e.props,a=n.subtask,r=n.subtaskId,i=n.updateFlow,o=a.next_link,s=e.state.settingsValues;i(r,(t={},ra()(t,C.k,e._formatSubtaskInputsForStore(s)),ra()(t,"link",o.link_id),t))},this._handleDoneButtonPress=function(){var t=e.props,n=t.onNavigate,a=t.subtask,r=a.next_link;e._updateFlow(),n(r)},this._handleSubListBackClick=function(){e.setState({isSubList:!1,subList:[],subListHeader:{}}),e._updateFlow()},this._handleSettingGroupClick=function(t){var n=t.primary_text,a=t.value_data;t.value_type===C.l.SettingsGroup&&e.setState({isSubList:!0,subList:a.settings_group_data.settings,subListHeader:n})},this._handleScrollPromptClick=function(){e._viewport.scrollBy(e._viewport.getRect().getHeight())},this._handleViewportSet=function(t){var n=e.context.isModal;e.props.subtask.scroll_hint&&n&&(e._viewport=t,e._viewport&&e._viewport.addScrollListener(e._handleViewportScroll))},this._handleViewportScroll=kr()(function(){e.state.lastSettingSeen||e.setState({lastSettingSeen:e._isLastSettingInViewport()})},250),this._isLastSettingInViewport=function(){if(e._lastSetting&&e._viewport){var t=e._lastSetting.getBoundingClientRect(),n=e._viewport.getRect();return t.top>=n.getTop()&&t.bottom<=n.getBottom()}return!1},this._setSettingsRef=function(t){return function(n){var a=e.state.isSubList;if(e.props.subtask.scroll_hint&&!a&&t&&void 0===e._lastSetting){e._lastSetting=ir.a.findDOMNode(n);var r=e._isLastSettingInViewport();r&&!e.state.lastSettingSeen&&e.setState({lastSettingSeen:r})}else e._lastSetting=void 0}},this._handleSettingToggle=function(t){var n=t.value_identifier,a=t.value_type;if(Object(S.f)(a)){var r=e.state.settingsValues;e.setState({settingsValues:o()({},r,ra()({},n,o()({},r[n],{result:!r[n].result})))})}}},Cr=wr,Er=A.a.create(function(e){return{headline:{marginBottom:e.spaces.xSmall},detailText:{marginTop:e.spaces.xLarge},bottomPadding:{paddingBottom:e.spaces.xxLarge}}}),xr=n("u2KI"),Ir=n.n(xr),Rr=n("QPrz"),Pr=Object(te.createSelector)(Q.l,Rr.selectPreferences,Rr.selectUserPreferences,function(e,t,n){return{navigationContext:e,personalization:t,personalizationSettings:n,shouldPropagateP13nSettings:!t.is_eu_user}}),Ar={createLocalApiErrorHandler:Object(ee.b)("OCF_FLOW"),fetchPreferencesIfNeeded:Rr.fetchPreferencesIfNeeded,scribeAction:Z.d,syncPersonalizationSettings:Rr.syncSettings},Tr=Object($.connect)(Pr,Ar),Or=n("Z5Qg"),Mr=n.n(Or),Dr=gt.a.c11a3971,Fr=gt.a.ef27a258,Nr=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));return a._updateValue=function(e){var t=a.props.callback,n=Mr()(e.trim()),r=!n&&-1!==e.toLowerCase().indexOf("twitter"),i=!n&&!r,o="";n?o=Dr:r&&(o=Fr),a.setState({errorMessage:o,isValid:i,value:e}),t(e,i)},a._handleValueChange=function(e){var t=e.target.value;a._updateValue(t)},a.state={errorMessage:"",isValid:!0,value:""},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue;e&&this._updateValue(e)}},{key:"render",value:function(){var e=this.context.featureSwitch,t=e&&e.getValue("user_display_name_max_limit",50),n=this.state,a=n.errorMessage,r=n.isValid;return x.a.createElement(Mt.a,o()({},this.props,{errorText:r?"":a,label:"",maxLength:t,name:"name",onChange:this._handleValueChange,positionCursorAtEnd:!0,rootStyle:Ot.textField}))}}]),t}(x.a.Component);Nr.contextTypes={featureSwitch:T.object};var Br=Nr,Lr=n("tkIJ"),jr=new RegExp("^[a-zA-Z0-9_\\-+\\.!\\&]+@(?:[a-zA-Z0-9\\-_]+\\.)+[a-zA-Z]{2,7}$"),Ur=gt.a.d680c80d,Vr=Object(Yt.a)({namespace:"emailValidity",fetchOneContext:"FETCH_EMAIL_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isEmailAvailable},fetchOneParams:function(e,t){var n=Wt()(e,1),a=n[0];return o()({email:a},t)},localValidator:function(e){var t=jr.test(e);return{errorMessage:Ur,valid:t}}}),zr=n("XVDi"),qr=function(e){var t=e.onRef,n=Gt()(e,["onRef"]);return x.a.createElement(zr.a,o()({module:Vr,ref:t,type:"email"},n))},Gr=qr,Hr=n("T4L8"),Wr=n("ZJEh"),Yr=gt.a.ad151f95,Kr=Ir()({Email:"email",Name:"name",Phone:"phone_number",Password:"password"}),Xr={SelectEmail:"select_email",SelectName:"select_name",SelectPhone:"select_phone"},Zr={page:"onboarding",component:"signup"},Qr=function(e){function t(e,n){p()(this,t);var a=m()(this,(t.__proto__||c()(t)).call(this,e,n));Jr.call(a);var r=e.navigationContext,i=e.subtaskId,o=e.subtaskInputs,s=Object(S.c)(o,{key:Kr.Name,subtask_id:i},""),l=Object(S.c)(o,{key:Kr.Phone,subtask_id:i},""),u=Object(S.c)(o,{key:Kr.Email,subtask_id:i},""),d=Object(S.c)(o,{key:Kr.Password,subtask_id:i},""),f=function(e){switch(e){case Xr.SelectPhone:return{type:Kr.Phone,value:l};case Xr.SelectEmail:return{type:Kr.Email,value:u};default:return{type:u?Kr.Email:Kr.Phone,value:u||l}}}(r.action);return a.state={activeTextField:f.type,defaultActiveText:f.value,nameValue:s,hasNameFieldBeenAutoFocused:!1,passwordValue:d,isNameValid:void 0,isPasswordValid:!!d,isValid:void 0},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){Wr.a.inject("https://twitter.com/i/js_inst?c_name=ui_metrics"),this._handleFetchPreferences(),this.props.syncPersonalizationSettings()}},{key:"componentDidUpdate",value:function(){this._shouldFocusActiveTextField()&&this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.history,a=e.location,r=e.progressIndication,i=E.createElement(Ft.a,{disabled:!this.state.isValid,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},t.next_link.label);return E.createElement(V.a,{history:n,location:a,progressIndication:r,rightControl:i},E.createElement(Lr.a,{title:Yr}),E.createElement(q.a,{style:Ot.contentArea},t.primary_text&&E.createElement(R.a,{nativeID:b.c,size:"xLarge",style:Ot.headline,weight:"bold"},t.primary_text),this._renderNameField(),this._renderActiveTextField(),E.createElement(R.a,{accessibilityRole:"button",color:"blue",onPress:this._handleActiveTextToggle,style:$r.toggleLink},this._getToggleActiveTextTitle()),t.show_password_field?this._renderPasswordField():null,E.createElement("input",{autoComplete:"off",name:"ui_metrics",ref:this._setTimRef,type:"hidden"})))}}]),t}(E.Component),Jr=function(){var e=this;this._renderPasswordField=function(){var t=e.props,n=t.subtask,a=t.subtaskId,r=t.subtaskInputs,i=e.state.defaultActiveText,o=Object(S.c)(r,{key:Kr.Password,subtask_id:a},"");return E.createElement(q.a,{style:$r.passwordEntry},E.createElement(ln,{autoComplete:"new-password",defaultValue:o,onPasswordChange:e._handlePasswordChange,onPasswordValidated:e._handlePasswordValidate,placeholder:n.password_hint,userIdentifier:i}))},this._renderNameField=function(){var t=e.props,n=t.navigationContext,a=t.subtask,r=t.subtaskId,i=t.subtaskInputs,o=Object(S.c)(i,{key:Kr.Name,subtask_id:r},""),s=n.action,l=!s||s===Xr.SelectName,u={autoComplete:"name",autoFocus:l,callback:e._updateNameInfo,defaultValue:o,onFocus:e._handleNameFocus,placeholder:a.name_hint};return E.createElement(Br,u)},this._renderActiveTextField=function(){var t=e.props.subtask,n=e.state,a=n.activeTextField,r=n.defaultActiveText,i=e._shouldFocusActiveTextField(),o=a===Kr.Phone?"tel":"email",s={autoComplete:o,autoFocus:i,defaultValue:r,name:a===Kr.Phone?"phone_number":"email",placeholder:a===Kr.Phone?t.phone_hint:t.email_hint,onRef:e._setInputRef,onValidityChange:e._updateValidity};return a===Kr.Phone?E.createElement(Hr.a,s):E.createElement(Gr,s)},this._getIdentifierValue=function(){return e._input&&e._input.getValue()},this._isValid=function(){var t=e.state,n=t.isNameValid,a=t.isPasswordValid,r=e.props.subtask,i=!r.show_password_field||a;return n&&i&&e._input&&e._input.isValid()},this._setTimRef=function(t){e._timInput=t},this._updateValidity=function(){e.setState({isValid:e._isValid()})},this._updateNameInfo=function(t,n){e.setState({isNameValid:n,nameValue:t},e._updateValidity)},this._handleFetchPreferences=function(){var t=e.props,n=t.createLocalApiErrorHandler;(0,t.fetchPreferencesIfNeeded)().catch(n())},this._handlePasswordChange=function(t){e.setState({passwordValue:t},e._updateValidity)},this._handlePasswordValidate=function(t){e.setState({isPasswordValid:t},e._updateValidity)},this._shouldFocusActiveTextField=function(){var t=e.props.navigationContext,n=e.state.activeTextField,a=n===Kr.Phone?Xr.SelectPhone:Xr.SelectEmail;return!e.state.hasNameFieldBeenAutoFocused&&t.action===a},this._handleActiveTextToggle=function(){var t=e.state.activeTextField,n=t===Kr.Phone?Kr.Email:Kr.Phone;e._scribeEvent(n,"choose"),e._input&&e._input.clear(),e.setState({activeTextField:n,defaultActiveText:""})},this._getToggleActiveTextTitle=function(){var t=e.props.subtask;return e.state.activeTextField===Kr.Phone?t.use_email_text:t.use_phone_text},this._handleNameFocus=function(){e.setState({hasNameFieldBeenAutoFocused:!0})},this._handleNextButtonClick=function(){var t,n=e.props,a=n.onNavigate,r=n.shouldPropagateP13nSettings,i=n.subtask,s=n.subtaskId,l=n.updateFlow,u=e.state,c=u.activeTextField,d=u.nameValue,p=u.passwordValue,f=e.props.personalizationSettings||{},h=f.allowCookieUse,_=f.allowDeviceAccess,m=f.allowPartnerships,v=f.allowPersonalization,g=r?{personalization_settings:{allow_cookie_use:!!h,allow_device_personalization:!!_,allow_partnerships:!!m,allow_ads_personalization:!!v}}:{},b=i.show_password_field?{password:p}:{},y=c===Kr.Email&&i.email_next_link?i.email_next_link:i.next_link,k=e._timInput&&e._timInput.value?{response:e._timInput.value}:void 0,w=e._getIdentifierValue()||void 0;l(s,o()((t={},ra()(t,c,w),ra()(t,"js_instrumentation",k),ra()(t,"link",y.link_id),ra()(t,"name",d),t),b,g)),a(y)},this._scribeEvent=function(t,n){(0,e.props.scribeAction)(o()({},Zr,{element:t,action:n}))},this._setInputRef=function(t){e._input=t&&t.getWrappedInstance()}},$r=A.a.create(function(e){return{toggleLink:{marginTop:e.spaces.small},passwordEntry:{marginTop:e.spaces.small}}}),ei=Tr(Qr),ti=gt.a.f6b6a2e1,ni=function(e){function t(){var e,n,a,r;p()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(o))),a._handleSignupButtonClick=function(){var e=a.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,i=e.subtaskInputs,o=e.updateFlow,s=n.phone_number,l=n.email,u=s&&s.subtask_data_reference&&Object(S.c)(i,s.subtask_data_reference),c=l&&l.subtask_data_reference&&Object(S.c)(i,l.subtask_data_reference),d=void 0;u?d=n.phone_next_link:c&&(d=n.email_next_link),d&&o(r,{link:d.link_id}),d&&t(d)},a._handleNavigationClick=function(e){(0,a.props.onNavigate)(e)},a._handleNameEdit=function(){var e=a.props.subtask;a._handleNavigationClick(e.name_edit_link)},a._handlePhoneEdit=function(){var e=a.props.subtask;a._handleNavigationClick(e.phone_edit_link)},a._handleEmailEdit=function(){var e=a.props.subtask;a._handleNavigationClick(e.email_edit_link)},a._handlePrivacyOptionsClick=function(e){return function(t){t.preventDefault(),a._handleNavigationClick(e)}},a._getSignupButtonLabel=function(){var e=a.props,t=e.subtask,n=e.subtaskInputs,r=t.phone_number,i=t.email,o=r&&r.subtask_data_reference&&Object(S.c)(n,r.subtask_data_reference),s=i&&i.subtask_data_reference&&Object(S.c)(n,i.subtask_data_reference);return o?t.phone_next_link.label:s?t.email_next_link.label:ti},r=n,m()(a,r)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.progressIndication;return E.createElement(V.a,{history:n,location:a,onBackClick:r,progressIndication:i},E.createElement(q.a,null,E.createElement(q.a,{style:Ot.contentArea},this._maybeRenderPrimaryText(),this._renderNameField(),this._renderPhoneOrEmailField(),this._maybeRenderDetailText(),E.createElement(Ft.a,{onPress:this._handleSignupButtonClick,size:"large",style:Ot.primaryButton,type:"primary"},this._getSignupButtonLabel()))),t)}},{key:"_maybeRenderPrimaryText",value:function(){var e=this.props.subtask;return e.primary_text?E.createElement(R.a,{align:"left",nativeID:b.c,size:"xLarge",style:Ot.headline,weight:"bold"},e.primary_text):null}},{key:"_maybeRenderDetailText",value:function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs,r=n.detail_text;return r?E.createElement(D,o()({},r,{onNavigate:t,style:ai.detailText,subtaskInputs:a})):null}},{key:"_renderNameField",value:function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,a=t.name&&t.name.subtask_data_reference&&Object(S.c)(n,t.name.subtask_data_reference);return E.createElement(q.a,{name:"editName",onClick:this._handleNameEdit},E.createElement(Mt.a,{label:"",name:"name",rootStyle:Ot.textField,tabIndex:"-1",value:a}))}},{key:"_renderPhoneOrEmailField",value:function(){var e=this.props,t=e.subtask,n=t.phone_number,a=t.email,r=e.subtaskInputs,i=n&&n.subtask_data_reference&&Object(S.c)(r,n.subtask_data_reference),o=a&&a.subtask_data_reference&&Object(S.c)(r,a.subtask_data_reference);return i?E.createElement(q.a,{name:"editPhone",onClick:this._handlePhoneEdit},E.createElement(Mt.a,{label:"",name:"phone",rootStyle:Ot.textField,tabIndex:"-1",value:i})):o?E.createElement(q.a,{name:"editEmail",onClick:this._handleEmailEdit},E.createElement(Mt.a,{label:"",name:"email",rootStyle:Ot.textField,tabIndex:"-1",value:o})):null}}]),t}(E.Component),ai=A.a.create(function(e){return{detailText:{marginTop:e.spaces.jumbo}}}),ri=ni,ii=function(e,t){var n=Ea.f(e),a=Ca.f(e,n);return Wt()(a,1)[0]},oi=function(e,t){var n=Ea.g(e),a=Ca.f(e,n);return Wt()(a,1)[0]},si=Object(te.createSelector)(ii,oi,function(e,t){return{avatarMedia:e,bannerMedia:t}}),li={updateProfileAvatar:Ea.i,updateProfileBanner:Ea.j},ui=Object($.connect)(si,li),ci=function(e){function t(){var e,n,a,i;p()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=a=m()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(s))),a._updateMedia=function(){var e=a.props,t=e.avatarMedia,n=e.bannerMedia,i=e.subtask.sources,o=e.updateProfileAvatar,s=e.updateProfileBanner;return new r.a(function(e,a){try{i.forEach(function(e){var a=e.style;a===C.h.Avatar&&t?o(t.id):a===C.h.Banner&&n&&s(n.id)}),e()}catch(e){a(e)}})},i=n,m()(a,i)}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return x.a.createElement(mn,{navigationLink:t.next_link,onNavigate:a,subtaskAction:this._updateMedia,subtaskId:n})}}]),t}(x.a.Component),di=ui(ci),pi=n("BO1k"),fi=n.n(pi),hi=n("ssQ9"),_i=n("rps5"),mi=n.n(_i),vi=n("AhSt"),gi=n("g6Al"),bi=n("CqBa"),yi=n("GHKZ"),ki=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return n._renderGroup=function(e){var t=e.items.every(function(e){return n.props.followedUserIds.has(e.user_id_str)});return E.createElement(q.a,{key:e.header,style:Si.group},E.createElement(q.a,{style:Si.groupHeader},E.createElement(R.a,{size:"large",weight:"bold"},e.header),n.state.useCheckboxes?E.createElement(va.a,{onValueChange:n._handleGroupCheckboxChange(e,t),value:t}):null),n._renderUserCells(e.items))},n._renderSearchedUsers=function(e){var t=n.props.selectedSearchHeader,a=mi()(e);return t&&a.length?E.createElement(q.a,{key:"search-results",style:Si.group},E.createElement(q.a,{style:Si.groupHeader},E.createElement(R.a,{size:"large",weight:"bold"},t)),n._renderSearchUserCells(a)):null},n._getSearchCellDecorator=function(e){if(n.state.useCheckboxes){var t=n._handleSearchUserUnfollowed(e.id_str);return E.createElement(va.a,{onValueChange:t,value:!0})}return n._getUserFollowButton({id:e.id_str,name:e.name,screenName:e.screen_name,isFollowing:!0,onFollow:function(e){return U.a},onUnfollow:n._handleSearchUserUnfollowed})},n._handleSearchUserUnfollowed=function(e){return function(){return n.props.onSearchUserRemove(e)}},n._renderUserCell=function(e){var t=e.id,a=e.description,r=e.name,i=e.profileImageUrl,o=e.screenName,s=e.isFollowing,l=e.isVerified,u=e.onCellClick,c=e.decorator,d=e.tweets,p=e.user,f=u(t,s);return E.createElement(q.a,{accessibilityRole:"label",key:t,style:Si.userCellContainer},E.createElement(gi.a,{avatarUri:i,decoration:c,description:a,displayMode:bi.a.UserDetailed,entities:{},isVerified:l,key:t,name:r,onCellClick:f,promotedItemType:"users",screenName:o,style:Si.userCell,userId:t,withLink:!1}),d&&0!==d.length&&p?n._renderTweetQuote(d,p):null)},n._getUserFollowButton=function(e){var t=e.id,a=e.name,r=e.screenName,i=e.isFollowing,o=e.onFollow,s=e.onUnfollow;return E.createElement(hi.a,{displayMode:"only-text",isFollowing:i,isLoggedIn:n.context.loggedInUserId,onFollow:o(t),onUnfollow:s(t),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:Si.followButton,userId:t,userName:a,userScreenName:r})},n._getUserCellDecorator=function(e,t){var a=e.user,r=e.user_id_str;if(n.state.useCheckboxes){var i=n._handleDecoratorChange(r,t);return E.createElement(va.a,{onValueChange:i,value:t})}return n._getUserFollowButton({id:r,name:a.name,screenName:a.screen_name,isFollowing:t,onFollow:n._handleOnFollow,onUnfollow:n._handleOnUnfollow})},n._handleGroupCheckboxChange=function(e,t){return function(){var a=e.items.map(function(e){return e.user_id_str});n._updateFollowedItems(a,!t)}},n._handleOnFollow=function(e){return function(){n._updateFollowedItems([e],!0)}},n._handleOnUnfollow=function(e){return function(){n._updateFollowedItems([e],!1)}},n._handleDecoratorChange=function(e,t){return function(){n._updateFollowedItems([e],!t)}},n.state={useCheckboxes:e.followButtonType===C.e.Checkbox},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.groupedUsers,n=e.selectedSearchUsers;return E.createElement(q.a,null,this._renderSearchedUsers(n),t.map(this._renderGroup))}},{key:"_renderSearchUserCells",value:function(e){var t=this;return e.map(function(e){var n=t._getSearchCellDecorator(e);return t._renderUserCell({id:e.id_str,name:e.name,profileImageUrl:e.profile_image_url_https,screenName:e.screen_name,isFollowing:!0,isVerified:e.verified,onCellClick:t._handleSearchUserUnfollowed,decorator:n})})}},{key:"_renderUserCells",value:function(e){var t=this,n=this.props.followedUserIds;return e.map(function(e){var a=e.user,r=e.user_id_str,i=e.tweets,o=n.has(r),s=t._getUserCellDecorator(e,o);return t._renderUserCell({id:r,description:a.description,name:a.name,profileImageUrl:a.profile_image_url_https,screenName:a.screen_name,isFollowing:o,isVerified:a.verified,onCellClick:t._handleDecoratorChange,decorator:s,tweets:i,user:a})})}},{key:"_renderTweetQuote",value:function(e,t){return E.createElement(q.a,{style:Si.tweetQuoteContainer},E.createElement(yi.a,{style:Si.userStats,user:t,withLink:!1}),E.createElement(vi.a,{shouldTruncate:!0,style:Si.tweetQuote,tweet:e[0],withInlineMedia:!0,withLink:!0}))}},{key:"_updateFollowedItems",value:function(e,t){var n=this.props,a=n.onFollow,r=n.onUnfollow;t?a(e):r(e)}}]),t}(E.Component);ki.contextTypes={loggedInUserId:T.string};var wi=ki,Si=A.a.create(function(e){return{group:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:e.colors.borderColor},followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall},groupHeader:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginVertical:e.spaces.xSmall,paddingHorizontal:e.spaces.medium},userCell:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:e.colors.borderColor,paddingHorizontal:e.spaces.medium},tweetQuoteContainer:{marginBottom:e.spaces.medium,paddingRight:e.spaces.medium,paddingLeft:"calc(2*"+e.spaces.xLarge+")"},tweetQuote:{marginTop:e.spaces.xSmall},userCellContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},userStats:{marginBottom:e.spaces.xSmall,marginLeft:e.spaces.micro}}}),Ci=[On.a.Users],Ei={SelectedUserRecommendations:"selected_user_recommendations"},xi=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));Ii.call(n);var a=e.subtaskId,r=e.subtaskInputs,i=wn()([]),o=Object(S.c)(r,{key:Ei.SelectedUserRecommendations,subtask_id:a},i);return n._recommendedUsers=wn()(e.subtask.groups.map(function(e){return e.items.map(function(e){return e.user_id?e.user_id.toString():""})}).reduce(function(e,t){return e.concat(t)})),n.state={selectedSearchUsers:{},selectedUsers:o&&o.size?o:n._getPreCheckedUsers(e.subtask.groups)},n}return g()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=this.state,u=l.selectedSearchUsers,c=l.selectedUsers,d=(((i.next_link_threshold_text||{})[0]||{}).text||{}).text,p=i.next_link.label,f=this._getFollowText(d,p,c.size),h=E.createElement(Ft.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},f),_=i.skip_link?E.createElement(Ft.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"invertedPrimary"},i.skip_link.label):null,m=null===i.min_follow_count||void 0===i.min_follow_count?1:i.min_follow_count,v=c.size>=m?h:_,g=i.show_user_search?E.createElement(q.a,{style:[Ot.contentArea,Pi.searchContainer]},E.createElement(Pn.c,{filter:Ci,onItemClick:this._handleSearchSuggestionSelected,placeholder:i.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:On.c.WelcomeFlow})):null;return E.createElement(V.a,{history:t,location:n,onBackClick:a,rightControl:v},E.createElement(q.a,null,E.createElement(q.a,{style:Pi.main},i.primary_text?E.createElement(D,o()({},i.primary_text,{nativeID:b.c,onNavigate:r,size:"xLarge",style:Ot.headline,subtaskInputs:s,weight:"bold"})):null,i.secondary_text?E.createElement(D,o()({},i.secondary_text,{onNavigate:r,size:"normal",style:Ot.subHeader,subtaskInputs:s,weight:"bold"})):null),g,E.createElement(q.a,null,E.createElement(wi,{followButtonType:i.follow_button_type,followedUserIds:c,groupedUsers:i.groups,onFollow:this._handleOnFollowsSelected,onSearchUserRemove:this._handleSearchUserRemoved,onUnfollow:this._handleOnUnfollowsSelected,selectedSearchHeader:i.custom_recommendations_header&&i.custom_recommendations_header.text||void 0,selectedSearchUsers:u}))),this.props.errorDialog)}}]),t}(E.Component),Ii=function(){var e=this;this._getPreCheckedUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return wn()(e.reduce(function(e,t){var n=t.items.reduce(function(e,t){return t.checked_by_default&&e.push(t.user_id_str),e},[]);return[].concat(yn()(e),yn()(n))},[]))},this._getFollowText=function(e,t,n){return!e||n<1?t:e.concat(n.toString())},this._handleSelectionChanged=function(t){e.setState({selectedUsers:t})},this._handleOnUnfollowsSelected=function(t){var n=wn()([].concat(yn()(e.state.selectedUsers))),a=e.state.selectedSearchUsers,r=!0,i=!1,o=void 0;try{for(var s,l=fi()(t);!(r=(s=l.next()).done);r=!0){var u=s.value;n.has(u)&&n.delete(u),delete a[u]}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}e.setState({selectedUsers:n,selectedSearchUsers:a})},this._handleOnFollowsSelected=function(t){var n=wn()([].concat(yn()(e.state.selectedUsers))),a=!0,r=!1,i=void 0;try{for(var o,s=fi()(t);!(a=(o=s.next()).done);a=!0){var l=o.value;n.add(l)}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}e.setState({selectedUsers:n})},this._handleFollowButtonClick=function(){var t=e.props,n=t.onNavigate,a=t.subtask,r=t.subtaskId;(0,t.updateFlow)(r,{link:a.next_link.link_id,selected_user_recommendations:[].concat(yn()(e.state.selectedUsers)),searched_users:l()(e.state.selectedSearchUsers)}),n(a.next_link)},this._handleSkipButtonClick=function(){var t=e.props,n=t.onNavigate,a=t.subtask.skip_link,r=t.subtaskId,i=t.updateFlow;a&&i(r,{link:a.link_id}),a&&n(a)},this._handleSearchUserRemoved=function(t){return e._handleOnUnfollowsSelected([t])},this._handleSearchSuggestionSelected=function(t,n){var a=t.data,r=e.state,i=r.selectedSearchUsers,o=r.selectedUsers;e._recommendedUsers.has(a.id_str)&&o.add(a.id_str),i[a.id_str]=a,e.setState({selectedSearchUsers:i,selectedUsers:o})}},Ri=xi,Pi=A.a.create(function(e){return{secondaryText:{marginBottom:e.spaces.small},main:{marginHorizontal:e.spaces.medium},searchContainer:{marginBottom:e.spaces.small,zIndex:1}}}),Ai=n("DnGj"),Ti=gt.a.i100b596,Oi=gt.a.g8a7fba2,Mi=ra()({},Ai.a.Offline,Ti),Di=function(e,t,n){var a=void 0,r=ra()({},ia.a.AccessDeniedByBouncer,{customAction:function(t){Object(ee.a)(t,{flow:e})}});if(n)a=o()({},r,{customErrorHandler:function(a){var r=Wt()(a.errors,1),i=r[0];i.code===ia.a.AccessDeniedByBouncer?Object(ee.a)(i,{flow:e}):n(t||Mi[i.code]||Oi)}});else if(t){var i,s={toast:{text:t}};a=o()((i={},ra()(i,ia.a.ValidationFailure,s),ra()(i,ia.a.OnboardingFlowRetriableFailure,s),ra()(i,"defaultToast",{text:t}),ra()(i,"showToast",!0),i),r)}else a=o()({defaultToast:{text:Oi},showToast:!0},r,Ja()(Mi).reduce(function(e,t){var n=Wt()(t,2),a=n[0],r=n[1];return e[a]={toast:{text:r}},e},{}));return a};n.d(t,"OcfScreen",function(){return Li});var Fi={page:"onboarding"},Ni=gt.a.c684bbf6,Bi=gt.a.df4ade0c,Li=function(e){function t(e){p()(this,t);var n=m()(this,(t.__proto__||c()(t)).call(this,e));return ji.call(n),n.state={alertFailureMessage:""},n}return g()(t,e),h()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.flowName!==e.flowName&&this._startFlow(e)}},{key:"componentDidUpdate",value:function(e){var t=e.currentSubtask,n=this.props.currentSubtask,a=t&&t.subtask_id;n&&n.subtask_id!==a&&this._scribeSubtaskView()}},{key:"UNSAFE_componentWillMount",value:function(){this._startFlow(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.googleAnalyticsPageView,a=t.history;(0,t.scribePageImpression)(Fi),n(Fi),this._unblockHistory=a.block(function(t,n){var a=!e.currentPreviousNavigableSubtaskId&&e._onFirstTaskSinceStart;return!("POP"===n&&!a&&(e.currentPreviousNavigableSubtaskId&&e._navigateToPreviousSubtask(),1))})}},{key:"componentWillUnmount",value:function(){this._unblockHistory&&this._unblockHistory(),this.props.clearFlow()}},{key:"render",value:function(){var e=this.props,t=e.currentSubtask;e.shouldEndFlow&&this._handleAbortFlow();var n=this.props.fetchStatus;return n===_t.a.FAILED||t||(n=_t.a.LOADING),x.a.createElement(q.a,{style:Ui.root},x.a.createElement(mt.a,{fetchStatus:n,onRequestRetry:this._handleFlowRestart,render:this._render,renderFailure:this._renderErrorDialog,retryable:!this.props.shouldAbort}))}},{key:"currentPreviousNavigableSubtaskId",get:function(){return this.props.previousNavigableSubtaskId}}]),t}(x.a.Component);Li.defaultProps={inputFlowData:{}};var ji=function(){var e=this;this._sendGaOnboardingEvent=function(t){(0,e.props.googleAnalyticsSendEvent)("signup",t,"new-user")},this._startFlow=function(t){var n=t.countryCode,a=t.debugOverrides,r=t.inputFlowData,i=t.location,s=t.startFlow,u=t.startLocation,c=t.testCountryCode,d=t.flowName,p=t.createLocalApiErrorHandler,f=i.state||{},h=f.fromApp,_=f.gatedAction,m=l()(u||{}).length?{start_location:u}:{start_location:{location:h?"unknown":"manual_link"}},v={flow_context:o()({debug_overrides:a,gated_action:_},m)},g=o()({},r,{country_code:n||r.country_code},v);"signup"===d&&e._sendGaOnboardingEvent("signup-clicked"),e._onFirstTaskSinceStart=!0,s({flow_name:d,input_flow_data:g,test_country_code:c}).catch(p(Di(d,null,e._displayFailureMessage)))},this._handleFlowRestart=function(){e._startFlow(e.props)},this._handleDeepLink=function(t){e.props.history.replace(Object(fn.b)(t))},this._handleAbortFlow=function(t){var n=e.props,a=n.clearFlow,r=n.currentSubtask,i=n.history,o=n.onAbort,s=n.returnPath,l=n.returnUrl;a({clearPersistence:!0});var u=r&&Object(S.e)(r);if(o)return void o();var c="on"===be.a.parse(document.cookie)[wa.RWEB_OPT_IN_COOKIE];if(kt.b.isTwitterRootDomain()&&!c)if(s){var d=0===s.indexOf("/")?s:"/"+s,p="https://twitter.com"+d;kt.b.deregisterServiceWorkerAndNavigateTo(p)}else if(l){var f=kt.b.isTwitterUrl(l)?l:"https://twitter.com";kt.b.deregisterServiceWorkerAndNavigateTo(f)}else kt.b.deregisterServiceWorkerAndNavigateTo("https://twitter.com");else s?i.replace({pathname:s,query:{flow_status:t}}):u===C.m.OpenHomeTimeline?i.replace("/"):(e._unblockHistory(),i.goBack())},this._displayFailureMessage=function(t){e.setState({alertFailureMessage:t})},this._submitFlow=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.isTaskNavigation,a=e.props,r=a.flowName,i=a.submitFlow,o=a.createLocalApiErrorHandler;return i({isTaskNavigation:n}).then(function(t){return e._onFirstTaskSinceStart=!1,t},function(t){var n=e.props,a=n.failureMessage,i=n.shouldAbort;return o(Di(r,a,i&&e._displayFailureMessage))(t)})},this._handleNavigate=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props,r=a.navigateSubtask,i=a.submitFlow,o=t.is_destructive,s=t.subtask_id,l=t.subtask_navigation_context;switch(e._scribeSubtaskNavigate(t),t.link_type){case C.i.Abort:i().catch(U.a),e._handleAbortFlow();break;case C.i.Subtask:r({subtaskId:s,navigationContext:l,destructive:o,fromHiddenSubtask:n});break;case C.i.Finish:e._submitFlow().then(function(){return e._handleAbortFlow()});break;case C.i.Task:e._submitFlow({isTaskNavigation:!0});break;case C.i.Deeplink:e._submitFlow(),e._handleDeepLink(t.url);break;case C.i.DeeplinkAndAbort:i().catch(U.a),e._handleDeepLink(t.url);break;case C.i.WeblinkAndAbort:i().catch(U.a),window.open(t.url,"_blank"),e._handleAbortFlow();break;case C.i.Web:kt.b.navigateTo(t.url);break;case C.i.ChromelessWeb:case C.i.DeeplinkInPlace:break;default:Object(ka.a)("Unknown Navigation Link Type "+t.link_type),e._handleAbortFlow()}},this._scribeSubtaskNavigate=function(t){var n=e.props,a=n.currentSubtask,r=n.scribeAction,i=n.flowToken;if(a&&a.subtask_id){var s=t.link_id;r(o()({},Fi,{element:"link",action:"click"}),{items:[{token:i,name:a.subtask_id,description:s}]})}},this._navigateToSubtask=function(t){return function(){e._handleNavigate({link_type:C.i.Subtask,subtask_id:t})}},this._endFlowSubtaskAction=function(t,n){var a=e.props.submitFlow;switch(n){case C.i.Abort:a().catch(U.a).then(function(){return e._handleAbortFlow(t)});break;case C.i.Finish:e._submitFlow().then(function(){return e._handleAbortFlow(t)});break;default:Object(ka.a)("Unknown End Flow Type "+n),e._handleAbortFlow()}},this._render=function(){var t=e.props,n=t.currentSubtask,a=t.previousNavigableSubtaskId,r=t.subtasks,i=r.find(function(e){return e.subtask_id===a});return n.alert_dialog||n.menu_dialog?x.a.createElement(x.a.Fragment,null,e._renderSubtask(n),e._renderSubtask(i)):e._renderSubtask(n)},this._renderDefault=function(){var t=e.props,n=t.currentSubtask,a=t.flowToken,r=t.history,i=t.location,o=t.subtasks,s=o.map(function(t){return x.a.createElement(R.a,{key:t.subtask_id,onClick:e._navigateToSubtask(t.subtask_id)},t.subtask_id)});return x.a.createElement(V.a,{history:r,location:i},x.a.createElement(q.a,{style:{margin:5}},x.a.createElement(R.a,null,a),x.a.createElement(R.a,null,"Current Subtask: "+(n&&n.subtask_id)),s))},this._handleInvisibleSubtask=function(e,t,n){return function(){return new r.a(function(a,r){a(n(e,t))})}},this._onNoopInvisibleSubtask=function(){return r.a.resolve()},this._navigateToPreviousSubtask=function(){var t=e.props;(0,t.navigateSubtask)({subtaskId:t.previousNavigableSubtaskId,destructive:!0})},this._renderErrorDialog=function(){var t=e.props,n=t.failureMessage,a=t.history,r=t.location;return x.a.createElement(V.a,{hideBackButton:!0,history:a,location:r},x.a.createElement(y.a,{confirmLabel:Bi,headline:Ni,onConfirm:e._handleAbortFlow,showCancel:!1,text:n||Oi}))},this._renderSubtask=function(t){var n=e.props,a=n.addToast,r=n.fetchTemporaryPassword,i=n.flowName,s=n.history,l=n.location,u=n.previousNavigableSubtaskId,c=n.removeContacts,d=n.shouldAbort,p=n.submitFailed,f=n.subtaskInputs,h=n.updateFlow,_=t.subtask_id,m=t.progress_indication,v=Object(S.e)(t),g=d?x.a.createElement(y.a,{confirmLabel:Bi,headline:Ni,onConfirm:e._handleAbortFlow,showCancel:!1,text:e.state.alertFailureMessage}):null,b={onNavigate:e._handleNavigate,progressIndication:m,subtaskId:_,updateFlow:h,history:s,location:l},k=u?{onBackClick:e._navigateToPreviousSubtask}:{};switch(v){case C.m.EndFlow:return e._endFlowSubtaskAction(t.end_flow.status,t.end_flow.end_flow_type),e._renderDefault();case C.m.FetchPassword:return x.a.createElement(mn,o()({navigationLink:t.fetch_temporary_password.next_link,subtaskAction:e._handleInvisibleSubtask(_,t.fetch_temporary_password,r),subtaskType:v},b));case C.m.CallToAction:return x.a.createElement(X,o()({errorDialog:g,subtask:t.cta,subtaskInputs:f},b,k));case C.m.AppDownloadCTA:return x.a.createElement(W,o()({errorDialog:g,subtask:t.app_download_cta,subtaskInputs:f},b,k));case C.m.AlertDialog:return x.a.createElement(N,o()({subtask:t.alert_dialog,subtaskInputs:f},b,k));case C.m.MenuDialog:return x.a.createElement(jn,o()({subtask:t.menu_dialog,subtaskInputs:f},b));case C.m.OpenAccount:return e._sendGaOnboardingEvent("account-create"),x.a.createElement(mn,o()({navigationLink:t.open_account.next_link,subtaskAction:e._openAccountAction,subtaskType:v},b));case C.m.Signup:return x.a.createElement(ei,o()({subtask:t.sign_up,subtaskInputs:f},b));case C.m.SignupReview:return x.a.createElement(ri,o()({errorDialog:g,subtask:t.sign_up_review,subtaskInputs:f},b,k));case C.m.PhoneVerification:return x.a.createElement(_a,o()({errorDialog:g,submitFailed:p,subtask:t.phone_verification,subtaskInputs:f},b,k));case C.m.PrivacyOptions:return x.a.createElement(ya,o()({subtask:t.privacy_options,subtaskInputs:f},b));case C.m.InterestPicker:return x.a.createElement(Nn,o()({errorDialog:g,subtask:t.interest_picker,subtaskInputs:f},b));case C.m.NotificationsPermissionPrompt:return x.a.createElement(Kn,o()({subtask:t.notifications_permission_prompt,subtaskInputs:f},b));case C.m.OpenHomeTimeline:return"signup"===i&&e._sendGaOnboardingEvent("complete-NUX"),x.a.createElement(mn,o()({navigationLink:t.open_home_timeline.next_link,subtaskAction:e._onNoopInvisibleSubtask},b));case C.m.OpenLink:return x.a.createElement(Jn,o()({subtask:t.open_link},b));case C.m.UploadMedia:return x.a.createElement(di,o()({subtask:t.upload_media},b));case C.m.UserRecommendations:return x.a.createElement(Ri,o()({errorDialog:g,subtask:t.user_recommendations_list,subtaskInputs:f},b));case C.m.EnterPassword:return x.a.createElement(cn,o()({errorDialog:g,subtask:t.enter_password,subtaskInputs:f},b));case C.m.SettingsList:return x.a.createElement(Cr,o()({addToast:a,errorDialog:g,removeContacts:c,subtask:t.settings_list,subtaskInputs:f},b,k));case C.m.EmailContactsSync:return x.a.createElement(xt,o()({errorDialog:g,subtask:t.email_contacts_sync,subtaskInputs:f},b,k));case C.m.SelectAvatar:return x.a.createElement(Ba,o()({errorDialog:g,subtask:t.select_avatar,subtaskInputs:f},b,k));case C.m.SelectBanner:return x.a.createElement(Za,o()({errorDialog:g,subtask:t.select_banner,subtaskInputs:f},b,k));case C.m.EnterText:return x.a.createElement(pn,o()({errorDialog:g,subtask:t.enter_text,subtaskInputs:f},b,k));case C.m.EmailVerification:return x.a.createElement(Ut,o()({errorDialog:g,submitFailed:p,subtask:t.email_verification,subtaskInputs:f},b,k));default:return e._renderDefault()}},this._scribeSubtaskView=function(){var t=e.props,n=t.currentSubtask,a=t.scribeAction,r=t.flowToken;if(n&&n.subtask_id){a(o()({},Fi,{element:"view",action:"impression"}),{items:[{token:r,name:n.subtask_id}]})}},this._openAccountAction=function(){var t=e.props,n=t.logNymizerSignup,a=t.scribeAction,r=t.verifyCredentials,i=Object($n.d)(),o=i.encryptedReferer,s=i.encryptedReferralDetails;return r().then(function(){n(),e._maybeScribeAppInstallBanner(),a({page:"signup",action:"success"},{referer:o,external_referer:s})})},this._maybeScribeAppInstallBanner=function(){var t=e.props.scribeAction;Y.a.hasPromptWaiting()&&t({page:"signup",component:"install_banner",action:"waiting"})}},Ui=A.a.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}});t.default=Object(L.withRouter)(Object(ve.b)(Fi)(me(Li)))},DOzz:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p});var a=n("sp77"),r=n.n(a),i=n("4fSK"),o=n("zEXV"),s={Web:0,Email:1,Partner:2,Market:3,Access:4},l={"01":"twcamp^share|twsrc^android|twgr^sms","02":"twcamp^share|twsrc^android|twgr^email","03":"twcamp^share|twsrc^android|twgr^gmail","04":"twcamp^share|twsrc^android|twgr^facebook","05":"twcamp^share|twsrc^android|twgr^wechat","06":"twcamp^share|twsrc^android|twgr^line","07":"twcamp^share|twsrc^android|twgr^fbmessenger","08":"twcamp^share|twsrc^android|twgr^whatsapp","09":"twcamp^share|twsrc^android|twgr^other",10:"twcamp^share|twsrc^ios|twgr^sms",11:"twcamp^share|twsrc^ios|twgr^email",12:"twcamp^share|twsrc^ios|twgr^other",13:"twcamp^share|twsrc^android|twgr^download",14:"twcamp^share|twsrc^ios|twgr^download",15:"twcamp^share|twsrc^android|twgr^hangouts",16:"twcamp^share|twsrc^android|twgr^twitterdm",17:"twcamp^share|twsrc^m5|twgr^email",18:"twcamp^share|twsrc^m5|twgr^download",19:"twcamp^share|twsrc^android|twgr^copy",20:"twcamp^share|twsrc^m5|twgr^copy",21:"twcamp^share|twsrc^ios|twgr^copy"},u=function(e){var t=e.query,n=void 0===t?{}:t,a=e.httpReferer,r=void 0===a?"":a,i=e.carrierInfo,u=void 0===i?{}:i,c=e.requestUrl,d=void 0===c?"":c,p=n.cn,f=n.iid,h=n.original_referer,_=n.nid,m=n.ref_src,v=n.ref_url,g=n.s,b=n.partner,y=n.uid,k=n.url,w={};if(m)w={referral_type:s.Web,referral_details_str:m,url:d};else if(f){var S=void 0;try{S=window.atob(p)}catch(e){S="invalid"}w={referral_type:s.Email,referral_details_str:"twcamp^email|twsrc^"+_+"|twcon^"+y+"|twterm^"+f+"|twgr^"+S,url:d}}else if(g){var C=l[g];w=C?{referral_type:s.Web,referral_details_str:C,url:d}:{}}else if(b)w={referral_type:s.Partner,referral_details_str:"twsrc^"+b,url:d};else if(u&&void 0!==u.accessBannerFlag&&u.carrierKey){var E=function(e,t){return"twsrc^$ZeroRateCampaign|twgr^"+e+"|twterm^"+t}(u.accessBannerFlag?"banner":"no_banner",u.carrierKey);w={referral_type:s.Access,referral_details_str:E,url:d}}else r&&o.b.isExternalUrl(r)&&(w={referral_type:s.Web,url:d});var x=v||h||k||r;return x&&(w.referer=x),w},c=function(e){var t=e&&e.encryptedReferralDetails||"",n=e&&e.encryptedReferer||"",a=e&&""+e.referralType||"";if(t||n||a)return encodeURIComponent(n)+"|"+a+"|"+encodeURIComponent(t)},d=function(e){var t=c(e);if(t)return r.a.serialize("external_referer",t,{maxAge:604800,path:"/",domain:".twitter.com",encode:function(e){return e}})},p=function(){var e=Object(i.a)("external_referer");if(e&&e.split("|").length>1){var t=e.split("|");return{encryptedReferer:t[0],referralType:t[1],encryptedReferralDetails:t[2]}}return{}}},EKta:function(e,t,n){"use strict";function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-a(e)}function i(e){var t,n,r,i,o,s,l=e.length;o=a(e),s=new d(3*l/4-o),r=o>0?l-4:l;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function o(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var a,r=[],i=t;i<n;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],r.push(o(a));return r.join("")}function l(e){for(var t,n=e.length,a=n%3,r="",i=[],o=0,l=n-a;o<l;o+=16383)i.push(s(e,o,o+16383>l?l:o+16383));return 1===a?(t=e[n-1],r+=u[t>>2],r+=u[t<<4&63],r+="=="):2===a&&(t=(e[n-2]<<8)+e[n-1],r+=u[t>>10],r+=u[t>>4&63],r+=u[t<<2&63],r+="="),i.push(r),i.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=l;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=p.length;f<h;++f)u[f]=p[f],c[p.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},EuP9:function(e,t,n){"use strict";(function(e){function a(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return o(this,e,t,n)}function o(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,a):"string"==typeof t?c(e,t,n):f(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,a){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof a?r(e,t).fill(n,a):r(e,t).fill(n):r(e,t)}function u(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|m(t,n);e=r(e,a);var o=e.write(t,n);return o!==a&&(e=e.slice(0,o)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function p(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=d(e,t),e}function f(e,t){if(i.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?r(e,0):d(e,t);if("Buffer"===t.type&&J(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),i.alloc(+e)}function m(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(a)return G(e).length;t=(""+t).toLowerCase(),a=!0}}function v(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function b(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=i.from(t,a)),i.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,r);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,r){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(r){var c=-1;for(u=n;u<s;u++)if(i(e,u)===i(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var d=!0,p=0;p<l;p++)if(i(e,u+p)!==i(t,p)){d=!1;break}if(d)return u}return-1}function k(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,a){return K(G(t,e.length-n),e,n,a)}function S(e,t,n,a){return K(H(t),e,n,a)}function C(e,t,n,a){return S(e,t,n,a)}function E(e,t,n,a){return K(Y(t),e,n,a)}function x(e,t,n,a){return K(W(t,e.length-n),e,n,a)}function I(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var i=e[r],o=null,s=i>239?4:i>223?3:i>191?2:1;if(r+s<=n){var l,u,c,d;switch(s){case 1:i<128&&(o=i);break;case 2:l=e[r+1],128==(192&l)&&(d=(31&i)<<6|63&l)>127&&(o=d);break;case 3:l=e[r+1],u=e[r+2],128==(192&l)&&128==(192&u)&&(d=(15&i)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|1023&o),a.push(o),r+=s}return P(a)}function P(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",a=0;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=$));return n}function A(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function T(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function O(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",i=t;i<n;++i)r+=q(e[i]);return r}function M(e,t,n){for(var a=e.slice(t,n),r="",i=0;i<a.length;i+=2)r+=String.fromCharCode(a[i]+256*a[i+1]);return r}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,a,r,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function N(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function B(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function L(e,t,n,a,r,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,a,r){return r||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,a,23,4),n+4}function U(e,t,n,a,r){return r||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,a,52,8),n+8}function V(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var n,a=e.length,r=null,i=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,a,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),a=n>>8,r=n%256,i.push(r),i.push(a);return i}function Y(e){return Z.toByteArray(V(e))}function K(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function X(e){return e!==e}var Z=n("EKta"),Q=n("ujcs"),J=n("sOR5");t.Buffer=i,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return o(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return l(null,e,t,n)},i.allocUnsafe=function(e){return u(null,e)},i.allocUnsafeSlow=function(e){return u(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,o=Math.min(n,a);r<o;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=i.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,a,r){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,r>>>=0,this===e)return 0;for(var o=r-a,s=n-t,l=Math.min(o,s),u=this.slice(a,r),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){o=u[d],s=c[d];break}return o<s?-1:s<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var a;if(i.TYPED_ARRAY_SUPPORT)a=this.subarray(e,t),a.__proto__=i.prototype;else{var r=t-e;a=new i(r,void 0);for(var o=0;o<r;++o)a[o]=this[o+e]}return a},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},i.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=t,r=1,i=this[e+--a];a>0&&(r*=256);)i+=this[e+--a]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),Q.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),Q.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),Q.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),Q.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,a){if(e=+e,t|=0,n|=0,!a){F(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,a){if(e=+e,t|=0,n|=0,!a){F(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);F(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);F(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,o=a-n;if(this===e&&n<t&&t<a)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!i.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=i.isBuffer(e)?e:G(new i(e,a).toString()),l=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n("DuR2"))},F2iK:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a){e.handle&&(o.default.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,a)}t.__esModule=!0;var i=n("B1Ul"),o=a(i),s=n("sBfw"),l=a(s),u=l.default.currentCentroidXOfTouchesChangedAfter,c=l.default.currentCentroidYOfTouchesChangedAfter,d=l.default.previousCentroidXOfTouchesChangedAfter,p=l.default.previousCentroidYOfTouchesChangedAfter,f=l.default.currentCentroidX,h=l.default.currentCentroidY,_={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=u(t,e._accountsForMovesUpTo),e.moveY=c(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,a=d(t,n),r=u(t,n),i=p(t,n),o=c(t,n),s=e.dx+(r-a),l=e.dy+(o-i),f=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(s-e.dx)/f,e.vy=(l-e.dy)/f,e.dx=s,e.dy=l,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null},n={stateID:Math.random()};return _._initializeGestureState(n),{panHandlers:{onStartShouldSetResponder:function(t){return void 0!==e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return void 0!==e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&_._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,void 0!==e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var a=t.touchHistory;return n._accountsForMovesUpTo!==a.mostRecentTimeStamp&&(_._updateGestureStateOnMove(n,a),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(a){return t.handle||(t.handle=o.default.createInteractionHandle()),n.x0=f(a.touchHistory),n.y0=h(a.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(a,n),void 0===e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder()},onResponderReject:function(a){r(t,e.onPanResponderReject,a,n)},onResponderRelease:function(a){r(t,e.onPanResponderRelease,a,n),_._initializeGestureState(n)},onResponderStart:function(t){var a=t.touchHistory;n.numberActiveTouches=a.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var a=t.touchHistory;n._accountsForMovesUpTo!==a.mostRecentTimeStamp&&(_._updateGestureStateOnMove(n,a),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(a){var i=a.touchHistory;n.numberActiveTouches=i.numberActiveTouches,r(t,e.onPanResponderEnd,a,n)},onResponderTerminate:function(a){r(t,e.onPanResponderTerminate,a,n),_._initializeGestureState(n)},onResponderTerminationRequest:function(t){return void 0===e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)}},getInteractionHandle:function(){return t.handle}}}};t.default=_,e.exports=t.default},GHKZ:function(e,t,n){"use strict";var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("iuYP"),h=n("GiK3"),_=(n.n(h),n("XO25")),m=n("plj8"),v=n.n(m),g=n("faqf"),b=n("KSGD"),y=(n.n(b),n("MjES")),k=n.n(y),w=n("Mpbj"),S=n.n(w),C=n("W3GO"),E=n.n(C),x=n("jYKd"),I=n.n(x),R=v.a.j0d798e1,P=v.a.af082387,A=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.context.loggedInUserId,n=this.props,a=n.style,r=n.user,i=n.withLink,o=r.followers_count,s=r.friends_count,l=r.id_str,u=r.screen_name,c=t===l,d=Object(_.b)({isOwnProfile:c,user:r}),p=d?f.d("/"+u+"/following"):f.d("/"+u),m=d?f.d("/"+u+"/followers"):f.d("/"+u),v=P(s),b=P(o),y=s>=1e4?R(s):v,w=o>=1e4?R(o):b;return i?h.createElement(k.a,{style:[T.root,a]},h.createElement(E.a,null,function(t){var n=t.isHovered;return h.createElement(g.a,{link:p,style:[T.stat,T.statFollowing],title:v},e._renderFollowingText({isHovered:n,isOwnProfile:c,formattedFollowing:y}))}),h.createElement(E.a,null,function(t){var n=t.isHovered;return h.createElement(g.a,{link:m,style:T.stat,title:b},e._renderFollowerText({isHovered:n,formattedFollowers:w,followersCount:o}))})):h.createElement(k.a,{style:T.root},h.createElement(k.a,{style:T.statFollowing},this._renderFollowingText({isHovered:!1,isOwnProfile:c,formattedFollowing:y})),this._renderFollowerText({isHovered:!1,formattedFollowers:w,followersCount:o}))}},{key:"_renderFollowingText",value:function(e){var t=e.isHovered,n=e.isOwnProfile,a=e.formattedFollowing;return h.createElement(S.a,{color:"deepGray"},n?h.createElement(v.a.I18NFormatMessage,{$i18n:"fe0b4897"},h.createElement(S.a,{color:"normal",weight:"bold"},v.a.id190622({ownFollowingCount:a})),h.createElement(S.a,{style:t&&T.underline},v.a.be49a709)):h.createElement(v.a.I18NFormatMessage,{$i18n:"i33f1f4b"},h.createElement(S.a,{color:"normal",weight:"bold"},v.a.j4c6fece({count:a})),h.createElement(S.a,{style:t&&T.underline},v.a.be49a709)))}},{key:"_renderFollowerText",value:function(e){var t=e.isHovered,n=e.formattedFollowers,a=e.followersCount;return h.createElement(S.a,{color:"deepGray"},h.createElement(v.a.I18NFormatMessage,{$i18n:"c313c58e"},h.createElement(S.a,{color:"normal",weight:"bold"},v.a.b8c7f365({formattedFollowers:n})),h.createElement(S.a,{style:t&&T.underline},v.a.ja576868({count:a}))))}}]),t}(h.PureComponent);A.contextTypes={loggedInUserId:b.string},A.defaultProps={withLink:!0},t.a=A;var T=I.a.create(function(e){return{root:{flexDirection:"row"},stat:{display:"inline-block",textDecorationLine:"none"},statFollowing:{marginRight:e.spaces.medium},underline:{textDecorationLine:"underline"}}})},GXZf:function(e,t,n){"use strict";function a(e,t,n){var a=t.key,r=t.subtask_id,i=e[r]&&e[r][a];return void 0===i?n:i}t.c=a,n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return _});var r=n("fZjL"),i=n.n(r),o=n("d7EF"),s=n.n(o),l=n("86z1"),u=n("pVDu"),c=function(e){return(e?e.split(","):[]).reduce(function(e,t){var n=t.split(":",2),a=s()(n,2),r=a[0],i=a[1];return r&&i&&(e[r]=i),e},{})},d=function(e){switch(e){case u.b.Primary:return"primary";case u.b.Text:return"text";case u.b.DestructiveSecondary:return"destructiveSecondary";default:return Object(l.a)("Unknown Button Style ${style}"),"primary"}},p={subtask_id:null,progress_indication:null,alert_dialog:u.m.AlertDialog,app_download_cta:u.m.AppDownloadCTA,cta:u.m.CallToAction,email_contacts_sync:u.m.EmailContactsSync,email_verification:u.m.EmailVerification,enter_password:u.m.EnterPassword,enter_text:u.m.EnterText,end_flow:u.m.EndFlow,fetch_temporary_password:u.m.FetchPassword,interest_picker:u.m.InterestPicker,menu_dialog:u.m.MenuDialog,notifications_permission_prompt:u.m.NotificationsPermissionPrompt,open_account:u.m.OpenAccount,open_home_timeline:u.m.OpenHomeTimeline,open_link:u.m.OpenLink,phone_verification:u.m.PhoneVerification,privacy_options:u.m.PrivacyOptions,select_avatar:u.m.SelectAvatar,select_banner:u.m.SelectBanner,settings_list:u.m.SettingsList,sign_up:u.m.Signup,sign_up_review:u.m.SignupReview,upload_media:u.m.UploadMedia,user_recommendations_list:u.m.UserRecommendations},f=function(e){return e&&i()(e).find(function(e){return p[e]})||null},h=function(e){var t=f(e);return t?p[t]:null},_=function(e){return e===u.l.Boolean||e===u.l.PreciseLocation}},GfdX:function(e,t,n){"use strict";var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("GiK3"),h=(n.n(f),n("plj8")),_=n.n(h),m=n("P+1r"),v=n.n(m),g=n("/8xP"),b=n.n(g),y=n("thTC"),k=n.n(y),w=n("9Kq5"),S=n("CHw2"),C=(n("uwYN"),n("fc63")),E=n.n(C),x=n("fF1d"),I=n.n(x),R=n("ydcI"),P=n.n(R),A=n("jYKd"),T=n.n(A),O=n("KSGD"),M=(n.n(O),n("MjES")),D=n.n(M),F=n("5nt5"),N=(n.n(F),_.a.d48f8353),B=function(e){function t(){var e,n,a,i;o()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=a=c()(this,(e=t.__proto__||r()(t)).call.apply(e,[this].concat(l))),a._setMediaPickerRef=function(e){a._mediaPickerRef=e},a._getAcceptedFileInputs=function(){var e=a.props,t=e.acceptGifs,n=e.acceptVideo,r=["image/png","image/jpeg"];return t&&(r=r.concat(["image/gif"])),n&&(r=r.concat(["video/webm","video/ogg","video/quicktime"])),r},a._handleAddMediaFiles=function(e){return a._mediaPickerRef&&a._mediaPickerRef.getWrappedInstance().addMedia(e)},a._handleDragDrop=function(e){var t=v()(e),n=a._getAcceptedFileInputs();t&&n.indexOf(t.type)>-1&&a._handleAddMediaFiles([t])},i=n,c()(a,i)}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.maskStyle,a=e.mediaItem,r=e.onRemove,i=e.rootStyle,o=a&&!a.uploader;return f.createElement(D.a,{style:[j.container,i,L[t]]},f.createElement(P.a,{onFilesAdded:this._handleDragDrop,style:[j.dragDropContainer,L[t]]},this._renderPreview(),o?null:f.createElement(f.Fragment,null,f.createElement(D.a,{style:[j.mask,n,L[t]]}),f.createElement(D.a,{style:j.mediaPicker},this._renderMediaPicker(),r?this._renderMediaRemove():null))))}},{key:"_renderMediaRemove",value:function(){var e=this.props.onRemove;return f.createElement(I.a,{accessibilityLabel:N,icon:f.createElement(k.a,null),onPress:e,style:j.remove,type:"invertedText"})}},{key:"_renderMediaPicker",value:function(){var e=this.props,t=e.acceptGifs,n=e.acceptVideo,a=e.accessibilityLabel,r=e.maxGifSize,i=e.maxImageSize,o=e.onChange,s=e.onFailure,l=e.onRemove;return f.createElement(w.a,{acceptGifs:t,acceptVideo:n,accessibilityLabel:a,icon:f.createElement(b.a,null),maxGifSize:r,maxImageSize:i,onChange:o,onFailure:s,onRemove:l,ref:this._setMediaPickerRef,type:"invertedText"})}},{key:"_renderPreview",value:function(){var e=this.props,t=e.aspectRatio,n=e.borderRadius,a=e.currentContent,r=e.mediaItem;return r?f.createElement(E.a,{ratio:t},f.createElement(S.a,{borderRadius:n,enableGif:!1,mediaItem:r,style:j.mediaPreview,withCloseButton:!1})):a}}]),t}(f.Component);B.defaultProps={acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:"none"};var L=T.a.create(function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.medium},none:{borderRadius:0}}}),j=T.a.create(function(e){return{mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},remove:{marginLeft:e.spaces.large},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"}}});t.a=B},KM5a:function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0;var r=a(n("lt8z")),i=a(n("Z8+c")),o=a(n("86MP")),s=a(n("M1I4")),l=a(n("fKPv")),u=a(n("GiK3")),c=a(n("vuwl")),d=a(n("O27J")),p=a(n("a05n")),f=a(n("MjES")),h=(a(n("5nt5")),function(e,t){return Math.sqrt(Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2))}),_=function(e,t){return{clientX:Math.min(t.clientX,e.clientX)+Math.abs(t.clientX-e.clientX)/2,clientY:Math.min(t.clientY,e.clientY)+Math.abs(t.clientY-e.clientY)/2}},m=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,l.default)((0,s.default)((0,s.default)(n)),"_previousTouchDistance",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_previousPositionX",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_previousPositionY",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_centerPosition",{x:0,y:0}),(0,l.default)((0,s.default)((0,s.default)(n)),"_panResponder",{}),(0,l.default)((0,s.default)((0,s.default)(n)),"_setRef",function(e){var t=n.props,a=t.onPanMove,r=t.onPanEnd,i=t.onPinchMove,o=t.onWheel,s=d.default.findDOMNode(e);if(s instanceof window.HTMLElement){(a||r||i)&&(n._removeTouchMoveToScrollListener=(0,c.default)(s,"touchmove",n._preventDefaultEvent,!1)),o&&(n._removeScrollToScaleListener=(0,c.default)(s,"wheel",n._preventDefaultEvent,!1));var l=s.getBoundingClientRect();n._centerPosition={x:l.width/2+l.left,y:l.height/2+l.top}}}),(0,l.default)((0,s.default)((0,s.default)(n)),"_preventDefaultEvent",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handlePanResponderMove",function(e,t){var a=n.props,r=a.onPinchMove,i=a.onPanMove,o=e.nativeEvent.touches;if(2===o.length){if(r){var s=h(o[0],o[1]),l=_(o[0],o[1]),u=l.clientX,c=l.clientY,d=n._previousPositionX?u-n._previousPositionX:0,p=n._previousPositionY?c-n._previousPositionY:0,f=n._previousTouchDistance?s-n._previousTouchDistance:0;n._previousPositionX=u,n._previousPositionY=c,n._previousTouchDistance=s;var m=n._centerPosition,v=m.x,g=m.y,b=v-u,y=g-c;r(f,b,y,d,p)}}else i&&i(t.dx,t.dy)}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handlePanResponderEnd",function(e,t){n.props.onPanEnd&&n.props.onPanEnd(t.dx,t.dy),n.props.onPinchMove&&(n._previousTouchDistance=0),n._previousPositionX=0,n._previousPositionY=0}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handleWheel",function(e){var t=e.clientX,a=e.clientY,r=e.deltaX,i=e.deltaY,o=n._centerPosition,s=o.x,l=o.y,u=s-t,c=l-a;n.props.onWheel&&n.props.onWheel(r,i,u,c)}),n._panResponder=p.default.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onPanResponderMove:n._handlePanResponderMove,onPanResponderRelease:n._handlePanResponderEnd,onPanResponderTerminate:n._handlePanResponderEnd}),n}(0,o.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.onWheel,e.onPanMove,e.onPanEnd,e.onPinchMove,e.children,(0,i.default)(e,["onWheel","onPanMove","onPanEnd","onPinchMove","children"]));return u.default.createElement(f.default,(0,r.default)({},t,{onWheel:this._handleWheel,ref:this._setRef},this._panResponder.panHandlers),this.props.children)},n.componentWillUnmount=function(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener(),this._removeScrollToScaleListener&&this._removeScrollToScaleListener()},t}(u.default.Component),v=m;t.default=v},LEGc:function(e,t,n){"use strict";t.__esModule=!0,t.cancelIdleCallback=void 0;var a=n("czSA"),r=function(e,t){return setTimeout(function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i=function(e){clearTimeout(e)},o=a.canUseDOM&&void 0!==window.requestIdleCallback,s=o?window.requestIdleCallback:r,l=o?window.cancelIdleCallback:i;t.default=s,t.cancelIdleCallback=l},N4KQ:function(e,t,n){var a=n("Ds5P");a(a.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},NNCV:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 19.89H4.25C3.01 19.89 2 18.88 2 17.64v-7.28c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v7.277c0 1.24-1.01 2.25-2.25 2.25zM4.25 9.61a.752.752 0 0 0-.75.75v7.278c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V10.36a.752.752 0 0 0-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"P+1r":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("IMUI");var a=function(e){return Array.isArray(e)?e[0]:void 0};t.default=a},Qfhh:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.localValidator,n=void 0===t?y:t,a=d()(e,["localValidator"]),r=Object(_.a)(u()({customActions:{clear:{reducer:function(e,t){return{}}}}},a));r.clear=function(){return function(e){return e({type:r.customActionTypes.clear.SUCCESS})}},r.validate=function(e,t){return function(a){var o=n(e,t);return o.valid?a(r.fetchOneIfNeeded(e)):(a(r.add(s()({},e,o))),i.a.resolve())}};var o=function(e){return r.selectState(e).fetchStatus||h.a},l=function(e,t){return b()(t,function(t,n){var a=e[n]||{};return u()({},a,{valid:!!a.valid||t===v.a.FAILED,isLoading:t===v.a.LOADING})})};return r.selectEntitiesWithFetchStatus=Object(p.createSelector)(r.selectAll,o,l),m.a.register(r)}t.a=a;var r=n("//Fk"),i=n.n(r),o=n("bOdI"),s=n.n(o),l=n("Dd8w"),u=n.n(l),c=n("+6Bu"),d=n.n(c),p=n("bndy"),f=(n.n(p),n("TJez")),h=n.n(f),_=n("KCLT"),m=n("qDka"),v=n("zAiL"),g=n("VBrc"),b=n.n(g),y=function(e){return{valid:!0}}},T4L8:function(e,t,n){"use strict";var a=n("Dd8w"),r=n.n(a),i=n("+6Bu"),o=n.n(i),s=(n("KSGD"),n("d7EF")),l=n.n(s),u=n("Qfhh"),c=n("plj8"),d=n.n(c),p=new RegExp("^\\+?[0-9\\-\\.\\(\\)\\s]{7,1000}$"),f=d.a.a40de2c9,h=Object(u.a)({namespace:"phoneNumberValidity",fetchOneContext:"FETCH_PHONE_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isPhoneNumberAvailable},fetchOneParams:function(e,t){var n=l()(e,1),a=n[0];return r()({raw_phone_number:a},t)},localValidator:function(e){var t=p.test(e);return{errorMessage:f,valid:t}}}),_=n("GiK3"),m=n.n(_),v=n("XVDi"),g=function(e){var t=e.onRef,n=o()(e,["onRef"]);return m.a.createElement(v.a,r()({module:h,ref:t,type:"tel"},n))};t.a=g},TW6s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("GiK3"),h=n("2Uj9"),_=n("4n+p"),m=n("bndy"),v=function(e){return function(t,n){return n.location.query[e]}},g=v("user_identifier"),b=v("phone"),y=v("email"),k=v("pin_code"),w=Object(m.createSelector)(y,g,b,k,function(e,t,n,a){return{identifier:t,email:e,phone:n,pinCode:a}}),S={verificationLink:h.w},C=Object(_.connect)(w,S),E=n("zAiL"),x=n("Y2tT"),I=n("plj8"),R=n.n(I),P=n("UB1R"),A=n("uMse"),T=n.n(A),O=n("qyjT"),M=n("jYKd"),D=n.n(M),F=n("MjES"),N=n.n(F);n.d(t,"VerificationLanding",function(){return U});var B=R.a.f82ce57c,L=R.a.a7828ea9,j=R.a.c22f67e7,U=function(e){function t(e){o()(this,t);var n=c()(this,(t.__proto__||r()(t)).call(this,e));return n._render=function(){return f.createElement(P.a,{actionLabel:j,message:n.state.title,onAction:n._handleCloseWindow,onClose:n._handleCloseWindow,subtext:n.state.message,withCloseButton:!1})},n._handleCloseWindow=function(){window&&window.close(),n.props.history.replace("/")},n.state={title:void 0,message:void 0,fetchStatus:E.a.LOADING},n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=t.verificationLink,i=t.identifier,o=t.email,s=t.phone,l=t.pinCode;return n.replace(a.pathname),r({user_identifier:i,email:o,phone:s,pin_code:l}).then(function(t){return e.setState({fetchStatus:t.success?E.a.LOADED:E.a.FAILED,title:t.title,message:t.message})}).catch(function(){return e.setState({title:B,message:L,fetchStatus:E.a.FAILED})})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location;return f.createElement(O.a,{history:t,location:n},f.createElement(N.a,{style:V.root},f.createElement(x.a,{fetchStatus:this.state.fetchStatus,onRequestRetry:T.a,render:this._render,renderFailure:this._render,retryable:!1})))}}]),t}(f.Component),V=D.a.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}});t.default=C(U)},XO25:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n("cWOA");t.a=function(e){var t=e.displaySensitiveMedia,n=e.isNotFound,a=e.isSuspended,i=e.isWithheld,o=e.loggedInUserId,s=e.user,l=e.userProfileInterstitialType,u=o===s.id_str,c=s.blocked_by,d=s.blocking,p=r({displaySensitiveMedia:t,isOwnProfile:u,user:s,userProfileInterstitialType:l}),f=u||!p&&!n&&!a&&!i,h=u||!i,_=u||!d&&!c&&!p&&!a&&!i,m=!(u||c||p||n||a||i),v=!u&&!c&&!d&&!p&&!n&&!a&&!i&&(s.following||!s.protected),g=!i,b=(u||!i)&&!a;return{avatar:f,badges:h,description:_,followButton:m,followersYouKnow:v,followIndicator:g,fullName:b,label:b,stats:_}};var r=function(e){var t=e.displaySensitiveMedia,n=e.isOwnProfile,r=e.user,i=e.userProfileInterstitialType;return(i===a.a.SensitiveMedia||i===a.a.OffensiveProfileContent)&&!(n||r.following||t)},i=function(e){var t=e.isOwnProfile,n=e.user,a=n.blocked_by,r=n.protected&&!n.following;return t||!r&&!a}},XVDi:function(e,t,n){"use strict";var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("2KeS"),h=n("4n+p"),_=n("sLaq"),m=n("bndy"),v=function(e,t){return t.module.selectEntitiesWithFetchStatus(e)},g=Object(m.createSelector)(v,function(e){return{validity:e}}),b=function(e,t){var n=t.module;return Object(f.bindActionCreators)({clearValidity:n.clear,createLocalApiErrorHandler:Object(_.b)("VALIDITY_FIELD_CONTEXT"),validate:n.validate},e)},y=Object(h.connect)(g,b,null,{withRef:!0}),k=n("NreW"),w=n.n(k),S=n("GiK3"),C=n.n(S),E=n("jYKd"),x=n.n(E),I=n("BrJN"),R=(n("5nt5"),n("KSGD"),function(e){function t(e,n){o()(this,t);var a=c()(this,(t.__proto__||r()(t)).call(this,e,n));P.call(a);var i=e.defaultValue||"";return a.state={value:i,isValid:a._getIsValid(e.validity,i)},a._validateDebounced=w()(function(){var e;return(e=a.props).validate.apply(e,arguments).catch(a.props.createLocalApiErrorHandler())},500),a}return p()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.clearValidity(),this._validateDebounced.clear()}},{key:"componentDidMount",value:function(){var e=this.props.defaultValue;e&&this._validateDebounced(e),this.props.onValidityChange(this.state.isValid)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.props.validity,a=this.state.value;if(n!==e.validity||a!==t.value){var r=this._getIsValid(e.validity,t.value);this.state.isValid!==r&&this.setState({isValid:r})}}},{key:"componentDidUpdate",value:function(e,t){t.isValid!==this.state.isValid&&this.props.onValidityChange(this.state.isValid)}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,n=e.autoFocus,a=e.defaultValue,r=e.editable,i=e.label,o=e.name,s=e.placeholder,l=e.style,u=e.type,c=e.validity,d=this.state.value,p=d&&c[d]?c[d].errorMessage:"";return C.a.createElement(I.a,{autoComplete:t,autoFocus:n,defaultValue:a,editable:r,errorText:p,label:i,name:o,onChange:this._handleValueChange,placeholder:s,ref:this._setInputRef,rootStyle:[A.root,l],type:u})}},{key:"clear",value:function(){this.setState({value:"",isValid:!1})}},{key:"isValid",value:function(){return this.state.isValid}},{key:"getValue",value:function(){return this.state.value}},{key:"focus",value:function(){this._input&&this._input.focus()}}]),t}(C.a.Component));R.defaultProps={label:""};var P=function(){var e=this;this._setInputRef=function(t){e._input=t},this._handleValueChange=function(t){var n=e.props.onChange,a=t.target.value.trim();e._validateDebounced(a),e.setState({value:a}),n&&n(t)},this._getIsValid=function(e,t){return!!(t&&e[t]&&e[t].valid)}},A=x.a.create(function(e){return{root:{padding:0,paddingLeft:0,paddingRight:0}}});t.a=y(R)},"XyS+":function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var r=a(n("86MP")),i=a(n("M1I4")),o=a(n("fKPv"));n("N4KQ");var s=a(n("GiK3")),l=a(n("fF1d")),u=a(n("ZFYz")),c=a(n("/Y4e")),d=a(n("NNCV")),p=a(n("kjWL")),f=n("cQzJ"),h=a(n("pcgs")),_=a(n("KM5a")),m=a(n("1KDF")),v=a(n("jYKd")),g=a(n("3niV")),b=a(n("UvVB")),y=a(n("MjES")),k=25,w=0,S=200,C=500,E=function(e,t){var n,a,r=e.width,i=e.height;return t>=1?(a=i,n=a*t,r>n&&(n=r,a=n/t)):(n=r,a=n/t,i>a&&(a=i,n=i*t)),{width:n,height:a}},x=function(e,t){var n,a,r=e.width,i=e.height;return t>=1?(n=r,(a=n/t)>i&&(a=i,n=i*t)):(a=i,(n=a*t)>r&&(n=r,a=r/t)),{width:n,height:a}},I=Math.log2||function(e){return Math.log(e)*Math.LOG2E},R=function(e){return Math.max(Math.min(I(e.width/150),I(e.height/150),3),.5)},P=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,o.default)((0,i.default)((0,i.default)(n)),"_previousLeft",0),(0,o.default)((0,i.default)((0,i.default)(n)),"_previousTop",0),(0,o.default)((0,i.default)((0,i.default)(n)),"_panStyles",{top:0,left:0}),(0,o.default)((0,i.default)((0,i.default)(n)),"_touchOnlyUI",!1),(0,o.default)((0,i.default)((0,i.default)(n)),"_renderControls",function(){var e=n.props,t=e.image,a=e.uiStrings,r=e.withAspectRatioOptions,i=n.state.aspectRatio,o=t.width/t.height;return r||!n._touchOnlyUI?s.default.createElement(y.default,{style:A.controlsContainer},r?s.default.createElement(y.default,{style:A.ratioContainer},s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioOriginal,borderColor:"transparent",color:i===o?"blue":"deepGray",icon:s.default.createElement(u.default,null),onPress:n._setAspectRatio(o),size:"normal"}),s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioWide,borderColor:"transparent",color:i===16/9?"blue":"deepGray",icon:s.default.createElement(d.default,null),onPress:n._setAspectRatio(16/9),size:"normal"}),s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioSquare,borderColor:"transparent",color:1===i?"blue":"deepGray",icon:s.default.createElement(c.default,null),onPress:n._setAspectRatio(1),size:"normal"})):null,n._touchOnlyUI?null:s.default.createElement(y.default,{style:A.zoomContainer},s.default.createElement(m.default,{accessibilityLabel:a.scaleLabel,max:n._maxScale,maxIcon:s.default.createElement(p.default,{style:A.iconMax}),min:w,minIcon:s.default.createElement(p.default,{style:A.iconMin}),onChange:n._handleScaleChange,step:"any",value:n.state.imageScale}))):null}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setImageRef",function(e){n._imageRef=e}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleScaleChange",function(e){n.setState({imageScale:e})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getImageDimensions",function(){var e=n.state.imageScale,t=n.props.image.width/n.props.image.height,a=n._getMaskDimensions(),r=a.width,i=a.height,o=E({width:r,height:i},t),s=o.width,l=o.height;return{width:s*Math.pow(2,e),height:l*Math.pow(2,e)}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getMaskDimensions",function(){var e=n.state,t=e.aspectRatio,a=e.containerWidth,r=e.containerHeight,i=x({width:a-2*k,height:r-2*k},t);return{width:i.width,height:i.height}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleLayout",function(e){var t=e.nativeEvent.layout,a=t.width,r=t.height;n.state.containerHeight||n.state.containerWidth?n.setState({containerHeight:r,containerWidth:a}):(n.setState({containerHeight:r,containerWidth:a}),n._setDefaultCropData())}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setDefaultCropData",function(){var e=n.props,t=e.defaultCropData,a=e.image;if(t){var r=n._getImageDimensions(),i=r.width,o=n._getMaskDimensions(),s=o.width,l=i/a.width,u=I(s/(t.width*l));n.setState({imageScale:u});var c=n._getUnscaledCropData(),d=c.top,p=c.left;n._panStyles.top=d-t.top*l*Math.pow(2,u),n._previousTop=n._panStyles.top,n._panStyles.left=p-t.left*l*Math.pow(2,u),n._previousLeft=n._panStyles.left,n._updateNativeStyles()}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleWheel",function(e,t,a,r){var i=-1*t/C;n.setState(function(e){var t=e.imageScale,o=Math.min(n._maxScale,Math.max(t+i,w));return n._panStyles.left+=a*(o-t),n._panStyles.top+=r*(o-t),n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top,{imageScale:o}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePanMove",function(e,t){n._panStyles.left=n._previousLeft+e,n._panStyles.top=n._previousTop+t,n._updateNativeStyles(),n._adjustToInBounds()}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePanEnd",function(e,t){n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePinchMove",function(e,t,a,r,i){var o=e/S;n.setState(function(e){var s=e.imageScale,l=Math.min(n._maxScale,Math.max(s+o,w));return n._panStyles.left+=t*(l-s)+r,n._panStyles.top+=a*(l-s)+i,n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top,{imageScale:l}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_adjustToInBounds",function(){var e=n._getUnscaledCropData(),t=n._getImageDimensions(),a=e.left,r=e.top,i=e.left+e.width-t.width,o=e.top+e.height-t.height,s=!1;a<0&&(s=!0,n._panStyles.left+=a,n._previousLeft+=a),r<0&&(s=!0,n._panStyles.top+=r,n._previousTop+=r),i>0&&(s=!0,n._panStyles.left+=i,n._previousLeft+=i),o>0&&(s=!0,n._panStyles.top+=o,n._previousTop+=o),s&&n._updateNativeStyles()}),(0,o.default)((0,i.default)((0,i.default)(n)),"_updateNativeStyles",function(){var e=n._panStyles,t=e.left,a=e.top;n._imageRef&&n._imageRef.setNativeProps({style:{transform:[{translate3d:t+"px, "+a+"px, 0"}]}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getUnscaledCropData",function(){var e=n._getImageDimensions(),t=e.width,a=e.height,r=n._getMaskDimensions(),i=r.width,o=r.height,s=n._panStyles,l=s.left;return{top:(a-o)/2-s.top,left:(t-i)/2-l,width:i,height:o}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setAspectRatio",function(e){return function(){n.setState({aspectRatio:e})}}),n.state={aspectRatio:t.defaultAspectRatio||t.image.width/t.image.height,imageScale:w,containerHeight:0,containerWidth:0},n._touchOnlyUI=g.default.isMobileOS()&&(0,f.isTouchSupported)(),n._maxScale=R(t.image),n}(0,r.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.circle,n=e.image,a=this._getImageDimensions(),r=a.width,i=a.height,o=this._getMaskDimensions(),l=o.width,u=o.height,c=this.state.containerWidth&&this.state.containerHeight;return s.default.createElement(y.default,{style:A.container},s.default.createElement(_.default,{onLayout:this._handleLayout,onPanEnd:this._handlePanEnd,onPanMove:this._handlePanMove,onPinchMove:this._handlePinchMove,onWheel:this._handleWheel,style:A.root},c?s.default.createElement(s.default.Fragment,null,s.default.createElement(b.default,{ref:this._setImageRef,source:{uri:n.src,width:r,height:i},style:A.image}),s.default.createElement(h.default,{circle:t,height:u,width:l})):null),c?this._renderControls():null)},n.componentDidUpdate=function(e,t){this._updateNativeStyles(),this._adjustToInBounds()},n.getCropData=function(){var e=this._getImageDimensions(),t=e.width,n=this.props.image.width/t,a=this._getUnscaledCropData();return{aspectRatio:this.state.aspectRatio,top:Math.round(n*a.top),left:Math.round(n*a.left),width:Math.round(n*a.width),height:Math.round(n*a.height)}},t}(s.default.Component);(0,o.default)(P,"defaultProps",{circle:!1,uiStrings:{aspectRatioOriginal:"Aspect ratio: original",aspectRatioWide:"Aspect ratio: wide",aspectRatioSquare:"Aspect ratio: square",scaleLabel:"Zoom in or out"}});var A=v.default.create(function(e){return{container:{flexGrow:1,flexShrink:1},controlsContainer:{backgroundColor:e.colors.navigationBackground,minHeight:e.spaces.medium,flexDirection:"row",paddingVertical:e.spaces.xxSmall,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},ratioContainer:{flexBasis:0,flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"space-around"},zoomContainer:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center",height:e.spaces.xLarge,paddingHorizontal:e.spaces.medium,maxWidth:e.maxWidths.small},root:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center",alignItems:"center",cursor:"move"},image:{position:"absolute"},iconMin:{color:e.colors.deepGray,transform:[{scale:.7}]},iconMax:{color:e.colors.deepGray}}}),T=P;t.default=T},"Y+r2":function(e,t,n){"use strict";var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("GiK3"),h=(n.n(f),n("ywce")),_=n("dLcK"),m=n("jYKd"),v=n.n(m),g=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return f.createElement(_.b,{clickMaskToClose:!1,modalSize:"fitChildren",style:b.modal},f.createElement(h.a,this.props))}}]),t}(f.Component),b=v.a.create(function(e){return{modal:{width:600,maxWidth:"90vw"}}});t.a=g},ZFYz:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0,n("n12u");var r=a(n("x5lS")),i=a(n("GiK3")),o=a(n("sT3W")),s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M19.75 19.944H4.25c-1.24 0-2.25-1.01-2.25-2.25V6.306c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v11.39c0 1.24-1.01 2.248-2.25 2.248zM4.25 5.556a.752.752 0 0 0-.75.75v11.39c0 .412.337.75.75.75h15.5c.413 0 .75-.338.75-.75V6.305a.752.752 0 0 0-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},ZHcj:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R:return d()({},e,{avatarMediaId:t.meta.mediaId});case A:return d()({},e,{avatarMediaId:null});case O:return d()({},e,{bannerMediaId:t.meta.mediaId});case D:return d()({},e,{bannerMediaId:null});case C.REQUEST:return d()({},e,{isUploading:!0});case C.FAILURE:case C.SUCCESS:return d()({},e,{isUploading:!1});default:return e}}n.d(t,"f",function(){return x}),n.d(t,"g",function(){return I}),n.d(t,"a",function(){return P}),n.d(t,"c",function(){return T}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return F}),n.d(t,"e",function(){return N}),n.d(t,"h",function(){return B}),n.d(t,"i",function(){return j}),n.d(t,"j",function(){return U});var r=n("//Fk"),i=n.n(r),o=n("d7EF"),s=n.n(o),l=n("bOdI"),u=n.n(l),c=n("Dd8w"),d=n.n(c),p=n("IIth"),f=n("hviW"),h=n("bTdA"),_=n("XOfP"),m=n("ipg4"),v=_.a+"/profile",g="rweb/"+v,b=function(e){return g+"/"+e},y=p.a(g,"REMOVE_PROFILE_BANNER"),k=p.a(g,"UPDATE_PROFILE"),w=p.a(g,"UPDATE_PROFILE_AVATAR"),S=p.a(g,"UPDATE_PROFILE_BANNER"),C=p.a(g,"UPLOAD_MEDIA"),E={avatarMediaId:null,bannerMediaId:null,isUploading:!1};m.a.register(u()({},v,a));var x=function(e){return e[v].avatarMediaId},I=function(e){return e[v].bannerMediaId},R=b("ADD_AVATAR_MEDIA"),P=function(e){return{meta:{mediaId:e},type:R}},A=b("REMOVE_AVATAR_MEDIA"),T=function(e){return{meta:{mediaId:e},type:A}},O=b("ADD_BANNER_MEDIA"),M=function(e){return{meta:{mediaId:e},type:O}},D=b("REMOVE_BANNER_MEDIA"),F=function(e){return{meta:{mediaId:e},type:D}},N=function(e){return function(t,n,a){var r=a.api;return p.b(t,{params:e,request:r.Settings.removeProfileBanner})({actionTypes:y,context:"ACTION_REMOVE_USER_BANNER"},function(e){if(e)return[Object(h.c)({users:u()({},e.id_str,d()({},e,{profile_banner_url:null}))})]})}},B=function(e){return function(t,n,a){var r=a.api;return p.b(t,{params:e,request:r.Settings.updateProfile})({actionTypes:k,context:"ACTION_UPDATE_PROFILE_SETTINGS"},function(e){if(e)return[Object(h.c)({users:u()({},e.id_str,e)})]})}},L=function(e,t,n){return function(a){return function(r,o,l){var c=l.api;r({type:C.REQUEST});var d=f.j(a);return r(d).then(function(a){var i=s()(a,1),o=i[0];return r([{type:C.SUCCESS},{type:e.REQUEST}]),p.b(r,{params:{media_id:o.uploadId},request:n(c)})({actionTypes:k,context:t},function(e){if(e)return[Object(h.c)({users:u()({},e.id_str,e)})]})},function(e){return r({type:C.FAILURE}),i.a.reject(e)})}}},j=L(w,"ACTION_UPDATE_USER_AVATAR",function(e){return e.Settings.updateProfileAvatar}),U=L(S,"ACTION_UPDATE_USER_BANNER",function(e){return e.Settings.updateProfileBanner})},a05n:function(e,t,n){"use strict";t.__esModule=!0;var a=n("F2iK"),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default,e.exports=t.default},aOM5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("czSA"),h=(n.n(f),n("GiK3")),_=n.n(h),m=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query,t=e.code,n=e.error,a=e.scope,r=e.state,i={callback_url:"https://"+window.location.hostname+window.location.pathname,code:t,error:n,scope:a,state:r},o=f.canUseDOM&&window.opener;o?(o.postMessage(i,"https://"+window.location.hostname),window.close(),o.focus()):this.props.history.push("/")}},{key:"render",value:function(){return null}}]),t}(_.a.Component);t.default=m},cWOA:function(e,t,n){"use strict";var a=n("u2KI"),r=n.n(a);t.a=r()({FakeAccount:"fake_account",OffensiveProfileContent:"offensive_profile_content",SensitiveMedia:"sensitive_media",Timeout:"timeout"})},goRl:function(e,t,n){function a(e,t){for(var n in e)t[n]=e[n]}function r(e,t,n){return o(e,t,n)}var i=n("EuP9"),o=i.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=r),a(o,r),r.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},r.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=o(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},pcgs:function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0;var r=a(n("GiK3")),i=a(n("jYKd")),o=a(n("MjES")),s=function(e){var t=e.width,n=e.height,a=e.circle;return r.default.createElement(o.default,{pointerEvents:"none",style:[l.mask,{width:t,height:n},a&&l.circle]})},l=i.default.create(function(e){return{mask:{backgroundColor:"transparent",borderWidth:e.spaces.xxSmall,borderColor:e.colors.blue,boxShadow:"0 0 0 9999px "+e.colors.activeFaintGray},circle:{borderRadius:e.borderRadii.infinite}}}),u=s;t.default=u},qyjT:function(e,t,n){"use strict";var a=n("Zx67"),r=n.n(a),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),l=n.n(s),u=n("zwoO"),c=n.n(u),d=n("Pf15"),p=n.n(d),f=n("QT/B"),h=n("wblJ"),_=n.n(h),m=n("wG2K"),v=n("GiK3"),g=n.n(v),b=n("7q6/"),y=n("Zmyr"),k=n("KSGD"),w=(n.n(k),n("xCV+")),S=n.n(w),C=n("Oqy5"),E=n.n(C),x=n("jYKd"),I=n.n(x),R=function(e){function t(e){o()(this,t);var n=c()(this,(t.__proto__||r()(t)).call(this,e));return n._handleViewportSet=function(e){var t=n.props.onViewportSet;t&&t(e)},n.state={viewport:void 0},n}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.scrollPrompt,a=this.context.isModal;return g.a.createElement(E.a,{style:[P.root,a&&P.rootModal]},this._renderAppBar(),g.a.createElement(S.a,{style:[P.container,a&&P.containerModal]},a?g.a.createElement(y.a,{onViewportSet:this._handleViewportSet,style:[P.viewport,b.a.isIE()&&P.viewportIE]},t):t,a?null:n),a?n:null)}},{key:"_renderAppBar",value:function(){var e=this.props,t=e.backLocation,n=e.hideBackButton,a=e.hideLogo,r=e.history,i=e.location,o=e.onBackClick,s=e.rightControl,l=e.progressIndication,u=this.context.isModal,c=_.a,d=l||a?void 0:g.a.createElement(m.a,{withLink:!1}),p=l?l.text.text:void 0;return g.a.createElement(f.a,{backIcon:c,backLocation:t,centeredLogo:d,fixed:!u,hideBackButton:n||!o,history:r,location:i,onBackClick:o,rightControl:s,title:p,withShadow:!1})}}]),t}(g.a.Component);R.contextTypes={isModal:k.bool},R.defaultProps={hideBackButton:!1,hideLogo:!1};var P=I.a.create(function(e){return{root:{display:"flex",flexGrow:1},rootModal:{backgroundColor:e.colors.cellBackground,flexShrink:1},container:{flexGrow:1},containerModal:{flexShrink:1},viewport:{flexGrow:1,flexShrink:1,overflow:"auto"},viewportIE:{flexBasis:"0%"}}});t.a=R},rOku:function(e,t,n){"use strict";(function(t,a){function r(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function i(e,n){if(e>65536)throw new Error("requested too many random bytes");var r=new t.Uint8Array(e);e>0&&s.getRandomValues(r);var i=o.from(r.buffer);return"function"==typeof n?a.nextTick(function(){n(null,i)}):i}var o=n("goRl").Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=i:e.exports=r}).call(t,n("DuR2"),n("W2nU"))},sBfw:function(e,t,n){"use strict";t.__esModule=!0;var a={centroidDimension:function(e,t,n,r){var i=e.touchBank,o=0,s=0,l=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==l)l.touchActive&&l.currentTimeStamp>t&&(o+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,s=1);else for(var u=0;u<i.length;u++){var c=i[u];if(null!==c&&void 0!==c&&c.touchActive&&c.currentTimeStamp>=t){var d=void 0;d=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,o+=d,s++}}return s>0?o/s:a.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return a.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return a.centroidDimension(e,0,!1,!0)},noCentroid:-1};t.default=a,e.exports=t.default},sOR5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},uX8X:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";Object(k.b)(g.a.serialize(y.RWEB_OPT_IN_COOKIE,"off",{path:"/",domain:".twitter.com",maxAge:w})),b.b.deregisterServiceWorkerAndNavigateTo(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dd8w"),i=n.n(r),o=n("Zx67"),s=n.n(o),l=n("Zrlr"),u=n.n(l),c=n("wxAW"),d=n.n(c),p=n("zwoO"),f=n.n(p),h=n("Pf15"),_=n.n(h),m=n("CeBo"),v=n("sp77"),g=n.n(v),b=n("zEXV"),y=n("/FRN"),k=n("4fSK"),w=31536e3,S=n("GiK3"),C=n.n(S),E=function(e){function t(e){u()(this,t);var n=f()(this,(t.__proto__||s()(t)).call(this,e));n._handleAbort=function(){a(n.state.fromPath)};var r=n.props.location.state,i=void 0===r?{}:r,o=i.previousPath||"/";return n.state={fromPath:o},n}return _()(t,e),d()(t,[{key:"render",value:function(){return C.a.createElement(m.default,i()({},this.props,{flowName:"delight_feedback",onAbort:this._handleAbort}))}}]),t}(C.a.Component);t.default=E},ujcs:function(e,t){t.read=function(e,t,n,a,r){var i,o,s=8*r-a-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=p,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),i-=u}return(f?-1:1)*o*Math.pow(2,i-a)},t.write=function(e,t,n,a,r,i){var o,s,l,u=8*i-r-1,c=(1<<u)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:i-1,h=a?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+d>=1?p/l:p*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[n+f]=255&o,f+=h,o/=256,u-=8);e[n+f-h]|=128*_}},ywce:function(e,t,n){"use strict";var a=n("Dd8w"),r=n.n(a),i=n("Zx67"),o=n.n(i),s=n("Zrlr"),l=n.n(s),u=n("wxAW"),c=n.n(u),d=n("zwoO"),p=n.n(d),f=n("Pf15"),h=n.n(f),_=n("GiK3"),m=n("4n+p"),v=n("bndy"),g=n("7t5w"),b=n("hviW"),y=function(e,t){return t.media?t.media:Object(b.f)(e,t.mediaId)[0]},k=function(e,t){return void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null},w=Object(v.createSelector)(y,k,function(e,t){return{media:e,mediaId:t}}),S={processMedia:b.c,scribeAction:g.d,updateMediaUpload:b.i},C=Object(m.connect)(w,S),E=n("bgPG"),x=n("eB+D"),I=n("plj8"),R=n.n(I),P=n("wblJ"),A=n.n(P),T=n("55jw"),O=n.n(T),M=n("g9oN"),D=n.n(M),F=n("MjES"),N=n.n(F),B=n("i2DS"),L=n.n(B),j=n("fF1d"),U=n.n(j),V=n("XyS+"),z=n.n(V),q=n("jYKd"),G=n.n(q),H=R.a.b2e1930b,W=R.a.j16ffee3,Y=R.a.e0e1ff4e,K=R.a.de15098a,X=R.a.aa261873,Z=R.a.a1e564e5,Q=R.a.a54d17e1,J={page:"media",section:"edit"},$=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||o()(t)).call(this,e));return n._getMedia=function(){var e=n.props.media;return e&&e.mediaFile&&e.mediaFile.isImage?e:null},n._renderAppBarRightControl=function(){var e=n.state.isProcessing;return _.createElement(U.a,{disabled:e,onPress:n._handleApplyButtonClick,size:"normalCompact",type:"primary"},W)},n._handleBackClick=function(){var e=n.props,t=e.onCancel,a=e.scribeAction,i=e.scribeNamespace;a(r()({},i,{action:"cancel"})),t&&t()},n._handleApplyButtonClick=function(){if(n._cropper.current){var e=n.props,t=e.mediaId,a=e.onDone,i=e.processMedia,o=e.scribeAction,s=e.scribeNamespace,l=e.updateMediaUpload;n.setState({isProcessing:!0});var u=n._cropper.current.getCropData();void 0!==t&&(l({id:t,cropData:u}),i(t).then(function(){n.setState({isProcessing:!1}),o(r()({},s,{action:"done"})),a()}))}},n.state={isProcessing:!1,orientedImage:null},n._cropper=_.createRef(),e.media||e.onCancel(),n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.media){var t=this._getMedia(),n=t||{},a=n.originalMediaFile,r=void 0===a?{}:a;D()(r).then(function(t){return new O.a(t).withDimensionsAndOrientation().then(function(t){e.setState({orientedImage:t})})})}}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.location;return _.createElement(x.b,{containerStyle:ee.root,customBackIcon:A.a,documentTitle:H,history:t,location:n,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:H},this.state.orientedImage?this._renderCropper():_.createElement(L.a,{accessibilityLabel:Q,style:ee.activityIndicator}))}},{key:"_renderCropper",value:function(){var e=this.props,t=e.defaultAspectRatio,n=e.withAspectRatioOptions,a=this.state.orientedImage,r=this._getMedia(),i=r||{},o=i.cropData,s=i.originalMediaFile,l=void 0===s?{}:s;return a?_.createElement(N.a,{style:ee.cropper},_.createElement(z.a,{circle:this.props.circle,defaultAspectRatio:o&&o.aspectRatio||t,defaultCropData:o,image:{src:a.url,width:l.width,height:l.height},ref:this._cropper,uiStrings:{scaleLabel:Y,aspectRatioOriginal:K,aspectRatioWide:X,aspectRatioSquare:Z},withAspectRatioOptions:n})):null}}]),t}(_.Component),ee=G.a.create(function(e){return{root:{flexShrink:1,height:650},cropper:{backgroundColor:e.colors.navigationBackground,flexGrow:1},activityIndicator:{flexGrow:1}}});t.a=Object(E.b)(J)(C($))}});
//# sourceMappingURL=https://ton.smf1.twitter.com/twitter_shared_private/twitter_lite/sourcemaps/web/bundle.Ocf.52edb8d47e02a8e00.js.map