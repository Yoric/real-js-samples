!function(){function e(e){function r(e){return e&&e.state==c&&(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),E==e&&(E=e.next),D==e&&(D=e.prev),e.state=l,e.prev=e.next=null,w--),e}function n(e){if(e&&e.state==l){var t=D;t?(t.next=e,e.prev=t):E=e,D=e,e.state=c,w++}}function a(){!S&&!h&&w&&x>b&&(h=window.setTimeout(g,u))}function v(e){var t=(new Date).getTime()-e<s;return t}function g(){var e=(new Date).getTime();for(h=0,S=!0;w>0&&x>b;){var t=E;if(t&&x>b?(o.assert(t.state===c,"Task was not in a pending state and we were just about to execute it."),t=y(r(t))):t=null,t&&!v(e)){break
}}S=!1,a()}function y(e){if(e){o.assert(void 0!=e.id&&!k[e.id],"Task didn't have an id or was already active!"),b++,k[e.id]=e,e.startTime=(new Date).getTime(),e.state=d;var t=e.exec(function(t){m(e,t)});t||m(e)}return e}function m(e,t){e.state===d&&(b--,o.assert(k[e.id],"A task is being completed without being in the active task list."),delete k[e.id],t&&"number"==typeof t?(e.state=p,e.timeoutId=window.setTimeout(function(){T(e)},t)):T(e))}function T(e){var t=A;e.state=f,delete t[e.id],a()}var C=this,x=e||i,w=0,b=0,h=0,I=0,A={},E=null,D=null,k={},R=!1,S=!1;
C.enqueue=function(e,i,s){var u=!1;if(!R){s=s||String(I++);var l=A,d=l[s];(!d||d.state==c&&d.next)&&(d?r(d):(o.assert(!k[s],"An active task was found during an enqueue that wasn't in the queue list."),u=!0,d=l[s]=new t(e,i,s)),n(d),a())}return u},C.abortAll=function(){R=!0;C.abort(),R=!1,o.assert(0==w,"After abortAll, _pendingTaskCount should be 0. (Was "+w+")"),o.assert(0==b,"After abortAll, _activeTaskCount should be 0. (Was "+b+")")},C.abort=function(){var e=A;if(e){for(taskId in e){o.assert(e.hasOwnProperty(taskId),"priorityQueue::abort ran across a property in queue that wasn't a task id.");
var t=e[taskId];t.state==d?(m(t),t.abort&&t.abort()):t.state==p?(t.timeoutId&&clearTimeout(t.timeoutId),T(t)):r(t)}A={}}},C.getActiveTaskCount=function(){return b},C.getActiveTasks=function(){return k}}function t(e,t,r){var n=this;n.id=r,n.exec=e,n.abort=t,n.timeoutId=0,n.next=null,n.prev=null,n.state=l}var r=window,n=r.wLive,a=n.Core,o=r.$Debug,i=1,s=25,u=0,l=0,c=1,d=2,p=3,f=4;a.TaskQueue=e,t.prototype={"id":"","queueId":"","exec":function(){},"abort":function(){},"timeoutId":0,"next":null,"prev":null,"state":l}
}(),function(){var e=wLive.Core,t=1;window.requests=new e.TaskQueue(t)}(),function(){function e(e,t,r){t&&r&&(e[t]=r)}function t(e,t,r){void 0!==r&&(e[t]=r)}function r(r,n,a,o,i,d,f,F,j){function q(e,t){var r={};if(500==e.status){try{r=JSON.parse(e.responseText)||{}}catch(n){}}if(!r.error&&!r.items){var a=!0,o=!1,i=x;switch(r.pageStats={"url":W,"error":t,"tasks":[],"executionTimeMs":0,"schedulerTimeMs":0},t){case"timeout":i=x,o=!0;break;case"abort":i=w,a=!1,r.pageStats.info=t,r.pageStats.error=null}r.error={"isRetriable":a,"code":i,"message":"","debugMessage":"(xhr status "+e.status+") xhr.responseText: "+e.responseText,"stackTrace":"","isFatal":o}
}return r}function M(e,t){var r,n=e?e.error:null;if(e=e||{},c&&c.PageStats&&e.pageStats&&c.PageStats.add(e.pageStats,X),e.apiCanary&&(p.apiCanary=e.apiCanary,delete e.apiCanary),e.telemetryContext?($ClientTelemetry.updateTelemetryContext(e.telemetryContext),delete e.telemetryContext):e.tcxt&&($ClientTelemetry.updateTelemetryContext(e.tcxt),delete e.tcxt),e.error){e.error.telemetryContext?($ClientTelemetry.updateTelemetryContext(e.error.telemetryContext),delete e.error.telemetryContext):e.error.tcxt&&($ClientTelemetry.updateTelemetryContext(e.error.tcxt),delete e.error.tcxt),r=e.error.stackTrace,r=r&&r.encodeJson?r.encodeJson():"";
var a='{"code": "'+e.error.code+'", "message": "'+e.error.message+'", "debug": "'+e.error.debugMessage+'", "stacktrace": "'+r+'", "retriesLeft": "'+O+'", "requestUrl": "'+W+'"}';L.push(a),L.length>R&&L.shift()}if(e.error&&e.error.isRetriable&&O>0){N&&N(),$&&$ReportEvent.ReportApiCall({"apiId":$,"errorCode":e.error.code,"success":!1}),O--,Q.start()}else{if(e.error?(N&&N(Q.failureReentranceDelay),e.error.code!=w&&($&&$ReportEvent.ReportApiCall({"apiId":$,"errorCode":e.error.code,"success":!1}),s(e,W),i&&i(e,f),t.reject(e,f))):(N&&N(Q.successReentranceDelay),$&&$ReportEvent.ReportApiCall({"apiId":$,"success":!0}),o&&o(e,f),t.resolve(e,f)),Q.apiId&&Q.propertyId){var u=n?n.code:void 0;
Qos&&Qos.log(Q.apiId,Q.propertyId,X,u,void 0,r)}}}var Q=this,W=n;u(n)?$=null:(W=n.url,$=n.apiId);var U,N,O=void 0!==j&&null!==j?j:b;d=d||C;var X;null===H&&(H=!1,p&&p.isINT&&p.isCorpnet&&(H=!0)),r=r||"key"+P++,Q.originId=null,Q.jsonpParameterName=void 0,Q.successReentranceDelay=0,Q.failureReentranceDelay=0,Q.apiId="",Q.propertyId="",Q.start=function(){var n=jQuery.Deferred();return l.requests.enqueue(function(r){N=r,X=(new Date).getTime();var o,i=W,s={"canary":p.apiCanary,"Accept":S};s[D]=2,s[k]="xhr",e(s,E,p.correlationId),e(s,I,p.eipt),e(s,h,p.apiUseIpt?"1":null),e(s,A,p.authz),t(s,g,p.uiflvr),t(s,y,p.scid),t(s,T,p.hpgid),$ClientTelemetry.setHeaders(s);
var l=a;if(a&&!u(a)){void 0===a[g]&&void 0!==p.uiflvr&&(a[g]=p.uiflvr);var c=$ClientTelemetry.getUnauthSessionId();void 0===a[m]&&void 0!==c&&(a[m]=c),void 0===a[y]&&void 0!==p.scid&&(a[y]=p.scid),void 0===a[T]&&void 0!==p.hpgid&&(a[T]=p.hpgid),l=JSON.stringify(a)}return l&&(l=l.replace(/\?/g,"\\u003F")),v&&v.appendLog&&v.appendLog("DataRequest("+i+")"),U=jQuery.ajax({"url":i,"dataType":"json","jsonp":Q.jsonpParameterName,"jsonpCallback":o?"wLive.Core.DataRequest."+o:void 0,"data":l,"processData":!1,"type":l?"POST":"GET","headers":s,"timeout":d}).done(function(e){M(e,n)
}).fail(function(e,t,r){M(q(e,t,r),n)}),!0},Q.abort,r),n.promise()},Q.abort=function(){U&&(U.abort(),U=null),N&&(N(),N=null)}}function n(e){return e?"<span style='font-weight: bold;'>"+e.toString().encodeHtml()+":</span> ":""}function a(e,t){return t?"<div>"+n(e)+t.toString().encodeHtml()+"</div>":""}function o(e){var t=[];if(e){for(var r=(e||"").split("\n"),n=0;n<r.length;n++){for(var a=r[n],o=(a||"").split("\\u000d"),i=0;i<o.length;i++){var s=(o[i]||"").replace("\\u000a","").replace("\\u0022",'"').replace("\\u0027","'").replace("\\u0028","(").replace("\\u0029",")").replace("\\u003a",":").replace("\\u003c","&lt;").replace("\\u003d","=").replace("\\u003e","&gt;").replace("\\u005c","\\");
t.push(s)}}}return t}function i(e){var t="";if(e){for(var r=0;r<e.length;r++){t+=e[r]+"\n"}}return t}function s(e,t){if(H&&e&&e.error&&(e.error.stackTrace||e.error.debugMessage)){var r=o(e.error.stackTrace),n=null;if(e.error.isFatal||e.error.showError||F){n=i(r),f&&f.showError(e.error.code,"ApiRequest Error: "+(e.error.message||""),t||"<none>",null,null,null,n,e.error.debugMessage,e.error.data,e.error.isFatal?"#FFC0C0":"#C0FFFF",!0)}else{if(window.$Debug&&v.scriptConsole){var s=v.scriptConsole;n=i(r),s.errorHtml(a("Url",t)+a("Error Code",e.error.code)+(e.error.message?a("Message",e.error.message):"")+(e.error.isFatal?a("Is Fatal",e.error.isFatal):"")+(e.error.debugMessage?a("Debug",e.error.debugMessage):""),{"url":t,"code":e.error.code,"data":e.error.data,"stackTrace":r,"rsp":e})
}}}}function u(e){return"string"===jQuery.type(e)}var l=window,c=l.wLive,d=c.Core,p=l.$Config,f=l.$WebWatson,v=l.$Debug||{},g="uiflvr",y="scid",m="uaid",T="hpgid",C=3e4,x=8001,w=8002,b=0,h="wlPreferIpt",I="eipt",A="authz",E="x-ms-correlation-id",D="x-ms-apiVersion",k="x-ms-apiTransport",R=100,S="application/json",P=0,$=null;d.DataRequest=r;var L=d.DataRequest.Errors=[];d.DataRequest.ApiErrorCodes={"GeneralError":"6000","AuthFailure":"6001","InvalidArgs":"6002","Timeout":x,"Aborted":w};var H=null,F=!1;r.forceShowErrors=function(e){F=e
},l.$Do&&l.$Do.register("DataRequest")}(),function(){function e(e,a){var o=null,s=null,u=i.WLXAccount&&i.WLXAccount.countryCode?i.WLXAccount.countryCode:"",c=0!==i.btReportingOn&&a===l?t():null,d=e.cxhFunctionRes?e.cxhFunctionRes:null;"number"===jQuery.type(e)||"string"===jQuery.type(e)?(o=e,s=""):(o=e.pageId,s=n(e.userAction));var f=r(e,o,a),g={"pageApiId":o,"clientDetails":p,"country":u,"userAction":s,"source":a,"clientTelemetryData":f,"btData":c,"cxhFunctionRes":d};return v=!0,g}function t(){var e={};try{e.present="undefined"!=typeof UserTracker,e.submitIndex=e.present?UserTracker.submitIndex:0,e.powEnabled="undefined"!=typeof _wutPOWEnabled&&_wutPOWEnabled
}catch(t){}return e}function r(e,t,r){var n={};try{var o=a.performance&&a.performance.timing?a.performance.timing:null;if(n.category=r,n.pageName=t?String(t).replace(/_Client$/,""):"",n.eventInfo={},n.eventInfo.timestamp=(new Date).getTime(),null!=o&&!v&&f&&(n.eventInfo.perceivedPlt=g>o.loadEventEnd?g-o.navigationStart:o.loadEventEnd-o.navigationStart,n.eventInfo.networkLatency=o.responseEnd-o.navigationStart),r!==l||v||(n.category=u),"undefined"!=typeof ExternalHelper){n.eventInfo.appVersion=ExternalHelper.getProperty("TelemetryAppVersion");
var i=ExternalHelper.getProperty("TelemetryNetworkType");n.eventInfo.networkType=i,$ClientTelemetry.setNetworkType(i)}"undefined"!=typeof ExternalHelper&&n.category===u?(n.eventInfo.precaching=ExternalHelper.getProperty("TelemetryPrecaching"),n.eventInfo.bundleVersion=ExternalHelper.getProperty("TelemetryResourceBundleVersion"),n.eventInfo.deviceYear=ExternalHelper.getProperty("TelemetryDeviceYearClass"),n.eventInfo.isMaster=ExternalHelper.getProperty("TelemetryIsRequestorMaster"),n.eventInfo.bundleHits=ExternalHelper.getProperty("TelemetryResourceBundleHits"),n.eventInfo.bundleMisses=ExternalHelper.getProperty("TelemetryResourceBundleMisses"),ExternalHelper.setProperty("TelemetryResourceBundleHits","0"),ExternalHelper.setProperty("TelemetryResourceBundleMisses","0")):n.category===c&&(e.suggestedAccountType&&(n.eventInfo.suggestedAccountType=e.suggestedAccountType),e.accountType&&(n.eventInfo.accountType=e.accountType),e.duration&&(n.eventInfo.duration=e.duration),e.errorCode&&(n.eventInfo.errorCode=e.errorCode)),"undefined"!=typeof ExternalHelper&&ExternalHelper.reportTelemetry(JSON.stringify(n))
}catch(s){}return n}function n(e){var t="";return jQuery.isArray(e)?(jQuery.each(e,function(e,r){t+=r,t+=","}),t=t.substring(0,t.length-1)):"string"==typeof e&&(t=e),t}var a=window,o=a.wLive.Core.DataRequest,i=a.$Config,s=i&&i.WLXAccount?i.WLXAccount.urls:null,u="PageLoad",l="PageView",c="UserAction",d=1e4,p=[],f=!1,v=!1,g=0,y=a.$ReportEvent={},m=i&&i.WLXAccount?i.WLXAccount.noReportClient:!1;y.ApiTime=function(){if("undefined"!=String(a.wLive.PageStats)&&"undefined"!=String(a.wLive.PageStats.d)){var e=a.wLive.PageStats.d[0]||{},t=e.clientStart;
if("undefined"!=t){return(new Date).getTime()-t}}return 0},y.ReportApiCall=function(e){if(e){var t=e.apiId;if(!t){throw"ApiId is missing for api call"}void 0===e.time&&(e.time=y.ApiTime()),p.push(e)}},y.SetCustomPageLoadCompletedTime=function(e){g=e,$ClientEvents&&$ClientEvents.SetCustomPageLoadCompletedTime(e)},y.PageLoadCompleted=function(){f=!0,$ClientEvents&&$ClientEvents.SetPageLoadCompleted(!0)},y.Fire=function(t){if(!m&&s&&s.reportClientData){var r,n;"number"===jQuery.type(t)||"string"===jQuery.type(t)?(r="",n=""):(r=t.testSuccessMethod,n=t.testFailureMethod);
var a=e(t,l),i=new o(null,$Utility.generateUrl(s.baseDomain,s.reportClientData,!0),a,r,n,d);i.start(),p=[]}},y.Action=function(t){if(!m&&s&&s.reportClientData){var r=e(t,c);if(!t.skipClientCall){var n=new o(null,$Utility.generateUrl(s.baseDomain,s.reportClientData,!0),r,t.testSuccessMethod,t.testFailureMethod,d);n.start()}p=[]}}}();