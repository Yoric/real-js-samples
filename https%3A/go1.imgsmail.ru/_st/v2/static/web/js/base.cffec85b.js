function initializePxtBlocks(){var a="pxtRBMail-";$(".js-pxtRBMail").each(function(){if(!this.id.indexOf(a)){var b=$(this),c=this.id.slice(a.length);b.is("A")||(b=b.find("A")),pxt.exist(c)||pxt.add(c,{args:["u"]}),b.mousedown(function(){pxt(c,this.href)})}})}var UpButton={button:".button-up",win:$(window),offset:220,duration:50,init:function(){function a(){e=g-i,c.$button.css("left",e+"px")}var b,c=this,d=c.$button=$(c.button),e=b=parseInt(d.css("left")),f=d.width(),g=c.win.width(),h=25,i=f+h;c.buttonLeft=parseInt(d.css("left")),g<b+i&&a(),d.click(function(a){a.preventDefault(),c.scrollToTop()}),c.win.scroll(_.debounce(function(){c.fade()},250)),c.win.resize(_.debounce(function(){g=c.win.width(),g<950||(e<b&&(e=b,c.$button.css("left",b+"px")),g-e-i<0&&a())},250))},fade:function(){var a=this;a.win.scrollTop()>a.offset?a.$button.fadeIn(a.duration):a.$button.fadeOut(a.duration)},scrollToTop:function(){$("html, body").animate({scrollTop:0},this.duration)}};$(function(){function a(a,b){0==a.height()&&a.attr("style","display: "+b+" !important")}if(!STP.noAdblock){var b=$("h3.result__title .light-link:hidden"),c=$(".block-info__left a:hidden");pxt("hasAdblock"),b.each(function(){a($(this),"inline")}),c.each(function(){a($(this),"inline")})}});var antirobot=function(){var a,b,c,d,e=function(a,b,c,d){var e=swig.renderFile("blocks/antirobot.tmpl",{antirobot:b,q:c});a.append(e),h(a,d)},f=function(a,b){var c=Handlebars.compile($("#antirobotTemplate").html()),d=c({qid:a.qid,q:STP.query,dest:a.dest});g($(d),b)},g=function(a,b){if("LIGHT"!==STP.detector_select){var c=$("#antirobotModal");c.find(".modal__body").html(a),h(c,function(){c.modal("hide"),b&&b()}),c.modal({backdrop:!1,keyboard:!1,fullHeight:!1}),c.modal("show")}else{var d=$(".layout-content"),e=$(".layout-rightcol"),f=$(".responses");e.hide(),f.hide(),d.append(a);var g=d.find(".antirobot");g.css({"margin-left":"31px",width:"640px"}),$(window).trigger("resize"),h(g,function(){g.remove(),e.show(),f.show(),$("html, body").scrollTop($(document).height()),b&&b()})}},h=function(e,f){STP.antirobot=STP.antirobot||{},STP.antirobot.blocked=!0,a=e.find(".antirobot__img"),b=e.find(".antirobot__sequre-word"),c=e.find(".js-antirobot-qid"),d=e.find(".antirobot__error"),e.find(".js-antirobot-form").on("submit",function(a){a.preventDefault(),i($(this).serialize(),f)})},i=function(e,f){$.ajax({type:"POST",dataType:"json",url:"/ar",data:e}).done(function(e){e.error?(c.val(e.qid),a.attr("src","/ar_captcha?id="+e.qid),d.addClass("antirobot__error_show"),b.val("").focus()):(STP.antirobot.blocked=!1,f&&f())})};return{renderSwig:e,showHtmlModal:g,showHandlebarsModal:f}}();SearchForm={init:function(){var a=this;a.form=$("#MSearch"),a.formInput=a.form.find("#q"),a.formClearBtn=a.form.find("#go-form__qclear"),a.placeholder=a.form.find("#placeholder"),a.sbmt=a.form.find('input[name="sbmt"]'),a.filters=a.form.find("#filters"),STP.query||(a.formInput.focus(),a.formInput.setCursorAtTheEnd()),a.form.on("submit",function(){a.sbmt.val(Date.now());var b=/\S/,c=/^[0-9]+$/,d=b.test(a.formInput.val());a.formInput.val();if(a.filters){var e=a.filters.find('input[name="zvwidth"]'),f=a.filters.find('input[name="zvheight"]'),g=a.filters.find('input[name="is"]');(b.test(e.val())||b.test(f.val()))&&g.val(0),a.filters.find("input").each(function(){var a=$(this),d=a.val(),e=a.attr("data-pattern");(!b.test(d)||e&&!c.test(d))&&a.attr("disabled","disabled")})}if(!d)return a.showPlaceholder(),!1}),a.formInput.on("valuechange",function(){var b=a.formInput.val();""==b?a.formClearBtn.hide():(a.formClearBtn.show(),a.hidePlaceholder())}),a.formClearBtn.on("click touchstart",function(b){return a.formClearBtn.hide(),a.formInput.val("").focus(),pxt("qcl"),!1}),a.formInput.val()?a.formClearBtn.show():a.formClearBtn.hide(),a.initQSwap()},showPlaceholder:function(){var a=this;a.placeholder.fadeIn("fast"),a.formInput.focus(),setTimeout(function(){a.hidePlaceholder()},2e3)},hidePlaceholder:function(){var a=this;a.placeholder.fadeOut("fast")},initQSwap:function(){var a=this;STP.query!==STP.qOrig&&0===STP.foundCount?a.formInput.val(STP.qOrig):STP.qswap&&a.formInput.val(STP.qswap)}},SearchFormSuggest={init:function(){var a=this;a.rcntSubmitted=null,a.navSuggSelected=null,a.ovl=$(".js-ovl"),a.form=SearchForm.form||$("#MSearch"),a.input=SearchForm.formInput||a.form.find("#q"),a.suggest=$("#go-suggests"),a.suggestList=a.suggest.find(".go-suggests__items"),a.suggestLoading=a.suggest.find(".go-suggests__loading"),a.suggestItemTmpl=$("#go-suggests__suggest-tmpl"),a.goform_wrapper=$(".go-form__wrapper").length>0?$(".go-form__wrapper"):$(".pm-menu__center__inner"),STP.experiments.srch46133&&(a.form.css("background","transparent"),a.input.css("background","transparent"),a.inputInlineSuggest=$('<div class="input-inline-suggest"><span class="current"></span><span class="completion"></span></div>').insertAfter($(".js-placeholder")),a.inputInlineSuggestCurrent=a.inputInlineSuggest.find(".current"),a.inputInlineSuggestCompletion=a.inputInlineSuggest.find(".completion"));var b={enabled:!1,field:a.input.get(0),cont:a.suggest.get(0),list:a.suggestList.get(0),switcher:"go-suggests_open",autoSubmit:!0,preview:!0,mousePreview:!1,hover:"go-suggests__item_select",max:10,valMin:0,history:!0,openedWhenBlur:!0,url:{authority:STP.tsg?STP.tsg:"suggests.go.mail.ru",path:"sg_go",query:{q:"{query}",v:3}},ajax:{dataType:"json",data:{user_type:STP.userType,platform:STP.detector_platform,form_id:STP.qid,h:STP.query.replace(/\t/g," "),ush:1},timeout:3e3,scriptCharset:"utf-8",xhrFields:{withCredentials:!0}},dataFilter:function(a){if(a&&(!a.items&&(a.sites&&a.sites.length||a.history&&a.history.length)&&(a.items=[]),a.items)){if(a.history)for(var b=a.history.length;b--&&!(0===a.items.length&&0===a.sites.length&&a.history.length<2);)a.history[b].isHistory=!0,a.items.unshift(a.history[b]);if(a.sites)for(var b=a.sites.length;b--;)a.items.unshift(a.sites[b])}return a},item:a.suggestItemTmpl.get(0),result:function(a){var b;return b="site"===a.type?a.site:a.text},onRenderEnd:function(){$.browser.msie&&$.browser.version<7&&a.suggest.hide().show()},onStartRequest:function(){},onStopRequest:function(){},onOpen:function(){if(a.goform_wrapper.addClass("go-form__wrapper_opened_sugg"),a.ovlToggle(),a.suggest.show(),STP.experiments.srch46133){var b=a.input.val(),c=this.getState(),d=c.current,e=c.inline;b===d&&a.updateInlineSuggest(d,e)}},onClose:function(){a.goform_wrapper.removeClass("go-form__wrapper_opened_sugg"),a.ovlToggle(),a.suggest.hide(),STP.experiments.srch46133&&a.updateInlineSuggest()}};if(STP.paramTsg&&"l"!==STP.paramTsg){var c={ajax:{data:{tsg:STP.paramTsg}}};$.extend(!0,b,c)}if("images"==STP.section){var c={ajax:{dataType:"jsonp",xhrFields:{withCredentials:!1}},url:{path:"sg_images_u"}};$.extend(!0,b,c)}else if("otvet"==STP.section){var c={ajax:{dataType:"jsonp",xhrFields:{withCredentials:!1}},url:{path:"sg_otvet_u"}};$.extend(!0,b,c)}else if("video"==STP.section){var c={ajax:{dataType:"jsonp",xhrFields:{withCredentials:!1}},url:{path:"sg_video_u"}};$.extend(!0,b,c)}else if("news"==STP.section){var c={ajax:{dataType:"jsonp",xhrFields:{withCredentials:!1}},url:{path:"sg_news_u"}};$.extend(!0,b,c)}var d=SearchFormSuggest.sg=new SG(b);d.instance=null,d.queriesTimings={},STP.experiments.srch46133&&d.turnInlineSuggest(!0),d.opts({select:function(b){var c=b.itemData,d=b.data[0].link?1:0,e=c.autocomp,f=b.value,g=b.fullData?b.fullData.qid:null,h={us:f.length,ussp:c.spcAuto||null,usln:b.selected+1,usstr:f,usqid:g,hasnavig:d,usau:e,sbmt:Date.now()},i=a.form;if(c.isHistory&&(h.ushq=1),"site"===c.type){a.navSuggSelected=!0;var j=new URI(c.golink),k=j.origin()+j.pathname(),l=j.query(!0);if(a.redirFormAction=k,c.goreferral===!0)h=$.extend({},l);else{var m={sg:b.value,ce:1};h=$.extend({},h,m,l)}i.attr("target","_blank"),setTimeout(function(){i.removeAttr("target")},10)}"undefined"!=typeof go&&(a.navSuggSelected||(go.sgParams=h),a.navSuggSelected&&(go.sgNav=!0)),STP.sgmus&&c.mus&&(h.usmus=1),a.$inputs=$(),$.each(h,function(b,c){null!=c&&(a.$inputs=a.$inputs.add($("<input>",{type:"hidden",name:b,value:c})))}),i.append(a.$inputs),setTimeout(function(){a.$inputs.remove()},10)},unselect:function(b){a.navSuggSelected=null;var c=b.itemData;c&&"site"===c.type&&(this.disable(),this.field.value=c.site,this.enable())}}),a.form.on("submit",function(b){if(a.rcntSubmitted=a.input.val(),a.suggest.hide(),a.navSuggSelected){var c=$("body"),d=$('<form target="_blank" accept-charset="utf-8" method="get" action="'+a.redirFormAction+'" />');d.append(a.$inputs),c.append(d),d.submit(),setTimeout(function(){d.remove()},10),b.preventDefault()}}),a.input.on("click",function(){var b=STP.base_section,c=!a.input.val(),e=("main"===b||"web"===b)&&c;!e&&c||d.show()}),STP.experiments.srch46133&&(a.input.on("input",function(){var b=a.inputInlineSuggestCurrent.text(),c=b+a.inputInlineSuggestCompletion.text(),d=$(this).val();(d.length<b.length||c.indexOf(d)===-1)&&a.updateInlineSuggest()}),d.on("focus",function(){a.updateInlineSuggest()}));var e=d.queriesTimings;d.on("valueChange",function(b,c){a.rcntSubmitted!==c&&a.suggest.css("display",""),a.rcntSubmitted=null,d.opts({ajax:{data:{pc:Utils.getCaretPosition(a.input.get(0))}}})}),d.on("sendRequest",function(a,b){e[b]=a.timeStamp}),d.on("errorRequest",function(a,b,c){var d=window.rT;if("timeout"===b&&d&&d.point){var f=0;e[c]&&hasOwnProperty.call(e,c)&&(f=a.timeStamp-e[c]),d.point("sgtimeout",f),d.notify()}}),d.on("completeRequest",function(a,b,c){delete e[c]}),STP.experiments.srch46133&&d.on("acceptData",function(b,c,d){var e=a.input.val(),f=this.getState(),g=f.inline;e&&e===d&&a.updateInlineSuggest(d,g)}),a.suggest.on("mousedown",".js-go-suggests-delete-history",function(a){if(a.stopPropagation(),1===a.which){var b=$(this),c=b.closest(".go-suggests__item"),e=c.find(".go-suggests__history-deleted-msg__link"),f=b.closest(".go-suggests__item__text_history").text().trim(),g={};SG.Event.rm(c[0]),g=go.SuggestsSettings.getTestParams(),pxt("sgclrq",STP.base_section),$.ajax({url:"/api/v1/sg_history/delete?q="+f,data:$.extend({},g,{_gocsrf:go.SuggestsSettings.csrfToken}),method:"POST"}).done(function(a){a&&!a.error&&(d.flushCache(),c.addClass("go-suggests__item_history-deleted"),go.SuggestsSettings.start(e))})}}),$.browser.msie&&$.browser.version<7&&d.on("closeEnd",function(){a.suggest.css("display","none").css("display","")}),d.enable()},ovlToggle:function(){this.ovl.toggleClass("active")},updateInlineSuggest:function(a,b){STP.experiments.srch46133&&(a=a||"",b=b||"",this.inputInlineSuggestCurrent.text(a),this.inputInlineSuggestCompletion.text(b))}};var goFormInit={init:function(a){var b=a.toolbar.items[0].itemsByName.search,c=b.form,d=b.input,e=b.button,f=$(d.el),g=$(c.el),h=$(".pm-toolbar__search__clear-button"),i="js-is-not-scrollable";c.el.id="MSearch",d.el.id="q",e.el.id="MSearch-submit",h.attr("id","MSearch-clear"),f.val(STP.qswap),g.addClass(i),c.on("submit",function(a){var b=$(c.el).find('input[name="sbmt"]');b.val(Date.now()),PageReloader.initDeferred(),f.focus()}),f.on("focusin",function(){PageReloader.suspendDeferred()}),f.on("focusout",function(){PageReloader.resumeDeferred()})}},Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return!a&&0!==a||!(!m(a)||0!==a.length)}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===k.call(a)};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<c.length;b++)this[c[b]]=a[c[b]]}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;f<h;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){if(m(a)&&(a=a.call(this)),!g.isEmpty(a))return b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.1.2";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(b<c){var d=n[c],e=n[b];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new Error("No environment passed to template");var c;c=b.compile?function(a,c,d,e,f,g){var i=h.apply(this,arguments);if(i)return i;var j={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,j)}:function(a,b){var c=h.apply(this,arguments);if(c)return c;throw new l("The partial "+b+" could not be compiled when running in runtime-only mode")};var e={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:f,noop:i,compilerInfo:null};return function(c,f){f=f||{};var g,h,i=f.partial?f:b;f.partial||(g=f.helpers,h=f.partials);var j=a.call(e,i,c,g,h,f.data);return f.partial||d(e.compilerInfo),j}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");if(a instanceof Function)return a(c,g)}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a,c,d){this.type="program",this.statements=a,this.strip={},d?(this.inverse=new b(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)}function c(a,b,c,d){this.type="mustache",this.hash=b,this.strip=d;var e=c[3]||c[2];this.escaped="{"!==e&&"&"!==e;var f=this.id=a[0],g=this.params=a.slice(1),h=this.eligibleHelper=f.isSimple;this.isHelper=h&&(g.length||b)}function d(a,b,c){this.type="partial",this.partialName=a,this.context=b,this.strip=c}function e(a,b,c,d){if(a.id.original!==d.path.original)throw new p(a.id.original+" doesn't match "+d.path.original);this.type="block",this.mustache=a,this.program=b,this.inverse=c,this.strip={left:a.strip.left,right:d.strip.right},(b||c).strip.left=a.strip.right,(c||b).strip.right=d.strip.left,c&&!b&&(this.isInverse=!0)}function f(a){this.type="content",this.string=a}function g(a){this.type="hash",this.pairs=a}function h(a){this.type="ID";for(var b="",c=[],d=0,e=0,f=a.length;e<f;e++){var g=a[e].part;if(b+=(a[e].separator||"")+g,".."===g||"."===g||"this"===g){if(c.length>0)throw new p("Invalid path: "+b);".."===g?d++:this.isScoped=!0}else c.push(g)}this.original=b,this.parts=c,this.string=c.join("."),this.depth=d,this.isSimple=1===a.length&&!this.isScoped&&0===d,this.stringModeValue=this.string}function i(a){this.type="PARTIAL_NAME",this.name=a.original}function j(a){this.type="DATA",this.id=a}function k(a){this.type="STRING",this.original=this.string=this.stringModeValue=a}function l(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)}function m(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a}function n(a){this.type="comment",this.comment=a}var o={},p=a;return o.ProgramNode=b,o.MustacheNode=c,o.PartialNode=d,o.BlockNode=e,o.ContentNode=f,o.HashNode=g,o.IdNode=h,o.PartialNameNode=i,o.DataNode=j,o.StringNode=k,o.IntegerNode=l,o.BooleanNode=m,o.CommentNode=n,o}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a[2],right:"~"===b[0]||"~"===b[1]}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(b,c,d,e,f,g,h){var i=g.length-1;switch(f){case 1:return new e.ProgramNode(g[i-1]);case 2:return new e.ProgramNode([]);case 3:this.$=new e.ProgramNode([],g[i-1],g[i]);break;case 4:this.$=new e.ProgramNode(g[i-2],g[i-1],g[i]);break;case 5:this.$=new e.ProgramNode(g[i-1],g[i],[]);break;case 6:this.$=new e.ProgramNode(g[i]);break;case 7:this.$=new e.ProgramNode([]);break;case 8:this.$=new e.ProgramNode([]);break;case 9:this.$=[g[i]];break;case 10:g[i-1].push(g[i]),this.$=g[i-1];break;case 11:this.$=new e.BlockNode(g[i-2],g[i-1].inverse,g[i-1],g[i]);break;case 12:this.$=new e.BlockNode(g[i-2],g[i-1],g[i-1].inverse,g[i]);break;case 13:this.$=g[i];break;case 14:this.$=g[i];break;case 15:this.$=new e.ContentNode(g[i]);break;case 16:this.$=new e.CommentNode(g[i]);break;case 17:this.$=new e.MustacheNode(g[i-1][0],g[i-1][1],g[i-2],a(g[i-2],g[i]));break;case 18:this.$=new e.MustacheNode(g[i-1][0],g[i-1][1],g[i-2],a(g[i-2],g[i]));break;case 19:this.$={path:g[i-1],strip:a(g[i-2],g[i])};break;case 20:this.$=new e.MustacheNode(g[i-1][0],g[i-1][1],g[i-2],a(g[i-2],g[i]));break;case 21:this.$=new e.MustacheNode(g[i-1][0],g[i-1][1],g[i-2],a(g[i-2],g[i]));break;case 22:this.$=new e.PartialNode(g[i-2],g[i-1],a(g[i-3],g[i]));break;case 23:this.$=a(g[i-1],g[i]);break;case 24:this.$=[[g[i-2]].concat(g[i-1]),g[i]];break;case 25:this.$=[[g[i]],null];break;case 26:this.$=g[i];break;case 27:this.$=new e.StringNode(g[i]);break;case 28:this.$=new e.IntegerNode(g[i]);break;case 29:this.$=new e.BooleanNode(g[i]);break;case 30:this.$=g[i];break;case 31:this.$=new e.HashNode(g[i]);break;case 32:this.$=[g[i-2],g[i]];break;case 33:this.$=new e.PartialNameNode(g[i]);break;case 34:this.$=new e.PartialNameNode(new e.StringNode(g[i]));break;case 35:this.$=new e.PartialNameNode(new e.IntegerNode(g[i]));break;case 36:this.$=new e.DataNode(g[i]);break;case 37:this.$=new e.IdNode(g[i]);break;case 38:g[i-2].push({part:g[i],separator:g[i-1]}),this.$=g[i-2];break;case 39:this.$=[{part:g[i]}];break;case 42:this.$=[];break;case 43:g[i-1].push(g[i]);break;case 46:this.$=[g[i]];break;case 47:g[i-1].push(g[i])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&"undefined"!=typeof n||(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){
return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&e(0,1),14;case 3:return e(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState(),this.begin("com");break;case 12:return e(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:return 38;case 16:return 38;case 17:return 42;case 18:break;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 22:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:return 34;case 25:return 34;case 26:return 33;case 27:return 38;case 28:return b.yytext=e(1,2),38;case 29:return"INVALID";case 30:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(a){this.value=a}function c(){}var d,e=a.COMPILER_REVISION,f=a.REVISION_CHANGES,g=a.log;c.prototype={nameLookup:function(a,b){var d,e;return 0===a.indexOf("depth")&&(d=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":c.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",d?"("+a+" && "+e+")":e},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},g("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var h=f.length;this.i<h;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],h=0,i=this.environment.depths.list.length;h<i;h++)d.push("depth"+this.environment.depths.list[h]);var j=this.mergeSource();if(!this.isChild){var k=e,l=f[k];j="this.compilerInfo = ["+k+",'"+l+"'];\n"+j}if(a)return d.push(j),Function.apply(this,d);var m="function "+(this.name||"")+"("+d.join(",")+") {\n  "+j+"}";return g("debug",m+"\n\n"),m},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;c<d;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.pushSource("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.pushSource("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".call("+c.callParams+") : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:c,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;f<g;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;f<g;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new b(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var c,d="",e=this.isInline();if(e){var f=this.popStack(!0);if(f instanceof b)c=f.value;else{var g=this.stackSlot?this.topStackName():this.incrStack();d="("+this.push(g)+" = "+f+"),",c=this.topStack()}}else c=this.topStack();var h=a.call(this,c);return e?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+d+h+")")):(/^stack/.test(c)||(c=this.nextStack()),this.pushSource(c+" = ("+d+h+");")),c},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var c=0,d=a.length;c<d;c++){var e=a[c];e instanceof b?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var c=this.isInline(),d=(c?this.inlineStack:this.compileStack).pop();return!a&&d instanceof b?d.value:(c||this.stackSlot--,d)},topStack:function(a){var c=this.isInline()?this.inlineStack:this.compileStack,d=c[c.length-1];return!a&&d instanceof b?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;j<a;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),i=c.RESERVED_WORDS={},j=0,k=h.length;j<k;j++)i[h[j]]=!0;return c.isValidJavaScriptVariableName=function(a){return!(c.RESERVED_WORDS[a]||!/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a))},d=c}(d),k=function(a,b,c,d){"use strict";function e(){}function f(a,b){if(null==a||"string"!=typeof a&&a.constructor!==l.ProgramNode)throw new i("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var c=j(a),d=(new e).compile(c,b);return(new k).compile(d,b)}function g(a,b,c){function d(){var d=j(a),f=(new e).compile(d,b),g=(new k).compile(f,b,void 0,!0);return c.template(g)}if(null==a||"string"!=typeof a&&a.constructor!==l.ProgramNode)throw new i("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var f;return function(a,b){return f||(f=d()),f.call(this,a,b)}}var h={},i=a,j=b.parse,k=c,l=d;return h.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;f<g;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;c<d;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;e<f;e++)b=c.depths.list[e],b<2||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;e<f;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;c<d;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new i("Scoped data references are not supported: "+a.original);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;c<d;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},h.precompile=f,h.compile=g,h}(c,i,j,g),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=m,a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,k,j);return l}();Header={init:function(){var a=this,b=$("#go-form");a.goform=b.length?b:$(".go-index"),a.header=$("#go-header"),a.headlinks=$("#go-headlinks"),a.topBn=$("#goTopBn"),a.layout=$("#layout"),a.topMenu=["images","video"].indexOf(STP.section)===-1?$(".top_menu__wrapper"):$("#topMenuBlock"),a.body=$("body"),a.html=$(document.documentElement),["images","video"].indexOf(STP.base_section)!==-1&&(a.mediaResponses=$(".js-media-responses")),a.goform.on("click",function(b){a.scrolingToTop(b)}),$("#topBnClose").on("click",function(){b.length&&a.body.addClass("adaptive-fixed").removeClass("adaptive-fixed"),a.adaptiveFixedHeqader()}),a.adaptiveFixedHeqader()},adaptiveFixedHeqader:function(){function a(){var a=$(document).height()-h<=$(window).height();if(!a||j){var d,k=c.scrollTop(),l=g+f-k,m="adaptive-fixed";if(d=a?0!==k:l<=0,!j&&d){if(j=!0,e.addClass(m),["images","video"].indexOf(STP.base_section)===-1){var n=h+i;b.layout.css("margin-top",n+"px")}["images","video"].indexOf(STP.base_section)>-1?b.topMenu.css("top",h-g+"px"):b.topMenu.css("top",h+"px")}else j&&!d&&(j=!1,e.removeClass(m),["images","video"].indexOf(STP.base_section)===-1&&b.layout.css("margin-top","0"),b.topMenu.css("top","0"))}}var b=this;if(b.headlinks.length&&b.goform.length&&"TABLET"!==STP.detector_result){var c=$(document),d=$(window),e=$("body"),f=b.topBn.height(),g=b.headlinks.outerHeight(),h=b.goform.outerHeight(),i=b.topMenu.outerHeight(),j=!1;d.off(".goHeader"),d.bind("scroll.goHeader resize.goHeader",a),a()}},scrolingToTop:function(a){var b="js-is-not-scrollable",c=$(a.target),d=c.hasClass(b),e=c.closest("."+b).length>0;d||e||(["images","video"].indexOf(STP.base_section)!==-1&&"landscape"===preview.getOrientation()?this.mediaResponses.filter(":not(:animated)").animate({scrollTop:0},300):(this.body.filter(":not(:animated)").animate({scrollTop:0},300),this.html.filter(":not(:animated)").animate({scrollTop:0},300)))}},window.hotKeyUsage=function(){function a(a){return 0===a||a>=65&&a<=90||a>=48&&a<=57||63==a||8==a||59==a||a>=186&&a<=192||a>=219&&a<=222||a>=96&&a<=111||36==a}function b(b){if(!(e||b.ctrlKey||b.altKey||b.metaKey||f.hasClass("modal-open"))){var c=b.keyCode;if(a(c)){var g=b.target,h=g.nodeName;if(!/^(?:textarea|select|option|object|embed)$/i.test(h)){var i="INPUT"===h,j="BUTTON"===h,k=i&&/^(?:checkbox|radio|button|reset|submit|image)$/i.test(g.type)||j;if((!k||32!=c)&&(k||!i)){var l=d.val(),m=l.charAt(l.length-1);m&&" "!=m&&36!=c&&32!=c&&8!=c&&d.val(l+" "),d.focus(),d.setCursorAtTheEnd(),36==c&&(window.scrollTo(0,0),b.preventDefault())}}}}}var c=STP.hotKey||{},d=$("#q"),e=!1,f=$(document.documentElement);d.focus(function(){e=!0}).blur(function(){e=!1}),c.qurl&&pxt("z5"),$.browser.opera&&$("head").append($("<link>",{rel:"prev",href:$("#HotKey-37").attr("href")||""})).append($("<link>",{rel:"next",href:$("#HotKey-39").attr("href")||""})),$(document)[$.browser.opera?"keypress":"keydown"](function(a){var b=null,f=detectPlatform("mac")?a.altKey:a.ctrlKey;if(f&&!e){switch(a.keyCode){case 37:b=$("#HotKey-37");break;case 39:b=$("#HotKey-39");break;case 38:a.preventDefault(),d.focus(),d.select();break;case 13:c.qurl?(pxt("z1"),b=$("#domain_jump")):b=c.mistype_jump_video?$("#mistype_jump_video"):c.mistype_jump_images?$("#_mistype_jump_images"):$("#HotKey-13")}(b=b&&b.attr("href"))&&Uri.redirect(b)}}),$(document).keydown(b)},$(function(){var a=$("html");a.removeClass("nojs").addClass("js").toggleClass("opera",!!$.browser.opera).toggleClass("webkit",!!$.browser.webkit)}),function(a){var b=/(\s*\S+|\s)$/;a.truncate=function(b,c){return a("<div></div>").append(b).truncate(c).html()},a.fn.truncate=function(c){a.isNumeric(c)&&(c={length:c});var d=a.extend({},a.truncate.defaults,c);return this.each(function(){var c=a(this);d.noBreaks&&c.find("br").replaceWith(" ");var e=c.text(),f=e.length-d.length;d.stripTags&&c.text(e),d.words&&f>0&&(f=e.length-e.slice(0,d.length).replace(b,"").length-1),f<0||!f&&!d.truncated||a.each(c.contents().get().reverse(),function(b,c){var e=a(c),g=e.text(),h=g.length;return h<=f?(d.truncated=!0,f-=h,void e.remove()):3===c.nodeType?(a(c.splitText(h-f-1)).replaceWith(d.ellipsis),!1):(e.truncate(a.extend(d,{length:h-f})),!1)})})},a.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}(jQuery),window.KeyboardNavi=function(a,b,c){function d(a){return a.offset()}function e(a){return d(a).top}function f(a){return d(a).left}function g(a){return e(a)+a.height()}function h(a){return f(a)+a.width()}function i(a){return e(a)+a.height()/2}function j(a){return f(a)+a.width()/2}function k(b){var c=a("html,body");o?(c.stop(!0),n.scrollTop(b),o=!1):(o=!0,c.animate({scrollTop:b},200,function(){o=!1}))}function l(a){var b=n.scrollTop(),c=a.height(),d=e(a),f=n.height()-c;isScroll=d-c<b||d+c>b+f,isScroll&&k(d-f/2)}var m=function(){},n=a(b),o=!1,p=function(b){var c=this;this.disabled=!1,c.config=b;var d={onEnter:m,onLeave:m,defaultColumn:0};for(var e in d)b[e]=b[e]||d[e];a(document)[a.browser.opera?"keypress":"keydown"](function(a){if(!(c.disabled||a.ctrlKey||a.altKey||a.metaKey)){var b=a.target;(/^(?:html|div|body|a)$/i.test(b.nodeName)||b.name&&"mp3player_small"==b.name)&&c.callKey(a)}}),c.init()},q=p.prototype={init:function(){var a=this.config;this.currentColumnIndex=a.defaultColumn,this.columns=a.columns.map(function(b,c){return new t(b,a,c)})},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},column:function(a){return this.columns[a]},currentColumn:function(){return this.column(this.currentColumnIndex)},callKey:function(b){function c(a){return!!a&&(f.unselect(),a.setPosition(e.newCurrentPosition(f,a)))}var d=!1,e=this,f=this.currentColumn(),g=!1;switch(b.keyCode){case 38:d=f.goPrevRow();break;case 40:d=f.goNextRow();break;case 37:d="images"==STP.section||"video"==STP.section?f.isLeftPosition()?f.goPrevRow(!0):f.goPrevItem():f.isLeftPosition()?c(this.prevColumn()):f.goPrevItem();break;case 39:d="images"==STP.section||"video"==STP.section?f.isRightPosition()?f.goNextRow(!0):f.goNextItem():f.isRightPosition()?c(this.nextColumn()):f.goNextItem();break;case 13:a(":focus").trigger("mousedown"),d=f.goUserEnter(),g=!0}g&&a(document).trigger("kbnaviEnter"),d&&(a(document).trigger("kbnavi"),b.preventDefault())},newCurrentPosition:function(b,c){var d=b.getCurrentItem();if(!d)return 0;for(var f=c.items,h=c.itemsLength,j=i(d),k=0;k<h;k++){var l=a(f[k]),m=(e(l),g(l));if(j<m)return k}return h-1},tryColumn:function(){var a=this.currentColumn();if(a.isEmpty())throw"";return a},prevColumn:function(){try{return this.currentColumnIndex--,this.tryColumn()}catch(a){this.currentColumnIndex++}return null},nextColumn:function(){try{return this.currentColumnIndex++,this.tryColumn()}catch(a){this.currentColumnIndex--}return null}},r=-1,s=-2,t=function(a,b,d){this.selectedClass=b.selectedClass,this.onEnter=b.onEnter,this.onLeave=b.onLeave,this.itemsSelector=a.items,this.goBefore=a.goBefore||!1,this.goAfter=a.goAfter||!1,this.onGoBefore=a.onGoBefore||m,this.onGoAfter=a.onGoAfter||m,this.onUserPressEnterKey=a.onUserPressEnterKey||m,this.onEnterItem=a.onEnter||m,this.onLeaveItem=a.onLeave||m,this.onGoNextRow=a.onGoNextRow||m,this.onGoPrevRow=a.onGoNextRow||m,this.count=d,this.currentPosition=a.position!==c?a.position:r,this.init(!0)},u=t.prototype={waitClickCounter:1,oldWaitClick:!1,init:function(b){var c=this;c.items=a([]),a.each(c.itemsSelector,function(a,b){c.items=c.items.add(b.join(","),a)}),this.itemsLength=this.items.length,this.inBlock=!1,b&&(this.currentItem=null,this.lastItem=null)},reload:function(a,b,c){this.unselect(),this.init(!1),a&&(this.noEvents=this.noScroll=c||!1,this.setPosition(this.findItem(a)),this.noEvents=this.noScroll=!1)},isEmpty:function(){return 0===this.itemsLength},isOut:function(a,b){return(b!==c?b:this.currentPosition)===a},isBefore:function(a){return this.isOut(r,a)},isAfter:function(a){return this.isOut(s,a)},isOutOfRange:function(a){return null===a||this.isAfter(a)||this.isBefore(a)||a<0||a>=this.itemsLength},findItem:function(a){if(a&&a.get)try{a=a.get(0)}catch(b){}for(var c=0;c<this.itemsLength;++c)if(this.items[c]===a)return c;return null},getItemByPosition:function(b){if(this.isOutOfRange(b))return null;var c=a(this.items[b]);return c&&c.is(":visible")?c:null},getCurrentItem:function(){return this.getItemByPosition(this.currentPosition)},getCurrentPrevAndPos:function(a){var b;try{for(;!(b=this.getItemByPosition(a));)if(--a,a<0)throw"out of range";return{current:b,pos:a}}catch(c){return null}},getCurrentNextAndPos:function(a){var b;try{for(;!(b=this.getItemByPosition(a));)if(++a,a>=this.itemsLength)throw"out of range";return{current:b,pos:a}}catch(c){return null}},checkIntersection:function(a,b,c){var d=e(c),f=g(c),h=f-d,i=b-a,j=Math.max(a,d),k=Math.min(b,f),l=Math.min(i,h);return k-j>l/3},getPrev:function(){var a=this.currentPosition;if(this.isEmpty())return a;if(this.isBefore())return r;if(this.isAfter())return this.itemsLength-1;if(0===a)return this.goBefore?r:0;var b=this.getCurrentPrevAndPos(a);if(!b)return r;for(var c=e(b.current),d=g(b.current),f=b.pos-1;f>=0;--f){var h=this.getItemByPosition(f);if(h&&this.checkIntersection(c,d,h))return f}return r},getNext:function(){var a=this.currentPosition;if(this.isEmpty())return a;if(this.isAfter())return s;if(this.isBefore())return 0;if(a>=this.itemsLength-1)return this.goAfter?s:a;var b=this.getCurrentNextAndPos(a);if(!b)return s;for(var c=e(b.current),d=g(b.current),f=b.pos+1;f<this.itemsLength;++f){var h=this.getItemByPosition(f);if(h&&this.checkIntersection(c,d,h))return f}return s},goNextItem:function(){return this.setPosition(this.getNext())},goPrevItem:function(){return this.setPosition(this.getPrev())},goPrevRow:function(a){var b;return b=a&&this.currentPosition>0?this.currentPosition-1:this.prevRowPosition(this.currentPosition),this.onGoPrevRow(this.getItemByPosition(b)),this.setPosition(b)},goNextRow:function(a){var b;return b=a?this.currentPosition+1:this.nextRowPosition(this.currentPosition),this.onGoNextRow(this.getItemByPosition(b)),this.setPosition(b)},goUserEnter:function(){return this.onUserPressEnterKey(this.getCurrentItem(),this)},setPosition:function(a,b){if(this.isAfter(a)){if(!this.goAfter)return!1;this.onGoAtfer()}if(this.isBefore(a)){if(!this.goBefore)return!1;this.onGoBefore()}return!(this.currentPosition===a&&this.inBlock&&!b)&&(this.inBlock=!0,this.changePosition(a),!0)},changePosition:function(a){if(b.addData){var c=this,d=addData,e=d.PageButtonMore*d.amountInOnePage*c.waitClickCounter;if(d.waitClick){if(c.oldWaitClick=d.waitClick,a>e)return}else d.waitClick!=c.oldWaitClick&&(c.waitClickCounter++,c.oldWaitClick=d.waitClick)}this.unselectItem(this.currentPosition),this.currentPosition=a,this.selectItem(a)},selectItem:function(a){var b=this.toggleItem(a,!0);b&&(this.currentItem=b,this.noScroll||l(b),this.noScroll=!1,this.noEvents||(this.onEnter(b,this.count),this.onEnterItem(b)),this.noEvents=!1)},unselectItem:function(a){var b=this.toggleItem(a,!1);b&&(this.lastItem=b,this.noEvents||(this.onLeave(b,this.count),this.onLeaveItem(b)))},toggleItem:function(a,b){var c=this.getItemByPosition(a);return c?(c.toggleClass(this.selectedClass,b),c):null},unselect:function(){this.inBlock=!1,this.unselectItem(this.currentPosition)},isFirstPosition:function(){return 0===this.currentPosition},isLastPosition:function(){return this.currentPosition===this.itemsLength-1},isLeftPosition:function(){return this.isOutOfRange(this.getPrev())||this.isFirstPosition()},isRightPosition:function(){return this.isOutOfRange(this.getNext())||this.isLastPosition()},prevRowPosition:function(a){function b(a,b){for(var c=d.pos-1;c>=0;--c){var e=a.getItemByPosition(c);if(e&&b(e))throw c}}function c(a){return i(a)<=k}if(this.isOutOfRange(a))return this.getPrev();var d=this.getCurrentPrevAndPos(a);if(!d)return r;try{var g=d.current,k=e(g),l=h(g);b(this,function(a){return c(a)&&(j(a)<=l||f(a)<l)}),b(this,c)}catch(m){return m}return r},nextRowPosition:function(a){function b(a,b){for(var c=d.pos+1;c<a.itemsLength;++c){var e=a.getItemByPosition(c);if(e&&b(e))throw c}}function c(a){return e(a)>=k}if(this.isOutOfRange(a))return this.getNext();var d=this.getCurrentNextAndPos(a);if(!d)return s;try{var g=d.current,h=f(g),k=i(g);b(this,function(a){return c(a)&&j(a)>=h}),b(this,c)}catch(l){return l}return s}};return p.scrollToTop=k,q.currentColumn=q.currentColumn,
u.reload=u.reload,p}(jQuery,window),function(a,b,c){if(!(a.browser.msie&&parseInt(a.browser.version,10)<9)){var d="images"==STP.section||"video"==STP.section?"appendedTemplate":"headerReady",e=!1;a(document).on(d,function(){function d(){var a=A.currentColumn();return a.reload(),0!==a.currentPosition&&a.setPosition(a.currentPosition),a}function f(a,b){b!==c&&null!==b&&(a.noEvents=a.noScroll=!0,a.setPosition(b),a.noEvents=a.noScroll=!1)}function g(){var a=A.currentColumn();a.reload(a.currentItem,!0,!0),A.column(2).reload()}function h(){A.currentColumnIndex=1,A.column(1).currentPosition=0,A.column(1).reload()}function i(a){if(a){var b=A.currentColumn(1);b&&f(b,b.findItem(a))}}function j(b){return b.is("a")?b:a("a:first",b)}function k(b,c){switch(x){case"images":if(b&&b.is(".images-item")&&!b.is(".images-item_active")&&a(".preview").length>0){var d=b.find("a");c&&c(d)}}}function l(c,d){switch(x){case"images":if(c&&c.is(".images-item")&&!c.is(".images-item_active")&&a(".preview").length>0){var e=c.find("a");d&&d(e)}break;case"video":if(c&&d&&"landscape"===preview.getOrientation()){d();var f=t.scrollTop(),g=c.height(),h=c.position().top+f,i=a(b).height()-t.offset().top-g;if(isScroll=h-g<f||h+g>f+i,isScroll){var j=h-i/2;s?(t.stop(!0),t.scrollTop(j),s=!1):(s=!0,t.animate({scrollTop:j},200,function(){s=!1}))}}}}function m(b){var c={block:"#js-kb-col-center",items:[]};switch(b){case"web":a(document).on("newPageReady",g),a(document).on("newQuery",h),c.items=[".result__li:not(.smack-news_more, .smack-answer, .smack-calendar, .smack-converter, .smack-lang, .smack-music, .smack-torg_merged)",".alqs-item",".smack-news_more .smack-news__item",".smack-news_more .smack-news__block","#js-morebutton__link",".gad_block__item",".responses__pxtRBMail",".verticals-block",".verticals-block__image",".smack-answer__section",".a090119d__itme",".page-navig a:not(.page-navig_current)"];break;case"images":a(document).on("imagesItemsLoaded",g),c.block="#js-kb-col-center",c.items=[".images-item"];break;case"video":a("#js-morebutton__link").bind("loaded",d),c.items=[".js-video-item__link",".alqs-item","#js-morebutton__link"],a(document).on("videoItemsLoaded",g),c.block=".js-media-responses",c.items=[".js-video-item"];break;case"otvet":a("#js-morebutton__link").bind("loaded",d),c.items=[".js-kb-wrap","#js-morebutton__link"]}return c}function n(){function b(a){try{i(a)}catch(b){}}if("images"==STP.section)var c=a(".js-media-responses"),d=a(".images-item_active"),e="a.images-item__link",f=".js-images-item";if("video"==STP.section)var c=a(".js-media-responses"),d=a(".video-item_active"),e="a.js-video-item__link",f=".js-video-item";b(d),c.delegate(e,"click",function(){var c=a(this).closest(f);b(c)})}if(["TABLET","SMARTPHONE"].indexOf(STP.detector_result)===-1&&"news"!==STP.section&&!e){e=!0;var o=a("body"),p=(a("html"),"mouse-navi"),q="kb-navi",r="col-left-kb-navi";if("video"===STP.section)var s=!1,t=a(".js-media-responses");var u=0,v=0;o.addClass(p).mousemove(function(b){(Math.abs(u-b.clientX)>0||Math.abs(v-b.clientY)>0)&&(o.removeClass(q).addClass(p),a(document).trigger("mousenavi")),u=b.clientX,v=b.clientY});var w=!1,x=STP.section,y=m(x),z={body:["#q","#video-inline"]};z[y.block]=[".js-kb-mistype"].concat(y.items),"web"===x&&(z["#layout-carousel"]=[".carousels__title a"]);var A=new KeyboardNavi({columns:[{items:{".js-kb-col-left":[".js-kb-item a",".js-kb-opt a"],"#go-header":[".js-kb-logo__link",".pm-logo__link"]}},{items:z,position:0,select:!1,onUserPressEnterKey:function(b,c){if(b.is("#q")){var d=b.attr("value");return""!=d&&b.attr("value",d+" "),b.focus().setCursorAtTheEnd(),!0}return b.is("#video-inline")?(a.each(c.items,function(d,e){if(a(e).parent().is(".vid-selected"))return j(b).click(),void c.setPosition(d)}),!0):(b.is("#moreResultsBtn")&&(w=!0),!1)},onEnter:function(a){k(a,function(a){location=a.attr("href"),a.click()})},onGoPrevRow:function(a){var b=this;l(a,function(a){b.noScroll=!0})},onGoNextRow:function(a){var b=this;l(a,function(a){b.noScroll=!0})}},{items:{"#js-kb-col-right":[".direct__link",".a090119d__itme",".direct__alladverts",".verticals-block.direct_right",".js-video-item__link",".verticals-block__image",".gad_block__item",".promo__list li",".item a",".opt a",".alqs-item a",".icard-imgs",".icard-info__src a",".icard-info__rating a",".icard-info__img",".icard-recipes",".js-icard-crsl"],body:["#go-form__advanced-btn",".js-link"]},onUserPressEnterKey:function(a){return!!a.is(".js-icard-crsl")&&(a.find(".js-icard-crsl__tlink").click(),!0)}}],defaultColumn:1,selectedClass:"kb-navi-selected",onEnter:function(b,c){if(o.removeClass(p).addClass(q),0==c){var d=a(".js-kb-col-left");d.hasClass(r)||d.addClass(r)}b.is("#q")?KeyboardNavi.scrollToTop(0):b.is(".js-icard-crsl")?a("#js-icard-crsl__items a").first().focus():j(b).focus(),b.trigger("mouseenter")},onLeave:function(b,c){0!=c&&a(".js-kb-col-left").removeClass(r),j(b).blur(),b.trigger("mouseleave")}});"images"!=STP.section&&"video"!=STP.section||n(),b.kbNavi=A}})}}(jQuery,window),function(a){"use strict";function b(b,e){this.disabled=!1,this.element=b,this.$element=a(b),this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.$html=a(document.documentElement),this.$body=a(document.body),this.$dialog=this.$element.find(".modal__dialog"),this.$backdrop=null,this.$content=this.$dialog.find(".modal__body"),this.isShown=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.isIpad=navigator.userAgent.toLowerCase().indexOf("ipad")>=0,this.settings.fullHeight&&this.$dialog.addClass("modal__dialog_full"),this.$dialog.find(".modal__close").length||this.$dialog.addClass("modal__dialog_noclose")}var c="modal",d={backdrop:!0,keyboard:!0,fullHeight:!1};a.extend(b.prototype,{enable:function(){return this.disabled=!1,this},disable:function(){return this.disabled=!0,this},show:function(){if(!this.isShown){if(this.isShown=!0,"kbNavi"in window&&kbNavi.disable(),this.isIpad){var b=a(window).scrollTop();this.$html.css("top",-b).addClass("modal-open_fixed")}else this.scrollbarWidth=this.measureScrollbar(),this.$html.css("padding-right",this.scrollbarWidth),this.$html.addClass("modal-open");this.handleEscape(),this.$element.on("click.dismiss.modal",".modal__close",a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.modal",a.proxy(function(){this.$element.one("mouseup.dismiss.modal",a.proxy(function(b){a(b.target).is(this.$element)&&(this.ignoreBackdropClick=!0)},this))},this)),this.settings.fullHeight&&a(window).on(this.isIpad?"orientationchange.modal":"resize.modal",a.proxy(this.resize,this)).on("wheel.modal",a.proxy(function(a){a.preventDefault(),1===a.originalEvent.deltaMode?this.$content[0].scrollTop+=40*a.originalEvent.deltaY:this.$content[0].scrollTop+=a.originalEvent.deltaY},this)),this.backdrop(a.proxy(function(){this.$element.show().scrollTop(0),a.support.transitionEnd?(this.$element[0].offsetWidth,this.$element.addClass("modal_animate"),this.enforceFocus(),this.$dialog.transitionEnd(a.proxy(function(){this.settings.fullHeight&&this.resize(),this.$element.trigger("focus")},this))):(this.$element.addClass("modal_animate"),this.enforceFocus(),this.settings.fullHeight&&this.resize(),this.$element.trigger("focus"))},this))}},hide:function(b){b&&b.preventDefault(),this.isShown&&(this.isShown=!1,this.handleEscape(),a(document).off("focusin.modal"),a(window).off("resize.modal").off("orientationchange.modal").off("wheel.modal"),this.$element.removeClass("modal_animate").off("click.dismiss.modal").off("mouseup.dismiss.modal"),this.$dialog.off("mousedown.dismiss.modal"),a.support.transitionEnd?this.$element.transitionEnd(a.proxy(this.hideModal,this)):this.hideModal())},enforceFocus:function(){a(document).off("focusin.modal").on("focusin.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},handleEscape:function(){this.isShown&&this.settings.keyboard?this.$element.on("keydown.dismiss.modal",a.proxy(function(a){27===a.which&&this.hide()},this)):this.$element.off("keydown.dismiss.modal")},hideModal:function(){this.settings.onHide&&this.settings.onHide(),this.$element.hide(),this.backdrop(a.proxy(function(){if(this.isIpad){var b=parseInt(this.$html.css("top"));this.$html.removeClass("modal-open_fixed"),a(window).scrollTop(-b)}else this.$html.removeClass("modal-open"),this.$html.css("padding-right",0);"kbNavi"in window&&kbNavi.enable()},this))},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){if(this.isShown)this.$backdrop=a('<div class="modal__backdrop"></div>').appendTo(this.$body),this.$element.on("click.dismiss.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&(this.settings.backdrop?this.hide():this.$element[0].focus()))},this)),a.support.transitionEnd?(this.$backdrop[0].offsetWidth,this.$backdrop.addClass("modal__backdrop_animate"),b&&this.$backdrop.transitionEnd(b)):(this.$backdrop.addClass("modal__backdrop_animate"),b&&b());else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("modal__backdrop_animate");var c=function(){this.removeBackdrop(),b&&b()};a.support.transitionEnd?this.$backdrop.transitionEnd(a.proxy(c,this)):a.proxy(c,this)()}else b&&b()},resize:function(){var b=window.innerHeight||a(window).height();this.$content.height(b-this.$content.position().top-95)},measureScrollbar:function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b}}),a.fn[c]=function(d){if("show"!==d&&"hide"!==d)return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))});var e=arguments;this.each(function(){var f=a.data(this,"plugin_"+c);f instanceof b&&f[d].apply(f,Array.prototype.slice.call(e,1))})}}(jQuery);var performanceLogger=function(a,b){if(window.performance){var c=b?"_"+b:"",d=a?a:STP.pfmTmplEnd,e=window.performance,f=e.timing;if(f.loadEventStart&&0!==f.loadEventStart&&d){var g=2e4,h=Math.min(Math.abs(f.connectEnd-f.connectStart),g),i=Math.min(Math.abs(f.responseEnd-f.responseStart),g),j=Math.min(Math.abs(f.loadEventStart-f.navigationStart),g),k=Math.min(Math.abs(f.domInteractive-f.domLoading),g),l=Math.min(Math.abs(f.domContentLoadedEventStart-f.domLoading),g),m=Math.min(Math.abs(f.domComplete-f.domLoading),g),n=STP.pfmTmplStart?Math.min(Math.abs(parseInt(d-STP.pfmTmplStart)),g):0,o=STP.base_section;if(pxt.add("pfm_"+o+c,{base:"/showpxt",args:["cnt","res","l","int","dcl","com","tmpl"]}),pxt("pfm_"+o+c,h,i,j,k,l,m,n),!b&&e.getEntries&&0!=e.getEntries().length){var p=e.getEntries(),q=p.filter(function(a){return/.*\.css$/.test(a.name)}),r=p.filter(function(a){return/.*[\.png\.gif\.jpg]$/.test(a.name)}),s=p.filter(function(a){return/.*\.js$/.test(a.name)}),t=function(a,b){if(a&&b){var c=Math.max.apply(null,a.map(function(a){return parseInt(a.responseEnd)})),d=Math.min.apply(null,a.map(function(a){return parseInt(a.startTime)}));if(!("number"!=typeof c||c<0||"number"!=typeof d||d<0)){var e=Math.min(Math.abs(parseInt(d-c)),g);"number"!=typeof e||e<0||(pxt.add("pfm_"+b+"_"+o,{base:"/showpxt",args:["d","maxRE","minST"]}),pxt("pfm_"+b+"_"+o,e,c,d))}}};t(q,"css"),t(r,"img"),t(s,"js")}}}};!function(a,b,c,d){pxt.ext({e:"STP.qid",i:"STP.mrcu",r:"STP.query",w:"STP.userType",h:"STP.rch"}),pxt.add("find",{args:["page","t"]}),pxt.add("mpic",{args:["a","pw","ph"]}),pxt.add("qcl"),pxt.add("ftr",{args:["t","u"]}),pxt.add("ftrwdg",{args:["t","u","n","pp"]}),pxt.add("ftrwdg_show",{base:"/showpxt"}),pxt.add("msl",{args:["t","u"]}),pxt.add("logo",{args:["t",""]}),pxt.add("mquery",{args:["u","p"]}),pxt.add("hftr",{args:["t"]}),pxt.add("sds",{args:["t","u"]}),pxt.add("mstp",{args:["t","u"]}),pxt.add("al",{args:["t","u"]}),pxt.add("srl",{args:["t","u"]}),pxt.add("sge",{args:["g","u"]}),pxt.add("sgset",{args:["bs"]}),pxt.add("sgclr",{args:["bs"]}),pxt.add("sgclrq",{args:["bs"]}),pxt.add("jserr",{base:"/showpxt",args:["t"]}),pxt.add("jserrsent",{base:"/showpxt",args:["t"]}),pxt.add("jserrcapt",{base:"/showpxt",args:["t"]}),pxt.add("cmnt_ok",{args:[]}),pxt.add("cmnt_mm",{args:[]}),pxt.add("mnews",{args:["u","p","n"]}),pxt.add("mtab",{args:["k","t"]}),pxt.add("madbmsg",{base:"/showpxt"}),pxt.add("mrecnoshow",{base:"/showpxt"}),pxt.add("adwdg",{args:["t"]}),pxt.add("mrecmduble",{base:"/showpxt",args:["docid","qid1","qid2"]}),pxt.add("mrecm",{args:["u","s","d","p","j","n","t","sp"]}),pxt.add("mrecte",{args:["u","s","d","p","j","n","t","sp"]}),pxt.add("mrecteshow",{base:"/showpxt",args:["u","p","j","t","sp"]}),pxt.add("mrectarget",{args:["u","s","d","p","n","sp"]}),pxt.add("mrectargetshow",{base:"/showpxt",args:["p","sp","u"]}),pxt.add("mrecmwidget",{base:"/showpxt",args:["u","s","d","n","sp"]}),pxt.add("mrecmwidgetshow",{args:["u","sp"]}),pxt.add("mrecmadv",{args:["u","s","d","n","sp"]}),pxt.add("mrecmadvshow",{base:"/showpxt",args:["u","sp"]}),pxt.add("mvrollclick",{args:["u","p","n","bid","src"]}),pxt.add("mvrollshow",{base:"/showpxt",args:["u","p","bid","src"]}),pxt.add("mvrollnoshow",{base:"/showpxt",args:["adb","to"]}),pxt.add("mscrl",{args:["s","d","t","sp"]}),pxt.add("mstres",{args:["d","p","t","sp"]}),pxt.add("mrecdumper",{args:["t"]}),pxt.add("stperr",{args:["k","t"]}),pxt.add("mpnd",{args:["u","s","d","p","j","n"]}),pxt.add("mpndshow",{args:["u","p","j"]}),pxt.add("mpnderr",{args:["t","k"]}),pxt.add("cl_weather",{args:["t","u","p"]}),pxt.add("cl_afisha",{args:["u","t","n","p","sub","pp","v"]}),pxt.add("cl_multiland",{args:["t","u","p"]}),pxt.add("cl_spritze.chp",{args:["u","t","n","p","pp","v"]}),pxt.add("cl_spritze.metro",{args:["t","u","p","city"]}),pxt.add("cl_spritze.gbdd",{args:["t","u","n","p"]}),pxt.add("cl_spritze.auto-model-geo",{args:["u","t","n","p","sub","pp","v"]}),pxt.add("cl_spritze.auto-model-common",{args:["u","t","n","p","sub","pp","v"]}),pxt.add("cl_spritze.auto-reviews",{args:["u","t","p","sub","n"]}),pxt.add("cl_spritze.symptoms",{args:["t","u","p"]}),pxt.add("cl_spritze.recipe",{args:["u","t","n","p","sub"]}),pxt.add("cl_spritze.deseases",{args:["t","u","p","n"]}),pxt.add("cl_spritze.deseasescmn",{args:["t","u","p","n"]}),pxt.add("cl_spritze.deseasesmsk",{args:["t","u","p","n"]}),pxt.add("cl_spritze.livechat",{args:["t","uin","type","p"]}),pxt.add("livechatshow",{base:"/showpxt"}),pxt.add("cl_video",{args:["t","u","p","pp"]}),pxt.add("cl_video_player",{args:["t","u","p","pp"]}),pxt.add("cl_meta_video",{args:["t","u","p","pp"]}),pxt.add("vi",{base:"/img/c/vi.gif",args:["u","p"]}),pxt.add("cl_converter",{args:["t","u","p","type"]}),pxt.add("cl_music",{args:["g","u","t","a","p","pp","c"],auto_args:{pl:function(){return STP.detector_result}}}),pxt.add("em",{args:["g","u","t","a","p","pp","ec","et","ush","usf","usa"],auto_args:{pl:function(){return STP.detector_result}}}),pxt.add("emu",{base:"/showpxt",auto_args:{pl:function(){return STP.detector_result}}}),pxt.add("cl_news",{args:["t","u","p","pp"]}),pxt.add("cl_newstext",{args:["t","u","p","n"]}),pxt.add("cl_games",{args:["u","t","n","p","pp","v"]}),pxt.add("cl_images",{args:["t","u","p","pp"]}),pxt.add("cl_osmino",{args:["t","u","p"]}),pxt.add("cl_ya_market_show",{base:"/showpxt",args:["p","sub","type","time"]}),pxt.add("cl_ya_market_click",{args:["p","sub"]}),pxt.add("cl_market_model",{args:["t","u","p","n"]}),pxt.add("cl_market",{args:["t","u","n","p","pp"]}),pxt.add("cl_spritze.tv-programm",{args:["t","u","p","pp"]}),pxt.add("cl_spritze.job-career",{args:["t","u","p"]}),pxt.add("cl_spritze.job-employer",{args:["t","u","p"]}),pxt.add("cl_person",{args:["t","u","p","pp"]}),pxt.add("cl_recipes",{args:["t","u","p","pp"]}),pxt.add("cl_recipes_all",{args:["p"]}),pxt.add("cl_app",{args:["t","u","p","pp","n"]}),pxt.add("cl_answer",{args:["t","u","p","pp"]}),pxt.add("cl_drugs",{args:["u","t","n","p","pp","v"]}),pxt.add("cl_sport_cup",{args:["st","t","u","p"]}),pxt.add("cl_map",{args:["type","t","u","p","pp"]}),pxt.add("cl_facts",{args:["u","p"]}),pxt.add("cl_download_button",{args:["pl","u","p","n"]}),pxt.add("cl_bank_button",{args:["u","p","n"]}),pxt.add("cl_listen_button",{args:["u","p","n"]}),pxt.add("cl_play_game_button",{args:["u","p","n"]}),pxt.add("cl_hospital_button",{args:["u","p","n"]}),pxt.add("cl_watch_button",{args:["u","p","n"]}),pxt.add("cl_ticket_button",{args:["u","p","n"]}),pxt.add("cl_taxi_button",{args:["u","p","n"]}),pxt.add("cl_howtos",{args:["t","u","p"]}),pxt.add("cl_health_consultations",{args:["t","u","n","p","pp"]}),pxt.add("cl_ifact_show",{base:"/showpxt",args:["type"]}),pxt.add("cl_ifact",{args:["type","t","u","n"]}),pxt.add("mm",{base:"/img/c/mm.gif",args:["u","p"]}),pxt.add("pgn",{args:["t","u","p"]}),pxt.add("link_search",{args:["t","u"]}),pxt.add("vpf",{args:["u","p","t","w","d"]}),pxt.add("cl_automaker",{args:["u","p","pp"]}),pxt.add("c4",{base:"/img/c/c.gif",args:["u","p","v"]}),pxt.add("c4_wiki",{base:"/img/c/c.gif",args:["u","p","n"]}),pxt.add("c5",{args:["t","u","p"]}),pxt.add("c4i_wiki",{args:["u","p","n"]}),pxt.add("c4_show_verified_mark",{base:"/showpxt",args:["type"]}),pxt.add("c4_slink",{args:["u","p","v","pp"]}),pxt.add("c4_nlink",{args:["u","p","v"]}),pxt.add("c4_blink",{args:["u","p","pp"]}),pxt.add("c4_vklink",{args:["u","p","pp","db"]}),pxt.add("c4_oklink",{args:["u","p","pp","db"]}),pxt.add("c4_wlink",{args:["u","p","v","pp","n"]}),pxt.add("c4_wikipedia",{args:["u","t","n","p","pp","v"]}),pxt.add("c4_sitelinks",{args:["u","t","n","p","pp","v"]}),pxt.add("cl_sitesearch",{args:["t","p","uq"]}),pxt.add("cl_likemore",{args:["u","t","d","n","p","pp"]}),pxt.add("likemore_error",{base:"/showpxt",args:["u","t","d"]}),pxt.add("likemore_show",{base:"/showpxt",args:["u","d"]}),pxt.add("likemore_empty",{base:"/showpxt",args:["u","d"]}),pxt.add("c4s",{args:["u","p","n","t"]}),pxt.add("c4s_wiki",{args:["u","p","n","t"]}),pxt.add("c4c",{args:["u","p"]}),pxt.add("c4c_wiki",{args:["u","p"]}),pxt.add("c4_video_torrents",{args:["u","p"]}),pxt.add("c4_microdata_video",{args:["u","p"]}),pxt.add("c4_video_hosting",{args:["u","p"]}),pxt.add("shr",{args:["t"]}),pxt.add("alqs",{args:["u","p"]}),pxt.add("clr_company",{args:["t","u","n"]}),pxt.add("clr_companies",{args:["t","u","n","p"]}),pxt.add("clr_images",{args:["u","t"]}),pxt.add("clr_infocard",{args:["u","t","n"]}),pxt.add("clr_infocard_fd",{args:["act","pt","d","ef","hr"]}),pxt.add("clr_infocard_im",{args:["t","p"]}),pxt.add("clr_infocard_series",{args:["type","t","u","p"]}),pxt.add("clr_infocard_list",{args:["type","u","t","p"]}),pxt.add("clr_infocard_hint",{args:["u","p"]}),pxt.add("clr_recipes_list",{args:["type","u","t","n","p"]}),pxt.add("carousel",{args:["u","t","p"]}),pxt.add("images_err_size",{base:"/showpxt",args:["u"]}),pxt.add("images_err_load",{base:"/showpxt",args:["u"]}),pxt.add("img_err_load",{base:"/showpxt",args:["u"]}),pxt.add("ncl",{args:["t","u","su","p","n"]}),pxt.add("nclrub",{args:["ri","p"]}),pxt.add("ncluster",{args:["t","p"]}),pxt.add("ncltphoto",{args:["u","p","n"]}),pxt.add("ncluster_open",{args:["p"]}),pxt.add("nsrc",{args:["t","u","p","n"]}),pxt.add("nmodal",{args:["t"]}),pxt.add("nmsrc",{args:["t","u","su","p","n"]}),pxt.add("nmpic",{args:["u","p","n"]}),pxt.add("nmrt",{args:["t","u","p","n"]}),pxt.add("nmore",{args:["sf"]}),pxt.add("nclmore",{args:["sf","ri"]}),pxt.add("ncatlink",{args:["u"]}),pxt.add("nthf",{args:["ri"]}),pxt.add("ntopttl",{args:["u"]}),pxt.add("ntop",{args:["u","p"]}),pxt.add("nshare",{args:["t","u","d","p"]}),pxt.add("o",{base:"/img/c/o.gif",args:["v","z"]}),pxt.add("ns_alph",{args:["lt"]}),pxt.add("ns_up",{args:[]}),pxt.add("ns_base_item",{args:["u","name","lt"]}),pxt.add("ns_part",{args:["name","u","n"]}),pxt.add("ns_green_url",{args:["u","name","n"]}),pxt.add("ns_back",{args:[]}),pxt.add("b",{base:"/img/c/b.gif",args:["u"]}),pxt.add("rr",{base:"/img/c/rr.gif",args:["u"]}),pxt.add("rm",{base:"/img/c/rm.gif",args:["u"]}),pxt.add("r4699",{base:"/img/c/r4699.gif",args:["u"]}),pxt.add("trr",{base:"/img/c/trr.gif",args:["u"]}),pxt.add("au",{base:"/img/c/au.gif",args:["u","s","t","l"]}),pxt.add("ya_d",{args:["type","t","u","pp","hmr"]}),pxt.add("ya_d_show_premium",{base:"/showpxt",args:["size","mr"]}),pxt.add("ya_d_show_direct_right",{base:"/showpxt",args:["size"]}),pxt.add("ya_d_show_media",{base:"/showpxt",args:["size"]}),pxt.add("ya_d_show_direct",{base:"/showpxt",args:["size","mr"]}),pxt.add("yadproxy_err",{base:"/showpxt"}),pxt.add("yadobs_err",{base:"/showpxt",args:["p","n"]}),pxt.add("ya_d_show_error_top",{base:"/showpxt"}),pxt.add("ya_d_show_error_sidebar",{base:"/showpxt"}),pxt.add("ya_d_show_error_bottom",{base:"/showpxt"}),pxt.add("serp_error",{base:"/showpxt"}),pxt.add("hasAdblock",{base:"/showpxt",args:[]}),pxt.add("chromeinline",{base:"/showpxt",args:["type"]}),pxt.add("sgset_show",{base:"/showpxt",args:["bs"]}),pxt.add("pr",{args:["t","u","p"]}),pxt.add("tr",{base:"/img/c/tr.gif",args:["t","u","p"]}),pxt.add("map_popup",{args:["t","p","u","n"]})}(jQuery,window,document),$(function(){initializePxtBlocks()}),function(a){"use strict";function b(b,e){this.disabled=!1,this.element=b,this.$element=a(b),this.settings=a.extend({},d,e),this.settings.url=this.settings.url||window.location.href,this.settings.text=this.settings.text||a('meta[property="og:title"]').attr("content"),this.settings.description=this.settings.description||a('meta[property="og:description"]').attr("content"),this.settings.image=this.settings.image||a('meta[property="og:image"]').attr("content"),this._defaults=d,this._name=c,this.init()}var c="share",d={pxtName:"share",pxtParams:[],frParam:"rf",frPrefix:"share_"},e={fb:{baseUrl:"https://www.facebook.com/sharer/sharer.php",urlParam:"u",width:550,height:600},tw:{baseUrl:"https://twitter.com/intent/tweet",urlParam:"url",params:{text:"text",hashtags:"hashtags",via:"via"},width:550,height:420},vk:{baseUrl:"https://vk.com/share.php",urlParam:"url",params:{text:"title",description:"description",image:"image"},width:655,height:450},my:{baseUrl:"https://connect.mail.ru/share",urlParam:"url",width:492,height:600},ok:{baseUrl:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki",urlParam:"st.shareUrl",width:580,height:600}};a.extend(b.prototype,{init:function(){var a=this;return this.$element.on("click","[data-share]",function(b){a.openDialog(b)}),this},enable:function(){return this.disabled=!1,this},disable:function(){return this.disabled=!0,this},openDialog:function(b){if(!this.disabled){var c=this.settings,d=a(b.currentTarget),f=d.attr("data-share"),g=e[f],h=new URI(g.baseUrl),i=new URI(c.url);i.setSearch(c.frParam,c.frPrefix+f),h.setSearch(g.urlParam,i.href()),g.params&&a.each(g.params,function(a,b){c[a]&&h.setSearch(b,c[a].toString())});var j="scrollbars=yes,resizable=yes,toolbar=no,location=yes",k=Math.round(screen.width/2-g.width/2),l=0;screen.height>g.height&&(l=Math.round(screen.height/2-g.height/2));var m=window.open(h.href(),"share_"+f,j+",width="+g.width+",height="+g.height+",left="+k+",top="+l);m&&(m.focus(),this.sendPxt(i,f))}},sendPxt:function(a,b){var c=[this.settings.pxtName,b,a.href()];pxt.apply(pxt,c.concat(this.settings.pxtParams))}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery);var go=go||{};!function(){"use strict";go.SuggestsSettings={API_URL:"/api/v1/sg_history",containerClass:"#js-sugg-modal",csrfToken:null,inited:!1,init:function(){var a=this;a.render(),a.$modal=$("#suggestsModal"),a.$modal.modal(),a.$token=$("#js-suggests-settings-token"),a.csrfToken=a.$token.val(),a.$checkboxWrapper=$("#js-suggests-settings-checkbox-wrapper"),a.$checkbox=$("#js-suggests-settings-checkbox"),a.$clearBtn=$("#js-suggests-settings-clear"),a.$clearSuccessMsg=$("#js-suggests-settings-clear-success"),a.checkboxActiveClass="suggests-settings__checkbox_active",a.historyIsChecking=!1,a.$checkboxWrapper.on("click",function(){a.toggleHistory()}),a.$clearBtn.on("click",function(){a.clearHistory()}),a.inited=!0},bindLink:function(a){var b=this;a.on("click",function(a){a.preventDefault(),b.show(),b.historyIsChecking=!0,b.checkHistoryEnabled(function(a){b.historyEnabled=a,b.$checkbox.toggleClass(b.checkboxActiveClass,b.historyEnabled),b.historyIsChecking=!1})})},getTestParams:function(){var a;return a=go.paramsSticky?$.extend({},go.paramsSticky):$.extend({},{sg_hset:STP.sg_hset,sg_hget:STP.sg_hget})},checkHistoryEnabled:function(a){var b=this;b.data=b.getTestParams(),$.ajax({cache:!1,data:$.extend({},b.data,{_gocsrf:b.csrfToken}),dataType:"json",method:"POST",url:b.API_URL}).done(function(b){if(b&&!b.error){var c;c=!!b.body&&Boolean(b.body.enabled),a&&a(c)}})},start:function(a){var b=this;b.inited||(b.render(),b.init()),b.bindLink(a)},toggleHistory:function(){var a=this;a.historyIsChecking||(a.historyEnabled=!a.historyEnabled,a.$checkbox.toggleClass(a.checkboxActiveClass,a.historyEnabled),$.ajax({cache:!1,data:$.extend(a.data,{_gocsrf:a.csrfToken,enable:a.historyEnabled?1:0}),dataType:"json",method:"POST",url:a.API_URL}),SearchFormSuggest.sg.flushCache(),pxt("sgset",STP.base_section))},clearHistory:function(){var a=this;$.ajax({data:$.extend({},a.data,{_gocsrf:a.csrfToken}),method:"POST",url:a.API_URL+"/delete_all"}).done(function(b){b&&!b.error&&(a.$clearBtn.hide(),a.$clearSuccessMsg.show(),SearchFormSuggest.sg.flushCache())}),pxt("sgclr",STP.base_section)},render:function(){var a=Handlebars.compile($("#suggestsModalTemplate").html());$(this.containerClass).html(a)},show:function(){var a=this;a.$modal.modal("show"),pxt("sgset_show",STP.base_section)}}}();var timeUtils=function(){var a={secs:1e3,mins:6e4,hours:36e5,days:864e5,weeks:6048e5},b=function(a){var b=new Date(a);return b.setHours(0,0,0,0),b},c=function(a,c){return b(c).getTime()-b(a).getTime()},d=function(b,c){return Math.floor(b/a[c])},e=function(a){return a<10?"0"+a:a},f=function(a){var b=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return b[a.getMonth()]},g=function(a){var b=new Date(1e3*a);return b.getDate()+" "+f(b)},h=function(a){var b=new Date(1e3*a);return b.getDate()+" "+f(b)+" "+b.getFullYear()+" г."},i=function(a){var b=new Date(1e3*a);return e(b.getHours())+":"+e(b.getMinutes())},j=function(a,b){var f;f="number"==typeof b?new Date(1e3*b):new Date,a*=1e3;var g=new Date(a),h=f.getTime()-a,i=d(h,"mins"),j=d(c(a,f.getTime()),"days");return i<1?"сейчас":i<60?i+" "+Utils.plural(i,"минуту","минуты","минут")+" назад":0===j?e(g.getHours())+":"+e(g.getMinutes()):1===j?"вчера":e(g.getDate())+"."+e(g.getMonth()+1)+"."+g.getFullYear().toString().slice(-2)},k=function(a,b){var f;f="number"==typeof b?new Date(1e3*b):new Date,a*=1e3;var g=new Date(a),h=f.getTime()-a,i=c(a,f.getTime()),j=d(h,"mins"),k=d(h,"hours"),l=d(i,"days"),m=d(i,"weeks");return j<1?"сейчас":j<60?j+" "+Utils.plural(j,"минуту","минуты","минут")+" назад":k<8?k+" "+Utils.plural(k,"час","часа","часов")+" назад":0===l?"сегодня":1===l?"вчера":l<7?l+" "+Utils.plural(l,"день","дня","дней")+" назад":m<4?m+" "+Utils.plural(m,"неделю","недели","недель")+" назад":e(g.getDate())+"."+e(g.getMonth()+1)+"."+g.getFullYear().toString().slice(-2)};return{chrono:i,news:j,social:k,dayMonth:g,dateFull:h}}();$(document).ready(function(){$("#topmenu__searches").find(".js-topmenu-link").on("click",function(){var a=$("#q").val(),b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=a.replace(b,""),d=new URI(this.href),e=$(this).attr("data-index-url");(""!==c||d.hasSearch("q"))&&(d.escapeQuerySpace(!1),d.setSearch("q",a),this.href=d.href()),e&&""===c&&(this.href=e)})});