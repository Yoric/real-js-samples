// {"framework" : "Rax"}
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define)define("rat-util",[],function(require,exports,module){module.exports=e()});else{("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).RatUtil=e()}}(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var module=t[o]={i:o,l:!1,exports:{}};return e[o].call(module.exports,module,module.exports,n),module.l=!0,module.exports}return n.m=e,n.c=t,n.d=function(exports,e,t){n.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return n.d(e,"a",e),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(module,exports,e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){return Object.prototype.toString.call(e).replace(/\[object\s|]/g,"")}function o(e){var t=!!e&&"length"in e&&e.length;return"Array"===n(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeOf=n,exports.isArrayLike=o,exports.isPromise=function(e){return!!e&&("object"===(void 0===e?"undefined":t(e))||"function"==typeof e)&&"function"==typeof e.then},exports.isPlainObject=function(e){if("Object"!==n(e))return!1;var t=e.constructor;if("function"!=typeof t)return!1;var o=t.prototype;return!("Object"!==n(o)||!o.hasOwnProperty("isPrototypeOf"))},exports.shallowEqual=function(e,n,o){if(e===n)return!0;if(!e||!n||(void 0===e?"undefined":t(e))+(void 0===n?"undefined":t(n))!=="objectobject")return!1;var r=Object.keys(e),i=Object.keys(n),u=r.length;if(u!==i.length)return!1;for(var c,a=0;a<u;a++){if(c=r[a],!Object.prototype.hasOwnProperty.call(n,c))return!1;var f=e[c],s=n[c],l="function"==typeof o?o(f,s,c):void 0;if(!1===l||void 0===l&&f!==s)return!1}return!0},exports.each=function(e,t,n){var r=-1===n,i=e.length,u=r?i-1:0;if(o(e))for(;u<i&&u>=0&&!1!==t.call(e[u],e[u],u);r?u--:u++);else for(u in e)if(e.hasOwnProperty(u)&&!1===t.call(e[u],e[u],u))break;return e},exports.pickOthers=function(e,t){var o={},i="Array"===n(e);for(var u in t)r(u,e,i)||(o[u]=t[u]);return o},exports.pickAttrsWith=function(e,t){var n={};for(var o in e)o.match(t)&&(n[o]=e[o]);return n};var r=function(e,t,n){return n?t.indexOf(e)>-1:e in t}},function(module,exports,e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.matches=exports.hasDOM=void 0,exports.hasClass=i,exports.addClass=u,exports.removeClass=c,exports.toggleClass=function(e,t){if(!r||!e)return!1;if(e.classList)return e.classList.toggle(t);var n=i(e,t);return n?c(e,t,!0):u(e,t,!0),!n},exports.getStyle=function(e,t){if(!r||!e)return null;var o=function(e){return e&&1===e.nodeType?window.getComputedStyle(e,null):{}}(e);return 1===arguments.length?o:(t=s[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,function(e,t,n){if(t=t.toLowerCase(),"auto"===n){if("height"===t)return e.offsetHeight||0;if("width"===t)return e.offsetWidth||0}return t in f||(f[t]=a.test(t)),f[t]?parseFloat(n)||0:n}(e,t,o.getPropertyValue((0,n.hyphenate)(t))||e.style[(0,n.camelcase)(t)]))},exports.setStyle=l,exports.scrollbar=function(){var e=document.createElement("div");l(e,{position:"absolute",width:"100px",height:"100px",overflow:"scroll",top:"-9999px"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}},exports.getOffset=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}};var n=e(2),o=e(0),r=exports.hasDOM="undefined"!=typeof window&&!!window.document&&!!document.createElement;function i(e,t){return!(!r||!e)&&(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)}function u(e,t,n){r&&e&&(e.classList?e.classList.add(t):(!0===n||!i(e,t))&&(e.className+=" "+t))}function c(e,t,n){r&&e&&(e.classList?e.classList.remove(t):(!0===n||i(e,t))&&(e.className=e.className.replace(t,"").replace(/\s+/g," ").trim()))}exports.matches=function(){var e=null;if(r){var t=document.body||document.head;e=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":null}return function(t,n){return!(!r||!t)&&!!e&&t[e](n)}}();var a=/margin|padding|width|height|max|min|offset|size/i,f={left:1,top:1,right:1,bottom:1};var s={cssFloat:1,styleFloat:1,float:1};function l(e,i,u){return!(!r||!e)&&void("object"===(void 0===i?"undefined":t(i))&&2===arguments.length?(0,o.each)(i,function(t,n){return l(e,n,t)}):(i=s[i]?"cssFloat"in e.style?"cssFloat":"styleFloat":i,"number"==typeof u&&a.test(i)&&(u+="px"),e.style[(0,n.camelcase)(i)]=u))}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.camelcase=function(e){return/-/.test(e)?e.toLowerCase().replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}):e||""},exports.hyphenate=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,CONTROL:17,OPTION:18,CMD:91,COMMAND:91,DELETE:8},module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KEYCODE=exports.guid=exports.focus=exports.support=exports.str=exports.obj=exports.log=exports.func=exports.events=exports.env=exports.dom=void 0;var t=p(e(1)),n=p(e(5)),o=p(e(6)),r=p(e(7)),i=p(e(8)),u=p(e(0)),c=p(e(2)),a=p(e(9)),f=p(e(10)),s=d(e(11)),l=d(e(3));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}exports.dom=t,exports.env=n,exports.events=o,exports.func=r,exports.log=i,exports.obj=u,exports.str=c,exports.support=a,exports.focus=f,exports.guid=s.default,exports.KEYCODE=l.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=exports.ieVersion="undefined"==typeof document?void 0:document.documentMode;exports.default={ieVersion:t}},function(module,exports,e){"use strict";function t(e,t,n,o){e.removeEventListener&&e.removeEventListener(t,n,o||!1)}function n(e,n,o,r){return e.addEventListener&&e.addEventListener(n,o,r||!1),{off:function(){return t(e,n,o,r)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=n,exports.once=function(e,o,r,i){return n(e,o,function n(){for(var u=arguments.length,c=Array(u),a=0;a<u;a++)c[a]=arguments[a];r.apply(this,c),t(e,o,n,i)},i)},exports.off=t},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=void 0,exports.makeChain=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var r=0,i=t.length;r<i;r++)t[r]&&t[r].apply&&t[r].apply(this,n)}},exports.bindCtx=function(e,t,n){"string"==typeof t&&(t=[t]),n=n||e,t.forEach(function(t){n[t]=n[t].bind(e)})},exports.promiseCall=function(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return(0,t.isPromise)(e)?e.then(function(e){return o(e),e}).catch(function(e){r(e)}):!1===e?r(e):o(e)};var t=e(0),n=exports.noop=function(){}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deprecated=function(e,t,n){if((!window.process||!window.process.env||"production"!==window.process.env.NODE_ENV)&&"undefined"!=typeof console&&console.error)return console.error("Warning: [ "+e+" ] is deprecated at [ "+n+" ], use [ "+t+" ] instead of it.")},exports.warning=function(e){if("undefined"!=typeof console&&console.error)return console.error("Warning: "+e)}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flex=exports.transition=exports.animation=void 0;var t=e(1),n=e(0);function o(e){if(!t.hasDOM)return!1;var o=document.createElement("div"),r=!1;return(0,n.each)(e,function(e,t){if(void 0!==o.style[t])return r={end:e},!1}),r}exports.animation=o({WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"}),exports.transition=o({WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"}),exports.flex=function(e){if(!t.hasDOM)return!1;var o=document.createElement("div"),r=!1;return(0,n.each)(e,function(e,t){return(0,n.each)(e,function(e){try{o.style[t]=e,r=r||o.style[t]===e}catch(e){}return!r}),!r}),r}({display:["flex","-webkit-flex","-moz-flex","-ms-flexbox"]})},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFocusNodeList=u,exports.saveLastFocusNode=function(){c=document.activeElement},exports.clearLastFocusNode=function(){c=null},exports.backLastFocusNode=function(){if(c)try{c.focus()}catch(e){}},exports.limitTabRange=function(e,t){if(t.keyCode===o.default.TAB){var n=u(e),r=n.length-1,i=n.indexOf(document.activeElement);if(i>-1){var c=i+(t.shiftKey?-1:1);c<0&&(c=r),c>r&&(c=0),n[c].focus(),t.preventDefault()}}};var t,n=e(3),o=(t=n)&&t.__esModule?t:{default:t},r=e(0);function i(e){var t=e.nodeName.toLowerCase(),n=parseInt(e.getAttribute("tabindex"),10),o=!window.Number.isNaN(n)&&n>-1;return!!function(e){for(;e&&e!==document.body&&e!==document.documentElement;){if("none"===e.style.display||"hidden"===e.style.visibility)return!1;e=e.parentNode}return!0}(e)&&("input"===t?!e.disabled&&"hidden"!==e.type:["select","textarea","button"].indexOf(t)>-1?!e.disabled:"a"===t&&e.getAttribute("href")||o)}function u(e){var t=[],n=e.querySelectorAll("*");return(0,r.each)(n,function(e){if(i(e)){var n=e.getAttribute("data-auto-focus")?"unshift":"push";t[n](e)}}),i(e)&&t.unshift(e),t}var c=null},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(e=e||"")+(t++).toString(36)};var t=Date.now();module.exports=exports.default}])});// {"framework" : "Rax"}
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define)define("rat-overlay",["rat-frame","rat-util"],function(require,exports,module){module.exports=e()});else{("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).RatOverlay=e()}}(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var module=t[o]={i:o,l:!1,exports:{}};return e[o].call(module.exports,module,module.exports,n),module.l=!0,module.exports}return n.m=e,n.c=t,n.d=function(exports,e,t){n.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return n.d(e,"a",e),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(module,exports){module.exports=require("rat-frame")},function(module,exports){module.exports=require("rat-util")},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n){if(!e)return null;if("string"==typeof e)return document.getElementById(e);if("function"==typeof e&&(e=e(n)),!e)return null;try{return(0,t.findDOMNode)(e)}catch(t){return e}};var t=e(0);module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n,o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e(0),a=e(1),s=p(e(7)),l=p(e(4)),u=p(e(5)),c=p(e(2));function p(e){return e&&e.__esModule?e:{default:e}}var f={overlayInner:{width:"300px",height:"100px",padding:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(153,153,153)",background:"#FFFFFF",boxShadow:"2px 2px 20px rgba(0,0,0,0.15)",zIndex:101},expandInDown:{WebkitAnimationName:"expandInDown",animationName:"expandInDown",WebkitAnimationIterationCount:1,animationIterationCount:1,WebkitAnimationDuration:".3s",animationDuration:".3s",WebkitAnimationDelay:"0s",animationDelay:"0s",WebkitAnimationTimingFunction:"cubic-bezier(.23,1,.32,1)",animationTimingFunction:"cubic-bezier(.23,1,.32,1)",WebkitAnimationFillMode:"both",animationFillMode:"both",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},expandOutUp:{WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitAnimationName:"expandOutUp",animationName:"expandOutUp",WebkitAnimationIterationCount:1,animationIterationCount:1,WebkitAnimationDuration:".15s",animationDuration:".15s",WebkitAnimationDelay:"0s",animationDelay:"0s",WebkitAnimationTimingFunction:"cubic-bezier(.23,1,.32,1)",animationTimingFunction:"cubic-bezier(.23,1,.32,1)",WebkitAnimationFillMode:"both",animationFillMode:"both"},expandInUp:{WebkitAnimationName:"expandInUp",animationName:"expandInUp",WebkitAnimationIterationCount:1,animationIterationCount:1,WebkitAnimationDuration:".3s",animationDuration:".3s",WebkitAnimationDelay:"0s",animationDelay:"0s",WebkitAnimationTimingFunction:"cubic-bezier(.23,1,.32,1)",animationTimingFunction:"cubic-bezier(.23,1,.32,1)",WebkitAnimationFillMode:"both",animationFillMode:"both",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},expandOutDown:{WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitAnimationName:"expandOutDown",animationName:"expandOutDown",WebkitAnimationIterationCount:1,animationIterationCount:1,WebkitAnimationDuration:".15s",animationDuration:".15s",WebkitAnimationDelay:"0s",animationDelay:"0s",WebkitAnimationTimingFunction:"cubic-bezier(.23,1,.32,1)",animationTimingFunction:"cubic-bezier(.23,1,.32,1)",WebkitAnimationFillMode:"both",animationFillMode:"both"},maskStyle:{position:"fixed",zIndex:100,top:0,left:0,width:"100%",height:"100%",background:"#000",WebkitTransition:"opacity .3s",transition:"opacity .3s",opacity:.3}},d=a.focus.saveLastFocusNode,h=a.focus.getFocusNodeList,y=a.focus.backLastFocusNode,m=a.func.makeChain,v=a.func.noop,b=a.func.bindCtx,g=function(e){try{var t=window.getComputedStyle(e,"::-webkit-scrollbar");return!t||"none"!==t.getPropertyValue("display")}catch(e){}return!0},T=function(){var e=document.documentElement;return e.scrollHeight>e.clientHeight&&a.dom.scrollbar().width>0&&g(document.documentElement)&&g(document.body)},k=["-webkit-","-moz-","-o-","ms-",""],P=function(e,t){for(var n=window.getComputedStyle(e),o="",i=0;i<k.length&&!(o=n.getPropertyValue(k[i]+t));i++);return o},w=[],C=void 0,_=void 0,O=(n=t=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveContentRef=function(e){n.contentRef=e},n.saveGatewayRef=function(e){n.gatewayRef=e},n.state={visible:e.visible,status:"none",animation:n.getAnimation(e)},n.lastAlign=e.align,b(n,["handlePosition","handleAnimateEnd","handleDocumentKeyDown","handleDocumentClick","handleMaskClick","beforeOpen","beforeClose"]),n.timeoutMap={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentWillMount",value:function(){this.props.visible&&(this.beforeOpen(),this.props.beforeOpen(),this.state.animation&&a.support.animation&&this.enter())}},{key:"componentDidMount",value:function(){this.componentDidUpdate({visible:!1}),this.addDocumentEvents(),s.default.addOverlay(this),this.state.visible&&(this._isMounted=!0)}},{key:"componentWillReceiveProps",value:function(e){!this._isMounted&&e.visible&&(this._isMounted=!0);var t=!this.props.visible&&e.visible,n=this.props.visible&&!e.visible;t?(this.beforeOpen(),e.beforeOpen()):n&&(this.beforeClose(),e.beforeClose()),(e.animation||!1===e.animation)&&this.setState({animation:e.animation}),!1!==e.animation&&a.support.animation?t?this.enter():n&&this.leave():this.setState({visible:e.visible})}},{key:"componentDidUpdate",value:function(e){var t=this,n=!e.visible&&this.props.visible,o=e.visible&&!this.props.visible;if(this.state.animation&&a.support.animation)(n||o)&&this.addAnimationEvents();else{var i=this.getWrapperNode();n?setTimeout(function(){t.props.onOpen(),t.props.afterOpen(),a.dom.addClass(i,"opened"),s.default.addOverlay(t)}):o&&(this.props.onClose(),this.props.afterClose(),a.dom.removeClass(i,"opened"),s.default.removeOverlay(this)),this.setFocusNode()}}},{key:"componentWillUnmount",value:function(){this._isDestroyed=!0,this._isMounted=!1,s.default.removeOverlay(this),this.removeDocumentEvents(),this.focusTimeout&&clearTimeout(this.focusTimeout),this._animation&&(this._animation.off(),this._animation=null),this.beforeClose()}},{key:"getAnimation",value:function(e){return!1!==e.animation&&(e.animation?e.animation:this.getAnimationByAlign(e.align))}},{key:"getAnimationByAlign",value:function(e){switch(e[0]){case"t":return{in:"expandInDown",out:"expandOutUp"};case"b":return{in:"expandInUp",out:"expandOutDown"};default:return{in:"expandInDown",out:"expandOutUp"}}}},{key:"addAnimationEvents",value:function(){var e=this;setTimeout(function(){var t=e.getContentNode();if(t){var n=(0,a.guid)();e._animation=a.events.on(t,a.support.animation.end,e.handleAnimateEnd.bind(e,n));var o=(parseFloat(P(t,"animation-delay"))||0)+(parseFloat(P(t,"animation-duration"))||0);o&&(e.timeoutMap[n]=setTimeout(function(){e.handleAnimateEnd(n)},1e3*o+200))}})}},{key:"handlePosition",value:function(e){var t=e.align.join(" ");!("animation"in this.props)&&this.props.needAdjust&&this.lastAlign!==t&&this.setState({animation:this.getAnimationByAlign(t)}),this.lastAlign=t}},{key:"handleAnimateEnd",value:function(e){this.timeoutMap[e]&&clearTimeout(this.timeoutMap[e]),delete this.timeoutMap[e],this._animation&&(this._animation.off(),this._animation=null),this._isMounted&&("leaving"===this.state.status?(this.setState({visible:!1,status:"none"}),this.onLeaved()):"entering"===this.state.status&&(this.setState({status:"none"}),this.onEntered()))}},{key:"enter",value:function(){var e=this;this.setState({visible:!0,status:"entering"},function(){setTimeout(function(){e._isDestroyed||e.onEntering()})})}},{key:"leave",value:function(){this.setState({status:"leaving"}),this.onLeaving()}},{key:"onEntering",value:function(){var e=this.getWrapperNode();a.dom.addClass(e,"opened"),this.props.onOpen()}},{key:"onLeaving",value:function(){var e=this.getWrapperNode();a.dom.removeClass(e,"opened"),this.props.onClose()}},{key:"onEntered",value:function(){s.default.addOverlay(this),this.setFocusNode(),this.props.afterOpen()}},{key:"onLeaved",value:function(){s.default.removeOverlay(this),this.setFocusNode(),this.props.afterClose()}},{key:"beforeOpen",value:function(){if(this.props.disableScroll){if(0===w.length){var e={overflowY:"hidden"},t=document.body;C=t.style.overflowY,T()&&(_=t.style.paddingRight,e.paddingRight=a.dom.getStyle(t,"paddingRight")+a.dom.scrollbar().width+"px"),a.dom.setStyle(t,e)}w.push(this)}}},{key:"beforeClose",value:function(){if(this.props.disableScroll){var e=w.indexOf(this);if(e>-1){if(1===w.length){var t={overflowY:C};T()&&(t.paddingRight=_),a.dom.setStyle(document.body,t),C=void 0,_=void 0}w.splice(e,1)}}}},{key:"setFocusNode",value:function(){var e=this;this.props.autoFocus&&(this.state.visible&&!this._hasFocused?(d(),this.focusTimeout=setTimeout(function(){var t=e.getContentNode();if(t){var n=h(t);n.length&&n[0].focus(),e._hasFocused=!0}},100)):!this.state.visible&&this._hasFocused&&(y(),this._hasFocused=!1))}},{key:"getContent",value:function(){return this.contentRef}},{key:"getContentNode",value:function(){return(0,r.findDOMNode)(this.contentRef)}},{key:"getWrapperNode",value:function(){return this.gatewayRef?this.gatewayRef.getChildNode():null}},{key:"addDocumentEvents",value:function(){this.props.canCloseByEsc&&(this._keydownEvents=a.events.on(document,"keydown",this.handleDocumentKeyDown)),this.props.canCloseByOutSideClick&&(this._clickEvents=a.events.on(document,"click",this.handleDocumentClick))}},{key:"removeDocumentEvents",value:function(){this._keydownEvents&&(this._keydownEvents.off(),this._keydownEvents=null),this._clickEvents&&(this._clickEvents.off(),this._clickEvents=null)}},{key:"handleDocumentKeyDown",value:function(e){this.state.visible&&e.keyCode===a.KEYCODE.ESC&&s.default.isCurrentOverlay(this)&&this.props.onRequestClose("keyboard",e)}},{key:"handleDocumentClick",value:function(e){var t=this;if(this.state.visible){var n=this.props.safeNode,o=Array.isArray(n)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):[n];o.unshift(function(){return t.getWrapperNode()});for(var i,r=0;r<o.length;r++)if((i=(0,c.default)(o[r],this.props))&&(i===e.target||i.contains(e.target)||e.target!==document&&!document.documentElement.contains(e.target)))return;this.props.onRequestClose("docClick",e)}}},{key:"handleMaskClick",value:function(e){this.props.canCloseByMask&&this.props.onRequestClose("maskClick",e)}},{key:"getInstance",value:function(){return this}},{key:"render",value:function(){var e=this.props,t=(e.className,e.style),n=e.children,i=e.target,a=e.align,s=e.offset,c=e.container,p=e.hasMask,d=e.needAdjust,h=e.beforePosition,y=e.onPosition,v=e.wrapperStyle,b=e.shouldUpdatePosition,g=e.cache,T=(e.wrapperClassName,this.state),k=T.visible,P=T.status,w=(T.animation,k||g&&this._isMounted?n:null);if(w){var C=r.Children.only(w),_={};if("entering"===P?_=f.expandInUp:"leaving"===P&&(_=f.expandOutUp),"string"==typeof C.ref)throw new Error("Can not set ref by string in Overlay, use function instead.");w=(0,r.cloneElement)(C,{style:o({},f.overlayInner,_,C.props.style,t),ref:m(this.saveContentRef,C.ref),"aria-hidden":!k&&g&&this._isMounted}),a&&(w=(0,r.createElement)(u.default,{children:w,target:i,align:a,offset:s,needAdjust:d,beforePosition:h,onPosition:m(this.handlePosition,y),shouldUpdatePosition:"leaving"!==P&&b}));var O=Object.assign({},{display:k?"":"none"},v);w=(0,r.createElement)("div",{style:O},p?(0,r.createElement)("div",{style:f.maskStyle,onClick:this.handleMaskClick}):null,w)}return(0,r.createElement)(l.default,o({container:c,target:i,children:w},{ref:this.saveGatewayRef}))}}]),t}(),t.propTypes={pure:r.PropTypes.bool,className:r.PropTypes.string,style:r.PropTypes.object,children:r.PropTypes.any,visible:r.PropTypes.bool,onRequestClose:r.PropTypes.func,target:r.PropTypes.any,align:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.bool]),offset:r.PropTypes.array,container:r.PropTypes.any,hasMask:r.PropTypes.bool,canCloseByEsc:r.PropTypes.bool,canCloseByOutSideClick:r.PropTypes.bool,canCloseByMask:r.PropTypes.bool,beforeOpen:r.PropTypes.func,onOpen:r.PropTypes.func,afterOpen:r.PropTypes.func,beforeClose:r.PropTypes.func,onClose:r.PropTypes.func,afterClose:r.PropTypes.func,beforePosition:r.PropTypes.func,onPosition:r.PropTypes.func,shouldUpdatePosition:r.PropTypes.bool,autoFocus:r.PropTypes.bool,needAdjust:r.PropTypes.bool,disableScroll:r.PropTypes.bool,cache:r.PropTypes.bool,safeNode:r.PropTypes.any,wrapperClassName:r.PropTypes.string,wrapperStyle:r.PropTypes.object,animation:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.bool])},t.defaultProps={pure:!1,visible:!1,onRequestClose:v,target:u.default.VIEWPORT,align:"tl bl",offset:[0,0],hasMask:!1,canCloseByEsc:!0,canCloseByOutSideClick:!0,canCloseByMask:!0,beforeOpen:v,onOpen:v,afterOpen:v,beforeClose:v,onClose:v,afterClose:v,beforePosition:v,onPosition:v,shouldUpdatePosition:!1,autoFocus:!1,needAdjust:!0,disableScroll:!1,cache:!1},n);exports.default=O,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n,o,i=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e(0),a=e(1),s=e(2),l=(o=s)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=a.func.makeChain,p=(n=t=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),o.saveChildRef=function(e){o.child=e},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){this.containerNode=this.getContainerNode(this.props),this.forceUpdate()}},{key:"componentWillReceiveProps",value:function(e){this.containerNode=this.getContainerNode(e)}},{key:"getContainerNode",value:function(e){var t=(0,l.default)(e.target);return(0,l.default)(e.container,t)}},{key:"getChildNode",value:function(){return(0,r.findDOMNode)(this.child)}},{key:"render",value:function(){if(!this.containerNode)return null;var e=this.props.children,t=e?r.Children.only(e):null;if(!t)return null;if("string"==typeof t.ref)throw new Error("Can not set ref by string in Gateway, use function instead.");return t=(0,r.cloneElement)(t,{ref:c(this.saveChildRef,t.ref)}),(0,r.createPortal)(t,this.containerNode)}}]),t}(),t.propTypes={children:r.PropTypes.node,container:r.PropTypes.any,target:r.PropTypes.any},t.defaultProps={container:function(){return document.body}},n);exports.default=p,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n,o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e(0),r=e(1),a=l(e(8)),s=l(e(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.func.noop,c=r.func.bindCtx,p=a.default.place,f=(n=t=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c(n,["handleResize"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.setPosition(),this.props.needListenResize&&r.events.on(window,"resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(e){("align"in e&&e.align!==this.props.align||e.shouldUpdatePosition)&&(this.shouldUpdatePosition=!0)}},{key:"componentDidUpdate",value:function(){this.shouldUpdatePosition&&(this.setPosition(),this.shouldUpdatePosition=!1)}},{key:"componentWillUnmount",value:function(){this.props.needListenResize&&r.events.off(window,"resize",this.handleResize),clearTimeout(this.resizeTimeout)}},{key:"setPosition",value:function(){var e=this.props,t=e.align,n=e.offset,o=e.beforePosition,i=e.onPosition,a=e.needAdjust,s=e.isRtl;o();var l=this.getContentNode(),u=this.getTargetNode();if(l&&u){var c=p({pinElement:l,baseElement:u,align:t,offset:n,needAdjust:a,isRtl:s}),f=r.dom.getStyle(l,"top"),d=r.dom.getStyle(l,"left");i({align:c.split(" "),top:f,left:d},l)}}},{key:"getContentNode",value:function(){return(0,i.findDOMNode)(this)}},{key:"getTargetNode",value:function(){var e=this.props.target;return e===a.default.VIEWPORT?a.default.VIEWPORT:(0,s.default)(e,this.props)}},{key:"handleResize",value:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.setPosition()},200)}},{key:"render",value:function(){return i.Children.only(this.props.children)}}]),t}(),t.VIEWPORT=a.default.VIEWPORT,t.propTypes={children:i.PropTypes.node,target:i.PropTypes.any,align:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.bool]),offset:i.PropTypes.array,beforePosition:i.PropTypes.func,onPosition:i.PropTypes.func,needAdjust:i.PropTypes.bool,needListenResize:i.PropTypes.bool,shouldUpdatePosition:i.PropTypes.bool,isRtl:i.PropTypes.bool},t.defaultProps={align:"tl bl",offset:[0,0],beforePosition:u,onPosition:u,needAdjust:!0,needListenResize:!0,shouldUpdatePosition:!1,isRtl:!1},n);exports.default=f,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});e(0);var t=r(e(3)),n=r(e(4)),o=r(e(5)),i=r(e(9));function r(e){return e&&e.__esModule?e:{default:e}}t.default.Gateway=n.default,t.default.Position=o.default,t.default.Popup=i.default,exports.default=t.default,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={allOverlays:[],addOverlay:function(e){this.removeOverlay(e),this.allOverlays.unshift(e)},isCurrentOverlay:function(e){return e&&this.allOverlays[0]===e},removeOverlay:function(e){var t=this.allOverlays.indexOf(e);t>-1&&this.allOverlays.splice(t,1)}},module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n,o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e(1);var r=i.dom.getStyle,a=i.dom.setStyle,s=function(){return window.pageXOffset||document.documentElement.scrollLeft},l=function(){return window.pageYOffset||document.documentElement.scrollTop};var u=(n=t=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.pinElement=t.pinElement,this.baseElement=t.baseElement,this.align=t.align||"tl tl",this.offset=t.offset||[0,0],this.needAdjust=t.needAdjust||!1,this.isRtl=t.isRtl||!1}return o(e,[{key:"setPosition",value:function(){var e=this.pinElement,t=this.baseElement,n=this._getExpectedAlign(),o=void 0,i=void 0,s=void 0;if("viewport"!==e){"fixed"===r(e,"position")?o=!0:(a(e,"position","absolute"),o=!1),i="viewport"!==t&&"fixed"===r(t,"position");for(var l=0;l<n.length;l++){var u=n[l],c=this._normalizePosition(e,u.split(" ")[0],o),p=this._normalizePosition(t,u.split(" ")[1],o),f=this._getParentOffset(e),d=o&&i?this._getLeftTop(t):p.offset(),h=d.top+p.y-f.top-c.y+this.offset[1],y=d.left+p.x-f.left-c.x+this.offset[0];if(a(e,{left:y+"px",top:h+"px"}),s||(s={left:y,top:h}),this._isInViewport(e))return u}var m=this._makeElementInViewport(e,s.left,"Left",o),v=this._makeElementInViewport(e,s.top,"Top",o);return a(e,{left:m+"px",top:v+"px"}),n[0]}}},{key:"_getParentOffset",value:function(e){var t=e.offsetParent||document.documentElement,n=void 0;return(n=t===document.body&&"static"===r(t,"position")?{top:0,left:0}:this._getElementOffset(t)).top+=parseFloat(r(t,"border-top-width"),10),n.left+=parseFloat(r(t,"border-left-width"),10),n}},{key:"_makeElementInViewport",value:function(e,t,n,o){var i=t,a=document.documentElement,s=e.offsetParent||document.documentElement;return i<0&&(o?i=0:s===document.body&&"static"===r(s,"position")&&(i=Math.max(a["scroll"+n],document.body["scroll"+n]))),i}},{key:"_normalizePosition",value:function(e,t,n){var o=this._normalizeElement(e,n);return this._normalizeXY(o,t),o}},{key:"_normalizeXY",value:function(e,t){var n=t.split("")[1],o=t.split("")[0];return e.x=this._xyConverter(n,e,"width"),e.y=this._xyConverter(o,e,"height"),e}},{key:"_xyConverter",value:function(e,t,n){var o=e.replace(/t|l/gi,"0%").replace(/c/gi,"50%").replace(/b|r/gi,"100%").replace(/(\d+)%/gi,function(e,o){return t.size()[n]*(o/100)});return parseFloat(o,10)||0}},{key:"_getLeftTop",value:function(e){return{left:parseFloat(r(e,"left"))||0,top:parseFloat(r(e,"top"))||0}}},{key:"_normalizeElement",value:function(e,t){var n=this,o={element:e,x:0,y:0},i="viewport"===e,r=document.documentElement;return o.offset=function(){return t?{left:0,top:0}:i?{left:s(),top:l()}:n._getElementOffset(e)},o.size=function(){return i?{width:r.clientWidth,height:r.clientHeight}:{width:e.offsetWidth,height:e.offsetHeight}},o}},{key:"_getElementOffset",value:function(e){var t=e.getBoundingClientRect(),n=document.documentElement,o=document.body,i=n.clientLeft||o.clientLeft||0,r=n.clientTop||o.clientTop||0;return{left:t.left+(s()-i),top:t.top+(l()-r)}}},{key:"_getExpectedAlign",value:function(){var e=this.isRtl?this._replaceAlignDir(this.align,/l|r/g,{l:"r",r:"l"}):this.align,t=[e];return this.needAdjust&&(/t|b/g.test(e)&&t.push(this._replaceAlignDir(e,/t|b/g,{t:"b",b:"t"})),/l|r/g.test(e)&&t.push(this._replaceAlignDir(e,/l|r/g,{l:"r",r:"l"})),/c/g.test(e)&&(t.push(this._replaceAlignDir(e,/c(?= |$)/g,{c:"l"})),t.push(this._replaceAlignDir(e,/c(?= |$)/g,{c:"r"}))),t.push(this._replaceAlignDir(e,/l|r|t|b/g,{l:"r",r:"l",t:"b",b:"t"}))),t}},{key:"_replaceAlignDir",value:function(e,t,n){return e.replace(t,function(e){return n[e]})}},{key:"_isInViewport",value:function(e){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,o=function(e){var t=0,n=0,o=e.offsetHeight,i=e.offsetWidth;do{isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft)}while(null!==(e=e.offsetParent));return{top:t-(document.documentElement.scrollTop||document.body.scrollTop),left:n-(document.documentElement.scrollLeft||document.body.scrollLeft),height:o,width:i}}(e);return o.left>=0&&o.left+e.offsetWidth<=t&&o.top>=0&&o.top+e.offsetHeight<=n}}]),e}(),t.VIEWPORT="viewport",t.place=function(e){return new u(e).setPosition()},n);exports.default=u,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n,o,i=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e(0),s=e(1),l=e(3),u=(o=l)&&o.__esModule?o:{default:o};var c=s.func.noop,p=s.func.makeChain,f=s.func.bindCtx,d=(n=t=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:void 0===e.visible?e.defaultVisible:e.visible},f(n,["handleTriggerClick","handleTriggerKeyDown","handleTriggerMouseEnter","handleTriggerMouseLeave","handleTriggerFocus","handleTriggerBlur","handleContentMouseEnter","handleContentMouseLeave","handleContentMouseDown","handleRequestClose"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"componentWillUnmount",value:function(){var e=this;["_timer","_hideTimer","_showTimer"].forEach(function(t){e[t]&&clearTimeout(e[t])})}},{key:"handleVisibleChange",value:function(e,t,n){"visible"in this.props||this.setState({visible:e}),this.props.onVisibleChange(e,t,n)}},{key:"handleTriggerClick",value:function(e){this.state.visible&&!this.props.canCloseByTrigger||this.handleVisibleChange(!this.state.visible,"fromTrigger",e)}},{key:"handleTriggerKeyDown",value:function(e){(e.keyCode===s.KEYCODE.SPACE||e.keyCode===s.KEYCODE.ENTER)&&(e.preventDefault(),this.handleTriggerClick(e))}},{key:"handleTriggerMouseEnter",value:function(e){var t=this;this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null),this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible||(this._showTimer=setTimeout(function(){t.handleVisibleChange(!0,"fromTrigger",e)},this.props.delay))}},{key:"handleTriggerMouseLeave",value:function(e,t){var n=this;this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible&&(this._hideTimer=setTimeout(function(){n.handleVisibleChange(!1,t||"fromTrigger",e)},this.props.delay))}},{key:"handleTriggerFocus",value:function(e){this.handleVisibleChange(!0,"fromTrigger",e)}},{key:"handleTriggerBlur",value:function(e){this._isForwardContent||this.handleVisibleChange(!1,"fromTrigger",e),this._isForwardContent=!1}},{key:"handleContentMouseDown",value:function(){this._isForwardContent=!0}},{key:"handleContentMouseEnter",value:function(){clearTimeout(this._hideTimer)}},{key:"handleContentMouseLeave",value:function(e){this.handleTriggerMouseLeave(e,"fromContent")}},{key:"handleRequestClose",value:function(e,t){this.handleVisibleChange(!1,e,t)}},{key:"renderTrigger",value:function(){var e=this,t=this.props,n=t.trigger,o=t.disabled,i={key:"trigger","aria-haspopup":!0,"aria-expanded":this.state.visible};if(!o){var r=this.props.triggerType,s=Array.isArray(r)?r:[r],l=n.props,u=l.onClick,c=l.onKeyDown,f=l.onMouseEnter,d=l.onMouseLeave,h=l.onFocus,y=l.onBlur;s.forEach(function(t){switch(t){case"click":i.onClick=p(e.handleTriggerClick,u),i.onKeyDown=p(e.handleTriggerKeyDown,c);break;case"hover":i.onMouseEnter=p(e.handleTriggerMouseEnter,f),i.onMouseLeave=p(e.handleTriggerMouseLeave,d);break;case"focus":i.onFocus=p(e.handleTriggerFocus,h),i.onBlur=p(e.handleTriggerBlur,y)}})}return(0,a.cloneElement)(n,i)}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.children,o=t.triggerType,i=Array.isArray(o)?o:[o],r=a.Children.only(n),s=r.props,l=s.onMouseDown,u=s.onMouseEnter,c=s.onMouseLeave,f={key:"portal"};return i.forEach(function(t){switch(t){case"focus":f.onMouseDown=p(e.handleContentMouseDown,l);break;case"hover":f.onMouseEnter=p(e.handleContentMouseEnter,u),f.onMouseLeave=p(e.handleContentMouseLeave,c)}}),(0,a.cloneElement)(r,f)}},{key:"renderPortal",value:function(){var e=this,t=this.props,n=t.target,o=t.safeNode,r=t.followTrigger,s=t.wrapperStyle,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["target","safeNode","followTrigger","wrapperStyle"]),c=this.props.container,p=function(){return(0,a.findDOMNode)(e)||{}},f=Array.isArray(o)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)):[o];f.unshift(p);var d=s||{};return r&&(c=function(e){return e.parentNode},d.position="relative"),(0,a.createElement)(u.default,i({},l,{key:"overlay",ref:function(t){return e.overlay=t},visible:this.state.visible,target:n||p,container:c,safeNode:f,wrapperStyle:d,onRequestClose:this.handleRequestClose}),this.renderContent())}},{key:"render",value:function(){return[this.renderTrigger(),this.renderPortal()]}}]),t}(),t.propTypes={children:a.PropTypes.node,trigger:a.PropTypes.element,triggerType:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.array]),visible:a.PropTypes.bool,defaultVisible:a.PropTypes.bool,onVisibleChange:a.PropTypes.func,disabled:a.PropTypes.bool,delay:a.PropTypes.number,canCloseByTrigger:a.PropTypes.bool,target:a.PropTypes.any,safeNode:a.PropTypes.any,followTrigger:a.PropTypes.bool,container:a.PropTypes.any,wrapperStyle:a.PropTypes.object},t.defaultProps={triggerType:"hover",defaultVisible:!1,onVisibleChange:c,disabled:!1,delay:200,canCloseByTrigger:!0,followTrigger:!1,container:function(){return document.body}},n);exports.default=d,module.exports=exports.default}])});