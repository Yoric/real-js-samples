!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=134)}([function(e,t,r){"use strict";(function(n,o){var i,a,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
s=function(){function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,a=void 0,s=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(a?a(v):S())},l="undefined"!=typeof window?window:void 0,d=l||{},c=d.MutationObserver||d.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function A(){var e=setTimeout;return function(){return e(v,1)}}var h=new Array(1e3);function v(){for(var e=0;e<r;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}r=0}var y,m,E,_,S=void 0;function g(e,t){var r=this,n=new this.constructor(O);void 0===n[b]&&U(n);var o=r._state;if(o){var i=arguments[o-1];s(function(){return F(o,n,i,r._result)})}else V(r,n,e,t);return n}function T(e){if(e&&"object"===(void 0===e?"undefined":u(e))&&e.constructor===this)return e;var t=new this(O);return M(t,e),t}f?S=function(){return n.nextTick(v)}:c?(m=0,E=new c(v),_=document.createTextNode(""),E.observe(_,{characterData:!0}),S=function(){_.data=m=++m%2}):p?((y=new MessageChannel).port1.onmessage=v,S=function(){return y.port2.postMessage(0)}):S=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(v)}:A()}catch(e){return A()}}():A();var b=Math.random().toString(36).substring(2);function O(){}var P=void 0,w=1,C=2,I={error:null};function D(e){try{return e.then}catch(e){return I.error=e,I}}function R(t,r,n){r.constructor===t.constructor&&n===g&&r.constructor.resolve===T?function(e,t){t._state===w?k(e,t._result):t._state===C?L(e,t._result):V(t,void 0,function(t){return M(e,t)},function(t){return L(e,t)})}(t,r):n===I?(L(t,I.error),I.error=null):void 0===n?k(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?M(e,r):k(e,r))},function(t){n||(n=!0,L(e,t))},e._label);!n&&o&&(n=!0,L(e,o))},e)}(t,r,n):k(t,r)}function M(e,t){var r,n;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):(n=void 0===(r=t)?"undefined":u(r),null===r||"object"!==n&&"function"!==n?k(e,t):R(e,t,D(t)))}function N(e){e._onerror&&e._onerror(e._result),B(e)}function k(e,t){e._state===P&&(e._result=t,e._state=w,0!==e._subscribers.length&&s(B,e))}function L(e,t){e._state===P&&(e._state=C,e._result=t,s(N,e))}function V(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+w]=r,o[i+C]=n,0===i&&e._state&&s(B,e)}function B(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?F(r,n,o,i):o(i);e._subscribers.length=0}}function F(t,r,n,o){var i=e(n),a=void 0,s=void 0,u=void 0,l=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(n,o))===I?(l=!0,s=a.error,a.error=null):u=!0,r===a)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;r._state!==P||(i&&u?M(r,a):l?L(r,s):t===w?k(r,a):t===C&&L(r,a))}var x=0;function U(e){e[b]=x++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(O),this.promise[b]||U(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&k(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===T){var o=D(e);if(o===g&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===K){var i=new r(O);R(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===C?L(n,r):this._result[t]=r),0===this._remaining&&k(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;V(e,void 0,function(e){return r._settledAt(w,t,e)},function(e){return r._settledAt(C,t,e)})},e}(),K=function(){function e(t){this[b]=x++,this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){M(e,t)},function(t){L(e,t)})}catch(t){L(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},e}();return K.prototype.then=g,K.all=function(e){return new j(this,e).promise},K.race=function(e){var r=this;return t(e)?new r(function(t,n){for(var o=e.length,i=0;i<o;i++)r.resolve(e[i]).then(t,n)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},K.resolve=T,K.reject=function(e){var t=new this(O);return L(t,e),t},K._setScheduler=function(e){a=e},K._setAsap=function(e){s=e},K._asap=s,K.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=K},K.Promise=K,K},"object"===u(t)&&void 0!==e?e.exports=s():void 0===(a="function"==typeof(i=s)?i.call(t,r,t,e):i)||(e.exports=a)}).call(this,r(135),r(136))},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(26);!function(e){e.NO_APPROPRIATE_VIDEO_SOURCE="NO_APPROPRIATE_VIDEO_SOURCE",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.VIDEO_ERROR="VIDEO_ERROR",e.INVALID_VAST_XML="INVALID_VAST_XML",e.VAST_TAG_NOT_FOUND="VAST_TAG_NOT_FOUND",e.INCOMPATIBLE_VAST_VERSION="INCOMPATIBLE_VAST_VERSION",e.WRAPPER_MAX_COUNT_LIMIT="WRAPPER_MAX_COUNT_LIMIT",e.INCORRECT_SKIPOFFSET_FORMAT="INCORRECT_SKIPOFFSET_FORMAT",e.ADFOX_VAST_LOAD_ERROR="ADFOX_VAST_LOAD_ERROR",e.VAST_LOAD_ERROR="VAST_LOAD_ERROR",e.INVALID_VAST_AD_TYPE="INVALID_VAST_AD_TYPE",e.INVALID_VAST_CONSTRUCTOR_PARAMS="INVALID_VAST_CONSTRUCTOR_PARAMS",e.VAST_URL_IS_NOT_DEFINED="VAST_URL_IS_NOT_DEFINED",e.NO_AD_SECTION="NO_AD_SECTION",e.NO_VAST_AD_TAG_URI="NO_VAST_AD_TAG_URI",e.VAST_LOAD_TIMEOUT="VAST_LOAD_TIMEOUT",e.WRAPPER_LOAD_TIMEOUT="WRAPPER_LOAD_TIMEOUT",e.WRAPPER_LOAD_ERROR="WRAPPER_LOAD_ERROR",e.NO_INLINE_OR_WRAPPER_NODE="NO_INLINE_OR_WRAPPER_NODE",e.INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION="INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",e.VIDEO_TIMEOUT="VIDEO_TIMEOUT",e.BUFFER_FULL_TIMEOUT="BUFFER_FULL_TIMEOUT",e.BUFFER_EMPTY_LIMIT="BUFFER_EMPTY_LIMIT",e.VPAID_START_TIMEOUT="VPAID_START_TIMEOUT",e.EXPECTED_PREROLL_AD_BREAK="EXPECTED_PREROLL_AD_BREAK",e.VMAP_CONFIG_WITHOUT_PARTNER_ID="VMAP_CONFIG_WITHOUT_PARTNER_ID",e.NO_AD_TO_DISPLAY="NO_AD_TO_DISPLAY",e.FLASH_PLAYER_IS_NOT_AVAILABLE="FLASH_PLAYER_IS_NOT_AVAILABLE",e.CANNOT_SHOW_CPC_CONTROLS="CANNOT_SHOW_CPC_CONTROLS",e.AdPodStartWithoutPlayRequest="AdPodStartWithoutPlayRequest",e.VPAIDPlayingError="VPAIDPlayingError",e.VPAIDLoadingError="VPAIDLoadingError",e.InteractiveViewerInitAdParamsError="InteractiveViewerInitAdParamsError",e.EXPECTED_INPAGE_OR_PREROLL_BLOCK="EXPECTED_INPAGE_OR_PREROLL_BLOCK",e.EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK="EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK",e.MEDIA_SRC_VIOLATES_CSP_POLICY="MEDIA_SRC_VIOLATES_CSP_POLICY",e.VpaidEventBusCallbackError="VpaidEventBusCallbackError",e.CANNOT_LOAD_VPAID_MEDIA_FILE="CANNOT_LOAD_VPAID_MEDIA_FILE",e.CANNOT_LOAD_MODULE="CANNOT_LOAD_MODULE",e.CANNOT_INIT_MODULE="CANNOT_INIT_MODULE",e.CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION="CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION",e.TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS="TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",e.TOO_MANY_BANNER_AD_REPLAY_REQUESTS="TOO_MANY_BANNER_AD_REPLAY_REQUESTS",e.PUBLIC_CONTROLLER_PLAY_ERROR="PUBLIC_CONTROLLER_PLAY_ERROR",e.NO_AD_CUSTOM_MARKER="NO_AD_CUSTOM_MARKER",e.FLASH_DISPLAY_CONTROLLER_ERROR="FLASH_DISPLAY_CONTROLLER_ERROR",e.PRELOAD_ERROR="PRELOAD_ERROR",e.WEBORAMA_INIT_ERROR="WEBORAMA_INIT_ERROR",e.VMAP_LOAD_ERROR="VMAP_LOAD_ERROR",e.VMAP_EMPTY_RESPONSE="VMAP_EMPTY_RESPONSE",e.NO_VMAP_ROOT_NODE="NO_VMAP_ROOT_NODE",e.NO_VMAP_EXTENSIONS="NO_VMAP_EXTENSIONS",e.VMAP_AD_BREAK_WITHOUT_AD_SOURCE="VMAP_AD_BREAK_WITHOUT_AD_SOURCE",e.VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI="VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",e.VMAP_INCORRECT_TIME_OFFSET="VMAP_INCORRECT_TIME_OFFSET",e.VMAP_UNSUPPORTED_AD_BREAK_TYPE="VMAP_UNSUPPORTED_AD_BREAK_TYPE",e.InPageOnReadyPlayError="InPageOnReadyPlayError",e.InPageOnVisibilityPlayError="InPageOnVisibilityPlayError",e.InPageOnStickError="InPageOnStickError",e.INTERACTIVE_LOADER_SCRIPT_NOT_FOUND="INTERACTIVE_LOADER_SCRIPT_NOT_FOUND",e.INVALID_INTERACTIVE_CONFIG_URL="INVALID_INTERACTIVE_CONFIG_URL",e.INVALID_INTERACTIVE_XML="INVALID_INTERACTIVE_XML",e.INVALID_INTERACTIVE_AD_PARAMETERS="INVALID_INTERACTIVE_AD_PARAMETERS",e.NO_INTERACTIVE_AD_PARAMETERS="NO_INTERACTIVE_AD_PARAMETERS",e.CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID="CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID",e.CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT="CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT",e.LOAD_XML_NETWORK_ERROR="LOAD_XML_NETWORK_ERROR",e.NO_AD_BREAK_OR_VMAP_IN_AD_LOADER="NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",e.MIN_BITRATE_GREATHER_THAN_MAX_BITRATE="MIN_BITRATE_GREATHER_THAN_MAX_BITRATE",e.CANNOT_START_TICKER_ANIMATION="CANNOT_START_TICKER_ANIMATION",e.RAA_WAS_STOPPED_WITHOUT_AD_FINISH="RAA_WAS_STOPPED_WITHOUT_AD_FINISH",e.AD_FINISHED_DURING_RAA="AD_FINISHED_DURING_RAA",e.AD_FINISHED_DURING_CHECK_POSTER="AD_FINISHED_DURING_CHECK_POSTER",e.VPAID_WAS_DESTROYED_DURING_INIT="VPAID_WAS_DESTROYED_DURING_INIT",e.IV_LOADER_WAS_STOPPED_DURING_INIT="IV_LOADER_WAS_STOPPED_DURING_INIT",e.IV_START_AD_AFTER_DESTROY="IV_START_AD_AFTER_DESTROY",e.IV_NO_AD_ON_START="IV_NO_AD_ON_START",e.IV_NO_DISPLAY_CONTROLLER="IV_NO_DISPLAY_CONTROLLER",e.PREROLL_THRESHOLD_EXCEEDED="PREROLL_THRESHOLD_EXCEEDED",e.NO_PARENT_ELEMENT_FOR_BLUR="NO_PARENT_ELEMENT_FOR_BLUR",e.EMPTY_AD_TYPE_WHILE_PLAYING="EMPTY_AD_TYPE_WHILE_PLAYING",e.ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD="ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",e.ATTEMPT_TO_PLAY_AD_SECOND_TIME="ATTEMPT_TO_PLAY_AD_SECOND_TIME",e.ATTEMPT_TO_RESUME_AD_BEFORE_PLAY="ATTEMPT_TO_RESUME_AD_BEFORE_PLAY",e.APC_CALLBACK_ERROR="APC_CALLBACK_ERROR",e.UNSUPPORTED_MEDIA_FILE_TYPE="UNSUPPORTED_MEDIA_FILE_TYPE",e.CANNOT_FIND_INPAGE_CONTAINER_ELEMENT="CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",e.INPAGE_CONTAINER_ZERO_WIDTH="INPAGE_CONTAINER_ZERO_WIDTH"}(t.AdSDKErrorCodes||(t.AdSDKErrorCodes={})),t.AdSDKErrorIds={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_DECODE:103,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,FLASH_PLAYER_IS_NOT_AVAILABLE:55,VPAIDPlayingError:67,VPAIDLoadingError:68,InteractiveViewerInitAdParamsError:69,EXPECTED_INPAGE_OR_PREROLL_BLOCK:71,EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK:72,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION:21001,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,TOO_MANY_BANNER_AD_REPLAY_REQUESTS:21003,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};var s=function(e){function r(r,n){void 0===r&&(r={}),void 0===n&&(n={});var o=this,a=n.message||r.message,s=n.code||r.code;return(o=e.call(this,r,i({},n,{message:"AdSDK Error ["+s+"]"+(a?"["+a+"]":"")}))||this).id=function(e){return t.AdSDKErrorIds[e]||0}(o.code),o}return o(r,e),r}(a.CustomError);t.AdSDKError=s},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r(70),i=r(155),a=r(156),s=r(80),u=r(12),l=r(82);t.stats=new o.Stats({service:a.SOLOMON_SERVICE_NAME,version:String(u.BUILD_VERSION),sid:i.SID,useSendBeacon:!0,useAlias:!0}),t.stats.setRootFields(((n={})[s.TESTTAG_GET_PARAMETER]=String(l.testtag.serialize()),n))},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(93),a=r(9),s=r(4),u=r(31),l=r(22),d=r(32),c=["localhost","127.0.0.1"],f=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yastatic.net","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru"],p=["kinopoisk.ru","kinopoisk.ua","kinopoisk.by","kinopoisk.tel","vidigital.ru","tns-counter.ru","adfox.ru"];function A(e,t){return t===e.substring(e.length-t.length)}function h(e,t){if(void 0===t&&(t=!1),!e)return!1;var r=d.getDomainFromUrl(e),n=t?f.concat(c):f.concat(c,p);return!(!r||0===r.length)&&n.some(function(e){return A(r,e)})}function v(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}function y(){var e=navigator.userAgent.toLowerCase();return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("ipod")>-1}function m(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?parseInt(e[1],10):-1}return-1}function E(e,t){var r=document.createElement("div");return e&&(r.className=e),t&&(r.innerHTML=t),r}t.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.ENVIRONMENT.DEV_MODE&&console&&console.log&&console.log.apply(console,o([e],t))},t.logError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.ENVIRONMENT.DEV_MODE&&console&&console.error&&console.error.apply(console,o([e],t))},t.fireCallback=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&("function"==typeof e?e.apply(void 0,o(t)):e&&e.hasOwnProperty("length")&&e.forEach(function(e){return e.apply(void 0,o(t))}))},t.endsWith=A,t.isTrueYandexDomain=function(e){return h(e,!0)},t.isYandexDomain=h,t.isAdFoxDomain=function(e){return A(d.getDomainFromUrl(e),"adfox.ru")},t.createVideoNode=function(e,t,r,n){var o=document.createElement("video");return o.id="yaVideoPlayer_"+Math.floor(1e6*Math.random()),o.setAttribute("x-webkit-airplay","allow"),Array.isArray(t)?t.forEach(function(e){var t=document.createElement("source");t.src=l.fixUrlSheme(e.src),t.type=e.type,o.appendChild(t)}):t&&(o.src=l.fixUrlSheme(t)),r&&(o.poster=r),o.autoplay=Boolean(n),y()||(o.preload=n?"auto":"none"),i.prependChild(e,o),o},t.isIPhone=function(){return navigator.userAgent.toLowerCase().indexOf("iphone")>-1},t.isIOSWebView=function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)},t.isAndroid=v,t.isIOS=y,t.isIOS7=function(){return y()&&7===m()},t.isIOS9OrLess=function(){return y()&&m()<=9},t.isMobile=function(){return y()||v()},t.getIOSVersion=m,t.parseVASTTime=function(e){return"string"!=typeof e?NaN:e.split(":").reverse().reduce(function(e,t,r){return e+parseFloat(t)*Math.pow(60,r)},0)},t.toVastTime=function(e){var t=Math.floor(e/60/60),r=Math.floor((e-60*t*60)/60),n=e-60*t*60-60*r,o=function(e,t){return void 0===t&&(t=0),e.toFixed(t).split(".").map(function(e,t){return 0!==t?e:1===e.length?"0"+e:e}).join(".")};return[o(t),o(r),o(n,3)].join(":")},t.createDiv=E,t.createControl=function(e,t,r,n){var o=E(e,r);return o.addEventListener("click",t),n&&n.appendChild(o),o},t.getElement=function(e){return"string"==typeof e?document.getElementById(e):e},t.getReferrer=function(){var e;try{e=top.location.href}catch(t){e=location.href}return e},t.addBuiltinSkin=function(e){!document.querySelector("style[data-yamediaad]")&&s.ENVIRONMENT.DEFAULT_CSS&&u.addStylesToElement(e,s.ENVIRONMENT.DEFAULT_CSS).setAttribute("data-yamediaad","")},t.replaceStringWith=function(e,t){return e.split("$$").map(function(e,r){return r%2!=0?function(e,t){var r=t.split("."),n=e;for(var o in r)if(r.hasOwnProperty(o)){if(!n.hasOwnProperty(r[o]))return"$$"+t+"$$";var i=n[r[o]];if("string"==typeof i)return i;n=i}return"$$"+t+"$$"}(t,e):e}).join("")},t.createHoverSignal=function(e){var t=new a.Signal,r=function(){t.dispatch(!0)},n=function(){t.dispatch(!1)};return e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",n),{signal:t,unsubscribe:function(){e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",n)}}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof Promise?r(0).Promise:Promise,i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(165),l=r(30),d=r(29);r(172);var c=r(17),f=r(173),p=r(87),A=r(12),h=r(2),v=r(6),y=r(16),m=r(174);t.AdType={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},t.AdConfigParams={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration",IMPRESSION_TRACK_OFFSET:"impressionOffset"},t.TrackingEventType={ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",VIEWABLE:"viewable",DWELL:"dwell",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"};var E=function(){function e(){this.SDK_FULL_VERSION=f.SDK_VERSION,this.DEV_MODE=y.WEBPACK_DEV_MODE}return e.prototype.getVersioningURL=function(){return this.DEV_MODE?("1.0-"+A.BUILD_VERSION).split("-")[0].split(".").join("_"):("1.0-"+A.BUILD_VERSION).split("-")[0].split(".").join("_")+"/v-"+f.SDK_VERSION},e}();function _(e){return void 0===e&&(e=y.WEBPACK_VIDEO_PLAYER_VERSION),a(this,void 0,o,function(){var r;return s(this,function(n){switch(n.label){case 0:return(r=t.yandexGlobalObject.videoPlayer)?[2,r]:[3,1];case 1:return[4,l.loadScript({src:"https://"+p.STATIC_DOMAIN+"/yandex-html5-video-player-bundles/1.0-"+e+"/video-player-html/video-player-html.min.js"})];case 2:return n.sent(),[2,t.yandexGlobalObject.videoPlayer]}})})}t.ENVIRONMENT=new E,g({videoAd:{AdConfigParams:t.AdConfigParams,encodeUrl:u.encodeUrl,loadModule:function(e,t){return void 0===t&&(t={}),new o(function(r){m.loadModule({module:e,options:t},function(n){"VideoPlayer"===e?_(t.playerVersion).then(function(){r(n)}):r(n)})})},initVideoNode:function(e,t,r,n){m.loadModule({module:c.ModuleBundleName.AdSDK},function(o){o.initVideoNode(e,t,r,n)})},skipTokens:[],flashPlayerCallbacks:{},modules:{}},mediaAd:{util:{setDefaultUrlScheme:function(e){var r=["http","https"];if(r.indexOf(e)<0)throw new Error("AdSDK setDefaultUrlScheme error. Allowed: "+r.join(", "));t.yandexGlobalObject.mediaAd.util.URL_SCHEME=e},URL_SCHEME:null},DOMAIN:p.STATIC_DOMAIN,SDK_VERSION:f.SDK_VERSION,AdType:t.AdType,TrackingEventType:t.TrackingEventType,AdConfigParams:t.AdConfigParams,bannerAd:{initVideo:function(e,t,r){m.loadModule({module:c.ModuleBundleName.BannerAd},function(n){n.initVideo(e,t,r)})}},inPage:{addInPageVideo:function(e,t,r){m.loadModule({module:c.ModuleBundleName.InPage},function(n){n.addInPageVideo(e,t,r)})}},initForVideoNode:function(e,t,r,n,o){m.loadModule({module:c.ModuleBundleName.AdSDK},function(i){i.initForVideoNode(e,t,r,n,o)})},initAdDisplay:function(e,t,r,n){m.loadModule({module:c.ModuleBundleName.AdSDK},function(o){o.initAdDisplay(e,t,r,n)})},initPlacement:function(e,t,r){m.loadModule({module:c.ModuleBundleName.AdSDK},function(n){n.initPlacement(e,t,r)})}},video:{addVideoPlayer:function(e,t,r,n){m.loadModule({module:c.ModuleBundleName.VideoPlayer},function(o){_().then(function(){o.addVideoPlayer(e,t,r,n)})})}}},"ya"),t.yandexGlobalObject=ya;var S=t.yandexGlobalObject.videoAd.statsRootParams;function g(e,t){for(var r=t.split("."),o=window,i=0;i<r.length-1;i++)o=o[r[i]];var a=r[r.length-1];if(void 0===o[a])o[a]=e;else if("object"===n(o[a]))for(var i in e)e.hasOwnProperty(i)&&g(e[i],t+"."+i)}d.isObject(S)&&(h.stats.setRootFields(S),h.stats.event(i({},v.AdSDKEvent.UsingGlobalStatsRootField,{data:{statsRootParams:S}}))),t.deployObject=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(88),o=r(18);t.AdSDKEventProbabilities={VmapLoadStart:o.LOG_PROBABILITY_100,VmapLoadSuccess:o.LOG_PROBABILITY_100,ReplayBannerAdByCallback:o.LOG_PROBABILITY,ReplayBannerAdByUserAction:o.LOG_PROBABILITY,BannerAdInitVideo:o.LOG_PROBABILITY,AddInPageVideo:o.LOG_PROBABILITY,CreateAdDisplayController:o.LOG_PROBABILITY,PublicControllerSkip:o.LOG_PROBABILITY,ClickThroughCallbackHandle:o.LOG_PROBABILITY,ClickThroughCallbackCall:o.LOG_PROBABILITY,VastTracking:o.LOG_PROBABILITY,VastLoadStart:o.LOG_PROBABILITY,VastLoadSuccess:o.LOG_PROBABILITY,LoadSourceRedirectOnStatus200:o.LOG_PROBABILITY,LoadSourceRedirectOnOtherStatus:o.LOG_PROBABILITY,LoadSourceRedirectOnXhrError:o.LOG_PROBABILITY,LoadSourceRedirectOnXhrTimeout:o.LOG_PROBABILITY,LoadSourceRedirectOnCaughtException:o.LOG_PROBABILITY,VPAIDAdClickThruArrayParam:o.LOG_PROBABILITY,InteractiveViewerScriptLoaded:o.LOG_PROBABILITY_100,InteractiveViewerInit:o.LOG_PROBABILITY,InteractiveConfigParsed:o.LOG_PROBABILITY,IVConfigContainsVideoStates:o.LOG_PROBABILITY,IVAdParametersContainsVideoStates:o.LOG_PROBABILITY,IVVideoSlotHasNoParentElement:o.LOG_PROBABILITY,UsingGlobalStatsRootField:o.LOG_PROBABILITY_MILLI,UnusualVideoNodeState:o.LOG_PROBABILITY,MovedVideoNode:o.LOG_PROBABILITY,UsingSetStatsRootFieldInMultiroll:o.LOG_PROBABILITY,UsingSetStatsRootFieldInPublicController:o.LOG_PROBABILITY,UsingSetStatsRootFieldInAdLoader:o.LOG_PROBABILITY,InvalidVideoNodeSize:o.LOG_PROBABILITY_100,CreateFlashDisplayController:o.LOG_PROBABILITY,CannotCreateFlashVPAIDViewer:o.LOG_PROBABILITY,PublicControllerSetGuiVisibility:o.LOG_PROBABILITY,VPAIDGetGuiCalled:o.LOG_PROBABILITY},t.AdSDKEvent=n.mapObjectValues(t.AdSDKEventProbabilities,function(e,t){return{name:t,probability:e,labels:{},data:{}}})},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(137),i=r(138),a=r(21),s=document.createElement("a");function u(e){s.href=e;var t=s.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);var r=(s.search||"")+(s.hash||""),n=e.lastIndexOf(r);return{originalPath:-1===n?e:e.slice(0,n),href:s.href,protocol:s.protocol,host:s.host,hostname:s.hostname,port:s.port,pathname:t,search:s.search,hash:s.hash}}function l(e,t){if(void 0===t&&(t=!1),t){var r=e.originalPath,n="/"===e.pathname&&"/"!==r[r.length-1];return e.originalPath+(n?"/":"")+e.search+e.hash}var o="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+o+e.pathname+e.search+e.hash}t.parseUrlUsingCache=i.memoize(function(e){var t=u(e);return n({},t)}),t.parseUrl=u;var d=function(e){try{return decodeURIComponent(e)}catch(t){return e}};function c(e){for(var t={},r=e.replace(/^\?+/,"").split("&"),n=0;n<r.length;n++){var o=r[n].indexOf("="),i=void 0,a=void 0;if(-1===o?(i=r[n],a=""):(i=r[n].slice(0,o),a=r[n].slice(o+1)),i){var s=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),s?void 0===t[i]?t[i]=[d(a)]:t[i]=[].concat(t[i],d(a)):t[i]=d(a)}}return t}t.parseQueryString=c,t.getParamsFromUrl=function(e){return c(u(e).search)};var f=function(e,t){return t.map(function(t){return e+"[]="+encodeURIComponent(t)}).join("&")};function p(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];o.isArray(n)?t.push(f(r,n)):void 0!==n&&t.push(r+"="+encodeURIComponent(n))}return"?"+t.join("&")}function A(e){return u(e).pathname.split("/").pop()||""}t.formatQueryString=p,t.addParamToUrl=function(e,t,r){if(void 0===r)return e;var o=u(e),i=c(o.search);return i[t]=r,l(n({},o,{search:p(i)}))},t.addParamsToUrl=function(e,t,r){var o=void 0===r?{}:r,i=o.override,s=void 0===i||i,d=o.saveOriginalPath,f=void 0!==d&&d,A=u(e),h=c(A.search);a.forOwn(t,function(e,t){(void 0===h[t]||s)&&(h[t]=e)});var v=p(h);return l(n({},A,{search:v}),f)},t.getFileName=A,t.getFileExt=function(e){var t=A(e).split(".");return t.length>1?t.pop():""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNodeFromParent=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};function a(e,t){e.forEach(function(e){!function(e){return"function"==typeof e.dispatch}(e)?e(t):e.dispatch(t)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this.on=[],this.once=[]}return e.prototype.add=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.on).push.apply(e,i(r)),function(){return t.remove.apply(t,i(r))}},e.prototype.addOne=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.once).push.apply(e,i(r)),function(){return t.remove.apply(t,i(r))}},e.prototype.promise=function(){var e=this;return new n(function(t){return e.addOne(t)})},e.prototype.dispatch=function(e){a(this.on,e),a(this.once,e),this.once.length=0},e.prototype.removeAll=function(){this.on.length=0,this.once.length=0},e.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.on=this.on.filter(function(t){return e.indexOf(t)<0}),this.once=this.once.filter(function(t){return e.indexOf(t)<0})},e}();t.Signal=s},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(117),i=r(244);t.addEventListener=function(e,t,r,a){var s=function(e){var t=!1,r=!1,o=!1;return!0===e?t=!0:"object"===(void 0===e?"undefined":n(e))&&(t=Boolean(e.capture),r=Boolean(e.passive),o=Boolean(e.once)),{capture:t,passive:r,once:o}}(a),u=i.isSupportsCaptureOption?s:s.capture,l=s.once&&!i.isSupportsOnceOption?function(e){d(),r.call(this,e)}:r,d=function(){o.removeEventListenerFunction(e,t,l,u)};return o.addEventListenerFunction(e,t,l,u),d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectKeys=function(e){if("function"==typeof Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(45),i=r(46);try{n={build:1213,code:[{id:1213,percent:100}]}}catch(e){n={}}var a=n.build,s=n.code;t.BUILD_VERSION=a,t.BUNDLES_VERSION=o.getBundlesVersion(window,i.HARDCODED_ADSDKVER,s)},function(e,t,r){"use strict";function n(e){return e&&e.textContent?e.textContent.trim():""}Object.defineProperty(t,"__esModule",{value:!0}),t.readAttr=function(e,t,r){if(void 0===r&&(r=null),e.hasAttribute(t)){var n=e.getAttribute(t);return n?n.trim():""}return r},t.readElementText=n,t.isElementSet=function(e){return Boolean(e&&n(e).length)},t.appendNewElement=function(e,t,r,n){var o=t.ownerDocument,i=o.createElement(e);if(t.appendChild(i),r&&i.appendChild(o.createCDATASection(r)),n)for(var a in n)n.hasOwnProperty(a)&&null!==n[a]&&i.setAttribute(a,String(n[a]));return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.inpage="inpage",e.preroll="preroll",e.midroll="midroll",e.pauseroll="pauseroll",e.overlay="overlay",e.postroll="postroll"}(t.ADType||(t.ADType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=function(e){var t=function(){var r=e.apply(this,arguments);return t=function(){return r},r};return function(){return t.apply(this,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(17);t.WEBPACK_DEV_MODE=!1,t.WEBPACK_BUNDLES_PATH="",t.WEBPACK_YANDEX_METRIKA_COUNTER_ID="39370120",t.WEBPACK_VIDEO_PLAYER_VERSION="154",t.WEBPACK_BUNDLE_NAME="AdSDK"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdSDKLoader="AdSDKLoader",e.InteractiveViewerLoader="InteractiveViewerLoader"}(t.LoaderBundleName||(t.LoaderBundleName={})),function(e){e.AdSDK="AdSDK",e.InPage="InPage",e.BannerAd="BannerAd",e.VideoPlayer="VideoPlayer",e.AdLoader="AdLoader",e.VideoBannerAd="VideoBannerAd",e.Multiroll="Multiroll",e.InteractiveViewer="InteractiveViewer"}(t.ModuleBundleName||(t.ModuleBundleName={})),function(e){e.Examples="Examples",e.Dashboard="Dashboard"}(t.DevBundleName||(t.DevBundleName={})),function(e){e.Test="Test"}(t.TestBundleName||(t.TestBundleName={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79),o=r(16);t.LOG_PROBABILITY_100=1,t.LOG_PROBABILITY_PROD=.05,t.LOG_PROBABILITY_MILLI_VALUE=.001,t.LOG_PROBABILITY=o.WEBPACK_DEV_MODE?t.LOG_PROBABILITY_100:t.LOG_PROBABILITY_PROD,t.LOG_PROBABILITY_MILLI=o.WEBPACK_DEV_MODE?t.LOG_PROBABILITY_100:t.LOG_PROBABILITY_MILLI_VALUE,t.LOG_STATS=n.portion(t.LOG_PROBABILITY)},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=function(e){var t=0;return{promise:new n(function(r){t=window.setTimeout(r,e)}),clear:function(){clearTimeout(t)},timeoutId:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkNativeCode=function(e){if(!e||!e.toString)return!1;var t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forOwn=function(e,t,r){for(var n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(84),i=r(4),a=r(23);function s(e){return"//"===e.trim().substr(0,2)&&i.yandexGlobalObject.mediaAd.util.URL_SCHEME&&(e=i.yandexGlobalObject.mediaAd.util.URL_SCHEME+":"+e),e}function u(e){return{url:e,promise:new n(function(t){var r=new Image;r.onload=function(){return t(!0)},r.onerror=function(){return t(!1)},r.src=s(o.isAbdBundle?e:a.addAdSDKParamsToUrl(e))})}}t.fixUrlSheme=s,t.knock=u,t.knockEach=function(e){return Array.isArray(e)?e.map(u):[]},t.loadScript=function(e,t){var r=s(e);return new n(function(n,o){t&&setTimeout(function(){return o(new Error("Script Loading Error: loading timeout: "+t/1e3+"s : "+e))},t);var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.onload=n,i.onerror=function(){return o(new Error("Script Loading Error: "+r))},i.src=r,document.head.appendChild(i)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(89),o=r(7),i=r(80),a=r(12),s=r(4),u=r(16),l=r(82),d=r(3);t.AD_SDK_BUNDLE_VERSION_PARAM_NAME="adsdk-bundle-version",t.AD_SDK_BUNDLE_NAME_PARAM_NAME="adsdk-bundle-name",t.AD_SDK_VIDEO_API_VERSION_PARAM_NAME="video-api-version",t.AD_SESSION_ID_PARAM_NAME="ad-session-id",t.addAdSDKParamsToUrl=function(e,r){var c;return void 0===r&&(r=""),d.isTrueYandexDomain(e)||d.isAdFoxDomain(e)?o.addParamsToUrl(e,((c={})[t.AD_SDK_BUNDLE_VERSION_PARAM_NAME]=String(a.BUILD_VERSION),c[t.AD_SDK_BUNDLE_NAME_PARAM_NAME]=u.WEBPACK_BUNDLE_NAME,c[i.TESTTAG_GET_PARAMETER]=String(l.testtag.serialize()),c[t.AD_SDK_VIDEO_API_VERSION_PARAM_NAME]="js:"+s.ENVIRONMENT.SDK_FULL_VERSION+(r?":"+r:""),c[t.AD_SESSION_ID_PARAM_NAME]=n.getSessionId(),c)):e}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(96);function a(e){return{partnerId:void 0===e.partnerId?void 0:Number(e.partnerId),category:void 0===e.category?void 0:Number(e.category),duration:void 0===e.duration?void 0:Number(e.duration)}}function s(e){return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),playerInfo:void 0===e.playerInfo?void 0:String(e.playerInfo),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?e.videoGenreId.map(String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?e.videoGenreName.map(String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),tagsList:Array.isArray(e.tagsList)?e.tagsList.map(String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}function u(e){if(e){var t={},r=["string","number","boolean"];for(var o in e)e.hasOwnProperty(o)&&r.indexOf(n(e[o]))>=0&&(t[o]=e[o]);return t}}t.extractVmapConfig=a,t.extractVastUriParams=s,t.extractAdditionalParams=u,t.extractAdConfig=function(e){var t=a(e),r=s(e);return o({},t,r,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:void 0===e.vast?void 0:String(e.vast),adFoxUrl:void 0===e.adFoxUrl?void 0:String(e.adFoxUrl),adFoxUrlVast:void 0===e.adFoxUrlVast?void 0:String(e.adFoxUrlVast),adFoxUrlMidRoll:void 0===e.adFoxUrlMidRoll?void 0:String(e.adFoxUrlMidRoll),adFoxUrlPauseRoll:void 0===e.adFoxUrlPauseRoll?void 0:String(e.adFoxUrlPauseRoll),adFoxUrlPostRoll:void 0===e.adFoxUrlPostRoll?void 0:String(e.adFoxUrlPostRoll),xml:void 0===e.xml?void 0:String(e.xml),desiredBitrate:void 0===e.desiredBitrate?void 0:Number(e.desiredBitrate),trackingEvents:e.trackingEvents?i.extractTrackingEvents(e.trackingEvents):{},asyncAdStart:Boolean(e.asyncAdStart),additionalParams:u(e.additionalParams)})}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(24),u=r(55),l=r(1),d=r(2),c=r(6),f=r(107),p=r(14),A=r(111),h=r(232),v=r(234);t.VMAP_LOAD_TIMEOUT=3e3,t.DEFAULT_SKIP_DELAY=0,t.DEFAULT_VAST_TIMEOUT=3e3,t.DEFAULT_VIDEO_TIMEOUT=1e4,t.DEFAULT_VPAID_TIMEOUT=1e4,t.DEFAULT_WRAPPER_TIMEOUT=3e3,t.DEFAULT_WRAPPER_MAX_COUNT=3,t.DEFAULT_BUFFER_FULL_TIMEOUT=5e3,t.DEFAULT_BUFFER_EMPTY_LIMIT=5,t.DEFAULT_BLOCK_COMMON_PARAMETERS={sessionId:"",title:"",skipDelay:t.DEFAULT_SKIP_DELAY,timeLeftShow:!1,visitSiteShow:!1,vastTimeout:t.DEFAULT_VAST_TIMEOUT,videoTimeout:t.DEFAULT_VIDEO_TIMEOUT,vpaidTimeout:t.DEFAULT_VPAID_TIMEOUT,wrapperTimeout:t.DEFAULT_WRAPPER_TIMEOUT,wrapperMaxCount:t.DEFAULT_WRAPPER_MAX_COUNT,bufferFullTimeout:t.DEFAULT_BUFFER_FULL_TIMEOUT,bufferEmptyLimit:t.DEFAULT_BUFFER_EMPTY_LIMIT};var y=function(){function e(){this.adBreaks=[]}return e.load=function(e){return i(this,void 0,n,function(){var r,n,i,p,A,y,m,E,_,S;return a(this,function(a){switch(a.label){case 0:r=s.extractVmapConfig(e),n=h.getVmapUrl(r),i=e.vmapLoadTimeout,(p=e.blockInfoLoadTimeout)&&d.stats.deprecated("VmapBlockInfoLoadTimeout","blockInfoLoadTimeout is deprecated, use vmapLoadTimeout"),A=t.VMAP_LOAD_TIMEOUT,i?A=i:p&&(A=p),y={url:n,config:e,timeout:A},d.stats.event(o({},c.AdSDKEvent.VmapLoadStart,{data:y})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,f.loadXML(n,null,A)];case 2:return m=a.sent(),[3,4];case 3:throw E=a.sent(),_=new l.AdSDKError(E,{code:l.AdSDKErrorCodes.VMAP_LOAD_ERROR,details:y}),d.stats.errorToStats(_),_;case 4:try{S=v.vmapFromXML(m,y,u.extractBlockParameters(e)),d.stats.event(o({},c.AdSDKEvent.VmapLoadSuccess,{data:o({},y,{vmap:S})}))}catch(e){throw d.stats.errorToStats(e),e}return[2,S]}})})},e.createPrerollVmap=function(r){var n=new e,i=o({id:"0",timeOffset:A.TimeOffsetLiterals.start,adType:p.ADType.preroll,adTagURI:"",maxDuration:60,maxPositionsCount:1},t.DEFAULT_BLOCK_COMMON_PARAMETERS,r);return n.adBreaks=[i],n},e}();t.Vmap=y},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(69),s=r(139),u=r(141),l=r(142);var d=function(e){function t(r,n){void 0===n&&(n={});var i=this,d="object"===(void 0===r?"undefined":o(r))?r:{message:String(r||u.DEFAULT_ERROR.message)};i=e.call(this)||this,l(i,t.prototype),i.message=n.message||d.message||u.DEFAULT_ERROR.message,i.code=n.code||d.code||d.id||u.DEFAULT_ERROR.code,i.isFatal=Boolean(s.getFirstDefined([n.isFatal,d.isFatal,u.DEFAULT_ERROR.isFatal])),i.details=n.details||d.details||u.DEFAULT_ERROR.details;var c=n.stack||d.stack||function(e){var t=e.url,r=e.line,n=e.col,o=e.fileName,i=e.columnNumber,a=e.lineNumber;return(t||o||"?")+":"+(r||a||"?")+":"+(n||i||"?")}(d);return c!==u.DEFAULT_ERROR.stack?i.stack=c:i.stack||(i.stack=u.DEFAULT_ERROR.stack),i.toString=function(){return a(i.toJSON())},i.toJSON=function(){return{message:i.message,code:i.code,isFatal:i.isFatal,details:i.details,stack:c}},i}return i(t,e),t}(Error);t.CustomError=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(22),i=r(3);t.trackError=function(e,t){return void 0===t&&(t=[]),i.log("Track error ==> ",e),n.stats.errorToStats(e),o.knockEach(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowLocation=function(e){if(e&&e.location){var t=e.location;return"function"==typeof t.toString?t.toString():t.href||""}return""}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){var t=void 0===e?"undefined":n(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(86),o=r(168);t.CHARSET_UTF_8="utf-8",t.loadScript=function(e){return o.loadScript(e).then(function(){return{}})},t.loadCustomScript=function(e,t,r,o){void 0===o&&(o=!0);var i=e.document.createElement("script");i.type="text/javascript",i.async=!0,r&&(i.onload=function(){i.onload=function(){},r()}),o&&i.setAttribute("crossorigin","anonymous"),i.src=t,n.getHead(e).appendChild(i)},t.executeScript=function(e,t,r){var o=e.document.createElement("script");o.text=t,n.getHead(e).appendChild(o),r()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addStylesToElement=function(e,t){var r=(e.ownerDocument||document).createElement("style");return r.type="text/css",r.innerText=t,e.appendChild(r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.createElement("a");t.getDomainFromUrl=function(e){return n.href=e,n.hostname},t.isAbsoluteUrl=function(e){return 0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("//")};var o=["http:","https:"];t.setProtocolToUrl=function(e,t){if(-1===o.indexOf(t))throw new Error("setProtocolToUrl Error: Unsupported protocol: "+t);return n.href=e,n.protocol=t,n.href}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(198);t.internetExplorerVersion=n.getInternetExplorerVersion()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_VIDEO_TAG=document.createElement("video")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.js="js",e.video="video",e.flash="flash"}(t.AdContentType||(t.AdContentType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(t.VPAIDViewMode||(t.VPAIDViewMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(83);t.separate=function(e,t){var r=[],o=[];return n.forEach(e,function(n,i){t(n,i,e)?r.push(n):o.push(n)}),[r,o]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116);t.isIOS=n.getIsIOS()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.isDestroyed=!1,this.onDestroyCallbacks=[]}return e.prototype.onDestroy=function(e){this.isDestroyed?e(this.destroyReason):this.onDestroyCallbacks.push(e)},e.prototype.destroy=function(e){this.isDestroyed||(this.isDestroyed=!0,this.destroyReason=e,this.onDestroyCallbacks.forEach(function(t){return t(e)}),this.onDestroyCallbacks.length=0)},e.prototype.getIsDestroyed=function(){return this.isDestroyed},e}();t.Destroyable=n},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),i=r(67),a=r(25),s=r(237);t.AdViewer=s.AdViewer;var u=r(55),l=r(1),d=r(2),c=r(297),f=r(62);function p(e){return e.vastBase64&&(e.vast=c.base64.decode(e.vastBase64)),e}var A=function(){function e(){}return e.createFromBlock=function(t,r){var o=new e;return o.adConfig=p(t),o.adBreak=r,o.vmap=new a.Vmap,o.vmap.adBreaks=[r],o.whenVmapLoaded=n.resolve(o.vmap),o},e.create=function(t,r){void 0===r&&(r=!1);var o=new e;if(o.adConfig=p(t),r){var i=u.extractBlockParameters(t);o.whenVmapLoaded=n.resolve(a.Vmap.createPrerollVmap(i))}else o.whenVmapLoaded=a.Vmap.load(o.adConfig);return o.whenVmapLoaded.then(function(e){return o.vmap=e,o})},e.prototype.load=function(e){var t=this;return this.whenVmapLoaded.then(function(){return i.loadAd(t.adConfig,e)})},e.prototype.loadAd=function(){var e=this;return this.whenVmapLoaded.then(function(){var t=e.getPrerollBlock();if(e.adBreak)return i.loadAd(e.adConfig,e.adBreak);if(t)return i.loadAd(e.adConfig,t);throw new l.AdSDKError({code:l.AdSDKErrorCodes.EXPECTED_PREROLL_AD_BREAK,details:void 0})}).then(function(e){return new s.AdViewer(e)}).catch(function(e){return d.stats.errorToStats(e),n.reject(e)})},e.prototype.getInPageBlock=function(){return f.getAdBreaksByType(this.getAdBreaks(),o.ADType.inpage)[0]},e.prototype.getPrerollBlock=function(){return f.getAdBreaksByType(this.getAdBreaks(),o.ADType.preroll)[0]},e.prototype.getPostrollBlock=function(){return f.getAdBreaksByType(this.getAdBreaks(),o.ADType.postroll)[0]},e.prototype.getMidrollBlocks=function(){return f.getAdBreaksByType(this.getAdBreaks(),o.ADType.midroll)},e.prototype.getAdBreaks=function(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new l.AdSDKError({code:l.AdSDKErrorCodes.NO_AD_BREAK_OR_VMAP_IN_AD_LOADER,details:void 0})},e}();t.AdLoader=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(146);t.isSafari=n.getIsSafari()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgent=function(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(e){return""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHexString=function(e){for(var t="",r=0;r<e;r++)t+=(16*Math.random()|0).toString(16);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73);t.parentFriendlyIFrames=n.getParentFriendlyIFrames(document.documentElement)},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(158),i=r(72),a=r(81),s=r(78),u=r(70),l=r(160),d=r(7),c=r(161);function f(e,t){for(var r=s.getObjectEntries({UrlParams:function(){for(var r=i.getParentLocationsData(e.document),n=0;n<r.length;n++){var o=r[n].location,a=d.getParamsFromUrl(o)[t];if(a)return a}},LocalStorage:function(){return e.localStorage.getItem(t)},globalYMADSVideoTemplate:function(){if("adsdkver"===t)try{for(var r=a.getWindowChain(e),n=0;n<r.length;n++){var i=r[n];if(i&&o.isYmadsVideoCtx(i))return i.ADSDK_VERSION_FROM_NANPU}}catch(e){}},globalVariable:function(){for(var r=a.getWindowChain(e),n=0;n<r.length;n++){var o=r[n],i=o&&o.Ya&&o.Ya.hardcodedParams[t]||void 0;if(void 0!==i)return i.toString()}}}),c=0;c<r.length;c++){var f=n(r[c],2),p=f[0],A=f[1],h=l.tryCatch(A);if("string"==typeof h&&h.length>0)return u.stats.deprecated("HardcodedParamObtainedFrom"+p,"ATTENTION! Product parameter obtained from "+p+" ["+t+"]["+h+"]"),h}}t.getHardcodedParam=f,t.getBundlesVersion=function(e,t,r){var n=f(e,t);return n?Number(n):c.getBundleVersion(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HARDCODED_ADSDKVER="adsdkver";t.HARDCODED_VAST_URL="adsdk-vast-url",t.HARDCODED_VCSET_URL="adsdk-vcset-url",t.HARDCODED_BUNDLES_PATH="adsdk-bundles-path"},function(e,t,r){"use strict";e.exports=r(29).isObject},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(47);t.get=function(e,t){var r,i;try{for(var a=n(t.split(".")),s=a.next();!s.done;s=a.next()){var u=s.value;if(!o(e)){e=void 0;break}e=e[u]}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return e}},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(47);t.set=function(e,t,r){var i,a;if(!o(e))return e;var s=e,u=t.split("."),l=u.pop();try{for(var d=n(u),c=d.next();!c.done;c=d.next()){var f=c.value,p=e[f];e=o(p)?p:e[f]={}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return e[l]=r,s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(180);t.callSafe=function(e){try{return e()}catch(e){return}},t.protect=function(e,r,o,i){return function(){try{return r.apply(o||this,arguments)}catch(r){if(n.isFunction(i)&&i(r),__dev__&&(r.preventProtect=!0),!0===r.preventProtect)throw r;t.protect.log(r,e)}}},t.protect.log=function(e,t){console.log("LOG:"+t+":"+e)},t.protect.setTimeout=function(e,r,n,o){return window.setTimeout(t.protect("timeout",e,n,o),r)},function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("")}e.YaContextCallbacks=t("Ya.C","ontext._callbacks"),e.YaContextCallbacksCalls=t("Ya.C","ontext._callbacks_call"),e.AdvManager=t("A","dvManager"),e.AdvBlock=t("A","dvBlock"),e.RTB=t("R","TB"),e.Rtb=t("R","tb"),e.MetrikaAdtune=t("metrika_a","dtune")}(t.ProtectedNames||(t.ProtectedNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(100),o=r(34);t.canPlayType=n.isSupportedHTML5Video?function(e,t){return void 0===t&&(t=o.TEST_VIDEO_TAG),Boolean(t.canPlayType(e).replace(/no/,""))}:function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(209),o=r(102),i=r(103),a=r(210),s=100,u=2e4,l=.8;t.calculateApproximateBitrate=function(e){var t=e.clientWidth,r=e.clientHeight,d=a.getDownlink();if(d>0)return Math.round(1e3*d*l);var c=i.hypot(t,r)*o.getDevicePixelRatio(),f=Math.round(2.64886*c-1189.26038);return n.clamp(f,s,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPAID_API_FRAMEWORK="VPAID"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_TIMEOUT_VALUE=2147483647},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(108),i=r(109),a=r(228),s=r(110),u=r(24);t.extractAdDisplayConfig=function(e){return n({},u.extractAdConfig(e),a.extractPlaybackParams(e),{numruns:void 0===e.numruns?void 0:Number(e.numruns),impressionOffset:void 0===e.impressionOffset?void 0:Number(e.impressionOffset),videoSlotCanAutoPlay:void 0===e.videoSlotCanAutoPlay?void 0:Boolean(e.videoSlotCanAutoPlay),desiredBitrate:void 0===e.desiredBitrate?void 0:Number(e.desiredBitrate),clickThroughCallback:"function"==typeof e.clickThroughCallback?e.clickThroughCallback:void 0,lang:"string"==typeof e.lang?e.lang:o.RU,saveCurrentTime:"boolean"==typeof e.saveCurrentTime?e.saveCurrentTime:void 0})},t.extractVmapLoadParameters=function(e){return i.deleteUndefinedProperties({vmapLoadTimeout:void 0===e.vmapLoadTimeout?void 0:Number(e.vmapLoadTimeout),blockInfoLoadTimeout:void 0===e.blockInfoLoadTimeout?void 0:Number(e.blockInfoLoadTimeout)})},t.extractBlockParameters=function(e){return i.deleteUndefinedProperties(n({},s.parseStickyConfig(e),{vastTimeout:void 0===e.vastTimeout?void 0:Number(e.vastTimeout),wrapperTimeout:void 0===e.wrapperTimeout?void 0:Number(e.wrapperTimeout),wrapperMaxCount:void 0===e.wrapperMaxCount?void 0:Number(e.wrapperMaxCount),bufferFullTimeout:void 0===e.bufferFullTimeout?void 0:Number(e.bufferFullTimeout),bufferEmptyLimit:void 0===e.bufferEmptyLimit?void 0:Number(e.bufferEmptyLimit),skipDelay:void 0===e.skipDelay?void 0:Number(e.skipDelay),timeLeftShow:void 0===e.timeLeftShow?void 0:Boolean(e.timeLeftShow),visitSiteShow:void 0===e.visitSiteShow?void 0:Boolean(e.visitSiteShow),videoTimeout:void 0===e.videoTimeout?void 0:Number(e.videoTimeout),vpaidTimeout:void 0===e.vpaidTimeout?void 0:Number(e.vpaidTimeout)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(t.VideoPlayingState||(t.VideoPlayingState={}))},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(33),c=r(114),f=r(240),p=r(94),A=r(19),h=r(8),v=r(9),y=r(36),m=r(241),E=r(120),_=r(58),S=r(55),g=r(252),T=r(122),b=r(253),O=r(18),P=r(1),w=r(2),C=r(6),I=r(123),D=r(35),R=r(31),M=r(59),N=r(3),k=r(14),L=r(254),V=r(260),B=r(267),F=r(269),x=r(126),U=r(96),j=r(276),K=r(284),G=r(290),H=r(25),W=r(112),Y=0,q=100,X=function(e){function t(t,r,n){var o=e.call(this,n)||this;o.qualityLevel=0,o.autoplayAbility=a({},m.NEGATIVE_AUTOPLAY_ABILITY),o.onDetectAutoplayAbility=new v.Signal,o.onPlayRequest=new v.Signal,o.onCurrentPositionChange=new v.Signal,o.onAdSkippableStateChange=new v.Signal,o.viewersList=[],o.volumeChangingIntervalId=0,o.adSkippableState=!1,o.startBlur=function(e){e.viewer.playbackParams.backgroundBlur&&(o.tryAppendBlur(),o.blur&&o.blur.start())},o.stopBlur=function(){o.blur&&(o.blur.stop(),o.config.backgroundBlur||o.destroyBlur())},o.destroyBlur=function(){o.blur&&(o.blur.destroy(),o.blur=void 0)},o.updateAdSkippableState=function(e){o.adSkippableState!==e&&(o.adSkippableState=e,o.onAdSkippableStateChange.dispatch(e))},o.config=S.extractAdDisplayConfig(t),o.videoNode=r,++Y===q&&w.stats.errorToStats(new P.AdSDKError({code:P.AdSDKErrorCodes.TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS,details:void 0})),w.stats.event(a({},C.AdSDKEvent.CreateAdDisplayController,{data:{config:o.config}}));var i=r.volume;o.savedVolume=i||T.DEFAULT_VOLUME;var s=o.config.lang;return o.desiredBitrate=t.desiredBitrate,o.videoNodeController=new j.VideoNodeController(r),t.qualityLevel&&(o.qualityLevel=t.qualityLevel),o.onAdEnd.add(function(){return o.setVisibleNativeControls(!0)}),o.onReady.add(function(){return o.setVisibleNativeControls(!1)}),o.gui=o.addGui(),o.initBlur(),M.isInsecureVideoElement(o.videoNode)&&(o.onAdMediaStart.add(function(){r.style.cursor=o.getCurrentClickability()?"pointer":"default"}),o.onAdMediaEnd.add(function(){r.style.cursor="default"})),o.onCurrentPositionChange.add(function(e){var t=e.viewerTime,r=e.viewerDuration;if(o.currentViewer){var n=Boolean(o.config.showSkipButton)&&o.currentViewer.playbackParams.skipDelay>0&&t>=o.currentViewer.playbackParams.skipDelay,i=r-t,a=Math.floor(i/60),u=Math.floor(i-60*a);o.gui.controls.skip.setVisible(n);var l=void 0;l=isNaN(u)?"":" "+(u<10?"0"+u:u),o.gui.controls.timeLeft.setText(E.translate("TIME_LEFT",s)+" "+l)}}),o.onDestroy.add(function(){o.isFinished=!0,o.gui.wrapper.hide(),o.onPlayRequest.removeAll(),o.onCurrentPositionChange.removeAll(),o.onAdSkippableStateChange.removeAll(),o.currentViewer&&(o.currentViewer.isStarted&&(void 0===o.adType&&w.stats.error({error:new P.AdSDKError({code:P.AdSDKErrorCodes.EMPTY_AD_TYPE_WHILE_PLAYING,details:void 0})}),o.onAdMediaEnd.dispatch({adType:o.adType})),o.currentViewer.destroy(),o.currentViewer=void 0),o.videoNodeController.destroy(),clearInterval(o.volumeChangingIntervalId),h.removeNodeFromParent(o.nativeControlsHidder),o.gui.destroy(),o.revertVideoState()}),o}return i(t,e),t.prototype.showAd=function(e){var t=this;if(!e.mediaAds.length)return o.reject(new Error("AdSDK JS Error: no MediaAds in AdDisplayController received parameters"));var r=e.getFirstMediaAd().adBreak,n=r.adType?r.adType:k.ADType.preroll;return this.adType=n,this.isFinished=!1,this.viewersList=e.mediaAds.map(function(e){return t.createViewer(e)}).filter(function(e){return Boolean(e)}),new o(function(e,r){t.emitAdEnd=e;var o=function(){t.startAdPlayback(n).then(e).catch(function(e){t.onAdMediaEnd.dispatch({adType:n}),t.isFinished=!0,r(e)})};t.config.asyncAdStart?t.onBeforeAdStart.dispatch({adType:n,startAd:o}):(t.onBeforeAdStart.dispatch({adType:n}),o())}).catch(function(e){w.stats.errorToStats(e)}).then(function(){t.revertVideoState(),t.isFinished=!0,t.onAdEnd.dispatch({adType:n})})},t.prototype.getAdBreakForFlash=function(){var e=this.currentViewer;return e?e.mediaAd.adBreak:W.createAdBreak(a({},H.DEFAULT_BLOCK_COMMON_PARAMETERS,S.extractBlockParameters(this.config)),{responseText:""})},t.prototype.getClickThroughURL=function(){var e=this.currentViewer,t=this.viewersList,r=e||t[0];if(r)return r.mediaAd.playbackParams.clickThroughUrl;throw new Error("AdSDK JS Error: Cannot get clickThroughUrl")},t.prototype.setMuted=function(e,t){void 0===t&&(t=!1),this.setVolume(e?0:this.savedVolume,t)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=y.VPAIDViewMode.NORMAL);var n=this.currentViewer;n&&n.resizeAd(e,t,r)},t.prototype.clickThrough=function(e){this.currentViewer&&this.currentViewer.clickThrough(e)},t.prototype.play=function(e){return void 0===e&&(e=!0),e&&this.onPlayRequest.dispatch(void 0),this.currentViewer?this.currentViewer.play(e):o.reject(new Error("AdSDK Error: play request without AdMedia"))},t.prototype.pause=function(){this.currentViewer&&this.currentViewer.pause()},t.prototype.resume=function(){this.currentViewer&&this.currentViewer.resume()},t.prototype.close=function(){this.destroyNextViewers("close")},t.prototype.skipAllViewers=function(){this.skipCurrentViewer(),this.destroyNextViewers("skip")},t.prototype.skipCurrentViewer=function(e){this.gui.hide(),this.currentViewer&&this.currentViewer.getAdSkippableState()&&this.currentViewer.skipAd(),this.currentViewer||this.stop()},t.prototype.stop=function(){this.isFinished=!0,this.emit("stop"),this.emitAdEnd&&this.emitAdEnd()},t.prototype.getAdWidth=function(){return this.currentViewer?this.currentViewer.getAdWidth():0},t.prototype.getAdHeight=function(){return this.currentViewer?this.currentViewer.getAdHeight():0},t.prototype.trackEvent=function(e){this.currentViewer&&this.currentViewer.trackEvent(e)},t.prototype.trackEventForAllViewers=function(e){this.viewersList.forEach(function(t){t.trackEvent(e)})},t.prototype.getCurrentContentType=function(){return this.currentViewer?this.currentViewer.contentType:void 0},t.prototype.getCurrentTime=function(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0},t.prototype.getDuration=function(){var e=0;return this.viewersList.forEach(function(t){e+=t.getDuration()}),e},t.prototype.getPaused=function(){return!this.currentViewer||this.currentViewer.getPaused()},t.prototype.getVolume=function(){var e=this.currentViewer;if(e)return e.getVolume();var t=this.videoNode,r=t.muted,n=t.volume;return r?0:n},t.prototype.setVolume=function(e,t){if(void 0===t&&(t=!1),t)this.setVolumeSlowly(e);else{var r=this.currentViewer;r?r.setVolume(e):this.videoNodeController.setVolume(e)}},t.prototype.getAutoplay=function(){return void 0===this.config.autoplay||this.config.autoplay||this.getCurrentViewerIndex()>0},t.prototype.setVisibleNativeControls=function(e){e?h.removeNodeFromParent(this.nativeControlsHidder):(this.videoNode.controls=!1,this.nativeControlsHidder||(this.nativeControlsHidder=R.addStylesToElement(this.wrapperNode,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHidder))},t.prototype.getCurrentClickability=function(){if(this.currentViewer){var e=this.currentViewer.playbackParams,t=e.isClickable,r=e.visitSiteShow;return Boolean(t)&&!r}return!1},t.prototype.getCurrentSrc=function(){return this.currentViewer?this.currentViewer.getSrc():""},t.prototype.getMuted=function(){var e=this.currentViewer;return e?0===e.getVolume():this.videoNodeController.getMuted()},t.prototype.getAdSkippableState=function(){return this.adSkippableState},t.prototype.isPlayingDirect=function(){return Boolean(this.currentViewer&&this.currentViewer.mediaAd.vastAd.isDirectVPAID)},t.prototype.setVolumeSlowly=function(e){var t=this;clearInterval(this.volumeChangingIntervalId);var r=Date.now(),n=this.getVolume(),o=e<n,i=(o?1e3:400)*Math.abs(n-e);0!==i&&(this.volumeChangingIntervalId=window.setInterval(function(){var a=(Date.now()-r)/i;t.setVolume(o?Math.max(e,(1-a)*(n-e)):Math.min(e,a*(e-n))),a>=1&&clearInterval(t.volumeChangingIntervalId)},20))},t.prototype.toggleMute=function(e){void 0===e&&(e=!1),this.setMuted(!this.getMuted(),e)},t.prototype.revertVideoState=function(){this.initialVideoState&&(this.initialVideoState.revert(),delete this.initialVideoState)},t.prototype.trackError=function(e){this.currentViewer&&this.currentViewer.trackError(e)},t.prototype.addGui=function(){var e=this,t=new B.Gui(this.wrapperNode,this.config.lang),r=t.wrapper,n=t.controls;return n.play.setVisible(!this.getAutoplay()),this.on("pause",function(){n.play.show()}).on(["start","resume"],function(){n.play.hide()}).once("playAdMedia",function(){n.play.setVisible(!e.getAutoplay()||e.autoplayAbility.requireUserGesture)}),c.isTouchDevice?this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&n.pause.show()}):(this.onChangeHover.add(function(t){t?e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&!n.play.isVisible&&n.pause.show():n.pause.hide()}),this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&e.isHovered&&n.pause.show()})),this.on({pause:function(){return n.pause.hide()}}),t.on({click:function(){return e.clickThrough()},pause:function(){return e.pause()},play:function(){e.currentContentType===D.AdContentType.video?e.videoNodeController.play():e.play()},skip:function(){e.skipCurrentViewer()}}),t.onMuteButtonClick.add(function(){e.toggleMute()}),this.once("playAdMedia",function(){t.addSkin(),e.getCurrentClickability()?r.addClass(_.locals.pointer):r.removeClass(_.locals.pointer)}),this.onAdMediaEnd.add(function(){t.hide()}),this.on("muteChange",function(e){return t.setMuted(e)}),this.onAdMediaStart.add(function(r){var o=r.viewer,i=o.contentType,a=o.playbackParams,s=a.showGuiForVpaid,u=a.showTimeLeft,l=a.title,d=a.showSoundButton,c=a.isClickable,f=a.visitSiteShow,p=a.showTitle,A=a.showSkipButton;i===D.AdContentType.video||i===D.AdContentType.js&&s?t.show():t.hide(),t.topRightBlock.className=A?_.locals.topRightBlock:_.locals.topRightBlockMinimal,n.skip.setVisible(!1),n.timeLeft.setVisible(Boolean(u)),n.title.setText(l).setVisible(!N.isMobile()&&Boolean(p)&&Boolean(l)),n.mute.setVisible(!N.isIOS9OrLess()&&Boolean(d)),n.visitSite.setVisible(Boolean(c&&f)),t.setMuted(e.getMuted())}),this.config.asyncAdStart?this.onAdStart.add(function(){return t.show()}):this.onBeforeAdStart.add(function(){return t.show()}),t},t.prototype.initBlur=function(){d.internetExplorerVersion>-1||(this.onAdMediaStart.add(this.startBlur),this.onAdMediaEnd.add(this.stopBlur),this.onDestroy.add(this.destroyBlur),this.config.backgroundBlur&&this.tryAppendBlur())},t.prototype.tryAppendBlur=function(){if(!this.blur){var e=this.videoNode.parentElement;e?this.blur=new L.BackgroundBlur(e,this.videoNode):M.isInsecureVideoElement(this.videoNode)&&w.stats.errorToStats(new P.AdSDKError({code:P.AdSDKErrorCodes.NO_PARENT_ELEMENT_FOR_BLUR,details:void 0}))}},t.prototype.getCurrentViewerIndex=function(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0},t.prototype.playAdMedia=function(e){var t=this;this.currentViewer=e,e.trackEvent(x.CustomTrackingEventType.ON_CREATIVE_INIT);var r=e.playbackParams,n=e.contentType,i=n===D.AdContentType.video,a=i?r.videoTimeout:r.vpaidTimeout,s=i?P.AdSDKErrorCodes.VIDEO_TIMEOUT:P.AdSDKErrorCodes.VPAID_START_TIMEOUT,u=new Error;return new o(function(o,i){var l=!0;!function o(){return t.onPlayRequest.addOne(function(){if(!e.isStarted){var d=A.promiseTimeout(a),c=d.clear;d.promise.then(function(){if(t.autoplayAbility.requireUserGesture&&l)l=!1,o();else{var d=e.getSrc();i(new P.AdSDKError(u,{code:s,details:{contentType:n,timeout:a,src:d,config:t.config,playbackParams:r,isFirstErrorTimeout:l}}))}}),e.once(["start","resume"],c),t.onAdMediaEnd.addOne(c)}})}();var d=NaN,c=t.onPlayRequest.addOne(function(){d=Date.now()});t.onAdMediaEnd.addOne(c),e.on("start",function(){isNaN(d)?w.stats.errorToStats(new P.AdSDKError({code:P.AdSDKErrorCodes.AdPodStartWithoutPlayRequest,details:void 0})):O.LOG_STATS&&w.stats.value({name:I.AdSDKStatsValue.AdPodStartTime,value:Date.now()-d,data:{src:e.getSrc(),config:t.config,errorTimeout:a,playRequestTime:String(d)},labels:{contentType:n}})}),t.emit("playAdMedia"),t.play(t.getAutoplay()).then(o).catch(i)}).catch(function(e){t.trackError(e),w.stats.errorToStats(e),N.logError("AdPod playing error",e)}).then(function(){t.currentViewer=void 0,e.destroy()})},t.prototype.getCurrentViewerStartTime=function(){for(var e=this.getCurrentViewerIndex(),t=0,r=0;r<e;r++)t+=this.viewersList[r].getDuration();return t},t.prototype.createViewer=function(e){var t,r=e.playbackParams,n=this.config;switch(this.config.trackingEvents&&(e.vastAd.trackingEvents=U.mergeTrackingEvents(e.vastAd.trackingEvents,this.config.trackingEvents)),e.contentType){case D.AdContentType.js:t=new F.JSVpaidViewer(this,e);break;case D.AdContentType.video:t=new G.VideoViewer(this,e);break;case D.AdContentType.flash:return void w.stats.event(a({},C.AdSDKEvent.CannotCreateFlashVPAIDViewer,{data:{mediaFiles:e.vastAd.mediaFiles}}));default:throw new Error("AdSDKJS Error: Unresolved content type of mediaAd: "+e.contentType)}return n.numruns&&t.setNumRepeats(n.numruns),e.vastAd.isDirectVPAID?t.impressionTrackOffset=b.DIRECT_IMPRESSION_TRACK_OFFSET:void 0!==n.impressionOffset&&(t.impressionTrackOffset=n.impressionOffset),void 0!==n.showTimeLeft&&(r.showTimeLeft=n.showTimeLeft),void 0!==n.visitSiteShow&&(r.visitSiteShow=n.visitSiteShow),void 0!==n.showSoundButton&&(r.showSoundButton=n.showSoundButton),void 0!==n.showSkipButton&&(r.showSkipButton=n.showSkipButton),void 0!==n.showTitle&&(r.showTitle=n.showTitle),void 0!==n.pauseAllowed&&(r.pauseAllowed=n.pauseAllowed),"boolean"==typeof n.backgroundBlur&&(r.backgroundBlur=n.backgroundBlur),!1===n.pauseOnClickThrough&&(r.pauseOnClickThrough=!1),!0===n.showGuiForVpaid&&(r.showGuiForVpaid=!0),"number"==typeof n.skipDelay&&(r.skipDelay=n.skipDelay),"number"==typeof n.bufferFullTimeout&&(r.bufferFullTimeout=n.bufferFullTimeout),"string"==typeof n.clickThroughUrl&&(r.clickThroughUrl=n.clickThroughUrl,r.isClickable=Boolean(n.clickThroughUrl)),!0===n.clickThroughConfirmation&&(r.clickThroughConfirmation=!0),t},t.prototype.startAdPlayback=function(e){return s(this,void 0,o,function(){var t,r,n,i,a,s,d,c,h,v,y,E,_,S=this;return u(this,function(u){switch(u.label){case 0:return n=void 0===this.config.saveCurrentTime?e===k.ADType.midroll:this.config.saveCurrentTime,this.initialVideoState=new K.VideoState(this.videoNode,n),this.videoNode.loop=!1,(i=this.config.poster)?(this.videoNodeController.setPoster(i),[3,3]):[3,1];case 1:return[4,o.race([p.knockPixel(f.TRANSPARENT_PIXEL_BASE64,{allowRelative:!0}),A.promiseTimeout(g.BASE64_IMG_LOAD_TIMEOUT).promise])];case 2:if(a=u.sent(),this.isFinished)throw new P.AdSDKError({code:P.AdSDKErrorCodes.AD_FINISHED_DURING_CHECK_POSTER,details:void 0});a&&this.videoNodeController.setPoster(f.TRANSPARENT_PIXEL_BASE64),u.label=3;case 3:return"boolean"!=typeof(d=this.config.videoSlotCanAutoPlay)?[3,4]:(s=d?m.POSITIVE_AUTOPLAY_ABILITY:m.NEGATIVE_AUTOPLAY_ABILITY,[3,7]);case 4:return M.isInsecureVideoElement(this.videoNode)?[4,this.requestAutoplayAbility()]:[3,6];case 5:if(s=u.sent(),this.isFinished)throw new P.AdSDKError({code:P.AdSDKErrorCodes.AD_FINISHED_DURING_RAA,details:void 0});return[3,7];case 6:s=m.POSITIVE_AUTOPLAY_ABILITY,u.label=7;case 7:this.autoplayAbility=s,this.onDetectAutoplayAbility.dispatch(s),this.autoplayAbility.requireMute&&this.videoNodeController.setMute(!0),(c=this.viewersList[0]).onReady.addOne(function(){return S.onReady.dispatch(void 0)}),c.once("start",function(){return S.onAdStart.dispatch({adType:e})}),h=this.viewersList.length,this.viewersList.forEach(function(e){e.once("complete",function(){h-=1})}),this.viewersList.forEach(function(t){S.reemit(t,["start","resume","muteChange","pause","impression"]),t.on("skip",function(){return S.onAdSkipped.dispatch({adType:e})}),t.once("start",function(){return S.onAdMediaStart.dispatch({viewer:t,adType:e})}),t.onCurrentPositionChange.add(function(e){var t=e.currentTime,r=e.duration;S.onCurrentPositionChange.dispatch({viewerTime:t,viewerDuration:r,totalTime:S.getCurrentViewerStartTime()+t,totalDuration:S.getDuration()})}),t.onClickThrough.add(function(e){return S.onClickThrough.dispatch(e)});var r=t.mediaAd.playbackParams,n=r.skipDelay,o=r.showGuiForVpaid;"video"===t.contentType||o?t.onCurrentPositionChange.add(function(e){var t=e.currentTime,r=0!==n&&t>n;S.updateAdSkippableState(r)}):"js"===t.contentType&&t.onAdSkippableStateChange.add(S.updateAdSkippableState)}),u.label=8;case 8:u.trys.push([8,13,14,15]),v=l(this.viewersList),y=v.next(),u.label=9;case 9:return y.done?[3,12]:(E=y.value,this.isFinished?[3,11]:(this.updateAdSkippableState(!1),[4,this.playAdMedia(E)]));case 10:u.sent(),this.onAdMediaEnd.dispatch({adType:e}),u.label=11;case 11:return y=v.next(),[3,9];case 12:return[3,15];case 13:return _=u.sent(),t={error:_},[3,15];case 14:try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}return[7];case 15:return 0===h&&this.onAllAdPodComplete.dispatch({adType:e}),[2]}})})},t.prototype.requestAutoplayAbility=function(){return s(this,void 0,o,function(){var e,t,r,n,o;return u(this,function(i){switch(i.label){case 0:e=Date.now(),t=m.requestAutoplayAbility(this.videoNode,{checkSoundEnabled:!this.getMuted()}),r=t.promise,n=t.stop,this.onDestroy.add(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),this.isFinished||w.stats.error({error:new P.AdSDKError({code:P.AdSDKErrorCodes.RAA_WAS_STOPPED_WITHOUT_AD_FINISH,details:void 0})}),[2,a({},m.NEGATIVE_AUTOPLAY_ABILITY)];case 4:return w.stats.value({name:I.AdSDKStatsValue.DetectAutoplayAbilityTime,value:Date.now()-e,data:{config:this.config,autoplayAbility:o},labels:{},probability:O.LOG_PROBABILITY}),[2,o]}})})},t.prototype.destroyNextViewers=function(e){var t=this.viewersList,r=this.currentViewer;this.gui.hide(),r&&r.destroy();for(var n=this.getCurrentViewerIndex();n<t.length;n++){t[n].mediaAd.trackEvent(e)}this.stop()},t}(V.DisplayController);t.AdDisplayController=X},function(e,t,r){(t=e.exports=r(121)(!1)).push([e.i,".yaAdSdkGui{position:static;margin:0;padding:0;font-family:Arial,sans-serif;font-size:12px;color:#fff;text-align:left;line-height:normal;background-color:#000;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdkGui .timeLeft{position:absolute;top:10px;left:10px;background-color:#333;background-color:rgba(51,51,51,.7);padding:6px!important;cursor:default;width:auto}.yaAdSdkGui.yaAdSdkGui_mobile .timeLeft{font-size:12px}.yaAdSdkGui .skip{position:absolute;top:10px;right:10px;padding:6px 27px 6px 8px;background:#333 url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='18px' height='17px'%3E %3Cdefs/%3E %3Cg%3E %3Cpath stroke='none' fill='%23FFFFFF' d='M0 14.85 L6.35 8.5 0 2.15 2.15 0 10.65 8.5 2.15 17 0 14.85'/%3E %3C/g%3E%3C/svg%3E\") no-repeat 100%;background:rgba(51,51,51,.7) url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='18px' height='17px'%3E %3Cdefs/%3E %3Cg%3E %3Cpath stroke='none' fill='%23FFFFFF' d='M0 14.85 L6.35 8.5 0 2.15 2.15 0 10.65 8.5 2.15 17 0 14.85'/%3E %3C/g%3E%3C/svg%3E\") no-repeat 100%;cursor:pointer}.yaAdSdkGui.yaAdSdkGui_mobile .skip{font-size:12px}.yaAdSdkGui .mute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-on%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000' transform='translate(1 1)'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)' transform='translate(1 1)'/%3E%3C/g%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.208 13.5c.626-1.085.596-2.093 0-3' stroke='%23FFF' stroke-width='1.3' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .mute,.yaAdSdkGui .unMute{position:absolute;top:2px;left:0;width:24px;height:25px;cursor:pointer}.yaAdSdkGui .unMute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-off%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000' transform='translate(1 1)'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)' transform='translate(1 1)'/%3E%3C/g%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.25 10.25l3.5 3.5m0-3.5l-3.5 3.5' stroke='%23000' stroke-width='1.5' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui.yaAdSdkGui_mobile .mute,.yaAdSdkGui.yaAdSdkGui_mobile .unMute{background-size:100% 100%;width:30px;height:30px;top:-1px;left:55px;max-width:none}.yaAdSdkGui .play{position:absolute;top:50%;margin-top:-65px;left:50%;margin-left:-65px;width:130px;height:130px;cursor:pointer;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='130' height='130' viewBox='0 0 130 130' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3EGroup 3%3C/title%3E%3Cg fill='none' fill-rule='evenodd' opacity='.7'%3E%3Ccircle fill='%23000' cx='65' cy='65' r='65'/%3E%3Ccircle stroke='%23B2B2B2' stroke-width='12' cx='65' cy='65' r='52'/%3E%3Cpath fill='%23D8D8D8' d='M90.188 65L50 88V42z'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .pause{display:block}.yaAdSdkGui .title{position:absolute;top:10px;margin:0 150px 0 100px;background-color:#333;background-color:rgba(51,51,51,.7);font-size:12px;cursor:default;padding:6px 8px}@media (max-width:640px){.yaAdSdkGui .title{display:none}}.yaAdSdkGui .topRightBlock{position:absolute;top:10px;right:10px;width:135px}.yaAdSdkGui.yaAdSdkGui_mobile .topRightBlock{width:190px}.yaAdSdkGui .topRightBlockMinimal{position:absolute;top:10px;right:10px;width:85px}.yaAdSdkGui.yaAdSdkGui_mobile .topRightBlockMinimal{position:absolute;top:auto;bottom:40px;right:10px;width:85px}.yaAdSdkGui .visitSiteWrapper{position:absolute;width:100%;bottom:0;text-align:center}.yaAdSdkGui .visitSite{color:#fff;font-family:Arial,sans-serif;font-size:13px;opacity:.8;padding:5px 10px;background:#000;background:rgba(0,0,0,.5);border-radius:2px;text-align:center;display:inline-block;cursor:pointer}.pointer{cursor:pointer}.yaAdSdk_iosVideoCurtain_wrapper{position:static;z-index:1;padding:0;margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdk_iosVideoCurtain{position:absolute;width:100%;height:100%;top:0}",""]),t.locals={yaAdSdkGui:"yaAdSdkGui",timeLeft:"timeLeft",yaAdSdkGui_mobile:"yaAdSdkGui_mobile",skip:"skip",mute:"mute",unMute:"unMute",play:"play",pause:"pause",title:"title",topRightBlock:"topRightBlock",topRightBlockMinimal:"topRightBlockMinimal",visitSiteWrapper:"visitSiteWrapper",visitSite:"visitSite",pointer:"pointer",yaAdSdk_iosVideoCurtain_wrapper:"yaAdSdk_iosVideoCurtain_wrapper",yaAdSdk_iosVideoCurtain:"yaAdSdk_iosVideoCurtain"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInsecureVideoElement=function(e){return e&&"function"==typeof e.getAttribute}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.resetEventBus()}return e.toEventsArr=function(e,t){var r=[];if("string"==typeof e){if(!t)throw new Error("AdSDK: EventBus: you MUST pass function with string param");r.push({name:e,callback:t})}else if(e instanceof Array){for(var o in e)if(e.hasOwnProperty(o)){if("function"!=typeof t)throw new Error("You MUST pass callback in the second parameter with eventsName array");e.hasOwnProperty(o)&&r.push({name:e[o],callback:t})}}else{if("object"!==(void 0===e?"undefined":n(e)))throw new Error("Event name MUST be a string");for(var o in e)e.hasOwnProperty(o)&&r.push({name:o,callback:e[o]})}return r},e.addEvent=function(e,t){var r=t.name,n=t.callback;if("function"!=typeof n)throw new Error("Event listener MUST be a function");e[r]||(e[r]=[]),-1===e[r].indexOf(n)&&e[r].push(n)},e.addEvents=function(t,r){for(var n in r)r.hasOwnProperty(n)&&e.addEvent(t,r[n])},e.offCallbackByCallbacks=function(e,t){if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},e.prototype.resetEventBus=function(){return this._events={on:{},once:{}},this},e.prototype.on=function(t,r){return e.addEvents(this._events.on,e.toEventsArr(t,r)),this},e.prototype.once=function(t,r){return e.addEvents(this._events.once,e.toEventsArr(t,r)),this},e.prototype.when=function(e){var t=this;return new o(function(r){if("string"==typeof e)t.once(e,r);else{if(!(e instanceof Array))throw new Error('EventBus "when" method can take a string on string array parameter');for(var n in e)e.hasOwnProperty(n)&&t.once(e[n],r)}})},e.prototype.off=function(t,r){return this.offEvents(e.toEventsArr(t,r)),this},e.prototype.emit=function(e,t){if("string"==typeof e)this.emitEvent(e,t);else if(e instanceof Array)for(var r in e)e.hasOwnProperty(r)&&this.emitEvent(e[r],t);else if("object"===(void 0===e?"undefined":n(e)))for(var o in e)e.hasOwnProperty(o)&&this.emitEvent(o,e[o]);return this},e.prototype.reemit=function(e,t){var r=this,n=t instanceof Array?t:[t];for(var o in n)n.hasOwnProperty(o)&&function(t){e.on(t,function(e){return r.emit(t,e)})}(n[o]);return this},e.prototype.offEvents=function(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r],o=n.name,i=n.callback;e.offCallbackByCallbacks(this._events.on[o],i),e.offCallbackByCallbacks(this._events.once[o],i)}},e.prototype.emitEvent=function(e,t){this.emitEvents(this._events.on[e],t),this.emitEvents(this._events.once[e],t),this._events.once[e]=[]},e.prototype.emitEvents=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&e[r].apply(this,[t])},e}();t.EventBus=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_TIMEUPDATE_INTERVAL=250,t.SMART_TV_TIMEUPDATE_INTERVAL=1500,t.GOOGLE_IMA_SDK_TIMEUPDATE_INTERVAL=500},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdBreaksByType=function(e,t){return e.filter(function(e){return e.adType===t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(106),o=r(127),i=r(307);t.removeRequiredHtmlControlsAdPods=function(e,t){var r=t.ownerDocument||document,a=r.defaultView||window,s=o.getFullscreenElement(a,t)===t,u=i.getPictureInPictureElement(r)===t,l=n.expand(e.map(function(e){return e.separateAdPods()}));return s||u?(l.forEach(function(e){e.removeRequiredHtmlControlsAdPods(s?"Fullscreen":"PiP")}),l.filter(function(e){return e.getAdPodsCount()>0})):l}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(40);function s(e,t){return o(this,void 0,n,function(){var r;return i(this,function(n){switch(n.label){case 0:return void 0===t?[2,void 0]:[4,a.AdLoader.createFromBlock(e,t).loadAd().catch(function(){})];case 1:return[2,void 0===(r=n.sent())?void 0:{adViewer:r,adBreak:t}]}})})}t.loadAdViewerForAdBreak=s,t.loadAdViewersForAdBreaks=function(e,t){return o(this,void 0,n,function(){return i(this,function(r){switch(r.label){case 0:return[4,n.all(t.map(function(t){return s(e,t)}))];case 1:return[2,r.sent().filter(function(e){return void 0!==e})]}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroyAdViewers=function(e){e.forEach(function(e){return e.destroy()})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdViewerFromAdViewerWithAdBreak=function(e){return e.adViewer}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),s=r(1),u=r(27),l=r(187),d=r(3),c=r(14),f=r(95),p=r(193),A=r(105),h=r(218);function v(e,t,r){var n=e.vastTimeout,o=e.wrapperMaxCount,i=e.wrapperTimeout;return{vastSourceType:t||r&&d.isAdFoxDomain(r)?"AD_FOX":r&&d.isYandexDomain(r)?"YANDEX":"EXTERNAL",vastTimeout:n,ignoreVastVersion:!1,wrapperMaxCount:o,wrapperTimeout:i}}function y(e,t){var r=t.adType,s=e.adFoxUrlVast,d=function(e,t){var r;return t===c.ADType.midroll&&e.adFoxUrlMidRoll?r=e.adFoxUrlMidRoll:t===c.ADType.pauseroll&&e.adFoxUrlPauseRoll?r=e.adFoxUrlPauseRoll:t===c.ADType.postroll&&e.adFoxUrlPostRoll?r=e.adFoxUrlPostRoll:e.adFoxUrl&&(r=e.adFoxUrl),r?a.getParamsFromUrl(r).fmt?r:a.addParamsToUrl(r,{fmt:"1"}):void 0}(e,r);function p(){return o(this,void 0,n,function(){var r,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),(r=e.vast)?[4,h.VAST.fromXMLString(r,v(t,!1))]:[3,2];case 1:return[2,i.sent()];case 2:return n=e.vastUrl?e.vastUrl:(l.trackTns(String(e.partnerId)),f.getAdTagURI(e,t,Math.random())),[4,h.VAST.load(n,v(t,!1,n))];case 3:return[2,i.sent()];case 4:return[3,6];case 5:throw o=i.sent(),u.trackError(o),o;case 6:return[2]}})})}return Boolean(d||s)?(s?h.VAST.fromXMLString(s,v(t,!0)):d?h.VAST.load(f.getWrapperAdTagURI(d),v(t,!0,d)):n.reject(new Error("AdSDK Error: AdManager: bad condition: adFoxUrl and adFoxVastString"))).catch(function(e){return u.trackError(e),p()}):p()}t.loadAd=function(e,t){return o(this,void 0,n,function(){var r,n,o,a;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,y(e,t)];case 1:return r=i.sent(),[3,3];case 2:throw(n=i.sent()).details||(n.details={}),n.details.adConfig=e,n;case 3:if(0===r.ads.length)throw new s.AdSDKError({code:s.AdSDKErrorCodes.NO_AD_SECTION,details:void 0});if(o=r.ads.map(function(e){return e.vast=r,new p.MediaAd(t,e)}),(a=new A.MediaAds(o)).hasMedia())return[2,a];throw new s.AdSDKError({code:s.AdSDKErrorCodes.NO_AD_TO_DISPLAY,details:void 0})}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.getNativeMethod=function(e,t){var r=e[t];if(!n.checkNativeCode(r)){var o=r;try{delete e[t];var i=e[t];"function"==typeof i&&(r=i),e[t]=o}catch(e){}}return r}},function(e,t,r){"use strict";function n(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(o,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~r.indexOf(i)&&(i=t.call(this,o,i))}else r.push(i);return null==e?i:e.call(this,o,i)}}(e.exports=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)}).getSerialize=n},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(71),a=r(26),s=r(143),u=r(145),l=r(28),d=r(43),c=r(75),f=r(77),p=r(21),A=r(78),h=r(11),v=r(79),y=r(149),m=r(7),E=r(151),_=r(152),S=r(153),g=r(154),T=r(69);t.SEPARATE_SIGN="_",t.CREATE_TAGS_FOR_STATS_DEFAULT=function(e){var r,o=e.eventType,i=e.eventName,a=e.value,s=e.values,u={};return p.forOwn(s,function(e,r){u[""+o+t.SEPARATE_SIGN+i+t.SEPARATE_SIGN+r]=e}),n(((r={})[""+o+t.SEPARATE_SIGN+i]=a,r),u)};var b=/^\w(\-|:|\s|\.|\w){1,20}$/,O=/^\w(\-|:|\s|\.|\w){0,70}$/,P=/^\w(\-|:|\s|\.|\w){1,70}$/,w=function(){function e(e){var t=this;this.rootFields={},this.labels={},this.event=function(e){var r=e.name,n=e.data,o=e.labels,i=e.probability;t.push({eventType:g.StatsEventType.event,eventName:r,data:n,additionalStatsLabels:o,probability:i})},this.error=function(e){var r=e.error,n=e.labels,o=e.probability,i=new a.CustomError(r);t.push({eventName:String(i.code),eventType:g.StatsEventType.error,data:i,additionalStatsLabels:n,probability:o})},this.value=function(e){var r=e.name,n=e.value,o=e.data,i=e.labels,a=e.probability;t.push({eventName:r,value:n,eventType:g.StatsEventType.value,data:o,additionalStatsLabels:i,probability:a})},this.values=function(e){var r=e.name,n=e.values,o=e.data,i=e.labels,a=e.probability;t.push({eventName:r,eventType:g.StatsEventType.values,data:o,additionalStatsLabels:i,probability:a,values:n})},this.warning=function(e){var r=e.name,n=e.message,o=e.probability;"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n),t.push({eventName:r,eventType:g.StatsEventType.warning,data:{message:n},probability:o})},this.getParams=function(){return n({},t.params)},this.setRootFields=function(e){A.getObjectEntries(e).forEach(function(e){var r=o(e,2),n=r[0],i=r[1];void 0===i?delete t.rootFields[n]:t.rootFields[n]=i})},this.setLabels=function(e){A.getObjectEntries(e).forEach(function(e){var r=o(e,2),n=r[0],i=r[1];void 0===i?delete t.labels[n]:t.labels[n]=i})},this.eventToStats=function(e,r,n){t.push({eventType:g.StatsEventType.event,eventName:e,data:r,additionalStatsLabels:n})},this.errorToStats=function(e,r){var n=new a.CustomError(e);t.push({eventName:String(n.code),eventType:g.StatsEventType.error,data:n,additionalStatsLabels:r})},this.deprecated=function(e,r){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(r),t.push({eventName:e,eventType:g.StatsEventType.deprecated,data:{message:r}})},this.valueToStats=function(e,r,n,o){t.push({eventName:e,value:r,eventType:g.StatsEventType.value,data:n,additionalStatsLabels:o})},this.params=n({},e,{sid:e.sid||d.generateHexString(_.DEFAULT_SID_LENGTH)}),this.logUrl=!0===e.useAlias?S.PCODE_LOGS_URL_ALIAS:S.PCODE_LOGS_URL}return e.prototype.push=function(e){var r,o=e.eventName,i=e.eventType,a=e.data,s=void 0===a?{}:a,u=e.additionalStatsLabels,l=e.value,d=void 0===l?1:l,c=e.probability,f=void 0===c?1:c,p=e.values,A=void 0===p?{}:p;if(v.portion(f)){var h=this.params,y=h.service,E=h.version,_={service:y,version:E,data:s,eventName:o,eventType:i,additionalStatsLabels:u,value:d,values:A},S=m.addParamsToUrl(this.logUrl,n(((r={})[y]=E,r[i]=o,r),u));try{this.sendData(S,T(this.createFullStatsObject(_)))}catch(e){t.stats.errorToStats(e,{service:y}),"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Cannot send stats data ["+JSON.stringify({service:y,version:E,eventType:i,eventName:o})+"]")}}},e.prototype.sendData=function(e,t){if(this.params.useSendBeacon&&y.sendBeaconShim(e,t))return;f.request({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})},e.prototype.createFullStatsObject=function(e){var r=e.service,d=e.version,f=e.eventName,p=e.eventType,v=e.data,y=e.additionalStatsLabels,m=e.value,E=(this.params.createTagsFunction||t.CREATE_TAGS_FOR_STATS_DEFAULT)(e),_=n({},this.labels,y,{version:this.params.version}),S={service:r,tags:E,labels:_};h.getObjectKeys(E).forEach(function(e){if(!P.test(e))throw new a.CustomError({code:i.CommonError.STATS_SENSOR_NAME_ERROR,details:{service:r,sensorName:e}})}),A.getObjectEntries(_).forEach(function(e){var t=o(e,2),n=t[0],s=t[1];if(!b.test(n))throw new a.CustomError({code:i.CommonError.STATS_LABEL_KEY_ERROR,details:{service:r,labelKey:n}});if(!O.test(s))throw new a.CustomError({code:i.CommonError.STATS_LABEL_VALUE_ERROR,details:{service:r,labelValue:s}})});var g=u.getTopLocationData(document),T=g.location,w=g.referrer;return n({},this.rootFields,S,{timestamp:Date.now(),eventType:p,eventName:f,data:v,sid:this.params.sid,version:d,location:l.getWindowLocation(window),topLocation:T,referrer:window.document.referrer,topReferrer:w,userAgent:window.navigator.userAgent,currentScriptSrc:s.CURRENT_SCRIPT_SRC,secureIFrame:c.isInSecureIFrame,value:m})},e}();t.Stats=w,t.stats=new w({service:E.COMMON_LOCAL_STATS_SERVICE_NAME,version:"0",sid:d.generateHexString(_.DEFAULT_SID_LENGTH)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",e.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",e.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",e.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR"}(t.CommonError||(t.CommonError={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),o=r(73);t.getParentLocationsData=function(e){var t=o.getParentFriendlyIFrames(e.documentElement).map(function(e){return e.ownerDocument});return t.unshift(e),t.map(function(e){return{location:n.getWindowLocation(e.defaultView),referrer:e.referrer}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41);t.getParentFriendlyIFrames=function(e,t){if(void 0===t&&(t=!0),n.isSafari&&t)return[];for(var r=[],o=e;;)try{if(!(o=o.ownerDocument.defaultView.frameElement))return r;r.push(o)}catch(e){return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42);t.getIsTizen=function(e){return void 0===e&&(e=window),n.getUserAgent(e).toLowerCase().indexOf("tizen")>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(147);t.isInSecureIFrame=n.isInSecureIFrame()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=function(e,t,r){for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o],o,e);return n}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(21),a=200;t.request=function e(t){var r,s=t.method,u=t.url,l=t.async,d=void 0===l||l,c=t.data,f=t.responseType,p=void 0===f?"text":f,A=t.onBeforeSend,h=void 0===A?o.noop:A,v=t.onError,y=void 0===v?o.noop:v,m=t.onSuccess,E=void 0===m?o.noop:m,_=t.onRetry,S=void 0===_?o.noop:_,g=t.checkStatus,T=void 0===g?function(e){return a===e}:g,b=t.headers,O=void 0===b?{}:b,P=t.xhrConstructor,w=void 0===P?XMLHttpRequest:P,C=t.retries,I=void 0===C?0:C,D=t.timeout,R=void 0===D?0:D,M=t.withCredentials,N=new w;N.open(s,u,d),N.responseType=p,N.withCredentials=Boolean(M),i.forOwn(O,function(e,t){try{N.setRequestHeader(t,e)}catch(e){}}),R>0&&isFinite(R)&&(r=window.setTimeout(function(){k(new Error("Request timeout, "+u))},R));var k=function(o){if(N.onerror=null,N.onreadystatechange=null,void 0!==r){clearTimeout(r);try{N.abort()}catch(o){}}I>0?(S(o),e(n({},t,{retries:I-1}))):y(o,N)};N.onerror=k,N.onreadystatechange=function(){if(4===N.readyState){var e=N.status;T(e)?(clearTimeout(r),E(N)):k(new Error("Invalid request status "+e+", "+u))}},h(N,t);try{N.send(c)}catch(e){k(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.getObjectEntries=function(e){return"function"==typeof Object.entries?Object.entries(e):n.getObjectKeys(e).map(function(t){return[t,e[t]]})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148);t.portion=function(e,t,r,o){void 0===o&&(o=!1);var i=e>(o?Math.random():n.RANDOM),a=i?t:r;return"function"==typeof a&&a(),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(157);t.INTERACTIVE_VIEWER_TESTTAG_GET_PARAMETER="interactive-viewer-test-tag",t.ADSDK_TESTTAG_GET_PARAMETER="adsdk-test-tag",t.TESTTAG_GET_PARAMETER=n.IS_INTERACTIVE_VIEWER_BUNDLE?t.INTERACTIVE_VIEWER_TESTTAG_GET_PARAMETER:t.ADSDK_TESTTAG_GET_PARAMETER},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28);t.getWindowChain=function(e){for(var t=[];e;)try{if(n.getWindowLocation(e),t.push(e),e.parent===e)break;e=e.parent}catch(e){break}return t}},function(e,t,r){"use strict";var n,o,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(162),u=r(17),l=r(12),d=r(16);!function(e){e.VERSION="VERSION",e.BUNDLE="BUNDLE"}(a=t.AdSDKJSTestTagPropNames||(t.AdSDKJSTestTagPropNames={})),t.TestTagBundleIds=((o={})[u.LoaderBundleName.AdSDKLoader]=0,o[u.LoaderBundleName.InteractiveViewerLoader]=1,o[u.ModuleBundleName.AdSDK]=10,o[u.ModuleBundleName.AdLoader]=11,o[u.ModuleBundleName.BannerAd]=12,o[u.ModuleBundleName.InPage]=13,o[u.ModuleBundleName.InteractiveViewer]=14,o[u.ModuleBundleName.VideoPlayer]=15,o[u.ModuleBundleName.Multiroll]=16,o[u.ModuleBundleName.VideoBannerAd]=17,o[u.DevBundleName.Examples]=30,o[u.DevBundleName.Dashboard]=30,o[u.TestBundleName.Test]=31,o);var c=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.getTemplate=function(){return[[10,a.VERSION],[5,a.BUNDLE]]},r.prototype.defaults=function(){var e;return(e={})[a.VERSION]=l.BUILD_VERSION,e[a.BUNDLE]=t.TestTagBundleIds[d.WEBPACK_BUNDLE_NAME],e},r}(s.AbstractTesttag);t.testtag=new c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(r(4).yandexGlobalObject.videoAd||{}).encodeUrl;t.isAbdBundle="function"==typeof n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function o(e){for(var t="",r=0;r<e.length;){var o=e.charCodeAt(r++),i=e.charCodeAt(r++),a=e.charCodeAt(r++),s=o>>2,u=(3&o)<<4|i>>4,l=(15&i)<<2|a>>6,d=63&a;isNaN(i)?l=d=64:isNaN(a)&&(d=64),t=t+n.charAt(s)+n.charAt(u)+n.charAt(l)+n.charAt(d)}return t}function i(e){var t=[],r=0;for(e=e.replace(/[^A-Za-z0-9\-_=]/g,"");r<e.length;){var o=n.indexOf(e.charAt(r++)),i=n.indexOf(e.charAt(r++)),a=n.indexOf(e.charAt(r++)),s=n.indexOf(e.charAt(r++)),u=o<<2|i>>4,l=(15&i)<<4|a>>2,d=(3&a)<<6|s;t.push(String.fromCharCode(u)),64!==a&&t.push(String.fromCharCode(l)),64!==s&&t.push(String.fromCharCode(d))}return t.join("")}function a(e){for(var t=[],r=0;r<e.length;){var n=e.charCodeAt(r);if(n<128)t.push(String.fromCharCode(n)),r++;else if(n>191&&n<224){var o=e.charCodeAt(r+1);t.push(String.fromCharCode((31&n)<<6|63&o)),r+=2}else{o=e.charCodeAt(r+1);var i=e.charCodeAt(r+2);t.push(String.fromCharCode((15&n)<<12|(63&o)<<6|63&i)),r+=3}}return t.join("")}t.encode=function(e,t){return void 0===t&&(t=1e6),o(function(e,t){e=e.replace(/\r\n/g,"\n");for(var r="",n=0;n<e.length;n++){var o=e.charCodeAt(n),i=void 0;if(o<128?i=String.fromCharCode(o):o>127&&o<2048?(i=String.fromCharCode(o>>6|192),i+=String.fromCharCode(63&o|128)):(i=String.fromCharCode(o>>12|224),i+=String.fromCharCode(o>>6&63|128),i+=String.fromCharCode(63&o|128)),r.length+i.length>t)break;r+=i}return r}(e,3*t/4|0))},t.encodeUInt8String=o,t.decode=function(e){return a(i(e))},t.decodeUInt8String=i,t.utf8Decode=a,t.cropEquals=function(e){return e.replace(/=+$/,"")},t.addEquals=function(e){for(;e.length%4!=0;)e+="=";return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHead=function(e){var t=e.document,r=t.getElementsByTagName("head")[0];return r||(r=t.createElement("head"),t.documentElement.appendChild(r)),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATIC_DOMAIN="yastatic.net"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.mapObjectValues=function(e,t){var r={};return n.getObjectKeys(e).forEach(function(n){r[n]=t(e[n],n)}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(177),i=r(181),a=r(183),s=r(185),u=r(186);t.getSessionId=n.once(function(){return u.getSession(s.generateSessionId,i.getWindowStorage("common"),o.getCrossFrameStorage("common"),a.configureMetrika)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateItem=function(e,t,r){var n=e.getItem(t);return n||(n=r(t),e.setItem(t,n)),n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listToArray=function(e){if(!e)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.obj=e}return e.prototype.getItem=function(e){return this.obj[e]},e.prototype.setItem=function(e,t){this.obj[e]=t},e}();t.ObjectStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prependChild=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(188);function i(e,t){void 0===t&&(t={});var r=t.silent,i=void 0===r||r,a=t.allowRelative;return void 0!==a&&a||o.isAbsoluteUrl(e)?new n(function(t,r){var n=document.createElement("img");n.onload=function(){return t(e)},n.onerror=i?function(){return t(null)}:function(){return r(new Error("knockPixel failed to load image ["+e+"]"))},n.src=e}):i?n.resolve(null):n.reject("["+e+"] is not an absolute url, to knock this pixel use { allowRelative: true } option")}t.knockPixel=i,t.knockPixels=function(e,t){void 0===t&&(t={});var r=t.allowRelative,o=void 0!==r&&r;return n.all(e.map(function(e){return i(e,{silent:!0,allowRelative:o})}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(84),o=r(23),i=r(189);t.getAdTagURI=function(e,t,r){return n.isAbdBundle?t.adTagURI:i.addParamsToAdTagURI(e,t,r)},t.getWrapperAdTagURI=function(e){return n.isAbdBundle?e:o.addAdSDKParamsToUrl(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(11);t.extractTrackingEvents=function(e){var t={};return"object"===(void 0===e?"undefined":n(e))&&a.getObjectKeys(e).forEach(function(r){var n=e[r];Array.isArray(n)&&(t[r]=n.filter(function(e){return"string"==typeof e}))}),t},t.mergeTrackingEvents=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};return e.forEach(function(e){a.getObjectKeys(e).forEach(function(t){var n=r[t]||[],o=e[t]||[];r[t]=i(n,o)})}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(191),i=function(){function e(){}return e.addUnit=function(e){Array.isArray(n.yandexGlobalObject.videoAd.skipTokens)?-1===n.yandexGlobalObject.videoAd.skipTokens.indexOf(e)&&n.yandexGlobalObject.videoAd.skipTokens.push(e):n.yandexGlobalObject.videoAd.skipTokens=[e]},e.toBase64=function(){var t=e.getUnits();return t.length?o.encode(t.map(function(e){return"yabs."+e}).join("\n")):void 0},e.getUnits=function(){return Array.isArray(n.yandexGlobalObject.videoAd.skipTokens)?n.yandexGlobalObject.videoAd.skipTokens:[]},e}();t.SkipToken=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFriendlyIFrame=function(e){var t=e.ownerDocument.createElement("iframe");t.scrolling="no",t.setAttribute("allowfullscreen",""),t.style.display="block",e.appendChild(t);var r=t.contentDocument;return r.open(),r.close(),r.body.style.margin="0",t.style.borderWidth="0",t}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(33),u=r(41),l=r(200),d=r(201),c=r(202),f=r(51),p=r(101),A=window.URL||window.webkitURL||{},h="function"==typeof A.createObjectURL&&"function"==typeof A.revokeObjectURL,v=!u.isSafari&&!l.isTizen&&-1===s.internetExplorerVersion,y=function(){function e(t){var r=this;this.ready=!1;var o=t.type;if(e.canPreload(o)){var i=e.canPreloadWithVideoTag(o)?this.preloadWithVideoTag(t):this.preloadToBlob(t);this.readyPromise=i.then(function(e){return r.ready=!0,e||t})}else this.readyPromise=n.reject(new Error(o+" cannot be preloaded"))}return e.canPreload=function(e){return f.canPlayType(e)&&(this.canPreloadWithVideoTag(e)||this.canPreloadToBlob(e))},e.canPreloadWithVideoTag=function(e){return p.isHlsMediaFileType(e)&&u.isSafari||v},e.canPreloadToBlob=function(e){return h&&!p.isHlsMediaFileType(e)},e.prototype.isReady=function(){return this.ready},e.prototype.destroy=function(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),c.isString(this.blobUrl)&&A.revokeObjectURL(this.blobUrl)},e.prototype.preloadWithVideoTag=function(e){var t=document.createElement("video");return this.video=t,t.preload="auto",new n(function(r,n){t.oncanplaythrough=function(){return r(e)},t.onerror=n,t.src=e.url,t.load()})},e.prototype.preloadToBlob=function(e){return i(this,void 0,n,function(){var t,r=this;return a(this,function(n){switch(n.label){case 0:return[4,d.request({method:"GET",url:e.url,responseType:"blob",onBeforeSend:function(e){return r.xhr=e}})];case 1:return t=n.sent().response,[2,o({},e,{url:A.createObjectURL(t)})]}})})},e}();t.VideoPreloader=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.isSupportedHTML5Video="function"==typeof n.TEST_VIDEO_TAG.load},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(203);t.isHlsMediaFileType=function(e){return n.HLS_VIDEO_TYPES.indexOf(e.toLowerCase())>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevicePixelRatio=function(){var e;try{e=window.devicePixelRatio}catch(e){}return e||1}},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(20);t.hypot=a.checkNativeCode(Math.hypot)?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.hypot.apply(Math,i(e))}:function(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=0;try{for(var a=n(r),s=a.next();!s.done;s=a.next()){var u=s.value;if(u===1/0||u===-1/0)return 1/0;i+=Math.pow(u,2)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return Math.sqrt(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(215),o=r(216),i=r(53),a=r(1),s=r(35);t.getAdMediaFileContentType=function(e){var t=e.apiFramework,r=e.type;if(t===i.VPAID_API_FRAMEWORK){if(o.JS_VPAID_MEDIA_FILE_TYPES.indexOf(r)>-1)return s.AdContentType.js;if(r===n.FLASH_VPAID_MEDIA_FILE_TYPE)return s.AdContentType.flash;throw new a.AdSDKError({code:a.AdSDKErrorCodes.UNSUPPORTED_MEDIA_FILE_TYPE,details:{type:r}})}return s.AdContentType.video}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.mediaAds=e.sort(function(e,t){return e.vastAd.sequence-t.vastAd.sequence})}return e.prototype.getDuration=function(){return this.mediaAds.reduce(function(e,t){return e+t.duration},0)},e.prototype.getFirstMediaAd=function(){return this.mediaAds[0]},e.prototype.hasMedia=function(){return this.mediaAds.filter(function(e){return e.hasMedia()}).length>0},e.prototype.preload=function(e){var t=this;return this.mediaAds.forEach(function(t){t.preload(e)}),function(){t.mediaAds.forEach(function(e){e.cancelPreloading()})}},e.prototype.modify=function(t){return new e(t(this.mediaAds))},e}();t.MediaAds=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=function(e){return[].concat.apply([],e)}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(22),u=r(32),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(Error);t.LOAD_XML_NETWORK_ERROR_PREFIX="LOAD_XML_NETWORK_ERROR_",t.loadXML=function(e,r,n,i){return void 0===i&&(i=!0),new o(function(o,d){"https:"===window.location.protocol&&(e=u.setProtocolToUrl(e,"https:"));var c=new XMLHttpRequest;"function"==typeof c.overrideMimeType&&c.overrideMimeType("text/xml"),c.open("GET",s.fixUrlSheme(e));var f=0;"number"==typeof n&&(f=window.setTimeout(function(){var e=new l("HTTP timeout error");e.isTimeoutError=!0,d(e)},n)),c.withCredentials=i,c.onerror=function(t){clearTimeout(f),d(new Error("XHR Error["+c.status+"]["+c.statusText+"]["+e+"]"))},c.onreadystatechange=function(){if(4===c.readyState&&0!==c.status)if(clearTimeout(f),200===c.status)o({xml:c.responseXML,responseText:c.responseText});else{var r=""+t.LOAD_XML_NETWORK_ERROR_PREFIX+c.status,n=new a.AdSDKError({code:r,details:{statusText:c.statusText,status:c.status,url:e}});d(n)}};try{c.send(r)}catch(t){t.message="["+t.message+"]["+e+"]",d(t)}})}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(26);t.RU="ru";var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="TranslatorError",t}return o(t,e),t}(i.CustomError);t.TranslatorError=a,t.getTranslator=function(e){var r=function(t,r,n){return e[t][r][n]},n=function(t,r,n){return e[t]&&e[t][r]&&e[t][r][n]};return function(e){var o=e.keyset,i=e.key,s=e.lang,u=void 0===s?t.RU:s,l=e.throwErr,d=void 0===l||l;return n(u,o,i)?r(u,o,i):n(t.RU,o,i)?r(t.RU,o,i):(d&&setTimeout(function(){throw new a("Tanker locale for lang="+u+", keyset="+o+", key="+i+" not found")}),"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUndefinedProperties=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(t[r]=e[r]);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(109),o=r(229),i=r(230),a=r(231);function s(e,t){if("string"==typeof e){var r=e.toLowerCase();return o.getObjectValues(t).indexOf(r)>-1?r:void 0}}t.parseStickyConfig=function(e){var t=e.stick,r=e.stickTo,o=e.stickyColorScheme;return n.deleteUndefinedProperties({stick:"boolean"==typeof t?t:void 0,stickTo:s(r,i.StickPosition),stickyColorScheme:s(o,a.StickyColorScheme)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.start="start",e.end="end"}(t.TimeOffsetLiterals||(t.TimeOffsetLiterals={}))},function(e,t,r){"use strict";var n,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(11),a=r(235),s=r(1),u=r(110),l=r(3),d=r(236),c=r(13),f=r(14),p=r(113),A=r(111),h=((n={})[A.TimeOffsetLiterals.start]=f.ADType.preroll,n[A.TimeOffsetLiterals.end]=f.ADType.postroll,n);t.createAdBreak=function(e,t,r){var n,v=a.DEFAULT_AD_BREAK_PARAMETERS.adTagURI,y=a.DEFAULT_AD_BREAK_PARAMETERS.id,m=a.DEFAULT_AD_BREAK_PARAMETERS.adType,E=a.DEFAULT_AD_BREAK_PARAMETERS.maxDuration,_=a.DEFAULT_AD_BREAK_PARAMETERS.maxPositionsCount;if(r){var S=r.querySelector("AdSource"),g=r.querySelector("Extensions"),T=function(e){if(g){var t=g.querySelector('Extension[type="'+e+'"]');return t?c.readElementText(t):void 0}},b=function(e){return Number(T(e))},O=function(e){return"true"===T(e)};if(!S)throw new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_AD_BREAK_WITHOUT_AD_SOURCE,details:t});var P=S.querySelector("AdTagURI");if(v=c.readElementText(P),!P||!v)throw new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI,details:t});y=c.readAttr(S,"id",y),E=b("MaxDuration"),_=b("MaxPositionsCount"),m=c.readAttr(r,"breakId",m);var w=c.readAttr(r,"timeOffset","start"),C=function(){return new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_INCORRECT_TIME_OFFSET,details:o({},t,{timeOffset:w,adType:m})})};if(-1===i.getObjectKeys(f.ADType).indexOf(m))throw new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_UNSUPPORTED_AD_BREAK_TYPE,details:o({},t,{adType:m})});if(m===f.ADType.inpage){var I=T("Stick"),D=u.parseStickyConfig({stick:I&&"true"===I,stickTo:T("StickTo"),stickyColorScheme:T("ColorScheme")});n=o({collapse:O("Collapse"),repeat:O("Repeat"),preload:O("Preload")},D)}else if(w===A.TimeOffsetLiterals.start){if(h[w]!==m)throw C();n={timeOffset:w}}else if(w===A.TimeOffsetLiterals.end){if(h[w]!==m)throw C();n={timeOffset:w}}else{if(!d.validateVastTime(w))throw C();if(m!==f.ADType.midroll)throw C();var R=b("MaxRepeatCount"),M=l.parseVASTTime(c.readAttr(r,"repeatAfter"));n={timeOffset:l.parseVASTTime(w),repeatAfter:isNaN(M)?p.DEFAULT_REPEAT_AFTER:M,serverSide:O("ServerSide"),broadcastReplace:O("BroadcastReplace"),pip:O("Pip"),tryClient:O("TryClient"),maxRepeatCount:isNaN(R)?p.DEFAULT_MAX_REPEAT_COUNT:R,repeatNumber:0}}}return o({},n,{adTagURI:v,id:y,adType:m,maxDuration:E,maxPositionsCount:_,sessionId:e.sessionId,title:e.title,skipDelay:e.skipDelay,timeLeftShow:e.timeLeftShow,visitSiteShow:e.visitSiteShow,vastTimeout:e.vastTimeout,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,wrapperTimeout:e.wrapperTimeout,wrapperMaxCount:e.wrapperMaxCount,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_REPEAT_COUNT=-1,t.DEFAULT_REPEAT_AFTER=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(239);t.isTouchDevice=n.isTouchDevice()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(242);t.iOSVersion=n.getIOSVersion()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(243);t.getIsIOS=function(e){void 0===e&&(e=window);var t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!n.isUCBrowser(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(68);t.addEventListenerFunction=function(e,t,r){e.attachEvent("on"+t,r)},t.removeEventListenerFunction=function(e,t,r){e.detachEvent("on"+t,r)},n.getNativeMethod(document,"addEventListener")&&(t.addEventListenerFunction=function(e,t,r,o){n.getNativeMethod(e,"addEventListener").call(e,t,r,o)},t.removeEventListenerFunction=function(e,t,r,o){n.getNativeMethod(e,"removeEventListener").call(e,t,r,o)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(119);t.setAttributesReversible=function(e,t){var r={};return n.getObjectKeys(t).forEach(function(t){r[t]=e.getAttribute(t)}),o.setAttributes(e,t),function(){o.setAttributes(e,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.setAttributes=function(e,t){n.getObjectKeys(t).forEach(function(r){var n=t[r];null===n?e.removeAttribute(r):e.setAttribute(r,n)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(108),o=r(251),i=n.getTranslator(o);t.translate=function(e,t){return void 0===t&&(t=n.RU),i({keyset:"adsdk",key:e,lang:t})}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VOLUME=.5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdPodStartTime="AdPodStartTime",e.FriendlyIFrameAsyncCreation="FriendlyIFrameAsyncCreation",e.DetectAutoplayAbilityTime="DetectAutoplayAbilityTime"}(t.AdSDKStatsValue||(t.AdSDKStatsValue={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=function(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(15),s=r(9),u=r(18),l=r(4),d=r(2),c=r(6),f=r(23),p=r(274),A=function(e){function t(t,r){var n=e.call(this)||this;n.adDisplayController=t,n.mediaAd=r,n.onCurrentPositionChange=new s.Signal,n.onDestroy=new s.Signal,n.impressionTrackOffset=0,n.viewability=!1,n.isStarted=!1,n.isPlaying=!1,n.onReady=new s.Signal,n.onProgress=new s.Signal,n.onFirstQuartile=new s.Signal,n.onMidpoint=new s.Signal,n.onThirdQuartile=new s.Signal,n.onClickThrough=new s.Signal,n.onStop=new s.Signal,n.isDestroyed=!1;var o=function(){n.isPlaying=!1,n.setViewability(!1)};return n.on(["start","resume"],function(){n.isPlaying=!0,t.visibilitySensor.visibility&&n.setViewability(!0)}).on("pause",o),n.onStop.add(o),t.visibilitySensor.onChangeVisibility.add(function(e){return n.setViewability(e&&n.isPlaying)}),n.onProgress.add(function(){n.trackEvent(l.TrackingEventType.PROGRESS)}),n.onFirstQuartile.add(function(){n.trackEvent(l.TrackingEventType.FIRST_QUARTILE)}),n.onMidpoint.add(function(){n.trackEvent(l.TrackingEventType.MIDPOINT)}),n.onThirdQuartile.add(function(){n.trackEvent(l.TrackingEventType.THIRD_QUARTILE)}),n.onDestroy.add(function(){n.onProgress.removeAll(),n.onFirstQuartile.removeAll(),n.onMidpoint.removeAll(),n.onThirdQuartile.removeAll(),n.resetEventBus()}),n}return o(t,e),t.prototype.trackEvent=function(e){this.adDisplayController.emit("trackEvent",e),this.mediaAd.trackEvent(e)},t.prototype.trackError=function(e){this.mediaAd.trackError(e)},t.prototype.clickThrough=function(e){var t=this;void 0===e&&(e={});var r,n=e.playerHandles,o=void 0===n||n,s=this.mediaAd.playbackParams.clickThroughUrl;e.url?r=e.url:s&&(r=s);var A=this.playbackParams,h=A.pauseOnClickThrough,v=A.clickThroughConfirmation,y=this.adDisplayController.config.clickThroughCallback;if(y||r)if(o){r&&(r=f.addAdSDKParamsToUrl(p.addTargetRefParamToUrl(r)));var m=a.once(function(){h&&t.pause(),t.trackEvent(l.TrackingEventType.CLICK_THROUGH),t.onClickThrough.dispatch({adWasPaused:Boolean(h)}),y&&u.LOG_STATS&&d.stats.event(i({},c.AdSDKEvent.ClickThroughCallbackHandle,{data:{clickThroughParams:e,url:r,pauseOnClickThrough:h}}))});if(y)v||m(),y({url:r,onHandle:m}),d.stats.event(i({},c.AdSDKEvent.ClickThroughCallbackCall,{data:{clickThroughParams:e,url:r,pauseOnClickThrough:h}}));else null!==window.open(r,"_blank")&&m()}else this.trackEvent(l.TrackingEventType.CLICK_THROUGH)},t.prototype.setNumRepeats=function(e){this.mediaAd.numRepeats=e},t.prototype.destroy=function(){this.isDestroyed=!0,this.onStop.dispatch(void 0),this.onDestroy.dispatch(void 0)},t.prototype.setViewability=function(e){this.viewability!==e&&(this.viewability=e,this.emit("changeViewability",e))},Object.defineProperty(t.prototype,"playbackParams",{get:function(){return this.mediaAd.playbackParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this.mediaAd.contentType},enumerable:!0,configurable:!0}),t}(r(60).EventBus);t.Viewer=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTrackingEventType={BUFFER_EMPTY:"bufferEmpty",BUFFER_FULL:"bufferFull",ON_CREATIVE_INIT:"onCreativeInit"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(128);t.getFullscreenElement=function(e,t){var r=n.getFullscreenGlobalNames(e,t);if(!r)return null;var o=e.document[r.element];return t&&t[r.element]&&(o=t),o||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(279);t.getFullscreenGlobalNames=function(e,t){for(var r=e.HTMLVideoElement,o=t||r&&r.prototype||{},i=0;i<n.FULLSCREEN_GLOBAL_NAMES_LIST.length;i++){var a=n.FULLSCREEN_GLOBAL_NAMES_LIST[i];if(a.enabled in e.document||a.enabled in o)return a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61),o=0,i=[];t.subscribeSyntheticTimeupdateInterval=function(e){return 0===i.length&&(o=window.setInterval(function(){i.forEach(function(e){return e()})},n.VIDEO_TIMEUPDATE_INTERVAL)),i.push(e),function(){var t=i.indexOf(e);t>-1&&i.splice(t,1),0===i.length&&clearInterval(o)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.muffleUncaughtErrors=function(e){e&&"function"==typeof e.catch&&e.catch(function(e){})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(130);t.preventPause=function(e,t){var r=e.paused;t(),r||n.muffleUncaughtErrors(e.play())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(t.VideoType||(t.VideoType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callFirstThenOther=function(e,t){var r=!1;return function(){return function(){var n=r?t:e;return r=!0,n.apply(this,arguments)}.apply(this,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),o=r(298),i=r(17),a=r(304);r(314).initModule(i.ModuleBundleName.AdSDK,{initForVideoNode:o.initForVideoNode,initAdDisplay:o.initAdDisplay,initVideoNode:o.initVideoNode,initPlacement:o.initPlacement,AdLoader:n.AdLoader,loadMultiroll:a.loadMultiroll})},function(e,t,r){"use strict";var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,d=[],c=!1,f=-1;function p(){c&&l&&(c=!1,l.length?d=l.concat(d):f=-1,d.length&&A())}function A(){if(!c){var e=u(p);c=!0;for(var t=d.length;t;){for(l=d,d=[];++f<t;)l&&l[f].run();f=-1,t=d.length}l=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new h(e,t)),1!==d.length||c||u(A)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(68).getNativeMethod(Array,"isArray"),o={};t.isArray=Boolean(n)?function(e){return n.call(Array,e)}:function(e){return"[object Array]"===o.toString.call(o,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.cache=e}return e.prototype.get=function(e){return this.cache[e]},e.prototype.has=function(e){return e in this.cache},e.prototype.set=function(e,t){this.cache[e]=t},e}();t.ObjectCache=n,t.memoize=function(e,t,r){return void 0===t&&(t=function(e){return e}),void 0===r&&(r=new n({})),function(){var n=t.apply(this,arguments);if(r.has(n))return r.get(n);var o=e.apply(this,arguments);return r.set(n,o),o}}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(140);t.getFirstDefined=function(e){return n(o.filter(e,function(e){return void 0!==e}),1)[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];t.call(r,i,o,e)&&n.push(i)}return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},function(e,t,r){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(144).getCurrentScript();t.CURRENT_SCRIPT_SRC=n?n.src:""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentScript=function(e,t){void 0===e&&(e=document);var r=e.currentScript;if(r)return r;for(var n=e.getElementsByTagName("script"),o=[],i=0;i<n.length;i++)o.push(n[i]);if("function"==typeof t){var a=o.filter(t);return a[a.length-1]}return o[o.length-1]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(72);t.getTopLocationData=function(e){var t="",r="";return e&&n.getParentLocationsData(e).reverse().forEach(function(e){var n=e.location,o=e.referrer;t=t||n,r=r||o}),{location:t,referrer:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(74);t.getIsSafari=function(e){void 0===e&&(e=window);var t=n.getUserAgent(e).toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&-1===t.indexOf("android")&&-1===t.indexOf("phantomjs")&&!o.getIsTizen(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76),o=r(44);t.isInSecureIFrame=function(){var e=n.map(o.parentFriendlyIFrames,function(e){return e.ownerDocument}),t=e.length,r=(t?e[t-1]:document).defaultView;return!!r&&r.self!==r.parent}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RANDOM=Math.random()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(150).isNativeSendBeaconSupported(window);t.sendBeaconShim=function(e,t){return!!n&&window.navigator.sendBeacon(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.isNativeSendBeaconSupported=function(e){return n.checkNativeCode(e.navigator.sendBeacon)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_LOCAL_STATS_SERVICE_NAME="CommonPcode"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SID_LENGTH=64},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PCODE_LOGS_URL="https://an.yandex.ru/jstracer",t.PCODE_LOGS_URL_ALIAS="https://jstracer.yandex.ru/jstracer"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.event="event",e.error="error",e.deprecated="deprecated",e.warning="warning",e.value="value",e.values="values"}(t.StatsEventType||(t.StatsEventType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.SID=n.generateHexString(64)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOLOMON_SERVICE_NAME="AdSDKJS"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=r(17),i=[o.LoaderBundleName.InteractiveViewerLoader,o.ModuleBundleName.InteractiveViewer];t.IS_INTERACTIVE_VIEWER_BUNDLE=i.indexOf(n.WEBPACK_BUNDLE_NAME)>-1},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(159),i=r(81),a=r(42),s=["com.yandex.mobile.metrica.sdk","com.yandex.mobile.metrica.ads.sdk"];t.isUserAgentMatching=function(e){void 0===e&&(e=window);var t=a.getUserAgent(e);return o.some(s,function(e){return 0===t.indexOf(e)})},t.isYmadsVideoCtx=function(e){return e.OS_NAME_FROM_NANPU&&e.ADSDK_VERSION_FROM_NANPU},t.isNanpuVideoTemplate=function(e){void 0===e&&(e=window);try{var t=e.document,r=Boolean(t.querySelector("canvas#c.blur")),n=Boolean(t.querySelector("div#video"));return r&&n}catch(e){return!1}},t.hasMraidWithPrivateAPI=function(e){void 0===e&&(e=window);try{var t=e.mraid;return Boolean(t)&&Boolean(t.__PRIV__)&&"object"===n(t.__PRIV__)}catch(e){}return!1},t.isYaMraid=function(e){void 0===e&&(e=window);var r=i.getWindowChain(e);return o.some(r,t.isUserAgentMatching)||o.some(r,t.isNanpuVideoTemplate)||o.some(r,t.hasMraidWithPrivateAPI)||o.some(r,t.isYmadsVideoCtx)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.some=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=function(e,t){try{return e()}catch(e){"function"==typeof t&&t(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleVersion=function(e){for(var t=100*Math.random(),r=0,n=0;n<e.length;n++)if(t<(r+=e[n].percent))return e[n].id;return e[0].id}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(83),a=r(76),s=r(163),u=r(47),l=function(){function e(e){void 0===e&&(e={}),this.props={},this.setProps(n({},this.defaults(),e))}return e.sliceBits=function(e,t,r){return s.sliceBits(e,t,r)},e.prototype.defaults=function(){return{}},e.prototype.toString=function(){return this.serialize().toString()},e.prototype.setProps=function(e){var t=this;return u(e)&&i.forEach(this.getTemplate(),function(r){var n=o(r,2)[1];n&&e.hasOwnProperty(n)&&(t.props[n]=e[n])},this),this},e.prototype.getProps=function(){return n({},this.props)},e.prototype.clone=function(){return new(0,this.constructor)(this.props)},e.prototype.serialize=function(){var e,t,r=(e=this.getTemplate(),t=this.props,a.map(e,function(e){var r=o(e,2),n=r[0],i=r[1];return[n,i&&t[i]||null]}));return s.joinBits(r)},e.prototype.slice=function(t,r){return e.sliceBits(this.serialize(),t,r)},e}();t.AbstractTesttag=l},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(164);function a(e,t){return s(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function s(e,t){return i.padLeft(e,t,"0")}t.joinBits=function(e){var t,r,i=[];try{for(var s=n(e),u=s.next();!u.done;u=s.next()){var l=o(u.value,2),d=l[0],c=a(l[1],d);i.push(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: больше 53 бит не поддерживается из-за ограниченной точности, но передана строка длиной "+e.length+" бит.");return parseInt(e,2)}(i.reverse().join(""))},t.sliceBits=function(e,t,r){var n=t+r,o=s(e.toString(2),n).substr(-n,r);return parseInt(o,2)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padLeft=function(e,t,r){void 0===r&&(r=" ");var n=t-e.length;if(n>0){for(var o=r;o.length<n;)o+=o;return(o.length>n?o.substr(0,n):o)+e}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(166),o=r(167);t.config=o.M;var i="string"!=typeof t.config&&t.config&&t.config.fn&&"function"==typeof t.config.fn.encodeUrl?t.config.fn.encodeUrl:void 0;t.encodeUrl=void 0!==i?function(e){return i(e,n.base64)}:void 0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(85);t.base64={addEquals:n.addEquals,decode:n.decode,decodeUInt8String:n.decodeUInt8String,encode:n.encode,encodeUInt8String:n.encodeUInt8String}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M="__ADB_CONFIG__"},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(169);t.loadScript=function(e){return new n(function(t,r){i.loadScript(o({},e,{onLoad:t,onError:r}))})}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(71),i=r(26),a=r(5),s=r(170);t.loadScript=function(e){var t=e.win,r=void 0===t?window:t,u=e.src,l=e.retries,d=void 0===l?0:l,c=e.onError,f=void 0===c?a.noop:c,p=new i.CustomError({id:o.CommonError.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+u+"]",details:{src:u,isSelfWindow:r===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:d}});s.loadScriptLite(n({},e,{win:r,onError:function(){return f(p)}}))}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(86),i=r(5),a=r(8),s=r(171),u=function(e){return!0};t.loadScriptLite=function e(t){var r=t.src,l=t.win,d=t.charset,c=void 0===d?s.CHARSET_UTF_8:d,f=t.async,p=void 0===f||f,A=t.retries,h=void 0===A?0:A,v=t.onRetry,y=void 0===v?i.noop:v,m=t.checkLoad,E=void 0===m?u:m,_=t.onBeforeLoad,S=void 0===_?i.noop:_,g=t.onLoad,T=void 0===g?i.noop:g,b=t.onError,O=void 0===b?i.noop:b,P=l||window,w=P.document.createElement("script"),C=function(r){h>0?(y(r),e(n({},t,{retries:h-1}))):O(r),a.removeNodeFromParent(w)};w.type="text/javascript",w.async=p,w.onload=function(){return E(w)?T():C(new Error("checkLoad for "+r+" failed"))},w.onerror=C,w.src=r,w.charset=c,S(w),o.getHead(P).appendChild(w)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHARSET_UTF_8="utf-8"},function(e,t,r){"use strict";Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.SDK_VERSION="1.0-"+n.BUILD_VERSION},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r(30),i=r(17),a=r(12),s=r(1),u=r(2),l=r(4),d=r(175);function c(e,t){void 0===t&&(t=a.BUNDLES_VERSION);var r=l.yandexGlobalObject.videoAd.modules[t];return r?r[e]:void 0}t.moduleBundlesFileNames=((n={})[i.ModuleBundleName.AdSDK]="adsdk",n[i.ModuleBundleName.InPage]="inpage",n[i.ModuleBundleName.BannerAd]="banner_ad",n[i.ModuleBundleName.VideoPlayer]="video_player",n[i.ModuleBundleName.AdLoader]="loader",n[i.ModuleBundleName.VideoBannerAd]="videobannerad",n[i.ModuleBundleName.Multiroll]="multiroll",n[i.ModuleBundleName.InteractiveViewer]="interactive_viewer",n),t.loadModule=function(e,r,n){var i=e.module,a=c(i,n);if(a)r(a);else{var f=l.yandexGlobalObject.videoAd.encodeUrl,p=d.getBundlesPath(n)+"bundles/"+t.moduleBundlesFileNames[i]+".bundle.js",A="function"==typeof f?f(p):p;o.loadScript({src:A}).then(function(){var e=c(i,n);if(!e)throw new s.AdSDKError({code:s.AdSDKErrorCodes.CANNOT_INIT_MODULE,details:{moduleName:i}});r(e)}).catch(function(e){var t=new s.AdSDKError(e,{message:"loadModule error ["+i+"] ["+e.message+"]",code:s.AdSDKErrorCodes.CANNOT_LOAD_MODULE});throw u.stats.errorToStats(t),t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(176),o=r(45),i=r(46),a=r(87),s=r(12),u=r(16);t.getBundlesPath=function(e){void 0===e&&(e=s.BUNDLES_VERSION);var t=o.getHardcodedParam(window,i.HARDCODED_BUNDLES_PATH);return t&&n.isValidBundleUrl(t)?t:u.WEBPACK_BUNDLES_PATH||"https://"+a.STATIC_DOMAIN+"/awaps-ad-sdk-js-bundles/1.0-"+e+"/"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp(["https?://","(\\w+\\.)?","(?:","(?:yandex|yastatic|yandex-team|yastat)\\.","(?:ru|net)\\/","|","localhost\\/",")",".*"].join(""),"i");t.isValidBundleUrl=function(e){return n.test(e.trim())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(90),i=r(178),a=r(92),s=n.once(function(){return i.getCrossFrameDataSource(self,"Ya.pcodeCrossFrameData",function(){return new a.ObjectStorage({})})});t.getCrossFrameStorage=function(e){return o.getOrCreateItem(s(),e,function(){return new a.ObjectStorage({})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(179),o=r(91),i=r(48),a=r(49),s=r(50);t.getCrossFrameDataSource=function(e,t,r){var u;return n.traverseBreadth([e.top],function(e){if(!(u=s.callSafe(function(){return i.get(e,t)})))return s.callSafe(function(){return o.listToArray(e.frames)})||[]}),u||(u=r()),a.set(e,t,u),u}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.traverseBreadth=function(e,t){for(var r=e.slice();r.length;){var n=t(r.shift());if(!n)return;r.push.apply(r,o(n))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"[object Function]"==={}.toString.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(90),i=r(92),a=r(182),s=n.once(function(){return a.getWindowDataSource(self,"Ya.pcodeWindowData",function(){return new i.ObjectStorage({})})});t.getWindowStorage=function(e){return o.getOrCreateItem(s(),e,function(){return new i.ObjectStorage({})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),o=r(49);t.getWindowDataSource=function(e,t,r){var i=n.get(e,t);return i||(i=r(),o.set(e,t,i)),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50),o=r(184);t.metrikaAdSessionLabel="adSessionID",t.configureMetrika=n.protect("sessionId::configureMetrika",function(e,r){var n;o.pushMetrikaEvent(e,((n={})[t.metrikaAdSessionLabel]=r,n))})},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(48),i=r(49),a=r(50);t.pushMetrikaEvent=a.protect("metrika::pushEvent",function(e,t){var r=o.get(e,"Ya._metrika.dataLayer")||[];i.set(e,"Ya._metrika.dataLayer",r),r.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:n({},t)}}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSessionId=function(){return(1e6*Math.random()).toFixed(0)+(new Date).valueOf().toString()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSession=function(e,t,r,n){var o=t.getItem("sessionId");return o||(o=r.getItem("sessionId")||e(),n(window,o)),t.setItem("sessionId",o),r.setItem("sessionId",o),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(94);t.trackTns=function(e){n.knockPixel("https://www.tns-counter.ru/V13a**dvid:**yandexvideo_network/ru/UTF-8/tmsec=yandexvideo_videonetwork"+e+"/"+Math.ceil(Math.random()*Math.pow(10,16)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAbsoluteUrl=function(e){var t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=r(7),a=r(24),s=r(190),u=r(23),l=r(97),d=r(3),c=r(192);function f(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}t.addParamsToAdTagURI=function(e,t,r){var p=e.targetRef,A=e.width,h=e.height,v=e.videoContentId,y=e.videoContentName,m=e.videoPublisherId,E=e.videoPublisherName,_=e.videoGenreId,S=e.videoGenreName,g=e.musicArtistId,T=e.tagsList,b=e.extParam,O=e.charset,P=e.playerInfo,w=e.distrId,C=e.additionalParams,I=t.adTagURI,D=t.sessionId;return d.isTrueYandexDomain(I)?u.addAdSDKParamsToUrl(i.addParamsToUrl(I,n({},a.extractAdditionalParams(C),{"repeat-number":c.isMidrollAdBreak(t)?String(t.repeatNumber):void 0,"target-ref":p||o.getWindowLocation(window),"page-ref":window.document.referrer,"video-width":A,"video-height":h,"video-content-id":v,"video-content-name":y,"video-publisher-id":m,"video-publisher-name":E,"video-genre-id":f(_),"video-genre-name":f(S),music_artist_id:g,"tags-list":f(T),"ext-param":b,charset:O||"UTF-8","video-session-id":D,"skip-token":l.SkipToken.toBase64(),"distr-id":w,"enable-page-options":s.ENABLE_PAGE_OPTIONS,rnd:String(r)})),P):I}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENABLE_PAGE_OPTIONS="65536"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(85);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMidrollAdBreak=function(e){return"number"==typeof e.repeatNumber}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var u=r(194),l=r(197),d=r(99),c=r(204),f=r(213),p=r(18),A=r(53),h=r(1),v=r(2),y=r(6),m=r(35),E=r(22),_=r(214),S=r(27),g=r(32),T=r(3),b=r(104),O=r(217),P=["image/jpeg","image/gif","image/png"],w=function(){function e(e,t){this.adBreak=e,this.vastAd=t,this.numRepeats=1,this.duration=0,this.preloaders=[],this._isPreloaded=!1,this.numRepeats=t.numRepeats,this.imageSources=t.mediaFiles.filter(function(e){return P.indexOf(e.type)>-1}).sort(function(e,t){return P.indexOf(e.type)-P.indexOf(t.type)}),this.icons=t.icons.map(function(e){return O.Icon.fromVastIcon(e)});var r=t.clickThrough;this.playbackParams={isClickable:t.isClickable&&Boolean(r),title:e.title,description:t.description,showTimeLeft:e.timeLeftShow,showSoundButton:!0,showGuiForVpaid:!1,showSkipButton:!0,showTitle:!0,backgroundBlur:t.backgroundBlur,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit,progressOffset:t.progressOffset,visitSiteShow:e.visitSiteShow,autoplay:!0,skipDelay:0,pauseAllowed:!1,pauseOnClickThrough:!0,clickThroughUrl:r,clickThroughConfirmation:void 0},isNaN(t.skipOffset)?t.mediaFiles.length>0&&e.skipDelay:isNaN(t.skipTime)?this.playbackParams.skipDelay=0===e.skipDelay?t.skipOffset:Math.min(e.skipDelay,t.skipOffset):this.playbackParams.skipDelay=t.skipTime,isNaN(t.duration)||(this.duration=t.duration),t.imhoParams&&(this.playbackParams.showGuiForVpaid=!0,this.playbackParams.showTimeLeft=t.imhoParams.showCountDown,t.imhoParams.showLabel||(this.playbackParams.title=""),this.playbackParams.showSoundButton=t.imhoParams.showSoundButton,t.imhoParams.resetSkipDelay&&(this.playbackParams.skipDelay=0))}return e.prototype.clone=function(){return new e(this.adBreak,this.vastAd.clone())},e.prototype.trackError=function(e){S.trackError(e,this.vastAd.trackingEvents.error)},e.prototype.trackEvent=function(e){T.log("Track event ==> ",e);var t=this.vastAd.trackingEvents[e];return p.LOG_STATS&&v.stats.eventToStats(y.AdSDKEvent.VastTracking.name+"_"+e,{eventName:e,trackingUrls:t}),Array.isArray(t)?t.filter(g.isAbsoluteUrl).map(E.knock):[]},e.prototype.hasMedia=function(){var e=this.vastAd.mediaFiles;return Boolean(e&&e.length>0)},e.prototype.isNotReplacedBroadcastAd=function(){return this.vastAd.isNotReplacedBroadcastAd},e.prototype.getUploadedVastList=function(){return this.vastAd.vast?this.vastAd.vast.getUploadedVastList():[]},e.prototype.cancelPreloading=function(){this.preloaders.forEach(function(e){return e.destroy()}),this.preloaders=[]},e.prototype.isPreloaded=function(){return this._isPreloaded},e.prototype.preload=function(e){var t=this;return void 0===this.preloadPromise&&(this.preloadPromise=this.preloadInternal(e).then(function(){t._isPreloaded=!0})),this.preloadPromise},e.prototype.getIfIsRequiredHtmlControls=function(){return this.vastAd.adSystem===f.CPC_AD_SYSTEM},e.prototype.getJSMediaFile=function(){return this.vastAd.mediaFiles.find(function(e){return b.getAdMediaFileContentType(e)===m.AdContentType.js})},e.prototype.preloadInternal=function(e){return i(this,void 0,n,function(){var t,r,n,o,i;return a(this,function(a){switch(a.label){case 0:t=_.parsePreloadParams(e),r=t.preloadJS,n=t.preloadVideo,a.label=1;case 1:return a.trys.push([1,7,,8]),r&&this.contentType===m.AdContentType.js?[4,this.preloadJS(t)]:[3,3];case 2:return a.sent(),[3,5];case 3:return n&&this.contentType===m.AdContentType.video?[4,this.preloadVideo(t)]:[3,5];case 4:a.sent(),a.label=5;case 5:return[4,(o=new l.MultiplePreloader(this.preloaders)).readyPromise];case 6:return a.sent(),[3,8];case 7:return i=a.sent(),o&&o.destroy(),T.logError(i),v.stats.errorToStats(new h.AdSDKError(i,{code:h.AdSDKErrorCodes.PRELOAD_ERROR})),[3,8];case 8:return[2]}})})},e.prototype.preloadJS=function(e){return i(this,void 0,n,function(){var t,r,l=this;return a(this,function(d){switch(d.label){case 0:return e.preloadTimeout,t=s(e,["preloadTimeout"]),r=this.vastAd.mediaFiles.filter(function(e){return b.getAdMediaFileContentType(e)===m.AdContentType.js}).map(function(e){var r=e.url;return i(l,void 0,void 0,function(){var e,n,i,s;return a(this,function(a){switch(a.label){case 0:return e=new u.JSPreloader(r),this.preloaders.push(e),[4,e.readyPromise];case 1:return a.sent(),(n=e.getWindow())&&n.Ya&&"function"==typeof n.Ya.preloadVPAIDAd?(i=n.Ya.preloadVPAIDAd(o({},t,{creativeData:{AdParameters:this.vastAd.adParameters}})),this.preloaders.push(i),[4,i.readyPromise]):[2];case 2:return s=a.sent(),this.vastAd.adParameters=s.AdParameters,[2]}})})}),[4,n.all(r)];case 1:return d.sent(),[2]}})})},e.prototype.preloadVideo=function(e){var t=e.width,r=e.height,o=e.desiredBitrate;return i(this,void 0,n,function(){var e,n,i;return a(this,function(a){switch(a.label){case 0:return(e=c.getMediaFileByBitrateAndSize({mediaFiles:this.vastAd.mediaFiles,size:{clientWidth:t,clientHeight:r},desiredBitrate:o,forPreloading:!0}))?(n=new d.VideoPreloader(e),this.preloaders.push(n),[4,n.readyPromise]):[2];case 1:return i=a.sent(),this.vastAd.mediaFiles=[i],[2]}})})},Object.defineProperty(e.prototype,"sources",{get:function(){return v.stats.warning({name:"UsingSourcesParameterOfMediaAd",message:"AdSDK Warning: MediaAd.sources parameter is deprecated. ad-sdk-js-dev@yandex-team.ru"}),this.vastAd.mediaFiles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickThroughUrl",{get:function(){return v.stats.warning({name:"UsingClickThroughUrlParameterOfMediaAd",message:"AdSDK Warning: MediaAd.clickThroughUrl parameter is deprecated. ad-sdk-js-dev@yandex-team.ru"}),this.playbackParams.clickThroughUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){var e={vpaid:[],video:[],swf:[]};return this.vastAd.mediaFiles.forEach(function(t){var r=b.getAdMediaFileContentType(t);if(t.apiFramework===A.VPAID_API_FRAMEWORK)if(r===m.AdContentType.js)e.vpaid.push(t);else{if(r!==m.AdContentType.flash)throw new Error("AdSDKJS Error: unexpected mediaFile vpaid type: "+r);e.swf.push(t)}else e.video.push(t)}),e.vpaid.length?m.AdContentType.js:e.video.length?m.AdContentType.video:m.AdContentType.flash},enumerable:!0,configurable:!0}),e}();t.MediaAd=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(195),o=r(196),i=r(30),a=function(){function e(e,t){void 0===t&&(t=document.body);var r=this;this.ready=!1,this.iframe=n.createHiddenFriendlyIFrame(t),this.readyPromise=i.loadScript({src:e,win:this.getWindow()}).then(function(){return r.ready=!0,e})}return e.prototype.isReady=function(){return this.ready},e.prototype.destroy=function(){this.iframe&&(o.removeIframe(this.iframe),this.iframe=null)},e.prototype.getWindow=function(){return null===this.iframe?null:this.iframe.contentWindow},e}();t.JSPreloader=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98);t.createHiddenFriendlyIFrame=function(e){var t=n.createFriendlyIFrame(e);return t.width="0",t.height="0",t.style.position="absolute",t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);t.removeIframe=function(e){e.src="",n.removeNodeFromParent(e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===t&&(t=function(e){return n.all(e.map(function(e){return e.readyPromise}))}(e)),this.preloaders=e,this.readyPromise=t}return e.prototype.isReady=function(){return this.preloaders.reduce(function(e,t){return e&&t.isReady()},!0)},e.prototype.destroy=function(){this.preloaders.forEach(function(e){return e.destroy()})},e}();t.MultiplePreloader=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(199);t.getInternetExplorerVersion=function(e){void 0===e&&(e=window);var t=n(e);return"boolean"==typeof t?-1:t}},function(e,t,r){"use strict";e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return parseInt(t.substring(r+5,t.indexOf(".",r)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74);t.isTizen=n.getIsTizen()},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(77);t.request=function(e){return new n(function(t,r){i.request(o({},e,{onSuccess:t,onError:r}))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPLE_HLS_VIDEO_TYPE="application/vnd.apple.mpegurl",t.X_MPEG_URL_HLS_VIDEO_TYPE="application/x-mpegurl",t.HLS_VIDEO_TYPES=[t.APPLE_HLS_VIDEO_TYPE,t.X_MPEG_URL_HLS_VIDEO_TYPE]},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(205),a=r(206),s=r(208),u=r(102),l=r(103),d=r(99),c=r(7),f=r(52),p=r(51),A=r(211),h=1.5,v=1.25,y=50,m=2;function E(e){var t=e.width,r=e.height;return l.hypot(t,r)}t.getMediaFileByBitrateAndSize=function(e){var t=e.mediaFiles,r=e.size,n=r.clientWidth,l=r.clientHeight,_=e.forPreloading,S=void 0!==_&&_,g=e.desiredBitrate,T=void 0===g?NaN:g;T>0||(T=f.calculateApproximateBitrate(e.size));var b=function(e){return-1!==c.parseUrl(e).hostname.indexOf("proxy.video.yandex.net")},O=t.every(function(e){var t=e.url;return b(t)}),P=u.getDevicePixelRatio(),w=t.filter(function(e){var t=e.type,r=e.url;return S?p.canPlayType(t)&&d.VideoPreloader.canPreload(t)&&(!!O||!b(r)):p.canPlayType(t)}),C=s.find(w,function(e){return!!A.isHlsMediaFileWithUnsetValues(e)||!!(A.isAdaptiveMediaFile(e)&&e.minBitrate<=T&&T<=e.maxBitrate)});if(void 0!==C&&!S)return C;var I=w.filter(function(e){var t=e.width,r=e.height,o=e.bitrate,i=e.type;return t<=n*P*h&&r<=l*P*h&&"number"==typeof o&&o*("video/ogg"===i?m:1)<=T*v}),D=Math.max.apply(Math,o(I.map(E))),R=I.filter(function(e){return i.areFloatsEqual(E(e),D,y)}),M=a.getMinByFeature(R,function(e){return e.bitrate}),N=a.getMinByFeature(w,function(e){return e.bitrate});return M||N}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPSILON=Number.EPSILON||Math.pow(2,-52),t.areFloatsEqual=function(e,r,n){return void 0===n&&(n=t.EPSILON),Math.abs(e-r)<=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(207);t.getMinByFeature=function(e,t){return n.chooseArrayItemByFeature(e,t,function(e,t){return e-t})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.chooseArrayItemByFeature=function(e,t,r){if(!(e.length<1)){for(var o=n(e,1)[0],i=t(o),a=1;a<e.length;a++){var s=e[a],u=t(s);r(u,i)<0&&(o=s,i=u)}return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=[].find;t.find=n.checkNativeCode(o)?function(e,t){return o.call(e,t)}:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,r){return e>r?r:e<t?t:e}},function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(n||(n={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(o||(o={})),t.getDownlink=function(){var e=navigator.connection,t=void 0===e?{}:e;if("number"==typeof t.downlink)return t.downlink;if("number"==typeof t.downlinkMax)return t.downlinkMax;if("string"==typeof t.type||"number"==typeof t.type)switch(t.type){case o.BLUETOOTH:return 3;case n.CELL_2G:return.384;case n.CELL_3G:case o.CELLULAR:return 2;case o.WIMAX:return 37;case o.NONE:return 0;case n.ETHERNET:case o.ETHERNET:case n.WIFI:case o.WIFI:case o.MIXED:return 10;case n.UNKNOWN:case o.UNKNOWN:case o.OTHER:}return-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(212),o=r(101);function i(e){return"number"==typeof e&&e>0}var a=["bitrate","minBitrate","maxBitrate","width","height"];t.isHlsMediaFileWithUnsetValues=function(e){return o.isHlsMediaFileType(e.type)&&n.every(a,function(t){return!i(e[t])})},t.isAdaptiveMediaFile=function(e){var t=e.minBitrate,r=e.maxBitrate;return i(t)&&i(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CPC_AD_SYSTEM="Yabs Ad Server"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),o=r(52),i=r(54);t.parsePreloadParams=function(e){var t=e.videoSlot,r=e.viewMode,a=void 0===r?n.VPAIDViewMode.NORMAL:r,s=e.preloadJS,u=void 0===s||s,l=e.preloadVideo,d=void 0===l||l,c=e.width,f=void 0===c?t.clientWidth:c,p=e.height,A=void 0===p?t.clientHeight:p,h={clientWidth:f,clientHeight:A},v=e.desiredBitrate,y=void 0===v?o.calculateApproximateBitrate(h):v,m=e.preloadTimeout;return("number"!=typeof m||m>i.MAX_TIMEOUT_VALUE)&&(m=i.MAX_TIMEOUT_VALUE),{preloadTimeout:m,width:f,height:A,desiredBitrate:y,viewMode:a,videoSlot:t,preloadJS:u,preloadVideo:d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLASH_VPAID_MEDIA_FILE_TYPE="application/x-shockwave-flash"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JS_VPAID_MEDIA_FILE_TYPES=["application/javascript","application/x-javascript"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}return e.fromVastIcon=function(t){var r=new e;return r.src=t.src,r.type=t.program,r.x=t.xPosition,r.y=t.yPosition,r.width=t.width,r.height=t.height,r},e}();t.Icon=n},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(106),u=r(19),l=r(219),d=r(1),c=r(2),f=r(6),p=r(220),A=r(107),h=r(221),v=r(95),y=r(222),m=["2.0","3.0"],E=function(){function e(e){if(this.ads=e,this.childs=[],!Array.isArray(e))throw new d.AdSDKError({code:d.AdSDKErrorCodes.INVALID_VAST_CONSTRUCTOR_PARAMS,details:void 0})}return e.load=function(t,r){return t?e.loadInternal(t,o({},r)):n.reject(new d.AdSDKError({code:d.AdSDKErrorCodes.VAST_URL_IS_NOT_DEFINED,details:void 0}))},e.fromXMLString=function(t,r){return i(this,void 0,n,function(){var n;return a(this,function(i){return n=h.stringToXML(t),[2,e.fromXml(n,t,o({},r))]})})},e.loadInternal=function(t,r){var i=r.vastTimeout;return c.stats.event(o({},f.AdSDKEvent.VastLoadStart,{data:{url:t,parsingParameters:r,timeout:i}})),A.loadXML(t,null,i).then(function(n){var a=n.xml,s=n.responseText;return c.stats.event(o({},f.AdSDKEvent.VastLoadSuccess,{data:{url:t,xml:a?(new XMLSerializer).serializeToString(a):a,timeout:i}})),e.fromXml(a,s,o({},r))}).catch(function(e){if(e.isTimeoutError){var o=new d.AdSDKError({code:d.AdSDKErrorCodes.VAST_LOAD_TIMEOUT,details:{vastTimeout:i,url:t}});return n.reject(o)}var a=e.code;return e.code=a||("AD_FOX"===r.vastSourceType?d.AdSDKErrorCodes.ADFOX_VAST_LOAD_ERROR:d.AdSDKErrorCodes.VAST_LOAD_ERROR),n.reject(e)})},e.fromXml=function(t,r,f){return i(this,void 0,n,function(){var i,A,h,E,_,S;return a(this,function(a){switch(a.label){case 0:if(!t)throw new d.AdSDKError({code:d.AdSDKErrorCodes.INVALID_VAST_XML,details:{xmlString:r}});if(!(i=t.querySelector("VAST")))throw new d.AdSDKError({code:l.NO_AD_CUSTOM_MARKERS.indexOf(p.getXMLRootNodeName(t))>-1?d.AdSDKErrorCodes.NO_AD_CUSTOM_MARKER:d.AdSDKErrorCodes.VAST_TAG_NOT_FOUND,details:{xmlString:r}});if(A=i.getAttribute("version"),!f.ignoreVastVersion&&A&&-1===m.indexOf(A))throw new d.AdSDKError({code:d.AdSDKErrorCodes.INCOMPATIBLE_VAST_VERSION,details:{xmlString:r,version:A}});return 0===(h=Array.prototype.slice.call(t.querySelectorAll("VAST Ad"))).length?[2,new e([])]:(E=[],[4,n.all(h.map(function(t){var r=y.VastAd.fromXml(t),i=r.type;if("InLine"===i)return[r];if("Wrapper"!==i)throw new d.AdSDKError({code:d.AdSDKErrorCodes.INVALID_VAST_AD_TYPE,details:void 0});if(f.wrapperMaxCount<=1)return c.stats.error({error:new d.AdSDKError({code:d.AdSDKErrorCodes.WRAPPER_MAX_COUNT_LIMIT,details:void 0})}),[];var a=r.vastAdTagUri;if(!a)return c.stats.error({error:new d.AdSDKError({code:d.AdSDKErrorCodes.NO_VAST_AD_TAG_URI,details:void 0})}),[];var s=f.wrapperTimeout,l=u.promiseTimeout(s),p=l.promise.then(function(){return c.stats.error({error:new d.AdSDKError({code:d.AdSDKErrorCodes.WRAPPER_LOAD_TIMEOUT,details:{wrapperTimeout:s,vastAdTagUri:a,parsingParameters:f}})}),[]}),A=e.loadInternal(v.getWrapperAdTagURI(a),o({},f,{wrapperMaxCount:f.wrapperMaxCount-1})).then(function(e){return l.clear(),E.push(e),e.ads.map(function(e){return e.merge(r),e})}).catch(function(e){return c.stats.error({error:new d.AdSDKError({code:d.AdSDKErrorCodes.WRAPPER_LOAD_ERROR,details:{error:e,vastAdTagUri:a,parsingParameters:f}})}),[]});return n.race([p,A])}))]);case 1:return _=a.sent(),(S=new e(s.expand(_))).xml=t,S.childs=E,[2,S]}})})},e.prototype.toVastXMLTree=function(){return{xml:this.xml||null,childs:this.childs.map(function(e){return e.toVastXMLTree()})}},e.prototype.getUploadedVastList=function(){var e=this.toVastXMLTree(),t=[];return function e(r){r.xml&&t.push(r.xml),r.childs.forEach(e)}(e),t.filter(function(e){return null!==e})},e}();t.VAST=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_AD_CUSTOM_MARKERS=["nobanner","noad"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXMLRootNodeName=function(e){if(e){var t=e,r=t.localName,n=t.name,o=t.documentElement;if("string"==typeof r)return r;if("string"==typeof n)return n;if(o){var i=o.tagName;if("string"==typeof i)return i}}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToXML=function(e){if(!e)return null;try{var t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(e){return null}}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(91),a=r(223),s=r(4),u=r(1),l=r(2),d=r(27),c=r(3),f=r(13),p=r(224),A=r(225),h=r(226),v=r(227),y=["rtb","direct"],m=function(){function e(){this.adParameters="",this.mediaFiles=[],this.icons=[],this.trackingEvents={},this.clickThrough="",this.skipTime=NaN,this.skipOffset=NaN,this.progressOffset=NaN,this.backgroundBlur=void 0,this.vastAdTagUri=void 0,this.duration=NaN,this.isClickable=!0,this.numRepeats=1,this.isDirectVPAID=!1,this.isNotReplacedBroadcastAd=!1}return e.fromXml=function(t){var r=t.getAttribute("sequence"),n=null===r?Number.MAX_VALUE:parseInt(r,10),o=t.querySelector("VideoClicks"),s=t.querySelectorAll("MediaFile"),m=t.querySelector("Linear"),E=t.querySelector("TrackingEvents"),_=E?E.querySelectorAll("Tracking"):[],S=i.listToArray(t.querySelectorAll("Impression")),g=t.querySelectorAll("ViewableImpression"),T=t.querySelectorAll("Error"),b=t.querySelector("Extensions"),O=t.querySelector("Description"),P=t.querySelectorAll("Icons Icon"),w=t.querySelector("AdParameters"),C=t.querySelector("AdSystem"),I=new e,D=t.querySelector("InLine")||t.querySelector("Inline"),R=t.querySelector("Wrapper");if(D&&R)throw new u.AdSDKError({code:u.AdSDKErrorCodes.INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION,details:void 0});if(D)I.type=a.VastAdType.InLine;else{if(!R)throw new u.AdSDKError({code:u.AdSDKErrorCodes.NO_INLINE_OR_WRAPPER_NODE,details:void 0});I.type=a.VastAdType.Wrapper}I.sequence=n,I.adParameters=w?f.readElementText(w):"";var M=t.querySelector("VASTAdTagURI");if(f.isElementSet(M)&&(I.vastAdTagUri=f.readElementText(M)),s)for(var N=0;N<s.length;N++){var k=p.parseAdMediaFileXml(s[N]);k.minBitrate>k.maxBitrate&&l.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.MIN_BITRATE_GREATHER_THAN_MAX_BITRATE,details:{adMediaFile:k}})}),I.mediaFiles.push(k)}o&&((Q=f.readElementText(o.querySelector("ClickThrough")))&&(I.clickThrough=Q));if(o){var L=o.querySelectorAll("ClickTracking");for(N=0;N<L.length;N++)I.addEventUrl("clickThrough",f.readElementText(L[N]))}for(N=0;N<_.length;N++){var V=f.readAttr(_[N],"event");I.addEventUrl(V,f.readElementText(_[N])),"progress"===V&&(I.progressOffset=c.parseVASTTime(f.readAttr(_[N],"offset","")))}var B=[];S.forEach(function(e){I.addEventUrl("impression",f.readElementText(e));var t=e.getAttribute("id");t&&y.indexOf(t)>-1&&-1===B.indexOf(t)&&B.push(t)}),I.isDirectVPAID=B.length===y.length;for(N=0;N<g.length;N++)for(var F=g[N].querySelectorAll("Viewable"),x=0;x<F.length;x++){var U=f.readElementText(F[x]);I.addEventUrl("viewable",U)}for(N=0;N<T.length;N++)I.addEventUrl("error",f.readElementText(T[N]));for(N=0;N<P.length;N++)I.icons.push(v.VastIcon.fromXml(P[N]));if(b){var j=b.querySelectorAll('Extension[type="dwell"]');for(N=0;N<j.length;N++)I.addEventUrl("dwell",f.readElementText(j[N]));var K=b.querySelectorAll('Extension[type="skipAd"]');for(N=0;N<K.length;N++)I.addEventUrl("skip",f.readElementText(K[N]));var G=b.querySelector('Extension[type="skipTime"]');f.isElementSet(G)&&(I.skipTime=c.parseVASTTime(f.readElementText(G)),I.skipTime>180&&(I.skipTime=0));var H=b.querySelector('Extension[type="controls"]');H&&(I.imhoParams=h.ImhoParams.fromXML(H));var W=b.querySelector('Extension[type="isClickable"]');f.isElementSet(W)&&(I.isClickable="0"!==f.readElementText(W)),b.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(I.isNotReplacedBroadcastAd=!0);var Y=b.querySelector('Extension[type="backgroundBlur"]');f.isElementSet(Y)&&(I.backgroundBlur="1"===f.readElementText(Y));var q=b.querySelector('Extension[type="OutstreamEndScreen"]');q&&(I.endScreenParams=A.EndScreenParams.fromXML(q));var X=b.querySelector('Extension[type="CustomTracking"]'),z=X?X.querySelectorAll("Tracking"):[];for(N=0;N<z.length;N++){V=f.readAttr(z[N],"event");I.addEventUrl(V,f.readElementText(z[N]))}}if(f.isElementSet(O)&&(I.description=f.readElementText(O)),f.isElementSet(C)&&(I.adSystem=f.readElementText(C)),m){var Q;if(""!==(Q=f.readAttr(m,"skipoffset","").trim())){var J=c.parseVASTTime(Q);isNaN(J)?d.trackError(new u.AdSDKError({code:u.AdSDKErrorCodes.INCORRECT_SKIPOFFSET_FORMAT,details:{nodeValue:Q}}),I.trackingEvents.error):I.skipOffset=J}var Z=m.querySelector("Duration");Z&&(I.duration=c.parseVASTTime(f.readElementText(Z)))}return I},e.prototype.addEventUrl=function(e,t){t&&e&&(this.trackingEvents[e]||(this.trackingEvents[e]=[]),this.trackingEvents[e].push(t))},e.prototype.merge=function(e){for(var t in e.mediaFiles.length&&(this.mediaFiles=o(this.mediaFiles,e.mediaFiles)),e.trackingEvents)e.trackingEvents.hasOwnProperty(t)&&(this.trackingEvents[t]?this.trackingEvents[t]=this.trackingEvents[t].concat(e.trackingEvents[t]):this.trackingEvents[t]=e.trackingEvents[t]);this.clickThrough||(this.clickThrough=e.clickThrough),isNaN(this.skipTime)&&(this.skipTime=e.skipTime),isNaN(this.skipOffset)&&(this.skipOffset=e.skipOffset),this.isClickable=this.isClickable||e.isClickable,isNaN(this.progressOffset)&&(this.progressOffset=e.progressOffset),this.adParameters||(this.adParameters=e.adParameters),isNaN(this.duration)&&(this.duration=e.duration),this.sequence===Number.MAX_VALUE&&(this.sequence=e.sequence),e.isNotReplacedBroadcastAd&&(this.isNotReplacedBroadcastAd=!0),!1!==this.backgroundBlur&&"boolean"==typeof e.backgroundBlur&&(this.backgroundBlur=e.backgroundBlur),this.isDirectVPAID=this.isDirectVPAID||e.isDirectVPAID,e.endScreenParams&&(this.endScreenParams?this.endScreenParams.merge(e.endScreenParams):this.endScreenParams=e.endScreenParams),e.adSystem&&(this.adSystem=e.adSystem)},e.prototype.hasMedia=function(){return Boolean(this.mediaFiles&&this.mediaFiles.length)},e.prototype.toXML=function(){var e=this,t=(new DOMParser).parseFromString("<VAST></VAST>","application/xml"),r=t.querySelector("VAST");r.setAttribute("version","2.0");var n=f.appendNewElement("Ad",r),o=f.appendNewElement("InLine",n);this.trackingEvents.impression&&this.trackingEvents.impression.forEach(function(e){return f.appendNewElement("Impression",n,e)}),this.trackingEvents.error&&this.trackingEvents.error.forEach(function(e){return f.appendNewElement("Error",n,e)});var i=f.appendNewElement("Creatives",o),a=f.appendNewElement("Creative",i),u=f.appendNewElement("Linear",a);this.duration&&f.appendNewElement("Duration",u,c.toVastTime(this.duration));var l=f.appendNewElement("TrackingEvents",u),d=function(t){if(s.TrackingEventType.hasOwnProperty(t)){var r=s.TrackingEventType[t];p.trackingEvents[r]&&p.trackingEvents[r].forEach(function(t){var n={event:r};"progress"===r&&(n.offset=String(c.toVastTime(e.progressOffset||0))),f.appendNewElement("Tracking",l,t,n)})}},p=this;for(var A in s.TrackingEventType)d(A);var h=f.appendNewElement("MediaFiles",u);this.mediaFiles.forEach(function(e){return f.appendNewElement("MediaFile",h,e.url,{width:e.width,height:e.height,bitrate:e.bitrate,apiFramework:e.apiFramework||null,type:e.type,delivery:e.delivery})}),this.adParameters&&f.appendNewElement("AdParameters",u,this.adParameters);var v=f.appendNewElement("VideoClicks",u);this.clickThrough&&f.appendNewElement("ClickThrough",v,this.clickThrough),this.trackingEvents.clickThrough&&this.trackingEvents.clickThrough.forEach(function(e){return f.appendNewElement("ClickTracking",v,e)});var y=f.appendNewElement("Extensions",o);return this.trackingEvents.dwell&&this.trackingEvents.dwell.forEach(function(e){f.appendNewElement("Extension",y,e,{type:"dwell"})}),this.skipTime&&f.appendNewElement("Extension",y,c.toVastTime(this.skipTime),{type:"skipTime"}),this.isClickable&&f.appendNewElement("Extension",y,"1",{type:"isClickable"}),t},e.prototype.toXMLString=function(){return(new XMLSerializer).serializeToString(this.toXML())},e.prototype.clone=function(){var t=new e;return t.merge(this),t.vast=this.vast,t.icons=this.icons,t.vastAdTagUri=this.vastAdTagUri,t.type=this.type,t.description=this.description,t.numRepeats=this.numRepeats,t.imhoParams=this.imhoParams,t},e}();t.VastAd=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.InLine="InLine",e.Wrapper="Wrapper"}(t.VastAdType||(t.VastAdType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(53),o=r(2),i=r(13);t.parseAdMediaFileXml=function(e){var t=parseInt(i.readAttr(e,"width",0),10),r=parseInt(i.readAttr(e,"height",0),10),a=parseInt(i.readAttr(e,"bitrate",0),10),s=i.readAttr(e,"minBitrate",""),u=s?parseInt(s,10):void 0,l=i.readAttr(e,"maxBitrate",""),d=l?parseInt(l,10):void 0,c=i.readAttr(e,"delivery"),f=i.readAttr(e,"type"),p=i.readAttr(e,"apiFramework"),A=i.readElementText(e);return{width:t,height:r,bitrate:a,minBitrate:u,maxBitrate:d,delivery:c,type:f,apiFramework:p,url:A,get source(){return o.stats.warning({name:"UsingSourceParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.source parameter deprecated, use AdMediaFile.url"}),A},get src(){return o.stats.warning({name:"UsingSrcParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.src parameter deprecated, use AdMediaFile.url"}),A},get isVpaid(){return o.stats.warning({name:"UsingIsVpaidParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.isVpaid parameter deprecated, use AdMediaFile.apiFramework"}),p===n.VPAID_API_FRAMEWORK}}}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),a=function(){function e(){this.randomBackgrounds=[]}return e.fromXML=function(t){var r=new e,n=t.querySelector("RandomBackgrounds");if(n)for(var o=n.querySelectorAll("Background"),a=0;a<o.length;a++){var s=i.readAttr(o[a],"src");s&&r.randomBackgrounds.push(s)}return r},e.prototype.merge=function(e){var t;(t=this.randomBackgrounds).push.apply(t,o(e.randomBackgrounds))},e}();t.EndScreenParams=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=function(){function e(){this.resetSkipDelay=!1,this.showCountDown=!0,this.showSoundButton=!0,this.showLabel=!0}return e.fromXML=function(t){var r=new e,o=t.querySelector('control[id="skipbtn"]');o&&(r.resetSkipDelay="0"===n.readAttr(o,"layout"));var i=t.querySelector('control[id="countdown"]');i&&(r.showCountDown="0"!==n.readAttr(i,"layout"));var a=t.querySelector('control[id="soundbtn"]');a&&(r.showSoundButton="0"!==n.readAttr(a,"layout"));var s=t.querySelector('control[id="adlabel"]');return s&&(r.showLabel="0"!==n.readAttr(s,"layout")),r},e}();t.ImhoParams=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=function(){function e(){}return e.fromXml=function(t){var r=t.querySelector("StaticResource"),o=new e;return o.src=n.readElementText(r),o.program=n.readAttr(t,"program"),o.xPosition=parseInt(n.readAttr(t,"xPosition",0),10),o.yPosition=parseInt(n.readAttr(t,"yPosition",0),10),o.width=parseInt(n.readAttr(t,"width",0),10),o.height=parseInt(n.readAttr(t,"height",0),10),o},e}();t.VastIcon=o},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(54);function i(e){return{autoplay:"autoplay"in e?Boolean(e.autoplay):void 0,pauseAllowed:"pauseAllowed"in e?Boolean(e.pauseAllowed):void 0,pauseOnClickThrough:void 0===e.pauseOnClickThrough||Boolean(e.pauseOnClickThrough),visitSiteShow:"visitSiteShow"in e?Boolean(e.visitSiteShow):void 0,qualityLevel:"qualityLevel"in e?Number(e.qualityLevel):void 0,poster:"string"==typeof e.poster?String(e.poster):void 0,showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0,backgroundBlur:void 0===e.backgroundBlur?void 0:Boolean(e.backgroundBlur)}}t.extractPlaybackParams=function(e){var t="number"==typeof e.bufferFullTimeout?Math.min(e.bufferFullTimeout,o.MAX_TIMEOUT_VALUE):void 0;return n({},i(e),{isClickable:"isClickable"in e?Boolean(e.isClickable):void 0,title:"string"==typeof e.title?e.title.trim():void 0,description:"string"==typeof e.description?e.description:void 0,skipDelay:"number"==typeof e.skipDelay?e.skipDelay:void 0,showTimeLeft:void 0===e.showTimeLeft?void 0:Boolean(e.showTimeLeft),showSoundButton:void 0===e.showSoundButton?void 0:Boolean(e.showSoundButton),showTitle:void 0===e.showTitle?void 0:Boolean(e.showTitle),showSkipButton:void 0===e.showSkipButton||Boolean(e.showSkipButton),showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0,videoTimeout:"videoTimeout"in e?Number(e.videoTimeout):void 0,vpaidTimeout:"vpaidTimeout"in e?Number(e.vpaidTimeout):void 0,bufferFullTimeout:t,bufferEmptyLimit:"bufferEmptyLimit"in e?Number(e.bufferEmptyLimit):void 0,progressOffset:"progressOffset"in e?Number(e.progressOffset):0,clickThroughUrl:"string"==typeof e.clickThroughUrl?e.clickThroughUrl:void 0,clickThroughConfirmation:"boolean"==typeof e.clickThroughConfirmation?e.clickThroughConfirmation:void 0})},t.extractConfigurablePlaybackParams=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectValues=function(e){var t=Object.values;if("function"==typeof t)return t(e);var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(e[n]);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.top="top",e.bottom="bottom",e.auto="auto"}(t.StickPosition||(t.StickPosition={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.dark="dark",e.light="light"}(t.StickyColorScheme||(t.StickyColorScheme={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(89),o=r(7),i=r(233),a=r(4),s=r(1),u=r(23);t.getVmapUrl=function(e){var t=e.partnerId,r=e.category,l=e.duration;if(!t)throw new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_CONFIG_WITHOUT_PARTNER_ID,details:void 0});var d=u.addAdSDKParamsToUrl(o.addParamsToUrl(""+i.VMAP_URL+t,{"video-category-id":String(r),"ad-session-id":n.getSessionId(),duration:l?String(l):void 0,client_type:"html"})),c=(a.yandexGlobalObject.videoAd||{}).encodeUrl;return"function"==typeof c?c(o.addParamsToUrl(d,{abd:"1"})):d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(45),o=r(46);t.VMAP_URL=n.getHardcodedParam(window,o.HARDCODED_VCSET_URL)||"https://an.yandex.ru/vmap/"},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(25),a=r(1),s=r(13),u=r(112);t.vmapFromXML=function(e,t,r){var l=e.xml,d={responseText:e.responseText};if(null==l)throw new a.AdSDKError({code:a.AdSDKErrorCodes.VMAP_EMPTY_RESPONSE,details:n({},t,{vmapXmlObject:e})});var c=l.querySelector("VMAP");if(!c)throw new a.AdSDKError({code:a.AdSDKErrorCodes.NO_VMAP_ROOT_NODE,details:d});var f=c.querySelectorAll("AdBreak"),p=new i.Vmap,A=l.querySelector("VMAP > Extensions");if(!A)throw new a.AdSDKError({code:a.AdSDKErrorCodes.NO_VMAP_EXTENSIONS,details:d});var h=c.querySelectorAll("TrackingEvents");o.noop(h);for(var v=function(e){var t=A.querySelector('Extension[type="'+e+'"]');return t?s.readElementText(t):""},y=function(e){return parseInt(v(e),10)},m={sessionId:v("SessionID"),title:v("Title").trim(),skipDelay:y("SkipDelay"),timeLeftShow:"true"===v("TimeLeftShow"),visitSiteShow:"true"===v("VisitSiteShow"),vastTimeout:y("VASTTimeout"),videoTimeout:y("VideoTimeout"),vpaidTimeout:y("VPAIDTimeout"),wrapperTimeout:y("WrapperTimeout"),wrapperMaxCount:y("WrapperMaxCount"),bufferFullTimeout:y("BufferFullTimeout"),bufferEmptyLimit:y("BufferEmptyLimit")},E=0;E<f.length;E++)p.adBreaks.push(u.createAdBreak(n({},m,r),d,f[E]));return p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14);t.DEFAULT_AD_BREAK_PARAMETERS={adTagURI:"",id:"0",adType:n.ADType.preroll,maxDuration:60,maxPositionsCount:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateVastTime=function(e){return/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(37),u=r(5),l=r(19),d=r(238),c=r(57),f=r(105),p=r(54),A=r(1),h=r(2),v=r(6),y=function(){return function e(t){var r,y,m=t,E=function(){m.mediaAds.forEach(function(e){e.isPreloaded()||e.cancelPreloading()})};this.createPlaybackController=function(e,t,r){void 0===r&&(r={});var n=r.disableExecutionTrackings,o=void 0!==n&&n,a=i(r,["disableExecutionTrackings"]),s=o?m.modify(function(e){return e.map(function(e){var t=e.clone();return t.vastAd.trackingEvents={error:t.vastAd.trackingEvents.error},t})}):m;E();var u=new d.AdPlaybackController(e,t,s,a);return{playAd:u.playAd,stopAd:u.stopAd,pauseAd:u.pauseAd,getAdPlayingState:u.getAdPlayingState,resumeAd:u.resumeAd,subscribe:u.subscribe,skipAd:u.skipAd,getAdSkippableState:u.getAdSkippableState}},this.showAd=function(e,t,n){return void 0===n&&(n={}),r=new c.AdDisplayController(n,e,t),E(),r.showAd(m).then(function(){return r.destroy()})},this.getAdDuration=function(){return m.getDuration()},this.separateAdPods=function(){return m.mediaAds.map(function(t){return new e(new f.MediaAds([t]))})},this.getAdSourceTypes=function(){return m.mediaAds.map(function(e){return e.contentType}).filter(function(e,t,r){return r.indexOf(e)===t})},this.setStatsRootField=function(e,t){var r;h.stats.setRootFields(((r={})[e]=t,r)),h.stats.event(o({},v.AdSDKEvent.UsingSetStatsRootFieldInAdLoader,{data:void 0}))},this.setStatsRootFields=function(e){h.stats.setRootFields(e)},this.hasNotReplacedBroadcastAd=function(){return m.mediaAds.filter(function(e){return e.isNotReplacedBroadcastAd()}).length>0},this.destroy=function(){m.mediaAds.forEach(function(e){return e.cancelPreloading()}),r&&r.destroy()},this.preload=function(e){var t=e.preloadTimeout,r=void 0===t?p.MAX_TIMEOUT_VALUE:t,o=i(e,["preloadTimeout"]),a=l.promiseTimeout(r).promise.then(E);if(void 0===y){var s=m.mediaAds.map(function(e){return e.preload(o)});y=n.all(s).then(u.noop)}return n.race([y,a])},this.removeRequiredHtmlControlsAdPods=function(e){var t=a(s.separate(m.mediaAds,function(e){return e.getIfIsRequiredHtmlControls()}),2),r=t[0],n=t[1];m=new f.MediaAds(n),r.forEach(function(t){t.trackError(new A.AdSDKError({code:A.AdSDKErrorCodes.CANNOT_SHOW_CPC_CONTROLS,details:{mediaFile:t.getJSMediaFile(),reason:e}}))})},this.getAdPodsCount=function(){return m.mediaAds.length}}}();t.AdViewer=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(56),i=r(57),a=r(1),s=r(2),u=r(296),l=function(){return function(e,t,r,l){void 0===l&&(l={});var d=this;this.videoSlot=e,this.slot=t,this.mediaAds=r,this.adDisplayConfig=l,this.isPlayAdCalled=!1,this.playAd=function(){d.isPlayAdCalled?s.stats.error({error:new a.AdSDKError({code:a.AdSDKErrorCodes.ATTEMPT_TO_PLAY_AD_SECOND_TIME,details:void 0})}):(d.isPlayAdCalled=!0,d.adDisplayController.showAd(d.mediaAds).then(function(){return d.adDisplayController.destroy()}))},this.stopAd=function(){d.adDisplayController.destroy()},this.pauseAd=function(){d.adDisplayController.pause()},this.getAdPlayingState=function(){return d.adDisplayController.isFinished?o.VideoPlayingState.END:d.adDisplayController.getPaused()?o.VideoPlayingState.PAUSE:o.VideoPlayingState.PLAY},this.resumeAd=function(){d.isPlayAdCalled?d.adDisplayController.resume():s.stats.error({error:new a.AdSDKError({code:a.AdSDKErrorCodes.ATTEMPT_TO_RESUME_AD_BEFORE_PLAY,details:void 0})})},this.getAdSkippableState=function(){return d.adDisplayController.getAdSkippableState()},this.skipAd=function(){d.getAdSkippableState()?d.adDisplayController.skipAllViewers():s.stats.error({error:new a.AdSDKError({code:a.AdSDKErrorCodes.ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD,details:void 0})})},this.subscribe=function(e,t){if("function"!=typeof t)return n.noop;var r=function(r){try{t(r)}catch(t){console.error(t),s.stats.error({error:new a.AdSDKError({code:a.AdSDKErrorCodes.APC_CALLBACK_ERROR,details:{eventName:e,data:r}})})}};switch(e){case u.AdPlaybackControllerEvent.AdStarted:return d.adDisplayController.onAdStart.add(function(){r({})});case u.AdPlaybackControllerEvent.AdPodStarted:return d.adDisplayController.onAdMediaStart.add(function(){r({})});case u.AdPlaybackControllerEvent.AllAdPodVideoComplete:return d.adDisplayController.onAllAdPodComplete.add(function(){r({})});case u.AdPlaybackControllerEvent.AdPodStopped:return d.adDisplayController.onAdMediaEnd.add(function(){r({})});case u.AdPlaybackControllerEvent.AdStopped:return d.adDisplayController.onDestroy.add(function(){r({})});case u.AdPlaybackControllerEvent.AdSkippableStateChange:return d.adDisplayController.onAdSkippableStateChange.add(function(e){r({skippableState:e})});default:return n.noop}},this.adDisplayController=new i.AdDisplayController(this.adDisplayConfig,this.videoSlot,this.slot)}}();t.AdPlaybackController=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=function(e){void 0===e&&(e=window);var t=e,r=t.DocumentTouch,n=t.navigator,o=t.document;return"ontouchstart"in e||r&&o instanceof r||n.maxTouchPoints>0||n.msMaxTouchPoints>0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSPARENT_PIXEL_BASE64="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(98),s=r(33),u=r(115),l=r(38),d=r(10),c=r(15),f=r(246),p=r(20),A=r(5),h=r(247),v=r(8),y=r(118),m=r(248),E=r(100),_=r(249),S=r(250);function g(e,t){return{canPlayUnMuted:e,canPlayMuted:t,requireMute:!e&&t,requireUserGesture:!e&&!t}}t.toAutoplayAbilityObject=g,t.NEGATIVE_AUTOPLAY_ABILITY=g(!1,!1),t.POSITIVE_AUTOPLAY_ABILITY=g(!0,!0);var T=function(){function e(e,r){var s=r.checkSoundEnabled,d=this;if(this.video=e,this.promise=n.resolve(t.NEGATIVE_AUTOPLAY_ABILITY),this.stop=A.noop,this.isStopped=!1,this.revertVideoState=A.noop,this.unsubscribeAllVideoEvents=A.noop,l.isIOS&&u.iOSVersion<=9||!E.isSupportedHTML5Video)return this;var h=this.video.paused,T=m.CAN_PLAY_MP4?_.MP4_BASE64_WITH_SOUND:S.WEBM_BASE64_WITH_SOUND,b=document.createElement("div");b.style.display="none";var O=e.play;this.playMethod=p.checkNativeCode(O)?O:function(){document.body.appendChild(b);var e=a.createFriendlyIFrame(b).contentWindow;return e&&e.HTMLMediaElement?e.HTMLMediaElement.prototype.play:O}();var P,w=e.muted,C=e.volume,I=this.preventPause(function(){return y.setAttributesReversible(e,{src:T})});this.revertVideoState=c.once(function(){I(),e.load(),e.muted=w,e.volume=C,h&&d.video.pause(),!h&&e.paused&&f.muffleUncaughtErrors(d.playMethod.call(d.video)),v.removeNodeFromParent(b)}),this.promise=new n(function(e,t){return o(d,void 0,n,function(){var r,n,o,a;return i(this,function(i){switch(i.label){case 0:return P=t,(n=s)?[4,this.requestAutoplayAbilityByMuted(!1)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return r=n,this.isStopped?[2]:(a=r)?[3,4]:[4,this.requestAutoplayAbilityByMuted(!0)];case 3:a=i.sent(),i.label=4;case 4:return o=a,this.isStopped?[2]:(this.revertVideoState(),this.isStopped=!0,e(g(r,o)),[2])}})})}),this.stop=function(){d.isStopped||(d.isStopped=!0,P(new Error("requestAutoplayAbility has been stopped")),d.unsubscribeAllVideoEvents(),d.revertVideoState())}}return e.prototype.requestAutoplayAbilityByMuted=function(e){return o(this,void 0,n,function(){var t,r,o,a,u,l=this;return i(this,function(i){switch(i.label){case 0:return t=this.video,this.preventPause(function(){t.load()}),[4,h.sleep(0)];case 1:return i.sent(),this.isStopped?[2,!1]:(t.muted=e,t.volume=e?0:1,r=this.playMethod.call(t),o=0,a=[],this.unsubscribeAllVideoEvents=c.once(function(){clearTimeout(o),a.forEach(function(e){return e()})}),void 0===r&&s.internetExplorerVersion>-1?[2,!0]:[4,new n(function(e){void 0===r?(a.push(d.addEventListener(t,"ended",function(){e(!0)},{passive:!0,once:!0}),d.addEventListener(t,"error",function(){var r=t.error;"undefined"!=typeof MediaError&&r&&r.code===MediaError.MEDIA_ERR_DECODE&&(l.unsubscribeAllVideoEvents(),setTimeout(function(){e(!0)},0))},{passive:!0,once:!0})),o=window.setTimeout(function(){e(!1)},500)):r.then(function(){e(!0)}).catch(function(){e(!1)})})]);case 2:return u=i.sent(),this.isStopped?[2,!1]:(this.unsubscribeAllVideoEvents(),[2,u])}})})},e.prototype.preventPause=function(e){var t=this.video.paused,r=e();return t||f.muffleUncaughtErrors(this.playMethod.call(this.video)),r},e}();t.AutoplayAbilityRequest=T,t.requestAutoplayAbility=function(e,t){var r=(void 0===t?{}:t).checkSoundEnabled,n=new T(e,{checkSoundEnabled:void 0===r||r});return{promise:n.promise,stop:n.stop}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116);t.getIOSVersion=function(e){if(void 0===e&&(e=window),n.getIsIOS(e)&&e.navigator){var t=e.navigator.platform;if(t&&/iP(hone|od|ad)/.test(t)){var r=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(r)return parseInt(r[1],10)}}return-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUCBrowser=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(245),o=r(5),i=r(117);t.isSupportsOnceOption=!1,t.isSupportsPassiveOption=!1,t.isSupportsCaptureOption=!1;try{if(n.getHasObjectDefineProperty()){var a=document.createElement("div"),s={};Object.defineProperty(s,"once",{get:function(){return t.isSupportsOnceOption=!0}}),Object.defineProperty(s,"passive",{get:function(){return t.isSupportsPassiveOption=!0}}),Object.defineProperty(s,"capture",{get:function(){return t.isSupportsCaptureOption=!0}}),i.addEventListenerFunction(a,"click",o.noop,s)}}catch(e){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHasObjectDefineProperty=function(e){void 0===e&&(e=window);var t=e.Object;try{var r={};return t.defineProperty(r,"sentinel",{}),"sentinel"in r}catch(e){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.muffleUncaughtErrors=function(e){e&&"function"==typeof e.catch&&e.catch(function(e){})}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=function(e,t){return o(void 0,void 0,n,function(){var r;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),[4,new n(function(n,o){t&&t.then(n,o),r=setTimeout(n,e)})];case 1:return o.sent(),[3,3];case 2:return clearTimeout(r),[7];case 3:return[2]}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(51);t.CAN_PLAY_MP4=n.canPlayType("video/mp4")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP4_BASE64_WITH_SOUND="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA="},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBM_BASE64_WITH_SOUND="data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD"},function(e){e.exports={be:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}},en:{adsdk:{LEARN_MORE:"Learn more",MORE:"More",REPEAT:"Repeat",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",TIME_LEFT:"Ad",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser’s site"}},kk:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}},ru:{adsdk:{LEARN_MORE:"Узнать больше",MORE:"Подробнее",REPEAT:"Повторить",SECONDS:"сек",SKIP:"Пропустить",SKIP_TIME_LEFT:"Пропустить рекламу",TIME_LEFT:"Реклама",UNMUTE_INVITE:"Наведите курсор,<br>чтобы включить звук",VISIT_SITE:"Перейти на сайт рекламодателя"}},tr:{adsdk:{LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",REPEAT:"Tekrarla",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklamı atla",TIME_LEFT:"Reklam",UNMUTE_INVITE:"Sesi açmak için<br>imleci üzerine getirin",VISIT_SITE:"Reklam verenin sitesine git"}},uk:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BASE64_IMG_LOAD_TIMEOUT=50},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INPAGE_IMPRESSION_TRACK_OFFSET=5,t.DIRECT_IMPRESSION_TRACK_OFFSET=2},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(255),o=r(124),i=r(93),a=r(256),s=r(8),u=r(257),l=2,d=100,c=.1,f=.3,p=.1,A=function(){function e(e,t){var r=this;this.container=e,this.videoNode=t,this.isStarted=!1,this.framesInterval=d,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=function(){var e=r.videoNode,t=e.duration,n=e.currentTime,o=e.videoWidth,i=e.videoHeight,a=t-n<=f;if(!r.isStarted||a)return r.clearRepaintTimeout(),void r.setVisibility(!1);if(o){var s=r.container,u=o/i,d=u-s.clientWidth/s.clientHeight;if(void 0===r.isBlurRequired){if(r.isBlurRequired=Math.abs(d)>c,!r.isBlurRequired)return void r.setVisibility(!1);r.prepareBlurCanvas(u,d),r.setVisibility(!0)}var A=r,h=A.context,v=A.videoNode,y=r.canvas,m=y.width,E=y.height;if(r.slowDevice){var _=l;h.drawImage(v,0,0,o,i,0,0,_,_),h.drawImage(r.canvas,0,0,_,_,0,0,m,E)}else h.drawImage(v,0,0,o,i,0,0,m,E);h.globalAlpha=p,r.handleSlowDevices(),r.setRepaintTimeout()}else r.setRepaintTimeout()};var n=document.createElement("div"),o=document.createElement("canvas");this.context=o.getContext("2d"),n.appendChild(o),i.prependChild(e,n),this.blurWrapper=n,this.canvas=o,this.appendStyles()}return e.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.isBlurRequired=void 0,this.repaint(),this.canvas.style.display="")},e.prototype.stop=function(){this.isStarted=!1,this.isBlurRequired=!1,this.clearRepaintTimeout(),this.setVisibility(!1)},e.prototype.destroy=function(){this.stop(),this.blurWrapper.style.display="none",s.removeNodeFromParent(this.blurWrapper)},e.prototype.appendBlurScale=function(e,t){var r=[1.6,Math.max(e,1.6)];t&&r.reverse(),a.setStyle(this.canvas,{transform:"translate(-50%,-50%) scaleX("+r[0]+") scaleY("+r[1]+")"})},e.prototype.setCanvasOpacity=function(e){a.setStyle(this.canvas,{opacity:e})},e.prototype.slimplifyBlur=function(){var e=this.container,t=e.clientWidth,r=e.clientHeight;this.setCanvasSize(t+10,r+10);a.setStyle(this.canvas,{left:"-5px",top:"-5px",bottom:"-5px",right:"-5px",transform:"",filter:"blur(5px)"})},e.prototype.appendStyles=function(){var e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=o.getStyle(this.videoNode).position;-1===n.indexOf(["fixed","absolute"],t)&&(e["z-index"]="-1"),a.setStyle(this.blurWrapper,e),a.setStyle(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})},e.prototype.setRepaintTimeout=function(){var e=this;this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(function(){return e.rafId=u.requestAnimationFrame(e.repaint)},this.framesInterval)},e.prototype.clearRepaintTimeout=function(){clearTimeout(this.repaintTimeoutId),u.cancelAnimationFrame(this.rafId)},e.prototype.handleSlowDevices=function(){var e=Date.now();if(this.lastTime){var t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.slimplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e},e.prototype.prepareBlurCanvas=function(e,t){var r=this.container,n=this.videoNode,o=t<0,i=o?n.offsetHeight*e:n.offsetWidth/e,a=o?i:n.offsetWidth,s=o?n.offsetHeight:i,u=(o?r.offsetWidth:r.offsetHeight)/i*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*u,o)},e.prototype.setCanvasSize=function(e,t){var r=this.canvas;r.width=e,r.height=t},e.prototype.setVisibility=function(e){this.setCanvasOpacity(e?1:0)},e}();t.BackgroundBlur=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexOf=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=n);for(var i=r;i<e.length;i++)if(o(e[i],t))return i;return-1};var n=function(e,t){return e===t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),o=r(29),i=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i");function a(e,t,r,n){if(void 0!==r&&void 0!==t){var o=n?"important":"";r+=!i.test(t)&&r>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,r,o):e.style.cssText+=";"+t+":"+r+(o?"!"+o:"")}}t.setStyle=function(e,t,r,i){o.isObject(t)?(i=Boolean(r),n.forOwn(t,function(t,r){a(e,r,t,i)})):a(e,t,r,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(258).getAnimationFrameFunctions(window);t.requestAnimationFrame=n.requestAnimationFrame,t.cancelAnimationFrame=n.cancelAnimationFrame},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(259);t.getAnimationFrameFunctions=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(t,n.DEFAULT_ANIMATION_TIMEOUT)},r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||function(t){return e.clearTimeout(t)};return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:r.bind(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ANIMATION_TIMEOUT=1e3/60},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),a=r(261),s=r(60),u=r(3),l=r(262),d=function(e){function t(t){var r=e.call(this)||this;r.wrapperNode=t,r.onReady=new i.Signal,r.onDestroy=new i.Signal,r.onBeforeAdStart=new i.Signal,r.onAdStart=new i.Signal,r.onAdMediaStart=new i.Signal,r.onAllAdPodComplete=new i.Signal,r.onAdMediaEnd=new i.Signal,r.onAdEnd=new i.Signal,r.onAdSkipped=new i.Signal,r.onClickThrough=new i.Signal,r.shouldHandleResize=!0,r.visibilitySensor=new l.VisibilitySensor(t,a.DEFAULT_THRESHOLD),r.visibilitySensor.onResize.add(function(e){r.shouldHandleResize&&r.resizeAd(e.width,e.height)});var n=u.createHoverSignal(t),o=n.signal,s=n.unsubscribe;return o.add(function(e){return r.isHovered=e}),r.onChangeHover=o,r.onDestroy.add(function(){s(),r.visibilitySensor.destroy()}),r}return o(t,e),t.prototype.disableResizeHandling=function(){this.shouldHandleResize=!1},t.prototype.enableResizeHandling=function(){var e=this.wrapperNode.getBoundingClientRect(),t=e.width,r=e.height;this.resizeAd(t,r),this.shouldHandleResize=!0},t.prototype.destroy=function(){this.resetEventBus(),this.onDestroy.dispatch(void 0),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onChangeHover.removeAll(),this.onReady.removeAll(),this.onAllAdPodComplete.removeAll()},Object.defineProperty(t.prototype,"currentContentType",{get:function(){return this.getCurrentContentType()},enumerable:!0,configurable:!0}),t}(s.EventBus);t.DisplayController=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THRESHOLD=.5},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9),i=r(263),a=r(264),s=function(){function e(e,t){var r=this;this.onResize=new o.Signal,this.onChangeVisibility=new o.Signal,this.onShow=new o.Signal,this.onHide=new o.Signal,this.visibility=!1,this.onDestroy=new o.Signal;var s="undefined"!=typeof IntersectionObserver,u=e.getBoundingClientRect(),l=u.width,d=u.height,c=setInterval(function(){var n=e.getBoundingClientRect();n.width===l&&n.height===d||(r.onResize.dispatch(n),l=n.width,d=n.height),s||r.setVisibilityInternal(a.getVisibility(e,t))},i.VIDEO_TIMEUPDATE_INTERVAL);if(s){var f=new IntersectionObserver(function(e){var o=n(e,1)[0].intersectionRatio;r.setVisibilityInternal(o>=t)},{threshold:t});f.observe(e),this.onDestroy.add(function(){f.disconnect()})}this.onDestroy.add(function(){r.onResize.removeAll(),r.onChangeVisibility.removeAll(),r.onShow.removeAll(),r.onHide.removeAll(),clearInterval(c)})}return e.prototype.destroy=function(){this.onDestroy.dispatch(void 0),this.onDestroy.removeAll()},e.prototype.setVisibilityInternal=function(e){this.visibility!==e&&(this.visibility=e,this.onChangeVisibility.dispatch(e),e?this.onShow.dispatch(void 0):this.onHide.dispatch(void 0))},e}();t.VisibilitySensor=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_TIMEUPDATE_INTERVAL=250},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(265),o=r(266);t.getVisibility=function(e,t){var r=e.ownerDocument;return!!o.getDocumentVisibility(r)&&n.calculateElementVisibilityRatio(e)>=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),o=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(e){return null!==navigator.userAgent.match(e)});function i(e){var t=e.ownerDocument,r=t.defaultView,n=t.documentElement,i=e.getBoundingClientRect();return{winWidth:o?Math.max(n.clientWidth,r.innerWidth||0):r.innerWidth||n.clientWidth||t.body.clientWidth,winHeight:o?Math.max(n.clientHeight,r.innerHeight||0):r.innerHeight||n.clientHeight||t.body.clientHeight,left:i.left,top:i.top,width:i.width,height:i.height}}function a(e){var t=e.width,r=e.height,n=e.top,o=e.left,i=e.winWidth,a=e.winHeight,s=o+t,u=n+r,l=o<0?0:o<i?o:i,d=n<0?0:n<a?n:a;return{winWidth:i,winHeight:a,left:l,top:d,width:(s>i?i:s>l?s:l)-l,height:(u>a?a:u>d?u:d)-d}}function s(e,t){return e.width*e.height/(t.width*t.height)}t.calculateElementVisibilityRatio=function(e){var t,r,o=i(e),u=a(o),l=s(u,o);for(var d in n.parentFriendlyIFrames)if(n.parentFriendlyIFrames.hasOwnProperty(d)){var c=i(n.parentFriendlyIFrames[d]);l=s(u=a((t=u,{winWidth:(r=c).winWidth,winHeight:r.winHeight,left:t.left+r.left,top:t.top+r.top,width:t.width,height:t.height})),o)}return l}},function(e,t,r){"use strict";function n(e,r){return void 0===r&&(r=!0),"string"==typeof t.DOCUMENT_HIDDEN_PROPERTY?!e[t.DOCUMENT_HIDDEN_PROPERTY]:r}Object.defineProperty(t,"__esModule",{value:!0}),t.DOCUMENT_HIDDEN_PROPERTY="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":null,t.VISIBILITY_STATE_PROPERTY="visibilityState"in document?"visibilityState":"webkitVisibilityState"in document?"webkitVisibilityState":null,t.getDocumentVisibility=n,t.onDocumentVisibilityChange=function(e,r){if(t.DOCUMENT_HIDDEN_PROPERTY){var o=t.DOCUMENT_HIDDEN_PROPERTY.replace(/hidden/i,"visibilitychange"),i=function(){return r(n(e))};return e.addEventListener(o,i),function(){return e.removeEventListener(o,i)}}return function(){return 0}}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(114),a=r(124),s=r(21),u=r(88),l=r(8),d=r(9),c=r(120),f=r(4),p=r(31),A=r(268),h=r(60),v=r(3),y=r(58),m=function(e){function t(t,r){var n=e.call(this)||this;n.container=t,n.onMuteButtonClick=new d.Signal,n.wrapper=new A.Control(t,y.locals.yaAdSdkGui,void 0,void 0,!1);var o=a.getStyle(t).position;o&&"static"!==o||(t.style.position="relative");var s=n.topRightBlock=v.createDiv(y.locals.topRightBlock),u=n.wrapper;v.isIOS7()&&(u.el.style.display="none"),i.isTouchDevice&&u.addClass(y.locals.yaAdSdkGui_mobile),u.appendChild(s);var l=v.createDiv(y.locals.visitSiteWrapper);return u.appendChild(l),n.controls={timeLeft:new A.Control(u.el,y.locals.timeLeft,void 0,c.translate("TIME_LEFT",r)+" 00"),visitSite:new A.Control(l,y.locals.visitSite+" "+y.locals.pointer,function(){return n.emit("click")},c.translate("VISIT_SITE",r),!1),play:new A.Control(u.el,y.locals.play,function(){return n.emit("play")}),pause:new A.Control(u.el,y.locals.pause,function(){return n.emit("pause")}).hide(),mute:new A.Control(s,y.locals.mute,function(){return n.onMuteButtonClick.dispatch(0)}),skip:new A.Control(u.el,y.locals.skip,function(){return n.emit("skip")},c.translate("SKIP",r)),title:new A.Control(u.el,y.locals.title,function(){return n.emit("click")})},n.controls.skip.hide(),n}return o(t,e),t.prototype.addSkin=function(){f.ENVIRONMENT.DEFAULT_CSS?v.addBuiltinSkin(this.container):p.addStylesToElement(this.container,y.toString())},t.prototype.setMuted=function(e){this.controls.mute.setClasses(e?y.locals.unMute:y.locals.mute)},t.prototype.show=function(){this.wrapper.show()},t.prototype.hide=function(){this.wrapper.hide()},t.prototype.destroy=function(){l.removeNodeFromParent(this.wrapper.el)},t.prototype.getBlockedControls=function(){return u.mapObjectValues(this.controls,function(e){return e.isBlocked()})},t.prototype.setBlockedControls=function(e){var t=this;s.forOwn(e,function(e,r){t.controls[r].setBlocked(e)})},t}(h.EventBus);t.Gui=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t,r,o,i){void 0===i&&(i=!0),this.blocked=!1,this.el=n.createDiv(t,o),this.el.addEventListener("click",function(e){i&&e.stopPropagation(),"function"==typeof r&&r()}),this.styleDisplay=this.el.style.display,this.el.style.display="none",e.appendChild(this.el)}return e.prototype.setText=function(e){return this.el.innerHTML=e.trim()||"",this},e.prototype.setVisible=function(e){return this.blocked||this.isVisible===Boolean(e)||(this.el.style.display=e?this.styleDisplay:"none"),this},e.prototype.getClasses=function(){return this.el.className.split(/\s+/)},e.prototype.hasClass=function(e){return this.getClasses().indexOf(e)>-1},e.prototype.addClass=function(e){return this.hasClass(e)||(this.el.className+=" "+e),this},e.prototype.removeClass=function(e){if(this.hasClass(e)){var t=this.getClasses();t.splice(t.indexOf(e),1),this.el.className=t.join(" ")}return this},e.prototype.setClasses=function(e){return this.el.className=e,this},e.prototype.hide=function(){return this.setVisible(!1)},e.prototype.show=function(){return this.setVisible(!0)},e.prototype.setBlocked=function(e){return e&&this.hide(),this.blocked=e,this},e.prototype.block=function(){return this.setBlocked(!0)},e.prototype.unBlock=function(){return this.setBlocked(!1)},e.prototype.isBlocked=function(){return this.blocked},e.prototype.appendChild=function(e){return this.el.appendChild(e),this},e.prototype.removeChild=function(e){return this.el.removeChild(e),this},Object.defineProperty(e.prototype,"isVisible",{get:function(){return"none"!==this.el.style.display},enumerable:!0,configurable:!0}),e}();t.Control=o},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(30),d=r(19),c=r(8),f=r(118),p=r(9),A=r(36),h=r(52),v=r(270),y=r(4),m=r(1),E=r(2),_=r(6),S=r(123),g=r(271),T=r(31),b=r(272),O=r(97),P=r(32),w=r(3),C=r(273),I=r(125),D=r(275),R=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.onAdSkippableStateChange=new p.Signal,n.paused=!0,n.adSkippableState=!1,n.on({pause:function(){n.paused=!0,n.trackEvent(y.TrackingEventType.PAUSE)},resume:function(){n.paused=!1,n.trackEvent(y.TrackingEventType.RESUME)},skip:function(){return n.trackEvent(y.TrackingEventType.SKIP)},close:function(){return n.trackEvent(y.TrackingEventType.CLOSE)},start:function(){n.paused=!1,n.trackEvent(y.TrackingEventType.CREATIVE_VIEW)},videoStart:function(){return n.trackEvent(y.TrackingEventType.START)},complete:function(){return n.trackEvent(y.TrackingEventType.COMPLETE)},impression:function(){var e;new o(function(t,r){e=window.setInterval(function(){try{n.getCurrentTime()+.1>n.impressionTrackOffset&&t()}catch(e){r(e)}},.1)}).then(function(){n.trackEvent(y.TrackingEventType.IMPRESSION),clearInterval(e)}).catch(function(t){n.trackEvent(y.TrackingEventType.IMPRESSION),n.trackError(t),clearInterval(e)})}});var i=n.onCurrentPositionChange.add(function(e){e.currentTime>=n.mediaAd.playbackParams.progressOffset&&(n.onProgress.dispatch(void 0),i())});return n.onMuteChangeCallback=function(e){return n.emit("muteChange",e)},n.once({start:function(){n.isStarted=!0,n.updatePositionInterval=window.setInterval(function(){try{n.updatePosition()}catch(e){clearInterval(n.updatePositionInterval)}},500)},stop:function(){clearInterval(n.updatePositionInterval)}}),n.onDestroy.add(function(){n.videoNodeController.onMuteChange.remove(n.onMuteChangeCallback),n.onAdSkippableStateChange.removeAll(),clearInterval(n.updatePositionInterval)}),n}return i(t,e),t.isVPAIDCreative=function(e){return e&&"function"==typeof e.handshakeVersion&&"function"==typeof e.initAd&&"function"==typeof e.startAd&&"function"==typeof e.stopAd&&"function"==typeof e.skipAd&&"function"==typeof e.resizeAd&&"function"==typeof e.pauseAd&&"function"==typeof e.resumeAd&&"function"==typeof e.expandAd&&"function"==typeof e.collapseAd&&"function"==typeof e.subscribe&&"function"==typeof e.unsubscribe},t.isSupportedVersion=function(e){for(var t="2.0".split(".").map(function(e){return parseInt(e,10)}),r=e.split(".").map(function(e){return parseInt(e,10)}),n=0;n<r.length;n++){var o=r[n],i=t[n],a=void 0===i?0:i;if(o>a)return!1;if(o<a)return!0}return!0},t.prototype.play=function(e){return void 0===e&&(e=!0),s(this,void 0,o,function(){var t,r,n=this;return u(this,function(o){switch(o.label){case 0:return t=function(t){if(e)if(n.containerNode.style.display="block",n.isStarted)t.resumeAd();else{n.isStarted=!0;var r=n.videoNodeController.videoNode;n.revertVideoAttributes=f.setAttributesReversible(r,{pip:"false"}),t.startAd(),n.updateAdSkippableState()}},this.creative?t(this.creative):this.preload().then(t).catch(function(e){n.onStop.dispatch(e)}),[4,this.onStop.promise()];case 1:return r=o.sent(),this.creative=void 0,[4,d.promiseTimeout(v.KNOCK_PIXEL_MAX_TIME).promise];case 2:if(o.sent(),this.removeControls(),this.revertVideoAttributes&&this.revertVideoAttributes(),this.paused=!0,r)throw r;return[2]}})})},t.prototype.getCurrentTime=function(){var e=this.creative&&"function"==typeof this.creative.getAdRemainingTime&&this.creative.getAdRemainingTime()||0;return this.getDuration()-e},t.prototype.pause=function(){this.creative&&this.creative.pauseAd()},t.prototype.resume=function(){this.creative&&(this.isStarted?this.creative.resumeAd():this.creative.startAd())},t.prototype.skipAd=function(){this.creative&&this.creative.skipAd()},t.prototype.getAdSkippableState=function(){return!this.creative||"function"!=typeof this.creative.getAdSkippableState||this.creative.getAdSkippableState()},t.prototype.getDuration=function(){return this.creative&&"function"==typeof this.creative.getAdDuration&&this.creative.getAdDuration()||this.mediaAd.duration||0},t.prototype.getAdWidth=function(){if(this.creative){var e=this.creative.adWidth;if("number"==typeof e)return e;if("function"==typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0},t.prototype.getAdHeight=function(){if(this.creative){var e=this.creative.adHeight;if("number"==typeof e)return e;if("function"==typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=A.VPAIDViewMode.NORMAL);var n=this.creative;n&&n.resizeAd(e,t,r)},t.prototype.getSrc=function(){return this.getScriptSrc()},t.prototype.getPaused=function(){return this.paused},t.prototype.getVolume=function(){var e=this.creative;return e&&e.getAdVolume?e.getAdVolume():this.videoNodeController.getVolume()},t.prototype.setVolume=function(e){var t=this.creative;t&&t.setAdVolume&&t.setAdVolume(e)},t.prototype.preload=function(){var e=this;return this.preloadPromise||(this.videoNodeController.onMuteChange.add(this.onMuteChangeCallback),this.preloadPromise=this.initCreative().then(function(t){var r=C.subscribeVpaidEvent(t,g.VPAIDEventName.AdError,function(t){e.onStop.dispatch(e.parseVpaidError(t,m.AdSDKErrorCodes.VPAIDPlayingError))});if(e.onStop.addOne(r),"function"==typeof t.getAdUnitId){var n=t.getAdUnitId();n&&O.SkipToken.addUnit(n)}return e.creative=t,e.onReady.dispatch(void 0),t})),this.preloadPromise},t.prototype.initCreative=function(){return s(this,void 0,o,function(){var e,t=this;return u(this,function(r){switch(r.label){case 0:return[4,this.createVPAIDElements()];case 1:if(r.sent(),this.isDestroyed)throw this.removeControls(),new m.AdSDKError({code:m.AdSDKErrorCodes.VPAID_WAS_DESTROYED_DURING_INIT,details:void 0});return e=this.getVPAIDAd(),[2,new o(function(r,n){var o=function(){i(),s()},i=C.subscribeVpaidEvent(e,g.VPAIDEventName.AdLoaded,function(){o(),r(e)}),s=C.subscribeVpaidEvent(e,g.VPAIDEventName.AdError,function(e){o(),n(t.parseVpaidError(e,m.AdSDKErrorCodes.VPAIDLoadingError))}),u=t.videoNodeController.videoNode,l=u.clientWidth,d=u.clientHeight,c=t.adDisplayController.desiredBitrate||h.calculateApproximateBitrate({clientWidth:l,clientHeight:d}),f={AdParameters:t.mediaAd.vastAd.adParameters},p=t.adDisplayController.autoplayAbility,v=p.canPlayMuted,y=p.canPlayUnMuted,S=t.adDisplayController.gui,T=t.getScriptSrc(),b=w.isYandexDomain(T)||"localhost"===P.getDomainFromUrl(T);if(b){var O=S.getBlockedControls();t.onStop.addOne(function(){return S.setBlockedControls(O)})}var I={slot:t.iframe.contentDocument.body,videoSlot:t.videoNodeController.videoNode,videoSlotCanAutoPlay:t.videoNodeController.videoNode.muted?v:y,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:t.config.lang,pauseOnClickThrough:!1,description:t.playbackParams.description,getGui:function(){return E.stats.event(a({},_.AdSDKEvent.VPAIDGetGuiCalled,{data:{vpaidSrc:T}})),b?S:void 0}}};t.subscribeCreativeEvents(e),e.initAd(l,d,A.VPAIDViewMode.NORMAL,c,f,I),t.onDestroy.add(function(){t.iframe&&(o(),e.stopAd())})})]}})})},t.prototype.createIframeContainer=function(){var e=this.videoWrapperNode,t=this.containerNode=document.createElement("div");t.className=D.locals.yaAdSdkVpaidContainer,t.style.display="none",e.style.position="relative",T.addStylesToElement(t,D.toString());var r=this.adDisplayController.gui.wrapper.el;r.parentElement===e?e.insertBefore(t,r):e.appendChild(t)},t.prototype.createVPAIDElements=function(){var e=this;this.createIframeContainer();var t=Date.now();return new o(function(r,n){var o=b.createFriendlyIFrame(e.containerNode,5e3,function(o,i){return s(e,void 0,void 0,function(){var e;return u(this,function(a){switch(a.label){case 0:if(!o)return n(new m.AdSDKError({code:m.AdSDKErrorCodes.CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID,details:void 0})),[2];this.iframe=o,i&&E.stats.value({name:S.AdSDKStatsValue.FriendlyIFrameAsyncCreation,data:{creativeSrc:this.getSrc()},value:Date.now()-t,labels:{}}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,l.loadScript({src:this.getScriptSrc(),win:this.iframe.contentWindow})];case 2:return a.sent(),r(),[3,4];case 3:return e=a.sent(),n(new m.AdSDKError(e,{code:m.AdSDKErrorCodes.CANNOT_LOAD_VPAID_MEDIA_FILE})),[3,4];case 4:return[2]}})})},function(){n(new m.AdSDKError({code:m.AdSDKErrorCodes.CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT,details:void 0}))});e.onDestroy.addOne(o)})},t.prototype.getVPAIDAd=function(){var e=this.iframe.contentWindow;if("function"!=typeof e.getVPAIDAd)throw new Error("VPAID does not provide getVPAIDAd function: "+this.getScriptSrc());var r="function"==typeof e.getVPAIDAd?e.getVPAIDAd():void 0;if(!t.isVPAIDCreative(r))throw new Error("VPAID does not implement all of the required functions: "+this.getScriptSrc());var n=r.handshakeVersion("2.0");if(!t.isSupportedVersion(n))throw new Error("Unsupported JS VPAID vpaidRequirementVersion["+n+"] supportedVersion[2.0] url["+this.getScriptSrc()+"]");return r},t.prototype.removeControls=function(){var e=this.iframe;e&&(e.src=""),this.iframe=void 0,c.removeNodeFromParent(this.containerNode),this.containerNode=void 0},t.prototype.getScriptSrc=function(){return this.getCurrentSource().url},t.prototype.getCurrentSource=function(){return this.mediaAd.getJSMediaFile()},t.prototype.subscribeCreativeEvents=function(e){var t=this,r={AdStarted:"start",AdUserClose:"close",AdVideoStart:"videoStart",AdVideoComplete:"complete",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volumeChange",AdSizeChange:"sizeChange",AdSkipped:"skip",AdImpression:"impression",AdBufferFull:"bufferFull",AdBufferEmpty:"bufferEmpty"},n=function(n){if(r.hasOwnProperty(n)){var o=r[n];e.subscribe(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.emit(o,e.length>1?e:e[0])},n)}};for(var o in r)n(o);e.subscribe(function(){t.onStop.dispatch(void 0)},g.VPAIDEventName.AdStopped),e.subscribe(function(e,r,n){Array.isArray(e)?(E.stats.event(a({},_.AdSDKEvent.VPAIDAdClickThruArrayParam,{data:{creativeSrc:t.getSrc()}})),t.clickThrough({url:e[0],id:e[1],playerHandles:e[2]})):t.clickThrough({url:e,id:r,playerHandles:Boolean(n)})},g.VPAIDEventName.AdClickThru),e.subscribe(function(){t.updateAdSkippableState()},g.VPAIDEventName.AdSkippableStateChange),e.subscribe(function(){t.onFirstQuartile.dispatch(void 0)},g.VPAIDEventName.AdVideoFirstQuartile),e.subscribe(function(){t.onMidpoint.dispatch(void 0)},g.VPAIDEventName.AdVideoMidpoint),e.subscribe(function(){t.onThirdQuartile.dispatch(void 0)},g.VPAIDEventName.AdVideoThirdQuartile)},t.prototype.updatePosition=function(){this.onCurrentPositionChange.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()})},t.prototype.parseVpaidError=function(e,t){var r={mediaFile:{src:this.getScriptSrc()},adParameters:this.mediaAd.vastAd.adParameters,playbackParams:this.mediaAd.playbackParams};return"string"==typeof e?new m.AdSDKError({code:t,message:"String error from vpaid ["+e+"]",details:r}):e?new m.AdSDKError(e,{code:t,details:r}):new m.AdSDKError({code:t,message:"unknown error from VPAID creative",details:r})},t.prototype.updateAdSkippableState=function(){var e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))},Object.defineProperty(t.prototype,"videoWrapperNode",{get:function(){return this.adDisplayController.wrapperNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoNodeController",{get:function(){return this.adDisplayController.videoNodeController},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.adDisplayController.config},enumerable:!0,configurable:!0}),t}(I.Viewer);t.JSVpaidViewer=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOCK_PIXEL_MAX_TIME=100},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdSkippableStateChange="AdSkippableStateChange",e.AdSizeChange="AdSizeChange",e.AdLinearChange="AdLinearChange",e.AdDurationChange="AdDurationChange",e.AdExpandedChange="AdExpandedChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdError="AdError",e.AdBufferFull="AdBufferFull",e.AdBufferEmpty="AdBufferEmpty"}(t.VPAIDEventName||(t.VPAIDEventName={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(5),i=r(19);t.createFriendlyIFrame=function(e,t,r,a){var s=e.ownerDocument.createElement("iframe");s.scrolling="no",s.setAttribute("allowfullscreen",""),s.style.display="block",e.appendChild(s);var u=function(e,t){e.open(),e.close(),e.body.style.margin="0",s.style.borderWidth="0",r(s,t)};if(s.contentDocument)return u(s.contentDocument,!1),o.noop;var l=i.promiseTimeout(t),d=l.promise,c=l.clear,f=n.addEventListener(s,"load",function(){c(),s.contentDocument?u(s.contentDocument,!0):r(void 0,!0)},{once:!0});return d.then(function(){f(),a()}),function(){f(),c()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeVpaidEvent=function(e,t,r){return e.subscribe(r,t),function(){e.unsubscribe(r,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75),o=r(44),i=r(7),a=r(3);t.addTargetRefParamToUrl=function(e){if(!a.isTrueYandexDomain(e)&&!a.isAdFoxDomain(e)||!n.isInSecureIFrame)return e;var t=o.parentFriendlyIFrames[o.parentFriendlyIFrames.length-1],r=t&&t.ownerDocument||document;return i.addParamToUrl(e,"target_ref",r.referrer)}},function(e,t,r){(t=e.exports=r(121)(!1)).push([e.i,".yaAdSdkVpaidContainer{position:absolute;top:0;right:0;bottom:0;left:0}.yaAdSdkVpaidContainer>iframe{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;border:0}",""]),t.locals={yaAdSdkVpaidContainer:"yaAdSdkVpaidContainer"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(277),i=r(278),a=r(5),s=r(19),u=r(9),l=r(280),d=r(282),c=r(129),f=r(61),p=r(56),A=r(1),h=r(2),v=r(59),y=r(130),m=r(131),E=r(3),_=Math.ceil(2/(f.VIDEO_TIMEUPDATE_INTERVAL/1e3)),S=1e3,g=function(){function e(e){var t=this;this.violatedSources=[],this.securityPolicyViolationCallback=function(e){var r=e.blockedURI,n=e.violatedDirective,o=e.originalPolicy;if("media-src"===n){var i={blockedURI:r,violatedDirective:n,originalPolicy:o};t.violatedSources.push(i)}},this.unsubscribeEvent=n.addEventListener(e,"securitypolicyviolation",this.securityPolicyViolationCallback)}return e.prototype.getViolatedSourceBySrc=function(e){return this.violatedSources.find(function(t){var r=t.blockedURI;return 0===e.indexOf(r)})},e.prototype.destroy=function(){this.violatedSources=[],this.unsubscribeEvent()},e}(),T=function(){function e(e){var t=this;this.videoNode=e,this.onClick=new u.Signal,this.onDestroy=new u.Signal,this.onCurrentPositionChange=new u.Signal,this.onPlayingStateChange=new u.Signal,this.onError=new u.Signal,this.onEnd=new u.Signal,this.onMuteChange=new u.Signal,this.onPlay=new u.Signal,this.onPlayAfterPause=new u.Signal,this.onPause=new u.Signal,this.onBufferingChange=new u.Signal,this.onPlaying=new u.Signal,this.onPlayingStateChangeInternal=new u.Signal,this.currentState=this.videoNode.paused?p.VideoPlayingState.PAUSE:p.VideoPlayingState.PLAY,this.clearCspErrorTimeout=a.noop,this.seekController=new d.SeekController(e);var r=v.isInsecureVideoElement(e)?e.ownerDocument.defaultView:window;this.fullscreenApi=new i.FullscreenApi(r,e),this.cspErrorHandler=new g(r);var n=e.paused,o=!1;this.onPlayingStateChangeInternal.add(function(e){if(t.currentState!==e){switch(t.onPlayingStateChange.dispatch(e),e){case p.VideoPlayingState.PLAY:n&&(n=!1,t.onPlayAfterPause.dispatch(void 0)),t.onPlay.dispatch(void 0);break;case p.VideoPlayingState.PAUSE:n=!0,t.onPause.dispatch(void 0);break;case p.VideoPlayingState.END:n=!0,t.onEnd.dispatch(void 0)}var r=e===p.VideoPlayingState.BUFFERING;o!==r&&(o=r,t.onBufferingChange.dispatch(o)),t.currentState=e}});var l=!1,c={error:function(){var e=t.videoNode.src,r=function(){var r=t.cspErrorHandler.getViolatedSourceBySrc(e);return r?new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_SRC_VIOLATES_CSP_POLICY,details:{violatedSource:r}}):void 0},n=function(){var e=r();e&&h.stats.error({error:e})},o=r();if(!o){o=t.getVideoNodeError();var i=s.promiseTimeout(S),a=i.promise,u=i.clear;t.clearCspErrorTimeout=function(){u(),n()},a.then(n)}t.onError.dispatch(o)},play:function(){t.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PLAY)},playing:function(){l=t.getMuted(),t.onPlaying.dispatch(void 0),t.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PLAY)},volumechange:function(){var e=t.getMuted();l!==e&&(l=e,t.onMuteChange.dispatch(e))}};for(var f in this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),c)c.hasOwnProperty(f)&&e.addEventListener(f,c[f]);this.onDestroy.addOne(function(){for(var r in c)c.hasOwnProperty(r)&&e.removeEventListener(r,c[r]);t.fullscreenApi.destroy(),t.seekController.destroy(),t.cspErrorHandler.destroy()})}return e.prototype.play=function(){y.muffleUncaughtErrors(this.videoNode.play())},e.prototype.pause=function(){this.videoNode.pause()},e.prototype.setMute=function(e){this.setVolume(e?0:1)},e.prototype.setSrc=function(e){var t=this.videoNode;m.preventPause(t,function(){t.src=e,t.load()})},e.prototype.getWidth=function(){return this.videoNode.clientWidth},e.prototype.getHeight=function(){return this.videoNode.clientHeight},e.prototype.getCurrentTime=function(){var e=this.videoNode.currentTime||0;return Math.max(0,e)},e.prototype.getDuration=function(){var e=this.videoNode.duration||0;return Math.max(0,e)},e.prototype.setCurrentTime=function(e){this.videoNode.currentTime=e},e.prototype.setVisibleControls=function(e){this.videoNode.controls=e},e.prototype.setPoster=function(e){this.videoNode.poster=e},e.prototype.isFullscreen=function(){return this.fullscreenApi.getFullscreenElement()===this.videoNode},e.prototype.getPaused=function(){return this.videoNode.paused},e.prototype.destroy=function(){this.clearCspErrorTimeout(),this.onDestroy.dispatch(void 0)},e.prototype.getMuted=function(){return 0===this.getVolume()},e.prototype.getVolume=function(){return this.videoNode.muted?0:this.videoNode.volume},e.prototype.setVolume=function(e){var t=this.videoNode;m.preventPause(t,function(){t.volume=e,t.muted=0===e})},e.prototype.setSeekAllowed=function(e){this.seekController.setSeekAllowed(e)},e.prototype.getVideoNodeError=function(){if(!this.videoNode.error||"undefined"==typeof MediaError)return new A.AdSDKError({code:A.AdSDKErrorCodes.VIDEO_ERROR,details:void 0});switch(this.videoNode.error.code){case MediaError.MEDIA_ERR_ABORTED:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_ABORTED,details:void 0});case MediaError.MEDIA_ERR_NETWORK:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_NETWORK,details:void 0});case MediaError.MEDIA_ERR_DECODE:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_DECODE,details:void 0});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_SRC_NOT_SUPPORTED,details:{videoSrc:this.videoNode.src,videoCurrentSrc:this.videoNode.currentSrc}});default:return new A.AdSDKError({code:A.AdSDKErrorCodes.VIDEO_ERROR,details:void 0})}},e.prototype.subscribeClick=function(){var e=this,t=function(){e.onClick.dispatch(void 0)},r=E.isIOS()&&E.getIOSVersion()>=11?o.handleTouchClick(this.videoNode,t):n.addEventListener(this.videoNode,"click",t);this.onDestroy.addOne(r)},e.prototype.subscribeTimeupdate=function(){var e=this,t=0,r=function(){e.seekController.isSeekingIllegal()||(t=Date.now(),e.onCurrentPositionChange.dispatch({currentTime:e.getCurrentTime(),duration:e.getDuration()}))},o=n.addEventListener(this.videoNode,"timeupdate",r,{passive:!0}),i=c.subscribeSyntheticTimeupdateInterval(function(){var n=Date.now()-t;e.currentState===p.VideoPlayingState.PLAY&&n>500&&r()});this.onDestroy.addOne(o,i)},e.prototype.subscribePause=function(){var e=this,t=n.addEventListener(this.videoNode,"pause",function(){e.getCurrentTime()>=e.getDuration()||e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PAUSE)},{passive:!0}),r=c.subscribeSyntheticTimeupdateInterval(function(){e.currentState===p.VideoPlayingState.PLAY&&e.videoNode.paused&&e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PAUSE)});this.onDestroy.addOne(t,r)},e.prototype.subscribeEnded=function(){var e=this,t=n.addEventListener(this.videoNode,"ended",function(){e.seekController.isSeekingIllegal()||(e.getCurrentTime()+.25>=e.getDuration()?e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END):E.log("video ended ignored with currentTime=["+e.getCurrentTime()+"] duration=["+e.getDuration()+"]"))},{passive:!0}),r=0,o=NaN,i=c.subscribeSyntheticTimeupdateInterval(function(){var t=e.getDuration(),n=e.getCurrentTime(),i=e.videoNode.paused;if(t>0&&n>=t)e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END);else{var a=!i&&t>0&&n===o&&t-n<1&&e.currentState===p.VideoPlayingState.PLAY;o=n,a?r>=_?(r=0,e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END)):r++:r=0}});this.onDestroy.addOne(t,i)},e.prototype.subscribeBuffering=function(){var e=this,t=l.addVideoBufferingHandler(this.videoNode,function(t){var r=t?p.VideoPlayingState.BUFFERING:e.videoNode.paused?p.VideoPlayingState.PAUSE:p.VideoPlayingState.PLAY;e.onPlayingStateChangeInternal.dispatch(r)});this.onDestroy.addOne(t)},e}();t.VideoNodeController=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),o=r(10),i=15,a=1e3;t.handleTouchClick=function(e,t,r){var s=void 0===r?{}:r,u=s.threshold,l=void 0===u?i:u,d=s.delay,c=void 0===d?a:d,f=0,p=0,A=0;function h(){0!==f&&(clearTimeout(f),f=0)}var v=o.addEventListener(e,"click",function(e){0!==f&&(h(),t(e))},{passive:!0}),y=o.addEventListener(e,"touchstart",function(e){1===e.touches.length&&(p=e.changedTouches[0].screenX,A=e.changedTouches[0].screenY,h(),f=window.setTimeout(h,c))},{passive:!0}),m=o.addEventListener(e,"touchend",function(e){0!==f&&(h(),t(e))},{passive:!0}),E=o.addEventListener(e,"touchmove",function(e){if(0!==f&&n.isObject(e.touches)&&1===e.touches.length){var t=e.changedTouches[0],r=t.screenX,o=t.screenY;if(i=r,a=o,Math.abs(p-i)>l||Math.abs(A-a)>l)h();else var i,a}else h()},{passive:!0});return function(){v(),y(),m(),E()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38),o=r(10),i=r(9),a=r(127),s=r(128),u=function(){function e(e,t){void 0===e&&(e=window);var r=this;this.handlers=[],this.onDestroy=new i.Signal,this.fullscreenElement=null,this.setFullScreenElementFromAPI=function(){var e=a.getFullscreenElement(r.win,r.video);r.setFullscreenElement(e)},this.win=e,this.video=t,t&&n.isIOS&&(this.onDestroy.addOne(o.addEventListener(t,"webkitbeginfullscreen",function(){r.setFullscreenElement(t)})),this.onDestroy.addOne(o.addEventListener(t,"webkitendfullscreen",function(){r.setFullscreenElement(null)}))),this.names=s.getFullscreenGlobalNames(e,t),this.names&&(this.onDestroy.addOne(o.addEventListener(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}return e.prototype.requestFullscreenForElement=function(e){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");var t=this.names.request;if(!(t in e))throw new this.win.Error("Fullscreen is not supported");e[t]()},e.prototype.isFullscreen=function(){return null!==this.fullscreenElement},e.prototype.exit=function(){if(void 0===this.names)throw new Error("Fullscreen is not supported");this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()},e.prototype.getFullscreenElement=function(){return this.fullscreenElement},e.prototype.addHandler=function(e){if("function"!=typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)},e.prototype.removeHandler=function(e){this.handlers=this.handlers.filter(function(t){return t!==e})},e.prototype.destroy=function(){this.handlers.length=0,this.onDestroy.dispatch(void 0)},e.prototype.setFullscreenElement=function(e){this.fullscreenElement=e,this.handlers.forEach(function(t){return t(e)})},e}();t.FullscreenApi=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_GLOBAL_NAMES_LIST=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),o=r(38),i=r(41),a=r(10),s=r(281),u=r(129),l=r(61);t.addVideoBufferingHandlerNative=function(e,t){var r=!1,n=a.addEventListener(e,"waiting",function(){r||(r=!0,t(!0))},{passive:!0}),o=a.addEventListener(e,"playing",function(){r&&(r=!1,t(!1))},{passive:!0}),i=a.addEventListener(e,"canplay",function(){r&&(r=!1,t(!1))},{passive:!0});return function(){n(),o(),i()}},t.addVideoBufferingHandlerPolyfill=function(e,t){var r=0,n=!1;return u.subscribeSyntheticTimeupdateInterval(function(){var o=e.currentTime,i=e.duration,a=1/l.VIDEO_TIMEUPDATE_INTERVAL;if(!e.paused){var s=r+a;n?o>s&&(t(!1),n=!1):o<s&&o!==i&&(t(!0),n=!0)}r=o})},t.addVideoBufferingHandler=!s.doesVideoSupportsWaitingEvent||n.internetExplorerVersion>0||i.isSafari||o.isIOS?t.addVideoBufferingHandlerPolyfill:t.addVideoBufferingHandlerNative},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.doesVideoSupportsWaitingEvent=null===n.TEST_VIDEO_TAG.onwaiting},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(283);t.MIN_SEEK_HOLE=50;var i=function(){function e(e){var t=this;this.video=e,this.seekAllowed=!0,this.onVideoTimeUpdate=function(){var e=t.video.currentTime;t.isSeekingIllegal()?t.video.currentTime=t.lastLegalCurrentTime:(t.lastLegalCurrentTime=e,t.lastTimestamp=Date.now())},this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=n.addEventListener(e,"timeupdate",this.onVideoTimeUpdate)}return e.prototype.setSeekAllowed=function(e){this.seekAllowed=e},e.prototype.isSeekingIllegal=function(){return!this.seekAllowed&&this.isSeekingVideo()},e.prototype.destroy=function(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()},e.prototype.isSeekingVideo=function(){var e=this.video,r=e.currentTime,n=e.playbackRate;if(this.lastLegalCurrentTime){var i=Date.now()-this.lastTimestamp;if(i>t.MIN_SEEK_HOLE)if((r-this.lastLegalCurrentTime)/(i/1e3)>(n||1)*o.PREVENT_VIDEO_SEEK_SPEED)return!0}return!1},e}();t.SeekController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREVENT_VIDEO_SEEK_SPEED=2},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(285),i=r(115),a=r(38),s=r(10),u=r(11),l=r(119),d=r(122),c=r(2),f=r(6),p=r(59),A=r(287),h=r(131),v=r(288),y=r(289),m=r(13);var E=function(){function e(e,t){void 0===t&&(t=!1),this.revertVideoNodePosition=function(){return!1},this.videoNode=e;var r=p.isInsecureVideoElement(e),o=e.parentElement,i=A.isInsertionAbilityElement(e),a=Boolean(o);if(a&&i?this.revertVideoNodePosition=y.saveNodeDomPosition(e):c.stats.event(n({},f.AdSDKEvent.UnusualVideoNodeState,{data:{hasParentElement:a,insertionAbility:i},labels:{hasParentElement:String(a),insertionAbility:String(i)}})),this.videoTagProps={controls:e.controls,loop:e.loop,currentTime:t?e.currentTime:NaN},r){var s=e.getAttribute("poster"),u=e.getAttribute("src")||e.src;this.videoTagAttributes={autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),loop:e.getAttribute("loop"),poster:""===s?null:s,preload:e.getAttribute("preload"),src:u||null,width:e.getAttribute("width"),style:e.getAttribute("style")}}this.sources=r?Array.prototype.slice.call(e.getElementsByTagName("source")).map(function(e){return{src:e.getAttribute("src"),type:e.getAttribute("type")}}):[]}return e.prototype.hasMedia=function(){return Boolean(this.videoTagAttributes&&this.videoTagAttributes.src||this.sources.filter(function(e){return e.src}).length)},e.prototype.revert=function(){var e,t,r,p=this,A=this.videoNode;A&&(this.hasMedia()&&!isNaN(this.videoTagProps.currentTime)&&s.addEventListener(A,"canplay",function(){A.currentTime=p.videoTagProps.currentTime},{once:!0}),this.videoTagAttributes&&l.setAttributes(A,this.videoTagAttributes),e=A,t=this.videoTagProps,r=["controls","loop"],u.getObjectKeys(t).forEach(function(n){-1!==r.indexOf(n)&&(e[n]=t[n])}),v.removeAllChildFromNode(A),this.sources.forEach(function(e){m.appendNewElement("source",A,"",e)}),o.canChangeVideoVolume&&(0===A.volume||A.muted)?(A.volume=0===A.volume?d.DEFAULT_VOLUME:A.volume,A.muted=!0):A.muted&&a.isIOS&&i.iOSVersion<=10&&(A.muted=!1,A.dispatchEvent(new Event("volumechange"))),h.preventPause(A,function(){A.load()}),this.revertVideoNodePosition()&&c.stats.event(n({},f.AdSDKEvent.MovedVideoNode,{data:{}})),this.destroy())},e.prototype.destroy=function(){this.videoNode=void 0,this.revertVideoNodePosition=function(){return!1}},e}();t.VideoState=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(286);t.canChangeVideoVolume=n.getIfCanChangeVolume()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.getIfCanChangeVolume=function(){var e=n.TEST_VIDEO_TAG.volume;n.TEST_VIDEO_TAG.volume=0===e?1:0;var t=n.TEST_VIDEO_TAG.volume!==e;return n.TEST_VIDEO_TAG.volume=e,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);t.isInsertionAbilityElement=function(e){var t=e.parentNode,r=e.nextSibling;try{e.ownerDocument.createElement("div").appendChild(e)}catch(e){return!1}return t?t.insertBefore(e,r):n.removeNodeFromParent(e),!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildFromNode=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.saveNodeDomPosition=function(e){var t,r=e.parentElement;return r?(t=document.createComment(n.generateHexString(16)),r.insertBefore(t,e),function(){var n=e.parentElement,o=e.previousSibling,i=!1;return r===n&&o===t||(r.insertBefore(e,t),i=!0),r.removeChild(t),i}):function(){return!1}}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(15),u=r(8),l=r(36),d=r(58),c=r(4),f=r(1),p=r(35),A=r(291),h=r(292),v=r(294),y=r(3),m=r(104),E=r(295),_=r(126),S=r(125),g=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.startTracked=!1,n.videoNodeController=t.videoNodeController,n.onMuteChange=function(e){n.isPlaying&&n.trackEvent(e?c.TrackingEventType.MUTE:c.TrackingEventType.UNMUTE),n.emit("muteChange",e)};var o=!1,i=!1,a=!1,s=!1;n.onCurrentPositionChange.add(function(e){var t=e.currentTime,u=e.duration;!o&&t>=r.playbackParams.progressOffset&&(o=!0,n.onProgress.dispatch(void 0)),!i&&t>=u/4&&t<=u/2&&(i=!0,n.onFirstQuartile.dispatch(void 0)),!a&&t>=u/2&&t<=3*u/4&&(a=!0,n.onMidpoint.dispatch(void 0)),!s&&t>=3*u/4&&(s=!0,n.onThirdQuartile.dispatch(void 0))}),n.on({pause:function(){return n.trackEvent(c.TrackingEventType.PAUSE)},skip:function(){return n.trackEvent(c.TrackingEventType.SKIP)},complete:function(){return n.trackEvent(c.TrackingEventType.COMPLETE)},impression:function(){return n.trackEvent(c.TrackingEventType.IMPRESSION)},resume:function(){return n.trackEvent(c.TrackingEventType.RESUME)}}),n.videoNodeController.isFullscreen()&&n.trackEvent(c.TrackingEventType.FULLSCREEN);var l=function(){n.videoNodeController.isFullscreen()?n.trackEvent(c.TrackingEventType.FULLSCREEN):n.trackEvent(c.TrackingEventType.EXIT_FULLSCREEN)};return n.videoNodeController.fullscreenApi.addHandler(l),n.onDestroy.add(function(){n.videoNodeController.onBufferingChange.remove(n.onBufferingChangeCallback),n.videoNodeController.onMuteChange.remove(n.onMuteChange),n.videoNodeController.fullscreenApi.removeHandler(l),n.curtain&&u.removeNodeFromParent(n.curtain)}),n}return i(t,e),t.prototype.resume=function(){this.videoNodeController.play()},t.prototype.play=function(e){var t=this;return void 0===e&&(e=!0),this.preload().catch(function(e){return t.onStop.dispatch(e)}),e?this.isStarted?this.resume():this.start():this.videoNodeController.onPlay.addOne(function(){t.isStarted||t.videoNodeController.videoNode.currentSrc===t.preferredSource.url&&t.start()}),this.onStop.promise().then(function(e){return e?o.reject(e):o.resolve()})},t.prototype.pause=function(){this.videoNodeController.pause()},t.prototype.skipAd=function(){this.emit("skip"),this.onStop.dispatch(void 0)},t.prototype.getAdSkippableState=function(){return this.playbackParams.skipDelay>0&&this.getCurrentTime()>this.playbackParams.skipDelay},t.prototype.getAdWidth=function(){var e=this.videoNodeController.videoNode;return e.videoWidth>0?e.videoWidth:this.preferredSource?this.preferredSource.width:0},t.prototype.getAdHeight=function(){var e=this.videoNodeController.videoNode;return e.videoHeight>0?e.videoHeight:this.preferredSource?this.preferredSource.height:0},t.prototype.getCurrentTime=function(){return this.videoNodeController.getCurrentTime()},t.prototype.getDuration=function(){return this.videoNodeController.getDuration()||this.mediaAd.duration},t.prototype.getSrc=function(){return this.preferredSource?this.preferredSource.url:""},t.prototype.getPaused=function(){return this.videoNodeController.getPaused()},t.prototype.getVolume=function(){return this.videoNodeController.getVolume()},t.prototype.setVolume=function(e){this.videoNodeController.setVolume(e)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=l.VPAIDViewMode.NORMAL)},t.prototype.setCurtain=function(){var e=this;if(y.isIOS9OrLess()&&y.isIOSWebView()){this.curtain=y.createDiv(d.locals.yaAdSdk_iosVideoCurtain_wrapper);var t=y.createDiv(d.locals.yaAdSdk_iosVideoCurtain);this.curtain.appendChild(t),this.curtain.addEventListener("click",function(){return e.clickThrough()});var r=this.adDisplayController,n=r.videoNode,o=r.wrapperNode,i=n.nextSibling,a=n.parentNode===o&&i?i:o.firstChild;o.insertBefore(this.curtain,a)}},t.prototype.getPreferredSource=function(e){for(var t,r=[],n=this.videoNodeController.videoNode,i=0;i<e.length;i++){var a=e[i];"probably"===n.canPlayType(a.type)&&r.push(a)}if(0===r.length)for(i=0;i<e.length;i++){a=e[i];"maybe"===n.canPlayType(a.type)&&r.push(a)}if(0===r.length)for(i=0;i<e.length;i++){a=e[i];m.getAdMediaFileContentType(a)===p.AdContentType.video&&"video/mp4"!==a.type&&a.url.indexOf(".mp4")>-1&&r.push(a)}if(0===r.length)return o.reject(new f.AdSDKError({code:f.AdSDKErrorCodes.NO_APPROPRIATE_VIDEO_SOURCE,details:{sourceList:e.map(E.parseMediaFile)}}));r.sort(function(e,t){return e.bitrate&&t.bitrate?e.bitrate-t.bitrate:e.width&&t.width?e.width-t.width:e.height&&t.height?e.height-t.height:0});var s=this.adDisplayController.desiredBitrate;if("number"==typeof s&&s>0){var u=r.filter(function(e){return!!e.bitrate});if(u.length)return u.reduce(function(e,t){return Math.abs(s-e.bitrate)<Math.abs(s-t.bitrate)?e:t})}for(i=0;i<this.adDisplayController.qualityLevel&&r.length>1;i++)r.shift();var l,d,c=this.videoNodeController.getWidth(),v=this.videoNodeController.getHeight(),y=this.adDisplayController.wrapperNode,_=y.clientWidth,S=y.clientHeight;c&&v?(l=c,d=v):_&&S?(l=_,d=S):(l=640,d=480);var g=Number.MAX_VALUE;for(i=0;i<r.length;i++){a=r[i];var T=Math.max(Math.abs(l-a.width),Math.abs(d-a.height));T<g&&(g=T,t=a)}var b=t;if(b){var O=b.url;return h.shouldRequestRedirectUrl(O)?A.resolveRedirectUrl(O).then(function(e){return{type:b.type,bitrate:b.bitrate,width:b.width,height:b.height,delivery:b.delivery,apiFramework:null,url:e,src:e,source:e,isVpaid:!1}}):b}return o.reject(new f.AdSDKError({code:f.AdSDKErrorCodes.NO_APPROPRIATE_VIDEO_SOURCE,details:{sourceList:e.map(E.parseMediaFile)}}))},t.prototype.preload=function(){var e=this;if(!this.preloadPromise){var t=this.getPreferredSource(this.mediaAd.vastAd.mediaFiles),r=a(this.mediaAd.imageSources,1)[0];if(r&&this.videoNodeController.setPoster(r.url),t instanceof o)this.preloadPromise=t.then(function(t){e.setAdMediaFile(t)});else try{this.preloadPromise=o.resolve(),this.setAdMediaFile(t)}catch(e){this.preloadPromise=o.reject(e)}}return this.preloadPromise},t.prototype.setAdMediaFile=function(e){this.preferredSource=e,this.videoNodeController.setSrc(e.url),this.onReady.dispatch(void 0)},t.prototype.subscribeEvents=function(){var e=this,t=this.mediaAd,r=this.videoNodeController;this.videoNodeController.onMuteChange.add(this.onMuteChange);var n=function(){e.startTracked&&e.emit("resume")};this.videoNodeController.onPlayAfterPause.add(n),this.onDestroy.addOne(function(){return e.videoNodeController.onPlayAfterPause.remove(n)});var o=function(){e.emit("pause")};this.videoNodeController.onPause.add(o),this.onDestroy.addOne(function(){return e.videoNodeController.onPause.remove(o)});var i=this.mediaAd.playbackParams,a=i.bufferFullTimeout,u=i.bufferEmptyLimit,l=0,d=0;this.onBufferingChangeCallback=function(t){0===l?l++:t?++l>u?e.onStop.dispatch(new f.AdSDKError({code:f.AdSDKErrorCodes.BUFFER_EMPTY_LIMIT,details:{bufferEmptyLimit:u}})):e.trackEvent(_.CustomTrackingEventType.BUFFER_EMPTY):e.trackEvent(_.CustomTrackingEventType.BUFFER_FULL),clearTimeout(d),t&&(d=window.setTimeout(function(){e.onStop.dispatch(new f.AdSDKError({code:f.AdSDKErrorCodes.BUFFER_FULL_TIMEOUT,details:{bufferFullTimeout:a}}))},a),e.onStop.addOne(function(){return clearTimeout(d)}),e.onDestroy.addOne(function(){return clearTimeout(d)}))},this.videoNodeController.onBufferingChange.add(this.onBufferingChangeCallback),r.onError.add(function(t){e.onStop.dispatch(t)});var p=r.onCurrentPositionChange.add(function(r){var n=r.currentTime,o=r.duration;if(!o){if(!t.duration)return;o=t.duration}e.onCurrentPositionChange.dispatch({currentTime:n,duration:o})}),A=0,h=function(){1===++A?e.emit("complete"):e.trackEvent(c.TrackingEventType.COMPLETE+A),A===t.numRepeats?e.onStop.dispatch(void 0):e.videoNodeController.play()};this.videoNodeController.onEnd.add(h);var y=function(){e.mediaAd.playbackParams.clickThroughUrl&&e.clickThrough({})};this.videoNodeController.onClick.add(y);var m=v.subscribeVideoPlayingFirstFrame(this.videoNodeController.videoNode,function(){e.startTracked=!0,e.emit("start"),e.trackEvent(c.TrackingEventType.START),e.trackEvent(c.TrackingEventType.CREATIVE_VIEW);var t=s.once(function(){e.emit("impression")}),r=e.impressionTrackOffset;if(0===r)t();else{var n=e.onCurrentPositionChange.add(function(e){e.currentTime>=r&&(t(),n())});e.onDestroy.addOne(n),e.onDestroy.addOne(e.videoNodeController.onEnd.addOne(function(){e.videoNodeController.getDuration()>=r&&t()}))}m()});this.onDestroy.addOne(function(){e.videoNodeController.onClick.remove(y),e.videoNodeController.onEnd.remove(h),p(),m()})},t.prototype.start=function(){var e=this;this.isStarted=!0,this.subscribeEvents(),this.setCurtain(),this.videoNodeController.setSeekAllowed(!1),this.onStop.addOne(function(){e.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)},t}(S.Viewer);t.VideoViewer=g},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(2),s=r(6),u=r(22);t.resolveRedirectUrl=function(e,t){return void 0===t&&(t=!0),void 0===(new XMLHttpRequest).responseURL?(t&&i.LOG_STATS&&a.stats.eventToStats("LoadSourceRedirectWithoutResponseUrl",{src:e}),n.resolve(e)):new n(function(r){var n=new XMLHttpRequest;n.open("HEAD",u.fixUrlSheme(e)),n.timeout=2e3,n.onload=function(){200===n.status?(t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnStatus200,{data:{src:e,responseURL:n.responseURL}})),r(n.responseURL)):(t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnOtherStatus,{data:{src:e}})),r(e))},n.onerror=function(){t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnXhrError,{data:{src:e}})),r(e)},n.ontimeout=function(){t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnXhrTimeout,{data:{src:e}})),r(e)},n.send()}).catch(function(){return t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnCaughtException,{data:{src:e}})),e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(293),i=r(3);t.shouldRequestRedirectUrl=function(e){var t=n.parseUrl(e),r=t.hostname,a=t.pathname;return!o.isStrmHostname(r)&&0===a.indexOf("/get")&&(i.endsWith(r,".yandex.ru")||i.endsWith(r,".yandex.net"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.isStrmHostname=function(e){return n.endsWith(e,"strm.yandex.ru")||n.endsWith(e,"strm.yandex.net")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.subscribeVideoPlayingFirstFrame=function(e,t){var r=n.addEventListener(e,"timeupdate",function(){e.currentTime>0&&(i(),t())}),o=n.addEventListener(e,"playing",function(){e.duration>0&&(i(),t())}),i=function(){r(),o()};return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMediaFile=function(e){var t=e.width,r=e.height,n=e.bitrate,o=e.type,i=e.url;return{width:t,height:r,bitrate:n,type:o,delivery:"progressive",apiFramework:null,url:i,source:i,src:i,isVpaid:!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdPodStarted="AdPodStarted",e.AllAdPodVideoComplete="AllAdPodVideoComplete",e.AdPodStopped="AdPodStopped",e.AdSkippableStateChange="AdSkippableStateChange"}(t.AdPlaybackControllerEvent||(t.AdPlaybackControllerEvent={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";this.decode=function(t){var r,n,o,i,a,s,u="",l=0;for(t=t.replace(/[^A-Za-z0-9\-\_\=]/g,"");l<t.length;)r=e.indexOf(t.charAt(l++))<<2|(i=e.indexOf(t.charAt(l++)))>>4,n=(15&i)<<4|(a=e.indexOf(t.charAt(l++)))>>2,o=(3&a)<<6|(s=e.indexOf(t.charAt(l++))),u+=String.fromCharCode(r),64!==a&&(u+=String.fromCharCode(n)),64!==s&&(u+=String.fromCharCode(o));return function(e){for(var t="",r=0,n=0,o=0;r<e.length;)if((n=e.charCodeAt(r))<128)t+=String.fromCharCode(n),r++;else if(n>191&&n<224)o=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&o),r+=2;else{o=e.charCodeAt(r+1);var i=e.charCodeAt(r+2);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&i),r+=3}return t}(u)}}}();t.base64=new n},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(5),l=r(299),d=r(56),c=r(132),f=r(40),p=r(57),A=r(300),h=r(301),v=r(25),y=r(302),m=r(303),E=r(4),_=r(1),S=r(2),g=r(27),T=r(3);-1===E.ENVIRONMENT.SDK_FULL_VERSION.indexOf(":adsdk")&&(E.ENVIRONMENT.SDK_FULL_VERSION+=":adsdk"),t.initPlacement=function(e,t,r){v.Vmap.load(e).then(function(r){t(new A.AdManager(e,r))}).catch(function(e){g.trackError(e),T.fireCallback(r,e)})},t.initAdDisplay=function(e,r,n,o){var i=T.getElement(r);if(!i)throw new Error("AdSDK Error: initAdDisplay: unresolved video element:"+r);var a=T.getElement(n);if(!a)throw new Error("AdSDK Error: initAdDisplay: unresolved video wrapper element:"+n);t.initPlacement(e,function(){T.fireCallback(o,new p.AdDisplayController(e,i,a))},o)};var b=function(e){function t(t,r){var n=r.setInStreamEnabled,o=r.setVideoType,i=e.call(this,t)||this;return i.setInStreamEnabled=n,i.setVideoType=o,i}return i(t,e),t}(h.PublicController),O=function(){function e(e,t,r,n,o){var i=this;this.config=e,this.videoNode=t,this.videoWrapperNode=r,this.isDestroyed=!1,this.isInStreamEnabled=!0,this.videoType=c.VideoType.VOD,this.setInStreamEnabled=function(e){i.isInStreamEnabled=e},this.setVideoType=function(e){i.videoType=e},this.callbacks={onInit:n,onError:o},f.AdLoader.create(this.config).then(function(e){i.adLoader=e,i.displayController=new p.AdDisplayController(i.config,i.videoNode,i.videoWrapperNode),i.publicController=new b(i.displayController,{setInStreamEnabled:i.setInStreamEnabled,setVideoType:i.setVideoType}),i.displayController.onDestroy.add(function(){i.isDestroyed=!0}),i.startWatchingVideoForAd(),T.fireCallback(n,i.publicController)}).catch(function(e){g.trackError(e),T.fireCallback(o,e)})}return e.prototype.loadMediaAds=function(e){return a(this,void 0,o,function(){var t;return s(this,function(r){if(t=e.adType,!this.isInStreamEnabled)throw new Error("AdSDK instream is disabled on loading ["+t+"]");if(this.isDestroyed)throw new Error("AdSDK was destroyed before loading MediaAds ["+t+"]");return[2,this.adLoader.load(e)]})})},e.prototype.loadAndShowAdBreak=function(e){return a(this,void 0,o,function(){var t;return s(this,function(r){switch(r.label){case 0:return[4,this.loadMediaAds(e)];case 1:if(t=r.sent(),this.isDestroyed)throw new Error("AdSDK was destroyed while loading ad ["+e.adType+"]");return[2,this.displayController.showAd(t)]}})})},e.prototype.startWatchingVideoForAd=function(){return a(this,void 0,o,function(){var e,t,r,n,i,f,p,A,h,v,E,b,O,P,w=this;return s(this,function(C){switch(C.label){case 0:return e=this.adLoader.getPrerollBlock(),t=this.adLoader.getMidrollBlocks().sort(function(e,t){return e.timeOffset-t.timeOffset}),r=this.adLoader.getPostrollBlock(),(n=this.displayController.videoNodeController).getPaused()?[4,n.onPlay.promise()]:[3,2];case 1:return C.sent(),[3,4];case 2:return[4,o.resolve()];case 3:C.sent(),C.label=4;case 4:return C.trys.push([4,8,,9]),i=n.getCurrentTime(),!e||this.isDestroyed?[3,7]:i>m.PREROLL_THRESHOLD?(S.stats.error({error:new _.AdSDKError({code:_.AdSDKErrorCodes.PREROLL_THRESHOLD_EXCEEDED,details:{prerollAdBreak:e}})}),[3,7]):[3,5];case 5:return this.pauseVideo(),[4,this.loadAndShowAdBreak(e)];case 6:C.sent(),C.label=7;case 7:return[3,9];case 8:return f=C.sent(),g.trackError(f),T.fireCallback(this.callbacks.onError,f),[3,9];case 9:return this.playVideo(),(p=new l.TimeCounter).start(),this.displayController.onDestroy.addOne(function(){p.stop()}),p.waitForTime(1e4).then(function(){S.stats.eventToStats("PlaybackTenSeconds",{config:w.config,preroll:e,midrolls:t,postroll:r})}),A=!1,h=function(e){A||(e===d.VideoPlayingState.PLAY?p.start():p.stop())},t.forEach(function(e){return a(w,void 0,void 0,function(){var t,r,n,o;return s(this,function(i){switch(i.label){case 0:return r=u.noop,e.timeOffset>y.PRELOAD_MIN_TIME?[4,p.waitForTime(1e3*(e.timeOffset-y.PRELOAD_OFFSET))]:[3,7];case 1:if(i.sent(),this.isDestroyed)return[2];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.loadMediaAds(e)];case 3:return t=i.sent(),[3,5];case 4:return n=i.sent(),g.trackError(n),[2];case 5:return r=t.preload({videoSlot:this.videoNode,desiredBitrate:this.config.desiredBitrate}),this.displayController.onDestroy.addOne(r),[4,p.waitForTime(1e3*e.timeOffset)];case 6:return i.sent(),[3,12];case 7:return[4,p.waitForTime(1e3*e.timeOffset)];case 8:i.sent(),i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.loadMediaAds(e)];case 10:return t=i.sent(),[3,12];case 11:return o=i.sent(),g.trackError(o),[2];case 12:return this.isDestroyed?(r(),[2]):(A=!0,p.stop(),[4,this.displayController.showAd(t)]);case 13:return i.sent(),r(),A=!1,this.playVideo(),p.start(),[2]}})})}),n.onPlayingStateChange.add(h),E=u.noop,b=this.displayController.videoNodeController.onCurrentPositionChange.add(function(e){var t=e.currentTime,n=e.duration;return a(w,void 0,void 0,function(){var e;return s(this,function(o){switch(o.label){case 0:if(n<y.PRELOAD_OFFSET||n-t>=y.PRELOAD_OFFSET||A||this.videoType!==c.VideoType.VOD)return[2];if(b(),!this.isInStreamEnabled||!r||this.isDestroyed)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.loadMediaAds(r)];case 2:return v=o.sent(),E=v.preload({videoSlot:this.videoNode,desiredBitrate:this.config.desiredBitrate}),[3,4];case 3:return e=o.sent(),g.trackError(e),[2];case 4:return[2]}})})}),[4,new o(function(e){n.onEnd.add(function(){A||w.videoType!==c.VideoType.VOD||(p.stop(),e())})})];case 10:if(C.sent(),b(),n.onPlayingStateChange.remove(h),!this.isInStreamEnabled||!r||this.isDestroyed)return[3,18];C.label=11;case 11:return C.trys.push([11,16,,17]),v?[4,this.displayController.showAd(v)]:[3,13];case 12:return C.sent(),[3,15];case 13:return this.pauseVideo(),[4,this.loadAndShowAdBreak(r)];case 14:C.sent(),C.label=15;case 15:return[3,17];case 16:return O=C.sent(),g.trackError(O),T.fireCallback(this.callbacks.onError,O),[3,17];case 17:this.pauseVideo(),this.displayController.videoNodeController.setCurrentTime(0),C.label=18;case 18:return E(),!this.isDestroyed&&this.isInStreamEnabled&&("function"==typeof(P=this.publicController.onFulfilled)&&P(),this.startWatchingVideoForAd()),[2]}})})},e.prototype.playVideo=function(){this.displayController.videoNodeController.play()},e.prototype.pauseVideo=function(){this.displayController.videoNodeController.pause()},e}();t.AdSDK=O,t.initForVideoNode=function(e,t,r,n,o){var i=T.getElement(t);if(!i)throw new Error("AdSDK JS Error: Unresolved Node in second param:"+t);var a=T.getElement(r);if(!a)throw new Error("AdSDK JS Error: Unresolved Node in third param:"+t);new O(e,i,a,n,o)},t.initVideoNode=function(e,r,n,o){t.initForVideoNode(e,r,n,o,o)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(37),a=function(){function e(){var e=this;this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=function(){if(e.isStarted){var t=Date.now();if(e.spent+=t-e.lastStartTime,e.lastStartTime=t,e.dispatchCallbacksByTime(),!(e.callbacks.length<=0)){var r=e.callbacks[0].time;window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout(e.recalculateTimeAndDispatchCallbacks,r-e.spent)}}}}return e.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())},e.prototype.stop=function(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)},e.prototype.getTime=function(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent},e.prototype.addCallback=function(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())},e.prototype.waitForTime=function(e){var t=this;return new n(function(r){t.addCallback(e,r)})},e.prototype.addCallbackToArray=function(e,t){for(var r={time:e,callback:t},n=0;n<this.callbacks.length;n++){if(this.callbacks[n].time>=e)return void this.callbacks.splice(n,0,r)}this.callbacks.push(r)},e.prototype.dispatchCallbacksByTime=function(){var e=this,t=o(i.separate(this.callbacks,function(t){return t.time<=e.spent}),2),r=t[0],n=t[1];this.callbacks=n,r.forEach(function(e){(0,e.callback)()})},e}();t.TimeCounter=a},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(24),i=r(62),a=r(67),s=function(){function e(e,t){this.vmap=t,this.adConfig=o.extractAdConfig(e)}return e.prototype.loadAd=function(e,t,r){var o=i.getAdBreaksByType(this.vmap.adBreaks,e)[0];return o?a.loadAd(this.adConfig,o).then(function(e){return"function"==typeof t&&t(e.getFirstMediaAd()),e}).catch(function(e){return"function"==typeof r&&r(e),n.reject(e)}):n.reject(new Error("No ads of a given type: "+e))},e}();t.AdManager=s},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(18),u=r(1),l=r(2),d=r(6),c=[u.AdSDKErrorCodes.INVALID_VAST_XML,u.AdSDKErrorCodes.NO_AD_SECTION,u.AdSDKErrorCodes.NO_VAST_AD_TAG_URI,u.AdSDKErrorCodes.VAST_LOAD_TIMEOUT,u.AdSDKErrorCodes.WRAPPER_LOAD_TIMEOUT,u.AdSDKErrorCodes.WRAPPER_MAX_COUNT_LIMIT,u.AdSDKErrorCodes.INCORRECT_SKIPOFFSET_FORMAT,u.AdSDKErrorCodes.ADFOX_VAST_LOAD_ERROR,u.AdSDKErrorCodes.VAST_LOAD_ERROR,u.AdSDKErrorCodes.VIDEO_TIMEOUT,u.AdSDKErrorCodes.VPAID_START_TIMEOUT,u.AdSDKErrorCodes.BUFFER_FULL_TIMEOUT,u.AdSDKErrorCodes.NO_AD_TO_DISPLAY,u.AdSDKErrorCodes.VMAP_CONFIG_WITHOUT_PARTNER_ID],f=function(){function e(e){var t=this;this.displayController=e,this.adStarted=!1,this.paused=!0,e.onBeforeAdStart.add(function(e){var r=e.adType,n=e.startAd;if("function"==typeof t.onBeforeAdStart)try{t.onBeforeAdStart(r,n)}catch(e){console.error(e)}}),e.onAdStart.add(function(e){var r=e.adType;if("function"==typeof t.onAdStart)try{t.onAdStart(r)}catch(e){console.error(e)}}),e.onAdMediaStart.add(function(e){var r=e.adType;if(t.adStarted=!0,!t.paused&&"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!0)}catch(e){console.error(e)}if("function"==typeof t.onAdMediaStart)try{t.onAdMediaStart(r)}catch(e){console.error(e)}}),e.onAdMediaEnd.add(function(e){var r=e.adType;if("function"==typeof t.onComplete)try{t.onComplete()}catch(e){console.error(e)}if("function"==typeof t.onAdMediaEnd)try{t.onAdMediaEnd(r)}catch(e){console.error(e)}if("function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!1)}catch(e){console.error(e)}}),e.onAdEnd.add(function(e){var r=e.adType;if("function"==typeof t.onAdEnd)try{t.onAdEnd(r)}catch(e){console.error(e)}}),e.onClickThrough.add(function(){if("function"==typeof t.onClickThrough)try{t.onClickThrough()}catch(e){console.error(e)}}),e.onAdSkipped.add(function(e){var r=e.adType;if("function"==typeof t.onAdSkipped)try{t.onAdSkipped(r)}catch(e){console.error(e)}}),e.on(["resume","start"],function(){if(t.paused=!1,t.adStarted&&"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!0)}catch(e){console.error(e)}}).on("pause",function(){if(t.paused=!0,"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!1)}catch(e){console.error(e)}}),e.onAdSkippableStateChange.add(function(e){if("function"==typeof t.onAdSkippableStateChange)try{t.onAdSkippableStateChange(e)}catch(e){console.error(e)}}),this.addStartErrorHandler()}return e.prototype.getCurrentContentType=function(){return this.displayController.getCurrentContentType()},e.prototype.play=function(e){var t=this;void 0===e&&(e=0===this.displayController.getVolume());var r=function(){return i(t,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:this.displayController.setMuted(this.displayController.autoplayAbility.requireMute||e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.displayController.play()];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),l.stats.errorToStats(new u.AdSDKError(t,{code:u.AdSDKErrorCodes.PUBLIC_CONTROLLER_PLAY_ERROR})),[3,4];case 4:return[2]}})})};void 0===this.displayController.getCurrentContentType()?this.displayController.once("playAdMedia",r):r()},e.prototype.resume=function(){this.play()},e.prototype.pause=function(){this.displayController.pause()},e.prototype.skip=function(){l.stats.event(o({},d.AdSDKEvent.PublicControllerSkip,{data:{}})),this.displayController.skipAllViewers()},e.prototype.clickThrough=function(){this.displayController.clickThrough()},e.prototype.getPaused=function(){return this.displayController.getPaused()},e.prototype.getMuted=function(){return 0===this.displayController.getVolume()},e.prototype.getVolume=function(){return this.displayController.getVolume()},e.prototype.setVolume=function(e){this.displayController.setVolume(e)},e.prototype.getDuration=function(){return this.displayController.getDuration()},e.prototype.getAdWidth=function(){return this.displayController.getAdWidth()},e.prototype.getAdHeight=function(){return this.displayController.getAdHeight()},e.prototype.getCurrentTime=function(){return this.displayController.getCurrentTime()},e.prototype.getAdSkippableState=function(){return this.displayController.getAdSkippableState()},e.prototype.setStatsRootField=function(e,t){var r;l.stats.setRootFields(((r={})[e]=t,r)),l.stats.event(o({},d.AdSDKEvent.UsingSetStatsRootFieldInPublicController,{data:void 0}))},e.prototype.setStatsRootFields=function(e){l.stats.setRootFields(e)},e.prototype.getCurrentClickability=function(){return s.LOG_STATS&&l.stats.deprecated("PublicControllerGetCurrentClickability","getCurrentClickability is deprecated"),this.displayController.getCurrentClickability()},e.prototype.destroy=function(){this.displayController.destroy()},e.prototype.setGuiVisibility=function(e){l.stats.event(o({},d.AdSDKEvent.PublicControllerSetGuiVisibility,{data:{visible:e}}));var t=this.displayController.gui;e?t.show():t.hide()},e.prototype.addStartErrorHandler=function(){var e=this;this.displayController.on("error",function(t){if(t.code&&c.indexOf(t.code)>-1&&"function"==typeof e.onStartError)try{e.onStartError(t)}catch(e){console.error(e)}})},e}();t.PublicController=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRELOAD_OFFSET=20,t.PRELOAD_MIN_TIME=5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREROLL_THRESHOLD=1},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(25),s=r(24),u=r(305);t.loadMultiroll=function(e,t){return o(this,void 0,n,function(){var r,n;return i(this,function(o){switch(o.label){case 0:return r=s.extractAdConfig(e),[4,a.Vmap.load(r)];case 1:return n=o.sent().adBreaks,[2,new u.MultirollController(r,t,n).getPublicObject()]}})})}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(39),a=r(14),s=r(2),u=r(62),l=r(306),d=r(311),c=r(312),f=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adBreaks=n,o.preroll={loadViewers:function(){return o.prerollController.loadViewers()}},o.midroll={loadViewers:function(e){return o.postrollController.preloadViewers(e),o.midrollController.loadViewers(e)}},o.postroll={loadViewers:function(){return o.postrollController.loadViewers()}},o.prerollController=new c.PrerollController(t,r,u.getAdBreaksByType(o.adBreaks,a.ADType.preroll)),o.midrollController=new l.MidrollController(t,r,u.getAdBreaksByType(o.adBreaks,a.ADType.midroll)),o.postrollController=new d.PostrollController(t,r,u.getAdBreaksByType(o.adBreaks,a.ADType.postroll)),o}return o(t,e),t.prototype.setStatsRootFields=function(e){s.stats.setRootFields(e)},t.prototype.getPublicObject=function(){return{destroy:this.destroy.bind(this),setStatsRootFields:this.setStatsRootFields.bind(this),preroll:this.preroll,postroll:this.postroll,midroll:this.midroll}},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),this.prerollController.destroy(),this.midrollController.destroy(),this.postrollController.destroy()},t}(i.Destroyable);t.MultirollController=f},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var d=r(37),c=r(39),f=r(63),p=r(64),A=r(65),h=r(66),v=r(309),y=r(310),m=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adConfig=t,o.multirollConfig=r,o.preloadedAdViewers=[],o.savePreloadedAdViewers=function(e){var t;o.getIsDestroyed()?A.destroyAdViewers(e.map(h.getAdViewerFromAdViewerWithAdBreak)):(t=o.preloadedAdViewers).push.apply(t,l(e))},o.remainingAdBreaks=l(n),o}return i(t,e),t.prototype.loadViewers=function(e){return a(this,void 0,o,function(){var t,r,n,o,i,a,c,v,y=this;return s(this,function(s){switch(s.label){case 0:return this.getIsDestroyed()?[2,[]]:(t=this.getCurrentAdBreaks(e),r=u(d.separate(t,function(t){var r=t.timeOffset;return e.watchedTime>=r}),2),n=r[0],o=r[1],i=u([n,o].map(function(e){return p.loadAdViewersForAdBreaks(y.adConfig,e)}),2),a=i[0],i[1].then(this.savePreloadedAdViewers),this.preloadFutureAdViewers(e),[4,a]);case 1:return c=s.sent(),v=l(this.getPreloadedAdViewersToPlay(e),c).map(h.getAdViewerFromAdViewerWithAdBreak),this.getIsDestroyed()?(A.destroyAdViewers(v),[2,[]]):[2,f.removeRequiredHtmlControlsAdPods(v,this.multirollConfig.getPreloadParams().videoSlot)]}})})},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),A.destroyAdViewers(this.preloadedAdViewers.map(h.getAdViewerFromAdViewerWithAdBreak))},t.prototype.getPreloadedAdViewersToPlay=function(e){var t=y.getMidrollAdViewersToPlay(e,this.preloadedAdViewers),r=t.currentViewers,n=t.remainingViewers;return this.preloadedAdViewers=n,r},t.prototype.getCurrentAdBreaks=function(e){var t=v.getMidrollAdBreaksToLoad(e,this.multirollConfig.midroll,this.remainingAdBreaks),r=t.current,n=t.remaining;return this.remainingAdBreaks=n,r},t.prototype.preloadFutureAdViewers=function(e){var t=this,r=e.watchedTime,n=this.multirollConfig.midroll.preloadMinTime;this.preloadedAdViewers.forEach(function(e){var o=e.adViewer;e.adBreak.timeOffset-r>=n&&o.preload(t.multirollConfig.getPreloadParams())})},t}(c.Destroyable);t.MidrollController=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(308);t.getPictureInPictureElement=function(e,t){var r=e.pictureInPictureElement;return r||(t&&t.webkitPresentationMode===n.WebkitPresentationMode.pictureInPicture?t:null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(t.WebkitPresentationMode||(t.WebkitPresentationMode={}))},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(113);t.getMidrollAdBreaksToLoad=function(e,t,r){return r.reduce(function(r,o){var s=function(e,t,r){var o=e.timeOffset,i=e.repeatAfter,s=e.maxRepeatCount,u=e.repeatNumber,l=t.watchedTime-(o-r.preloadOffset);if(l<0)return{current:[],remaining:[e]};if(i===a.DEFAULT_REPEAT_AFTER||0===s)return{current:[e],remaining:[]};for(var d=Math.floor(l/i),c=s===a.DEFAULT_MAX_REPEAT_COUNT?1/0:s,f=Math.min(d,c)+1,p=[],A=0;A<f;A++)p.push(n({},e,{timeOffset:o+i*A,maxRepeatCount:0,repeatNumber:u+A}));return{current:p,remaining:c>=f?[n({},e,{timeOffset:o+i*f,maxRepeatCount:s===a.DEFAULT_MAX_REPEAT_COUNT?s:s-f,repeatNumber:u+f})]:[]}}(o,e,t);return{current:i(r.current,s.current),remaining:i(r.remaining,s.remaining)}},{current:[],remaining:[]})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(37);t.getMidrollAdViewersToPlay=function(e,t){var r=e.watchedTime,i=n(o.separate(t,function(e){var t=e.adBreak.timeOffset;return r>=t}),2);return{currentViewers:i[0],remainingViewers:i[1]}}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(133),l=r(15),d=r(39),c=r(132),f=r(63),p=r(64),A=r(65),h=r(66),v=function(e){function t(t,r,n){var i=e.call(this)||this;return i.adConfig=t,i.multirollConfig=r,i.adBreaks=n,i.loadViewers=u.callFirstThenOther(function(){return a(i,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,this.loadAndSaveAdViewers()];case 1:return t.sent(),e=this.adViewers.map(h.getAdViewerFromAdViewerWithAdBreak),[2,f.removeRequiredHtmlControlsAdPods(e,this.multirollConfig.getPreloadParams().videoSlot)]}})})},function(){return o.resolve([])}),i.adViewers=[],i.loadAndSaveAdViewers=l.once(function(){return a(i,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,p.loadAdViewersForAdBreaks(this.adConfig,this.adBreaks)];case 1:return e=t.sent(),this.getIsDestroyed()?(A.destroyAdViewers(e.map(h.getAdViewerFromAdViewerWithAdBreak)),[2]):(this.adViewers=e,[2])}})})}),i}return i(t,e),t.prototype.preloadViewers=function(e){var t=this,r=e.videoType,n=e.duration,o=e.currentTime;if(!this.getIsDestroyed()){var i=n-o,a=this.multirollConfig.postroll,s=a.preloadOffset,u=a.preloadMinTime;r!==c.VideoType.VOD||i>s||(this.loadAndSaveAdViewers(),i>=u&&this.adViewers.forEach(function(e){return e.adViewer.preload(t.multirollConfig.getPreloadParams())}))}},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),A.destroyAdViewers(this.adViewers.map(h.getAdViewerFromAdViewerWithAdBreak))},t}(d.Destroyable);t.PostrollController=v},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(133),l=r(39),d=r(63),c=r(64),f=r(65),p=r(66),A=r(313),h=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adConfig=t,o.multirollConfig=r,o.adBreaks=n,o.prerollRequested=!1,o.getAdViewersPromise=A.NOOP_LOAD_VIEWERS,r.preroll.shouldPreload()&&o.prepareAdViewers(),o}return i(t,e),t.prototype.loadViewers=function(){return this.prepareAdViewers(),this.getAdViewersPromise()},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),this.getAdViewersPromise().then(f.destroyAdViewers)},t.prototype.prepareAdViewers=function(){if(!this.prerollRequested&&!this.getIsDestroyed()){this.prerollRequested=!0;var e=this.loadPrerollViewers();this.getAdViewersPromise=u.callFirstThenOther(function(){return e},A.NOOP_LOAD_VIEWERS)}},t.prototype.loadPrerollViewers=function(){return a(this,void 0,o,function(){var e,t,r,n;return s(this,function(o){switch(o.label){case 0:return[4,c.loadAdViewersForAdBreaks(this.adConfig,this.adBreaks)];case 1:return e=o.sent(),t=e.map(p.getAdViewerFromAdViewerWithAdBreak),this.getIsDestroyed()?(f.destroyAdViewers(t),[2,[]]):(r=this.multirollConfig,n=r.getPreloadParams,(0,r.preroll.shouldPreload)()&&t.forEach(function(e){return e.preload(n())}),[2,d.removeRequiredHtmlControlsAdPods(t,n().videoSlot)])}})})},t}(l.Destroyable);t.PrerollController=h},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_LOAD_VIEWERS=function(){return n.resolve([])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(4);t.initModule=function(e,t){var r,i,a={videoAd:{modules:(r={},r[n.BUILD_VERSION]=(i={},i[e]=t,i),r)}};o.deployObject(a,"ya")}}]);