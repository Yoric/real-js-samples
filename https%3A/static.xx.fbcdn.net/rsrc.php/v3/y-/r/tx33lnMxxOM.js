if (self.CavalryLogger) { CavalryLogger.start_js(["GAIna"]); }

__d("KeyframesEnvironment",["Promise","KeyframesLoop","NavigationMetrics","debounceCore","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=24;var g=1e3/a,h=325,i="tti";b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.EVENT_OCCURRED,function(a,b){a=b.event;return i=a});function j(a){a===void 0&&(a=h);return new(b("Promise"))(function(c){var d=b("debounceCore")(function(a){a.cancel(),c()},a),e=new(b("KeyframesLoop"))(function(a){a>g&&d(e)});d(e)})}var k=new(b("Promise"))(function(a){var c=!1,d=null;d=b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(){d&&(d.remove(),d=null),c||(c=!0,a())})});function l(a){return k.then(function(){return j(a)})}var m=l(),n=!1;b("promiseDone")(m,function(){return n=!0});c={waitForRenderLoopToStabilize:function(a){return j(a)},waitForRenderLoopToStabilizeOncePageIsLoaded:function(a){return l(a)},whenRenderLoopHasBeenStableOnce:function(){return m},hasRenderLoopBeenStableOnce:function(){return n},getCurrentWWWSitePhase:function(){return i}};e.exports=c}),null);