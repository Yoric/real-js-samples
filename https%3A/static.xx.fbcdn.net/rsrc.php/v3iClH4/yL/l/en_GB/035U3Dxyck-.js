if (self.CavalryLogger) { CavalryLogger.start_js(["U1ngl"]); }

__d("CommerceSelfServeUI",[],(function(a,b,c,d,e,f){e.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5}}),null);
__d("PagesManagerProductToolsConstants",[],(function(a,b,c,d,e,f){e.exports={MAX_FEATURED_ITEM_COUNT:10}}),null);
__d("VideoContainerTypeInVideoLibrary",[],(function(a,b,c,d,e,f){e.exports={LEGACY:"LEGACY",CONTAINED_POST_ATTACHMENT:"CONTAINED_POST_ATTACHMENT",SAY_THANKS_DEPRECATED:"SAY_THANKS_DEPRECATED",LOOK_NOW_DEPRECATED:"LOOK_NOW_DEPRECATED",BROADCAST:"BROADCAST",ALBUM_MULTIMEDIA_POST:"ALBUM_MULTIMEDIA_POST",UNLISTED:"UNLISTED",NO_STORY:"NO_STORY",GOODWILL_ANNIVERSARY_DEPRECATED:"GOODWILL_ANNIVERSARY_DEPRECATED",PROFILE_VIDEO:"PROFILE_VIDEO",STORYLINE:"STORYLINE",GROUP_POST:"GROUP_POST",LIVE_PHOTO:"LIVE_PHOTO",TEMP_MULTIMEDIA_POST:"TEMP_MULTIMEDIA_POST",GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED:"GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED",GOODWILL_VIDEO_SHARE:"GOODWILL_VIDEO_SHARE",GOODWILL_VIDEO_PROMOTION:"GOODWILL_VIDEO_PROMOTION",APP_REVIEW_SCREENCAST:"APP_REVIEW_SCREENCAST",VIDEO_COMMENT:"VIDEO_COMMENT",OFFERS_VIDEO:"OFFERS_VIDEO",JOB_APPLICATION_VIDEO:"JOB_APPLICATION_VIDEO",STORYLINE_WITH_EXTERNAL_MUSIC:"STORYLINE_WITH_EXTERNAL_MUSIC",JOB_OPENING_VIDEO:"JOB_OPENING_VIDEO",INSTANT_ARTICLE:"INSTANT_ARTICLE",PRODUCT_VIDEO:"PRODUCT_VIDEO",DIRECTED_POST_ATTACHMENT:"DIRECTED_POST_ATTACHMENT",PROFILE_INTRO_CARD:"PROFILE_INTRO_CARD",ISSUE_MODULE:"ISSUE_MODULE",GOODWILL_VIDEO_TOKEN_REQUIRED:"GOODWILL_VIDEO_TOKEN_REQUIRED",INSTANT_APPLICATION_PREVIEW:"INSTANT_APPLICATION_PREVIEW",REPLACE_VIDEO:"REPLACE_VIDEO",FACECAST_DVR:"FACECAST_DVR",PIXELCLOUD:"PIXELCLOUD",SLIDESHOW_SHAKR:"SLIDESHOW_SHAKR",INSPIRATION_VIDEO:"INSPIRATION_VIDEO",TAROT_DIGEST:"TAROT_DIGEST",SLIDESHOW_ANIMOTO:"SLIDESHOW_ANIMOTO",AUDIO_BROADCAST:"AUDIO_BROADCAST",CULTURAL_MOMENT_DEPRECATED:"CULTURAL_MOMENT_DEPRECATED",PAGES_COVER_VIDEO:"PAGES_COVER_VIDEO",GOODWILL_VIDEO_CONTAINED_SHARE:"GOODWILL_VIDEO_CONTAINED_SHARE",DCO_AD_ASSET_FEED:"DCO_AD_ASSET_FEED",CONTAINED_POST_BROADCAST:"CONTAINED_POST_BROADCAST",QUICK_PROMOTION:"QUICK_PROMOTION",DYNAMIC_ITEM_DISPLAY_BUNDLE:"DYNAMIC_ITEM_DISPLAY_BUNDLE",LIVE_CREATIVE_KIT_VIDEO:"LIVE_CREATIVE_KIT_VIDEO",ALOHA_SUPERFRAME:"ALOHA_SUPERFRAME",ALOHA_CALL_VIDEO:"ALOHA_CALL_VIDEO",PROFILE_COVER_VIDEO:"PROFILE_COVER_VIDEO",PAGE_REVIEW_SCREENCAST:"PAGE_REVIEW_SCREENCAST",GAME_CLIP:"GAME_CLIP",PROFILE_TO_PAGE_UPLOADED_VIDEO:"PROFILE_TO_PAGE_UPLOADED_VIDEO",INSTANT_GAME_CLIP:"INSTANT_GAME_CLIP",SOTTO_CONTENT:"SOTTO_CONTENT"}}),null);
__d("VideoCopyrightRuleConditionType",[],(function(a,b,c,d,e,f){e.exports={UNDEFINED:"UNDEFINED",GEO:"GEO",MONITORING_TYPE:"MONITORING_TYPE",OVERLAP_DURATION:"OVERLAP_DURATION",VIDEO_EXPERIENCE:"VIDEO_EXPERIENCE",PUBLISHER_TYPE:"PUBLISHER_TYPE",MATCH_OVERLAP_PERCENTAGE:"MATCH_OVERLAP_PERCENTAGE",REFERENCE_OVERLAP_PERCENTAGE:"REFERENCE_OVERLAP_PERCENTAGE",PRIVACY:"PRIVACY",VALIDITY_PERIOD:"VALIDITY_PERIOD"}}),null);
__d("VideoCopyrightRuleOperatorType",[],(function(a,b,c,d,e,f){e.exports={UNDEFINED:"UNDEFINED",IS:"IS",IS_NOT:"IS_NOT",IN_SET:"IN_SET",NOT_IN_SET:"NOT_IN_SET",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUAL:"LESS_THAN_OR_EQUAL",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUAL:"GREATER_THAN_OR_EQUAL"}}),null);
__d("CommerceCurrencyInputUtils",["Currency"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=100;a={convertPEFormatToPBFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*c/g:a}return a},convertPBFormatToPEFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*g/c:a}return a}};e.exports=a}),null);
__d("CommerceSelfServeProductTaxRatesTable.react",["ix","cx","fbt","invariant","xuiglyph","AdsNumberInput.react","CommerceUSAStates","Image.react","React","SUIAtlasTheme","SUICheckboxInput.react","SUITextInput.react","XUIButton.react","XUITable.react"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);l=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.state={newRateLocationError:!1,newTaxRateLocation:"",newTaxRatePercentage:0,newIsAppliedToShipping:!1,showNewRateRow:!1},this.$1=function(a,c){return b("React").createElement("tr",{key:"tax_rate_"+a},b("React").createElement("td",null,b("React").createElement("span",null,a)),b("React").createElement("td",null,b("React").createElement(b("AdsNumberInput.react"),{value:this.$3(c.tax_rate,3),suffix:"%",className:"_2263",onChange:function(b){b!==null&&(b=this.$4(b,3),this.$5(a,b,c.is_applied_to_shipping))}.bind(this)})),b("React").createElement("td",null,b("React").createElement(b("SUICheckboxInput.react"),{label:c.is_applied_to_shipping?i._("Yes"):i._("No"),onChange:function(b){this.$5(a,c.tax_rate,b)}.bind(this),theme:b("SUIAtlasTheme"),value:c.is_applied_to_shipping})),b("React").createElement("td",{className:"_5rpt"},b("React").createElement(b("Image.react"),{className:"_ksy _3-9b",src:g("88982"),onClick:function(){this.$6(a)}.bind(this)})))}.bind(this),this.$2=function(){return b("React").createElement("tr",{key:"new_tax_rate_row"},b("React").createElement("td",null,b("React").createElement(b("SUITextInput.react"),{className:"_2263",onChange:function(a){this.setState({newTaxRateLocation:a.toUpperCase()})}.bind(this),theme:b("SUIAtlasTheme"),value:this.state.newTaxRateLocation})),b("React").createElement("td",null,b("React").createElement(b("AdsNumberInput.react"),{value:this.$3(this.state.newTaxRatePercentage,3),suffix:"%",className:"_2263",onChange:function(a){a!==null&&(a=this.$4(a,3),this.setState({newTaxRatePercentage:a}))}.bind(this)})),b("React").createElement("td",null,b("React").createElement(b("SUICheckboxInput.react"),{label:this.state.newIsAppliedToShipping?i._("Yes"):i._("No"),onChange:function(a){this.setState({newIsAppliedToShipping:a})}.bind(this),theme:b("SUIAtlasTheme"),value:this.state.newIsAppliedToShipping})),b("React").createElement("td",{className:"_5rpt"},b("React").createElement(b("XUIButton.react"),{label:i._("Confirm"),use:"confirm",disabled:!this.$7(this.state.newTaxRateLocation),onClick:this.$8})))}.bind(this),this.$6=function(a){var b=this.$9(a),c=this.props.taxRates;delete c[b][a];this.props.onChangeTaxRates(c)}.bind(this),this.$5=function(a,b,c){var d=this.$9(a),e=this.props.taxRates;e[d][a]={tax_rate:b,is_applied_to_shipping:c};this.props.onChangeTaxRates(e)}.bind(this),this.$8=function(){var a=this.state.newTaxRateLocation;this.$5(a,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:"",newIsAppliedToShipping:!1})}.bind(this),this.$9=function(a){this.$7(a)||j(0,4506);if(this.$10(a))return"zip_code";else return"state_abbr"}.bind(this),this.$3=function(a,b){a=Math.round(a*Math.pow(10,b+2));return a/Math.pow(10,b)},this.$4=function(a,b){a=Math.round(a*Math.pow(10,b));return a/Math.pow(10,b+2)},this.$7=function(a){return this.$10(a)||this.$11(a)}.bind(this),this.$10=function(a){var b=/^[0-9]{5}$/;return a.match(b)!==null},this.$11=function(a){var c="STATE_";return c+a in b("CommerceUSAStates")},c}a.prototype.render=function(){"use strict";var a=[];for(var c in this.props.taxRates){var d=this.props.taxRates[c];for(var e in d)a[a.length]=this.$1(e,d[e])}a[a.length]=this.$2();return b("React").createElement("div",null,b("React").createElement(b("XUITable.react"),{outerBorder:!0},b("React").createElement("thead",null,b("React").createElement("tr",null,b("React").createElement("th",null,i._("Location")),b("React").createElement("th",null,i._("Tax rate")),b("React").createElement("th",null,i._("Apply tax to delivery cost?")),b("React").createElement("th",null))),b("React").createElement("tbody",null,a)))};a.propTypes={taxRates:c.object.isRequired,onChangeTaxRates:c.func.isRequired};e.exports=a}),null);
__d("MerchantPaymentsPageProfilePhoto_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MerchantPaymentsPageProfilePhoto_page",type:"Page",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"profileSize",type:"Int"},{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"LinkedField",alias:"photo",name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"profileSize",type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Variable",name:"width",variableName:"profileSize",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("MerchantPaymentsPageProfilePhoto.react",["cssVar","Image.react","PUIFacepileItem.react","React","RelayModern","MerchantPaymentsPageProfilePhoto_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="/images/pages/empty-page-profile-60.png";h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a;a=((a=this.props)!=null?(a=a.page)!=null?(a=a.photo)!=null?(a=a.image)!=null?a.uri:a:a:a:a)||i;return b("React").createElement(b("PUIFacepileItem.react"),{badge:this.props.badge,badgeColor:"#4080ff",itemStyle:"circle",size:"large"},b("React").createElement(b("Image.react"),{src:a}))};function a(){h.apply(this,arguments)}e.exports=c(a,{page:function(){return b("MerchantPaymentsPageProfilePhoto_page.graphql")}})}),null);
__d("ShopOnboardingSupportContactsSetupDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"response_enabled",args:null,storageKey:null}];return{kind:"Fragment",name:"ShopOnboardingSupportContactsSetupDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"MerchantPaymentsPageProfilePhoto_page",args:null},{kind:"LinkedField",alias:"adminInfo",name:"admin_info",storageKey:null,args:null,concreteType:"PageAdminInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"instant_reply_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:a},{kind:"LinkedField",alias:null,name:"away_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:a}]}]}}();e.exports=a}),null);
__d("ShopOnboardingSupportContactsSetupDialog.react",["ix","cx","fbt","BusinessDialogHeader.react","BusinessOnboardingInputGroup.react","CommerceMerchantSettingsUpdateMutation","Link.react","MerchantPaymentsPageProfilePhoto.react","PagesMessagingSettingFieldKey","PagesMessagingSettingSectionKey","PresmaSettingFrameworkUtils","PresmaSettingsKeys","React","RelayFBEnvironment","RelayModern","SEBottomButton.react","SUIBusinessThemeContainer.react","SUICheckboxInput.react","SUIModal.react","SUIModalFillViewportHeight","SUIText.react","SUITextArea.react","SUITextInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","asset","isEmail","nullthrows","suiMargin","ShopOnboardingSupportContactsSetupDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=534,l=445,m="https://www.facebook.com/help/211403042968780";d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.isSettingsLoaded=!1,this.state={awayMessage:null,confirmedEmail:null,confirmedEmailError:null,dialogShown:!0,email:null,emailError:null,emailsValidAndMatch:!1,instantReplyMessage:null,isAwayMessageEnabled:!1,isInstantReplyEnabled:!1,isMessengerEnabled:!0,showCancelConfirmation:!1},this.titleProps={color:"secondary",display:"block",size:"body2",style:{marginBottom:"4px"},textAlign:"left",weight:"bold"},this.emailChanged=function(a){this.setState(function(c){return{email:a,emailsValidAndMatch:!!(b("isEmail")(a)&&c.confirmedEmail&&a===c.confirmedEmail)}})}.bind(this),this.confirmedEmailChanged=function(a){this.setState(function(c){return{confirmedEmail:a,emailsValidAndMatch:!!(b("isEmail")(a)&&c.email&&c.email===a)}})}.bind(this),this.validateFields=function(){var a=null,c=null;!this.state.email||!b("isEmail")(this.state.email)?a=i._("Enter a valid email address"):this.state.email!==this.state.confirmedEmail&&(c=i._("Make sure that the email addresses match"));this.setState({emailError:a,confirmedEmailError:c})}.bind(this),this.resetEmailError=function(){this.setState({emailError:null})}.bind(this),this.resetConfirmedEmailError=function(){this.setState({confirmedEmailError:null})}.bind(this),this.saveAndClose=function(){var a=this.props.pageID;this.setState({dialogShown:!1});b("CommerceMerchantSettingsUpdateMutation").commit(b("RelayFBEnvironment"),{variables:{pageID:b("nullthrows")(a),data:{contact_email:this.state.email,support_contacts_confirmed:!0}}});b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").INSTANT_REPLIES,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").IS_ENABLED},this.state.isMessengerEnabled&&this.state.isInstantReplyEnabled);b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").AWAY_STATUS,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").IS_ENABLED},this.state.isMessengerEnabled&&this.state.isAwayMessageEnabled);this.state.isMessengerEnabled&&this.state.isInstantReplyEnabled&&b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").INSTANT_REPLIES,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").AUTO_REPLY_MESSAGE},this.state.instantReplyMessage);this.state.isMessengerEnabled&&this.state.isAwayMessageEnabled&&b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").AWAY_STATUS,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").AUTO_REPLY_MESSAGE},this.state.awayMessage);this.props.onCompleted&&this.props.onCompleted()}.bind(this),this.tryToCancelDialog=function(){this.setState({showCancelConfirmation:!0})}.bind(this),this.cancelDialog=function(){this.setState({showCancelConfirmation:!1,dialogShown:!1}),this.props.onCancelled&&this.props.onCancelled()}.bind(this),this.undoCancelDialog=function(){this.setState({showCancelConfirmation:!1})}.bind(this),c}a.prototype.getHeader=function(a){return b("React").createElement(b("BusinessDialogHeader.react"),{image:b("React").createElement(b("MerchantPaymentsPageProfilePhoto.react"),{badge:g("407222"),page:a}),subtitle:i._("Enter an email address that you check regularly so that your customers can contact you and get the help they need. Learn about our {terms and conditions link}.",[i._param("terms and conditions link",b("React").createElement(b("Link.react"),{href:m,target:"_blank"},i._("merchants' responsibilities")))]),title:i._("What's the best way for your customers to contact you?"),useNewStyle:!0})};a.prototype.getInputEmailAddress=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Email address")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.emailError,name:"email",value:this.state.email,onBlur:this.validateFields,onChange:this.emailChanged,onFocus:this.resetEmailError})))};a.prototype.getInputEmailAddressConfirmation=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Confirm email address")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.confirmedEmailError,name:"confirmedEmail",value:this.state.confirmedEmail,onBlur:this.validateFields,onChange:this.confirmedEmailChanged,onFocus:this.resetConfirmedEmailError})))};a.prototype.getEnableMessenger=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Messenger")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{label:i._("Enable Messenger for more immediate responses."),value:!!this.state.isMessengerEnabled,onChange:function(){this.setState(function(a){return{isMessengerEnabled:!a.isMessengerEnabled}})}.bind(this)})))};a.prototype.getSectionInstantReply=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Instant reply")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{disabled:!this.state.isMessengerEnabled,label:i._("This greeting is sent the first time customers start a conversation with you."),value:!!this.state.isInstantReplyEnabled,onChange:function(){this.setState(function(a){return{isInstantReplyEnabled:!a.isInstantReplyEnabled}})}.bind(this)}),b("React").createElement(b("SUITextArea.react"),{disabled:!this.state.isMessengerEnabled||!this.state.isInstantReplyEnabled,margin:"_3-8x",placeholder:"Hi Ryan, thanks for getting in touch.",value:this.state.instantReplyMessage,onChange:function(a){this.setState({instantReplyMessage:a})}.bind(this)})))};a.prototype.getSectionAwayMessage=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Away message")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{disabled:!this.state.isMessengerEnabled,label:i._("Let people know that you'll be less responsive outside working hours."),value:!!this.state.isAwayMessageEnabled,onChange:function(){this.setState(function(a){return{isAwayMessageEnabled:!a.isAwayMessageEnabled}})}.bind(this)}),b("React").createElement(b("SUITextArea.react"),{disabled:!this.state.isMessengerEnabled||!this.state.isAwayMessageEnabled,margin:"_3-8x",placeholder:"Thanks for getting in touch! We'll get back to you soon.",value:this.state.awayMessage,onChange:function(a){this.setState({awayMessage:a})}.bind(this)})))};a.prototype.getSaveButton=function(){return b("React").createElement(b("SEBottomButton.react"),{isDisabled:!this.state.emailsValidAndMatch,label:i._("Save"),onClick:this.saveAndClose})};a.prototype.getCancelConfirmationDialog=function(){return b("React").createElement(b("XUIDialog.react"),{shown:this.state.showCancelConfirmation,width:l},b("React").createElement(b("XUIDialogTitle.react"),null,i._("Your product won't be added")),b("React").createElement(b("XUIDialogBody.react"),null,i._("If you leave this page without setting up customer support, your product won't be added.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.cancelDialog}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:"Return to Page",size:"large",use:"confirm",onClick:this.undoCancelDialog})))};a.prototype.loadMessageSettings=function(a){var b;if(this.isSettingsLoaded)return;b=((b=a)!=null?(b=b.away_response)!=null?b.response_enabled:b:b)||!1;a=((a=a)!=null?(a=a.instant_reply_response)!=null?a.response_enabled:a:a)||!1;this.setState({isAwayMessageEnabled:b,isInstantReplyEnabled:a});this.isSettingsLoaded=!0};a.prototype.render=function(){if(!this.state.dialogShown)return null;this.props.onDialogLoaded&&this.props.onDialogLoaded();this.loadMessageSettings(b("nullthrows")(this.props.page.adminInfo));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null,SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:null,isFullBleed:!0,isShown:!this.state.showCancelConfirmation,label:"Set Up Customer Suppot Contact Info",width:k,onHide:this.tryToCancelDialog},this.getHeader(b("nullthrows")(this.props.page)),b("React").createElement("div",{className:"_4wos"},this.getInputEmailAddress(),this.getInputEmailAddressConfirmation(),this.getEnableMessenger(),this.getSectionInstantReply(),this.getSectionAwayMessage(),this.getSaveButton()))),this.getCancelConfirmationDialog())};e.exports=c(a,{page:function(){return b("ShopOnboardingSupportContactsSetupDialog_page.graphql")}})}),null);
__d("ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"profileSize",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"ScalarField",alias:null,name:"response_enabled",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopOnboardingSupportContactsSetupDialog_page",args:null}]}]},operation:{kind:"Operation",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"photo",name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"profileSize",type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Variable",name:"width",variableName:"profileSize",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c]},{kind:"LinkedField",alias:"adminInfo",name:"admin_info",storageKey:null,args:null,concreteType:"PageAdminInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"instant_reply_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"away_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:d}]},c]}]},params:{operationKind:"query",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",id:"1681675708620766",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ShopOnboardingSupportContactsSetupDialogContainer.react",["PixelRatio","PUIFacepileItem.react","React","RelayFBEnvironment","RelayModern","ShopOnboardingSupportContactsSetupDialog.react","ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql")}),render:function(a){var c=a.props;a=a.error;return a||!c?null:b("React").createElement(b("ShopOnboardingSupportContactsSetupDialog.react"),babelHelpers["extends"]({pageID:this.props.pageID,onCancelled:this.props.onCancelled,onCompleted:this.props.onCompleted,onDialogLoaded:this.props.onDialogLoaded},c))}.bind(this),variables:{pageID:this.props.pageID,profileSize:b("PUIFacepileItem.react").FACEPILE_SIZE.large,scale:b("PixelRatio").get()}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PageProductComposerDialogLoaderQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"PageProductComposerDialogLoaderQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"PageProductComposerDialog_page",args:null}]}]},operation:{kind:"Operation",name:"PageProductComposerDialogLoaderQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"isTieredShippingEnabled",name:"is_tiered_shipping_enabled",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},d,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[d]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null},c,{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]},c]}]},params:{operationKind:"query",name:"PageProductComposerDialogLoaderQuery",id:"1629372170504484",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PageProductComposerDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"isTieredShippingEnabled",name:"is_tiered_shipping_enabled",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"PageProductComposerShopLevelShippingOptions_page",args:null},{kind:"FragmentSpread",name:"PageProductComposerTieredShippingOptions_page",args:null}]};e.exports=a}),null);
__d("PageProductComposerShippingOptionRow_shippingOption.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerShippingOptionRow_shippingOption",type:"FixedCostShippingOption",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"PageProductComposerShopLevelShippingOptions_page",args:null}]}]},operation:{kind:"Operation",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]}]}]},c]},{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]}]}]},params:{operationKind:"query",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",id:"1796740013695113",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PageProductComposerShopLevelShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PageProductComposerShopLevelShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[a,{kind:"FragmentSpread",name:"PageProductComposerShippingOptionRow_shippingOption",args:null}]}]}]}]},{kind:"FragmentSpread",name:"ShopSettingsAddShippingProfile_settings",args:null}]}]}}();e.exports=a}),null);
__d("PageProductComposerTieredShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerTieredShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"ShopSettingsTieredShippingOptions_page",args:null}]};e.exports=a}),null);
__d("RightsManagerDegradedServiceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RightsManagerDegradedServiceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RightsManagerDegradedServiceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RightsManagerDegradedServiceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdditionalInfo=function(a){this.$1.additional_info=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setCopyrightID=function(a){this.$1.copyright_id=a;return this};a.prototype.setCopyrightRuleID=function(a){this.$1.copyright_rule_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExceptionClass=function(a){this.$1.exception_class=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setExceptionStack=function(a){this.$1.exception_stack=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setMatchID=function(a){this.$1.match_id=a;return this};a.prototype.setMatchedAssetID=function(a){this.$1.matched_asset_id=a;return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};a.prototype.setReferenceAssetID=function(a){this.$1.reference_asset_id=a;return this};a.prototype.setRightsHolderID=function(a){this.$1.rights_holder_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={additional_info:!0,copyright_id:!0,copyright_rule_id:!0,event:!0,exception_class:!0,exception_message:!0,exception_stack:!0,match_id:!0,matched_asset_id:!0,message:!0,reference_asset_id:!0,rights_holder_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideoAssetWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoAssetWaterfallLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setComposerDialogVersion=function(a){this.$1.composer_dialog_version=a;return this};a.prototype.setCrosspostingPageIds=function(a){this.$1.crossposting_page_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsBulk=function(a){this.$1.is_bulk=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoAssetIDOverride=function(a){this.$1.video_asset_id_override=a;return this};a.prototype.setVideoAssetIds=function(a){this.$1.video_asset_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoIds=function(a){this.$1.video_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={composer_dialog_version:!0,crossposting_page_ids:!0,error:!0,event:!0,is_bulk:!0,page_id:!0,source:!0,time:!0,vc:!0,video_asset_id_override:!0,video_asset_ids:!0,video_id:!0,video_ids:!0,weight:!0};e.exports=a}),null);
__d("CurrencyInput.atlas",["cx","Currency","NumberInput.atlas","React","Text.atlas","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("React").Element;c=b("React").PureComponent;d={isZeroValidValue:!1};f=babelHelpers["extends"]({},d,{isZeroValidValue:!1});g=babelHelpers.inherits(a,c);h=g&&g.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.binding.update(a)}.bind(this),b}a.prototype.render=function(){return b("React").createElement(j,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this.$1,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value})};a.defaultProps=f;g=babelHelpers.inherits(j,c);i=g&&g.prototype;function j(a,b){i.constructor.call(this,a,b),this.$1=function(a){this.props.onChange&&this.props.onChange(a||0)}.bind(this),this.$1=this.$1.bind(this)}j.prototype.render=function(){var a=this.props.value;a||(a=this.props.isZeroValidValue?0:null);var c=null,d=null;if(this.props.currency){var e=b("Currency").getSymbol(this.props.currency),f=e.length>1;c=b("React").createElement(b("Text.atlas"),{className:"_3mef"+(a===null?" _35ka":"")},e);d="_35kc"+(f?"":" _4l4k")+(f?" _4l4l":"")}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},b("React").createElement(b("NumberInput.atlas"),{className:"_ty0",disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.$1,value:a}),c)};j.defaultProps=d;j.FormWrapper=a;e.exports=j}),null);
__d("CommerceInventoryToggle.react",["cx","fbt","FBToggleSwitch.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"CommerceInventoryToggle",propTypes:{disabled:a.bool.isRequired,inventory:a.number.isRequired,setInventoryInfo:a.func},render:function(){var a=this.props.inventory>0?h._("In stock"):h._("Out of stock");return b("React").createElement("div",{className:"_3-95"},b("React").createElement("div",{className:"_2pim"},b("React").createElement(b("FBToggleSwitch.react"),{disabled:this.props.disabled,animate:!0,checked:this.props.inventory>0,onToggle:this.props.setInventoryInfo}),b("React").createElement("span",{className:"_3jn"},a,b("React").createElement(b("SUISimplePopover.react"),{content:h._("Mark this product as in stock or out of stock"),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")}))))}});e.exports=c}),null);
__d("CommerceInventoryAvailabilityOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVENTORY_IN_STOCK:100,INVENTORY_OUT_OF_STOCK:0})}),null);
__d("CommerceProductVariantType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COLOR:"Color",CUSTOM:"Custom",EDITION:"Edition",FIT:"Fit",FLAVOR:"Flavor",FORMAT:"Format",LENGTH:"Length",MATERIAL:"Material",MODEL:"Model",PLATFORM:"Platform",SCENT:"Scent",SIZE:"Size",WIDTH:"Width"})}),null);
__d("CommerceSelfServeSection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",IN_STOCK_TOGGLE:"in_stock_toggle",PRODUCT_VISIBILITY:"product_visibility",RETURN_POLICY:"return_policy",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price",CATEGORY:"category"})}),null);
__d("PageCommerceProductVariantPage.react",["ix","cx","fbt","glyph","invariant","AccessibleTableParts.react","AdsCurrencyInput_DEPRECATED.react","CommerceCurrencyInputUtils","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceProductVariantType","CommerceSelfServeSection","CommerceUI","DummySearchSource","FreeformSearchSource","Image.react","Layout.react","Link.react","NumberInput.atlas","React","SearchableEntry","SUIBusinessTheme","SUISimplePopover.react","XUISingleSelector.react","XUITable.react","XUITokenizer.react","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();a=b("React").PropTypes;var l=b("AccessibleTableParts.react").BodyRow,m=b("AccessibleTableParts.react").HeadRow,n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=b("XUISingleSelector.react").Option;c=b("React").createClass({displayName:"PageCommerceProductVariantPage",propTypes:{currencyCode:a.string.isRequired,defaultVariantPrice:a.number,getPriceError:a.func.isRequired,isOnSale:a.bool.isRequired,inventoryType:a.string.isRequired,setVariantInfo:a.func.isRequired,variants:a.arrayOf(a.shape({label:a.string,options:a.arrayOf(a.string)})).isRequired,variantItems:a.objectOf(a.shape({properties:a.object,price:a.number.isRequired,salePrice:a.number.isRequired,inventory:a.number,productID:a.number})).isRequired},_cachedItems:{},_deepClone:function(a){return JSON.parse(JSON.stringify(a))},getInitialState:function(){this._cachedItems=this._deepClone(this.props.variantItems);return{searchSource:new(b("FreeformSearchSource"))(new(b("DummySearchSource"))(),function(a){return a},0)}},render:function(){var a=null;this.props.variants.length<b("CommerceUI").MAX_VARIANTS&&(a=b("React").createElement(b("Link.react"),{onClick:this._addNewVariantInput},i._("Add option")));return b("React").createElement("div",{className:"_3-8j"},b("React").createElement("div",{ref:"variant_input_list"},this.props.variants.map(function(a,b){return this._getVariantInput(a,b,this._getVariantLabels())}.bind(this))),a,this._getVariantsTable())},_getVariantInput:function(a,c,d){return b("React").createElement("div",{key:"variant"+c,className:"_3-95"},b("React").createElement(b("Layout.react"),null,b("React").createElement(n,null,this._getVariantOptions(a,c,d)),b("React").createElement(o,{className:"_2pis"},b("React").createElement(b("XUITokenizer.react"),{entries:this._getTokenizerEntries(a),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,a,c),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,a,c),tokenizeQueryString:this._tokenizeQueryString.bind(this,a,c),selectOnBlur:!0})),b("React").createElement(n,null,b("React").createElement(b("Image.react"),{className:"_11dw",onClick:this._removeVariant.bind(this,a,c),src:g("101449")}))))},_getVariantsTable:function(){__p&&__p();if(b("isEmpty")(this.props.variants))return null;var a=[];for(var c in this.props.variantItems){var d=this.props.variantItems[c],e=d.properties,f=[];this.props.variants.forEach(function(a,c){a=e&&e[a.label]?e[a.label]:"";f.push(b("React").createElement("td",{className:"_2ncv",key:c},a))});f.push(b("React").createElement("td",{width:"50",key:c+"inventory"},this._getInventoryInput(c,d.inventory)));var g=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(d.price,this.props.currencyCode),h=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(d.salePrice,this.props.currencyCode);f.push(b("React").createElement("td",{width:"50",key:c+"price"},b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,c),value:g!==null?g:0,xuiError:this.props.getPriceError(d.price)})));this.props.isOnSale&&f.push(b("React").createElement("td",{width:"50",key:c+"salePrice"},b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,c),value:h!==null?h:0,xuiError:this.props.getPriceError(d.salePrice)})));a.push(b("React").createElement(l,{key:c},f))}var j=[];this.props.variants.forEach(function(a,c){j.push(b("React").createElement("th",{key:a.label+c},this._getVariantLabelDescription(String(a.label))))}.bind(this));j.push(b("React").createElement("th",{key:"inventory"},i._("Inventory")));j.push(b("React").createElement("th",{key:"price"},i._("Price")));this.props.isOnSale&&j.push(b("React").createElement("th",{key:"salePrice"},i._("Sale price"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("You can disable individual \"sale prices\" by setting them as equal to regular \"prices\"."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})));return b("React").createElement(b("XUITable.react"),{outerBorder:!0,className:"_2ncw"},b("React").createElement("thead",null,b("React").createElement(m,null,j)),b("React").createElement("tbody",null,a))},_updateVariantPrice:function(a,c){c=b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(c,this.props.currencyCode);this._updateVariantItem(a,"price",c)},_getInventoryInput:function(a,c){return this.props.inventoryType===b("CommerceSelfServeSection").IN_STOCK_TOGGLE?b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:!1,inventory:c!==null?c:0,setInventoryInfo:function(c){c=c?b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:b("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK;this._updateVariantItem(a,"inventory",c)}.bind(this)}):b("React").createElement(b("NumberInput.atlas"),{isZeroValidValue:!0,name:"inventory",nonnegative:!0,value:c,formatNumber:!1,onValueUpdated:this._updateVariantItem.bind(this,a,"inventory")})},_updateVariantSalePrice:function(a,c){c=b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(c,this.props.currencyCode);this._updateVariantItem(a,"salePrice",c)},_updateVariantItem:function(a,b,c){var d=this.props.variantItems;d[a][b]=c;this._cachedItems[a][b]=c;this.props.setVariantInfo({variantItems:d})},_getVariantItems:function(a){__p&&__p();var b={};if(a.length===0)return b;this._getVariantCombos(a.slice(0)).forEach(function(a){var c=[];for(var d in a)c.push(d+a[d]);c.sort();c=JSON.stringify(c);c in this._cachedItems?b[c]=this._deepClone(this._cachedItems[c]):(b[c]={properties:a,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0},this._cachedItems[c]=this._deepClone(b[c]))}.bind(this));return b},_getVariantCombos:function(a){__p&&__p();if(a.length===0)return[{}];var b=[],c=a.shift(),d=this._getVariantCombos(a.slice(0));if(c.options.length==0)return d;c.options.forEach(function(a){d.forEach(function(d){d=Object.assign({},d);d[c.label]=a;b.push(d)})});return b},_getTokenizerEntries:function(a){return a.options.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a})})},_onRemoveVariantOptionAttempt:function(a,b,c){c=c.getTitle().trim();c=a.options.indexOf(c);c>=0&&a.options.splice(c,1);this._updateVariant(a,b)},_onAddVariantOptionAttempt:function(a,b,c){c=c.getTitle().trim();if(a.options.indexOf(c)>=0||c.length===0)return;a.options.push(c);this._updateVariant(a,b)},_updateVariant:function(a,b){var c=this.props.variants;c[b]=a;b=this._getVariantItems(c);this.props.setVariantInfo({variants:c,variantItems:b})},_tokenizeQueryString:function(a,c,d){if(!d||!d.includes(","))return null;d=d.split(",").filter(function(a){return a!==""});var e=d.pop();d.map(function(d){this._onAddVariantOptionAttempt(a,c,new(b("SearchableEntry"))({uniqueID:d,title:d}))}.bind(this));return new(b("SearchableEntry"))({uniqueID:e,title:e})},_addNewVariantInput:function(){var a=this.props.variants;a.push(this._getDefaultVariant());this.props.setVariantInfo({variants:a,variantItems:this._getVariantItems(a)})},_removeVariant:function(a,b){a=this.props.variants;a.splice(b,1);this.props.setVariantInfo({variants:a,variantItems:this._getVariantItems(a)})},_getVariantLabels:function(){return this.props.variants.map(function(a){return String(a.label)})},_getDefaultVariant:function(){var a=this._getVariantLabels(),c;for(var d in b("CommerceProductVariantType")){var e=b("CommerceProductVariantType")[d];if(a.indexOf(e)===-1){c=e;break}}return{label:c,options:[]}},_getVariantOptions:function(a,c,d){var e=[];for(var f in b("CommerceProductVariantType")){var g=b("CommerceProductVariantType")[f];if(a.label!==g&&d.indexOf(g)!==-1)continue;e.push(b("React").createElement(p,{key:f+c,value:g},this._getVariantLabelDescription(g)))}return b("React").createElement(b("XUISingleSelector.react"),{className:"_11dy",onChange:this._onSelectorChange.bind(this,a,c),value:a.label,size:"large"},e)},_getVariantLabelDescription:function(a){__p&&__p();var c=a.toUpperCase();Object.prototype.hasOwnProperty.call(b("CommerceProductVariantType"),c)||k(0,4640);switch(b("CommerceProductVariantType")[c]){case b("CommerceProductVariantType").SIZE:return i._("Size");case b("CommerceProductVariantType").COLOR:return i._("Colour");case b("CommerceProductVariantType").MATERIAL:return i._("Material");case b("CommerceProductVariantType").LENGTH:return i._("Length");case b("CommerceProductVariantType").FIT:return i._("Fit");case b("CommerceProductVariantType").WIDTH:return i._("Width");case b("CommerceProductVariantType").SCENT:return i._("Scent");case b("CommerceProductVariantType").FLAVOR:return i._("Flavour");case b("CommerceProductVariantType").MODEL:return i._("Model");case b("CommerceProductVariantType").FORMAT:return i._("Format");case b("CommerceProductVariantType").PLATFORM:return i._("Platform");case b("CommerceProductVariantType").EDITION:return i._("Edition");default:return a}},_onSelectorChange:function(a,b,c){var d=this.props.variants;d[b].label=c.value;this.props.setVariantInfo({variants:d,variantItems:this._getVariantItems(d)});a.label=c.value;this._updateVariant(a,b)}});e.exports=c}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/product_delete/",{catalog_item_ids:{type:"FBIDVector"}})}),null);
__d("XPagesManagerProductUpdateInventoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/update_inventory/",{product_group_ids:{type:"IntVector"},inventory_in_stock:{type:"Bool",defaultValue:!1}})}),null);
__d("PageProductActions",["fbt","ActorURI","AsyncRequest","PageContentTabCommonConfig","PageContentTabDispatcher","PageContentTabLoadingDialog","XPagesManagerProductDeleteController","XPagesManagerProductUpdateInventoryController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={deleteProducts:function(a,c,d){b("PageContentTabLoadingDialog").show();var e=b("ActorURI").create(b("XPagesManagerProductDeleteController").getURIBuilder().setFBIDVector("catalog_item_ids",a).getURI(),c);new(b("AsyncRequest"))(e).setMethod("POST").setHandler(function(d){a.forEach(function(a){return b("PageContentTabDispatcher").handlePostRemoved(c,a)})}).setFinallyHandler(function(){b("PageContentTabLoadingDialog").hide(),d&&d()}).send()},deleteProductsWithConfirmation:function(a,c,d){var e=a.length===1?g._("Deleting this product will remove it from your shop"):g._("Deleting these products will remove them from your shop");b("PageContentTabCommonConfig").showConfirmationDialog(g._({"Product":"Delete product?","Products":"Delete products?"},[g._enum(a.length===1?"Product":"Products",{Product:"Product",Products:"Products"})]),e,g._({"product":"Delete Product","products":"Delete Products"},[g._enum(a.length===1?"product":"products",{product:"product",products:"products"})]),h.deleteProducts.bind(h,a,c,d),null)},MarkStockWithConfirmation:function(a,c,d,e){var f=c.map(function(a){return a.id}),i=!1;c.forEach(function(a){a.products.data.length>1&&(i=!0)});var j=null;d?j=i?g._({"product":"Mark product as in stock. All variants will be affected","products":"Mark products as in stock. All variants will be affected"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):g._({"product":"Mark product as in stock","products":"Mark products as in stock"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):j=i?g._({"product":"Mark product as out of stock. All variants will be affected","products":"Mark products as out of stock. All variants will be affected"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):g._({"product":"Mark product as out of stock","products":"Mark products as out of stock"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]);f=d?g._("Mark as in stock"):g._("Mark as out of stock");var k=d?g._("Mark as in stock"):g._("Mark as out of stock");b("PageContentTabCommonConfig").showConfirmationDialog(f,j,k,h.MarkStockProducts.bind(h,a,d,c,e),null,null)},MarkStockProducts:function(a,c,d,e){__p&&__p();b("PageContentTabLoadingDialog").show();var f=d.map(function(a){return a.id});f=b("ActorURI").create(b("XPagesManagerProductUpdateInventoryController").getURIBuilder().setIntVector("product_group_ids",f).setBool("inventory_in_stock",c).getURI(),a);new(b("AsyncRequest"))(f).setMethod("POST").setHandler(function(a){var c=a.payload;d.forEach(function(a){if(a.id in c){var d=a.products.data[0];d.inventory=c[a.id];d.commerce_settings&&(d.commerce_settings.inventory=d.inventory,d.commerce_settings.total_inventory=d.inventory);b("PageContentTabDispatcher").handlePostChanged(a)}})}).setFinallyHandler(function(){b("PageContentTabLoadingDialog").hide(),e&&e()}).send()}};e.exports=h}),null);
__d("CustomizationTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text"})}),null);
__d("PageProductComposerCustomizationOptionsInputs.react",["ix","cx","fbt","CommerceUI","CustomizationTypes","FDSText.react","Image.react","Layout.react","Link.react","React","XUITextInput.react","asset","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=120;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){return function(b){var c=this.props.customizations;c=c.update(a,function(a){return babelHelpers["extends"]({},a,{prompt:b.target.value})});this.props.onCustomizationsChange(c)}.bind(this)}.bind(this),this.$2=function(a,c){var d="customization"+c;return b("React").createElement("div",{className:"_3-95",key:d},b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.props.isDisabled,maxLength:m,name:d,onChange:this.$1(c),placeholder:i._("Enter a customisation prompt"),value:a.prompt})),b("React").createElement(k,null,b("React").createElement(b("Image.react"),{className:"_73ks",onClick:this.$3(c),src:g("497560")}))))}.bind(this),this.$3=function(a){return function(b){b=this.props.customizations;b=b.remove(a);this.props.onCustomizationsChange(b)}.bind(this)}.bind(this),this.$4=function(){var a=this.props.customizations;a=a.push({prompt:"",type:b("CustomizationTypes").TEXT});this.props.onCustomizationsChange(a)}.bind(this),c}a.prototype.render=function(){var a=this.props.customizations.size<b("CommerceUI").MAX_CUSTOMIZATIONS?b("React").createElement(b("FDSText.react"),{size:"meta1"},b("React").createElement(b("Link.react"),{onClick:this.$4},i._("Add customisation option"))):null;return b("React").createElement("div",{className:"_4qx"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Add customisations that can be made to your product. The text entered here will be directly shown as prompts when a customer places an order.")),b("React").createElement("div",{className:"_3-8w"},this.props.customizations.map(this.$2)),a)};e.exports=a}),null);
__d("BOFSellerLoggingSources",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_SECTION:"AddSection",DEV_TEST:"DevTest",FINISH_SETUP_BANNER:"FinishSetupBanner",GRAPH_API:"GraphApi",MARKETPLACE_COMPOSER:"MarketplaceComposer",NLU_BANNER:"NLUBanner",PAGE_CARD:"PageCard",PAGE_COMPOSER:"PageComposer",PRODUCT_FEED:"ProductFeed",PRODUCT_TAGGING_TYPEAHEAD:"ProductTaggingTypeahead",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_EDIT:"ShopEdit",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"})}),null);
__d("CommerceB2CUnsupportedCurrencies",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CNY:"CNY",CUC:"CUC",FBZ:"FBZ",IRR:"IRR",KPW:"KPW",SDG:"SDG",SYP:"SYP"})}),null);
__d("CommerceCurrencySelector.react",["CommerceB2CUnsupportedCurrencies","CurrencyConfig","React","XUISingleSelector.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("XUISingleSelector.react").Option;c=b("React").PropTypes;var i=200,j="FBZ";g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.$1=function(a){return Object.values(b("CommerceB2CUnsupportedCurrencies")).indexOf(a)!==-1};a.prototype.$2=function(){var a=b("CurrencyConfig").allCurrenciesByCode,c=Object.keys(a);return c.map(function(b){return a[b]}).filter(function(a){return a.iso!==j&&a.name!==null}).sort(function(a,b){return a.name.localeCompare(b.name)})};a.prototype.render=function(){var a=this.$2(),c=this.props.selectedCurrency;a=a.filter(function(a){return!this.$1(a.iso)}.bind(this));this.$1(c)&&(c="USD");a=a.map(function(a){return b("React").createElement(h,{key:a.iso,value:a.iso},a.name)});return b("React").createElement(b("XUISingleSelector.react"),{maxheight:i,onChange:this.props.onChange,size:this.props.size,value:c},a)};function a(){g.apply(this,arguments)}a.propTypes={onChange:c.func.isRequired,selectedCurrency:c.string.isRequired,selectedPaymentProvider:c.number,size:c.oneOf(["small","medium","large","xlarge","xxlarge"])};e.exports=a}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:49e5,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:49e6,TAX_ITEM_CODE_COMMERCE_CLOTHING:531e5,TAX_ITEM_CODE_COMMERCE_SHOES:5311e4,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:5312e4,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:5313e4,TAX_ITEM_CODE_COMMERCE_JEWELRY:541e5,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1})}),null);
__d("PageProductComposerMarketplaceCategorySelector.react",["cx","fbt","BUIFormSelector.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("BUIFormSelector.react").Option;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.categories.map(function(a){return b("React").createElement(j,{value:a.id,key:a.id},a.text)});return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},h._("Product category")),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",onChange:function(a){return this.props.onCategoryClick(a.value)}.bind(this),value:this.props.value},a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PageProductComposerReturnPolicy.react",["ix","cx","fbt","BUIFormSelector.react","CommerceSelfServeReturnPolicyOptions","FDSText.react","Image.react","Link.react","React","ShopSettingsReturnPolicyModal.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("BUIFormSelector.react").Option,l=-1,m=0,n="/business/help/211403042968780",o=[b("CommerceSelfServeReturnPolicyOptions").RETURN_30_DAYS];c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDialogShown:!1,returnPolicyTimeOptions:o},this.onChange=function(a){if(a.value===l){this.setState({isDialogShown:!0});return}this.props.onReturnPolicyTimeChange({value:a.value})}.bind(this),this.onDialogHide=function(){this.setState({isDialogShown:!1}),this.props.onReturnPolicyTimeChange({value:this.props.selectedReturnPolicyTime})}.bind(this),this.onDialogSave=function(a){this.setState({isDialogShown:!1}),this.props.onReturnPolicyTimeChange({value:a})}.bind(this),b}a.getDerivedStateFromProps=function(a,b){b=b.returnPolicyTimeOptions;a.selectedReturnPolicyTime!==m&&!b.includes(a.selectedReturnPolicyTime)&&b.push(a.selectedReturnPolicyTime);return{returnPolicyTimeOptions:b}};a.prototype.render=function(){var a=null;this.props.settingsURI&&(a=b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})));var c=this.state.returnPolicyTimeOptions.sort(function(a,b){return a-b}).map(function(a){return b("React").createElement(k,{key:a,value:a},i._("{Number of days} days",[i._param("Number of days",a)]))});this.props.isFinalSaleEnabled&&c.push(b("React").createElement(k,{key:m,value:m},i._("Final sale")));c.push(b("React").createElement(k,{key:l,value:l},i._("Create custom")));var d=this.state.isDialogShown?b("React").createElement(b("ShopSettingsReturnPolicyModal.react"),{isShown:this.state.isDialogShown,onHide:this.onDialogHide,onSave:this.onDialogSave}):null;return b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Returns policy"),a),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Items must be returned to you within the time period you choose below, calculated from the day on which your item is delivered to the customer. {Learn More link}.",[i._param("Learn More link",b("React").createElement(b("Link.react"),{href:n,target:"_blank"},i._("Learn more")))]))),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",disabled:this.props.isDisabled,onChange:this.onChange,value:this.props.selectedReturnPolicyTime},c),d)};e.exports=a}),null);
__d("PageProductComposerShippingOptions.react",["ix","cx","fbt","CommerceSelfServeUI","CurrencyInput.atlas","FDSText.react","Image.react","Link.react","React","XUIText.react","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(){var a=this.props.shippingOptions;a[a.length]=this.$1();this.props.onShippingOptionsChange(a)}.bind(this),b}a.prototype.UNSAFE_componentWillMount=function(){this.props.shippingOptions.length===0&&this.props.onShippingOptionsChange([this.$1()])};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.shippingOptions.length===0&&this.props.onShippingOptionsChange([this.$1()])};a.prototype.$1=function(){return{shipping_country:"US",shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null}};a.prototype.$3=function(a){var b=this.props.shippingOptions;b.splice(a,1);this.props.onShippingOptionsChange(b);b=a>0?a-1:0;this.refs[b].focusInput()};a.prototype.$4=function(a,b){var c=this.props.shippingOptions;c[a].shipping_service=b;this.props.onShippingOptionsChange(c)};a.prototype.$5=function(a,b){var c=this.props.shippingOptions;c[a].shipping_price_value=b;this.props.onShippingOptionsChange(c)};a.prototype.render=function(){__p&&__p();var a=this.props.shippingOptions.length,c=[];this.props.shippingOptions.forEach(function(d){var e=d.shipping_service,f=c.length;c[f]=b("React").createElement("tr",{className:"_5b1f",key:"option-"+f},b("React").createElement("td",{className:"_b3y"},b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.props.disabled,height:"tall",onChange:function(a){return this.$4(f,a.target.value)}.bind(this),placeholder:i._("Delivery method name"),ref:f,value:e})),b("React").createElement("td",{className:"_b3z"},b("React").createElement(b("CurrencyInput.atlas"),{className:"_5rpn",currency:d.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:!0,onChange:function(a){return this.$5(f,a*100)}.bind(this),value:Number(d.shipping_price_value)/100})),a>b("CommerceSelfServeUI").MIN_SHIPPING_OPTIONS?b("React").createElement("td",{className:"_b3-"},b("React").createElement(b("Link.react"),{onClick:function(a){this.props.disabled?null:this.$3(f)}.bind(this)},b("React").createElement(b("Image.react"),{src:g("437201")}))):null)}.bind(this));var d=b("React").createElement(b("XUIText.react"),{size:"meta1"},i._("Add delivery method"));if(a>=b("CommerceSelfServeUI").MAX_SHIPPING_OPTIONS){var e=i._("You've reached the maximum number of delivery options.");e=b("React").createElement(b("Link.react"),{"data-hover":"tooltip","data-tooltip-content":e,onClick:function(a){return a.stopPropagation()}},d)}else e=b("React").createElement(b("Link.react"),{onClick:this.props.disabled?null:this.$2},d);d=null;this.props.settingsURI&&(d=b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})));var f=null;this.props.hideTitle||(f=b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Delivery options"),d),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Customers will only be charged one delivery fee per order, even if they order more than one of this item."))));return b("React").createElement("div",{className:"_4qx _2pid"},f,b("React").createElement("table",{className:"_b40"},b("React").createElement("tbody",null,c)),b("React").createElement("div",{className:"_2pic _2pir"},e))};e.exports=a}),null);
__d("PageProductComposerShippingOptionRow.react",["cx","fbt","FDSText.react","React","RelayModern","PageProductComposerShippingOptionRow_shippingOption.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.shippingOption,c=a.cost,d=a.name;a=a.estimatedDaysUntilArrival;return b("React").createElement("div",{className:"_1vm_"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3"},d),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},(d=c)!=null?d.formattedAmount:d),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},h._("{minDaysToArrival}-{maxDaysToArrival} days",[h._param("minDaysToArrival",(c=a)!=null?c.minDaysToArrival:c),h._param("maxDaysToArrival",(d=a)!=null?d.maxDaysToArrival:d)])))};function a(){i.apply(this,arguments)}e.exports=c(a,{shippingOption:function(){return b("PageProductComposerShippingOptionRow_shippingOption.graphql")}})}),null);
__d("PageProductComposerShopLevelShippingOptions.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","Link.react","PageProductComposerShippingOptionRow.react","React","RelayModern","ShopSettingsAddShippingProfile.react","SUIBusinessThemeContainer.react","asset","nullthrows","PageProductComposerShopLevelShippingOptions_page.graphql","PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={showAddProfileModal:!1},this.onHideAddProfileModal=function(){this.props.relay.refetch({pageID:this.props.page.id}),this.setState({showAddProfileModal:!1})}.bind(this),this.onShowAddProfileModal=function(){this.setState({showAddProfileModal:!0})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c;c=(c=this.props)!=null?(c=c.page)!=null?c.id:c:c;if(!c)return null;var d=this.props.settingsURI?b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})):null,e=b("nullthrows")(this.props.page.settings);a=((a=e)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.edges:a:a:a)||[];var f=a.length>0;c=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{label:i._("Add Delivery Option"),onClick:this.onShowAddProfileModal}),b("React").createElement(b("ShopSettingsAddShippingProfile.react"),{isProfileEnabled:!1,isShown:this.state.showAddProfileModal,onHide:this.onHideAddProfileModal,pageID:c,settings:e}));e=a.map(function(a){return!a.node?null:b("React").createElement(b("PageProductComposerShippingOptionRow.react"),{key:a.node.id,shippingOption:a.node})});a=f?e:c;return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Delivery options"),d),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},i._("Any delivery option that you add will be available for all of your items. You're responsible for dispatching items within three days of when an order is placed."))),a))};e.exports=c(a,{page:function(){return b("PageProductComposerShopLevelShippingOptions_page.graphql")}},function(){return b("PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql")})}),null);
__d("PageProductComposerTaxCategorySelector.react",["cx","fbt","invariant","BUIFormSelector.react","CommerceSelfServeProductTaxCategories","FDSText.react","React","forEachObject"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("BUIFormSelector.react").Option;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.getTaxCategoryDescription=function(a){__p&&__p();Object.prototype.hasOwnProperty.call(b("CommerceSelfServeProductTaxCategories"),a)||i(0,3786);switch(b("CommerceSelfServeProductTaxCategories")[a]){case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return h._("Sport and recreation");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_CLOTHING:return h._("Clothing");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SHOES:return h._("Shoes");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return h._("Luggage\/Bags");case b("CommerceSelfServeProductTaxCategories").TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return h._("Personal care");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_JEWELRY:return h._("Jewellery");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_WATCHES:return h._("Watches");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS:return h._("Other physical goods");default:i(0,3787)}};a.prototype.render=function(){var a=this.props.isManagedNmorShop?h._("This category is used to calculate tax for your item. Select the category that best describes your product."):h._("This category is used to calculate taxes. You can also enter a tax rate under \"Custom product taxes\" in the advanced options."),c=[];b("forEachObject")(b("CommerceSelfServeProductTaxCategories"),function(a,d){a!==b("CommerceSelfServeProductTaxCategories").NONE&&a!==b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD&&c.push(b("React").createElement(k,{key:"UNSPSC_"+a,value:a},this.getTaxCategoryDescription(d)))}.bind(this));return b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},h._("Product category")),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},a)),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},c))};function a(){j.apply(this,arguments)}a.defaultProps={taxCategory:b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS};e.exports=a}),null);
__d("PageProductComposerTieredShippingOptions.react",["ix","cx","fbt","CommerceExceptionHandlerMixin.react","FDSText.react","Image.react","OnsiteCommerceMerchantFixedShippingOptionType","React","RelayModern","ShopSettingsTieredShippingOptions.react","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUILink.react","asset","suiMargin","PageProductComposerTieredShippingOptions_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=[b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD,b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED,b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH];j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.getErrorSummary=function(){if(this.props.error==null)return null;var a=[this.props.error];return b("React").createElement("div",{className:"_3-8y _3-97"},b("CommerceExceptionHandlerMixin.react").renderErrorMessages(a))};a.prototype.render=function(){var a=this.getErrorSummary();return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Delivery options"),b("React").createElement(l,{href:this.props.settingsURI})),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},i._("Any delivery option that you add will be available for all of your items. You're responsible for dispatching items within three days of when an order is placed. {=Learn more.}",[i._param("=Learn more.",b("React").createElement(b("SUILink.react"),{href:"/business/help/211403042968780",target:"_blank",theme:b("SUIBusinessTheme")},i._("Learn more.")))])),a),b("React").createElement(b("ShopSettingsTieredShippingOptions.react"),{page:this.props.page,shippingTiers:k})))};function a(){j.apply(this,arguments)}function l(a){a=a.href;return!a?null:b("React").createElement(b("SUILink.react"),{href:a,margin:"_3-9a",target:"_blank",theme:b("SUIBusinessTheme")},b("React").createElement(b("Image.react"),{src:g("512570")}))}e.exports=c(a,{page:function(){return b("PageProductComposerTieredShippingOptions_page.graphql")}})}),null);
__d("PageProductReviewNUX.react",["cx","fbt","React","ReactLayeredComponentMixin_DEPRECATED","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIGrayText.react","classWithMixins","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=500;d=babelHelpers.inherits(a,b("classWithMixins")(b("React").Component,b("mixin")(b("ReactLayeredComponentMixin_DEPRECATED"))));i=d&&d.prototype;function a(){i.constructor.call(this),this.state={dialogShown:!0}}a.prototype.render=function(){return b("React").createElement("span",null)};a.prototype.renderLayers=function(){return!this.state.dialogShown?{}:{dialog:b("React").createElement(b("XUIDialog.react"),{width:j,onToggle:function(a){return this.$PageProductReviewNux1.bind(this,a)}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:!1},b("React").createElement("div",{className:"_2pie _2pij"},b("React").createElement(b("XUICloseButton.react"),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),b("React").createElement(b("XUIDialogBody.react"),{className:"_4o_9"},b("React").createElement("h1",{className:"_4o_a"},this.$PageProductReviewNux2()),b("React").createElement(b("XUIGrayText.react"),{size:"header4"},this.$PageProductReviewNux3())),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{use:"confirm",action:"button",onClick:this.$PageProductReviewNux1.bind(this,!1)})))}};a.prototype.$PageProductReviewNux2=function(){return h._("You've just added your first product!")};a.prototype.$PageProductReviewNux3=function(){return h._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.")};a.prototype.$PageProductReviewNux1=function(a){this.setState({dialogShown:a}),!a&&this.props.onDialogClosed&&this.props.onDialogClosed()};a.propTypes={onDialogClosed:c.func};e.exports=a}),null);
__d("ProductVisibilitySelector.react",["fbt","BUIFormSelector.react","ProductVisibility","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("BUIFormSelector.react").Option;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.onChange,d=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","value"]);return b("React").createElement(b("BUIFormSelector.react"),babelHelpers["extends"]({onChange:function(a){return c(a.value)},value:d},a),b("React").createElement(i,{value:b("ProductVisibility").PUBLISHED},g._("Public")),b("React").createElement(i,{value:b("ProductVisibility").STAGING},g._("Unpublished")))};function a(){h.apply(this,arguments)}a.propTypes=babelHelpers["extends"]({onChange:c.func.isRequired,value:c.string.isRequired},b("BUIFormSelector.react").propTypes);e.exports=a}),null);
__d("XCommerceSelfServeParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",BUSINESS_ID:"business_id",ADDRESS:"address",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"region",ZIP:"postalCode",COUNTRY:"country",ACCEPTED_TOS:"accepted_tos",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",COUNTRY_CODE:"country_code",MANAGED_STRIPE_LE_TYPE:"managed_stripe_le_type",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SECONDARY_CTA:"secondary_product_cta",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STATE_TAX_REGISTRATION_NUMBERS:"state_tax_registration_numbers",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",IS_CUSTOMIZATION_DATA_PRESENT:"is_customization_data_present",CUSTOMIZATION_DATA:"customization_data",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",DELIVERY_METHOD:"delivery_method",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_FINAL_SALE:"is_final_sale",IS_ON_SALE:"is_on_sale",PRODUCT_CATALOG_ID:"catalog_id",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map",CATEGORY_ID:"category_id",SOURCE_POST_ID:"post_id"})}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/featured_items_count/",{})}),null);
__d("XPagesManagerProductCreateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/product_create/",{})}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/product_variants/",{catalog_item_id:{type:"FBID",required:!0}})}),null);
__d("XPagesManagerProductViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/product/",{product_id:{type:"String",required:!0}})}),null);
__d("PageProductComposerDialog.react",["ix","cx","fbt","ActorURI","AdsCurrencyInput_DEPRECATED.react","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","BOFSellerLoggingSources","BUIFormButton.react","CommerceCurrencyInputUtils","CommerceCurrencySelector.react","CommerceExceptionHandlerMixin.react","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceSelfServeProductTaxCategories","CommerceSelfServeProductTaxRatesTable.react","CommerceSelfServeSection","Currency","CustomizationTypes","DOM","FBNumberInput.react","FBToggleSwitch.react","FDSLink.react","Image.react","InlineBlock.react","Link.react","PageCommerceProductVariantPage.react","PageContentTabDispatcher","PageContentTabProductPhotoUploader.react","PageProductActions","PageProductComposerCustomizationOptionsInputs.react","PageProductComposerMarketplaceCategorySelector.react","PageProductComposerReturnPolicy.react","PageProductComposerShippingOptions.react","PageProductComposerShopLevelShippingOptions.react","PageProductComposerTaxCategorySelector.react","PageProductComposerTieredShippingOptions.react","PageProductReviewNUX.react","PageSettingsRef","PagesManagerProductToolsConstants","PECurrency","ProductDeliveryMethod","ProductVisibility","ProductVisibilitySelector.react","React","ReactDOM","RelayModern","ShopManagementTab","ShopOnboardingSupportContactsSetupDialogContainer.react","SUIBusinessTheme","SUISimplePopover.react","XCommerceSelfServeParam","XPagesManagerFeaturedItemsCountController","XPagesManagerProductCreateController","XPagesManagerProductVariantsController","XPagesManagerProductViewController","XPagesManagerSettingsController","XPagesManagerShopManagementController","XPagesProfileShopController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIDialogTitle.react","XUIError.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","XUITextInput.react","areEqual","asset","getOwnObjectValues","gkx","goURI","immutable","PageContentTabConstants","PageProductComposerDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=b("React").PropTypes;var j=b("PageContentTabConstants").TABS,k="USD",l=500,m=3,n=80,o=14,p=50,q=100,r=1,s="0",t=100,u=0,v={main:"main",variant:"variant"},w={edit:"Edit",advanced:"Advanced"};d=b("React").createClass({displayName:"PageProductComposerDialog",mixins:[b("CommerceExceptionHandlerMixin.react")],propTypes:{categories:c.array,checkoutURL:c.string,collectionID:c.string,currencyCode:c.string,defaultReturnPolicyTime:c.number,defaultShippingOptions:c.array,isCustomGoodsEnabled:c.bool,isFinalSaleEnabled:c.bool,isManagedNmorShop:c.bool,pageContentTabAccessToken:c.string.isRequired,page:c.object.isRequired,pageHasShop:c.bool.isRequired,pageID:c.string.isRequired,postID:c.string,prefillConfig:c.shape({currencyCode:c.string,description:c.string,photos:c.array,price:c.number,title:c.string}),productCatalogID:c.string.isRequired,productGroupID:c.string,productID:c.string,requireDescription:c.bool.isRequired,sections:c.array.isRequired,shouldCreateShopFromProduct:c.bool,showShareToTimelineToggle:c.bool,showTOS:c.bool,showVideoUploadButton:c.bool,shownInitially:c.bool,source:c.oneOf(b("getOwnObjectValues")(b("BOFSellerLoggingSources"))).isRequired,tosURI:c.string,onClose:c.func,onProductChanged:c.func,onProductCreated:c.func,onProductDeleted:c.func,productFeedID:c.string,externalPlatform:c.string},getDefaultProps:function(){return{showShareToTimelineToggle:!0}},getInitialState:function(){var a;return{categoryID:null,checkoutURL:this.props.checkoutURL||"",currencyCode:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.currencyCode:a:a)||this.props.currencyCode||k,currentTabKey:w.edit,currentPage:v.main,customizations:b("immutable").List(),dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:!1,inventory:b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK,isCustomizable:!1,isEGiftCard:!1,isFinalSale:!1,isOnSale:!1,loading:!1,saving:!1,photos:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.photos:a:a)||[],videos:[],productDesc:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.description:a:a)||"",productPrice:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.price:a:a)||0,productSalePrice:0,productTitle:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.title:a:a)||"",productVisibility:b("ProductVisibility").PUBLISHED,returnPolicyTime:Math.max(this.props.defaultReturnPolicyTime||0,o),shareToTimeline:!1,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:!1,visibilityNotice:null,variants:[],variantItems:{},productFeedID:null,externalPlatform:null}},UNSAFE_componentWillMount:function(){this._reviewedProductData=this._getReviewableDataFromState(this.state),this.props.productID&&this._fetchProductDetails(this.props.pageID,this.props.productID),this.props.productGroupID&&this._fetchVariants(this.props.pageID,this._getUniqueProductIdentifier(this.props)),this._fetchFeaturedCount(this.props.pageID)},componentDidMount:function(){var a=this.props.productID?b("BOFSellerLoggerEvent").ACTN_EDIT_PRODUCT_CLICK:b("BOFSellerLoggerEvent").ACTN_ADD_PRODUCT_CLICK;this._logEvent(a)},UNSAFE_componentWillReceiveProps:function(a){(this.props.pageID!==a.pageID||this.props.productID!==a.productID||this.props.productGroupID!==a.productGroupID)&&(this._fetchProductDetails(a.pageID,a.productID),this._fetchVariants(a.pageID,this._getUniqueProductIdentifier(a)))},_fetchFeaturedCount:function(a){this.setState({loading:!0});a=b("ActorURI").create(b("XPagesManagerFeaturedItemsCountController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload.featured_count;this.setState({loading:!1,featuredCount:a})}.bind(this)).send()},_fetchProductDetails:function(a,c){this.setState({loading:!0});c=b("ActorURI").create(b("XPagesManagerProductViewController").getURIBuilder().setString(b("XCommerceSelfServeParam").PRODUCT_ID,c).getURI(),a);new(b("AsyncRequest"))().setURI(c).setHandler(this._onProductDetailsFetched).send()},_fetchVariants:function(a,c){this.setState({loading:!0});c=b("ActorURI").create(b("XPagesManagerProductVariantsController").getURIBuilder().setFBID("catalog_item_id",c).getURI(),a);new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a=a.payload;var b={variants:a.variants,variantItems:a.variantItems};this._oldVariants=this._deepClone(b);this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,a));this.setState(a)}.bind(this)).send()},_oldVariants:{variants:[],variantItems:{}},_deepClone:function(a){return JSON.parse(JSON.stringify(a))},onPhotosSelected:function(a){this.setState({photos:this.state.photos.concat(a)})},onPhotoRemoved:function(a){this.setState({photos:this.state.photos.filter(function(b){return b.fbid!==a.fbid})})},onPhotoEdited:function(a,c){var d=this.state.photos.findIndex(function(b){return b.fbid===a});if(d!==void 0){b("BOFSellerLogger").log(b("BOFSellerLoggerEvent").ACTN_PHOTO_EDITED,this.props.pageID,{target_class:"Photo",target_id:c.fbid});var e=this.state.photos.slice();e[d]=c;this.setState({photos:e})}},_onVideoSelected:function(a){var b=this.state.videos;b=b.concat({requestID:a,fbid:a,src:null,ready:!1,error:!1});this.setState({videos:b})},_onVideoRemoved:function(a){this.setState({videos:this.state.videos.filter(function(b){return b.fbid!==a.fbid})})},_onVideoUploadFinished:function(a,b,c){var d=this.state.videos;for(var e=0;e<d.length;e++)d[e].requestID===a&&(d[e].fbid=b,d[e].src=c,d[e].ready=!0);this.setState({videos:d})},_onVideoUploadError:function(a){var b=this.state.videos;for(var c=0;c<b.length;c++)b[c].requestID===a&&(b[c].error=!0,b[c].ready=!1);this.setState({videos:b})},_getUniqueProductIdentifier:function(a){return a.productGroupID!=="0"?a.productGroupID:a.productID},_getDialogHeader:function(){switch(this.state.currentPage){case v.main:return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders());case v.variant:return b("React").createElement(b("XUIDialogTitle.react"),null,this._getTitle())}return b("React").createElement("div",null)},_getTabHeaders:function(){var a=[b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:w.edit},this._getTitle())];this._showSection(b("CommerceSelfServeSection").TAX_TABLE)&&a.push(b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:w.advanced},i._("Advanced options")));return a},_getPhotoUploader:function(){var a=this.state.hasAttemptedSave?this._getPhotosError(this.state.photos):null;return b("React").createElement(b("PageContentTabProductPhotoUploader.react"),{className:"_2anr",onPhotoEdited:this.onPhotoEdited,onPhotoRemoved:this.onPhotoRemoved,onPhotosSelected:this.onPhotosSelected,onVideoRemoved:this._onVideoRemoved,onVideoSelected:this._onVideoSelected,onVideoUploadError:this._onVideoUploadError,onVideoUploadFinished:this._onVideoUploadFinished,pageContentTabAccessToken:this.props.pageContentTabAccessToken,pageID:this.props.pageID,photoEditingEnabled:!0,photos:this.state.photos,productCatalogID:this.props.productCatalogID,showVideoUploadButton:this.props.showVideoUploadButton,videos:this.state.videos,xuiError:a})},_getPhotoTooltip:function(){if(this.state.photos.length>0||this.state.videos.length>0)return null;return this.props.source===b("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD&&!this.props.pageHasShop?b("React").createElement(b("XUINotice.react"),{size:"small"},b("React").createElement("div",{className:"_45zv"},i._("Adding a product lets you tag it in posts, photos and videos on your Page."))):b("React").createElement(b("XUINotice.react"),{size:"small"},b("React").createElement("div",{className:"_1mxl"},i._("Take a look at our {link} for tips on making your product images look good on Facebook.",[i._param("link",b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/business/help/481150918755515",target:"_blank"},i._("recommended photo guidelines")))])))},_getTabBodies:function(){var a=this.state.currentTabKey===w.edit,c=[b("React").createElement("div",{className:a?"_2pi1":"hidden_elem",key:"basic_product_edit_tab"},b("React").createElement("div",{dangerouslySetInnerHTML:this.state.visibilityNotice}),b("React").createElement("div",null,this._getPhotoUploader(),this._getPhotoTooltip()),b("React").createElement("div",{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),b("React").createElement("div",{className:"_3p77"},b("React").createElement("div",{className:"_4o5s"},this._getInventoryInput()),b("React").createElement("div",{className:"_4o5t"},this._getVariantsButton())),this._getVisibilitySelector(),this._getEditWarning(),this._getShippingToggleSwitch(),this._getShippingOptionsSection(),this._getReturnPolicySection(),this._getTaxCategorySelector(),this._getShopCreationNoticeSection(),this._getTOSSection())];this._showSection(b("CommerceSelfServeSection").TAX_TABLE)&&c.push(b("React").createElement("div",{className:(a?"hidden_elem":"")+" _2pi1 _5dz6",key:"advanced_product_edit_tab"},this._getTaxTable()));return c},_getShopCreationNoticeSection:function(){return this.props.pageHasShop||!this.props.shouldCreateShopFromProduct?null:b("React").createElement("div",{className:"_3-8x _4u1-"},i._("When you add a product, we will create a shop section for your Page. You can easily edit and manage your products within your shop."))},_getTOSSection:function(){return!this.props.showTOS?null:b("React").createElement("div",{className:"_3-8x _1otd"},i._("By clicking {Label displayed on button to save a product}, you agree to the {Merchant Terms and Policies link}",[i._param("Label displayed on button to save a product",this._getSaveButtonText()),i._param("Merchant Terms and Policies link",b("React").createElement(b("Link.react"),{href:this.props.tosURI,target:"_blank"},"Merchant Terms and Policies"))]))},_getMerchantSettingsURI:function(){return this.props.isManagedNmorShop?b("XPagesManagerShopManagementController").getURIBuilder().setString("page_token",this.props.pageID).setEnum("tab",b("ShopManagementTab").SETTINGS).getURI():b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","shop").setString("ref",b("PageSettingsRef").PRODUCT_COMPOSER).getURI()},_getTaxTable:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-96",display:"block"},b("React").createElement(b("XUIGrayText.react"),{shade:"dark",size:"header4",weight:"bold"},i._("Custom product taxes")),b("React").createElement(b("SUISimplePopover.react"),{content:i._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})),b("React").createElement(b("CommerceSelfServeProductTaxRatesTable.react"),{onChangeTaxRates:this._onChangeTaxRates,taxRates:this.state.taxRates}),b("React").createElement("div",{className:"_3-8x",display:"block"},b("React").createElement(b("Link.react"),{href:this._getMerchantSettingsURI(),target:"_blank"},i._("View default shop taxes"))))},_getInnerContent:function(){if(this.state.loading)return b("React").createElement(b("XUISpinner.react"),{className:"_2_i8",size:"large"});switch(this.state.currentPage){case v.main:return b("React").createElement("div",null,this._getTabBodies());case v.variant:return b("React").createElement("div",null,b("React").createElement("div",{className:"_1go"},b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_1gp",onClick:this._onVariantsSaveButtonClicked},b("React").createElement(b("Image.react"),{src:g("529293")})),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_1gq"},i._("More options"))),b("React").createElement("div",{className:"_3-8j"},b("React").createElement(b("XUIGrayText.react"),{display:"block"},i._("Add options such as sizes, colours or materials that your product comes in."))),b("React").createElement(b("PageCommerceProductVariantPage.react"),{currencyCode:this.state.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,inventoryType:this._showSection(b("CommerceSelfServeSection").IN_STOCK_TOGGLE)?b("CommerceSelfServeSection").IN_STOCK_TOGGLE:b("CommerceSelfServeSection").INVENTORY,isOnSale:this.state.isOnSale,setVariantInfo:function(a){return this.setState(a)}.bind(this),variantItems:this.state.variantItems,variants:this.state.variants}))}return b("React").createElement("div",null)},_backToMainPage:function(){this.setState({currentPage:v.main})},_getVariantsButton:function(){return!this._showSection(b("CommerceSelfServeSection").VARIANTS)?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Options"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Add options such as sizes, colours or materials that your product comes in."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})),b("React").createElement(b("BUIFormButton.react"),{className:"_3-8w",density:"snug",label:i._("Edit options"),onClick:function(){return this.setState({currentPage:v.variant})}.bind(this)}))},_getCheckoutURLInput:function(){if(!this._showSection(b("CommerceSelfServeSection").CHECKOUT_URL))return null;var a=this.getFieldErrorMessage(b("XCommerceSelfServeParam").CHECKOUT_URL)||(this.state.hasAttemptedSave?this._getCheckoutURLError(this.state.checkoutURL):null);return b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1",weight:"bold"},i._("Checkout URL")),b("React").createElement(b("SUISimplePopover.react"),{content:i._("The website where users will be directed to purchase this product"),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")}),b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",name:"checkoutURL",onChange:function(a){return this.setState({checkoutURL:a.target.value})}.bind(this),placeholder:i._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:a}))},_getDialogFooter:function(){switch(this.state.currentPage){case v.main:return this._getMainFooter();case v.variant:return this._getVariantsFooter()}return null},_getMainFooter:function(){var a=null;this.props.productID&&!this.state.loading&&(a=b("React").createElement(b("Link.react"),{onClick:this.state.saving?null:this._onDeleteProductClicked},b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Delete product"))));var c=this.state.saving?b("React").createElement(b("XUISpinner.react"),{className:"_3-90",size:"small"}):null,d=b("React").createElement(b("XUIDialogButton.react"),{action:"button",disabled:this.state.saving||this.state.loading||this.state.productFeedID!=null&&this.props.productGroupID!=null,label:this._getSaveButtonText(),onClick:this._onSubmitButtonClicked,use:"confirm"});return b("React").createElement(b("XUIDialogFooter.react"),{leftContent:a},c,b("React").createElement(b("XUIDialogCancelButton.react"),{disabled:this.state.saving||this.state.loading}),this.state.productFeedID!=null&&this.props.productGroupID!=null?b("React").createElement("span",{className:"_3-99"},b("React").createElement(b("SUISimplePopover.react"),{content:b("React").createElement("div",null,i._("This item is managed by a feed file so it cannot be updated manually. Please update the item in the feed file and then upload it again in {catalog manager link}",[i._param("catalog manager link",this.state.externalPlatform==null?b("React").createElement(b("FDSLink.react"),{href:"/products/catalogs/"+this.props.productCatalogID+"/feeds/"+this.state.productFeedID+"/"},i._("Catalogue Manager")):this.state.externalPlatform)])),display:"inline",showIcon:!1,theme:b("SUIBusinessTheme")},d)):d)},_getVariantsFooter:function(){return b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:i._("Cancel"),onClick:this._onVariantsCancelButtonClicked,use:"default"}),b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:i._("Apply"),onClick:this._onVariantsSaveButtonClicked,use:"confirm"}))},_onVariantsCancelButtonClicked:function(){this.setState(this._deepClone(this._oldVariants)),this._backToMainPage()},_onVariantsSaveButtonClicked:function(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems}),this._backToMainPage()},show:function(){this.setState({currentPage:v.main,dialogShown:!0})},hide:function(){this.props.onClose&&this.props.onClose(),this.setState({dialogShown:!1})},_hideTemporarily:function(){this.setState({dialogShown:!1})},_onDeleteProductClicked:function(){b("PageProductActions").deleteProductsWithConfirmation(Array(this._getUniqueProductIdentifier(this.props)),this.props.pageID,function(){this.hide(),this.props.onProductDeleted&&this.props.onProductDeleted()}.bind(this))},_getCategoryInput:function(){if(!this._showSection(b("CommerceSelfServeSection").CATEGORY))return null;var a=this.state.categoryID?this.state.categoryID:s,c={id:s,text:i._("Select category (optional)")};return b("React").createElement(b("PageProductComposerMarketplaceCategorySelector.react"),{categories:[c].concat(this.props.categories),onCategoryClick:function(a){a===s&&(a=null),this.setState({categoryID:a})}.bind(this),value:a})},_getNamePriceDescriptionInputs:function(){__p&&__p();var a=null;if(this.state.variants.length===0){var c=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productPrice,this.state.currencyCode);a=b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:!0,nonnegative:!0,onDataUpdate:function(a){this.setState({productPrice:b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(a,this.state.currencyCode)})}.bind(this),placeholder:i._("Enter price"),value:c!==null?c:0,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});this.props.currencyCode||(a=b("React").createElement("div",null,b("React").createElement("div",{className:"_4tjr"},b("React").createElement(b("CommerceCurrencySelector.react"),{onChange:function(a){return this.setState({currencyCode:a.value})}.bind(this),selectedCurrency:this.state.currencyCode})),b("React").createElement("div",{className:"_4tke"},a)))}else a=b("React").createElement("div",{className:"_4o5u"},b("React").createElement(b("XUIGrayText.react"),{className:"_4o5v",shade:"light",size:"header4"},this._getVariantsPriceRange("price")),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit")));c=null;if(this.state.isOnSale){if(this.state.variants.length===0){var d=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productSalePrice,this.state.currencyCode);d=b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:!0,nonnegative:!0,onDataUpdate:function(a){this.setState({productSalePrice:b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(a,this.state.currencyCode)})}.bind(this),placeholder:i._("Enter price"),value:d!==null?d:0,xuiError:this.state.hasAttemptedSave?this._getSalePriceError(this.state.productSalePrice):null})}else d=b("React").createElement("div",{className:"_4o5u"},b("React").createElement(b("XUIGrayText.react"),{className:"_4o5v",shade:"light",size:"header4"},this._getVariantsPriceRange("salePrice")),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit")));c=b("React").createElement("div",{className:"_4o5t"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Sale price")),d)}d=this.state.hasAttemptedSave?this._getProductDescriptionError(this.state.productDesc):null;return b("React").createElement("div",{className:"_2pin"},this._getNameInput(),b("React").createElement("div",{className:this.state.isOnSale?"_4o5s":""},b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Price")),a),c,b("React").createElement("div",{className:"clearfix"}),this._getSaleToggleSwitch(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Description")),b("React").createElement(b("XUIError.react"),{xuiError:d},b("React").createElement("textarea",{className:"_3jm _2ph-",disabled:this.state.loading,name:"productDescription",onChange:function(a){return this.setState({productDesc:a.target.value})}.bind(this),rows:m,value:this.state.productDesc})),this._getCategoryInput(),this._getCustomizationOptionsInputs())},_onCustomizationsChange:function(a){this.setState({customizations:a})},_getCustomizationOptionsInputs:function(){if(!this.props.isCustomGoodsEnabled)return null;var a=this.state.isCustomizable?b("React").createElement(b("PageProductComposerCustomizationOptionsInputs.react"),{customizations:this.state.customizations,isDisabled:this.state.loading,onCustomizationsChange:this._onCustomizationsChange}):null;return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isCustomizable,disabled:this.state.loading,onToggle:this._handleCustomizableToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("This product is customisable"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Show people that this product can be customised by adding customisations that can be made to the product."),position:"below",theme:b("SUIBusinessTheme")})),a)},_handleCustomizableToggleChange:function(a){this.setState(function(c){return{isCustomizable:a,customizations:a?c.customizations.push({prompt:"",type:b("CustomizationTypes").TEXT}):c.customizations.clear()}})},_getNameInput:function(){var a=this.getFieldErrorMessage(b("XCommerceSelfServeParam").PRODUCT_TITLE)||(this.state.hasAttemptedSave?this._getProductTitleError(this.state.productTitle):null);return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Name")),b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",maxLength:n,name:"productTitle",onChange:function(a){return this.setState({productTitle:a.target.value})}.bind(this),value:this.state.productTitle,xuiError:a}))},_getVariantsPriceRange:function(a){__p&&__p();var c=Number.MAX_VALUE,d=Number.MIN_VALUE;for(var e in this.state.variantItems){var f=this.state.variantItems[e];f[a]<c&&(c=f[a]);f[a]>d&&(d=f[a])}f=this.state.currencyCode;if(c===d)return b("PECurrency").formatAmount(f,c,!0,!1,!1);else return b("PECurrency").formatAmount(f,c,!0,!1,!1)+" - "+b("PECurrency").formatAmount(f,d,!0,!1,!1)},_getTaxCategorySelector:function(){if(!this._showSection(b("CommerceSelfServeSection").TAX_CATEGORY)||this.state.isEGiftCard)return null;var a=this.state.taxCategory||b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS;a===b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD&&(a=b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION);return b("React").createElement(b("PageProductComposerTaxCategorySelector.react"),{isManagedNmorShop:this.props.isManagedNmorShop,onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:a})},_getVisibilitySelector:function(){return!this._showSection(b("CommerceSelfServeSection").PRODUCT_VISIBILITY)?null:b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Visibility")),b("React").createElement(b("ProductVisibilitySelector.react"),{density:"snug",onChange:function(a){return this.setState({productVisibility:a})}.bind(this),value:this.state.productVisibility}))},_getInventoryInput:function(){var a=null;a=this._getInventoryNumberInput()!==null?this._getInventoryNumberInput():this._getInventoryStockToggle();return a===null?null:b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Inventory")),a)},_getInventoryNumberInput:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").INVENTORY))return null;var a;if(this.state.variants.length===0)a=b("React").createElement(b("FBNumberInput.react"),{className:"_3jm _2ph-",defaultValue:0,disabled:this.state.loading,name:"productInventory",nonnegative:!0,onValueChange:this._updateInventory,value:this.state.inventory});else{var c=0;for(var d in this.state.variantItems)c+=this.state.variantItems[d].inventory;a=b("React").createElement("div",{className:"_4o5u"},b("React").createElement("div",{className:"_4o5v"},b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"header4"},c)),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit inventory")))}return a},_updateInventory:function(a){this.setState({inventory:a})},_getInventoryStockToggle:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").IN_STOCK_TOGGLE))return null;var a;if(this.state.variants.length===0)a=b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:this.state.loading,inventory:this.state.inventory,setInventoryInfo:function(a){this.setState({inventory:a?b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:b("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK})}.bind(this)});else{var c=0;for(var d in this.state.variantItems)c+=this.state.variantItems[d].inventory;a=b("React").createElement("div",null,b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:!0,inventory:c}),b("React").createElement("div",{className:"_4ul8"},b("React").createElement(b("Link.react"),{onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit option inventory"))))}return a},_getReturnPolicySection:function(){if(!this._showSection(b("CommerceSelfServeSection").RETURN_POLICY)||this.state.isEGiftCard)return null;var a=this.props.isFinalSaleEnabled&&this.state.isFinalSale?u:this.state.returnPolicyTime;return b("React").createElement(b("PageProductComposerReturnPolicy.react"),{isDisabled:this.state.loading,isFinalSaleEnabled:this.props.isFinalSaleEnabled,onReturnPolicyTimeChange:this._onReturnPolicyTimeChange,selectedReturnPolicyTime:a,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})},_getSaleToggleSwitch:function(){return!this._showSection(b("CommerceSelfServeSection").SALE_PRICE)?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isOnSale,disabled:this.state.loading,onToggle:function(a){return this.setState({isOnSale:a})}.bind(this)}),b("React").createElement("span",{className:"_3jn"},i._("This product is on sale"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Show people that you're selling this product at a discount by setting a sale price in addition to the regular price."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})))},_getShippingToggleSwitch:function(){return!b("gkx")("678720")?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isEGiftCard,disabled:this.state.loading,onToggle:this._handleIsEGiftCardToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("This product is an e-gift card"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Turn this on if your item is an e-gift card and does not require delivery."),position:"below",theme:b("SUIBusinessTheme")})))},_handleIsEGiftCardToggleChange:function(a){this.setState({isEGiftCard:a})},_getShippingOptionsSection:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").SHIPPING_OPTIONS)||this.state.isEGiftCard)return null;if(this.props.isManagedNmorShop){var a;if((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.isTieredShippingEnabled:a:a:a){a=this._getShippingOptionsError();return b("React").createElement(b("PageProductComposerTieredShippingOptions.react"),{error:a,page:this.props.page,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})}return b("React").createElement(b("PageProductComposerShopLevelShippingOptions.react"),{page:this.props.page,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})}return b("React").createElement(b("PageProductComposerShippingOptions.react"),{currencyCode:this.state.currencyCode,disabled:this.state.loading,onShippingOptionsChange:function(a){return this.setState({shippingOptions:a})}.bind(this),settingsURI:this.props.productID?null:this._getMerchantSettingsURI(),shippingOptions:this.state.shippingOptions})},_getShareToTimelineToggle:function(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var a=null;this.state.shareToTimeline&&(a=b("React").createElement("div",{className:"_4lw_"},i._("Your product will be shared on your Page as soon as it's been approved.")));return b("React").createElement("div",null,b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.shareToTimeline,disabled:this.state.loading,onToggle:function(a){return this.setState({shareToTimeline:a})}.bind(this)}),b("React").createElement("span",{className:"_3jn"},i._("Share this product on your Page"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Automatically post this product to your Page's timeline as soon as it's been approved."),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")})),a)},_unpackTaxRates:function(){var a=[],b={},c={};for(var d in this.state.taxRates){var e=this.state.taxRates[d];for(var f in e)a[a.length]=f,b[f]=e[f].tax_rate,c[f]=e[f].is_applied_to_shipping}return{tax_locations:a,tax_percent_map:b,tax_applied_to_shipping_map:c}},_getFeaturedToggleSwitch:function(){return!this._showSection(b("CommerceSelfServeSection").FEATURED_PRODUCT_TOGGLE)?null:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.featuredProduct,disabled:this.state.loading||this._isFeatureProductToggleDisabled(),onToggle:this._handleFeatureProductToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("Feature this product"),b("React").createElement(b("SUISimplePopover.react"),{content:this._getHelpText(),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")})))},_handleFeatureProductToggleChange:function(a){var b=a?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:a,featuredCount:b})},_isFeatureProductToggleDisabled:function(){return!this.state.featuredProduct&&this.state.featuredCount>=b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT},_getHelpText:function(){return this._isFeatureProductToggleDisabled()?i._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[i._param("Maximum number of products that can be featured",b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])]):i._({"*":"Featured products appear at the top of your Page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[i._param("Maximum number of products that can be featured",b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])])},_getTitle:function(){if(this.state.currentPage===v.variant)return i._("Edit options");return this.props.productID?i._("Edit product"):i._("Add product")},_getSaveButtonText:function(){return i._("Save")},_onProductDetailsFetched:function(a){a=a.payload;var c=a.visibility_notice===null?null:a.visibility_notice.markup;for(var d=0;d<a.videos.length;d++)a.videos[d].ready=!0,a.videos[d].error=!1;d=a.price;var e=a.sale_price,f=a.delivery_method===b("ProductDeliveryMethod").REDEMPTION_CODE,g=a.customizations||[];d={categoryID:a.commerce_category_id,checkoutURL:a.checkout_url,currentTabKey:w.edit,currentPage:v.main,customizations:b("immutable").List(g),dialogShown:!0,productTitle:a.name,productDesc:a.description,productPrice:d,productSalePrice:e,productVisibility:a.visibility,photos:a.images,videos:a.videos,featuredProduct:a.featured_product,inventory:a.inventory,returnPolicyTime:a.return_policy_time,isFinalSale:a.is_final_sale,shippingOptions:a.shipping_options,taxCategory:a.tax_category,showVariants:a.show_variants,visibilityNotice:c,loading:!1,featuredCount:a.featured_count,taxRates:a.tax_rates,isEGiftCard:f,isCustomizable:g.length>0,productFeedID:a.feed_id,externalPlatform:a.external_platform};this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,d));this.setState(d)},_reviewedProductData:{},_getReviewableDataFromState:function(a){var b=a.checkoutURL,c=a.productTitle,d=a.productDesc,e=a.photos,f=a.videos;a=a.variants;return this._deepClone({checkoutURL:b,productTitle:c,productDesc:d,photos:e,videos:f,variants:a})},_logEvent:function(a){var c=this.props.productID?{target_class:"EntProductItem",target_id:this.props.productID}:null;b("BOFSellerLogger").log(a,this.props.pageID,babelHelpers["extends"]({source:this.props.source},c))},_onToggleDialog:function(a){this.setState({dialogShown:a});if(a)return;this.props.onClose&&this.props.onClose();a=this.props.productID?b("BOFSellerLoggerEvent").ACTN_CANCEL_EDIT_PRODUCT:b("BOFSellerLoggerEvent").ACTN_CANCEL_ADD_PRODUCT;this._logEvent(a)},_getPriceError:function(a){var c=this._getMinimumPrice(),d=null;if(this._showSection(b("CommerceSelfServeSection").MINIMUM_PRICE_ERROR)&&(!a||a<c)){c=b("PECurrency").formatAmount(this.state.currencyCode,c,!0,!1,!1);d=i._("Price must be at least {Minimum Product Price}",[i._param("Minimum Product Price",c)])}else(a==null||a<0)&&(d=i._("A non-negative price is required"));return d},_getSalePriceError:function(a){a=this._getPriceError(a);!a&&this.state.productPrice<=this.state.productSalePrice&&(a=i._("The sale price must be lower than the regular price"));return a},_getMinimumPrice:function(){var a=p;if(this.state.currencyCode!=="USD"){var c=b("Currency").getOffset(this.state.currencyCode);a=c===t?r:q}return a},_getCheckoutURLError:function(a){var b=null;a===""&&(b=i._("Missing checkout URL: This product must have a valid URL, such as \"http:\/\/www.example.com\""));return b},_getPhotosError:function(a){a=null;this.state.photos.length===0&&(a=i._("Add at least one photo of this product"));return a},_getProductTitleError:function(a){var b=null;a===""&&(b=i._("This is a required field"));return b},_getShippingOptionsError:function(){var a;a=(a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?a.id:a:a:a:a;return!this.state.hasAttemptedSave||!!a?null:i._("Please add at least one delivery option.")},_getEditWarning:function(){if(!this.props.productID||this.state.visibilityNotice)return null;return b("areEqual")(this._reviewedProductData,this._getReviewableDataFromState(this.state))?null:b("React").createElement(b("XUINotice.react"),{className:"_3-8y",size:"small"},i._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible."))},_getProductDescriptionError:function(a){var b=null;this.props.requireDescription&&a.trim()===""&&(b=i._("This is a required field"));return b},_handleTabChange:function(a){this.setState({currentTabKey:a})},_handleTaxCategoryChange:function(a){this.setState({taxCategory:a.value})},_validatePrices:function(){__p&&__p();var a=this.state.variants,b=this.state.variantItems;if(!a||a.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getSalePriceError(this.state.productSalePrice)){this._navigateToTab(w.edit);return!1}return!0}for(var c in this.state.variantItems){a=this._getMinimumPrice();if(b[c].price<a||this.state.isOnSale&&this.state.variantItems[c].salePrice<a){this._navigateToTab(v.variant);return!1}}return!0},_validateVariants:function(){return!this._getVariantsError()},_getVariantsError:function(){var a=this.state.variants;if(!a||a.length===0)return null;a=a.map(function(a){return a.options});for(var b=0;b<a.length;b++)if(a[b].length<=1)return i._("If you add inventory options for your product (i.e. size, colour, material), you need to include more than one. If you only offer one option, remove it as an inventory type and add it to the product description.");return null},_validateCheckoutURL:function(){return!this._showSection(b("CommerceSelfServeSection").CHECKOUT_URL)?!0:!this._getCheckoutURLError(this.state.checkoutURL)},_validatePhotos:function(){return!this._getPhotosError(this.state.photos)},_validateProductTitle:function(){return!this._getProductTitleError(this.state.productTitle)},_validateShippingOptions:function(){return!this.props.isManagedNmorShop||!this._getShippingOptionsError()},_onSubmitButtonClicked:function(){this.setState({saving:!0,hasAttemptedSave:!0},function(){var a;if(!this._validatePrices()||!this._validateCheckoutURL()||!this._validatePhotos()||!this._validateProductTitle()||!this._validateVariants()||!this._validateShippingOptions()){this.setState({saving:!1});return}this.props.isManagedNmorShop&&b("gkx")("678721")&&!((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.supportContactsConfirmed:a:a:a)?this._openContactInfoSetUpDialog():this._saveData()}.bind(this))},_onContactInfoDialogCompleted:function(){this.setState({dialogShown:!0}),this._saveData()},_onContactInfoDialogCancelled:function(){this._navigateToShopSection()},_saveData:function(){__p&&__p();var a=[];this.state.photos.forEach(function(b){a.push(b.fbid)});var c=[];this.state.videos.forEach(function(a){a.ready&&!a.error&&c.push(a.fbid)});var d=this.state.shippingOptions.filter(function(a){return a.shipping_service&&!!a.shipping_service.trim()});this.setState({shippingOptions:d});var e=[],f=[];d.forEach(function(a){e.push(a.shipping_service),f.push(Math.round(a.shipping_price_value))});d=this._unpackTaxRates();var g=this.state.variants,h=g.map(function(a){return a.label});g=g.map(function(a){return a.options});var i=this.state.variantItems,j={},k={},l={},m={},n={};for(var o in i){var p=i[o];j[o]=p.inventory;k[o]=p.price;l[o]=p.salePrice;m[o]=JSON.stringify(p.properties);n[o]=p.productID}p=b("ProductDeliveryMethod").SHIPPING;this.state.isEGiftCard&&(p=b("ProductDeliveryMethod").REDEMPTION_CODE);i={};i.source=this.props.source;i[b("XCommerceSelfServeParam").PRODUCT_TITLE]=this.state.productTitle;i[b("XCommerceSelfServeParam").PRODUCT_DESCRIPTION]=this.state.productDesc;i[b("XCommerceSelfServeParam").PRODUCT_PRICE]=this.state.productPrice;i[b("XCommerceSelfServeParam").PRODUCT_SALE_PRICE]=this.state.productSalePrice;i[b("XCommerceSelfServeParam").IS_ON_SALE]=this.state.isOnSale;i[b("XCommerceSelfServeParam").DELIVERY_METHOD]=p;i[b("XCommerceSelfServeParam").COLLECTION_ID]=this.props.collectionID;i[b("XCommerceSelfServeParam").CATEGORY_ID]=this.state.categoryID;i[b("XCommerceSelfServeParam").CURRENCY_CODE]=this.state.currencyCode;i[b("XCommerceSelfServeParam").PRODUCT_PHOTO_IDS]=a;i[b("XCommerceSelfServeParam").PRODUCT_VIDEO_IDS]=c;i[b("XCommerceSelfServeParam").PRODUCT_CATALOG_ID]=this.props.productCatalogID;i[b("XCommerceSelfServeParam").PRODUCT_ID]=this.props.productID;i[b("XCommerceSelfServeParam").FEATURED_PRODUCT]=this.state.featuredProduct;i[b("XCommerceSelfServeParam").SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;i[b("XCommerceSelfServeParam").INVENTORY]=this.state.inventory;i[b("XCommerceSelfServeParam").SHIPPING_OPTION_NAMES]=e;i[b("XCommerceSelfServeParam").SHIPPING_OPTION_VALUES]=f;i[b("XCommerceSelfServeParam").IS_FINAL_SALE]=this.state.isFinalSale;i[b("XCommerceSelfServeParam").RETURN_POLICY_TIME]=this.state.returnPolicyTime;i[b("XCommerceSelfServeParam").TAX_CATEGORY]=this.state.taxCategory;i[b("XCommerceSelfServeParam").TAX_LOCATIONS]=d.tax_locations;i[b("XCommerceSelfServeParam").TAX_APPLIED_TO_SHIPPING_MAP]=d.tax_applied_to_shipping_map;i[b("XCommerceSelfServeParam").TAX_PERCENT_MAP]=d.tax_percent_map;i[b("XCommerceSelfServeParam").VARIANT_NAMES]=h;i[b("XCommerceSelfServeParam").VARIANT_INVENTORY]=j;i[b("XCommerceSelfServeParam").VARIANT_PRICE]=k;i[b("XCommerceSelfServeParam").VARIANT_SALE_PRICE]=l;i[b("XCommerceSelfServeParam").VARIANT_DATA]=m;i[b("XCommerceSelfServeParam").VARIANT_PRODUCT_ID]=n;i[b("XCommerceSelfServeParam").VISIBILITY]=this.state.productVisibility;i[b("XCommerceSelfServeParam").CHECKOUT_URL]=this.state.checkoutURL;i[b("XCommerceSelfServeParam").ACCEPTED_TOS]=this.props.showTOS;i[b("XCommerceSelfServeParam").SOURCE_POST_ID]=this.props.postID;for(var p=0;p<g.length;p++)i["variant"+p+"_options"]=g[p];d=this.state.customizations.toJS().map(function(a){return JSON.stringify(a)});i[b("XCommerceSelfServeParam").IS_CUSTOMIZATION_DATA_PRESENT]=!0;i[b("XCommerceSelfServeParam").CUSTOMIZATION_DATA]=d;h=b("ActorURI").create(b("XPagesManagerProductCreateController").getURIBuilder().getURI(),this.props.pageID);this.sendAsync(h,i,this._onProductUpdated,function(){return this.setState({saving:!1})}.bind(this));this.props.source===b("BOFSellerLoggingSources").NLU_BANNER&&this._navigateToShopSection()},_navigateToShopSection:function(){var a=b("XPagesProfileShopController").getURIBuilder().setString("page_token",this.props.pageID).getURI();b("goURI")(a)},_navigateToTab:function(a){switch(a){case v.variant:this.setState({currentPage:v.variant});break;case w.edit:this.setState({currentTabKey:w.edit});break;case w.advanced:this.setState({currentTabKey:w.advanced});break}},_onChangeTaxRates:function(a){this.setState({taxRates:a})},_onProductUpdated:function(a){this.setState({saving:!1,dialogShown:!1}),this.props.productID?b("PageContentTabDispatcher").handlePostChanged(a.payload):(this.props.onProductCreated&&this.props.onProductCreated(a.payload),b("PageContentTabDispatcher").handlePostCreated(j.COMMERCE_PRODUCTS,a.payload,this.props.pageID)),a.payload.show_creation_nux?b("ReactDOM").render(b("React").createElement(b("PageProductReviewNUX.react"),{onDialogClosed:function(){this.props.onProductChanged&&this.props.onProductChanged(a.payload)}.bind(this)}),b("DOM").create("div")):this.props.onProductChanged&&this.props.onProductChanged(a.payload),b("ReactDOM").unmountComponentAtNode(b("ReactDOM").findDOMNode(this).parentNode)},_openContactInfoSetUpDialog:function(){b("ReactDOM").render(b("React").createElement(b("ShopOnboardingSupportContactsSetupDialogContainer.react"),{onCancelled:this._onContactInfoDialogCancelled,onCompleted:this._onContactInfoDialogCompleted,onDialogLoaded:this._hideTemporarily,pageID:this.props.pageID}),b("DOM").create("div"))},_onReturnPolicyTimeChange:function(a){this.setState({isFinalSale:a.value===u,returnPolicyTime:a.value})},render:function(){if(!this.state.dialogShown)return null;var a=[];this.hasFieldErrors()&&a.push(i._("Your product can't be saved as is. Please check the product information, options and advanced options and try again."));this.hasGeneralError()?a.push(this.getGeneralErrorMessage()):this.state.hasAttemptedSave&&this._getVariantsError()&&a.push(this._getVariantsError());var c=null;a.length>0&&(c=b("React").createElement("div",{className:"_2pib _2piq"},this.renderErrorMessages(a)));return b("React").createElement(b("XUIDialog.react"),{causalElementRef:function(){return this.refs.createButton}.bind(this),key:"dialog",label:"Add Product",onToggle:this._onToggleDialog,shown:this.state.dialogShown,width:l},this._getDialogHeader(),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},this._getInnerContent()),c,this._getDialogFooter())},_showSection:function(a){return this.props.sections.indexOf(a)>=0}});e.exports=a(d,{page:function(){return b("PageProductComposerDialog_page.graphql")}})}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/product_composer_dialog/loader/",{page_id:{type:"Int",required:!0}})}),null);
__d("PageProductComposerDialogLoader.react",["AsyncRequest","BOFSellerLoggingSources","LoadingDialog.react","PageProductComposerDialog.react","React","RelayFBEnvironment","RelayModern","XCommerceProductDialogLoaderController","XCommerceSelfServeParam","getOwnObjectValues","PageProductComposerDialogLoaderQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=b("React").PropTypes;var i=440;c=b("React").createClass({displayName:"PageProductComposerDialogLoader",propTypes:{collectionID:a.string,pageID:a.string.isRequired,postID:a.string,prefillConfig:a.shape({currencyCode:a.string.isRequired,description:a.string.isRequired,photos:a.array.isRequired,price:a.number.isRequired,title:a.string.isRequired}),productGroupID:a.string,productID:a.string,source:a.oneOf(b("getOwnObjectValues")(b("BOFSellerLoggingSources"))).isRequired,onClose:a.func,onProductChanged:a.func,onProductCreated:a.func,onProductDeleted:a.func},getInitialState:function(){return{loading:!0}},UNSAFE_componentWillMount:function(){this._fetchPageDetails(this.props.pageID)},_fetchPageDetails:function(a){a=b("XCommerceProductDialogLoaderController").getURIBuilder().setInt(b("XCommerceSelfServeParam").PAGE_ID,a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this._onPageDetailsFetched).send()},_onPageDetailsFetched:function(a){a=a.payload;this.setState({categories:a.categories,currencyCode:a.currency_code,defaultReturnPolicyTime:a.default_return_policy,defaultShippingOptions:a.default_shipping_options,isCustomGoodsEnabled:a.is_custom_goods_enabled,isFinalSaleEnabled:a.is_final_sale_enabled,isManagedNmorShop:a.is_managed_nmor_shop,hasValidTOS:a.has_valid_tos,loading:!1,pageContentTabAccessToken:a.page_content_tab_access_token,pageHasShop:a.page_has_shop,productCatalogID:a.product_catalog_id,requireDescription:a.require_description,sections:a.sections,shouldCreateShopFromProduct:a.should_create_shop_from_product,showVideoUploadButton:a.show_video_upload_button,tosURI:a.tos_uri})},render:function(){var a=b("React").createElement(b("LoadingDialog.react"),{shown:!0,width:i});return this.state.loading?a:b("React").createElement(h,{environment:b("RelayFBEnvironment"),query:g||(g=function(){return b("PageProductComposerDialogLoaderQuery.graphql")}),render:function(c){c.error;c=c.props;return!c?a:b("React").createElement(b("PageProductComposerDialog.react"),babelHelpers["extends"]({categories:this.state.categories,collectionID:this.props.collectionID,currencyCode:this.state.currencyCode,defaultReturnPolicyTime:this.state.defaultReturnPolicyTime,defaultShippingOptions:this.state.defaultShippingOptions,isCustomGoodsEnabled:this.state.isCustomGoodsEnabled,isFinalSaleEnabled:this.state.isFinalSaleEnabled,isManagedNmorShop:this.state.isManagedNmorShop,onClose:this.props.onClose,onProductChanged:this.props.onProductChanged,onProductCreated:this.props.onProductCreated,onProductDeleted:this.props.onProductDeleted,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageHasShop:this.state.pageHasShop,pageID:this.props.pageID,postID:this.props.postID,prefillConfig:this.props.prefillConfig,productCatalogID:this.state.productCatalogID,productGroupID:this.props.productGroupID,productID:this.props.productID,requireDescription:this.state.requireDescription,sections:this.state.sections,shouldCreateShopFromProduct:this.state.shouldCreateShopFromProduct,showShareToTimelineToggle:this.state.pageHasShop,showTOS:!this.state.hasValidTOS,showVideoUploadButton:this.state.showVideoUploadButton,shownInitially:!0,source:this.props.source,tosURI:this.state.tosURI},c))}.bind(this),variables:{pageID:this.props.pageID}})}});e.exports=c}),null);
__d("VideoAssetPostsTable.react",["cx","fbt","ContentTabPageInfo","FixedDataTable.react","FixedDataTableColumn.react","Image.react","LeftRight.react","LineClamp.react","PageContentTabCellRenderers","React","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XUICheckboxInput.react","XUIDateTimePickerUtils","XUIGrayText.react","formatDate","joinClasses","parseISODate"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=20,k=435,l=275,m=80,n=140,o=28,p=55,q=26,r=7e3,s=1e3;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$2=function(a){"use strict";a=this.$1()[a];var b=a.title?a.title+" ":"",c=a.description?a.description:"",d=a.isPublished?a.createdTime:a.schedulePublishTime?a.schedulePublishTime:null;return{video:{text:b+c,img:a.thumbnailUrl,expirationTime:a.expirationTime?a.expirationTime:null,publishTime:d,isDraft:!a.isPublished&&!d,creationTime:a.createdTime},views:a.viewsCount,time:new Date(a.createdTime*s).toISOString(),selected:this.props.selectedOrganicPosts.indexOf(a)>=0,showPostStateIndicator:this.props.showPostStateIndicator}};a.prototype.$3=function(a,c){"use strict";__p&&__p();if(a==="profile")return{cellRenderer:function(a){return!a?b("React").createElement("div",null):b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:a.img,className:"_16fx"}),b("React").createElement("div",{className:"_16fy","data-tooltip-content":a.text},b("React").createElement(b("LineClamp.react"),{lines:2},b("React").createElement("div",{className:"_16fz"},a.text))))},key:"video",label:h._("Your posts"),width:k};else if(a==="summary")return{cellRenderer:function(a){return!a?b("React").createElement("div",null):b("React").createElement("div",null,b("React").createElement("div",{className:"_16fy","data-tooltip-content":a.text},b("React").createElement("div",{className:"_1tq2"},a.text)))},key:"video",label:h._("Your posts"),width:l};else if(a==="views")return{cellRenderer:function(a){return b("PageContentTabCellRenderers").renderCellWithNumber(a)},key:"views",width:m,label:h._("Views")};else if(a==="dateCreated"){var d=this;return{cellRenderer:function(a,e,f){if(c&&f.video){e=f.video;f=b("VideoPublishingStateIndicatorUtils").getState(e);return b("React").createElement(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,className:"_3g5l"},b("React").createElement(b("VideoPublishingStateIndicator.react"),{state:f,toolTip:b("VideoPublishingStateIndicatorUtils").getStateToolTip(f,e)}),d.renderDateCell(a))}else return d.renderDateCell(a)},width:n,key:"time",headerRenderer:function(a,d,e){d=c?"_3-9b":"";return b("React").createElement("span",{className:d},a)},label:h._("Date created")}}};a.prototype.renderDateCell=function(a){"use strict";if(!a)return b("React").createElement("div",null);a=b("parseISODate")(a);a=b("XUIDateTimePickerUtils").offsetDate(a,a.getTimezoneOffset()/60*-1,!0);a=b("XUIDateTimePickerUtils").getOffsetUIDate(a,b("ContentTabPageInfo").accountGmtOffsetSeconds/60);var c=b("formatDate")(a,"M j, Y");a=b("formatDate")(a,"g:ia");return b("React").createElement("div",null,b("React").createElement(b("LineClamp.react"),{lines:1},b("React").createElement("span",null,c)," ",b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},a)))};a.prototype.$4=function(a){"use strict";__p&&__p();var b=this.$1(),c=Number(a.target.value);b=b[c];c=this.props.selectedOrganicPosts;if(a.target.checked)a=c.concat(b);else{b=c.indexOf(b);a=c.slice(0);a.splice(b,1)}this.props.onPostSelectionChange(a)};a.prototype.$5=function(){"use strict";var a=this.props.columns.map(function(a){return this.$3(a,this.props.showPostStateIndicator)}.bind(this));this.props.allowRowSelection&&a.unshift({cellRenderer:function(a,c,d,e){return b("React").createElement("div",{className:"_3zpx"},b("React").createElement(b("XUICheckboxInput.react"),{value:e,checked:a,onChange:this.$4.bind(this)}))}.bind(this),width:j,key:"selected"});return a};a.prototype.$6=function(){"use strict";var a=this.$5();return a.map(function(a){return b("React").createElement(b("FixedDataTableColumn.react"),{width:a.width,key:a.key,dataKey:a.key,label:a.label,cellRenderer:a.cellRenderer,headerRenderer:a.headerRenderer})})};a.prototype.$7=function(){"use strict";return"_16f-"};a.prototype.$8=function(){"use strict";return this.props.columns.indexOf("profile")>=0?p:q};a.prototype.$9=function(){"use strict";return this.props.hideHeader?0:o};a.prototype.render=function(){"use strict";var a=this.$5().reduce(function(a,b){return a+b.width},0),c=this.$8();return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_16g2"+(this.props.hideHeader?" _16g3":"")+(c===q?" _16g4":"")+(this.props.onRowClick?" _16g5":""))},b("React").createElement(b("FixedDataTable.react"),{width:a,onRowClick:this.props.onRowClick,rowsCount:this.$1().length,rowGetter:this.$2.bind(this),rowClassNameGetter:this.$7.bind(this),headerHeight:this.$9(),rowHeight:c,maxHeight:r},this.$6()))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={hideHeader:!1,allowRowSelection:!1,selectedOrganicPosts:[],showPostStateIndicator:!1};e.exports=a}),null);
__d("VideoAssetPostsSelection.react",["cx","fbt","React","ShimButton.react","VideoAssetPostsTable.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=" \u25b4",k=" \u25be";c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={showPostsTable:!1}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.render=function(){"use strict";var a,c,d=this.$1(),e;this.state.showPostsTable?(a=b("React").createElement(b("VideoAssetPostsTable.react"),{className:"_3-8w",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.props.selectedOrganicPosts,onPostSelectionChange:this.props.onPostSelectionChange,columns:["summary","dateCreated"],hideHeader:!0,allowRowSelection:!0}),c=b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:!1})}.bind(this)},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("Hide {totalPostsCount} posts",[h._param("totalPostsCount",d)])),b("React").createElement(b("XUIText.react"),{size:"meta1"},k)),this.props.tableCaption&&(e=b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x",shade:"light",size:"meta1",display:"block"},this.props.tableCaption))):c=b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){return this.setState({showPostsTable:!0})}.bind(this)},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("Show {totalPostsCount} posts",[h._param("totalPostsCount",d)])),b("React").createElement(b("XUIText.react"),{size:"header3"},j));return b("React").createElement("div",{className:this.props.className},c,a,e)};e.exports=a}),null);
__d("SortedCopyrightCountryCodes",["CopyrightCountryNames"],(function(a,b,c,d,e,f){e.exports=Object.keys(b("CopyrightCountryNames")).sort(function(a,c){if(b("CopyrightCountryNames")[a]<b("CopyrightCountryNames")[c])return-1;return b("CopyrightCountryNames")[a]>b("CopyrightCountryNames")[c]?1:0})}),null);
__d("VideoCopyrightClaimAdEarningsText",["fbt","PageSettingsRef","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g){"use strict";a={getRightsManagerSettingsURI:function(a){return b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",a).setString("tab","video_copyright_management").setString("ref",b("PageSettingsRef").VIDEO_COPYRIGHT).getURI()},getTitle:function(){return g._("Claim ad earnings")},getMessage:function(){return g._("Pages and profiles can now earn money through advertising breaks placed in their videos. If you find content posted by others that belongs to you, you may be able to claim a share of the ad earnings. Learn more.")}};e.exports=a}),null);
__d("VideoCopyrightGeoSearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","filterObject","forEachObject"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("AbstractSearchSource"));g&&g.prototype;a.prototype.searchImpl=function(a,c,d){__p&&__p();d===void 0&&({});var e=[];if(a){var f=a.toLowerCase();d=b("filterObject")(b("CopyrightCountryNames"),function(a){return a.toString().toLowerCase().includes(f)});var g=0;b("forEachObject")(d,function(a,c){e.push(new(b("SearchableEntry"))({order:g++,title:a,uniqueID:c}))})}c(e,a)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightMatchContentType",["ix","fbt","fbglyph"],(function(a,b,c,d,e,f,g,h){a={VIDEO_AND_AUDIO:{value:"VIDEO_AND_AUDIO",label:h._("Video and audio"),glyphs:[g("122523"),g("123754")]},VIDEO_ONLY:{value:"VIDEO_ONLY",label:h._("Video only"),glyphs:[g("122523")]},AUDIO_ONLY:{value:"AUDIO_ONLY",label:h._("Audio only"),glyphs:[g("123754")]}};e.exports=a}),null);
__d("VideoCopyrightMatchPrivacyType",["fbt"],(function(a,b,c,d,e,f,g){a={PUBLIC_ONLY:{value:"PUBLIC_ONLY",label:g._("Public videos only")},PRIVATE_ONLY:{value:"PRIVATE_ONLY",label:g._("Private videos only")},PUBLIC_OR_PRIVATE:{value:"PUBLIC_OR_PRIVATE",label:g._("Both public and private videos")}};e.exports=a}),null);
__d("VideoCopyrightOverlapType",["fbt"],(function(a,b,c,d,e,f,g){a={OVERLAP_DURATION:{value:"OVERLAP_DURATION",label:g._("mins")},REFERENCE_OVERLAP_PERCENTAGE:{value:"REFERENCE_OVERLAP_PERCENTAGE",label:g._("\u0025 of reference file")},MATCH_OVERLAP_PERCENTAGE:{value:"MATCH_OVERLAP_PERCENTAGE",label:g._("\u0025 of matching video")}};e.exports=a}),null);
__d("VideoCopyrightMatchPrivacyTypeName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PUBLIC_ONLY:"PUBLIC_ONLY",PRIVATE_ONLY:"PRIVATE_ONLY",PUBLIC_OR_PRIVATE:"PUBLIC_OR_PRIVATE"})}),null);
__d("VideoCopyrightPrivacyType",["fbt","VideoCopyrightMatchPrivacyTypeName"],(function(a,b,c,d,e,f,g){c=(a={},a[b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY]={value:"PUBLIC_ONLY",label:g._("Public"),summaryLabel:g._("Public")},a[b("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY]={value:"PRIVATE_ONLY",label:g._("Limited"),summaryLabel:g._("Limited")},a);e.exports=c}),null);
__d("PolicyRuleAction",[],(function(a,b,c,d,e,f){__p&&__p();var g=0;function a(a,b){"use strict";this.$1=a,this.$2=b||[],this.$3=++g}a.prototype.getActionType=function(){"use strict";return this.$1};a.prototype.getID=function(){"use strict";return this.$3};a.prototype.getConditions=function(){"use strict";return this.$2};a.prototype.pushCondition=function(a){"use strict";this.$2.push(a)};a.prototype.pushConditionByIndex=function(a,b){"use strict";this.$2.splice(b,0,a)};a.prototype.removeCondition=function(a){"use strict";a=this.$2.indexOf(a);this.$2.splice(a,1)};a.prototype.setActionType=function(a){"use strict";this.$1=a};a.prototype.areConditionsValid=function(){"use strict";return this.$2.every(function(a){return a.isValid&&a.isValid()})};e.exports=a}),null);
__d("PolicyRuleCondition",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b,c){"use strict";this.$1=a,this.$2=b,this.$3=c,this.$4=null}a.prototype.getConditionType=function(){"use strict";return this.$1};a.prototype.setConditionType=function(a){"use strict";this.$1=a};a.prototype.getOption=function(){"use strict";return this.$2};a.prototype.setOption=function(a){"use strict";this.$2=a};a.prototype.getValue=function(){"use strict";return this.$3};a.prototype.setValue=function(a){"use strict";this.$3=a};a.prototype.isValid=function(){"use strict";return this.getError()==null};a.prototype.setCustomError=function(a){"use strict";this.$4=a};a.prototype.getError=function(a){"use strict";if(this.$4)return this.$4;a=a?a:this.$3;if(!a||a.length===0)return g._("Provide a value for this condition.")};e.exports=a}),null);
__d("PolicyRuleTokenizedTypeahead.react",["React","SearchableEntry","SortedCopyrightCountryCodes","XUITokenizer.react"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={entries:[],queryString:"",searchSource:this.props.searchSource},this.$2=function(a){var b=this.props.value;b.push(a.getUniqueID().toString());this.props.onEntriesUpdated(b)}.bind(this),this.$3=function(a){var b=this.props.value;b.splice(b.indexOf(a.getUniqueID().toString()),1);this.props.onEntriesUpdated(b)}.bind(this),this.$4=function(a){this.setState({queryString:a.target.value})}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.$1(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.$1(a)};a.prototype.$1=function(a){"use strict";__p&&__p();var c=[],d=0,e=b("SortedCopyrightCountryCodes").filter(function(b){return a.value.indexOf(b)!==-1});e.forEach(function(e){if(a.searchSourceLabels[e]){e=new(b("SearchableEntry"))({order:d,title:a.searchSourceLabels?a.searchSourceLabels[e]:e,uniqueID:e});c.push(e);d++}});this.setState({entries:c,searchSource:a.searchSource})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUITokenizer.react"),{className:this.props.className,disabled:this.props.disabled,entries:this.state.entries,onAddEntryAttempt:this.$2,onQueryStringChange:this.$4,onRemoveEntryAttempt:this.$3,placeholder:this.props.placeholder,searchSource:this.state.searchSource,viewStyle:"textonly",xuiError:this.props.error})};a.propTypes={className:c.string,disabled:c.bool,name:c.string.isRequired,error:c.string,placeholder:c.string,searchSource:c.object,searchSourceLabels:c.object,onEntriesUpdated:c.func.isRequired,value:c.arrayOf(c.string).isRequired};e.exports=a}),null);
__d("GraphVideoCopyrightRuleValidityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVALID:"invalid",VALID:"valid"})}),null);
__d("VideoCopyrightRuleConditionOption",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={GREATER_THAN:{key:"GREATER_THAN",untranslated:"Greater than",text:g._("Greater than"),symbol:">"},GREATER_THAN_OR_EQUAL:{key:"GREATER_THAN_OR_EQUAL",untranslated:"Greater than or equal to",text:g._("Greater than or equal to"),symbol:"\u2265"},LESS_THAN:{key:"LESS_THAN",untranslated:"Less than",text:g._("Less than"),symbol:"<"},LESS_THAN_OR_EQUAL:{key:"LESS_THAN_OR_EQUAL",untranslated:"Less than or equal to",text:g._("Less than or equal to"),symbol:"\u2264"},IN_SET:{key:"IN_SET",untranslated:"Is",text:g._("Is"),alias:"INCLUDE"},NOT_IN_SET:{key:"NOT_IN_SET",untranslated:"Is not",text:g._("Is not"),alias:"NOT_INCLUDE"},IS:{key:"IS",untranslated:"Is",text:g._("Is")},INCLUDE:{key:"INCLUDE",untranslated:"Include countries",text:g._("Include countries"),alias:"IN_SET"},NOT_INCLUDE:{key:"NOT_INCLUDE",untranslated:"Not include countries",text:g._("Exclude countries"),alias:"NOT_IN_SET"},WORLDWIDE:{key:"WORLDWIDE",untranslated:"Worldwide",text:g._("Worldwide")}};e.exports=a}),null);
__d("VideoCopyrightRuleCondition",["ClockFormatConverter","PolicyRuleCondition","VideoCopyrightMatchContentType","VideoCopyrightMatchPrivacyTypeName","VideoCopyrightPublisherType","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields","VideoCopyrightRuleOperatorType"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){return{startDate:a.start_date,endDate:a.end_date,useLocalTime:a.use_local_time!=null?a.use_local_time:!1}}c=babelHelpers.inherits(a,b("PolicyRuleCondition"));g=c&&c.prototype;function a(a,b,c){"use strict";g.constructor.call(this,a,b,c)}a.prototype.validityPeriodToAPI=function(){"use strict";var a=this.getValue();return a==null?null:{start_date:a.startDate,end_date:a.endDate!=null?a.endDate:null,use_local_time:a.useLocalTime}};a.prototype.toAPI=function(){"use strict";var a={},c=this.getValue();a[b("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleOperatorType")[this.getOption()];this.getConditionType()===b("VideoCopyrightRuleConditionType").OVERLAP_DURATION?c=b("ClockFormatConverter").timestampToMillis(c):this.getConditionType()===b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD&&(c=this.validityPeriodToAPI());a[b("VideoCopyrightRuleGraphFields").VALUE]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";__p&&__p();var a={},c=this.getValue();a[b("VideoCopyrightRuleGraphFields").TYPE]=this.getConditionType();this.getConditionType()===b("VideoCopyrightRuleConditionType").GEO?(a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleConditionOption")[this.getOption()].alias,this.getOption()===b("VideoCopyrightRuleConditionOption").WORLDWIDE.key&&(a[b("VideoCopyrightRuleGraphFields").OPERATOR]="IN_SET")):a[b("VideoCopyrightRuleGraphFields").OPERATOR]=b("VideoCopyrightRuleOperatorType")[this.getOption()];this.getConditionType()===b("VideoCopyrightRuleConditionType").OVERLAP_DURATION&&(c=b("ClockFormatConverter").timestampToMillis(c));this.getConditionType()===b("VideoCopyrightRuleConditionType").PRIVACY&&Array.isArray(c)&&(c.length>1?c=b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE:c=c[0]);this.getConditionType()===b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE&&Array.isArray(c)&&(c=c[0]);this.getConditionType()===b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD&&(c=this.validityPeriodToAPI());a[b("VideoCopyrightRuleGraphFields").VALUE]=c;return a};a.fromAPI=function(a){"use strict";__p&&__p();var c=a[b("VideoCopyrightRuleGraphFields").TYPE],d=a[b("VideoCopyrightRuleGraphFields").OPERATOR];a=a[b("VideoCopyrightRuleGraphFields").VALUE];switch(c){case b("VideoCopyrightRuleConditionType").OVERLAP_DURATION:a=b("ClockFormatConverter").millisToTimestamp(parseInt(a,10)).toString();break;case b("VideoCopyrightRuleConditionType").MONITORING_TYPE:a=Array.isArray(a)?a:a.split(",");break;case b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD:a=h(a);break}return new this(c,d,a)};a.fromAPIforNewMatchRule=function(a,c){"use strict";__p&&__p();var d=a[b("VideoCopyrightRuleGraphFields").TYPE],e=a[b("VideoCopyrightRuleGraphFields").OPERATOR],f=a[b("VideoCopyrightRuleGraphFields").VALUE];switch(d){case b("VideoCopyrightRuleConditionType").OVERLAP_DURATION:f=b("ClockFormatConverter").millisToTimestamp(parseInt(f,10)).toString();break;case b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE:case b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE:f=f.toString();break;case b("VideoCopyrightRuleConditionType").GEO:f.includes("Worldwide")?(e=b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,f=["Worldwide"]):b("VideoCopyrightRuleConditionOption")[a[b("VideoCopyrightRuleGraphFields").OPERATOR]].alias&&(e=b("VideoCopyrightRuleConditionOption")[a[b("VideoCopyrightRuleGraphFields").OPERATOR]].alias);break;case b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE:f=Array.isArray(f)?f:[f];if(f.length===Object.keys(b("VideoCopyrightPublisherType")).length&&!c)return null;break;case b("VideoCopyrightRuleConditionType").MONITORING_TYPE:f=Array.isArray(f)?f:[f];if(f.length===Object.keys(b("VideoCopyrightMatchContentType")).length&&!c)return null;break;case b("VideoCopyrightRuleConditionType").PRIVACY:a=[b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_ONLY,b("VideoCopyrightMatchPrivacyTypeName").PRIVATE_ONLY];if(f===b("VideoCopyrightMatchPrivacyTypeName").PUBLIC_OR_PRIVATE){if(!c)return null;f=a}else{f=Array.isArray(f)?f:[f];if(f.length===a.length&&!c)return null}break;case b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD:f=h(f);break}return new this(d,e,f)};e.exports=a}),null);
__d("VideoCopyrightRuleConditionButtonSelector.react",["cx","Image.react","React","Tooltip","VideoCopyrightRuleCondition","XUIButton.react","XUIButtonGroup.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=function(b,a){var c=a.condition.getValue().indexOf(b);a=a.condition.getValue();if(c===-1)a.push(b);else{if(a.length<=1)return a;a.splice(c,1)}return a},d=Object.keys(a.VideoCopyrightSelectorOptionType);d=d.map(function(d){var e=a.VideoCopyrightSelectorOptionType[d];d=e.glyphs;var f;d?(d=d.map(function(a,c){return b("React").createElement(b("Image.react"),{className:"_3bc-",key:e.value+c,src:a})}),f=b("Tooltip").propsFor(e.label)):(d=e.label,f={});return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({className:"_f66",onClick:function(){a.onValueUpdated(c(e.value,a))},disabled:a.isDisabled,key:e.value,depressed:a.condition.getValue().includes(e.value),value:e.value,label:d},f))});return b("React").createElement(b("XUIButtonGroup.react"),{className:"_f67"+(a.isDisabled?" _f68":"")},d)}e.exports=a}),null);
__d("RightsManagerDegradedServiceLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALACORN_RESPONSE_RECEIVED:"alacorn_response_received",AUDIO_COPYRIGHT_API_ERROR:"audio_copyright_api_error",VIDEO_COPYRIGHT_API_ERROR:"video_copyright_api_error",MUSIC_WORK_COPYRIGHT_API_ERROR:"music_work_copyright_api_error",COPYRIGHT_UGC_MATCH_API_ERROR:"copyright_ugc_match_api_error",COPYRIGHT_REF_MATCH_API_ERROR:"copyright_ref_match_api_error",REFERENCE_EDIT_DIALOG_ERROR:"reference_edit_dialog_error",VIDEO_COPYRIGHT_POST_ERROR:"video_copyright_post_error",AUDIO_COPYRIGHT_POST_ERROR:"audio_copyright_post_error",COPYRIGHT_MATCH_RULE_POST_ERROR:"copyright_match_rule_post_error",TAKEDOWN_REPORT_CREATION_ERROR:"takedown_report_creation_error",BLOCKED_TABLE_UI_ERROR:"blocked_table_ui_error",CLAIMED_TABLE_UI_ERROR:"claimed_table_ui_error",MONITORED_TABLE_UI_ERROR:"monitored_table_ui_error",MANUAL_REVIEW_TABLE_UI_ERROR:"manual_review_table_ui_error",REPORTED_TABLE_UI_ERROR:"reported_table_ui_error",REF_CONFLICT_TABLE_UI_ERROR:"ref_conflict_table_ui_error",REF_POSSIBLE_CONFLICT_TABLE_UI_ERROR:"ref_possible_conflict_table_ui_error",REF_RESOLUTION_TABLE_UI_ERROR:"ref_resolution_table_ui_error",REF_FILE_TABLE_UI_ERROR:"ref_file_table_ui_error",CS_MATCHING_VIDEOS_TABLE_UI_ERROR:"cs_matching_videos_table_ui_error",CS_SETTINGS_UI_ERROR:"cs_settings_ui_error",CS_COMPOSITIONS_TABLE_UI_ERROR:"cs_compositions_table_ui_error",DISPUTE_TABLE_UI_ERROR:"dispute_table_ui_error",TAKEDOWN_TABLE_UI_ERROR:"takedown_table_ui_error",UNSENT_REPORT_TABLE_UI_ERROR:"unsent_report_table_ui_error",VALIDITY_PERIOD_TIMESTAMP_INVALID_DATA:"validity_period_timestamp_invalid_data",MANUAL_CLAIM_FB_TABLE_UI_ERROR:"manual_claim_fb_table_ui_error",MANUAL_CLAIM_IG_TABLE_UI_ERROR:"manual_claim_ig_table_ui_error"})}),null);
__d("VideoCopyrightRuleConditionUtil",["cx","fbt","AdsIncrementalNumberInput.react","DateTime","Image.react","React","RightsManagerDegradedServiceLoggerEvent","RightsManagerDegradedServiceTypedLogger","Timezone","VideoCopyrightRuleConditionType","asset","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Timezone").PST8PDT;a={renderOverlapPercentageInput:function(a,c,d,e){a.getValue()||a.setValue("");var f=a.getConditionType();f=f===b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE?"the matched video":"your video";return b("React").createElement("span",null,b("React").createElement(b("AdsIncrementalNumberInput.react"),{className:"_4peg",disabled:d,max:100,min:0,onChange:function(a){a<=100&&c(a)},value:parseInt(a.getValue(),10),xuiError:e?a.getError():null})," ",b("React").createElement("span",{className:"_4_6i _2piv"},h._({"the matched video":"\u0025 over the matched video","your video":"\u0025 over your video"},[h._enum(f,{"the matched video":"the matched video","your video":"your video"})])))},getValidityPeriodWarning:function(a){var c=null,d=null;try{a.useLocalTime?(c=a.startDate!=null?b("DateTime").create(a.startDate,i).format("M j, Y g:i A"):null,d=a.endDate!=null&&a.endDate!=0?b("DateTime").create(a.endDate,i).format("M j, Y g:i A"):null):(c=a.startDate!=null?b("formatDate")(a.startDate,"M j, Y g:i A"):null,d=a.endDate!=null&&a.endDate!=0?b("formatDate")(a.endDate,"M j, Y g:i A"):null)}catch(a){new(b("RightsManagerDegradedServiceTypedLogger"))().setEvent(b("RightsManagerDegradedServiceLoggerEvent").VALIDITY_PERIOD_TIMESTAMP_INVALID_DATA).setExceptionMessage(a.message).setExceptionClass(a.name).setExceptionStack(a.stack.split("\n")).log(),c=null,d=null}return c!=null?b("React").createElement("span",null,h._("This action is valid from {start date is a date value}",[h._param("start date is a date value",c)])," ",d?h._("to {end date is a date value}",[h._param("end date is a date value",d)]):null,a.useLocalTime?h._("for each local time zone"):null," ",d==null?h._("and doesn't expire"):null):b("React").createElement("span",null,h._("The provided date range was invalid."))}};e.exports=a}),null);
__d("VideoCopyrightRuleOverlapAddDeletButton.react",["ix","cx","Image.react","React","VideoCopyrightRuleCondition","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement("span",null,a.shouldShowDeleteButton?b("React").createElement(b("Image.react"),{className:"_12w_",onClick:function(){return a.onConditionDelete(a.condition)},src:g("124318")}):null,a.shouldShowAddButton?b("React").createElement(b("Image.react"),{className:"_12w_",onClick:a.onConditionAdded,src:g("125014")}):null)};e.exports=a}),null);
__d("VideoCopyrightRuleOverlapPercentageInput.react",["cx","React","VideoCopyrightRuleCondition","XUITextInput.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return b("React").createElement(b("XUITextInput.react"),{className:"_431y",max:"100",disabled:a.isDisabled,onBlur:function(){var b=a.condition.getValue();if(!b||b.length===0||isNaN(b)){a.onValueUpdated("");return}Number(b)>100&&a.onValueUpdated("100")},onChange:function(b){return a.onValueUpdated(b.target.value)},placeholder:"0",value:a.condition.getValue(),xuiError:a.showError?a.condition.getError():null})}e.exports=a}),null);
__d("VideoCopyrightRuleOverlapTypeSelector.react",["cx","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","VideoCopyrightOverlapType","VideoCopyrightRuleCondition"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",{className:"_ivl"},b("React").createElement(b("SUISelector.react"),{value:this.props.condition.getConditionType(),theme:b("SUIBusinessTheme"),disabled:this.props.isDisabled,onChange:function(a){return this.props.onOverlapTypeUpdated(a)}.bind(this)},Object.keys(b("VideoCopyrightOverlapType")).map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{value:a,key:a},b("VideoCopyrightOverlapType")[a].label)})))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoCopyrightRuleConditionRowConfig",["cx","fbt","ClockFormatConverter","CopyrightCountryNames","DateTime","PolicyRuleTokenizedTypeahead.react","React","VideoCopyrightGeoSearchSource","VideoCopyrightMatchContentType","VideoCopyrightPrivacyType","VideoCopyrightPublisherType","VideoCopyrightRuleActionType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionButtonSelector.react","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionType","VideoCopyrightRuleConditionUtil","VideoCopyrightRuleOverlapAddDeletButton.react","VideoCopyrightRuleOverlapPercentageInput.react","VideoCopyrightRuleOverlapTypeSelector.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=new(b("VideoCopyrightGeoSearchSource"))();a={GEO:{label:h._("Apply this action"),labelForLite:h._("Apply these settings"),options:[b("VideoCopyrightRuleConditionOption").WORLDWIDE,b("VideoCopyrightRuleConditionOption").INCLUDE,b("VideoCopyrightRuleConditionOption").NOT_INCLUDE],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").GEO,b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,["Worldwide"])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").GEO,b("VideoCopyrightRuleConditionOption").WORLDWIDE.key,["Worldwide"])},renderValueInput:function(a,c,d,e){return a.getOption()==b("VideoCopyrightRuleConditionOption").WORLDWIDE.key?null:b("React").createElement(b("PolicyRuleTokenizedTypeahead.react"),{className:"_drg _4peh _345w",disabled:d,error:e?a.getError():null,name:"typeahead",onEntriesUpdated:c,placeholder:h._("Choose countries"),searchSource:i,searchSourceLabels:b("CopyrightCountryNames"),value:a.getValue()||[]})},getSummary:function(a,c){if(a===b("VideoCopyrightRuleConditionOption").INCLUDE.key)return h._({"*":"Include {number} countries","_1":"Include 1 country"},[h._plural(c.length,"number")]);else if(a===b("VideoCopyrightRuleConditionOption").NOT_INCLUDE.key)return h._({"*":"Exclude {number} countries","_1":"Exclude 1 country"},[h._plural(c.length,"number")]);else if(a===b("VideoCopyrightRuleConditionOption").WORLDWIDE.key)return h._("Worldwide");return null}},OVERLAP_DURATION:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").GREATER_THAN_OR_EQUAL,b("VideoCopyrightRuleConditionOption").LESS_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN_OR_EQUAL],createCondition:function(a){a===void 0&&(a="");return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,a)},createConditionForTemplate:function(a){__p&&__p();var c="";switch(a){case b("VideoCopyrightRuleActionType").MONETIZE:c="5:00";break;case b("VideoCopyrightRuleActionType").BLOCK:c="5:00";break;case b("VideoCopyrightRuleActionType").TRACK:c="3:00";break;case b("VideoCopyrightRuleActionType").MANUAL_REVIEW:c="1:00";break}return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,c)},renderValueInput:function(a,c,d,e){a.getValue()||a.setValue("");return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("XUITextInput.react"),{className:"_431y",disabled:d,onBlur:function(){var d=a.getValue();if(!d||d.length===0)return;var e=b("ClockFormatConverter").normalizeMinutesTimestamp(d);e==="0"?c(""):e!==d&&c(e)},onChange:function(a){a=a.target.value;b("ClockFormatConverter").validate(a,!0)&&c(a)},placeholder:h._("00 {Time separator} 00",[h._param("Time separator",b("ClockFormatConverter").TIME_SEPARATOR)]),value:a.getValue(),xuiError:e?a.getError():null}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},getSummary:function(a,c){return!c?null:h._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a time string e.g. 1:00} minute(s)",[h._param("math symbol e.g. > or <",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a time string e.g. 1:00",c)])}},REFERENCE_OVERLAP_PERCENTAGE:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").GREATER_THAN_OR_EQUAL,b("VideoCopyrightRuleConditionOption").LESS_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN_OR_EQUAL],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").REFERENCE_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function(a,c,d,e){return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:a,onValueUpdated:c,isDisabled:d,showError:e}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,getSummary:function(a,c){return!c?null:h._("Overlap {math symbol e.g. > or \u003C} {Condition value will be a percentage e.g. 0-100}\u0025 of reference file",[h._param("math symbol e.g. > or <",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a percentage e.g. 0-100",c)])}},MATCH_OVERLAP_PERCENTAGE:{label:h._("Overlap"),options:[b("VideoCopyrightRuleConditionOption").GREATER_THAN,b("VideoCopyrightRuleConditionOption").GREATER_THAN_OR_EQUAL,b("VideoCopyrightRuleConditionOption").LESS_THAN,b("VideoCopyrightRuleConditionOption").LESS_THAN_OR_EQUAL],createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MATCH_OVERLAP_PERCENTAGE,b("VideoCopyrightRuleConditionOption").GREATER_THAN.key,"")},renderValueInput:function(a,c,d,e){return b("React").createElement("span",{className:"_431x"},b("React").createElement(b("VideoCopyrightRuleOverlapPercentageInput.react"),{condition:a,onValueUpdated:c,isDisabled:d,showError:e}))},renderConditionTypeSelector:function(a,c,d){return b("React").createElement(b("VideoCopyrightRuleOverlapTypeSelector.react"),{condition:a,onOverlapTypeUpdated:c,isDisabled:d})},renderConditionAddDeleteButton:function(a,c,d,e,f,g){return g?null:b("React").createElement(b("VideoCopyrightRuleOverlapAddDeletButton.react"),{condition:a,onConditionDelete:c,onConditionAdded:f,shouldShowAddButton:d,shouldShowDeleteButton:e})},nextConditionToAdd:b("VideoCopyrightRuleConditionType").OVERLAP_DURATION,getSummary:function(a,c){return!c?null:h._("Overlap {math symbol} {Condition value will be a percentage e.g. 0-100}\u0025 of matching file",[h._param("math symbol",b("VideoCopyrightRuleConditionOption")[a].symbol),h._param("Condition value will be a percentage e.g. 0-100",c)])}},MONITORING_TYPE:{label:h._("Content type"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MONITORING_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,b("VideoCopyrightMatchContentType").VIDEO_ONLY.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").MONITORING_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value,b("VideoCopyrightMatchContentType").VIDEO_ONLY.value,b("VideoCopyrightMatchContentType").AUDIO_ONLY.value])},renderValueInput:function(a,c,d,e){return b("React").createElement("div",null,b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightMatchContentType"),onValueUpdated:c,condition:a,isDisabled:d}))},getSummary:function(a,c){return c.map(function(a){return b("VideoCopyrightMatchContentType")[a].label}).join(", ")},getDetailedDescription:function(a,c){__p&&__p();if(!Array.isArray(c))return null;a=c.indexOf(b("VideoCopyrightMatchContentType").VIDEO_ONLY.value)!=-1;var d=c.indexOf(b("VideoCopyrightMatchContentType").AUDIO_ONLY.value)!=-1;c=c.indexOf(b("VideoCopyrightMatchContentType").VIDEO_AND_AUDIO.value)!=-1;if(a&&!d&&!c)return h._("Matches will only contain video segments matching your reference file, not any audio segments.");if(!a&&d&&!c)return h._("Matches will only contain audio segments matching your reference file, and no video segments.");if(!a&&!d&&c)return h._("Matches must contain both video and audio segments matching your reference file.");if(a&&d&&!c)return h._("Matches will contain either video or audio segments matching your reference file, but not both.");if(a&&!d&&c)return h._("Matches must contain video segments matching your reference file.");if(!a&&d&&c)return h._("Matches must contain audio segments matching your reference file.");return a&&d&&c?h._("Matches will contain any matching video or audio."):null}},PUBLISHER_TYPE:{label:h._("Publisher"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPublisherType").PAGE.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPublisherType").PAGE.value,b("VideoCopyrightPublisherType").PERSON.value])},renderValueInput:function(a,c,d,e){return b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightPublisherType"),onValueUpdated:c,condition:a,isDisabled:d})},getSummary:function(a,c){c.length===1?a=b("VideoCopyrightPublisherType")[c[0].toUpperCase()].summaryLabel:a=h._("Any");return h._("Publisher: {summary}",[h._param("summary",a)])}},PRIVACY:{label:h._("Privacy"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPrivacyType").PUBLIC_ONLY.value])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,[b("VideoCopyrightPrivacyType").PUBLIC_ONLY.value,b("VideoCopyrightPrivacyType").PRIVATE_ONLY.value])},renderValueInput:function(a,c,d,e){return b("React").createElement(b("VideoCopyrightRuleConditionButtonSelector.react"),{VideoCopyrightSelectorOptionType:b("VideoCopyrightPrivacyType"),onValueUpdated:c,condition:a,isDisabled:d})},getSummary:function(a,c){c.length===1?a=b("VideoCopyrightPrivacyType")[c[0]].summaryLabel:a=h._("Any");return h._("Privacy: {summary}",[h._param("summary",a)])}},VALIDITY_PERIOD:{label:h._("Validity period"),createCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD,b("VideoCopyrightRuleConditionOption").IS.key,[])},createDefaultCondition:function(){return new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD,b("VideoCopyrightRuleConditionOption").IS.key,[])},renderValueInput:function(){return b("React").createElement("span",null)},getSummary:function(a,c){return b("VideoCopyrightRuleConditionUtil").getValidityPeriodWarning(c)}}};e.exports=a}),null);
__d("VideoCopyrightRuleAction",["GraphVideoCopyrightRuleValidityStatus","PolicyRuleAction","VideoCopyrightMatchPrivacyType","VideoCopyrightRuleCondition","VideoCopyrightRuleConditionOption","VideoCopyrightRuleConditionRowConfig","VideoCopyrightRuleConditionType","VideoCopyrightRuleGraphFields"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("PolicyRuleAction"));g=c&&c.prototype;function a(a,c,d){d===void 0&&(d=!0),(!c||!c.length)&&(c=[new(b("VideoCopyrightRuleCondition"))(b("VideoCopyrightRuleConditionType").PRIVACY,b("VideoCopyrightRuleConditionOption").IS.key,b("VideoCopyrightMatchPrivacyType").PUBLIC_ONLY.value)]),g.constructor.call(this,a,c),this.$VideoCopyrightRuleAction2=d}a.prototype.getIsValid=function(){"use strict";return this.$VideoCopyrightRuleAction2};a.prototype.getConditionWithType=function(a){"use strict";return this.getConditions().find(function(b){return b.getConditionType()===a})};a.prototype.hasConditionType=function(a){"use strict";return!!this.getConditions().find(function(b){return b.getConditionType()===a})};a.prototype.toAPI=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var c=this.getConditions().map(function(a){return a.toAPI()});a[b("VideoCopyrightRuleGraphFields").CONDITIONS]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";__p&&__p();var a={};a[b("VideoCopyrightRuleGraphFields").ACTION]=this.getActionType();var c=this.getConditions().filter(function(a){return a.getValue()&&a.getValue().length>0||a.getConditionType()===b("VideoCopyrightRuleConditionType").VALIDITY_PERIOD}).filter(function(a){return a.getConditionType()===b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE?a.getValue().length!==2:!0}).map(function(a){return a.toAPIforNewMatchRule()});a[b("VideoCopyrightRuleGraphFields").CONDITIONS]=c.filter(function(a){return a.operator!=null});return a};a.fromAPI=function(a){"use strict";var c=a[b("VideoCopyrightRuleGraphFields").ACTION],d=(a[b("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).map(function(a){return b("VideoCopyrightRuleCondition").fromAPI(a)});a=a[b("VideoCopyrightRuleGraphFields").VALIDITY_STATUS]!==b("GraphVideoCopyrightRuleValidityStatus").INVALID;c=new this(c,d,a);return c};a.fromAPIforNewMatchRule=function(a,c){"use strict";__p&&__p();var d=a[b("VideoCopyrightRuleGraphFields").ACTION],e=[];(a[b("VideoCopyrightRuleGraphFields").CONDITIONS]||[]).forEach(function(a){a=b("VideoCopyrightRuleCondition").fromAPIforNewMatchRule(a,c);a&&e.push(a)});a=a[b("VideoCopyrightRuleGraphFields").VALIDITY_STATUS]!==b("GraphVideoCopyrightRuleValidityStatus").INVALID;d=new this(d,e,a);d.hasConditionType(b("VideoCopyrightRuleConditionType").GEO)||d.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").GEO.createDefaultCondition(),0);!d.hasConditionType(b("VideoCopyrightRuleConditionType").PRIVACY)&&c&&d.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").PRIVACY.createDefaultCondition(),d.getConditions().length);!d.hasConditionType(b("VideoCopyrightRuleConditionType").PUBLISHER_TYPE)&&c&&d.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").PUBLISHER_TYPE.createDefaultCondition(),d.getConditions().length-1);!d.hasConditionType(b("VideoCopyrightRuleConditionType").MONITORING_TYPE)&&c&&d.pushConditionByIndex(b("VideoCopyrightRuleConditionRowConfig").MONITORING_TYPE.createDefaultCondition(),d.getConditions().length-2);return d};a.fromAction=function(a){"use strict";return new this(a.$VideoCopyrightRuleAction1,a.getConditions(),a.getIsValid())};e.exports=a}),null);
__d("VideoCopyrightRule",["VideoCopyrightRuleAction","VideoCopyrightRuleGraphFields"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d){"use strict";this.$3=a||[],this.$2=b,this.$1=c,this.$4=d!=null?d:!1}a.prototype.getActions=function(){"use strict";return this.$3};a.prototype.isEmpty=function(){"use strict";return this.$3.length===0};a.prototype.pushAction=function(a){"use strict";this.$3.push(a)};a.prototype.removeAction=function(a){"use strict";a=this.$3.indexOf(a);this.$3.splice(a,1)};a.prototype.moveActionByIndex=function(a,b){"use strict";this.$3.splice(b,0,this.$3.splice(a,1)[0])};a.prototype.replaceActionType=function(a,b){"use strict";var c=this.$3.find(function(b){return b.getActionType()===a});if(c==null)return;c.setActionType(b)};a.prototype.removeActionByActionType=function(a){"use strict";var b=this.$3.find(function(b){return b.getActionType()===a});b&&this.removeAction(b)};a.prototype.hasName=function(){"use strict";return this.$2!=null&&this.$2.toString().trim().length>0};a.prototype.getName=function(){"use strict";return this.$2||""};a.prototype.setName=function(a){"use strict";this.$2=a};a.prototype.getID=function(){"use strict";return this.$1};a.prototype.isDisabled=function(){"use strict";return this.$4};a.prototype.toAPI=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").NAME]=this.$2;var c=this.$3.map(function(a){return a.toAPI()});a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=c;return a};a.prototype.toAPIforNewMatchRule=function(){"use strict";var a={};a[b("VideoCopyrightRuleGraphFields").NAME]=this.$2;var c=this.$3.map(function(a){return a.toAPIforNewMatchRule()});a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]=c;return a};a.fromAPI=function(a){"use strict";var c=a[b("VideoCopyrightRuleGraphFields").NAME],d=a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(a){return b("VideoCopyrightRuleAction").fromAPI(a)}):[];return new this(d,c,a.id,a.disabled)};a.fromRule=function(a){"use strict";return new this(a.getActions(),a.getName(),a.getID(),a.isDisabled())};a.fromAPIforNewMatchRule=function(a,c){c===void 0&&(c=!0);var d=a[b("VideoCopyrightRuleGraphFields").NAME],e=a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS]?a[b("VideoCopyrightRuleGraphFields").CONDITION_GROUPS].map(function(a){return b("VideoCopyrightRuleAction").fromAPIforNewMatchRule(a,c)}):[];return new this(e,d,a.id,a.disabled)};e.exports=a}),null);
__d("VideoAssetDeleteConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","PublishingToolsWebdriverTestDataIDs","React","VideoAssetPostsSelection.react","VideoUtils","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a);a=this.$1();var b=this.props.selectedOrganicPosts||a;this.state={selectedOrganicPosts:b,deleteAllOwnedPosts:b.length===a.length}}a.prototype.$2=function(){"use strict";var a=new Set();this.state.selectedOrganicPosts.forEach(function(b){a.add(b.videoAssetID)});return a.size};a.prototype.$3=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$4=function(){"use strict";this.props.onDelete(this.state.selectedOrganicPosts)};a.prototype.$5=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts)};a.prototype.$6=function(a){"use strict";a=a.find(function(a){return a.isOrigBroadcastAndCrossposted===!0});return a!==void 0};a.prototype.$7=function(a){"use strict";this.$6(a)&&(a=this.$1()),this.setState({selectedOrganicPosts:a,deleteAllOwnedPosts:this.$1().length===a.length})};a.prototype.$8=function(){"use strict";var a=this.$3();if(a>1)return this.$9();else return this.$10()};a.prototype.$9=function(){"use strict";var a=this.props.organicPostsByAsset,c=this.state.selectedOrganicPosts,d=this.$2(),e;this.$6(c)?e=h._("Only selected posts will be deleted. If an original live video is selected, all other crossposted videos will also be selected."):e=h._("Only ticked posts will be deleted");return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},h._({"s":{"s":"Your post that uses this video will be permanently deleted","p":"Your post that uses these videos will be permanently deleted"},"p":{"s":"Your posts that use this video will be permanently deleted","p":"Your posts that use these videos will be permanently deleted"}},[h._enum(c.length===1?"s":"p",{s:"post",p:"posts"}),h._enum(d===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{organicPostsByAsset:a,selectedOrganicPosts:c,tableCaption:e,onPostSelectionChange:this.$7.bind(this)}),this.$11(),this.$12(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8-",shade:"light",size:"meta1",display:"block"},h._("If you want to preserve the insights for these posts, you can expire them instead.")," ",this.$13()))};a.prototype.$13=function(){"use strict";var a=null;this.props.showCrosspostingHelpCenter&&(a=b("React").createElement(b("Link.react"),{href:"/business/help/1590463861209138",target:"_blank",className:"_50f3"},h._("Learn more")));return a};a.prototype.$11=function(){"use strict";if(!this.props.selectedOrganicPosts)return null;var a=this.$3();if(a===1)return null;var c=this.$2();return b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(a){this.setState({deleteAllOwnedPosts:a.target.checked,selectedOrganicPosts:a.target.checked?this.$1():this.props.selectedOrganicPosts||[]})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.deleteAllOwnedPosts}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{shade:"light",size:"header4",display:"block",weight:"normal"},h._({"s":"Delete all {count} of your posts that use this video","p":"Delete all {count} of your posts that use these videos"},[h._param("count",a),h._enum(c===1?"s":"p",{s:"this video",p:"these videos"})]))))};a.prototype.$10=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-95",shade:"light",size:"header4",display:"block"},h._("This post will be permanently deleted.")),this.$12(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8-",size:"meta1",display:"block"},h._("If you want to preserve the insights for this post, you can expire it instead.")),this.$13())};a.prototype.$14=function(){"use strict";var a=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,b=this.$3();if(b===1||a===1)return h._("Delete post?");else if(a>1)return h._("Delete posts?");else if(this.props.organicPostsByAsset.length>1)return h._("Delete videos?");else return h._("Delete video?")};a.prototype.$15=function(a){"use strict";__p&&__p();var b=a.selectedVideosCrosspostsCount;a=a.selectedVideosCount;if(b===1)return h._("This video is used by another Page in one post. That post will be removed.");else if(b>1)if(a===1)return h._("This video is used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[h._param("num_deleted_cross_posts",b)]);else return h._("These videos are used by other Pages in {num_deleted_cross_posts} posts. Those posts will be removed.",[h._param("num_deleted_cross_posts",b)]);return null};a.prototype.$12=function(){"use strict";if(!this.props.canDeleteCrosspostedVideos)return null;var a=b("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts),c=a.selectedVideosCrosspostsCount;return c===0?null:b("React").createElement("div",null,b("React").createElement(b("XUINotice.react"),{className:"_3-8o",use:"notify"},this.$15(a)))};a.prototype.renderExpireButton=function(){"use strict";return!this.props.canExpireVideos?null:b("React").createElement(b("XUIDialogButton.react"),{label:h._("Expire{dot dot dot (for truncation)}",[h._param("dot dot dot (for truncation)","...")]),action:"cancel",size:"large",use:"default",onClick:this.$5.bind(this)})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100,hideOnEscape:!0},b("React").createElement(b("XUIDialogTitle.react"),null,this.$14()),b("React").createElement(b("XUIDialogBody.react"),{className:"_2piq"},this.$8()),b("React").createElement(b("XUIDialogFooter.react"),{leftContent:this.renderExpireButton()},b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{"data-testid":b("PublishingToolsWebdriverTestDataIDs").DELETE_VIDEO,label:h._("Delete"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$4.bind(this)})))};e.exports=a}),null);
__d("VideoAssetExpireConfirmationDialog.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","LeftRight.react","React","VideoAssetPostsSelection.react","VideoUtils","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a);a=a.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[]);var b=this.props.selectedOrganicPosts||a;this.state={selectedOrganicPosts:b,removeSharePermission:!1,expireAllOwnedPosts:b.length===a.length}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$2=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])};a.prototype.$3=function(){"use strict";this.props.onExpire(this.state.selectedOrganicPosts,this.state.removeSharePermission)};a.prototype.$4=function(){"use strict";return this.props.organicPostsByAsset.filter(function(a){return a.isShared&&a.videoAssetOwnerID===this.props.pageID}.bind(this)).length};a.prototype.$5=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.reusedPostsCount},0)};a.prototype.$6=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.reusedPublishedPostsCount},0)};a.prototype.$7=function(a){"use strict";this.setState({selectedOrganicPosts:a,expireAllOwnedPosts:this.$2().length===a.length})};a.prototype.$8=function(){"use strict";var a=this.$1();if(a>1&&!this.props.disablePostSelection)return this.$9();else return this.$10()};a.prototype.$9=function(){"use strict";var a=this.props.organicPostsByAsset;return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block"},h._({"s":"Your posts that use this video will no longer be published","p":"Your posts that use these videos will no longer be published"},[h._enum(a.length===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{className:"_3-8x",organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:h._("Only ticked posts will be expired"),onPostSelectionChange:this.$7.bind(this)}),this.$11(),this.$12(),b("React").createElement(b("XUIText.react"),{className:"_3-8x",size:"header4",display:"block"},h._("The insights for these posts will be preserved.")))};a.prototype.$12=function(){"use strict";__p&&__p();if(!this.props.canRemoveSharePermission)return null;var a,c;this.props.disablePostSelection?c={selectedVideosCrosspostsCount:this.$5(),selectedVideosPublishedCrosspostsCount:this.$6(),selectedVideosCount:this.props.organicPostsByAsset.length,selectedOwnedVideosSharedCount:this.$4()}:c=b("VideoUtils").getSelectedVideosAndCrossPostsCount(this.props.pageID,this.props.organicPostsByAsset,this.state.selectedOrganicPosts);if(this.$4()===0)return null;if(this.state.removeSharePermission){var d=this.$13(c);d&&(a=b("React").createElement(b("XUINotice.react"),{className:"_3-8o",use:"notify"},d))}c.selectedVideosCount>1?d=h._("Remove permission from all other Pages to use these videos"):d=h._("Remove permission from all other Pages to use this video");return b("React").createElement("div",null,b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(a){this.setState({removeSharePermission:a.target.checked})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.removeSharePermission}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},d))),a)};a.prototype.$13=function(a){"use strict";__p&&__p();var b=a.selectedVideosPublishedCrosspostsCount;a=a.selectedVideosCount;if(b===1)return h._("This video is used by another Page in one post. That post will be unpublished.");else if(b>1)if(a===1)return h._("This video is used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[h._param("num_cross_posts",b)]);else return h._("These videos are used by other Pages in {num_cross_posts} posts. Those posts will be unpublished.",[h._param("num_cross_posts",b)]);return null};a.prototype.$11=function(){"use strict";var a=this.$1();return a===1?null:b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-8y",onChange:function(a){this.setState({expireAllOwnedPosts:a.target.checked,selectedOrganicPosts:a.target.checked?this.$2():this.props.selectedOrganicPosts||[]})}.bind(this)},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.expireAllOwnedPosts}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,b("React").createElement(b("XUIText.react"),{className:"_5gtt",size:"header4",weight:"normal"},h._("Expire all {count} of your posts that use this video",[h._param("count",a)]))))};a.prototype.$10=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},h._("This post will no longer be published.")),this.$11(),this.$12())};a.prototype.$14=function(){"use strict";var a=this.props.selectedOrganicPosts?this.props.selectedOrganicPosts.length:0,b=this.$1();if(b===1||a===1)return h._("Expire post?");else if(a>1)return h._("Expire posts?");else if(this.props.organicPostsByAsset.length>1)return h._("Expire videos?");else return h._("Expire video?")};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100,hideOnEscape:!0},b("React").createElement(b("XUIDialogTitle.react"),null,this.$14()),b("React").createElement(b("XUIDialogBody.react"),null,this.$8()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("span",null),b("React").createElement("span",null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Expire"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$3.bind(this)})))))};e.exports=a}),null);
__d("GenericVideoAssetGraphFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROADCAST_ID:"broadcast_id",BROADCAST_PLANNED_START_TIME:"broadcast_planned_start_time",CAN_VIEWER_EDIT:"can_viewer_edit",COPYRIGHT_MONITORING_STATUS:"copyright_monitoring_status",CREATED_TIME:"created_time",CREATOR:"creator",DESCRIPTION:"description",DOWNLOAD_SD_URL:"download_sd_url",DOWNLOAD_HD_URL:"download_hd_url",EMBEDDABLE:"embeddable",EXPIRATION:"expiration",SOCIAL_ACTIONS:"social_actions",FEED_TYPE:"feed_type",ID:"id",IS_CROSSPOSTING_ELIGIBLE:"is_crossposting_eligible",IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE:"is_crossposting_within_bm_eligible",IS_CROSSPOSTING_WITHIN_BM_ENABLED:"is_crossposting_within_bm_enabled",IS_EPISODE:"is_episode",IS_FEATURED:"is_featured",IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE:"is_legacy_video_crossposting_eligible",IS_LIVE_PREMIERE:"is_live_premiere",IS_VIDEO_ASSET:"is_video_asset",LAST_ADDED_TIME:"last_added_time",LATEST_CREATOR:"latest_creator",LATEST_OWNED_DESCRIPTION:"latest_owned_description",LATEST_OWNED_TITLE:"latest_owned_title",LENGTH:"length",LIVE_STATUS:"live_status",MONETIZATION_STATUS:"monetization_status",NO_STORY:"no_story",OWNER_ID:"owner_id",OWNER_NAME:"owner_name",OWNER_PICTURE:"owner_picture",OWNER_POST_STATE:"owner_post_state",PERMALINK_URL:"permalink_url",PREMIERE_LIVING_ROOM_STATUS:"premiere_living_room_status",POSTS_COUNT:"posts_count",POSTS_IDS:"posts_ids",POSTS_STATUS:"posts_status",PUBLISHED:"published",SECRET:"secret",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SEASON:"season",STATUS:"status",STREAM_URL:"stream_url",SECURE_STREAM_URL:"secure_stream_url",THUMBNAIL:"picture",THUMBNAIL_WHILE_ENCODING:"thumbnail_while_encoding",TITLE:"title",VIEWS:"views",VIDEO_POSTS:"video_posts",VIDEO_STATS:"video_stats"})}),null);
__d("VideoAssetPublishConfirmationDialog.react",["cx","fbt","LeftRight.react","React","VideoAssetPostsSelection.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.state={selectedOrganicPosts:this.props.selectedOrganicPosts||a.organicPostsByAsset.reduce(function(a,b){return a.concat(b.posts)},[])}}a.prototype.$1=function(){"use strict";return this.props.organicPostsByAsset.reduce(function(a,b){return a+b.posts.length},0)};a.prototype.$2=function(){"use strict";this.props.onPublish(this.state.selectedOrganicPosts)};a.prototype.$3=function(a){"use strict";this.setState({selectedOrganicPosts:a})};a.prototype.$4=function(){"use strict";var a=this.$1();if(a>1)return this.$5();else return this.$6()};a.prototype.$5=function(){"use strict";var a=this.props.organicPostsByAsset;return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-95",shade:"medium",size:"header4",display:"block",weight:"bold"},h._({"s":"Your posts using this video will be published","p":"Your posts that use these videos will be published"},[h._enum(a.length===1?"s":"p",{s:"this video",p:"these videos"})])),b("React").createElement(b("VideoAssetPostsSelection.react"),{organicPostsByAsset:this.props.organicPostsByAsset,selectedOrganicPosts:this.state.selectedOrganicPosts,tableCaption:h._("Only ticked posts will be published"),onPostSelectionChange:this.$3.bind(this)}))};a.prototype.$6=function(){"use strict";return b("React").createElement(b("XUIText.react"),{className:"_3-95",size:"header4",display:"block"},h._("This post will be published."))};a.prototype.$7=function(){"use strict";var a=this.$1();if(a===1)return h._("Publish post?");else if(this.props.organicPostsByAsset.length>1)return h._("Publish videos?");else return h._("Publish video?")};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{width:450,shown:!0,fixedTopPosition:100},b("React").createElement(b("XUIDialogTitle.react"),null,this.$7()),b("React").createElement(b("XUIDialogBody.react"),null,this.$4()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("span",null),b("React").createElement("span",null,b("React").createElement(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Publish"),action:"cancel",size:"large",use:"confirm",disabled:this.state.selectedOrganicPosts.length===0,onClick:this.$2.bind(this)})))))};e.exports=a}),null);
__d("VideoAssetSelectorDialog.react",["fbt","LayerFadeOnHide","LayerHideOnEscape","React","VideoAssetPostsTable.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=655;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this.state={shown:!0}}a.prototype.$1=function(a,b){"use strict";a=this.props.videoAssetData.posts[b];b=[a];this.props.onSelect(b);this.setState({shown:!1})};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},shown:this.state.shown,width:i},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Schedule which post?")),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},b("React").createElement(b("VideoAssetPostsTable.react"),{onRowClick:this.$1.bind(this),organicPostsByAsset:[this.props.videoAssetData],columns:["profile","views","dateCreated"],showPostStateIndicator:this.props.showPostStateIndicator})))};e.exports=a}),null);
__d("VideoAssetWaterfallEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UI_EDIT_SELECTOR_OPEN:"ui.edit_selector_open",UI_EDIT_SELECTOR_CHOICE:"ui.edit_selector_choice",UI_NEW_POST_FROM_ASSET_START:"ui.new_post_from_asset_start",UI_NEW_POST_FROM_ASSET_FINISH:"ui.new_post_from_asset_finish",UI_NEW_POST_FROM_ASSET_FAILURE:"ui.new_post_from_asset_failure",UI_NEW_POST_FROM_ASSET_CAPTIONS_FAILURE:"ui.new_post_from_asset_captions_failure",UI_POST_DELETE_SELECTION:"ui.post_delete_selection",UI_POST_DELETE_START:"ui.post_delete_start",UI_POST_DELETE_FINISH:"ui.post_delete_finish",UI_POST_DELETE_FAILURE:"ui.post_delete_failure",UI_POST_EXPIRE_SELECTION:"ui.post_expire_selection",UI_POST_EXPIRE_START:"ui.post_expire_start",UI_POST_EXPIRE_FINISH:"ui.post_expire_finish",UI_POST_EXPIRE_FAILURE:"ui.post_expire_failure",POST_EXPIRE_START:"post_expire_start",POST_EXPIRE_FINISH:"post_expire_finish",POST_EXPIRE_FAILURE:"post_expire_failure",UI_ASSET_EXPIRE_REMOVE_SHARING_START:"ui.asset_expire_remove_sharing_start",UI_ASSET_EXPIRE_REMOVE_SHARING_FINISH:"ui.asset_expire_remove_sharing_finish",UI_ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"ui.asset_expire_remove_sharing_failure",ASSET_EXPIRE_REMOVE_SHARING_START:"asset_expire_remove_sharing_start",ASSET_EXPIRE_REMOVE_SHARING_FINISH:"asset_expire_remove_sharing_finish",ASSET_EXPIRE_REMOVE_SHARING_FAILURE:"asset_expire_remove_sharing_failure",ASSET_ENABLE_SHARING_START:"asset_enable_sharing_start",ASSET_ENABLE_SHARING_FINISH:"asset_enable_sharing_finish",ASSET_ENABLE_SHARING_FAILURE:"asset_enable_sharing_failure",ASSET_REMOVE_SHARING_START:"asset_remove_sharing_start",ASSET_REMOVE_SHARING_FINISH:"asset_remove_sharing_finish",ASSET_REMOVE_SHARING_FAILURE:"asset_remove_sharing_failure",UI_POST_PUBLISH_START:"ui.post_publish_start",UI_POST_PUBLISH_FINISH:"ui.post_publish_finish",UI_POST_PUBLISH_FAILURE:"ui.post_publish_failure",POST_PUBLISH_START:"post_publish_start",POST_PUBLISH_FINISH:"post_publish_finish",POST_PUBLISH_FAILURE:"post_publish_failure",UI_POST_SCHEDULE_START:"ui.post_schedule_start",UI_POST_SCHEDULE_FINISH:"ui.post_schedule_finish",UI_POST_SCHEDULE_FAILURE:"ui.post_schedule_failure",POST_SCHEDULE_START:"post_schedule_start",POST_SCHEDULE_FINISH:"post_schedule_finish",POST_SCHEDULE_FAILURE:"post_schedule_failure",ASSET_ENABLE_SHARING_WITH_BUSINESS_START:"asset_enable_sharing_with_business_start",ASSET_ENABLE_SHARING_WITH_PAGE_START:"asset_enable_sharing_with_page_start",ASSET_REMOVE_SHARING_WITH_BUSINESS_START:"asset_remove_sharing_with_business_start",ASSET_REMOVE_SHARING_WITH_PAGE_START:"asset_remove_sharing_with_page_start",ASSET_ENABLE_SHARING_WITH_BUSINESS_FINISH:"asset_enable_sharing_with_business_finish",ASSET_ENABLE_SHARING_WITH_PAGE_FINISH:"asset_enable_sharing_with_page_finish",ASSET_REMOVE_SHARING_WITH_BUSINESS_FINISH:"asset_remove_sharing_with_business_finish",ASSET_REMOVE_SHARING_WITH_PAGE_FINISH:"asset_remove_sharing_with_page_finish",ASSET_UPDATE_CROSSPOSTING_CONFIG_FAILURE:"asset_update_crossposting_config_failure",INVALID_CROSSPOSTING_CONFIG:"invalid_crossposting_config",ASSET_ADD_VIDEO_CAPTION:"asset_add_video_caption",VIDEO_SOFT_DELETE_CAPTION_ON_ASSET:"video_soft_delete_caption_on_asset",CROSSPOST_AUTO_CREATION_START:"crosspost_auto_creation_start",CROSSPOST_AUTO_CREATION_FINISH:"crosspost_auto_creation_finish",CROSSPOST_AUTO_CREATION_FAILURE:"crosspost_auto_creation_failure"})}),null);
__d("VideoContainerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LEGACY:0,CONTAINED_POST_ATTACHMENT:1,SAY_THANKS_DEPRECATED:2,LOOK_NOW_DEPRECATED:3,BROADCAST:4,ALBUM_MULTIMEDIA_POST:5,UNLISTED:6,NO_STORY:7,GOODWILL_ANNIVERSARY_DEPRECATED:8,PROFILE_VIDEO:9,DIRECT_INBOX:10,DIRECT_INBOX_REACTION:11,STORYLINE:12,GROUP_POST:14,ATLAS_VIDEO:15,LIVE_PHOTO:16,TEMP_MULTIMEDIA_POST:17,GOODWILL_ANNIVERSARY_PROMOTION_DEPRECATED:18,GOODWILL_VIDEO_SHARE:19,GOODWILL_VIDEO_PROMOTION:20,COPYRIGHT_REFERENCE_VIDEO:21,CANVAS:22,MOMENTS_VIDEO:23,APP_REVIEW_SCREENCAST:25,VIDEO_COMMENT:26,COPYRIGHT_REFERENCE_BROADCAST:27,OFFERS_VIDEO:28,JOB_APPLICATION_VIDEO:29,STORYLINE_WITH_EXTERNAL_MUSIC:30,JOB_OPENING_VIDEO:31,PAGE_SLIDESHOW_VIDEO:32,INSTANT_ARTICLE:33,PRODUCT_VIDEO:34,DIRECTED_POST_ATTACHMENT:35,PROFILE_INTRO_CARD:36,ISSUE_MODULE:37,GOODWILL_VIDEO_TOKEN_REQUIRED:38,INSTANT_APPLICATION_PREVIEW:39,REPLACE_VIDEO:40,FACECAST_DVR:41,PIXELCLOUD:42,SLIDESHOW_SHAKR:43,INSPIRATION_VIDEO:44,TAROT_DIGEST:45,SLIDESHOW_ANIMOTO:46,AUDIO_BROADCAST:47,LEARN:48,CULTURAL_MOMENT_DEPRECATED:49,YOUR_DAY:50,PAGES_COVER_VIDEO:51,GOODWILL_VIDEO_CONTAINED_SHARE:54,DCO_AD_ASSET_FEED:55,CONTAINED_POST_BROADCAST:56,QUICK_PROMOTION:57,DYNAMIC_ITEM_DISPLAY_BUNDLE:58,EVENT_TOUR:59,EVENT_COVER_VIDEO:60,AD_DERIVATIVE:61,CONTAINED_POST_AUDIO_BROADCAST:62,LIVE_CREATIVE_KIT_VIDEO:63,ALOHA_SUPERFRAME:64,INSTAGRAM_VIDEO_COPY:65,AD_BREAK_PREVIEW:66,ALOHA_CALL_VIDEO:67,STORY_ARCHIVE_VIDEO:68,BRAND_EQUITY_POLL_VIDEO:69,PROFILE_COVER_VIDEO:70,DYNAMIC_ITEM_VIDEO:71,PAGE_REVIEW_SCREENCAST:72,HEURISTIC_PREVIEW:73,GAME_CLIP:74,WOODHENGE:75,PREMIERE_SOURCE:76,PRIVATE_GALLERY_VIDEO:77,PROFILE_TO_PAGE_UPLOADED_VIDEO:80,KOTOTORO:81,DYNAMIC_TEMPLATE_VIDEO:82,INSTANT_GAME_CLIP:83,CANDIDATE_VIDEOS:84,FUNDRAISER_COVER_VIDEO:85,PROTON:86,BELL_POLL:87,CIVIC_PROPOSAL_COVER_VIDEO:88,HEURISTIC_CLUSTER_VIDEO:89,DCO_AUTOGEN_VIDEO:90,SOTTO_CONTENT:91,OCULUS_VENUES_BROADCAST:92,AGE_UP:93})}),null);
__d("XVideoAssetsExpireRemoveSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_asset/expire/remove_sharing/",{video_asset_id:{type:"FBID",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoAssetsPostsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_asset/posts/",{video_asset_ids:{type:"IntVector"},video_post_ids:{type:"IntVector"}})}),null);
__d("XVideoPostExpireController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/expire/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoPostPublishController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/publish/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoPostScheduleController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/schedule/",{video_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1},schedule_publish_time:{type:"Int",required:!0}})}),null);
__d("VideoUtils",["ix","cx","fbt","Promise","ActorURI","AsyncDialog","AsyncRequest","AsyncResponse","DOM","GenericVideoAssetGraphFields","Image.react","LiveStatusType","PageContentTabConfig","PostScheduleDialog.react","React","ReactDOM","UserAgent","VideoAssetContext","VideoAssetDeleteConfirmationDialog.react","VideoAssetExpireConfirmationDialog.react","VideoAssetInsightsSource","VideoAssetPublishConfirmationDialog.react","VideoAssetSelectorDialog.react","VideoAssetWaterfallEvent","VideoAssetWaterfallTypedLogger","VideoBroadcastAPIStatus","VideoContainerType","VideoContainerTypeInVideoLibrary","VideoFormattingUtils","VideoGraphFields","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XVideoAssetInsightsDialogController","XVideoAssetsExpireRemoveSharingController","XVideoAssetsPostsController","XVideoEditDialogController","XVideoPostExpireController","XVideoPostPublishController","XVideoPostScheduleController","fbglyph","getOwnObjectValues","goURI","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=1e3,l={formatTime:function(a){return b("VideoFormattingUtils").formatTime(a)},formatPercentage:function(a,c){return b("VideoFormattingUtils").formatPercentage(a,c)},showVideoManagementSurvey:function(a){a!==null&&a.show()},getLiveStatusType:function(a){if(a)if(a===b("VideoBroadcastAPIStatus").UNPUBLISHED||a===b("VideoBroadcastAPIStatus").LIVE)return b("LiveStatusType").IS_LIVE_BROADCAST;else if(a===b("VideoBroadcastAPIStatus").SCHEDULED_UNPUBLISHED||a===b("VideoBroadcastAPIStatus").SCHEDULED_LIVE)return b("LiveStatusType").SCHEDULED_LIVE_BROADCAST;else return b("LiveStatusType").WAS_LIVE_BROADCAST;return b("LiveStatusType").NOT_A_BROADCAST},convertRetentionValue:function(a,c,d){c=b("getOwnObjectValues")(c);c=c.length-1;return a>=c?Math.round(d):Math.round(a*d/c)},downloadURL:function(a){if(b("UserAgent").isBrowser("Firefox")||b("UserAgent").isBrowser("IE11"))b("goURI")(a);else{var c=b("DOM").create("a");c.download="";c.href=a;c.target="_blank";c.click()}},_fetchVideoAssetsPosts:function(a,c){var d=b("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_asset_ids",a).getURI();d=b("ActorURI").create(d,c);return new(b("Promise"))(function(a,c){b("AsyncDialog").send(new(b("AsyncRequest"))().setURI(d).setHandler(function(b){return a(b.payload)}).setErrorHandler(c))})},_fetchVideoAssetsPostsFromPosts:function(a,c,d){d===void 0&&(d=!0);var e=b("XVideoAssetsPostsController").getURIBuilder().setIntVector("video_post_ids",a).getURI();e=b("ActorURI").create(e,c);return new(b("Promise"))(function(a,c){c=new(b("AsyncRequest"))().setURI(e).setHandler(function(b){return a(b.payload)}).setErrorHandler(c);d?b("AsyncDialog").send(c):c.send()})},getSelectedVideosAndCrossPostsCount:function(a,b,c){var d=0,e=0,f=0,g=0;b.forEach(function(b){var h=b.reusedPostsCount,i=b.reusedPublishedPostsCount,j=b.posts.length,k=c.filter(function(a){return a.videoAssetID===b.videoAssetID}).length;k===j&&(a===b.videoAssetOwnerID&&(e+=h,f+=i,b.isShared&&g++),d++)});return{selectedVideosCrosspostsCount:e,selectedVideosPublishedCrosspostsCount:f,selectedVideosCount:d,selectedOwnedVideosSharedCount:g}},openVideoInsights:function(a,b,c){c===void 0&&(c=!1);var d=a.id;!a.is_video_asset&&a.video_asset_id&&a.video_asset_id!=0&&(d=a.video_asset_id);this.openVideoAssetInsightsDialog(d,b.page_id,c)},deleteVideoAssets:function(a,b,c,d){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmDeleteVideoAssets(a,b,void 0,c,d)}.bind(this))},_performVideoActionOnPosts:function(a,c,d){__p&&__p();var e=null;d&&(e=b("ReactDOM").render(b("React").createElement(m,null),b("DOM").create("div")));e&&e.show();var f=[];return b("Promise").all(a.map(function(a){return c(a).then(function(){return f.push(a)},function(a){a.error&&b("AsyncResponse").verboseErrorHandler(a)})})).then(function(){e&&e.hide();return f})},_getPostsFromVideoAssetsByID:function(a,b){var c=[];a.forEach(function(a){a.posts.forEach(function(a){b.indexOf(a.id)>=0&&c.push(a)})});return c},deleteVideoPosts:function(a,b,c,d){return this._fetchVideoAssetsPostsFromPosts(a,b).then(function(e){var f=this._getPostsFromVideoAssetsByID(e,a);return this._confirmDeleteVideoAssets(e,b,f,c,d)}.bind(this))},_confirmDeleteVideoAssets:function(a,c,d,e,f){return new(b("Promise"))(function(g,h){b("ReactDOM").render(b("React").createElement(b("VideoAssetDeleteConfirmationDialog.react"),{pageID:c,organicPostsByAsset:a,selectedOrganicPosts:d,onExpire:function(b){this._confirmExpireVideoAssets(a,c,b,e).done(g,h)}.bind(this),onDelete:function(b){this._deleteVideoPosts(b,a,c,e).done(g,h)}.bind(this),canDeleteCrosspostedVideos:l._canDeleteCrosspostedVideos,showCrosspostingHelpCenter:f,canExpireVideos:this._filterNonExpiredPublishedPosts(a).length!==0}),b("DOM").create("div"))}.bind(this))},_deleteVideoPosts:function(a,c,d,e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_DELETE_SELECTION).setPageID(d).setIsBulk(1).setVideoAssetIds(c.map(function(a){return a.videoAssetID})).setVideoIds(a.map(function(a){return a.id})).setSource(e).log();return this._performVideoActionOnPosts(a,this._deleteVideoPost.bind(this,e),d)},_deleteVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_start").setPageID(d).setVideoID(c.id).setSource(a).log(),new(b("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:c.id,redirect:!1}).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_finish").setPageID(d).setVideoID(c.id).setSource(a).log(),e()}).setErrorHandler(function(e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_delete_failure").setPageID(d).setVideoID(c.id).setSource(a).log(),f(e)}).send()})},getLiveStatusTypeName:function(a){var c="NOT_A_BROADCAST";Object.keys(b("LiveStatusType")).forEach(function(d){if(b("LiveStatusType")[d]===a){c=d;return}});return c},_filterNonExpiredPublishedPosts:function(a){return a.map(function(a){return babelHelpers["extends"]({},a,{posts:a.posts.filter(function(a){return a.isPublished&&!a.isExpired})})}).filter(function(a){return a.posts.length>0})},publishVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmPublishVideoAssets(a,b,void 0,c)}.bind(this))},_confirmPublishVideoAssets:function(a,c,d,e){return new(b("Promise"))(function(f,g){var h=this._filterNonExpiredUnpublishedOrganicPosts(a);h.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to publish")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already published.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return f()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetPublishConfirmationDialog.react"),{organicPostsByAsset:h,selectedOrganicPosts:d,onPublish:function(a){this._publishVideoPosts(a,c,e).done(f,g)}.bind(this)}),b("DOM").create("div"))}.bind(this))},_publishVideoPosts:function(a,b,c){return this._performVideoActionOnPosts(a,this._publishVideoPost.bind(this,b,c))},_publishVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_start").setPageID(a).setVideoID(d.id).setSource(c).log();var g=b("XVideoPostPublishController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).getURI();g=b("ActorURI").create(g,a);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_finish").setPageID(a).setVideoID(d.id).setSource(c).log(),e()}).setErrorHandler(function(e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_publish_failure").setPageID(a).setVideoID(d.id).setSource(c).log(),f(e)}).send()})},_filterNonExpiredUnpublishedOrganicPosts:function(a){return a.map(function(a){return babelHelpers["extends"]({},a,{posts:a.posts.filter(function(a){return!a.isPublished&&!a.isExpired})})}).filter(function(a){return a.posts.length>0})},expireVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b).then(function(a){return this._confirmExpireVideoAssets(a,b,void 0,c)}.bind(this))},expireVideoPosts:function(a,b,c,d){d===void 0&&(d=!0);return this._fetchVideoAssetsPostsFromPosts(a,b,d).then(function(e){var f=this._getPostsFromVideoAssetsByID(e,a);return d?this._confirmExpireVideoAssets(e,b,f,c):this._expireVideoAssetsWithoutConfirming(e,b,f,c)}.bind(this))},_expireVideoAssetsWithoutConfirming:function(a,c,d,e){return new(b("Promise"))(function(f,g){var h=this._filterNonExpiredPublishedPosts(a);h.length!==0&&b("promiseDone")(b("Promise").all([this._expireVideoPosts(d,c,a,e,!1)]).then(function(a){var b=a[0];a[1];return b}),f,g)}.bind(this))},_confirmExpireVideoAssets:function(a,c,d,e){__p&&__p();return new(b("Promise"))(function(f,g){var h=this._filterNonExpiredPublishedPosts(a);h.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to expire")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already expired.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return f()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetExpireConfirmationDialog.react"),{pageID:c,organicPostsByAsset:h,selectedOrganicPosts:d,onExpire:function(d,i){b("promiseDone")(b("Promise").all([this._expireVideoPosts(d,c,a,e),i?this._expireVideoAssetsCrosspostsAndRemoveSharing(h.filter(function(a){return a.videoAssetOwnerID===c}).map(function(a){return a.videoAssetID}),c,e):null]).then(function(a){var b=a[0];a[1];return b}),f,g)}.bind(this),canRemoveSharePermission:l._canRemoveSharePermissionOnExpire}),b("DOM").create("div"))}.bind(this))},_expireVideoAssetsCrosspostsAndRemoveSharing:function(a,c,d){return b("Promise").all(a.map(function(a){return this._expireAllCrosspostsAndRemoveSharing(a,c,d)}.bind(this)))},_expireAllCrosspostsAndRemoveSharing:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_start").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log();var g=b("XVideoAssetsExpireRemoveSharingController").getURIBuilder().setFBID("video_asset_id",a).setEnum("source",d).getURI();g=b("ActorURI").create(g,c);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_finish").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log(),e()}).setErrorHandler(function(e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.asset_expire_remove_sharing_failure").setPageID(c).setVideoAssetIDOverride(a).setSource(d).log(),f(e)}).send()})},_expireVideoPosts:function(a,c,d,e,f){f===void 0&&(f=!0);new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_EXPIRE_SELECTION).setIsBulk(1).setVideoAssetIds(d.map(function(a){return a.videoAssetID})).setVideoIds(a.map(function(a){return a.id})).setSource(e).log();return this._performVideoActionOnPosts(a,this._expireVideoPost.bind(this,c,e),f)},_expireVideoPost:function(a,c,d){return new(b("Promise"))(function(e,f){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_start").setPageID(a).setVideoID(d.id).setSource(c).log();var g=b("XVideoPostExpireController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).getURI();g=b("ActorURI").create(g,a);new(b("AsyncRequest"))().setURI(g).setHandler(function(){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_finish").setPageID(a).setVideoID(d.id).setSource(c).log(),e()}).setErrorHandler(function(e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent("ui.post_expire_failure").setPageID(a).setVideoID(d.id).setSource(c).log(),f(e)}).send()})},scheduleVideoAssets:function(a,b,c){return this._fetchVideoAssetsPosts(a,b.page_id).then(function(a){return this._confirmScheduleVideoAssets(a,b,void 0,c)}.bind(this))},_confirmScheduleVideoAssets:function(a,c,d,e){return new(b("Promise"))(function(d,f){var g=this._filterNonExpiredUnpublishedOrganicPosts(a);g.length===0?b("ReactDOM").render(b("React").createElement(b("XUIDialog.react"),{width:350,shown:!0,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogTitle.react"),null,i._("No posts to schedule")),b("React").createElement(b("XUIDialogBody.react"),null,i._("All posts using these videos are already published.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{label:i._("OK"),action:"cancel",use:"confirm",onClick:function(){return d()}}))),b("DOM").create("div")):b("ReactDOM").render(b("React").createElement(b("VideoAssetSelectorDialog.react"),{showPostStateIndicator:!0,videoAssetData:g[0],onSelect:function(a){this._scheduleVideoPostsDialog(a,c.page_id,e).done(d,f)}.bind(this)}),b("DOM").create("div"))}.bind(this))},_scheduleVideoPostsDialog:function(a,c,d){var e=a[0];return new(b("Promise"))(function(f,g){var h=null,i=!1;e.schedulePublishTime&&(h=new Date(e.schedulePublishTime*k),i=!0);h=b("ReactDOM").render(b("React").createElement(b("PostScheduleDialog.react"),{timezoneStr:b("PageContentTabConfig").timezone_str,initialDate:h,isReschedule:i,onSubmit:function(b){this._performVideoActionOnPosts(a,this._scheduleVideoPost.bind(this,c,d,e,Math.floor(b.getTime()/k))).done(f,g)}.bind(this)}),b("DOM").create("div"));h.show()}.bind(this))},_scheduleVideoPost:function(a,c,d,e){return new(b("Promise"))(function(f,g){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_START).setPageID(a).setVideoID(d.id).setSource(c).log();var h=b("XVideoPostScheduleController").getURIBuilder().setInt("video_id",d.id).setEnum("source",c).setInt("schedule_publish_time",e).getURI();h=b("ActorURI").create(h,a);new(b("AsyncRequest"))().setURI(h).setHandler(function(e){e=e.payload.error;!e?(new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FINISH).setPageID(a).setVideoID(d.id).setSource(c).log(),f()):(new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(a).setVideoID(d.id).setSource(c).log(),g())}).setErrorHandler(function(e){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(b("VideoAssetWaterfallEvent").UI_POST_SCHEDULE_FAILURE).setPageID(a).setVideoID(d.id).setSource(c).log(),g(e)}).send()})},_canDeleteCrosspostedVideos:!1,setCanDeleteCrosspostedVideos:function(a){this._canDeleteCrosspostedVideos=a},_canRemoveSharePermissionOnExpire:!1,setCanRemoveSharePermissionOnExpire:function(a){this._canRemoveSharePermissionOnExpire=a},openVideoAssetInsightsDialog:function(a,c,d){d===void 0&&(d=!1);a=b("XVideoAssetInsightsDialogController").getURIBuilder().setFBID("video_asset_id",a).setFBID("page_id",c).setEnum("source",b("VideoAssetInsightsSource").VIDEO_LIBRARY).setEnum("context",b("VideoAssetContext").VIDEO_ASSET).setBool("is_on_creator_studio",d).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))},_openEditDialog:function(a,c,d,e){a=b("ActorURI").create(b("XVideoEditDialogController").getURIBuilder().setInt("video_id",a).setString("post_id",c).setEnum("source",e).getURI(),d);b("AsyncDialog").send(new(b("AsyncRequest"))(a))},renderMonitoringStatusIndicator:function(a,c){return a==="ERROR"?b("React").createElement(b("Image.react"),{className:b("joinClasses")(c,"_5u-h"),"data-tooltip-content":i._("Not monitored"),"data-hover":"tooltip","data-tooltip-position":"right",src:g("117757")}):null},renderCopyrightInConflictIndicator:function(a,c){return b("React").createElement(b("Image.react"),{className:b("joinClasses")(a,"_5u-h"),"data-tooltip-content":c,"data-hover":"tooltip","data-tooltip-position":"right",src:g("132175")})},isValidContainerType:function(a){return Object.keys(b("VideoContainerTypeInVideoLibrary")).some(function(c){return b("VideoContainerType")[c]===b("VideoContainerType")[a]})},_getVideoAssetDefaultFields:function(a){var c=[b("GenericVideoAssetGraphFields").ID,b("GenericVideoAssetGraphFields").DESCRIPTION,b("GenericVideoAssetGraphFields").CAN_VIEWER_EDIT,b("GenericVideoAssetGraphFields").CREATED_TIME,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,b("GenericVideoAssetGraphFields").IS_FEATURED,b("GenericVideoAssetGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,b("GenericVideoAssetGraphFields").IS_LIVE_PREMIERE,b("GenericVideoAssetGraphFields").THUMBNAIL,b("GenericVideoAssetGraphFields").IS_VIDEO_ASSET,b("GenericVideoAssetGraphFields").POSTS_COUNT,b("GenericVideoAssetGraphFields").POSTS_STATUS,b("GenericVideoAssetGraphFields").VIEWS,b("GenericVideoAssetGraphFields").TITLE,b("GenericVideoAssetGraphFields").CREATOR,b("GenericVideoAssetGraphFields").POSTS_IDS,b("GenericVideoAssetGraphFields").LAST_ADDED_TIME,b("GenericVideoAssetGraphFields").NO_STORY,b("GenericVideoAssetGraphFields").SECRET,b("GenericVideoAssetGraphFields").EMBEDDABLE,b("GenericVideoAssetGraphFields").SOCIAL_ACTIONS,b("GenericVideoAssetGraphFields").PUBLISHED,b("GenericVideoAssetGraphFields").EXPIRATION,b("GenericVideoAssetGraphFields").FEED_TYPE,b("GenericVideoAssetGraphFields").PERMALINK_URL,b("GenericVideoAssetGraphFields").SCHEDULED_PUBLISH_TIME,b("GenericVideoAssetGraphFields").LIVE_STATUS,b("GenericVideoAssetGraphFields").PREMIERE_LIVING_ROOM_STATUS,b("GenericVideoAssetGraphFields").STATUS,b("GenericVideoAssetGraphFields").THUMBNAIL_WHILE_ENCODING,b("GenericVideoAssetGraphFields").LATEST_CREATOR,b("GenericVideoAssetGraphFields").LATEST_OWNED_TITLE,b("GenericVideoAssetGraphFields").LATEST_OWNED_DESCRIPTION,b("GenericVideoAssetGraphFields").BROADCAST_PLANNED_START_TIME,b("GenericVideoAssetGraphFields").LENGTH,b("GenericVideoAssetGraphFields").OWNER_ID,b("GenericVideoAssetGraphFields").BROADCAST_ID,b("GenericVideoAssetGraphFields").STREAM_URL,b("GenericVideoAssetGraphFields").SECURE_STREAM_URL];a.is_copyright_management_enabled&&c.push(b("GenericVideoAssetGraphFields").COPYRIGHT_MONITORING_STATUS);a.show_video_library_download_action&&c.push(b("GenericVideoAssetGraphFields").DOWNLOAD_SD_URL,b("GenericVideoAssetGraphFields").DOWNLOAD_HD_URL);a.is_video_show_page&&c.push(b("GenericVideoAssetGraphFields").IS_EPISODE,b("GenericVideoAssetGraphFields").SEASON);a.can_insert_ad_breaks&&c.push(b("GenericVideoAssetGraphFields").MONETIZATION_STATUS);return c},_getVideoDefaultFields:function(a){var c=[b("VideoGraphFields").ID,b("VideoGraphFields").DESCRIPTION,b("VideoGraphFields").CREATED_TIME,b("VideoGraphFields").PICTURE,b("VideoGraphFields").UPDATED_TIME,b("VideoGraphFields").VIEWS,b("VideoGraphFields").EMBEDDABLE,b("VideoGraphFields").FEED_TYPE,b("VideoGraphFields").TITLE,b("VideoGraphFields").ADMIN_CREATOR,b("VideoGraphFields").PERMALINK_URL,b("VideoGraphFields").SECRET,b("VideoGraphFields").SOCIAL_ACTIONS,b("VideoGraphFields").NO_STORY,b("VideoGraphFields").EXPIRATION,b("VideoGraphFields").COPYRIGHTED,b("VideoGraphFields").PUBLISHED,b("VideoGraphFields").SCHEDULED_PUBLISH_TIME,b("VideoGraphFields").CONTAINER_TYPE,b("VideoGraphFields").LIVE_STATUS,b("VideoGraphFields").VIDEO_ASSET_ID,b("VideoGraphFields").STATUS,b("VideoGraphFields").THUMBNAIL_WHILE_ENCODING,b("VideoGraphFields").IS_CROSSPOST_VIDEO,b("VideoGraphFields").IS_CROSSPOSTING_ELIGIBLE,b("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ELIGIBLE,b("VideoGraphFields").IS_CROSSPOSTING_WITHIN_BM_ENABLED,b("VideoGraphFields").IS_FEATURED,b("VideoGraphFields").IS_LEGACY_VIDEO_CROSSPOSTING_ELIGIBLE,b("VideoGraphFields").IS_LIVE_PREMIERE,b("VideoGraphFields").BROADCAST_PLANNED_START_TIME,b("VideoGraphFields").LENGTH,b("VideoGraphFields").BROADCAST_ID,b("VideoGraphFields").STREAM_URL,b("VideoGraphFields").SECURE_STREAM_URL,b("VideoGraphFields").PREMIERE_LIVING_ROOM_STATUS];a.is_copyright_management_enabled&&c.push(b("VideoGraphFields").COPYRIGHT_MONITORING_STATUS);a.is_video_show_page&&c.push(b("GenericVideoAssetGraphFields").IS_EPISODE,b("VideoGraphFields").SEASON);a.can_insert_ad_breaks&&c.push(b("VideoGraphFields").MONETIZATION_STATUS);return c},getVideoGameNameSelectorPlaceholder:function(){return i._("Tag a game (e.g. PUBG)")}};a=babelHelpers.inherits(m,b("React").Component);j=a&&a.prototype;function m(a){j.constructor.call(this,a),this.state={shown:!1}}m.prototype.show=function(){this.setState({shown:!0})};m.prototype.hide=function(){this.setState({shown:!1})};m.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:300,shown:this.state.shown,layerHideOnBlur:!1},b("React").createElement(b("XUIDialogBody.react"),{className:"_5xp9"},b("React").createElement(b("XUISpinner.react"),{background:"light",className:"_5xpe",size:"large"})))};e.exports=l}),null);
__d("PageContentTabLocations",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGES_MANAGER:"PAGES_MANAGER",ADS_PE:"ADS_PE"})}),null);