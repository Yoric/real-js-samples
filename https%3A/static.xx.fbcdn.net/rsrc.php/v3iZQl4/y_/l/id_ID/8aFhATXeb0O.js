if (self.CavalryLogger) { CavalryLogger.start_js(["pHXJz"]); }

__d("AbstractPopoverButton.react",["cx","React","URI","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.config,c={},d=a.defaultMaxWidth;this.props.maxwidth!==void 0&&(d=this.props.maxwidth);d&&(c.style=babelHelpers["extends"]({},a.button.props.style,{maxWidth:d+"px"}));this.props.image&&(c.image=b("React").createElement("span",{className:"_-xe _3-8_"},this.props.image));this.props.label&&(c.labelIsHidden=this.props.labelIsHidden,c.label=b("React").createElement("span",{className:"_55pe"},this.props.label));this.props.haschevron&&(c.imageRight=b("React").createElement("span",{className:"_4o_3"},a.chevron));c.className=b("joinClasses")(a.button.props.className,"_2agf _4o_4");c.href=new(b("URI"))("#");c["aria-haspopup"]=!0;c.role="button";return b("React").cloneElement(a.button,c)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={config:c.object.isRequired,haschevron:c.bool,label:c.node,labelIsHidden:c.bool,maxwidth:c.number};a.defaultProps={haschevron:!0};e.exports=a}),null);
__d("XUIPopoverButton.react",["cx","ix","AbstractPopoverButton.react","Image.react","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=b("React").PropTypes;i=babelHelpers.inherits(j,b("React").Component);i&&i.prototype;j.getButtonSize=function(a){"use strict";return a.size||"medium"};j.prototype.render=function(){"use strict";__p&&__p();var a=j.getButtonSize(this.props),c="_55pi",d=this.props,e=d.theme,f=d.use,g=d.chevron,i=d.maxwidth,k=d.image,l=d.label,m=d.labelIsHidden,n=d.haschevron;d=babelHelpers.objectWithoutPropertiesLoose(d,["theme","use","chevron","maxwidth","image","label","labelIsHidden","haschevron"]);e==="dark"&&(c=b("joinClasses")(c,(f!=="special"?"_5vto":"")+(a==="small"?" _55_o":"")+(a==="medium"?" _55_p":"")+(a==="large"?" _55_q":"")+(a==="xlarge"?" _55_r":"")+(a==="xxlarge"?" _55_s":"")));if(!g){e=e==="dark"||f==="confirm"||f==="special"?h("101301"):h("101305");g=b("React").createElement(b("Image.react"),{src:e})}e={button:b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},d,{use:f,className:b("joinClasses")(this.props.className,c),size:a})),chevron:g,chevronWidth:14,defaultMaxWidth:i||200};return b("React").createElement(b("AbstractPopoverButton.react"),{config:e,haschevron:n,image:k,label:l,labelIsHidden:m,maxwidth:i})};function j(){"use strict";i.apply(this,arguments)}j.propTypes={haschevron:a.bool,label:a.node,labelIsHidden:a.bool,maxwidth:a.number};e.exports=j}),null);
__d("PageVoiceDropdownSelector.react",["ix","cx","BootloadedComponent.react","Image.react","JSResource","React","XUIPopoverButton.react","XUISpinner.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=16,k=40;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={dialogShown:this.props.dialogShown||!1,bootloadFinished:!1},this.$1=function(a){this.props.onChange(a),this.setState({dialogShown:!1})}.bind(this),this.$2=function(){return this.refs["open-menu-button"]}.bind(this),this.$3=function(){this.setState({bootloadFinished:!0})}.bind(this),this.$6=function(a){this.setState({dialogShown:!this.state.dialogShown},function(){return this.props.onClick(a)}.bind(this))}.bind(this),this.$4=function(a){this.setState({dialogShown:a})}.bind(this),this.$5=function(){var a=this.props.selectedActorID;if(!a)return"";return a===this.props.user.id?this.props.user.thumbSrc||"":this.props.pages[a].thumbSrc||""}.bind(this),this.$7=function(){var a=this.props.selectedActorID;if(!a)return"";return a===this.props.user.id?this.props.user.name||"":this.props.pages[a].name||""}.bind(this),b}a.prototype.componentDidUpdate=function(a){this.props.dialogShown!==a.dialogShown&&this.setState(function(a){return{dialogShown:!a.dialogShown}})};a.prototype.render=function(){__p&&__p();var a=null;this.state.dialogShown&&(a=b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("PageVoiceDropdownSelectorMenu.react").__setRef("PageVoiceDropdownSelector.react"),bootloadPlaceholder:b("React").createElement("div",null),onComponentLoad:this.$3},this.props,{contextRef:this.$2,shown:!0,onChange:this.$1,onToggle:this.$4})));var c=this.state.dialogShown&&!this.state.bootloadFinished;c=this.props.loading||c;var d=null,e=null;c?e=b("React").createElement("span",{className:"_2wk7"},b("React").createElement(b("XUISpinner.react"),null)):d=b("React").createElement(b("Image.react"),{className:"_6vg",height:j,src:this.$5(),width:j});if(this.props.useUFIPhotoOverlay)return b("React").createElement("span",null,b("React").createElement(b("XUIPopoverButton.react"),{className:"UFIActorSelectorContainer",disabled:this.props.disabled,haschevron:!1,image:b("React").createElement(b("Image.react"),{className:"UFIActorSelector",src:g("771988"),onClick:this.$6}),label:this.$7(),labelIsHidden:!this.props.showPageName,ref:"open-menu-button",size:"large",suppressed:this.props.suppressed,onClick:this.$6}),a);this.props.useProfileActorSelector&&(d=b("React").createElement("div",{className:"_6ljg"},b("React").createElement(b("Image.react"),{className:b("joinClasses")("_6vg","_6kf_"),height:k,src:this.$5(),width:k}),b("React").createElement("div",{className:"_6rig"})),e=c&&b("React").createElement("div",{className:"_6ljh"},b("React").createElement("div",{className:"_6lji"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))));return this.props.useProfileActorSelector?b("React").createElement("div",null,b("React").createElement(b("XUIPopoverButton.react"),{"aria-label":this.props.ariaLabel,chevron:b("React").createElement(b("Image.react"),{src:g("364970")}),className:"_6n1z",disabled:this.props.disabled,haschevron:!0,image:b("React").createElement("div",{className:"_6ljg"},d,e),label:this.$7(),labelIsHidden:!this.props.showPageName,ref:"open-menu-button",size:"xxlarge",suppressed:this.props.suppressed,type:"button",onClick:this.$6}),a):b("React").createElement("span",null,b("React").createElement(b("XUIPopoverButton.react"),{"aria-label":this.props.ariaLabel,disabled:this.props.disabled,image:b("React").createElement("span",null,d,e),label:this.$7(),labelIsHidden:!this.props.showPageName,maxwidth:this.props.maxwidth,ref:"open-menu-button",suppressed:this.props.suppressed,type:"button",onClick:this.$6}),a)};a.propTypes={ariaLabel:c.string,dialogShown:c.bool,disabled:c.bool,loading:c.bool,maxWidth:c.number,pages:c.object.isRequired,selectedActorID:c.string,showPageName:c.bool,suppressed:c.bool.isRequired,useProfileActorSelector:c.bool,useUFIPhotoOverlay:c.bool,user:c.object.isRequired,onChange:c.func.isRequired,onClick:c.func.isRequired};a.defaultProps={disabled:!1,showPageName:!1,onClick:function(){return void 0}};e.exports=a}),null);
__d("PagesCalloutActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGISTER_CALLOUT:"register_callout",INIT_SURFACE:"init_surface",SHOW_CALLOUT:"show_callout",DISMISS_CALLOUT:"dismiss_callout"})}),null);
__d("PagesCalloutDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("tidyEvent",["Run"],(function(a,b,c,d,e,f){__p&&__p();var g=[];function h(){while(g.length){var a=g.shift();a.remove?a.remove():a.unsubscribe&&a.unsubscribe()}}function i(a){__p&&__p();var b,c=a;function d(){if(!b)return;b.apply(c,arguments);b=null;c=null}if(c&&c.remove)b=c.remove,c.remove=d;else{b=(a=c)==null?void 0:a.unsubscribe;c.unsubscribe=d}return c}function a(a){g.length||b("Run").onLeave(h);if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c]&&g.push(i(a[c]));else a&&g.push(i(a));return a}e.exports=a}),null);
__d("ActorSelector.react",["cx","Arbiter","BizSiteIdentifier.brands","BootloadedComponent.react","Bootloader","Event","JSResource","PagesCalloutActions","PagesCalloutDispatcher","PageVoiceDropdownSelector.react","React","ReactDOM","ShortProfiles","TooltipData","emptyFunction","getObjectValues","goURI","joinClasses","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=500;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={actorData:{},nuxShown:!1,selectedActorID:this.props.selectedActorID},this.$4=function(){return this.refs.selector}.bind(this),this.$3=function(){b("ShortProfiles").getMulti(this.props.actorIDs,function(a){this.$2&&this.setState({actorData:a})}.bind(this))}.bind(this),this.$9=function(){this.state.nuxShown&&this.$5();var a=this.props.onClick;a&&a()}.bind(this),this.$8=function(a){if(this.props.syncEnabled){b("Arbiter").inform("ActorSelector/ActorChange",a);return}this.props.onChange(a)}.bind(this),this.$6=function(){this.$5(),b("goURI")(this.props.settingsURI)}.bind(this),this.$5=function(){this.setState({nuxShown:!1}),this.props.onCompleteNux&&this.props.onCompleteNux()}.bind(this),this.$11=function(){if(!this.props.nuxEnabled)return;this.props.nuxHoverContext&&!this.$14&&(this.$14=b("tidyEvent")(b("Event").listen(this.props.nuxHoverContext,"mouseenter",function(){b("Bootloader").loadModules(["ActorSelectorNUXLayer.react"],b("emptyFunction"),"ActorSelector.react");var a=setTimeout(function(){this.$14.remove(),this.$15()}.bind(this),i),c=b("tidyEvent")(b("Event").listen(this.props.nuxHoverContext,"mouseleave",function(){clearTimeout(a),c.remove()}))}.bind(this))))}.bind(this),this.$10=function(){if(!this.props.nuxEnabled||!this.props.pageTimelineNuxTipID)return;b("PagesCalloutDispatcher").dispatch({type:b("PagesCalloutActions").REGISTER_CALLOUT,data:{tip_id:this.props.pageTimelineNuxTipID,showCallback:function(){return this.$15()}.bind(this)}})}.bind(this),this.$15=function(){this.props.nuxEnabled&&this.setState({nuxShown:!0})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$2=!0,this.$3()};a.prototype.render=function(){"use strict";if(!this.state.selectedActorID||!this.state.actorData[this.state.selectedActorID])return b("React").createElement("div",null);if(this.props.actorIDs.length===0)return b("React").createElement("div",null);var a=null;this.state.nuxShown&&(a=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ActorSelectorNUXLayer.react").__setRef("ActorSelector.react"),bootloadPlaceholder:b("React").createElement("span",null),onCompleteNux:this.$5,onClickSettings:this.$6,settingsURI:this.props.settingsURI,shown:!0,contextRef:this.$4,nuxBody:this.props.nuxBody}));return b("React").createElement("span",{className:b("joinClasses")("_6vh",this.props.className),"data-testid":"actor-selector"},b("React").createElement("span",{ref:"selector"},b("React").createElement(b("PageVoiceDropdownSelector.react"),{ariaLabel:this.$7(),dialogShown:this.props.dialogShown,disabled:this.props.disabled,loading:this.props.loading,pages:this.state.actorData,onChange:this.$8,onClick:this.$9,selectedActorID:this.state.selectedActorID,searchBarVisible:!0,showBusinessPages:!1,showPageName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:this.props.suppressed,useProfileActorSelector:this.props.useProfileActorSelector,useUFIPhotoOverlay:this.props.useUFIPhotoOverlay,user:b("getObjectValues")(this.state.actorData)[0]})),a)};a.prototype.componentDidMount=function(){"use strict";this.$10(),this.$11(),this.$12(),this.props.syncEnabled&&this.$13()};a.prototype.componentDidUpdate=function(a,c){"use strict";this.props.actorIDs.toString()!==a.actorIDs.toString()&&this.$3(),this.$11(),this.$12(),this.state.nuxShown&&!c.nuxShown&&this.props.onShowNux&&this.props.onShowNux(),this.props.selectedActorID!==a.selectedActorID&&(this.setState({selectedActorID:this.props.selectedActorID}),b("Arbiter").inform("ActorSelector/ActorSelected",{selectedActorID:this.props.selectedActorID}))};a.prototype.componentWillUnmount=function(){"use strict";this.$2=!1,this.$1&&b("Arbiter").unsubscribe(this.$1)};a.prototype.$13=function(){"use strict";this.$1=b("Arbiter").subscribe("ActorSelector/ActorChange",function(a,b){if(this.props.actorIDs.indexOf(b.value)===-1)return;this.setState({selectedActorID:b.value},function(){return this.props.onChange(b)}.bind(this))}.bind(this))};a.prototype.$16=function(){"use strict";var a=this.state.actorData[this.state.selectedActorID];if(!a)return null;return!this.props.tooltipConstructor?null:this.props.tooltipConstructor(a.name)};a.prototype.$7=function(){"use strict";var a=this.$16();return!a?null:a.toString()};a.prototype.$12=function(){"use strict";if(!this.refs.selector)return;var a=this.$16();if(!a)return;b("TooltipData").set(b("ReactDOM").findDOMNode(this.refs.selector),a,"above","right")};a.propTypes={actorIDs:c.array.isRequired,dialogShown:c.bool,disabled:c.bool,loading:c.bool,nuxBody:c.node,nuxEnabled:c.bool,nuxHoverContext:c.object,onChange:c.func.isRequired,onClick:c.func,onCompleteNux:c.func,onShowNux:c.func,pageTimelineNuxTipID:c.string,selectedActorID:c.string,settingsURI:c.string,showName:c.bool,showNameMaxWidth:c.number,suppressed:c.bool,syncEnabled:c.bool,tooltipConstructor:c.func,useProfileActorSelector:c.bool,useUFIPhotoOverlay:c.bool};a.defaultProps={disabled:!1,suppressed:!0};e.exports=a}),null);
__d("AppUserRoleConstants.brands",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:"ADMIN",MANAGER:"MANAGER",EMPLOYEE:"EMPLOYEE",NO_PERMISSION:"NO_PERMISSION"});e.exports=a}),null);
__d("BusinessActorUtils.brands",["UnicodeCJK"],(function(a,b,c,d,e,f){"use strict";a={getInitials:function(a,c){a=a.trim().charAt(0);c=c.trim().charAt(0);a=a+c;return b("UnicodeCJK").hasIdeograph(a)?c:a.toUpperCase()}};e.exports=a}),null);
__d("UFICommentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDuration=function(a){this.$1.duration=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setHasPhoto=function(a){this.$1.has_photo=a;return this};a.prototype.setHasSticker=function(a){this.$1.has_sticker=a;return this};a.prototype.setIsReply=function(a){this.$1.is_reply=a;return this};a.prototype.setRequestLength=function(a){this.$1.request_length=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={duration:!0,event:!0,has_photo:!0,has_sticker:!0,is_reply:!0,request_length:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("UFICommentLogger",["UFICommentTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={},this.$2={}}a.prototype.logNewCommentPost=function(a,c,d){this.$2[a]=babelHelpers["extends"]({timestamp:c},d),new(b("UFICommentTypedLogger"))().setEvent("new_comment_post").setHasPhoto(d.has_photo).setHasSticker(d.has_sticker).setIsReply(d.is_reply).log()};a.prototype.logNewCommentReceived=function(a,c){var d=this.$2[a];if(d){var e=0;c&&d.timestamp&&(e=c-d.timestamp);new(b("UFICommentTypedLogger"))().setEvent("new_comment_received").setDuration(e).setHasPhoto(d.has_photo).setHasSticker(d.has_sticker).setIsReply(d.is_reply).log()}delete this.$2[a]};a.prototype.logCommentFetch=function(a,c,d){c=babelHelpers["extends"]({timestamp:c},d);this.$1[a]===void 0?this.$1[a]=[c]:this.$1[a].push(c);new(b("UFICommentTypedLogger"))().setEvent("fetch_comment").setIsReply(d.is_reply).setRequestLength(d.request_length).log()};a.prototype.logCommentFetchReceived=function(a,c){if(this.$1[a]){var d=this.$1[a].shift(),e=0;c&&d.timestamp&&(e=c-d.timestamp);new(b("UFICommentTypedLogger"))().setEvent("fetch_comment_received").setDuration(e).setIsReply(d.is_reply).setRequestLength(d.request_length).log();this.$1[a].length===0&&delete this.$1[a]}};e.exports=new a()}),null);
__d("UFIRootRegistry",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={},i={},j=[];a={registerController:function(a,b,c,d){g[a]=d,h[c]=[].concat(h[c]||[],[b]),i[b]=c},registerSnowliftID:function(a){j.push(a)},isSnowliftNode:function(a){return j.indexOf(a)>=0},getInstanceIDFromFTEntIdentifier:function(a){return h[a]||null},getFTEntIdentifierFromInstanceID:function(a){return i[a]||null},cleanupInstance:function(a){var b=i[a],c=h[b];c&&c.includes(a)&&(h[b]=c.filter(function(b){return b!=a}),h[b].length==0&&delete h[b]);delete i[a]},cleanupSnowliftNodes:function(){j.forEach(function(a){return g[a]&&g[a]()}),g={},j=[]}};e.exports=a}),null);
__d("UFIStoryActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment",SHOW_FACECAST_REPLIES:"story_show_facecast_replies",HIDE_FACECAST_REPLIES:"story_hide_facecast_replies",ADD_FACECAST_REPLY:"story_add_facecast_reply",ADD_FACECAST_REPLIES:"story_add_facecast_replies",FACECAST_REPLIES_LOADED:"facecast_replies_loaded",SET_COMMENTS_SCROLL_DISTANCE:"set_comments_scroll_distance",HANDLE_NEW_COMMENTS:"handle_new_comments",HANDLE_NEW_FACECAST_REPLY:"handle_new_facecast_reply",SET_COMMENT_REACTIONS_MENU_SHOWN:"set_comment_reactions_menu_shown"})}),null);
__d("UFIActionTypes",["UFIInstanceActionType","UFIStoryActionType","UFIAddCommentActionType","UFICommentActionType"],(function(a,b,c,d,e,f){"use strict";a={INSTANCE:b("UFIInstanceActionType"),STORY:b("UFIStoryActionType"),ADD_COMMENT:b("UFIAddCommentActionType"),COMMENT:b("UFICommentActionType")};e.exports=a}),null);
__d("UFICommentVoteSyncStore",["FluxReduceStore","UFIActionTypes","UFIConstants","UFIDispatcherBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();var d;switch(c.type){case b("UFIActionTypes").INSTANCE.INIT:var e=c.payload,f=e.feedbacktarget?e.feedbacktarget:e.feedbacktargets&&e.feedbacktargets[0];if(!f)return a;f=e.comments.reduce(function(a,b){a[b.fbid]={voteCount:b.voteCount,voteState:b.voteState};return a},{});return babelHelpers["extends"]({},a,f);case b("UFIActionTypes").COMMENT.UPDATE_VOTE_COUNT_AND_STATE:return babelHelpers["extends"]({},a,(e={},e[c.fbid]={voteCount:c.voteCount?c.voteCount:0,voteState:c.voteState?c.voteState:b("UFIConstants").UFICommentVoteType.NONE},e));case b("UFIActionTypes").COMMENT.CHANGE_VOTE:f=this.getOptimisticVoteState(this.getVoteState(c.fbid),c.arrowType);e=this.getOptimisticVoteCount(c.fbid,f);return babelHelpers["extends"]({},a,(d={},d[c.fbid]={voteCount:e,voteState:f},d));case b("UFIActionTypes").COMMENT.CHANGE_VOTE_SUCCESS:case b("UFIActionTypes").COMMENT.CHANGE_VOTE_FAILURE:return babelHelpers["extends"]({},a,(e={},e[c.fbid]={voteCount:c.voteCount,voteState:c.voteState},e));default:return a}};a.prototype.getVoteCount=function(a){return!this.getState()[a]?0:this.getState()[a].voteCount};a.prototype.getVoteState=function(a){return!this.getState()[a]?b("UFIConstants").UFICommentVoteType.NONE:this.getState()[a].voteState};a.prototype.$UFICommentVoteSyncStore1=function(a){switch(a){case b("UFIConstants").UFICommentVoteType.UPVOTE:return 1;case b("UFIConstants").UFICommentVoteType.DOWNVOTE:return-1;case b("UFIConstants").UFICommentVoteType.NONE:default:return 0}};a.prototype.$UFICommentVoteSyncStore2=function(a,b){return this.$UFICommentVoteSyncStore1(b)-this.$UFICommentVoteSyncStore1(a)};a.prototype.getOptimisticVoteCount=function(a,b){var c=this.getVoteCount(a);a=this.$UFICommentVoteSyncStore2(this.getVoteState(a),b);return c+a};a.prototype.getOptimisticVoteState=function(a,c){return a===c?b("UFIConstants").UFICommentVoteType.NONE:c};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFICommercialBreakStore",["UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("UFIKeyValueStore"));h=g&&g.prototype;a.prototype.getValueFor=function(a){return!!h.getValueFor.call(this,a)};a.prototype.getStateValue=function(a){switch(a.type){case b("UFIInstanceActionType").TOGGLE_COMMERCIAL_BREAK:return a.inCommercial}return null};function a(){g.apply(this,arguments)}e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIInteractionStore",["UFIAddCommentActionType","UFICommentActionType","UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("UFIKeyValueStore"));h=g&&g.prototype;a.prototype.getValueFor=function(a){return!!h.getValueFor.call(this,a)};a.prototype.getStateValue=function(a){switch(a.type){case b("UFIAddCommentActionType").CHANGE_CONTENT:case b("UFIAddCommentActionType").SUBMIT_EDIT:case b("UFIAddCommentActionType").SUBMIT_NEW:case b("UFICommentActionType").CHANGE_REACTION:case b("UFICommentActionType").EDIT:case b("UFICommentActionType").REMOVE:case b("UFICommentActionType").TOGGLE_LIKE:case b("UFICommentActionType").TOGGLE_MARK_AS_SPAM:case b("UFICommentActionType").TRANSLATE:case b("UFIInstanceActionType").CHANGE_ORDER_MODE:case b("UFIInstanceActionType").TOGGLE_COMMENTS:case b("UFIStoryActionType").PAGE_IN_COMMENTS:case b("UFIStoryActionType").SHOW_REPLIES:case b("UFIStoryActionType").TOGGLE_REPLIES:return!0}return null};function a(){g.apply(this,arguments)}e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFILiveTypingStore",["FluxReduceStore","UFIDispatcherBase","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("FluxReduceStore"));g&&g.prototype;h.getNewFeedbackState=function(a){switch(a){case b("UFIStoryActionType").FRIEND_TYPING:return"friend";case b("UFIStoryActionType").SOMEONE_TYPING:return"someone";case b("UFIStoryActionType").TYPING_STOPPED:return!1;default:return null}};h.prototype.getInitialState=function(){return{}};h.prototype.reduce=function(a,b){var c=h.getNewFeedbackState(b.type);if(c!==null){var d;a=babelHelpers["extends"]({},a,(d={},d[b.ftentidentifier]=c,d))}return a};h.prototype.isFriendTyping=function(a){return this.getState()[a]==="friend"};function h(){g.apply(this,arguments)}h.__moduleID=e.id;e.exports=new h(b("UFIDispatcherBase"))}),null);
__d("LiveVideoViewerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setCommentLocation=function(a){this.$1.comment_location=a;return this};a.prototype.setCommentReplyThreadLength=function(a){this.$1.comment_reply_thread_length=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setReplyThreadDurationMs=function(a){this.$1.reply_thread_duration_ms=a;return this};a.prototype.setTargetID=function(a){this.$1.target_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,comment_location:!0,comment_reply_thread_length:!0,event:!0,reply_thread_duration_ms:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("UFILiveVideoLoggingStore",["FluxReduceStore","LiveVideoViewerTypedLogger","UFIDispatcherBase","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("UFIStoryActionType").SHOW_FACECAST_REPLIES:var d;new(b("LiveVideoViewerTypedLogger"))().setEvent("opened_reply_thread_from_comment").setCommentID(c.commentID).log();return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:c.commentID,time_opened_ms:Date.now()},d));case b("UFIStoryActionType").HIDE_FACECAST_REPLIES:if(!c.isExplicit)return a;d=a[c.instanceID];if(d==null)return a;new(b("LiveVideoViewerTypedLogger"))().setEvent("closed_reply_thread_explicitly").setCommentID(d.comment_id).setReplyThreadDurationMs(Date.now()-d.time_opened_ms).log();return babelHelpers["extends"]({},a,(c={},c[d.comment_id]=null,c));default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIPlayLiveVODHighlightsStore",["UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("UFIKeyValueStore"));h=g&&g.prototype;a.prototype.getValueFor=function(a){return!!h.getValueFor.call(this,a)};a.prototype.getStateValue=function(a){switch(a.type){case b("UFIInstanceActionType").PLAY_LIVE_VOD_HIGHLIGHTS:return a.playingLiveVODHighlights}return null};function a(){g.apply(this,arguments)}e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIReactionPendingRequestsStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a+"-comment"}function i(a){return a+"-story"}function j(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)+1,c))}function k(a,b){var c;return babelHelpers["extends"]({},a,(c={},c[b]=(a[b]||0)-1,c))}g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){switch(c.type){case b("UFIActionTypes").STORY.CHANGE_REACTION:return j(a,i(c.ftentidentifier));case b("UFIActionTypes").COMMENT.CHANGE_REACTION:return j(a,h(c.fbid));case b("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:case b("UFIActionTypes").STORY.CHANGE_REACTION_FAILURE:return k(a,i(c.ftentidentifier));case b("UFIActionTypes").COMMENT.CHANGE_REACTION_FAILURE:case b("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return k(a,h(c.fbid))}return a};a.prototype.getPendingRequestsForComment=function(a){return this.getState()[h(a)]||0};a.prototype.getPendingRequests=function(a){return this.getState()[i(a)]||0};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIReactionSyncStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a+"-comment"}function i(a){return a+"-story"}g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("UFIActionTypes").INSTANCE.INIT:var d=c.payload;d=d.feedbacktarget?d.feedbacktarget:d.feedbacktargets&&d.feedbacktargets[0];if(!d)return a;var e=c.payload.comments.reduce(function(a,b){a[h(b.fbid)]=b.viewerreaction;return a},{});return babelHelpers["extends"]({},a,e,(e={},e[i(c.ftentidentifier)]=d.viewerreaction,e));case b("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(d={},d[i(c.ftentidentifier)]=c.reactionType,d));case b("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},a,(e={},e[h(c.fbid)]=c.reactionType,e));default:return a}};a.prototype.getLastKnownCommentReaction=function(a){return this.getState()[h(a)]};a.prototype.getLastKnownReaction=function(a){return this.getState()[i(a)]};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIVideoPlayerControllerStore",["FluxReduceStore","UFIDispatcherBase","UFIInstanceActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){switch(c.type){case b("UFIInstanceActionType").FOUND_VIDEO_PLAYER_CONTROLLER:var d;return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={videoPlayerController:c.videoPlayerController},d));default:return a}};a.prototype.getVideoPlayerController=function(a){var b;return(b=this.getState())!=null?(b=b[a])!=null?b.videoPlayerController:b:b};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFISharedDispatcher",["UFIDispatcherBase","UFIFeedbackStore","UFICommentEditIDStore","UFICommentVisibilityStore","UFICommentVoteSyncStore","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIInteractionStore","UFILivePinnedCommentStore","UFILiveTypingStore","UFILocallyComposedCommentStore","UFIOrderingModeStore","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFISpamStore","UFIPlayLiveVODHighlightsStore","UFIThreadedFacecastCommentsStore","UFILiveVideoLoggingStore","UFIVideoPlayerControllerStore"],(function(a,b,c,d,e,f){"use strict";b("UFIFeedbackStore"),b("UFICommentEditIDStore"),b("UFICommentVisibilityStore"),b("UFICommentVoteSyncStore"),b("UFICommercialBreakStore"),b("UFIComposerIsTypingStore"),b("UFIFeedbackStore"),b("UFIInteractionStore"),b("UFILivePinnedCommentStore"),b("UFILiveTypingStore"),b("UFILocallyComposedCommentStore"),b("UFIOrderingModeStore"),b("UFIReactionPendingRequestsStore"),b("UFIReactionSyncStore"),b("UFISpamStore"),b("UFIPlayLiveVODHighlightsStore"),b("UFIThreadedFacecastCommentsStore"),b("UFILiveVideoLoggingStore"),b("UFIVideoPlayerControllerStore"),e.exports=b("UFIDispatcherBase")}),null);
__d("ClientIDs",["randomInt"],(function(a,b,c,d,e,f){var g={};a={getNewClientID:function(){var a=Date.now();a=a+":"+(b("randomInt")(0,4294967295)+1);g[a]=!0;return a},isExistingClientID:function(a){return!!g[a]}};e.exports=a}),null);
__d("UFICentralUpdatesLocalCommentAdapter",["ClientIDs","FeedbackPayloadSourceType","UFICentralUpdates","UFIDispatcherBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=(d={},d[b("FeedbackPayloadSourceType").USER_ACTION]=a,d[b("FeedbackPayloadSourceType").ENDPOINT_ADD_COMMENT]=c,d);function i(){return b("UFICentralUpdates").subscribe("update-comments",function(a,b){if(b.comments){a=h[b.payloadsource];a&&b.comments.forEach(a)}})}function a(a){if(!b("ClientIDs").isExistingClientID(a.id))return;g[a.id]=a.ufiinstanceid;b("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_ADDED_COMMENT",instanceID:a.ufiinstanceid,ftentidentifier:a.ftentidentifier,clientID:a.id})}function c(a){if(!b("ClientIDs").isExistingClientID(a.clientid))return;var c=g[a.clientid];delete g[a.clientid];if(!c)return;b("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_SAVED_COMMENT",instanceID:c,ftentidentifier:a.ftentidentifier,clientID:a.clientid,commentID:a.id})}var j;f={subscribeOnce:function(){if(!j){j=i();return j}return null}};e.exports=f}),null);
__d("UFIPagedCommentListImpl",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFICommentLogger","UFIConfig","UFIConstants","UFIFeedbackTargets"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.actorID=null,this.basePermalink=null,this.commentPermalinks=Object.create(null),this.count=0,this.dataSource=new(b("KeyedCallbackManager"))(),this.deletedComments=Object.create(null),this.deletedCount=0,this.lastRequestedLength=0,this.lastRequestedOffset=0,this.feedbackTargetID=a,b("UFIFeedbackTargets").getFeedbackTarget(this.feedbackTargetID,function(a){this.actorID=a.actorforpost,this.basePermalink=a.permalink}.bind(this))}a.prototype.setClientHasAll=function(a){};a.prototype.addOrUpdateComment=function(a){if(!a)return;a.__typename==="local"?this.$1(a.id):this.$2(a.id,a.clientid,a.legacyid);b("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};a.prototype.$1=function(a){this.dataSource.setResource(this.count,a),this.count++};a.prototype.$2=function(a,c,d){__p&&__p();var e=c&&b("ClientIDs").isExistingClientID(c),f=this.dataSource.getAllResources(),g={};for(var h in f){var i=f[h];g[i]=h}if(e&&c&&c in g){g[a]=g[c];i=g[c];this.dataSource.setResource(i,a);b("UFIConfig").logCommentPost&&b("UFICommentLogger").logNewCommentReceived(c,Date.now())}else!g[a]&&c&&this.$1(a);d&&a in g&&(this.commentPermalinks[a]=this.buildCommentPermalink(a,d,g[a]))};a.prototype.addCommentIDs=function(a,c,d){var e={};for(var f=0;f<c;f++)e[a+f]=d[f]||b("UFIConstants").unavailableCommentKey;this.dataSource.addResourcesAndExecute(e);b("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};a.prototype.getComments=function(a,b,c,d){__p&&__p();var e=new Array(b).fill().map(function(b,c){return c+a}),f=this.dataSource.getUnavailableResourcesFromRequest(e);if(f.length){var g=Math.min.apply(Math,f);f=Math.max.apply(Math,f);var h=g;f=f-g+1;(h<this.lastRequestedOffset||h+f>this.lastRequestedOffset+this.lastRequestedLength)&&(this.lastRequestedOffset=h,this.lastRequestedLength=f,this.fetchComments(h,f,c))}else this.dataSource.executeOrEnqueue(e,function(c){return d(this.commentsFromCommentIDs(c,a,b))}.bind(this))};a.prototype.getCommentsOrThrow=function(a){a=[a.getLength(),a.getOffset()];var b=a[0],c=a[1],d={};new Array(b).fill().forEach(function(a,b){a=b+c;b=this.dataSource.getResource(a);if(!b)throw new Error("Tried to get nonexistent comment");d[a]=b}.bind(this));return this.commentsFromCommentIDs(d,c,b)};a.prototype.fetchComments=function(a,b,c){};a.prototype.commentsFromCommentIDs=function(a,b,c){return{}};a.prototype.reset=function(){var a=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return a};a.prototype.deleteComment=function(a){a in this.deletedComments||(this.deletedComments[a]=!0,this.deletedCount++)};a.prototype.updateCommentCount=function(a){this.count=a,this.deletedCount=0};a.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};a.prototype.getCommentCount=function(){return this.count};a.prototype.getDeletedCount=function(){return this.deletedCount};a.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount};a.prototype.getBasePermalink=function(){return this.basePermalink};a.prototype.buildCommentPermalink=function(a,b,c){return null};a.prototype.getPermalinkForComment=function(a){return this.commentPermalinks[a]};e.exports=a}),null);
__d("UFIReplyCommentListImpl",["ActorURI","JSLogger","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIPagedCommentListImpl","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("JSLogger").create("ufi_reply_comment_list");c=babelHelpers.inherits(a,b("UFIPagedCommentListImpl"));g=c&&c.prototype;function a(a,b,c){g.constructor.call(this,a),this.parentCommentID=b,this.containerOrderingMode=c}a.prototype.fetchComments=function(a,c,d){b("UFIConfig").logCommentLoad&&b("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:c,is_reply:!0});a={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[a],lengths:[c],feed_context:d?d.feedContext:null,numpagerclicks:d?d.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:d?d.translateAll:null};(!d||!d.viewAs)&&(a[b("ActorURI").PARAMETER_ACTOR]=this.actorID);b("MercuryServerDispatcher").trySend("/ajax/ufi/reply_fetch.php",a)};a.prototype.commentsFromCommentIDs=function(a,c,d){var e={};for(var f=0;f<d;f++){var g=b("UFIComments").getComment(a[c+f]);g&&(e[c+f]=g)}return e};a.prototype.reset=function(){var a=g.reset.call(this),c={};for(var d in a){var e=a[d];c[e]=!0}b("UFIComments").resetComments(c);return a};a.prototype.getParentCommentID=function(){return this.parentCommentID};a.prototype.buildCommentPermalink=function(a,c,d){if(!this.basePermalink)return null;a=this.getParentCommentID().split("_");d=c;a.length===2?d=a[1]:h.error("Bad reply comment ID: "+this.getParentCommentID());return new(b("URI"))(this.basePermalink).addQueryData({comment_id:d,reply_comment_id:c}).toString()};b("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/reply_fetch.php":{mode:b("MercuryServerDispatcher").IMMEDIATE}});e.exports=a}),null);
__d("CommentSection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT:"default",FRIENDS:"friends"})}),null);
__d("UFIToplevelPagedCommentListImpl",["ActorURI","CommentSection","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIOrderingModeStore","UFIPagedCommentListImpl","URI","WebCommentViewOption"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("UFIPagedCommentListImpl"));g=c&&c.prototype;function a(a,c,d){g.constructor.call(this,a),this.clientHasAll=!1,this.orderingMode=c,this.section=d||b("CommentSection").DEFAULT,this.clientHasAll=!1}a.prototype.fetchComments=function(a,c,d){b("UFIConfig").logCommentLoad&&b("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:c,is_reply:!1});a={ft_ent_identifier:this.feedbackTargetID,viewas:d&&d.viewAs?d.viewAs+"":null,source:d&&d.feedbackSource,offset:a,length:c,orderingmode:this.orderingMode,section:this.section,direction:d&&d.direction,feed_context:d?d.feedContext:null,numpagerclicks:d?d.numPagerClicks:null,translate_all:d?d.translateAll:null,clientcommentcount:this.count};(this.orderingMode!==b("WebCommentViewOption").RANKED_THREADED||this.orderingMode!==b("WebCommentViewOption").RANKED_UNFILTERED||this.orderingMode!==b("WebCommentViewOption").RECENT_ACTIVITY)&&delete a.clientcommentcount;(!d||!d.viewAs)&&(a[b("ActorURI").PARAMETER_ACTOR]=this.actorID);d&&d.interactionRequestCorrelationID&&(a.ircid=d.interactionRequestCorrelationID);b("MercuryServerDispatcher").trySend("/ajax/ufi/comment_fetch.php",a)};a.prototype.commentsFromCommentIDs=function(a,c,d){var e={},f=c,g=c+d-1,h=b("UFIOrderingModeStore").isInverted(this.orderingMode,this.feedbackTargetID);for(var i=0;i<d;i++){var j=h?g-i:f+i;j=b("UFIComments").getComment(a[j]);j&&(e[c+i]=j)}return e};a.prototype.getOrderingMode=function(){return this.orderingMode};a.prototype.getCommentSection=function(){return this.section};a.prototype.setClientHasAll=function(a){this.clientHasAll=a};a.prototype.getClientHasAll=function(){return this.clientHasAll};a.prototype.buildCommentPermalink=function(a,c,d){return!this.basePermalink?null:new(b("URI"))(this.basePermalink).addQueryData({comment_id:c}).toString()};b("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/comment_fetch.php":{mode:b("MercuryServerDispatcher").IMMEDIATE}});e.exports=a}),null);
__d("UFICentralUpdates",["Arbiter","ArbiterMixin","BanzaiODS","FeedbackSourceType","LiveTimer","ShortProfiles","UFIConstants","UFIUserActions","mixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("feedback",1e-4);var g=0,h={},i={},j=[];function k(){if(!g){var a=h,b=i;h={};i={};Object.keys(a).length&&m("feedback-updated",a);Object.keys(b).length&&m("comments-updated",b);j.pop()}}function l(){if(j.length)return j[j.length-1];else return b("UFIConstants").UFIPayloadSourceType.UNKNOWN}function m(a,b){n.inform(a,{updates:b,payloadSource:l()})}var n=babelHelpers["extends"]({},b("ArbiterMixin"),{handleUpdateWithUserAction:function(a,c){c.actions.forEach(function(d){a==b("UFIConstants").UFIPayloadSourceType.ENDPOINT_HIDE_COMMENT?Object.prototype.hasOwnProperty.call(d,"commentid")&&(b("UFIUserActions").setHideAsSpam(d.commentid,!0,{source:b("FeedbackSourceType").NONE}),b("Arbiter").inform("bulk_actions_hidden",{})):this.handleUpdate(a,c)}.bind(this))},handleUpdate:function(a,c){__p&&__p();Object.keys(c).length&&this.synchronizeInforms(function(){j.push(a);var d=babelHelpers["extends"]({payloadsource:l()},c);d.adjustedRanges&&this.inform("update-ranges",d);this.inform("update-feedback",d);this.inform("update-comment-lists",d);this.inform("update-comments",d);this.inform("update-actions",d);b("ShortProfiles").setMulti(c.profiles||{});c.servertime&&b("LiveTimer").restart(c.servertime)}.bind(this))},didUpdateFeedback:function(a){h[a]=!0,k()},didUpdateComment:function(a){i[a]=!0,k()},synchronizeInforms:function(a){g++;try{a()}catch(a){throw a}finally{g--,k()}}});e.exports=n}),null);
__d("UFICommentAction",["UFICommentActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={bulkReview:function(a,b){return{type:"bulk_review",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:b.fbid,comment:b}},changeReaction:function(a,c,d,e){return{type:b("UFICommentActionType").CHANGE_REACTION,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,reactionType:d,target:e}},changeReactionSuccess:function(a,c,d){return{type:b("UFICommentActionType").CHANGE_REACTION_SUCCESS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,reactionType:d}},changeReactionFailure:function(a,c,d){return{type:b("UFICommentActionType").CHANGE_REACTION_FAILURE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,reactionType:d}},changeVote:function(a,c,d,e,f){return{arrowType:f,comment:c,currentVoteState:e,fbid:c.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,target:d,type:b("UFICommentActionType").CHANGE_VOTE}},changeVoteFailure:function(a,c,d,e){return{comment:c,fbid:c.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:b("UFICommentActionType").CHANGE_VOTE_FAILURE,voteCount:d,voteState:e}},changeVoteSuccess:function(a,c,d,e){return{comment:c,fbid:c.fbid,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:b("UFICommentActionType").CHANGE_VOTE_SUCCESS,voteCount:d,voteState:e}},updateVoteCountAndState:function(a,c,d,e){return{fbid:c,ftentidentifier:a.ftentidentifier,instanceID:a.instanceid,type:b("UFICommentActionType").UPDATE_VOTE_COUNT_AND_STATE,voteCount:d,voteState:e}},mounted:function(a,c){return{type:b("UFICommentActionType").MOUNTED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.comment.fbid,renderedComment:c,contextArgs:a}},unmounted:function(a,c){return{type:b("UFICommentActionType").UNMOUNTED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.comment.fbid,renderedComment:c,contextArgs:a}},changeVisibility:function(a,c,d){return{type:b("UFICommentActionType").CHANGE_VISIBILITY,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.comment.fbid,renderedComment:c,contextArgs:a,visibility:d}},edit:function(a,c){return{type:b("UFICommentActionType").EDIT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c}},remove:function(a,c,d,e){return{type:b("UFICommentActionType").REMOVE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d,onConfirm:e}},removeAndBlock:function(a,c,d,e){return{type:b("UFICommentActionType").REMOVE_AND_BLOCK,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d,onConfirm:e}},delete_comment_and_remove_commenter:function(a,c,d,e){return{type:b("UFICommentActionType").DELETE_COMMENT_AND_REMOVE_COMMENTER,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d,onConfirm:e}},mute_member:function(a,c,d,e){return{type:b("UFICommentActionType").MUTE_MEMBER,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d,onConfirm:e}},toggle_text_delights:function(a,c,d){return{type:b("UFICommentActionType").TOGGLE_TEXT_DELIGHTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d}},removePreview:function(a,c,d){return{type:b("UFICommentActionType").REMOVE_PREVIEW,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d}},toggleLike:function(a,c,d){return{type:b("UFICommentActionType").TOGGLE_LIKE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,like:!c.hasviewerliked,target:d}},translate:function(a,c,d){return{type:b("UFICommentActionType").TRANSLATE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,trigger:d}},markAsSpam:function(a,c,d){return{type:b("UFICommentActionType").TOGGLE_MARK_AS_SPAM,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_spam:!0,target:d}},markAsNotSpam:function(a,c,d){return{type:b("UFICommentActionType").TOGGLE_MARK_AS_SPAM,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_spam:!1,target:d}},inlineBan:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_INLINE_BAN,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_banned:!0,ownerid:e,target:d}},undoInlineBan:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_INLINE_BAN,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_banned:!1,ownerid:e,target:d}},inlineStreamBan:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_INLINE_STREAM_BAN,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_banned:!0,ownerid:e,target:d}},undoInlineStreamBan:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_INLINE_STREAM_BAN,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,is_banned:!1,ownerid:e,target:d}},embed:function(a,c){return{type:b("UFICommentActionType").EMBED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c}},deleteCommentWithFeedback:function(a,c,d){return{type:b("UFICommentActionType").DELETE_COMMENT_WITH_FEEDBACK,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d}},pinByAuthor:function(a,c,d){return{comment:c,type:b("UFICommentActionType").CHANGE_PIN_BY_AUTHOR,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,pinnedByAuthor:d}},manageConstituentBadge:function(a,c){return{type:b("UFICommentActionType").MANAGE_CONSTITUENT_BADGE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c}},keepSpam:function(a,c,d){return{type:b("UFICommentActionType").TOGGLE_KEEP_SPAM,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,fbid:c.fbid,comment:c,target:d}},appealSpam:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_APPEAL_SPAM,instanceID:a.instanceid,ftentidentifier:c.fbid,fbid:c.fbid,comment:c,target:d,feedback:e}},secureAccount:function(a,c,d,e){return{type:b("UFICommentActionType").TOGGLE_SECURE_ACCOUNT,instanceID:a.instanceid,ftentidentifier:c.fbid,fbid:c.fbid,comment:c,target:d,feedback:e}}};e.exports=a}),null);
__d("XUFICommentVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/vote/",{new_vote_count:{type:"Int"},new_vote_state:{type:"Enum",enumType:0},old_vote_count:{type:"Int"},old_vote_state:{type:"Enum",enumType:0}})}),null);
__d("UFICommentVoteUserActions",["AsyncRequest","AsyncResponse","ChannelClientID","ClientIDs","UFICentralUpdates","UFICommentAction","UFIComments","UFICommentVoteSyncStore","UFIConstants","UFIFeedbackTargets","UFISharedDispatcher","XUFICommentVoteController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a={changeCommentVote:function(a,c,d,e,f,k){__p&&__p();var l=b("UFIComments").getComment(a),m=b("UFICommentVoteSyncStore").getVoteCount(c),n=b("UFICommentVoteSyncStore").getOptimisticVoteState(e,d),o=b("UFICommentVoteSyncStore").getOptimisticVoteCount(c,n);if(!l||l.__typename!=="saved"||e===n)return;b("UFIFeedbackTargets").getFeedbackTarget(l.ftentidentifier,function(c){c=j(l,c,o,n);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:c});g&&g.abort();c=b("XUFICommentVoteController").getURIBuilder().getURI();g=new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({client_id:b("ClientIDs").getNewClientID(),comment_id:a,ft_ent_identifier:l.ftentidentifier,instance_id:f.instanceid,legacy_id:l.legacyid,new_vote_count:o,new_vote_state:n,old_vote_count:m,old_vote_state:e,session_id:b("ChannelClientID").getID(),source:f.source}).setErrorHandler(function(a){h(a)}).setHandler(function(a){i(a)})});g&&g.send()}};function h(c){__p&&__p();var a=c.request;if(!a||!a.data)return;a=a.data;var d=b("UFIComments").getComment(a.comment_id);if(!d||d.__typename!=="saved")return;var e=a.ft_ent_identifier,f=a.instance_id,h=a.old_vote_count;a=a.old_vote_state;if(!e||!f)return;b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeVoteFailure({instanceid:f,ftentidentifier:e},d,h,a));b("AsyncResponse").defaultErrorHandler(c)}function i(a){__p&&__p();a=a.request;if(!a||!a.data)return;a=a.data;var c=b("UFIComments").getComment(a.comment_id);if(!c||c.__typename!=="saved")return;var d=a.ft_ent_identifier,e=a.instance_id,f=a.new_vote_count;a=a.new_vote_state;if(!d||!e)return;b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeVoteSuccess({instanceid:e,ftentidentifier:d},c,f,a))}function j(a,c,d,e){var f=a.id;c=[k(a,d,e,f,c.actorforpost)];a.voteState!==e&&c.push({commentID:f,actionType:b("UFIConstants").UFIActionType.COMMENT_VOTE,voteCount:d,voteEnabled:!0,voteState:e});return c}function k(a,c,d,e,f){return{actionType:b("UFIConstants").UFIActionType.COMMENT_VOTE,commentID:e,voteCount:c,voteEnabled:a.voteEnabled,voteState:d}}e.exports=a}),null);
__d("CommentApprovalsResponsibleUserAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APPEALED:"APPEALED",SECURED_ACCOUNT:"SECURED_ACCOUNT"})}),null);
__d("LiveWWWFeedbackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsMSite=function(a){this.$1.is_m_site=a;return this};a.prototype.setMechanism=function(a){this.$1.mechanism=a;return this};a.prototype.setOriginatedLocally=function(a){this.$1.originated_locally=a;return this};a.prototype.setRecipientID=function(a){this.$1.recipient_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeSinceSub=function(a){this.$1.time_since_sub=a;return this};a.prototype.setUpdateType=function(a){this.$1.update_type=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,event:!0,is_m_site:!0,mechanism:!0,originated_locally:!0,recipient_id:!0,time:!0,time_since_sub:!0,update_type:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("UFIComments",["invariant","ClientIDs","CommentApprovalsResponsibleUserAction","ImmutableObject","LiveWWWFeedbackTypedLogger","UFICentralUpdates","UFIConstants","randomInt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=5,i={},j={},k={},l={},m={};l.shareOnComment=m;var n="DONT_SHOW_SHARE_OPTION";function o(a){return a in j?j[a]:a}function p(a,c){__p&&__p();a.forEach(function(a){__p&&__p();var d=a.ftentidentifier,e=b("UFIConstants").UFIPayloadSourceType,f=a.clientid,g=!1,l=babelHelpers["extends"]({},a);if(f){delete l.clientid;g=b("ClientIDs").isExistingClientID(f);if(g&&j[f]){new(b("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment").setOriginatedLocally(!0).setCommentID(a.id).log();return}}(c===b("UFIConstants").UFIPayloadSourceType.LIVE_SEND||c===b("UFIConstants").UFIPayloadSourceType.STREAMING)&&(l.islive=!0);(c===e.ENDPOINT_COMMENT_FETCH||c===e.ENDPOINT_ID_COMMENT_FETCH)&&(l.fromfetch=!0);g&&i[f]&&(l.ufiinstanceid=i[f].ufiinstanceid,l.trackingID=i[f].trackingID,j[f]=a.id,k[a.id]=f,i[a.id]=i[f],delete i[f],b("UFICentralUpdates").didUpdateComment(f));if(c===e.LIVE_SEND||c===b("UFIConstants").UFIPayloadSourceType.STREAMING||c===e.USER_ACTION||c===e.ENDPOINT_ADD_COMMENT||c===e.ENDPOINT_EDIT_COMMENT){l.isunseen=!0;if(a.body&&a.body.text&&a.body.text.trim().split(/\s+/).length>=h&&(c===e.USER_ACTION||c===e.ENDPOINT_ADD_COMMENT)){g=m[d];g!==n&&(m[d]=!g||a.id===g||L.getLocalID(a.id)===g?a.id:n)}}L.setComment(a.id,new(b("ImmutableObject"))(l));b("UFICentralUpdates").didUpdateComment(a.id);b("UFICentralUpdates").didUpdateFeedback(d)})}function q(a,c){__p&&__p();for(var d=0;d<a.length;d++){var e=a[d];switch(e.actiontype){case b("UFIConstants").UFIActionType.LIKE_ACTION:L.getComment(e.entidentifier)&&t(e.clientid,e.entidentifier,e.hasviewerliked,e.likecount,e.reactiondata,c);break;case b("UFIConstants").UFIActionType.COMMENT_LIKE:t(e.clientid,e.commentid,e.viewerliked,e.likecount,e.reactiondata,c);break;case b("UFIConstants").UFIActionType.MUTE_MEMBER:u(e);break;case b("UFIConstants").UFIActionType.REACTION:L.getComment(e.entidentifier)&&v(e.entidentifier,e);break;case b("UFIConstants").UFIActionType.COMMENT_REACTION:v(e.commentid,e);break;case b("UFIConstants").UFIActionType.DELETE_COMMENT:z(e);break;case b("UFIConstants").UFIActionType.LIVE_DELETE_COMMENT:A(e);break;case b("UFIConstants").UFIActionType.CHANGE_ACCEPTED_ANSWER:B(e);break;case b("UFIConstants").UFIActionType.REMOVE_PREVIEW:C(e);break;case b("UFIConstants").UFIActionType.COMMENT_SET_SPAM:D(e);break;case b("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM:E(e);break;case b("UFIConstants").UFIActionType.COMMENT_APPEAL_SPAM:F(e);break;case b("UFIConstants").UFIActionType.COMMENT_SECURE_ACCOUNT:G(e);break;case b("UFIConstants").UFIActionType.CONFIRM_COMMENT_REMOVAL:H(e);break;case b("UFIConstants").UFIActionType.TRANSLATE_COMMENT:x(e);break;case b("UFIConstants").UFIActionType.COMMENT_LIKECOUNT_UPDATE:w(e);break;case b("UFIConstants").UFIActionType.UPDATE_CONSTITUENT_BADGE:J(e);break;case b("UFIConstants").UFIActionType.COMMENT_VOTE:s(e);break;case b("UFIConstants").UFIActionType.COMMENT_AUTHOR_PIN_CHANGE:r(e)}}}function r(a){var b=L.getComment(a.commentid);b&&K(b.id,{ispinnedbyauthor:a.ispinnedbyauthor})}function s(a){var b=L.getComment(a.commentID);b&&K(b.id,{voteCount:a.voteCount,voteEnabled:a.voteEnabled,voteState:a.voteState})}function t(a,c,d,e,f,g){var h=L.getComment(c);if(h){h={};a=a&&b("ClientIDs").isExistingClientID(a);a||(h.hasviewerliked=d,h.likecount=e,f&&(h.reactioncount=f.reactioncount,h.reactioncountmap=f.reactioncountmap,h.reactioncountreduced=f.reactioncountreduced,h.viewerreaction=f.viewerreaction));(g===b("UFIConstants").UFIPayloadSourceType.LIVE_SEND||g===b("UFIConstants").UFIPayloadSourceType.STREAMING)&&new(b("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment_like").setOriginatedLocally(Boolean(a)).setCommentID(c).log();h.likeconfirmhash=b("randomInt")(0,1024);K(c,h)}}function u(a){for(var b in i){var c=i[b];if(c.author===a.authorid){c={};c.ismuted=a.shouldmute;K(b,c)}}}function v(a,c){__p&&__p();var d=L.getComment(a);if(d){var e={};if(c.clientid&&b("ClientIDs").isExistingClientID(c.clientid)&&c.viewerreaction!==d.viewerreaction)return;e.hasviewerliked=c.hasviewerliked;e.likecount=c.likecount;e.reactioncount=c.reactioncount;e.reactioncountmap=c.reactioncountmap;e.reactioncountreduced=c.reactioncountreduced;e.viewerreaction=c.viewerreaction;K(a,e)}}function w(a){var c=L.getComment(a.commentid);if(c&&a.hasviewerliked===c.hasviewerliked){c={likecount:a.likecount,likeconfirmhash:b("randomInt")(0,1024)};K(a.commentid,c)}}function x(a){var b=a.commentid,c=L.getComment(b);if(c){c={translationdata:a.translationdata};K(b,c)}}function y(a){a={reportLink:a.reportLink,commenterIsFOF:a.commenterIsFOF,userIsMinor:a.userIsMinor,giveFeedbackLink:a.giveFeedbackLink,reportOptionsLink:a.reportOptionsLink,isBroadcast:a.isBroadcast,showStreamBanControls:a.showStreamBanControls};return a}function z(a){a=L.getComment(a.commentid);a&&I(a,b("UFIConstants").UFIStatus.DELETED)}function A(a){a=L.getComment(a.commentid);a&&a.status!==b("UFIConstants").UFIStatus.DELETED&&I(a,b("UFIConstants").UFIStatus.LIVE_DELETED)}function B(a){K(a.commentid,{postacceptedanswer:a.isaccepted?a.commentid:null})}function C(a){K(a.commentid,{attachment:null})}function D(a){var c=L.getComment(a.commentid);a=a.shouldHideAsSpam?b("UFIConstants").UFIStatus.SPAM_DISPLAY:null;c&&I(c,a)}function E(a){a=L.getComment(a.commentid);a&&K(a.id,{needsApproval:!1,isApproved:!0})}function F(a){a=L.getComment(a.commentid);a&&K(a.id,{appealStatus:b("CommentApprovalsResponsibleUserAction").APPEALED,canAppeal:!1,canSecure:!1})}function G(a){a=L.getComment(a.commentid);a&&K(a.id,{appealStatus:b("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT,canAppeal:!1,canSecure:!1})}function H(a){K(a.commentid,y(a))}function I(a,b){K(a.id,{priorstatus:a.status,status:b})}function J(a){var b=L.getComment(a.commentid);if(b){b={constituentTitle:a.constituentTitle,hasConstituentBadge:a.hasConstituentBadge};K(a.commentid,b)}}function K(a,c){var d=L.getComment(a)||new(b("ImmutableObject"))({});L.setComment(a,b("ImmutableObject").set(d,c));b("UFICentralUpdates").didUpdateComment(d.id);b("UFICentralUpdates").didUpdateFeedback(d.ftentidentifier)}var L={getRenderKey:function(a){return"comment"+(a in k?k[a]:a)},getLocalID:function(a){return a in k?k[a]:a},getComment:function(a){return a===b("UFIConstants").unavailableCommentKey?null:i[o(a)]},setComment:function(a,c){c instanceof b("ImmutableObject")||g(0,4388),i[o(a)]=c},setCacheVariable:function(a,b){a.length!==0||g(0,4389),l[a]=b},getCacheVariable:function(a){return l[a]},resetComments:function(a){for(var b in a)delete i[o(b)]},getCommentsForFTEntIdentifier:function(a){var b=[];for(var c in i){var d=i[c];d.ftentidentifier==a&&b.push(d)}return b}};b("UFICentralUpdates").subscribe("update-comments",function(a,b){b.comments&&b.comments.length&&p(b.comments,b.payloadsource),b.privatecomments&&b.privatecomments.length&&p(b.privatecomments,b.payloadsource),b.pinnedcomments&&b.pinnedcomments.length&&p(b.pinnedcomments,b.payloadsource),b.livethreadedcomments&&b.livethreadedcomments.length&&p(b.livethreadedcomments,b.payloadsource),b.authorpinnedcomments&&b.authorpinnedcomments.length&&p(b.authorpinnedcomments,b.payloadsource)});b("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&q(b.actions,b.payloadsource)});e.exports=L}),6);
__d("UFIFeedbackTargets",["Bootloader","KeyedCallbackManager","UFICentralUpdates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("KeyedCallbackManager"))();function h(a){var c;if(!a)return;var d=babelHelpers["extends"]({},a);delete d.commentlist;delete d.commentcount;b("UFICentralUpdates").didUpdateFeedback(a.entidentifier);g.addResourcesAndExecute((c={},c[a.entidentifier]=d,c))}function i(a,c){__p&&__p();b("Bootloader").loadModules(["UFIFeedbackMutator"],function(b){__p&&__p();for(var d=0;d<a.length;d++){var e=a[d];e.arecommentsdisabled=!!e.arecommentsdisabled;e.cancomment=!!e.cancomment;e.hasviewerliked=!!e.hasviewerliked;e.hasviewersubscribed=!!e.hasviewersubscribed;e.likecount=e.likecount||0;var f=g.getResource(e.entidentifier);if(!f)break;var i=b.getHandlerForAction(e);h(i(f,e,c))}},"UFIFeedbackTargets")}a={getFeedbackTarget:function(a,b){a=g.executeOrEnqueue(a,b);b=g.getUnavailableResources(a);b.length;return a},getFeedbackTargetIfExists:function(a){return g.getResource(a)||null},unsubscribe:function(a){g.unsubscribe(a)}};b("UFICentralUpdates").subscribe("update-feedback",function(a,b){a=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];a&&h(a)});b("UFICentralUpdates").subscribe("update-actions",function(a,b){b.actions&&b.actions.length&&i(b.actions,b.payloadsource)});e.exports=a}),6);
__d("UFIReactionsUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getReactionData:function(a,b,c,d){__p&&__p();b=parseInt(b,10);var e=!!b,f=a.reactorids?a.reactorids.slice(0):[],g=f.indexOf(c),h=0;e?g<0&&(c&&f.unshift(c),h=1):g>-1&&(f.splice(g,1),h=-1);g=Math.max(a.reactioncount+h,0);h=a.reactioncountreduced;h&&!isNaN(h)&&(d?h=d(g):h=g.toString());d=a.reactioncountmap||{};var i,j=a.viewerreaction;j&&d[j]&&(d[j]["default"]=Math.max((d[j]["default"]||0)-1,0),i=d[j].reduced,i&&!isNaN(i)&&(d[j].reduced=d[j]["default"].toString()));e&&d[b]&&(d[b]["default"]=(d[b]["default"]||0)+1,i=d[b].reduced,i&&!isNaN(i)&&(d[b].reduced=d[b]["default"].toString()));i=a.userreactions;(!i||Array.isArray(i))&&(i={});c&&(e?i[c]=b:delete i[c]);e=null;if(a.reactionsentences){c=!(j&&b);e={current:a.reactionsentences[c?"alternate":"current"],alternate:a.reactionsentences[c?"current":"alternate"]}}return{reactioncount:g,reactioncountmap:d,reactioncountreduced:h,reactionsentences:e,reactorids:f,userreactions:i,viewerreaction:b}},getReactionCountMapFromSummary:function(a){var b={};if(!a)return b;for(var c=0;c<a.length;c++){var d=a[c],e=d.feedback_reaction.key;b[e]={"default":d.reactors&&d.reactors.count,reduced:d.reactors&&d.reactors.display_count}}return b}};e.exports=a}),null);
__d("UFIStoryAction",["UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={changeAcceptedAnswer:function(a,c,d){return{type:b("UFIStoryActionType").CHANGE_ACCEPTED_ANSWER,instanceID:a.instanceid,ftentidentifier:c.ftentidentifier,comment:c,doAccept:d}},commentsArrived:function(a,c,d,e,f,g,h){return{type:b("UFIStoryActionType").COMMENTS_ARRIVED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,section:f,newOffset:c,newLength:d,source:e,interactionRequestCorrelationID:g,liveVideoCommentPermalinkID:h}},pageInComments:function(a,c,d,e,f){return{type:b("UFIStoryActionType").PAGE_IN_COMMENTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,interactionRequestCorrelationID:a.interactionRequestCorrelationID,commentID:c,direction:d,nextRange:e,section:f}},showComments:function(a){return{type:b("UFIStoryActionType").SHOW_COMMENTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},showReplies:function(a,c,d){return{type:b("UFIStoryActionType").SHOW_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c,initiatorComment:d}},spamFetched:function(a,c,d,e){return{type:b("UFIStoryActionType").SPAM_FETCHED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,viewas:c,commentIDs:d,parentCommentID:e}},changeReaction:function(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=null);return{type:b("UFIStoryActionType").CHANGE_REACTION,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,contextArgs:a,reactionType:c,target:d,sphericalYaw:e,sphericalPitch:f}},changeReactionSuccess:function(a,c){return{type:b("UFIStoryActionType").CHANGE_REACTION_SUCCESS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:c}},changeReactionFailure:function(a,c){return{type:b("UFIStoryActionType").CHANGE_REACTION_FAILURE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:c}},toggleReplies:function(a,c){return{type:b("UFIStoryActionType").TOGGLE_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c}},friendTyping:function(a){return{type:b("UFIStoryActionType").FRIEND_TYPING,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},someoneTyping:function(a){return{type:b("UFIStoryActionType").SOMEONE_TYPING,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},typingStopped:function(a){return{type:b("UFIStoryActionType").TYPING_STOPPED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},pinComment:function(a,c,d){d===void 0&&(d=null);return{type:b("UFIStoryActionType").LIVE_PIN_COMMENT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c,pinEventID:d}},unpinComment:function(a,c){c===void 0&&(c=null);return{type:b("UFIStoryActionType").LIVE_UNPIN_COMMENT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:null,pinEventID:c}},showFacecastReplies:function(a,c){return{type:b("UFIStoryActionType").SHOW_FACECAST_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c}},hideFacecastReplies:function(a,c){return{type:b("UFIStoryActionType").HIDE_FACECAST_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,isExplicit:c}},addFacecastReply:function(a,c){return{type:b("UFIStoryActionType").ADD_FACECAST_REPLY,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:c}},addFacecastReplies:function(a,c){return{type:b("UFIStoryActionType").ADD_FACECAST_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentIDs:c}},facecastRepliesLoaded:function(a,c){return{type:b("UFIStoryActionType").FACECAST_REPLIES_LOADED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c}},setCommentsScrollDistance:function(a,c){return{type:b("UFIStoryActionType").SET_COMMENTS_SCROLL_DISTANCE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,scrollDist:c}},handleNewComments:function(a,c){return{type:b("UFIStoryActionType").HANDLE_NEW_COMMENTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,numComments:c}},handleNewFacecastReply:function(a,c){return{type:b("UFIStoryActionType").HANDLE_NEW_FACECAST_REPLY,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:c}},setCommentReactionsMenuShown:function(a,c){return{type:b("UFIStoryActionType").SET_COMMENT_REACTIONS_MENU_SHOWN,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentReactionsMenuShown:c}}};e.exports=a}),null);
__d("UFIUserActionUtils",["Nectar","TrackingNodes","collectDataAttributes"],(function(a,b,c,d,e,f){__p&&__p();a={trackingData:function(a){if(!a)return{ft:{}};var c={ft:b("collectDataAttributes")(a,["ft"]).ft};if(g(c.ft.tn))return{};b("Nectar").addModuleData(c,a);return c}};function g(a){if(a){a=b("TrackingNodes").parseTrackingNodeString(a);for(var c=0;c<a.length;c++){var d=a[c][0];switch(d){case b("TrackingNodes").types.COMMENT:return!0}}}return!1}e.exports=a}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("UFIVideoPlayerRegistry",["EventEmitter","VideoPlayerReason","ViewportBounds","destroyOnUnload","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Set(),m=new Map();b("destroyOnUnload")(function(){g.removeAllListeners(),h.clear(),i.clear(),j.clear(),k.clear(),l.clear()});function n(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function o(a,b){__p&&__p();var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}function p(a,b){__p&&__p();var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}var q={registerVideoPlayerController:function(a){var b=a.getVideoID(),c=k.get(b);c?c.push(a):(c=[a],k.set(b,c),j["delete"](b));l.forEach(function(a){return a()});a=h.get(b);if(!a)return;a.forEach(function(a){return this._associateUFIController(a,b)}.bind(this))},addOnRegisterListener:function(a){l.add(a)},removeOnRegisterListener:function(a){l["delete"](a)},getAvailableVideoPlayerController:function(a){return i.get(a)},seekAvailableVideoPlayerController:function(a,c){a=q.getAvailableVideoPlayerController(a);if(!a)return;["ready","playing","paused","finished"].includes(a.getState())&&(a.pause(b("VideoPlayerReason").SEEK),a.seek(c),a.play(b("VideoPlayerReason").SEEK))},scrollToAvailableVideo:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return;a=b("ViewportBounds").getElementPosition(a.getRootNode());window.scroll(0,a.y)},setAvailableVideoPlayerControllerSphericalViewport:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;a.emit("SphericalVideoViewportTagComment/click",b)},getAvailableVideoPlayerControllerForElement:function(a,c){if(!a)return null;var d=j.get(c)||new Map(),e=b("getOrCreateDOMID")(a);a=d.get(e)||this.findVideoPlayerControllerForElement(a,c);d.set(e,a);j.set(c,d);return a},getAvailableVideoPlayerControllerTimeForElement:function(a,b){if(!a)return null;a=q.getAvailableVideoPlayerControllerForElement(a,b);if(!a)return null;b=a.getCurrentTimePosition();return b>=0?Math.floor(b):null},getAvailableVideoPlayerControllerTime:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return null;a=a.getCurrentTimePosition();return a>=0?Math.floor(a):null},registerUFIController:function(a,b,c){var d=a.getInstanceID(),e=a.getFluentContentToken();if(!e)return;var f=h.get(e);f?f.push(a):(f=[a],h.set(e,f));g.addListener(d+"/register",b);g.addListener(d+"/unregister",c);this._associateUFIController(a,e)},getAvailableUFIController:function(a){__p&&__p();var b=m.get(a);if(b)return b;var c=h.get(a.getVideoID());if(!c)return null;c.length===1?b=c[0]:b=p(a.getRootNode(),c.map(function(a){return[a.getRootNode(),a]}));if(b){c=this.findVideoPlayerControllerForElement(b.getRootNode(),a.getVideoID());if(c!==a)return null;m.set(a,b)}return b},findVideoPlayerControllerForElement:function(a,b){b=k.get(b);if(!b)return null;if(b.length===1)return b[0];return!a?null:o(a,b.filter(function(a){return!a.isState("destroyed")}).map(function(a){return[a.getRootNode(),a]}))},_associateUFIController:function(a,c){__p&&__p();var d=a.getInstanceID();a=this.findVideoPlayerControllerForElement(a.getRootNode(),c);if(!a||a.isState("destroyed"))return;c=i.get(d);if(c){if(!c.isState("destroyed")&&b("getOrCreateDOMID")(c.getRootNode())===b("getOrCreateDOMID")(a.getRootNode()))return;g.emit(d+"/unregister")}i.set(d,a);g.emit(d+"/register",a)}};e.exports=q}),null);
__d("XUFICommentReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/reaction/",{reaction_type:{type:"Enum",enumType:0}})}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("UFIReactionUserActions",["ActorURI","AsyncResponse","ChannelClientID","ClientIDs","MercuryServerDispatcher","NumberFormat","QE2Logger","UFICentralUpdates","UFICommentAction","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFIReactionPendingRequestsStore","UFIReactionsUtils","UFIReactionSyncStore","UFIReactionTypes","UFISharedDispatcher","UFIStoryAction","UFIUserActionUtils","UFIVideoPlayerRegistry","XUFICommentReactionController","XUFIReactionController","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={changeReaction:function(a,c,d,e,f,g){__p&&__p();f===void 0&&(f=null),g===void 0&&(g=null),b("UFIFeedbackTargets").getFeedbackTarget(a,function(h){__p&&__p();var i=q(h,c);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:i});i=b("UFIUserActionUtils").trackingData(e);var j={};j[b("ActorURI").PARAMETER_ACTOR]=h.actorforpost;var k=babelHelpers["extends"]({client_id:b("ClientIDs").getNewClientID(),ft_ent_identifier:a,reaction_type:c,root_id:d.rootid,session_id:b("ChannelClientID").getID(),source:d.source,feedback_referrer:d.feedbackReferrer,instance_id:d.instanceid},j,i);if(d.fluentContentToken){h=d.fluentContentToken;var l=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(e,h);l&&l.isSpherical()&&(k.video_playback_timestamp=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(e,h));d.isLiveVOD?k.on_demand_content_time_offset=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(e,h):d.islivestreaming&&(k.live_content_time_offset=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(e,h));l&&l.isSpherical()&&b("ifRequired")("SphericalViewportControlStore",function(a){a=a.getOrientation(l.getVideoPlayerID());a&&(f!==null&&g!==null?(k.spherical_yaw=f,k.spherical_pitch=g):(k.spherical_pitch=Math.round(a.pitch),k.spherical_yaw=Math.round(a.yaw)))})}b("MercuryServerDispatcher").trySend(b("XUFIReactionController").getURIBuilder().getURI(),k)})},changeCommentReaction:function(a,c,d,e){var f=b("UFIComments").getComment(a);f&&f.__typename==="saved"&&f.viewerreaction!=c&&b("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(g){var h=b("UFIUserActionUtils").trackingData(e),i=p(f,g,c);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:i});i={};i[b("ActorURI").PARAMETER_ACTOR]=g.actorforpost;b("MercuryServerDispatcher").trySend(b("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({comment_id:a,legacy_id:f.legacyid,reaction_type:c,ft_ent_identifier:f.ftentidentifier,source:d.source,instance_id:d.instanceid,client_id:b("ClientIDs").getNewClientID(),session_id:b("ChannelClientID").getID()},h,i))})}},h={},i=b("XUFIReactionController").getURIBuilder().getURI();h[i]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:f,handler:d};i=b("XUFICommentReactionController").getURIBuilder().getURI();h[i]={mode:b("MercuryServerDispatcher").BATCH_CONDITIONAL,batch_if:a,batch_function:c,error_handler:o,handler:n};b("MercuryServerDispatcher").registerEndpoints(h);function a(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier&&a.comment_id==b.comment_id}function c(a,b){return b}var j="feedback_reactions_www_rollback_universe";function k(){b("QE2Logger").logExposureForUser(j)}function l(a,c){var d=b("UFIReactionPendingRequestsStore").getPendingRequests(a);if(d>0)return;var e=b("UFIReactionSyncStore").getLastKnownReaction(a);if(c===e)return;b("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=q(a,e);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function d(a,c){a=c.data;var d=a.ft_ent_identifier,e=a.reaction_type;b("UFISharedDispatcher").dispatch(b("UFIStoryAction").changeReactionSuccess({instanceid:a.instance_id,ftentidentifier:d},e));b("setImmediate")(function(){return l(d,e)})}function f(a){__p&&__p();var c=a.request.data,d=c.ft_ent_identifier,e=c.reaction_type;k();var f=b("UFIConfig").reactionsHasReactionsRollback,g=b("UFIConfig").reactionsHasReactionsRetry;if(g&&!c.retry_attempt){b("MercuryServerDispatcher").trySend(b("XUFIReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},c,{retry_attempt:1}));return}b("UFISharedDispatcher").dispatch(b("UFIStoryAction").changeReactionFailure({instanceid:c.instance_id,ftentidentifier:d},e));f&&b("setImmediate")(function(){return l(d,e)});b("AsyncResponse").defaultErrorHandler(a)}function m(a,c,d){var e=b("UFIReactionPendingRequestsStore").getPendingRequestsForComment(c.fbid);if(e>0)return;var f=b("UFIReactionSyncStore").getLastKnownCommentReaction(c.fbid);if(d===f)return;b("UFIFeedbackTargets").getFeedbackTarget(a,function(a){a=p(c,a,f);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:a})})}function n(a,c){a=c.data;var d=a.ft_ent_identifier,e=a.reaction_type,f=b("UFIComments").getComment(a.comment_id);if(!f||f.__typename!=="saved")return;b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeReactionSuccess({instanceid:a.instance_id,ftentidentifier:d},f,e));b("setImmediate")(function(){return m(d,f,e)})}function o(a){__p&&__p();var c=a.request.data,d=c.ft_ent_identifier,e=c.reaction_type,f=b("UFIComments").getComment(c.comment_id);if(!f)return;k();var g=b("UFIConfig").reactionsHasCommentReactionsRollback,h=b("UFIConfig").reactionsHasCommentReactionsRetry;if(h&&!c.retry_attempt){b("MercuryServerDispatcher").trySend(b("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},c,{retry_attempt:1}));return}f&&f.__typename==="saved"&&(b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeReactionFailure({instanceid:c.instance_id,ftentidentifier:d},f,e)),g&&b("setImmediate")(function(){return m(d,f,e)}));b("AsyncResponse").defaultErrorHandler(a)}function p(a,c,d){var e=a.id,f=[s(a,d,e,c.supportedreactions||[],c.actorforpost)];d=d===b("UFIReactionTypes").LIKE;if(c.hasviewerliked!==d){c=d?1:-1;f.push({commentid:e,actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:d,likecount:(a.likecount||0)+c})}return f}function q(a,c){var d=[r(a,c)];c=c!==b("UFIReactionTypes").NONE;if(a.hasviewerliked!==c){var e=c?1:-1;d.push({actiontype:b("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:c,likecount:(a.likecount||0)+e,entidentifier:a.entidentifier,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}})}return d}function r(a,c){return Object.assign({actiontype:b("UFIConstants").UFIActionType.REACTION,actorid:a.actorforpost,entidentifier:a.entidentifier},b("UFIReactionsUtils").getReactionData(a,c,a.actorforpost,b("NumberFormat").formatInteger))}function s(a,c,d,e,f){var g={};for(var h=0;h<e.length;h++){var i=e[h],j=a.reactioncountmap?a.reactioncountmap[i]:null;g[i]={"default":j?j["default"]:0,reduced:j?j.reduced:"0"}}i=b("UFIReactionsUtils").getReactionData({viewerreaction:a.viewerreaction,reactioncount:a.reactioncount,reactioncountreduced:a.reactioncountreduced,reactioncountmap:g,reactorids:a.viewerreaction?[f]:[]},c,f);return{actiontype:b("UFIConstants").UFIActionType.COMMENT_REACTION,commentid:d,hasviewerliked:!!c,likecount:i.reactioncountmap[1]["default"],reactioncount:i.reactioncount,reactioncountmap:i.reactioncountmap,reactioncountreduced:i.reactioncountreduced,viewerreaction:c}}e.exports=g}),null);
__d("UFIReplyCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentListImpl","getObjectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={getCommentList:function(a,c,d){g[c]||(g[c]={});if(!g[c][d]){a=new(b("UFIReplyCommentListImpl"))(a,c,d);var e=h.getReplyListsForParentCommentID(String(c));e.length&&a.updateCommentCount(e[0].getCommentCount());g[c][d]=a}return g[c][d]},getReplyListsForParentCommentID:function(a){return b("getObjectValues")(g[a]||{})},resetWithContext:function(a,b,c,d){a=(g[b]||{})[d];if(!a)return;a.reset();a.actorID=c}};function i(a){a=b("UFIComments").getComment(a.commentid);if(!a)return;var c=a.id,d=a.parentcommentid;if(!d)return;a.status!==b("UFIConstants").UFIStatus.DELETED&&a.status!==b("UFIConstants").UFIStatus.FAILED_ADD&&h.getReplyListsForParentCommentID(d).forEach(function(a){a.deleteComment(c)})}b("UFICentralUpdates").subscribe("update-actions",function(a,c){if(c.actions&&c.actions.length)for(var a=0;a<c.actions.length;a++){var d=c.actions[a];switch(d.actiontype){case b("UFIConstants").UFIActionType.DELETE_COMMENT:i(d);break}}});b("UFICentralUpdates").subscribe("update-comment-lists",function(a,b){a=b.commentlists;if(a&&a.replies&&Object.keys(a).length)for(var c in a.replies){b=a.replies[c];var d=b.ftentidentifier,e=b.containerorderingmode;d=h.getCommentList(String(d),String(c),e);d.addCommentIDs(b.range.offset,b.range.length,b.values);d.updateCommentCount(b.count)}});b("UFICentralUpdates").subscribe("update-comments",function(a,b){(b.comments||[]).concat(b.privatecomments||[]).concat(b.authorpinnedcomments||[]).forEach(function(a){var b=a.parentcommentid;if(!b)return;h.getReplyListsForParentCommentID(String(b)).forEach(function(b){b.addOrUpdateComment(a)})})});e.exports=h}),6);
__d("UFIThreadedFacecastCommentsStore",["FeedbackPayloadSourceType","FluxReduceStore","UFIComments","UFIDispatcherBase","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("UFIStoryActionType").SHOW_FACECAST_REPLIES:var d;return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:c.commentID,reply_comment_ids:this.getReplyCommentIDs(c.instanceID),is_loaded:!1},d));case b("UFIStoryActionType").HIDE_FACECAST_REPLIES:return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:null,reply_comment_ids:[],is_loaded:!1},d));case b("UFIStoryActionType").ADD_FACECAST_REPLY:if(this.getCommentID(c.instanceID)===null)return a;d=c.replyCommentID;var e=this.getReplyCommentIDs(c.instanceID);e.indexOf(d)===-1&&(e=e.slice(0),e.push(d));return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:this.getCommentID(c.instanceID),reply_comment_ids:e,is_loaded:this.getIsLoaded(c.instanceID)},d));case b("UFIStoryActionType").ADD_FACECAST_REPLIES:if(this.getCommentID(c.instanceID)===null)return a;var f=this.getReplyCommentIDs(c.instanceID);e=c.replyCommentIDs.filter(function(a){return f.indexOf(a)===-1});e.length!==0&&(f=f.concat(e));return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:this.getCommentID(c.instanceID),reply_comment_ids:f,is_loaded:this.getIsLoaded(c.instanceID)},d));case b("UFIStoryActionType").FACECAST_REPLIES_LOADED:e=this.getCommentID(c.instanceID);return e!==c.commentID?a:babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:this.getCommentID(c.instanceID),reply_comment_ids:this.getReplyCommentIDs(c.instanceID),is_loaded:!0},d));case b("UFIStoryActionType").COMMENTS_ARRIVED:if(c.source!==b("FeedbackPayloadSourceType").INITIAL_SERVER||c.liveVideoCommentPermalinkID==null)return a;e=b("UFIComments").getComment(c.liveVideoCommentPermalinkID);return e==null?a:babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:e.parentcommentid||e.id,reply_comment_ids:this.getReplyCommentIDs(c.instanceID),is_loaded:this.getIsLoaded(c.instanceID)},d));case"CENTRALUPDATES_SAVED_COMMENT":e=this.getReplyCommentIDs(c.instanceID);if(e.length===0)return a;d=e.indexOf(c.clientID);if(d===-1)return a;e.slice(0)[d]=c.commentID;return babelHelpers["extends"]({},a,(d={},d[c.instanceID]={comment_id:this.getCommentID(c.instanceID),reply_comment_ids:e,is_loaded:this.getIsLoaded(c.instanceID)},d));default:return a}};a.prototype.getCommentID=function(a){a=this.getState()[a];return!a?null:a.comment_id};a.prototype.getReplyCommentIDs=function(a){a=this.getState()[a];return!a?[]:a.reply_comment_ids};a.prototype.getIsLoaded=function(a){a=this.getState()[a];return!a?!1:a.is_loaded};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("CommentPrivacyValue",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_PRIVACY:0,OWNER_OR_COMMENTER:1,FRIENDS_ONLY:2,FRIENDS_AND_POST_OWNER:3,SIDE_CONVERSATION:4,SIDE_CONVERSATION_AND_POST_OWNER:5,GRAPHQL_MULTIPLE_VALUE_HACK_DO_NOT_USE:-1})}),null);
__d("UFIToplevelPagedCommentList",["CommentPrivacyValue","CommentSection","UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentList","UFIToplevelPagedCommentListImpl","UFIToplevelStreamedCommentList","WebCommentViewOption","forEachObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={getCommentList:function(a,c,d){d=d||b("CommentSection").DEFAULT;g[a]||(g[a]={});g[a][d]||(g[a][d]={});if(!g[a][d][c]){var e=new(b("UFIToplevelPagedCommentListImpl"))(a,c,d),f=h.getSectionedCommentListsForFeedbackTargetID(a,d);f.length&&e.updateCommentCount(f[0].getCommentCount());g[a][d][c]=e}return g[a][d][c]},getAllCommentListsForFeedbackTargetID:function(a){var c=[];b("forEachObject")(g[a]||{},function(a){b("forEachObject")(a,function(a){c.push(a)})});return c},getSectionedCommentListsForFeedbackTargetID:function(a,b){var c=[];a=(g[a]||{})[b]||{};for(var d in a)c.push(a[d]);return c},getPagedCommentCountForFeedbackTargetID:function(a,b){a=h.getSectionedCommentListsForFeedbackTargetID(a,b);return a.length?a[0].getCommentCount():null},getDisplayedCommentCountForFeedbackTargetID_UNSAFE:function(a){var c=h.getSectionedCommentListsForFeedbackTargetID(a,b("CommentSection").DEFAULT);c=c.length?c[0].getDisplayedCommentCount():null;a=b("UFIToplevelStreamedCommentList").getAllExistingCommentLists(a);a=a.length?a[0].getDisplayedCommentCount():null;return c===null&&a===null?null:Math.max(c||0,a||0)},resetCommentListsForFeedbackTargetID:function(a){__p&&__p();a=g[a];if(!a)return;var c={};for(var d in a){var e=a[d];for(var f in e){var h=e[f];h=h.reset();for(var i in h){var j=h[i];c[j]=!0}}}b("UFIComments").resetComments(c)},resetCommentListsWithContext:function(a,c){__p&&__p();var d=g[a];if(!d)return;var e={};for(var f in d){var h=d[f];for(var i in h){var j=h[i];j.actorID=c;j=j.reset();for(var k in j){var l=j[k];e[l]=!0;b("UFIReplyCommentList").resetWithContext(a,l,c,i)}}}b("UFIComments").resetComments(e)}};function i(a){__p&&__p();var c=b("UFIComments").getComment(a.commentid);if(!c)return;var d=c.id,e=c.ftentidentifier,f=c.parentcommentid;if(f)return;f=b("CommentSection").DEFAULT;(c.privacy_value===b("CommentPrivacyValue").FRIENDS_ONLY||c.privacy_value===b("CommentPrivacyValue").FRIENDS_AND_POST_OWNER)&&g[e]&&g[e][b("CommentSection").FRIENDS]&&(f=b("CommentSection").FRIENDS);(a.islocal||c.status!==b("UFIConstants").UFIStatus.DELETED&&c.status!==b("UFIConstants").UFIStatus.FAILED_ADD)&&h.getSectionedCommentListsForFeedbackTargetID(e,f).forEach(function(a){a.deleteComment(d)})}function j(a,c){b("forEachObject")(a,function(a,d){b("forEachObject")(a,function(a,b){b=h.getCommentList(d,b,c);b.addCommentIDs(a.range.offset,a.range.length,a.values);b.setClientHasAll(!!a.clienthasall);typeof a.count==="number"&&a.count!==b.getCommentCount()&&b.updateCommentCount(a.count)})})}function k(a,b){a.forEach(function(a){if(a.parentcommentid)return;var c=a.ftentidentifier;h.getSectionedCommentListsForFeedbackTargetID(c,b).forEach(function(b){b.addOrUpdateComment(a)})})}b("UFICentralUpdates").subscribe("update-actions",function(a,c){if(c.actions&&c.actions.length)for(var a=0;a<c.actions.length;a++){var d=c.actions[a];switch(d.actiontype){case b("UFIConstants").UFIActionType.DELETE_COMMENT:i(d);break}}});b("UFICentralUpdates").subscribe("update-comment-lists",function(a,c){a=c.commentlists;c=c.privatecommentlists;a&&a.comments&&j(a.comments,b("CommentSection").DEFAULT);c&&c.comments&&j(c.comments,b("CommentSection").FRIENDS)});b("UFICentralUpdates").subscribe("update-comments",function(a,c){a=c.comments;var d=c.privatecomments;c=c.authorpinnedcomments;a&&a.length&&k(a,b("CommentSection").DEFAULT);d&&d.length&&k(d,b("CommentSection").FRIENDS);c&&c.length&&k(c,b("CommentSection").DEFAULT)});b("UFICentralUpdates").subscribe("update-feedback",function(a,c){__p&&__p();var d=c.feedbacktarget?c.feedbacktarget:c.feedbacktargets&&c.feedbacktargets[0];if(d){var e=d.entidentifier;a=d.defaultcommentorderingmode;var f=new Set();a&&f.add(a);d.orderingmodes&&d.orderingmodes.forEach(function(a){if(a.value===b("WebCommentViewOption").LIVE_STREAMING)return;f.add(a.value)});c=d.privatecommentcount;f.forEach(function(a){h.getCommentList(e,a,b("CommentSection").DEFAULT).updateCommentCount(d.commentcount)});typeof c==="number"&&h.getCommentList(e,b("WebCommentViewOption").TOPLEVEL,b("CommentSection").FRIENDS).updateCommentCount(c)}});e.exports=h}),6);
__d("UFIStreamingStateType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE:"live",ON_DEMAND:"on_demand"})}),null);
__d("UFIToplevelStreamedCommentList",["invariant","ClientIDs","LiveVideoUFIConfig","UFICentralUpdates","UFICommentLogger","UFIComments","UFIConfig","UFIConstants","UFIRange","UFIStreamingStateType","UFIThreadedFacecastCommentsStore","gkx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){this.feedbackTargetID=a,this.commentIDs=[],this.deletedCount=0,this.totalCommentCount=0,this.addedCommentCountForUnseenCounter=0}h.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};h.prototype.getClientHasAll=function(){return!1};h.prototype.getActualCommentCount=function(){return this.commentIDs.length};h.prototype.getCommentCount=function(){return this.totalCommentCount};h.prototype.getAddedCommentCountForUnseenCounter=function(){return this.addedCommentCountForUnseenCounter};h.prototype.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount()};h.prototype.getDeletedCount=function(){return this.deletedCount};h.prototype.getPermalinkForComment=function(a){return""};h.prototype.getComments=function(a,c,d,e){e(this.getCommentsOrThrow(new(b("UFIRange"))(a,c),d))};h.prototype.getCommentsOrThrow=function(a,c){__p&&__p();a=[a.getLength(),a.getOffset()];var d=a[0];a=a[1];a===0||g(0,2239);a=c.streamingOrderReversed;c={};for(var e=0;e<Math.min(d,this.commentIDs.length);++e){var f=a?this.commentIDs.length-1-e:e;f=b("UFIComments").getComment(this.commentIDs[f]);f&&(c[e]=f)}return c};h.prototype.$3=function(){var a=this.commentIDs;this.commentIDs=[];return a};h.prototype.hasComment=function(a){for(var b=0;b<this.commentIDs.length;++b)if(this.commentIDs[b]===a.id)return!0;return!1};h.prototype.addCommentIDs=function(a,b,c){};h.prototype.setClientHasAll=function(a){};h.prototype.addOrUpdateComment=function(a,c){__p&&__p();c===void 0&&(c=null);var d=a.clientid;if(d&&b("ClientIDs").isExistingClientID(d))for(var e=0;e<this.commentIDs.length;++e)this.commentIDs[e]===d&&(this.commentIDs[e]=a.id,b("UFIConfig").logCommentPost&&b("UFICommentLogger").logNewCommentReceived(d,Date.now()));else if(c||a.__typename==="local"){if(this.hasComment(a))return;this.commentIDs.push(a.id);c!==b("UFIStreamingStateType").ON_DEMAND&&!a.isAnnouncement&&!a.tipOptionIndex&&(this.totalCommentCount+=1,a.__typename!=="local"&&((b("gkx")("678270")||!b("objectValues")(b("UFIThreadedFacecastCommentsStore").getState()||{}).map(function(a){return(a=a)!=null?a.comment_id:a}).includes(a.parentcommentid))&&(this.addedCommentCountForUnseenCounter+=1)))}e=b("LiveVideoUFIConfig").live_video_scrollable_comments;this.commentIDs.length>e&&this.commentIDs.shift();b("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};h.prototype.deleteComment=function(a){this.deletedCount+=1;var c=[];for(var d=0;d<this.commentIDs.length;++d){var e=this.commentIDs[d],f=b("UFIComments").getComment(e);e!==a&&((f=f)!=null?f.parentcommentid:f)!==a&&c.push(e)}this.commentIDs=c};h.prototype.updateCommentCount=function(a){this.totalCommentCount=a,this.deletedCount=0};h.getCommentList=function(a,b){b===void 0&&(b=h.GLOBAL_ID);var c=h.$1.get(a);c||(c=new Map(),h.$1.set(a,c));var d=c.get(b);d||(d=new h(a),c.set(b,d));return d};h.getExistingCommentList=function(a,b){b===void 0&&(b=h.GLOBAL_ID);a=h.$1.get(a);return!a?null:a.get(b)};h.getAllExistingCommentLists=function(a){a=h.$1.get(a);return!a?[]:Array.from(a.values())};h.$4=function(a,b){__p&&__p();var c=h.$2.get(a);if(c){b.forEach(function(a){c[a]=!0});return}var d={};b.forEach(function(a){d[a]=!0});h.$2.set(a,d)};h.resetCommentList=function(a,b){b===void 0&&(b=h.GLOBAL_ID);b=h.getExistingCommentList(a,b);if(!b)return;h.$4(a,b.$3())};h.resetAllCommentLists=function(a){var c=h.getAllExistingCommentLists(a);if(c.length===0)return;c.forEach(function(b){h.$4(a,b.$3())});c=h.$2.get(a);c&&(h.$2["delete"](a),b("UFIComments").resetComments(c))};h.GLOBAL_ID="GLOBAL_ID";h.$1=new Map();h.$2=new Map();b("UFICentralUpdates").subscribe("update-actions",function(a,c){__p&&__p();if(!c.actions)return;c.actions.forEach(function(a){__p&&__p();if(a.actiontype!==b("UFIConstants").UFIActionType.DELETE_COMMENT)return;var c=b("UFIComments").getComment(a.commentid);if(!c)return;var d=c.id,e=c.ftentidentifier,f=c.parentcommentid;if(f)return;(a.islocal||c.status!==b("UFIConstants").UFIStatus.DELETED&&c.status!==b("UFIConstants").UFIStatus.FAILED_ADD)&&h.getAllExistingCommentLists(e).forEach(function(a){return a.deleteComment(d)})})});b("UFICentralUpdates").subscribe("update-comments",function(a,b){if(!b.comments)return;var c=b.targetufiinstanceid;b.comments.forEach(function(a){c?h.getCommentList(a.ftentidentifier,c).addOrUpdateComment(a,b.streamingstate):h.getAllExistingCommentLists(a.ftentidentifier).forEach(function(c){c.addOrUpdateComment(a,b.streamingstate)})})});b("UFICentralUpdates").subscribe("update-feedback",function(a,b){var c=b.feedbacktarget?b.feedbacktarget:b.feedbacktargets&&b.feedbacktargets[0];if(!c)return;h.getAllExistingCommentLists(c.entidentifier).forEach(function(a){return a.updateCommentCount(c.commentcount)})});e.exports=h}),6);
__d("CommentPostedLiveState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE:"Live",ON_DEMAND:"OnDemand"})}),null);
__d("XGroupsMuteMembersController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/mutemember/",{group_id:{type:"FBID"},user_id:{type:"FBID"},mute_duration:{type:"Enum",enumType:1},source:{type:"Enum",enumType:1},should_reload:{type:"Bool",defaultValue:!1},mute_reason:{type:"FBID"},custom_expiration:{type:"Int"},share_feedback:{type:"Bool",defaultValue:!1},selected_rules:{type:"FBIDVector",defaultValue:[]},admin_notes:{type:"String",defaultValue:""}})}),null);
__d("XTownHallController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/townhall/",{ref:{type:"Enum",enumType:1},notif_id:{type:"Int"},setting_nux:{type:"Bool",defaultValue:!1},new_reps:{type:"Int"},tab:{type:"Enum",enumType:1}})}),null);
__d("XUFIActorChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/actor/change/",{})}),null);
__d("XUFIAddCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/add/comment/",{})}),null);
__d("XUFIAuthorPinnedCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/author_pin/",{})}),null);
__d("XUFICommentAcceptAnswerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/answer/accept/",{})}),null);
__d("XUFICommentAppealSpamController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/appeal_spam/",{})}),null);
__d("XUFICommentBulkReviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comments/bulk_review/",{feedback_target_id:{type:"FBID",required:!0},entry_point:{type:"Enum",required:!0,enumType:1},refetch_data:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("XUFICommentKeepSpamController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/keep_spam/",{})}),null);
__d("XUFICommentLikeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/like/",{})}),null);
__d("XUFICommentSecureAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/secure_account/",{})}),null);
__d("XUFIDeleteCommentAndRemoveCommenterController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/deletecommentandremovecommenter/",{})}),null);
__d("XUFIDeleteCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/delete/comment/",{})}),null);
__d("XUFIEditCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/edit/comment/",{})}),null);
__d("XUFIHideCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/hide/comment/",{})}),null);
__d("XUFILikeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/like/",{})}),null);
__d("XUFIToggleTextDelightsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/textdelights/hide_comment_text_delights/",{comment_id:{type:"String"},should_hide:{type:"Bool",defaultValue:!1}})}),null);
__d("XUFITranslateCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/translate/comment/",{})}),null);
__d("UFIUserActions",["errorCode","fbt","invariant","ActorURI","AsyncRequest","AsyncResponse","Bootloader","ChannelClientID","ClientIDs","CommentPostedLiveState","CommentPrivacyValue","ImmutableObject","MercuryServerDispatcher","UFICentralUpdates","UFICommentActionType","UFICommentLogger","UFIComments","UFICommentVoteUserActions","UFIConfig","UFIConstants","UFIFeedbackTargets","UFINewCommentsPillUtils","UFIReactionUserActions","UFIStoryAction","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","UFIUserActionUtils","UFIVideoPlayerRegistry","UnicodeBidi","XGroupsMuteMembersController","XTownHallController","XUFIActorChangeController","XUFIAddCommentController","XUFIAuthorPinnedCommentController","XUFICommentAcceptAnswerController","XUFICommentAppealSpamController","XUFICommentBulkReviewController","XUFICommentKeepSpamController","XUFICommentLikeController","XUFICommentSecureAccountController","XUFIDeleteCommentAndRemoveCommenterController","XUFIDeleteCommentController","XUFIEditCommentController","XUFIHideCommentController","XUFILikeController","XUFIToggleTextDelightsAsyncController","XUFITranslateCommentController","goURI","ifRequired"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=Object.freeze({BAN:"ban",UNDO_BAN:"undo_ban"}),k={changeActor:function(a,c){b("UFIFeedbackTargets").getFeedbackTarget(a,function(d){b("UFIToplevelPagedCommentList").resetCommentListsWithContext(a,c);b("UFIToplevelStreamedCommentList").resetAllCommentLists(a);b("UFICentralUpdates").inform("actor-changed",{actorID:c});d=(d={from_actor_id:d.actorforpost,ft_ent_identifier:a},d[b("ActorURI").PARAMETER_ACTOR]=c,d);var e=b("XUFIActorChangeController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(e,d)})},changeCommentLike:function(a,c,d){__p&&__p();var e=b("UFIComments").getComment(a);if(e&&e.__typename==="saved"&&e.hasviewerliked!=c){var f=d.target?b("UFIUserActionUtils").trackingData(d.target):{},g=c?1:-1;g={commentid:a,actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:c,likecount:(e.likecount||0)+g};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[g]});b("UFIFeedbackTargets").getFeedbackTarget(e.ftentidentifier,function(g){var h={};h[b("ActorURI").PARAMETER_ACTOR]=g.actorforpost;g=b("XUFICommentLikeController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(g,babelHelpers["extends"]({comment_id:a,legacy_id:e.legacyid,like_action:c,ft_ent_identifier:e.ftentidentifier,source:d.source,client_id:b("ClientIDs").getNewClientID(),session_id:b("ChannelClientID").getID()},f,h))})}},_getAttachment:function(a){return a},_getLocalComment:function(a,c,d,e,f,g){e=b("ClientIDs").getNewClientID();var i=b("UnicodeBidi").isDirectionLTR(d)?"ltr":"rtl",j=this._getAttachment(f.attachedsticker),k=f.replyid,l=null;if(k!=null){k=b("UFIComments").getComment(k);l=k!=null?k.author:null}return{__typename:"local",ftentidentifier:c,body:{text:d,dir:i},author:a.actorforpost,cancomment:!1,clientid:null,fbid:null,id:e,ufiinstanceid:f.ufiinstanceid,likecount:0,hasviewerliked:!1,parentcommentid:f.replyid,parentcommentauthorid:l,replycommentparentid:f.replycommentparentid,attachment:j,photo_comment:f.attachedphoto,video_comment:f.attachedvideo,file_comment:f.attachedfile,timestamp:{time:Math.floor(Date.now()/1e3),text:h._("beberapa detik yang lalu")},photoTextTagID:f.photoTextTagID,isPhotoTag:f.isPhotoTag,photoTagX:f.photoTagX,photoTagY:f.photoTagY,privacy_value:f.privacyValue,videoTimeOffset:g,postedLiveState:f.islivestreaming?b("CommentPostedLiveState").LIVE:b("CommentPostedLiveState").ON_DEMAND,trackingID:f.trackingID,voteEnabled:!1,voteCount:0,voteState:b("UFIConstants").UFICommentVoteType.NONE}},addComment:function(a,c,d,e){__p&&__p();b("UFIFeedbackTargets").getFeedbackTarget(a,function(f){__p&&__p();var g=this.createComment(a,c,d,e);if(!g)return;var h={actiontype:b("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:f.actorforpost,hasviewersubscribed:!0,entidentifier:f.entidentifier};f={actiontype:b("UFIConstants").UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:f.targetfbid};var i=[],j=[];(g.privacy_value===b("CommentPrivacyValue").FRIENDS_ONLY||g.privacy_value===b("CommentPrivacyValue").FRIENDS_AND_POST_OWNER?j:i).push(g);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:i,privatecomments:j,actions:[h,f]});if(g.parentcommentid&&(e.islivestreaming||e.isLiveVOD)&&e.ufiinstanceid!=null){i={ftentidentifier:a,instanceid:e.ufiinstanceid};b("UFINewCommentsPillUtils").dispatchNewCommentAction(b("UFIStoryAction").handleNewFacecastReply(i,g.id),i)}}.bind(this))},createComment:function(a,c,d,e){__p&&__p();var f=b("UFIFeedbackTargets").getFeedbackTargetIfExists(a);if(!(f&&f.actorforpost))return null;var g=null;if(e.isBroadcasterUFI)g=b("ifRequired")("LiveVideoBroadcastBroadcastStore",function(a){return a.getCurrentBroadcastTime()});else if(e.fluentContentToken&&(e.isLiveVOD||e.islivestreaming||e.enableVODCommentTimestamps)){var h=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(e.target,e.fluentContentToken)||0;if(e.isLiveVOD||e.islivestreaming)g=h;else{var i=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(e.target,e.fluentContentToken);i!=null&&h>0&&h<Math.floor(i.getPlaybackDuration())&&(g=h)}}i=this._getLocalComment(f,a,c,d,e,g);this._sendCommentToServer(a,f.actorforpost,c,d,e,i.id,g);return i},_sendCommentToServer:function(a,c,d,e,f,g,h){__p&&__p();d=null;if(f.reply_fbid)d=f.reply_fbid;else if(f.replyid){var j=b("UFIComments").getComment(f.replyid);j||i(0,199);d=j.fbid}var k;b("UFIConfig").logCommentPost&&b("UFICommentLogger").logNewCommentPost(g,f.timestamp||0,{has_photo:!!f.attachedphoto,has_video:!!f.attachedvideo,has_file:!!f.attachedfile,has_sticker:!!f.attachedsticker,is_reply:!!f.replyid});j={};f.liveVideoQuickCommentQuality!=null&&(j={live_video_quick_comment_quality:f.liveVideoQuickCommentQuality});var l={};l[b("ActorURI").PARAMETER_ACTOR]=c;c=b("XUFIAddCommentController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(c,babelHelpers["extends"]({ft_ent_identifier:a,comment_text:e,source:f.source,client_id:g,session_id:b("ChannelClientID").getID(),reply_fbid:d,parent_comment_id:f.parent_comment_id||f.replyid,reply_comment_parent_id:f.replycommentparentid,rootid:f.rootid,clp:k,attached_sticker_fbid:f.attachedsticker?f.attachedsticker.fbid:0,attached_photo_fbid:f.attachedphoto?f.attachedphoto.fbid:0,attached_video_fbid:f.attachedvideo?f.attachedvideo.fbid:0,attached_file_fbid:f.attachedfile?f.attachedfile.fbid:0,attached_share_url:f.attachedshareurl,feedback_referrer:f.feedbackReferrer,feed_context:f.feedcontext,video_time_offset:h,is_live_streaming:f.islivestreaming,is_markdown:f.isMarkdown},b("UFIUserActionUtils").trackingData(f.target),l,{photo_text_tag_id:f.photoTextTagID,is_photo_tag:f.isPhotoTag,photo_fbid:f.photoFBID,photo_tag_x:f.photoTagX,photo_tag_y:f.photoTagY,privacy_value:f.privacyValue,delight_ranges:f.delightRanges,selected_insight_point:f.selectedInsightPoint},j))},_hasCommentTextChanged:function(a,b){return!!a.body&&a.body.text!=b},_hasCommentPhotoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentVideoChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentFileChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&b&&a.fbid!=b.fbid)},_hasCommentStickerChanged:function(a,b){return!!((a||b)&&!(a&&b)||a&&a.type=="sticker"&&b&&a.fbid!=b.fbid)},_hasCommentShareURLChanged:function(a,b){if(b)return!0;else return Boolean(a&&a.type=="share")},editComment:function(a,c,d,e){__p&&__p();var f=b("UFIUserActionUtils").trackingData(e.target),g=b("UFIComments").getComment(a);if(!g)return;a=this._hasCommentTextChanged(g,c)||this._hasCommentPhotoChanged(g.photo_comment,e.attachedPhoto)||this._hasCommentStickerChanged(g.attachment,e.attachedSticker)||this._hasCommentVideoChanged(g.video_comment,e.attachedVideo)||this._hasCommentFileChanged(g.file_comment,e.attachedFile)||this._hasCommentShareURLChanged(g.attachment,e.attachedShareURL);g=b("ImmutableObject").set(g,{status:b("UFIConstants").UFIStatus.PENDING_EDIT,body:{text:c},editnux:null,attachment:e.attachedSticker,photo_comment:e.attachedPhoto,video_comment:e.attachedVideo,file_comment:e.attachedFile});a&&(g=b("ImmutableObject").set(g,{originalTimestamp:g.timestamp.time,timestamp:{time:Math.floor(Date.now()/1e3),text:h._("beberapa detik yang lalu")}}));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[g]});b("UFIFeedbackTargets").getFeedbackTarget(g.ftentidentifier,function(a){var c={};c[b("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=b("XUFIEditCommentController").getURIBuilder().getURI();g&&b("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({ft_ent_identifier:g.ftentidentifier,comment_text:d,source:e.source,comment_id:g.id,parent_comment_id:g.parentcommentid,attached_sticker_fbid:e.attachedSticker?e.attachedSticker.fbid:0,attached_photo_fbid:e.attachedPhoto?e.attachedPhoto.fbid:0,attached_video_fbid:e.attachedVideo?e.attachedVideo.fbid:0,attached_file_fbid:e.attachedFile?e.attachedFile.fbid:0,attached_share_url:e.attachedShareURL,is_markdown:e.isMarkdown,delight_ranges:e.delightRanges},f,c))})},translateComments:function(a,c,d,e){var f=b("XUFITranslateCommentController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(f,{ft_ent_identifier:a,comment_ids:c,source:e.source,trigger:d})},setHideAsSpam:function(a,c,d){var e=b("UFIUserActionUtils").trackingData(d.target),f=b("UFIComments").getComment(a),g={commentid:a,actiontype:b("UFIConstants").UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:c};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[g]});f&&b("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(g){var h={};h[b("ActorURI").PARAMETER_ACTOR]=g.actorforpost;g=b("XUFIHideCommentController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(g,babelHelpers["extends"]({comment_id:a,spam_action:c,ft_ent_identifier:f.ftentidentifier,source:d.source},e,h))})},keepSpam:function(a,c){var d=b("UFIUserActionUtils").trackingData(c.target),e=b("UFIComments").getComment(a),f={commentid:a,actiontype:b("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[f]});e&&b("UFIFeedbackTargets").getFeedbackTarget(e.ftentidentifier,function(f){var g={};g[b("ActorURI").PARAMETER_ACTOR]=f.actorforpost;f=b("XUFICommentKeepSpamController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(f,babelHelpers["extends"]({comment_id:a,ft_ent_identifier:e.ftentidentifier,source:c.source},d,g));b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(h._("Sekarang komentar ini dapat dilihat di kiriman Anda."),h._("Komentar Sudah Dipulihkan"))},"UFIUserActions")})},appealSpam:function(a,c,d){__p&&__p();var e=b("UFIUserActionUtils").trackingData(d.target),f=b("UFIComments").getComment(a);c={commentid:a,actiontype:b("UFIConstants").UFIActionType.COMMENT_APPEAL_SPAM};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[c]});f&&b("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(c){var g={};g[b("ActorURI").PARAMETER_ACTOR]=c.actorforpost;c=b("XUFICommentAppealSpamController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(c,babelHelpers["extends"]({comment_id:a,ft_ent_identifier:f.ftentidentifier,source:d.source},e,g));b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(h._("Masukan Anda membantu kami melakukan yang terbaik."),h._("Terima Kasih Sudah Memberi Tahu Kami"))},"UFIUserActions")})},secureAccount:function(a,c){var d=b("UFIUserActionUtils").trackingData(c.target),e=b("UFIComments").getComment(a);a={actiontype:b("UFIConstants").UFIActionType.COMMENT_SECURE_ACCOUNT,commentid:a,islocal:!0,oneclick:c.oneclick};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});e&&b("UFIFeedbackTargets").getFeedbackTarget(e.ftentidentifier,function(a){var f={};f[b("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=b("XUFICommentSecureAccountController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({comment_id:e.id,ft_ent_identifier:e.ftentidentifier,source:c.source},d,f))})},removeComment:function(a,c,d){var e=b("UFIUserActionUtils").trackingData(c.target),f=b("UFIComments").getComment(a);a={actiontype:b("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:a,islocal:!0,oneclick:c.oneclick};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});f&&f.__typename==="saved"&&b("UFIFeedbackTargets").getFeedbackTarget(f.ftentidentifier,function(a){var g={};g[b("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=b("XUFIDeleteCommentController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({comment_id:f.id,comment_legacyid:f.legacyid,ft_ent_identifier:f.ftentidentifier,one_click:c.oneclick,source:c.source,block_author:d,client_id:b("ClientIDs").getNewClientID()},e,g))})},deleteCommentAndRemoveCommenter:function(a,c,d,e,f,g,h){var i=b("UFIUserActionUtils").trackingData(c.target),j=b("UFIComments").getComment(a);a={actiontype:b("UFIConstants").UFIActionType.DELETE_COMMENT_REMOVE_COMMENTER,commentid:a,islocal:!0,oneclick:c.oneclick};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});j&&j.__typename==="saved"&&b("UFIFeedbackTargets").getFeedbackTarget(j.ftentidentifier,function(a){var k={};k[b("ActorURI").PARAMETER_ACTOR]=a.actorforpost;a=b("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(a,babelHelpers["extends"]({comment_id:j.id,comment_legacyid:j.legacyid,ft_ent_identifier:j.ftentidentifier,one_click:c.oneclick,source:c.source,delete_posts:d,delete_comments:e,decline_pending_members:f,block_permanently:g,apply_to_other_groups:h,client_id:b("ClientIDs").getNewClientID()},i,k))})},muteMember:function(a,c,d,e){__p&&__p();c=b("UFIComments").getComment(a);a=d!==null;if(c&&c.__typename==="saved"){a={authorid:c.author,actiontype:b("UFIConstants").UFIActionType.MUTE_MEMBER,shouldmute:a};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]});var f;b("Bootloader").loadModules(["GroupMemberActionSource"],function(a){f=a.GROUP_COMMENT},"UFIUserActions");a=b("XGroupsMuteMembersController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(a,{group_id:c.group_id,user_id:c.author,mute_duration:d,custom_expiration:e,should_reload:!1,source:f})}},showBulkReview:function(a,c){c=b("UFIComments").getComment(a);if(c){a=b("XUFICommentBulkReviewController").getURIBuilder().setFBID("feedback_target_id",c.ftentidentifier).setEnum("entry_point","comment_chevron").getURI();new(b("AsyncRequest"))(a).send()}},toggleTextDelights:function(a,c,d){var e=b("XUFIToggleTextDelightsAsyncController").getURIBuilder().getURI();b("MercuryServerDispatcher").trySend(e,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,should_hide:d,parent_comment_id:a.parentcommentid,source:c.source})},changeAcceptedAnswer:function(a,c){b("MercuryServerDispatcher").trySend(p,{ft_ent_identifier:a.id,do_accept:c})},banUser:function(a,c,d,e){e=d?j.BAN:j.UNDO_BAN;b("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:c,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,post_only:!1})},streamBanUser:function(a,c,d,e){e=d?j.BAN:j.UNDO_BAN;b("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:c,commenter_id:a.author,action:e,comment_id:a.id,client_side:!0,stream_only:!0})},changeSubscribe:function(a,c,d){b("UFIFeedbackTargets").getFeedbackTarget(a,function(e){var f=b("UFIUserActionUtils").trackingData(d.target);if(e.hasviewersubscribed!==c){var g={actiontype:b("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:e.actorforpost,hasviewersubscribed:c,entidentifier:a};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[g]});g={};g[b("ActorURI").PARAMETER_ACTOR]=e.actorforpost;b("MercuryServerDispatcher").trySend("/ajax/ufi/subscribe.php",babelHelpers["extends"]({subscribe_action:c,ft_ent_identifier:a,source:d.source,client_id:b("ClientIDs").getNewClientID(),rootid:d.rootid,comment_expand_mode:d.commentexpandmode},f,g))}})},fetchSpamComments:function(a,c,d,e){b("MercuryServerDispatcher").trySend("/ajax/ufi/id_comment_fetch.php",{ft_ent_identifier:a,viewas:e,comment_ids:c,parent_comment_id:d,source:null})},manageConstituentBadge:function(a){b("goURI")(b("XTownHallController").getURIBuilder().setBool("setting_nux",!0).getURI())},authorPinComment:function(a,c){b("MercuryServerDispatcher").trySend(q,{comment_id:a.id,ft_ent_identifier:a.ftentidentifier,is_pinned_by_author:c});var d={commentid:a.id,pinnedByAuthor:c,actiontype:b("UFICommentActionType").CHANGE_PIN_BY_AUTHOR};a=b("UFIComments").getComment(a.id);if(!a)return;a=b("ImmutableObject").set(a,{ispinnedbyauthor:c});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a],actions:[d]})},removePreview:function(a,c){var d=b("UFIUserActionUtils").trackingData(c.target),e={commentid:a.id,actiontype:b("UFIConstants").UFIActionType.REMOVE_PREVIEW};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]});b("MercuryServerDispatcher").trySend("/ajax/ufi/remove_preview.php",babelHelpers["extends"]({comment_id:a.id,ft_ent_identifier:a.ftentidentifier,source:c.source},d))}};function a(a){b("AsyncResponse").defaultErrorHandler(a)}function c(a){__p&&__p();var c=a.request.data;b("AsyncResponse").defaultErrorHandler(a);var d=c.client_id||c.comment_id;d=b("UFIComments").getComment(d);if(!d)return;var e=d.status===b("UFIConstants").UFIStatus.PENDING_EDIT?b("UFIConstants").UFIStatus.FAILED_EDIT:b("UFIConstants").UFIStatus.FAILED_ADD;d=b("ImmutableObject").setDeep(d,{status:e,allowRetry:l(a),body:{mentionstext:c.comment_text,mentionsphoto:d.photo_comment,mentionsvideo:d.video_comment,mentionsfile:d.file_comment}});e=[];a=[];(d.privacy_value===b("CommentPrivacyValue").FRIENDS_ONLY||d.privacy_value===b("CommentPrivacyValue").FRIENDS_AND_POST_OWNER?a:e).push(d);b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:e,privatecomments:a})}function l(a){var b=a.getError();if(a.isBlockedAction())return!1;if(a.silentError)return!0;return b===1357012||b===1357006?!1:!0}function d(a){a=a.request.data;a=a.comment_id;a=b("UFIComments").getComment(a);if(!a)return;a=b("ImmutableObject").set(a,{status:a.priorstatus||null,priorstatus:void 0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[a]})}function f(a){a=a.request.data;a=a.comment_id;var c=b("UFIComments").getComment(a);if(!c)return;c=b("ImmutableObject").set(c,{commentid:a,needsApproval:!c.needsApproval,isApproved:!c.isApproved});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[c]})}function g(a){a=a.request.data;a=a.comment_id;var c=b("UFIComments").getComment(a);c&&(c=b("ImmutableObject").set(c,{commentid:a,appealStatus:null,canAppeal:!c.canAppeal,canSecure:!c.canSecure}),b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[c]}))}function m(a){var c=a.request.data,d=c.comment_id,e=b("UFIComments").getComment(d);if(e&&c.like_action===e.hasviewerliked){c=e.hasviewerliked?-1:1;d={commentid:d,actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:!e.hasviewerliked,likecount:(e.likecount||0)+c};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[d]})}b("AsyncResponse").defaultErrorHandler(a)}function n(a){var c=a.request.data,d=c.ft_ent_identifier;b("UFIFeedbackTargets").getFeedbackTarget(d,function(a){if(a.hasviewerliked===c.like_action){var e=a.hasviewerliked?-1:1;e={actiontype:b("UFIConstants").UFIActionType.LIKE_ACTION,actorid:a.actorforpost,hasviewerliked:!a.hasviewerliked,likecount:(a.likecount||0)+e,entidentifier:d,likesentences:{current:a.likesentences.alternate,alternate:a.likesentences.current}};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[e]})}});b("AsyncResponse").defaultErrorHandler(a)}function o(a){var c=a.request.data,d=c.ft_ent_identifier;b("UFIFeedbackTargets").getFeedbackTarget(d,function(a){if(a.hasviewersubscribed===c.subscribe_action){a={actiontype:b("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:a.actorforpost,hasviewersubscribed:!a.hasviewersubscribed,entidentifier:d};b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[a]})}});b("AsyncResponse").defaultErrorHandler(a)}a={"/ajax/ufi/ban_user.php":{mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:a},"/ajax/ufi/subscribe.php":{mode:b("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:o,batch_if:t,batch_function:u},"/ajax/ufi/id_comment_fetch.php":{mode:b("MercuryServerDispatcher").IMMEDIATE},"/ajax/ufi/remove_preview.php":{mode:b("MercuryServerDispatcher").IMMEDIATE},"/profile/broadcast_request/async/add_composer_token/":{mode:b("MercuryServerDispatcher").IMMEDIATE}};o=b("XUFIAddCommentController").getURIBuilder().getURI();a[o]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:c};t=b("XUFIDeleteCommentController").getURIBuilder().getURI();a[t]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:d};o=b("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();a[o]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:d};t=b("XUFICommentLikeController").getURIBuilder().getURI();a[t]={mode:b("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:m,batch_if:r,batch_function:u};var p=b("XUFICommentAcceptAnswerController").getURIBuilder().getURI();a[p]={mode:b("MercuryServerDispatcher").IMMEDIATE};o=b("XGroupsMuteMembersController").getURIBuilder().getURI();a[o]={mode:b("MercuryServerDispatcher").IMMEDIATE};t=b("XUFIToggleTextDelightsAsyncController").getURIBuilder().getURI();a[t]={mode:b("MercuryServerDispatcher").IMMEDIATE};m=b("XUFIHideCommentController").getURIBuilder().getURI();a[m]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:d};r=b("XUFICommentKeepSpamController").getURIBuilder().getURI();a[r]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:f};o=b("XUFICommentAppealSpamController").getURIBuilder().getURI();a[o]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:g};t=b("XUFICommentSecureAccountController").getURIBuilder().getURI();a[t]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:g};m=b("XUFILikeController").getURIBuilder().getURI();a[m]={mode:b("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:n,batch_if:s,batch_function:u};d=b("XUFIEditCommentController").getURIBuilder().getURI();a[d]={mode:b("MercuryServerDispatcher").IMMEDIATE,error_handler:c};r=b("XUFITranslateCommentController").getURIBuilder().getURI();a[r]={mode:b("MercuryServerDispatcher").IMMEDIATE};f=b("XUFIActorChangeController").getURIBuilder().getURI();a[f]={mode:b("MercuryServerDispatcher").IMMEDIATE};var q=b("XUFIAuthorPinnedCommentController").getURIBuilder().getURI();a[q]={mode:b("MercuryServerDispatcher").IMMEDIATE};b("MercuryServerDispatcher").registerEndpoints(a);function r(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier&&a.comment_id==b.comment_id}function s(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function t(a,b){return a&&a.ft_ent_identifier==b.ft_ent_identifier}function u(a,b){return b}e.exports=babelHelpers["extends"]({},k,b("UFIReactionUserActions"),b("UFICommentVoteUserActions"))}),null);
__d("UFICommentEditIDStore",["FluxReduceStore","UFIAddCommentActionType","UFICentralUpdates","UFICommentActionType","UFIDispatcherBase","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){a=i(a,"string");return typeof a==="symbol"?a:String(a)}function i(a,b){__p&&__p();if(typeof a!=="object"||a===null)return a;var c=a[typeof Symbol==="function"?Symbol.toPrimitive:"@@toPrimitive"];if(c!==void 0){c=c.call(a,b||"default");if(typeof c!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(a)}c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),b("UFICentralUpdates").subscribe("actor-changed",function(a,c){b("UFIDispatcherBase").dispatch({type:"PRIVATE_ACTOR_CHANGED",instanceID:!0,ftentidentifier:!0})})}a.prototype.getInitialState=function(){return{}};a.prototype.getForInstance=function(a){return this.getState()[a]||null};a.prototype.reduce=function(a,c){switch(c.type){case"PRIVATE_ACTOR_CHANGED":return{};case b("UFIAddCommentActionType").CANCEL:case b("UFIStoryActionType").SHOW_FACECAST_REPLIES:case b("UFIStoryActionType").HIDE_FACECAST_REPLIES:case b("UFIAddCommentActionType").SUBMIT_EDIT:a[c.instanceID];var d=babelHelpers.objectWithoutPropertiesLoose(a,[c.instanceID].map(h));return d;case b("UFICommentActionType").EDIT:return babelHelpers["extends"]({},a,(d={},d[c.instanceID]=c.comment.id,d))}return a};a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIVisibility",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({VISIBLE:"visible",HIDDEN:"hidden"});e.exports=a}),null);
__d("UFICommentVisibilityStore",["invariant","FluxReduceStore","UFICommentActionType","UFIComments","UFIDispatcherBase","UFIInstanceActionType","UFILivePinnedCommentStore","UFIRootRegistry","UFIVisibility","filterObject"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a,b){b===void 0&&(b=null);return b&&b.comment.fbid?a+"-"+b.comment.fbid+(b.isLivePinnedComment?"-P":"")+(b.isInLiveVideoReplyMode?"-R":""):a}function j(a,b){return a===b||a.startsWith(b+"-")}function k(a){a=b("UFIRootRegistry").getInstanceIDFromFTEntIdentifier(a);return a?a:[]}function l(a){return{instanceid:a}}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.getVisibility=function(a,c,d){d===void 0&&(d=null);d=d?i(c.instanceid,d):i(c.instanceid);return Object.prototype.hasOwnProperty.call(a,d)?a[d]:b("UFIVisibility").HIDDEN};a.prototype.$UFICommentVisibilityStore1=function(a){a=l(a);return this.getVisibility(this.getState(),a)===b("UFIVisibility").VISIBLE};a.prototype.isFeedbackTargetVisible=function(a){a=k(a);return a.some(function(a){return this.$UFICommentVisibilityStore1(a)}.bind(this))};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("UFICommentActionType").UNMOUNTED:var d=babelHelpers["extends"]({},a);delete d[i(c.instanceID,c.renderedComment)];return d;case b("UFICommentActionType").CHANGE_VISIBILITY:return babelHelpers["extends"]({},a,(d={},d[i(c.instanceID,c.renderedComment)]=c.visibility,d));case b("UFIInstanceActionType").CHANGE_VISIBILITY:d=b("UFIRootRegistry").getFTEntIdentifierFromInstanceID(c.instanceID);var e=b("UFIComments").getCommentsForFTEntIdentifier(d);c.type===b("UFIInstanceActionType").CHANGE_VISIBILITY||g(0,3643);var f=c.visibility;if(e){e=e.reduce(function(a,b){a[i(c.instanceID,b.fbid?{comment:b,isLivePinnedComment:!1,isInLiveVideoReplyMode:!1}:null)]=f;return a},{});if(d){d=b("UFILivePinnedCommentStore").getPinnedCommentID(d);if(d){d=b("UFIComments").getComment(d);d&&d.__typename==="saved"&&(e[i(c.instanceID,{comment:d,isLivePinnedComment:!0,isInLiveVideoReplyMode:!1})]=f)}}return babelHelpers["extends"]({},a,(d={},d[i(c.instanceID)]=c.visibility,d),e)}case b("UFIInstanceActionType").REMOVE:var h=c.instanceID,k=i(h);return b("filterObject")(a,function(a,b){return b!==k&&!j(b,h)})}return a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFILivePinnedCommentStore",["FluxReduceStore","UFIComments","UFIDispatcherBase","UFIFeedbackTargets","UFIStoryActionType","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){var d;switch(c.type){case b("UFIStoryActionType").LIVE_PIN_COMMENT:case b("UFIStoryActionType").LIVE_UNPIN_COMMENT:var e=c.commentID,f=c.pinEventID;return babelHelpers["extends"]({},a,(d={},d[c.ftentidentifier]={commentID:e,pinEventID:f},d));default:return a}};a.prototype.areEqual=function(a,c){return b("areEqual")(a,c)};a.prototype.getPinnedCommentID=function(a){var c=this.getState()[a];if(!c){a=b("UFIFeedbackTargets").getFeedbackTargetIfExists(a);return!a?null:a.livepinnedcommentid||null}return c.commentID||null};a.prototype.getPinEventID=function(a){a=this.getState()[a];return!a?null:a.pinEventID||null};a.prototype.getPinnedCommentAuthorID=function(a){a=this.getPinnedCommentID(a);if(!a)return null;a=b("UFIComments").getComment(a);return a?a.author||null:null};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("setByPath",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b,c){__p&&__p();a=a;for(var d=0;d<b.length;d++){var e=b[d];if(d===b.length-1){a[e]=c;return}!Object.prototype.hasOwnProperty.call(a,e)?a[e]={}:a[e]==null?a[e]={}:Array.isArray(a[e])||Object.prototype.toString.call(a[e])==="[object Object]"||g(0,1041,a[e]);a=a[e]}}e.exports=a}),null);
__d("UFILocallyComposedCommentStore",["invariant","ClientIDs","FluxReduceStore","UFIAddCommentActionType","UFICentralUpdatesLocalCommentAdapter","UFIDispatcherBase","setByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){return babelHelpers["extends"]({},a)}c=babelHelpers.inherits(a,b("FluxReduceStore"));h=c&&c.prototype;function a(a){h.constructor.call(this,a),b("UFICentralUpdatesLocalCommentAdapter").subscribeOnce()}a.prototype.getInitialState=function(){return{}};a.prototype.getStateForInstance=function(a){return a?this.getState()[a]||{}:{}};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case"CENTRALUPDATES_ADDED_COMMENT":b("ClientIDs").isExistingClientID(c.clientID)||g(0,3492);a=i(a);b("setByPath")(a,[c.instanceID,c.clientID],!0);return a;case"CENTRALUPDATES_SAVED_COMMENT":b("ClientIDs").isExistingClientID(c.clientID)||g(0,3492);a=i(a);b("setByPath")(a,[c.instanceID,c.commentID],!0);delete a[c.instanceID][c.clientID];return a;case b("UFIAddCommentActionType").SUBMIT_EDIT:a=i(a);b("setByPath")(a,[c.instanceID,c.comment.id],!0);return a}return a};a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFISpamStore",["FluxReduceStore","UFIDispatcherBase","UFIStoryActionType","UFIUserActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.areEqual=function(a,b){return Object.keys(a).length===Object.keys(b).length};a.prototype.reduce=function(a,c){switch(c.type){case b("UFIStoryActionType").SPAM_FETCHED:a=babelHelpers["extends"]({},a);c.commentIDs.forEach(function(b){return a[b]=!0});b("UFIUserActions").fetchSpamComments(c.ftentidentifier,c.commentIDs,c.parentCommentID,c.viewas);break}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFIUnseenCommentsStore",["FluxReduceStore","UFIComments","UFIConstants","UFIDispatcherBase","UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=30;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("UFIStoryActionType").SET_COMMENTS_SCROLL_DISTANCE:var d=c.instanceID,e=c.scrollDist,f=this.getInstanceState(d);f=babelHelpers["extends"]({},f,{scrollDist:e});this.shouldAddUnseenCommentsForState(f)||(f.unseenComments=0,f.unseenCommentsByThread={});return babelHelpers["extends"]({},a,(e={},e[d]=f,e));case b("UFIStoryActionType").SET_COMMENT_REACTIONS_MENU_SHOWN:var g;d=c.instanceID;f=c.commentReactionsMenuShown;e=this.getInstanceState(d);return babelHelpers["extends"]({},a,(g={},g[d]=babelHelpers["extends"]({},e,{commentReactionsMenuShown:f}),g));case b("UFIStoryActionType").HANDLE_NEW_COMMENTS:d=c.instanceID;e=c.numComments;if(!this.shouldAddUnseenComments(d))return a;f=this.getInstanceState(d);return babelHelpers["extends"]({},a,(g={},g[d]=babelHelpers["extends"]({},f,{unseenComments:f.unseenComments+e}),g));case b("UFIStoryActionType").HANDLE_NEW_FACECAST_REPLY:d=c.instanceID;f=b("UFIComments").getComment(c.replyCommentID);if(!this.shouldAddUnseenComments(d)||!f)return a;e=this.getInstanceState(d);g=e.unseenCommentsByThread;c=f.parentcommentid;if(c)g[c]=g[c]||0,g[c]++;else return a;return babelHelpers["extends"]({},a,(f={},f[d]=babelHelpers["extends"]({},e,{unseenCommentsByThread:g}),f));default:return a}};a.prototype.getInstanceState=function(a){a=this.getState()[a];return a||{commentsReactionMenuShown:!1,scrollDist:0,unseenComments:0,unseenCommentsByThread:{}}};a.prototype.getCommentReactionsMenuShown=function(a){return this.getInstanceState(a).commentReactionsMenuShown};a.prototype.getScrolledUp=function(a){return this.getScrollDist(a)>b("UFIConstants").maxScrollDistanceForAutoScroll};a.prototype.getScrollDist=function(a){return this.getInstanceState(a).scrollDist};a.prototype.getUnseenComments=function(a){return this.getInstanceState(a).unseenComments};a.prototype.getUnseenCommentsByThread=function(a){return this.getInstanceState(a).unseenCommentsByThread};a.prototype.getUnseenCommentsInThread=function(a,b){a=this.getUnseenCommentsByThread(a);return a[b]||0};a.prototype.shouldAddUnseenComments=function(a){return this.shouldAddUnseenCommentsForState(this.getInstanceState(a))};a.prototype.shouldAddUnseenCommentsForState=function(a){return a.scrollDist>b("UFIConstants").maxScrollDistanceForAutoScroll||a.commentReactionsMenuShown&&a.scrollDist>=h};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("UFIDispatcherBase"))}),null);
__d("UFINewCommentsPillUtils",["UFISharedDispatcher","UFIStoryAction","UFIStoryActionType","UFIUnseenCommentsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={findNumNewComments:function(a,b){__p&&__p();var c=a?a.length:0,d=b?b.length:0;if(!c&&!d)return 0;var e,f=0;if(a)for(var c=c-1;c>=0;c--){var g=a[c];if(g.__typename==="saved"){e=g.id;break}f++}g=0;c=!1;if(b)for(var a=d-1;a>=0;a--){d=b[a];if(d.id===e){c=!0;break}g++}d=g-f;if(!e||c)return d;else return 0},handleScroll:function(a,b){b=b.target;b instanceof HTMLElement&&this.updateScrolledUp(b,a)},updateScrolledUp:function(a,c){a=a.scrollHeight-a.offsetHeight-a.scrollTop;b("UFISharedDispatcher").dispatch(b("UFIStoryAction").setCommentsScrollDistance(c,a))},scrollToBottom:function(a,b){if(a&&b){var c=a.scrollHeight-a.offsetHeight;b=b.Animation;new b(a).to("scrollTop",c).ease(b.ease.end).duration(Math.min(400,Math.max(200,(c-a.scrollTop)/1.5))).ondone(function(){a.scrollTop=a.scrollHeight-a.offsetHeight}).go()}},dispatchNewCommentAction:function(a,c){a.type===b("UFIStoryActionType").HANDLE_NEW_FACECAST_REPLY&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").addFacecastReply(c,a.replyCommentID));c=c.instanceid;!b("UFIUnseenCommentsStore").getScrolledUp(c)&&b("UFIUnseenCommentsStore").getCommentReactionsMenuShown(c)?setTimeout(function(){b("UFISharedDispatcher").dispatch(a)},0):b("UFISharedDispatcher").dispatch(a)}};e.exports=a}),null);
__d("ClickableArea.react",["Focus","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.componentDidMount=function(){"use strict";if(this.props.buttonRef){var a=this.props.buttonRef();b("Focus").relocate(b("ReactDOM").findDOMNode(a),b("ReactDOM").findDOMNode(this))}};a.prototype.render=function(){"use strict";var a=this.props,c=a.children,d=a.onClick;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","onClick"]);return b("React").cloneElement(b("React").Children.only(c),babelHelpers["extends"]({},a,{onClick:d}))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFIBusinessActorIcon.react",["cx","AppUserRoleConstants.brands","BusinessActorUtils.brands","React","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("BusinessActorUtils.brands").getInitials(this.props.firstName,this.props.lastName),c=this.props.businessRole===b("AppUserRoleConstants.brands").ADMIN;return b("React").createElement("div",{className:b("joinClasses")(this.props.classNames,"_1rpl")},b("React").createElement("div",{className:b("joinClasses")(this.props.textClassNames,c?"_1rpm":null)},a))};function a(){h.apply(this,arguments)}a.propTypes={firstName:c.string.isRequired,lastName:c.string.isRequired,classNames:c.string,textClassNames:c.string,businessRole:c.oneOf(b("getObjectValues")(b("AppUserRoleConstants.brands")))};e.exports=a}),null);
__d("UFIActorIconContainer.react",["cx","ClickableArea.react","Image.react","JSResource","React","ShortProfiles","UFIBusinessActorIcon.react","XUISpinner.react","joinClasses","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("UFIActorSelector.react").__setRef("UFIActorIconContainer.react")),j=b("React").createElement(b("XUISpinner.react"),{size:"large"});c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={actor:null,showActorSelectorDialog:!1},this.$2=function(){this.setState(function(a){return{showActorSelectorDialog:!a.showActorSelectorDialog}})}.bind(this),b}a.prototype.componentDidMount=function(){this.$1(this.props.actorID)};a.prototype.componentDidUpdate=function(a){this.props.actorID!==a.actorID&&this.$1(this.props.actorID)};a.prototype.$1=function(a){b("ShortProfiles").get(a,function(a){return this.setState({actor:a})}.bind(this))};a.prototype.render=function(){var a=this.state.actor;if(!a)return this.props.tinyIcon?b("React").createElement(b("XUISpinner.react"),{size:"small"}):j;var c;this.props.tinyIcon?c=b("joinClasses")("img UFIActorImage _3tm9",this.props.className):this.props.smallIcon?c=b("joinClasses")("img UFIActorImage _3qxe",this.props.className):c=b("joinClasses")("img UFIActorImage _54ru",this.props.className);var d=this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0;d&&(c=b("joinClasses")("UFIActorImageWithSelector",c));d=a.isBusinessPersona?b("React").createElement(b("UFIBusinessActorIcon.react"),{classNames:c,firstName:a.firstName,lastName:a.lastName,textClassNames:"UFIBusinessActorIconText"}):b("React").createElement(b("Image.react"),{alt:a.name,className:c,src:a.thumbSrc});return this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0?b("React").createElement("div",{className:"UFIActorImageContainer"},b("React").createElement(b("ClickableArea.react"),{onClick:this.$2},b("React").createElement("div",{className:"UFIActorSelectorOverlay"})),b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(i,babelHelpers["extends"]({},this.props.actorSelectorConfig.props,{dialogShown:this.state.showActorSelectorDialog,useUFIPhotoOverlay:!0,onActorChange:this.props.onActorChange}))),d):d};e.exports=a}),null);
__d("HovercardLinkInterpolator",["cx","fbt","Badge.react","CommentMentionsGatingConfig","HovercardLink","Link.react","React","UFIActorIconContainer.react","URI","isFacebookURI","isRTL"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=null);c=c.entity;d=d||(c.external?"_blank":null);var i=(c.external?"":"profileLink")+(c.weakreference?" weakReference":""),j=c.hashtag?a.substring(1):a;j=b("isRTL")(j)?"rtl":"ltr";var k=new(b("URI"))(c.url);b("isFacebookURI")(k)&&k.addQueryData({hc_location:f});var l=c.shimhash?c.shimhash:null,m=!c.external&&!c.hashtag&&!c.photo&&!c.note&&!c.statusupdate&&!c.video;m=m?{"data-hovercard":b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(c,e,c.hovercardlocation?c.hovercardlocation:f,null,g).toString()}:{};if(c.hashtag)e=b("React").createElement("a",babelHelpers["extends"]({},m,{className:"_58cn",dir:j,href:k.toString(),target:d}),b("React").createElement("span",{"aria-label":h._("tagar"),className:"_58cl"},a.substring(0,1)),b("React").createElement("span",{className:"_58cm"},a.substring(1)));else if(c.type==="user"&&b("CommentMentionsGatingConfig").enabled_rich_comment_mentions)e=b("React").createElement("div",{className:"_35mm"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({},m,{className:i,dir:j,href:{url:k.toString(),shimhash:l},target:d}),b("React").createElement("span",{className:"_35mo"},b("React").createElement("span",{className:"_35mp"},b("React").createElement(b("UFIActorIconContainer.react"),{actorID:c.id.toString(),tinyIcon:!0})),b("React").createElement("span",{className:"_35mq"},a))));else{f=[];c.weakreference&&f.push(b("React").createElement("i",{key:"weakreference",className:"UFIWeakReferenceIcon"}));f.push(a);c.workForeignEntity&&f.push(b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}));c.dialogurl?e=b("React").createElement(b("Link.react"),babelHelpers["extends"]({},m,{className:i,dir:j,ajaxify:c.dialogurl,rel:"dialog",href:{url:k.toString(),shimhash:l},target:d}),f):e=b("React").createElement(b("Link.react"),babelHelpers["extends"]({},m,{className:i,dir:j,href:{url:k.toString(),shimhash:l},target:d}),f)}return e}e.exports=a}),null);
__d("TextDelightRange.react",["cx","Bootloader","CommentPrivacyValue","PrivateCommentsConfig","React","SubscriptionsHandler","createObjectFrom"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=new(b("SubscriptionsHandler"))(),c}a.prototype.componentDidMount=function(){this.$2=!0,this.props.campaignID&&b("Bootloader").loadModules(["TextDelightController"],function(a){if(this.$2===!1)return;this.$3.addSubscriptions(a.attachClickListener(this.$1,this.props.campaignID,this.props.children,this.props.surface));this.$4=a}.bind(this),"TextDelightRange.react")};a.prototype.componentWillUnmount=function(){this.$2=!1,this.$3.release(),this.$4&&this.$4.stopAnimation()};a.prototype.render=function(){__p&&__p();var a=this.props.delightStyles.filter(function(a){a=a.style;return a!=null&&!(a==="color"&&this.props.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER&&b("PrivateCommentsConfig").dark_comment_theme_enabled)}.bind(this));return b("React").createElement("span",{className:"_ezo _6rsx",style:b("createObjectFrom")(a.map(function(a){a=a.style;return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),a.map(function(a){a=a.value;return a?a.replace("bold","600"):a})),ref:function(a){this.$1=a}.bind(this)},this.props.children)};e.exports=a}),null);
__d("TextDelightSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POST:"post",COMMENT:"comment",STORY:"story"})}),null);
__d("URITruncator",["fbt","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h=3,i=g._("..."),j=i.length||i.toString().length;function a(a,c){__p&&__p();if(!a||c===void 0||a.length<=c||c<=j||a.toString().length<=j)return a;var d=b("URI").tryParseURI(a);if(!d)return a.substring(0,c-j)+i;a=d.getOrigin();if(a.length>c-j)return a.substring(0,c-j)+i;var e=!1;if(d.getFragment()){e=!0;d.setFragment("");if(d.toString().length<=c-j)return d.toString()+i}var f=d.getQueryData();if(f){f=Object.keys(f);if(f.length>0){e=!0;for(var g=f.length-1;g>=0;g--){d.removeQueryData(f[g]);if(d.toString().length<=c-j)return d.toString()+i}}}g=d.getPath()+(e?i:"");f=g.split("/");d=a.length+g.length-c;e=0;while(d>0&&f.length>e+1){g=e+1;var k=f[g];if(d+j+h<=k.length){var l=k.length-1,m=k.length-d-j,n=/[a-zA-Z0-9]/;d+=j;while(d>0){while(l>0&&n.test(k[l]))l--,d--;while(l>0&&!n.test(k[l]))l--,d--}l===0&&(l=m-1);f[g]=k.substring(0,l+1)+i}else e++,d-=k.length,e===1?d+=j:d--}e>0&&(f[f.length-1].length===0&&f.length===e+2&&e++,f.splice(1,e,i));n=a+f.join("/");n.length>c&&(n=n.substring(0,c-j)+i);return n}e.exports=a}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};a.prototype.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,time:!0,vc:!0,video_timestamp:!0,weight:!0};e.exports=a}),null);
__d("transformTextRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c,d){__p&&__p();if(!a||!c||!d)return a;c.sort(function(a,b){return a.offset-b.offset});var e=0;for(var f=0;f<c.length;f++){c[f].offset+=e;var g=b("UnicodeUtils").substr(a,c[f].offset,c[f].length),h=b("UnicodeUtils").strlen(g),i=d(g,c[f]),j=b("UnicodeUtils").strlen(i);g!==i&&(a=b("UnicodeUtils").substr(a,0,c[f].offset)+i+b("UnicodeUtils").substr(a,c[f].offset+c[f].length),c[f].length=j,e+=j-h)}return a};e.exports=a}),null);
__d("UFICommentUtils",["HovercardLinkInterpolator","React","TextDelightRange.react","TextDelightSurface","UFIConstants","UFIVideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","transformTextRanges"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getCommentTextWithTruncatedURIs:function(a,c){b("UFIConstants").commentURLTruncationLength&&(a&&a.length>0&&(c=b("transformTextRanges")(c,a,function(a,c){c=c.entity&&(c.entity.external||c.entity.__typename==="ExternalUrl");return c?b("URITruncator")(a,b("UFIConstants").commentURLTruncationLength):a})));return c},getCommentBodyInterpolator:function(a,c,d,e,f){__p&&__p();return function(g,h){__p&&__p();if(h.videoTimestamp){if(e)return b("React").createElement("span",null,h.entity);var i=function(a){a.preventDefault();new(b("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(h.integerTimestamp).setCommentID(d).setIsContentTimestamp(!1).log();c&&(b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(c,h.integerTimestamp),b("UFIVideoPlayerRegistry").scrollToAvailableVideo(c));return!1};return b("React").createElement("a",{className:"TimestampLink",onClick:i,href:"#"},h.entity)}else if(h.sphericalViewport){i=function(a){a.preventDefault();c&&b("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(c,{yaw:h.yaw,pitch:h.pitch});return!1};return b("React").createElement("a",{onClick:i,href:"#"},h.entity)}else if(h.sphericalViewportAndTimestamp){i=function(a){a.preventDefault();c&&(b("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(c,{yaw:h.yaw,pitch:h.pitch}),b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(c,h.integerTimestamp));return!1};return b("React").createElement("a",{onClick:i,href:"#"},h.entity)}else if(h.campaign)return b("React").createElement(b("TextDelightRange.react"),{campaignID:h.campaign.id,commentPrivacy:f||void 0,delightStyles:h.campaign.delight_styles,surface:b("TextDelightSurface").COMMENT},g);else return b("HovercardLinkInterpolator")(g,h,"_blank",a,"ufi")}},shallowCopyRanges:function(a){if(!a)return a;var b=[];a.forEach(function(a){b.push(babelHelpers["extends"]({},a))});return b},annotateProfileURIIfPublic:function(a,c){return!a?c:new(b("URI"))(c).addQueryData("rc","p").toString()},shouldShowTranslateAll:function(a,b,c,d){__p&&__p();if(!a)return!1;var e=0,f,g;for(var h=0;h<a.length;h++){f=a[h];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0;if(c[f.id]){g=b?b[f.id]:[];for(var i=0;i<g.length;i++){f=g[i];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0}}}return!1}};e.exports=a}),null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c={viewID:a.string.isRequired,selection:a.instanceOf(b("SelectionState")).isRequired,contextComponent:a.object.isRequired,mentionableEntries:a.array.isRequired,highlightedMentionable:a.instanceOf(b("SearchableEntry")),onMentionSelect:a.func.isRequired,onMentionHighlight:a.func.isRequired,onMentionRenderHighlight:a.func.isRequired};e.exports=c}),null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;var g=!1,h=b("Locale").isRTL(),i,j,k,l,m=5;c=b("React").createClass({displayName:"MentionsLayer",propTypes:babelHelpers["extends"]({},b("MentionResultsPropTypes"),{typeaheadView:a.func.isRequired,typeaheadViewProps:a.object,autoflip:a.bool,reverseOrder:a.bool,position:a.oneOf(["above","below"])}),getInitialState:function(){return{bootloaded:g}},getDefaultProps:function(){return{offset:m}},componentDidMount:function(){this.state.bootloaded||n(function(){this.isMounted()&&this.setState({bootloaded:!0})}.bind(this))},_onMentionSelect:function(a,b){b.preventDefault(),this.props.onMentionSelect(a,b)},shouldComponentUpdate:function(a,c){return this.state.bootloaded!==c.bootloaded||!b("areEqual")(this.props.mentionableEntries,a.mentionableEntries)||this.props.highlightedMentionable!==a.highlightedMentionable||this.props.characterOffset!==a.characterOffset},render:function(){__p&&__p();if(!this.state.bootloaded)return null;var a=this.props.mentionableEntries,c=this.props.selection;c=c.isCollapsed()&&c.getHasFocus()&&a&&a.length;var d=null,e=this.props.typeaheadViewProps,f=!1;e&&e.positionAtContext?f=!0:c&&(d=l(this.props.characterOffset,h));e={};this.props.autoflip&&(e.ContextualLayerAutoFlip=j,e.ContextualLayerUpdateOnScroll=k);var g=this.props.typeaheadView;return b("React").createElement(i,{shown:c,context:this.props.contextComponent,contextBounds:d,containerWidthMatchContext:f,offsetY:this.props.offset,offsetX:this.props.offset,position:this.props.position||"below",behaviors:e,shouldSetARIAProperties:!1},b("React").createElement("div",{"data-testid":"mentions-contextual-layer"},b("React").createElement(g,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,reverseOrder:this.props.reverseOrder,entries:a||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})))}});function n(a){b("Bootloader").loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(b,c,d,e){i=b,j=c,k=d,l=e,g=!0,a()},"MentionsLayer.react")}e.exports=c}),null);
__d("ActorBio.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.renderLink=function(a){return"url"in a?b("React").createElement("a",babelHelpers["extends"]({},this.props,{href:a.url}),a.name):b("React").createElement("span",null,a.name)}.bind(this),this.renderItem=function(a,c){var d;switch(a){case"employer":"position"in c?d=g._("{position} di {employer}",[g._param("position",this.renderLink(c.position)),g._param("employer",this.renderLink(c))]):d=g._("Bekerja di {employer}",[g._param("employer",this.renderLink(c))]);break;case"mutual_friend":d=g._("Berteman dengan {user}",[g._param("user",this.renderLink(c))]);break;default:return this.renderLink(c)}return b("React").createElement("span",null,d)}.bind(this),c}a.prototype.render=function(){var a=this.props.stats,c=this.props.preferredTypes;for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++){var f=c[d][e];if(f in a)return this.renderItem(f,a[f])}return b("React").createElement("span",null)};a.propTypes={stats:c.object.isRequired,preferredTypes:c.array.isRequired};e.exports=a}),null);
__d("CenteredContainer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=(this.props.vertical?"_3bwv":"")+(this.props.horizontal?" _3bww":""),c=b("React").Children.map(this.props.children,function(a){return b("React").createElement("div",{className:"_3bwx"},a)}),d=b("joinClasses")(this.props.className,this.props.fullHeight?"_5bpf":"");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:d}),b("React").createElement("div",{className:a},b("React").createElement("div",{className:"_3bwy"},c)))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={fullHeight:c.bool,vertical:c.bool,horizontal:c.bool};a.defaultProps={fullHeight:!1,vertical:!1,horizontal:!0};e.exports=a}),null);
__d("FocusRelocator.react",["csx","CSS","Focus","React","getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.UNSAFE_componentWillReceiveProps=function(a){var c=this.props,d=c.from;c=c.to;var e=a.from;a=a.to;e&&a&&(d!==e||c!==a)&&(this.$1&&this.$1.remove(),this.$1=b("Focus").relocate(e,a))};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null};a.prototype.render=function(){return this.props.children};a.prototype.$3=function(){var a=this.props,c=a.from;a=a.to;c&&a&&(b("Focus").performRelocation(c,a,b("getActiveElement")()===this.props.from),this.$2())};a.prototype.$2=function(){this.props.to&&b("getActiveElement")()===this.props.from&&!b("CSS").matchesSelector(this.props.to,"._16jm")&&setTimeout(function(){this.$3()}.bind(this),0)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("EncryptedImg",["EncryptedImgUtils","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){__p&&__p();var g=babelHelpers["extends"]({insertIntoStyleBackgroundImage:function(a,b){b=function(a,b){a&&(a.style.backgroundImage="url('"+b+"')")}.bind(void 0,b);g.load(a,b)},insertIntoDOM:function(a,b){b=function(a,b){a&&a.setAttribute("src",b)}.bind(void 0,b);g.load(a,b)},load:function(a,c,d){d===void 0&&(d=!0);a=new(b("URI"))(a);var e=b("EncryptedImgUtils").extractKey(a);e=h.bind(void 0,e,c,d);e.includeHeaders=!0;new(b("XHRRequest"))(a.toString()).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseType("arraybuffer").setResponseHandler(e).send()},dataUrlPrefix:function(a,b){b===void 0&&(b=32);if(!a.startsWith("data:"))return a;var c=a.indexOf(",");(c<0||c>b)&&(c=b);return a.slice(0,c)}},b("EncryptedImgUtils"));e.exports=g;function h(a,b,c,d,e){__p&&__p();if(!a){b(k(d,j(e)));return}a=i(a);var f=new Uint8Array(d);d=f.subarray(2,14);f=f.subarray(14,f.length);var g={name:"AES-GCM",iv:d,tagLength:128};window.crypto.subtle.importKey("raw",a,g,!1,["encrypt","decrypt"]).then(function(a){return window.crypto.subtle.decrypt(g,a,f)}).then(function(a){c?b(k(a,j(e))):b(a)})["catch"](function(){})}function i(a){if(typeof a==="string"){var b=new Uint8Array(Math.floor(a.length/2)),c=0;a.replace(/(..)/g,function(a){b[c++]=parseInt(a,16)});return b}return null}function j(a){var b="image/jpeg";a=a.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);a&&a.length>1&&(b=a[1]);return b}function k(a,b){a=new Uint8Array(a);var c="";for(var d=0,e=a.byteLength;d<e;++d)c+=String.fromCharCode(a[d]);return"data:"+b+";base64,"+window.btoa(c)}}),null);
__d("getDOMImageSize",["EncryptedImg","URI"],(function(a,b,c,d,e,f){__p&&__p();function g(a){a.onload=null,a.onerror=null,a.onreadystatechange=null,a._callback=null,a._thisObj=null,a._srcStr=null,a.parentNode&&a.parentNode.removeChild(a)}function h(){var a=this;a._callback&&a._callback.call(a._thisObj,a.naturalWidth||a.width,a.naturalHeight||a.height,a._srcStr);g(a)}function i(){var a=this;a.readyState==="complete"&&h.call(a)}function j(){var a=this;a._callback&&a._callback.call(a._thisObj,0,0,a._srcStr);g(a)}function k(a,c,d){__p&&__p();d=d||null;if(!a){c.call(d,0,0,"");return}var e=document.body;if(!e){setTimeout(k.bind(this,a,c,d),500);return}var f;if(typeof a==="string")f=a;else if(typeof a==="object")if(typeof a.width==="number"&&typeof a.height==="number"){if(typeof a.src==="string"){f=a.src;if(a.naturalWidth&&a.naturalHeight){c.call(d,a.naturalWidth,a.naturalHeight,f);return}}if(typeof a.uri==="string"){f=a.uri;if(a.width&&a.height){c.call(d,a.width,a.height,f);return}}}else a instanceof b("URI")&&(f=a.toString());if(!f){c(0,0,a);return}a=document.createElement("img");a.onreadystatechange=i;a.onload=h;a.onerror=j;a._callback=c;a._thisObj=d;a._srcStr=f;b("EncryptedImg").isEncrypted(f)?b("EncryptedImg").insertIntoDOM(f,a):a.src=f;a.style.cssText="\n    position:absolute;\n    left:-5000px;\n    top:-5000px;\n    width:auto;\n    height:auto;\n    clip:rect(0 0 0 0);\n  ".replace(/\s+/," ");e.insertBefore(a,e.firstChild)}e.exports=k}),null);
__d("CachedDOMImageSizePool",["debounce","getDOMImageSize"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$1={},this.$2=c,this.$3=0,this.$4=a,this.$5=b("debounce")(this.$6,5e3,this),this.$7={},this.$8={}}a.prototype.get=function(a,c,d){"use strict";if(!a){c.call(d,0,0,a);return}var e=this.$1[a];e?(e.lastAccessTime=Date.now(),c.call(d,e.width,e.height,e.src)):this.$7[a]?(this.$7[a].push(c),this.$8[a].push(d)):(this.$7[a]=[c],this.$8[a]=[d],b("getDOMImageSize")(a,this.$9,this))};a.prototype.set=function(a,b,c){"use strict";this.$3>this.$4&&this.$5();var d=this.$1;if(a&&!d[a]){b={width:b,height:c,src:a,lastAccessTime:Date.now()};d[a]=b;this.$3++}};a.prototype.$9=function(a,b,c){"use strict";this.set(c,a,b);var d=this.$7[c],e=this.$8[c];for(var f=0,g=d.length;f<g;f++)d[f].call(e[f],a,b,c);delete this.$7[c];delete this.$8[c]};a.prototype.$6=function(){"use strict";var a=Date.now(),b=this.$1,c=this.$3,d=this.$2;for(var e in b){var f=b[e];a-f.lastAccessTime>d&&(delete b[e],c--)}this.$3=c};e.exports=a}),null);
__d("clamp",[],(function(a,b,c,d,e,f){function a(a,b,c){if(a<b)return b;return a>c?c:a}e.exports=a}),null);
__d("ImagePositioner.react",["React","clamp"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.width,c=this.props.height,d,e;switch(this.props.backgroundSize){case"cover":d="cover";e=!1;break;case"coverinside":d="cover";e=!0;break;case"contain":d="contain";e=!1;break;case"containinside":d="contain";e=!0;break;case"fitWidth":d="fitWidth";e=!0;break}var f=this.props.imageWidth,g=this.props.imageHeight,h=a/c,i=f/g;d==="contain"&&((f>a||!e)&&i>=h?(f=a,g=f/i):(g>c||!e)&&(g=c,f=g*i));d=="fitWidth"&&(f=a,g=a/i);d==="cover"&&((f>a||!e)&&i>=h?(g=c,f=g*i):(g>c||!e)&&(f=a,g=f/i));h=this.$1(f,g);c=this.props.children(h);return c&&b("React").Children.only(c)};a.prototype.$1=function(a,b){var c=["50%","50%"],d=this.$2;this.props.backgroundPosition?c=this.props.backgroundPosition.split(" "):this.props.backgroundFocus&&(c=this.props.backgroundFocus.split(" "),d=this.$3);return{width:Math.round(a)+"px",height:Math.round(b)+"px",left:d(c[0],a,this.props.width),top:d(c[1]||c[0],b,this.props.height)}};a.prototype.$2=function(a,b,c){var d=parseFloat(a),e=a.substr(d.toString().length);return e==="px"?a:Math.round((c-b)*(d/100))+"px"};a.prototype.$3=function(a,c,d){var e=parseFloat(a);a=a.substr(e.toString().length);if(c<d)return"0";a=a==="px"?e:Math.round(c*(e/100));e=a-d/2;e=b("clamp")(e,0,c-d);return-e+"px"};function a(){g.apply(this,arguments)}a.defaultProps={backgroundSize:"contain"};e.exports=a}),null);
__d("BackgroundImage.react",["cx","invariant","CachedDOMImageSizePool","Image.react","ImagePositioner.react","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c="(-?(\\d+\\.)?\\d+(px|\\%))";var i=new RegExp("^"+c+"?(\\s"+c+")?$","g"),j=new(b("CachedDOMImageSizePool"))(50,10*60*1e3);d=b("React").createClass({displayName:"BackgroundImage",propTypes:{src:a.string,width:a.number.isRequired,height:a.number.isRequired,backgroundSize:a.oneOf(["contain","cover","containinside","coverinside","fitWidth"]),cropTransform:a.object,loadingIndicatorStyle:a.oneOf(["none","large","small"]),backgroundPosition:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4499,c),c.match(i)||h(0,4500,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},backgroundFocus:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4502,c),c.match(i)||h(0,4503,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},onImageLoad:a.func,optimizeResizeSpeed:a.bool,onContextMenu:a.func},getInitialState:function(){return{imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:!0}},getDefaultProps:function(){return{optimizeResizeSpeed:!1,loadingIndicatorStyle:"none"}},componentDidMount:function(){this._resolveImageSize()},componentDidUpdate:function(a){this.props.src!==this.state.imageSrc&&this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:!0},this._resolveImageSize)},_resolveImageSize:function(){var a=this.state.imageSrc;a&&j.get(a,this._onImageSizeResolved,this)},render:function(){var a={width:this.props.width+"px",height:this.props.height+"px"},c=b("joinClasses")(this.props.className,"_5f0d");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,c),style:babelHelpers["extends"]({},this.props.style||{},a),onContextMenu:this.props.onContextMenu}),this._renderImage(),this._renderContent(),this._renderLoadingIndicator())},_renderLoadingIndicator:function(){return!this.state.loading||this.props.loadingIndicatorStyle==="none"?null:b("React").createElement("div",{className:"_1qe- _5lar"},b("React").createElement("div",{className:"_1qe_"},b("React").createElement("div",{className:"_1qf0"},b("React").createElement(b("XUISpinner.react"),{size:this.props.loadingIndicatorStyle}))))},_renderContent:function(){if(this.props.children)return b("React").createElement("div",{className:"_1qe-"},b("React").createElement("div",{className:"_1qe_"},b("React").createElement("div",{className:"_1qf0"},this.props.children)))},_renderImage:function(){return!this.state.imageWidth||!this.state.imageHeight?null:b("React").createElement(b("ImagePositioner.react"),{imageWidth:this.state.imageWidth,imageHeight:this.state.imageHeight,width:this.props.width,height:this.props.height,backgroundPosition:this.props.backgroundPosition,backgroundSize:this.props.backgroundSize,backgroundFocus:this.props.backgroundFocus},function(a){var c=a.width,d=a.height,e=a.left;a=a.top;return b("React").createElement(b("Image.react"),{alt:this.props.alt,className:"_5i4g"+(this.props.optimizeResizeSpeed?" _5sjv":""),style:babelHelpers["extends"]({width:c,height:d,left:e,top:a},this.props.cropTransform),src:this.state.imageSrc})}.bind(this))},_onImageSizeResolved:function(a,b,c){if(!this.isMounted()||this.state.imageSrc!==c)return;c=this.props.onImageLoad?this.props.onImageLoad.bind(null,a,b):null;this.setState({imageWidth:a,imageHeight:b,loading:!1},c)}});e.exports=d}),null);
__d("EmoticonSpan.react",["cx","EmoticonsList","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.children,d=a.contentState,e=a.size;a=a.entityKey;if(a==null)return null;d=d.getEntity(a).getData();a=b("EmoticonsList").emoji[d.type];d=new(b("FBEmojiResource"))(a);a=d.getImageURL(e);return a==null?null:b("React").createElement("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+a+")",backgroundSize:e+"px "+e+"px",height:e+"px",width:e+"px"}},b("React").createElement("span",{className:"_ncl"},c))}a.defaultProps={size:16};e.exports=a}),null);
__d("HashtagSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5zk7",spellCheck:!1}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("MentionSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_247o",spellCheck:!1}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("WeakMentionSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:!1},this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}e.exports=a}),null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],(function(a,b,c,d,e,f){__p&&__p();var g;function a(){if(!g){var a=[{strategy:b("getEntityMatcher")(function(a){var b=a.getData();return a.getType()==="MENTION"&&b&&b.isWeak}),component:b("WeakMentionSpan.react")},{strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"}),component:b("MentionSpan.react")},{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"}),component:b("EmoticonSpan.react")},{strategy:b("getHashtagMatches"),component:b("HashtagSpan.react")}];g=new(b("CompositeDraftDecorator"))(a)}return g}e.exports=a}),null);
__d("SeeMore.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isCollapsed:!0},this.handleClick=function(a){this.props.clickCallback!==null&&this.props.clickCallback(a),this.setState({isCollapsed:!1},function(){return this.props.expandCallback&&this.props.expandCallback()}.bind(this))}.bind(this),b}a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.isCollapsed,c=this.props.exposeTextInHtml,d=null;if(a){var e=null;this.props.allowSeeMoreLinebreak&&(e=b("React").createElement("span",{className:"_1ipe",role:"hidden"}," "));d=b("React").createElement("span",{className:"_5uzb"},h._("\u2026"),e)}e=this.props.children[0];var f=null;a?c&&(f=b("React").createElement("span",{className:"_1x3s"},this.props.children[1])):f=b("React").createElement("span",null,this.props.children[1]);c=a?b("React").createElement("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},h._("Lihat Lainnya")):null;return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_1n4g")},e,d,c,f)};a.defaultProps={clickCallback:null,expandCallback:null,exposeTextInHtml:!1,allowSeeMoreLinebreak:!1};e.exports=a}),null);
__d("findSplitPointForText",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=null,e=a.split("\n");b!=null&&b!==0&&a.length>b&&(d=b);if(c!=null&&c!==0&&e.length>c){a=e.slice(0,c).join("\n").length;d!=null?d=Math.min(a,d):d=a}return d}e.exports=a}),null);
__d("partitionTextAndRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){var c=a.offset+a.length;return b>a.offset&&b<c}function h(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(g(d,b))return d.offset}return b}a=function(a,c,d,e){__p&&__p();var f=[],g=[],i=[],j=[];e=h(c.concat(d),e);for(var k=0;k<c.length;k++){var l=c[k];l.offset<e?f.push(l):g.push(babelHelpers["extends"]({},l,{offset:l.offset-e}))}for(var l=0;l<d.length;l++){k=d[l];k.offset<e?i.push(k):j.push(babelHelpers["extends"]({},k,{offset:k.offset-e}))}return{before:{ranges:f,delightRanges:i,text:b("UnicodeUtils").substr(a,0,e)},after:{ranges:g,delightRanges:j,text:b("UnicodeUtils").substr(a,e)}}};e.exports=a}),null);
__d("TruncatedTextWithEntities.react",["fbt","React","SeeMore.react","TextWithEntities.react","findSplitPointForText","partitionTextAndRanges"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=30;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){if(!this.props.allowSeeMoreLinebreakOnLongWords||!a)return!1;if(a.length<=i)return!1;var b=/(^|\s)(\S+)$/;b=b.exec(a);a=b?b[2]:null;return!!(a&&a.length>i)}.bind(this),b}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.text||"",c=this.props.ranges||[],d=this.props.textDelightRanges||[];a=a.replace(/\s*$/,"");var e=this.props.maxLines,f=this.props.maxLength;if(f&&a.length>f){var h=this.props.truncationPercent||.6;f=Math.floor(h*f)}h=null;this.props.shouldExpand||(h=b("findSplitPointForText")(a,f,e));if(h!=null){while(a[h-1]==="\n")h--;f=b("partitionTextAndRanges")(a,c,d,h);e=b("React").createElement(b("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:f.before.ranges,textDelightRanges:f.before.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:f.before.text});if(!this.props.showSeeMore)return b("React").createElement("span",{className:this.props.className,"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},e,b("React").createElement("span",null,g._("\u2026")));d=this.$1(f.before.text);return b("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},b("React").createElement(b("SeeMore.react"),{allowSeeMoreLinebreak:d,className:this.props.className,clickCallback:this.props.markViewerHasInteracted},e,b("React").createElement(b("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:f.after.ranges,textDelightRanges:f.after.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:f.after.text})))}else return b("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},b("React").createElement(b("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:c,showEmojisStandalone:this.props.showEmojisStandalone,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:a}))};a.defaultProps={showSeeMore:!0};e.exports=a}),null);
__d("UserHovercardLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVALID:"unknown",NONE:"none",HC_FRIEND_BROWSER:"hc_friend_browser",HC_FRIENDS_TAB:"hc_friends_tab",HC_PROFILE_BROWSER:"hc_profile_browser",HC_STREAM:"hc_stream",HC_TIMELINE:"hc_timeline",HC_UFI:"hc_ufi",HC_REMINDER_POKE:"hc_reminder_poke",HC_REMINDER_BIRTHDAY:"hc_reminder_birthday",HC_EVENT_GUEST:"hc_event_guest",HC_UNKNOWN:"hc_unknown",HC_NUX:"hc_nux_page_suggestion",FRIEND_BROWSER:"friend_browser",FRIENDS_TAB:"friends_tab",PROFILE_BROWSER:"profile_browser",STREAM:"stream",TIMELINE:"timeline",UFI:"ufi",UFI_ADMIN:"ufi_admin",REMINDER_POKE:"reminder_poke",REMINDER_BIRTHDAY:"reminder_birthday",REMINDER_FACEVERSARY:"reminder_faceversary",REMINDER_NAMEDAY:"reminder_nameday",REMINDER_WORK_ANNIVERSARY:"reminder_work_anniversary",EVENT_GUEST:"event_guest",NUX_PAGE_SUGGESTION:"hc_nux_page_suggestion",TIMELINE_FRIENDS_BOX:"tl_fr_box",CHAT:"chat",GROUP:"group",GROUP_DIALOG:"group_dialog",MARKETPLACE_HOVERCARD:"marketplace_hovercard"})}),null);
__d("UFIActor.react",["cx","fbt","Badge.react","Focus","HovercardLink","Locale","React","ReactDOM","UFICommentUtils","UserHovercardLocation"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){this.props.focusOnMount&&b("Focus").setWithoutOutline(b("ReactDOM").findDOMNode(this.refs.authorName))};a.prototype.render=function(){__p&&__p();var a=this.props.author,c=b("Locale").isRTL()?"rtl":"ltr",d=(this.props.isAuthorWeakReference?"weakReference":"")+" UFICommentActorName",e=[];this.props.isAuthorWeakReference&&e.push(b("React").createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0&&e.push(b("React").createElement("span",null,b("React").createElement(b("Badge.react"),{type:"subscription",size:"medium",key:"badge"})," "));a.persona?e.push(h._("{author} ({persona})",[h._param("author",a.firstName),h._param("persona",a.persona)])):this.props.useFirstName?e.push(a.firstName):this.props.author.isBusinessPersona&&this.props.author.assetRole?e.push(a.name+" "+h._("(")+this.props.author.assetRole+h._(")")):e.push(a.name);this.props.isAuthorNonCoworker?e.push(b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"})):this.props.isAuthorBot&&e.push(b("React").createElement(b("Badge.react"),{key:"bot",type:"bot"}));var f=this.props.isAdminViewer?b("UserHovercardLocation").UFI_ADMIN:b("UserHovercardLocation").UFI,g=Object.assign({},this.props);delete g.author;delete g.delimiter;delete g.dialogUrl;delete g.disableAuthorLink;delete g.focusOnMount;delete g.groupOrEventID;delete g.hovercardLocation;delete g.isAdminViewer;delete g.isAuthorBot;delete g.isAuthorNonCoworker;delete g.isAuthorWeakReference;delete g.isPublic;delete g.showHovercard;delete g.useFirstName;f=this.props.showHovercard?b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(a,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:f,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null;var i=a.uri&&!this.props.disableAuthorLink;a=i?b("UFICommentUtils").annotateProfileURIIfPublic(!!this.props.isPublic,a.uri):null;i=i?b("React").createElement("a",babelHelpers["extends"]({},g,{className:d,"data-hovercard":f,"data-ft":this.props["data-ft"],dir:c,href:a,ref:"authorName"}),e):b("React").createElement("span",{className:d,dir:c,ref:"authorName"},e);this.props.dialogUrl&&(i=b("React").createElement("a",babelHelpers["extends"]({},g,{className:d,"data-hovercard":f,"data-ft":this.props["data-ft"],dir:c,ajaxify:this.props.dialogUrl,rel:"dialog",href:a,ref:"authorName"}),e));return b("React").createElement("span",null,i,b("React").Children.map(this.props.children,function(a){return a?[a.key==="badge"||a.key==="constituentTitle"||a.key==="moderatorBadge"||a.key==="friendsOnlyBadge"||a.key==="groupMemberBadge"?"":this.props.delimiter,a]:null}.bind(this)))};function a(){i.apply(this,arguments)}a.defaultProps={delimiter:" \xb7 ",isAdminViewer:!1,isPublic:!1};e.exports=a}),null);
__d("XUIError.react",["cx","React","ReactDOM","XUIError","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="_1tp7";h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.xuiError!=null&&b("XUIError").__setReactError(b("ReactDOM").findDOMNode(this),{message:this.props.xuiError,position:this.props.xuiErrorPosition,alignh:this.props.xuiErrorAlignh})};a.prototype.componentDidUpdate=function(){this.props.xuiError==null?b("XUIError").__clearReactError(b("ReactDOM").findDOMNode(this)):b("XUIError").__setReactError(b("ReactDOM").findDOMNode(this),{message:this.props.xuiError,position:this.props.xuiErrorPosition,alignh:this.props.xuiErrorAlignh})};a.prototype.componentWillUnmount=function(){b("XUIError").__clearReactError(b("ReactDOM").findDOMNode(this))};a.prototype.render=function(){var a=b("React").Children.only(this.props.children);this.props.xuiError!=null&&(a=b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,i)}));return a};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={bootloaded:!1,hasUploadFailure:!1},this.$1=null,this.$2=null,this.$3=function(){this.setState({hasUploadFailure:!1})}.bind(this),this.$4=function(){this.setState({hasUploadFailure:!1})}.bind(this),this.$5=function(){this.setState({hasUploadFailure:!0})}.bind(this),this.$6=function(a){this.props.onClick&&this.props.onClick();if(this.state.bootloaded)return;b("Bootloader").loadModules(["UFIUploader"],function(a){this.$1=new a(this.refs.inputContainer,this.refs.inputControl,this.refs.input,this.props.getPhotoUploadData,this.props.getFileUploadData,this.props.prepareForAttachedPhotoPreview,this.props.prepareForAttachedVideoPreview,this.props.prepareForAttachedFilePreview,this.props.onPhotoUploadComplete,this.props.onVideoEncodeUpdate,this.props.onVideoUploadUpdate,this.props.onVideoUploadComplete,this.props.onFileUploadComplete,this.props.setFileInput,this.props.viewerActorID,this.$3,this.$4,this.$5)}.bind(this),"UFIAttachMediaSection.react");this.setState({bootloaded:!0})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.refs,c=a.input;a=a.inputControl;c&&a&&(this.$2=b("Focus").relocate(c,a))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};a.prototype.render=function(){var a=b("gkx")("678288")&&this.props.allowFileAttachments,c=a?h._("Lampirkan File"):this.props.allowVideoAttachments?h._("Lampirkan foto atau video"):h._("Lampirkan Foto"),d=a?h._("Terjadi masalah saat melampirkan file, silakan coba lagi"):h._("Terjadi masalah saat melampirkan berkas, silakan coba lagi"),e=this.state.hasUploadFailure;a=b("React").createElement("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(this.props.attachment?" _5t1p":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:c,onClick:this.$6,ref:"inputContainer",role:"presentation"},b("React").createElement("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl"},b("React").createElement("input",{accept:a?b("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?b("UFICommentFileInputAcceptValues").both:b("UFICommentFileInputAcceptValues").photos,"aria-label":c,className:"_n",name:"file",ref:"input",title:c,type:"file",key:"0"})));return b("React").createElement(b("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center"},a)};a.propTypes={getPhotoUploadData:c.func.isRequired,getFileUploadData:c.func,prepareForAttachedPhotoPreview:c.func.isRequired,prepareForAttachedVideoPreview:c.func,prepareForAttachedFilePreview:c.func,onPhotoUploadComplete:c.func.isRequired,onVideoUploadComplete:c.func,onVideoUploadUpdate:c.func,onVideoEncodeUpdate:c.func,onFileUploadComplete:c.func,onClick:c.func,setFileInput:c.func.isRequired,targetId:c.string,allowVideoAttachments:c.bool,allowFileAttachments:c.bool,attachment:c.object,viewerActorID:c.string.isRequired};e.exports=a}),null);
__d("CloseButton.react",["cx","fbt","CloseButtonIcon","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.size||"medium",d=a.appearance||"normal",e=c==="small";c=c==="huge";var f=d==="dark";d=d==="inverted";var g=a.ajaxify||null,i=a.rel||null;c="uiCloseButton"+(e?" uiCloseButtonSmall":"")+(c?" uiCloseButtonHuge":"")+(e&&f?" uiCloseButtonSmallDark":"")+(e&&d?" uiCloseButtonSmallInverted":"")+(!e&&f?" uiCloseButtonDark":"")+(!e&&d?" uiCloseButtonInverted":"");f=h._("Tutup");e=Object.assign({},this.props);delete e.size;delete e.appearance;delete e.ajaxify;delete e.tooltip;delete e.ariaLabel;return b("React").createElement("a",babelHelpers["extends"]({},e,{ajaxify:g,href:"#",role:"button",title:a.ariaLabel||f,"aria-label":a.ariaLabel||f,"data-hover":a.tooltip&&"tooltip","data-skipchecker":null,"data-tooltip-alignh":a.tooltip&&"center","data-tooltip-content":a.tooltip,className:b("joinClasses")(this.props.className,c),rel:i}),b("React").createElement(b("Image.react"),{className:"uiCloseButtonHighContrast",src:b("CloseButtonIcon").icon}))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("LoadingIndicator.react",["cx","ix","Image.react","React","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("keyMirror")({white:!0,blue:!0,black:!0});d=b("keyMirror")({small:!0,medium:!0,large:!0});var j={white:{large:h("85426"),medium:h("85427"),small:h("85428")},blue:{large:h("85429"),small:h("85430")},black:{large:h("85423")}};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.color;a=a.size;c=j[c];if(!c)return b("React").createElement("span",null);c=Object.prototype.hasOwnProperty.call(c,a)?c[a]:null;if(!c)return b("React").createElement("span",null);a=this.props.showonasync===!0?"uiLoadingIndicatorAsync":"";return b("React").createElement(b("Image.react"),babelHelpers["extends"]({},this.props,{src:c,className:b("joinClasses")(this.props.className,a)}))};function a(){i.apply(this,arguments)}a.SIZES=d;a.COLORS=c;e.exports=a}),null);
__d("UFIUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ActionAddComment:"UFIUIEvents/ufiActionAddComment",ActionLinkLike:"UFIUIEvents/ufiActionLinkLike",Blur:"ufi/blur",Changed:"ufi/changed",Comment:"ufi/comment",CommentChanged:"ufi/commentChanged",CommentPager:"CommentUFI.Pager",CommentPivot:"ufi/comment_pivot",Focus:"ufi/focus",InputHeightChanged:"ufi/inputHeightChanged",PageCleared:"ufi/page_cleared",PhotoPreviewHeightChanged:"ufi/photoPreviewHightChanged",TranslationRendered:"ufi/translationRendered",ReactionButtonClicked:"ufi/reactionButtonClicked"})}),null);
__d("UFIAttachedMediaPreview.react",["ix","cx","fbt","Arbiter","BootloadedComponent.react","CloseButton.react","DOMContainer.react","DOMVector","HTML","Image.react","JSResource","LoadingIndicator.react","React","ReactDOM","SimpleNUXMessage","SimpleNUXMessageTypes","SutroStoryHeaderUFIGatingConfig","UFIUIEvents","XUIAmbientNUX.react","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=410,l=80,m="ufi_photo_preview_test_id";d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={starNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").DIGITAL_CONTENT_WALLET_PROMOTION_SPEND_MATCH_DISCLAIMER)},this.$1=0,this.$4=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").DIGITAL_CONTENT_WALLET_PROMOTION_SPEND_MATCH_DISCLAIMER),this.setState({starNuxShown:!1})}.bind(this),c}a.prototype.$2=function(a,b){var c,d,e;b>a?(e=l/b,c=a*e,d=b*e):(e=l/a,c=a*e,d=b*e);return{height:Math.round(c),width:Math.round(d)}};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this),c=a?b("DOMVector").getElementDimensions(a).y:0;c!==this.$1&&(this.$1=c,b("Arbiter").inform(b("UFIUIEvents").PhotoPreviewHeightChanged,{node:a}))};a.prototype.componentDidUpdate=function(){this.props.monitorHeight&&this.$3()};a.prototype.getMatchingStarText=function(a,b){return i._("{user_tipped_star_quantity} + {matched_star_quantity} Bintang",[i._param("user_tipped_star_quantity",a),i._param("matched_star_quantity",b)])};a.prototype.maybeShowStarAttachmentTooltip=function(a){return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return this.refs.attachment_ref}.bind(this),position:"above",shown:this.state.starNuxShown,onCloseButtonClick:this.$4,key:"ambientNUX"},i._("{Number of stars that Facebook will match.} of the Stars will be matched by Facebook.",[i._param("Number of stars that Facebook will match.",a)]))};a.prototype.render=function(){__p&&__p();var a=null,c=this.props.attachedPhoto||this.props.attachedSticker||this.props.attachedVideo||this.props.attachedFile||this.props.attachedGIF||this.props.attachedStars;if(c&&this.props.attachedSticker){var d=this.$2(c.metadata.height,c.metadata.width),e=null,f=null;window.devicePixelRatio&&window.devicePixelRatio>1?(e=c.metadata.sprite_uri_2x,f=c.metadata.source_uri_2x):(e=c.metadata.sprite_uri,f=c.metadata.source_uri);a=b("React").createElement(b("BootloadedComponent.react"),{accessibilityLabel:c.metadata.accessibilityLabel,bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFIAttachedMediaPreview.react"),animationTrigger:"load_and_hover",frameCount:c.metadata.frameCount,frameRate:c.metadata.frameRate,framesPerCol:c.metadata.framesPerCol,framesPerRow:c.metadata.framesPerRow,spriteURI:e,sourceHeight:d.height,sourceURI:f,sourceWidth:d.width})}else if(c&&this.props.attachedGIF)if(c.markup)a=b("React").createElement(b("DOMContainer.react"),null,c.markup),c.markup.clientWidth&&c.markup.clientWidth>k&&(a=b("React").createElement("div",{style:{marginTop:"20px"}},a));else{e=this.props.attachedGIF.media.preview;a=b("React").createElement("div",{style:{height:e.height,width:e.width}},b("React").createElement(b("Image.react"),{src:e.url}))}else if(c&&this.props.attachedFile){f=c.markupPreview;f&&(b("HTML").isHTML(f.markup)&&(f=b("HTML").replaceJSONWrapper(f.markup).getRootNode()),a=b("React").createElement(b("DOMContainer.react"),{"data-testid":m},f))}else if(c&&this.props.attachedPhoto){d=c.markupPreview;d?(b("HTML").isHTML(d.markup)&&(d=b("HTML").replaceJSONWrapper(d.markup).getRootNode()),a=b("React").createElement(b("DOMContainer.react"),{"data-testid":m},d)):this.props.attachedPhoto&&this.props.attachedPhoto.metadata&&this.props.attachedPhoto.metadata.preview_uri&&(a=b("React").createElement("div",{style:{height:this.props.attachedPhoto.metadata.height}},b("React").createElement(b("Image.react"),{src:this.props.attachedPhoto.metadata.preview_uri})))}else if(this.props.isLoadingPhoto||this.props.isLoadingFile)a=b("React").createElement(b("LoadingIndicator.react"),{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});else if(this.props.videoStatus==="uploading"||this.props.attachedVideo&&this.props.videoStatus==="encoding")a=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("OptimisticVideoComment.react").__setRef("UFIAttachedMediaPreview.react"),bootloadPlaceholder:b("React").createElement("span",null),videoFileURL:this.props.videoFileURL,videoStatus:this.props.videoStatus,videoTrimParams:this.props.videoTrimParams,progress:this.props.videoProgress,isVideoFileTranscodedGIF:this.props.isVideoFileTranscodedGIF});else if(c&&this.props.attachedVideo)a=b("React").createElement("div",{className:"_3f0q"},b("React").createElement(b("DOMContainer.react"),null,c.markup));else if(c&&this.props.attachedStars){f=(e=c.promotionEvent)==null?void 0:e.imageSrc;d=f&&c.matchingQuantity>0;e=c.previewImageSrc;var h=c.userTippedQuantity,j=c.matchingQuantity,l=d?this.maybeShowStarAttachmentTooltip(c.matchingQuantity):null;a=b("React").createElement("div",{className:"UFICommentStarsAttachedPreview"},d?b("React").createElement(b("Image.react"),{ref:"attachment_ref",className:"UFICommentStarsAttachedPreviewImage",src:f,height:"20",width:"20"}):b("React").createElement(b("Image.react"),{ref:"attachment_ref",className:"UFICommentStarsAttachedPreviewImage",src:e?e:g("647932")}),b("React").createElement(b("XUIText.react"),{weight:"bold"},d?this.getMatchingStarText(h,j):i._("{star_quantity} Bintang",[i._param("star_quantity",c.metadata)])),l)}f=null;e=this.props.attachedSticker?this.props.onRemoveAttachedStickerPreview:this.props.attachedStars?this.props.onRemoveAttachedStarsPreview:this.props.onRemoveAttachedMediaPreviewClicked;if(a!=null){d=null;this.props.attachedSticker?d=i._("Hapus Sticker"):this.props.attachedPhoto?d=i._("Hapus Foto"):this.props.attachedVideo?d=i._("Hapus Video"):this.props.attachedFile?d=i._("Hapus File"):this.props.attachedGIF?d=i._("Hapus GIF"):this.props.attachedStars&&(d=i._("Hapus Bintang"));h=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;f=b("React").createElement("div",{className:"UFICommentPhotoAttachedPreview"+(h?" _4soo":"")+" pas"},a,b("React").createElement(b("CloseButton.react"),{tooltip:d,onClick:e,ariaLabel:d}))}return f};a.propTypes={attachedPhoto:c.object,attachedVideo:c.object,attachedFile:c.object,attachedSticker:c.object,attachedGIF:c.object,attachedStars:c.object,onRemoveAttachedMediaPreviewClicked:c.func,onRemoveAttachedStickerPreview:c.func,subtitle:c.string,isLoadingPhoto:c.bool,isLoadingFile:c.bool,videoFileURL:c.string,videoStatus:c.string,videoTrimParams:c.object,videoProgress:c.number,isVideoFileTranscodedGIF:c.bool};e.exports=a}),null);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="tip_attachment_support_link";a={_registeredLinks:new Set(),registerFanSupportAttachment:function(a){if(!a)return;a=a.querySelector('[name="'+h+'"]');a&&!this._registeredLinks.has(a)&&(a.addEventListener("mouseover",this._onLinkMouseover.bind(this,a)),a.addEventListener("click",this._onLinkClick.bind(this,a)),this._registeredLinks.add(a))},_onLinkMouseover:function(a){var b="_1k48";this._isSupportOverlayRegistered()?a.classList.remove(b):a.classList.add(b)},_onLinkClick:function(a,b){if(this._isSupportOverlayRegistered()){a=this._getTahoeView();a&&a.toggleSupportOverlay();b.stopPropagation()}},_isSupportOverlayRegistered:function(){var a=this._getTahoeView();return a&&a.isSupportOverlayRegistered()},_getTahoeView:function(){var a=void 0;b("ifRequired")("Tahoe",function(c){b("ifRequired")("TahoeVideoView",function(b){var d=c.get();if(d){d=d.getView();d instanceof b&&(a=d)}})});return a}};e.exports=a}),null);
__d("concatMap",[],(function(a,b,c,d,e,f){function a(a,b){var c=-1,d=b.length,e=[],f;while(++c<d)f=a(b[c],c,b),Array.isArray(f)?Array.prototype.push.apply(e,f):Array.prototype.push.call(e,f);return e}e.exports=a}),null);
__d("LitestandEllipsis",["BinarySearch","DOMQuery","concatMap","getElementText","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();var g,h="\u2026";function i(a,b,c){a=a.slice(0,b).join(" ")+h;c===0&&(a=a.trimLeft());return a}function j(a,b,c){a=a.substr(0,b).trimRight()+h;c===0&&(a=a.trimLeft());return a}a={add:function(a,c,d){__p&&__p();d=d||a;b("DOMQuery").scry(a,"br").forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)});var e=d.offsetHeight||0;if(e<=c)return;var f=l(a),g=f.length-1,m=c+1;e=function(){__p&&__p();var a=b("getElementText")(f[g]).split(/[\n\s]/g),c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],i(a,b,g));return d.offsetHeight||0},m,0,a.length,function(a,b){return a-b});if(c>0){k(f[g],i(a,c,g));return"break"}c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],j(a[0],b,g));return d.offsetHeight||0},m,0,a[0].length-h.length-2,function(a,b){return a-b});if(c>-1){k(f[g],j(a[0],c,g));return"break"}k(f[g],"");g--};while(g>=0){a=e();if(a==="break")break}}};function k(a,b){g=g||(a.textContent!=null?"textContent":"innerText"),a[g]=b}function l(a){return b("isTextNode")(a)?[a]:b("concatMap")(l,Array.from(a.childNodes))}e.exports=a}),null);
__d("LitestandShareAttachment",["csx","cx","CSS","DOMQuery","LitestandEllipsis","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=22,j=16,k=5,l=3,m=3,n=2,o=2,p=5,q=5,r="_5qqr",s="_6m2",t=20,u=20,v=2;function w(a){return b("CSS").matchesSelector(a,"._59ap")}function x(a){return b("CSS").matchesSelector(a,"._5ej3")}function y(a){return b("CSS").matchesSelector(a,"._pb2")}function z(a){return b("CSS").matchesSelector(a,"._1-9r")}function A(a){return b("CSS").matchesSelector(a,"._61bj")}function B(a,c){a=a.getElementsByTagName?b("DOMQuery").scry(a,c)[0]:null;return a?a:null}function C(a){return!!B(a,"^div._4rtc")}function D(a){return B(a,"._59tj")}function E(a){return B(a,"._6m6")}function F(a){return B(a,"._6m7")}function G(a){return B(a,"._6m3")}function H(a){__p&&__p();if(y(a))return o;else if(C(a))return n;else if(w(a))if(z(a))return v;else return l;else if(x(a))return m;else return k}function I(a,b,c){__p&&__p();var d=G(a);if(!b||!d||A(a))return 0;var e=D(a),f=w(a),g=y(a),h=Math.round(b.scrollHeight/J(a));if(w(a)&&z(a))if(h==v)return 0;else return Math.max(v-h,0);if(h>c&&!g)return 0;h=d.offsetHeight-p-b.offsetHeight-(e?e.offsetHeight:0)-(f?0:q)+1;return Math.floor(Math.max(h,0)/K(a))}function J(a){return y(a)?u:i}function K(a){return z(a)?t:j}a={getSimpleCropClass:function(){return r},_truncateText:function(a,c){var d,e,f,g=H(a);b("queryThenMutateDOM")(function(){d=E(a),e=F(a),f=I(a,d,g)},function(){if(!a.offsetHeight){c&&b("CSS").addClass(a,r);return}!f?(e&&b("CSS").hide(e),d&&b("LitestandEllipsis").add(d,g*J(a))):e&&f&&(b("CSS").show(e),b("LitestandEllipsis").add(e,f*K(a)))})},getDetailsBreakingNewsPlaceholder:function(a){a=this.getDetailsFooterBrandName(a);if(!a)return null;var b=B(a.parentNode,"div._3vkw");b||(b=document.createElement("div"),b.className="clearfix _3vkw",a.parentNode.insertBefore(b,a));return b},getBreakingBanner:function(a){a=B(a,"div.___a");return a},getDetailsFooterBrandName:function(a){a=B(a,"div._59tj");return!a?null:B(a,"div._6lz")},getDetailsFooterForBreaking:function(a){return B(a,"div._59tj")},getTitleNode:function(a){return B(a,"div._6m6")},getContentNode:function(a){return B(a,"div._6m3")},init:function(a,c){__p&&__p();if(b("CSS").hasClass(a,r)){var d=!1;b("queryThenMutateDOM")(function(){a.offsetHeight&&(d=!0)},function(){d?(b("CSS").removeClass(a,r),this._truncateText(a,!0)):c||window.setTimeout(function(){return this.init(a,!0)}.bind(this),300)}.bind(this));return}else{var e=b("CSS").hasClass(a,s);this._truncateText(a,e)}},getNumDescriptionLines:function(a){return I(a,E(a),H(a))},getDescriptionLineHeight:function(a){return K(a)}};e.exports=a}),null);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gifs/in_live_comment/",{})}),null);
__d("XChatCommandResultCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat_command_result/live_comment_attachment/",{})}),null);
__d("XDonationCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser_for_story/live_comment_attachment/",{})}),null);
__d("XFileCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/files_in_comments/live_comment_attachment/",{})}),null);
__d("XTipJarCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/tip_jar/live_comment_attachment/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/in_live_comment/",{})}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","lazyLoadComponent","Link.react","LitestandShareAttachment","Random","React","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XChatCommandResultCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")),j=b("lazyLoadComponent")(b("JSResource")("PagePrivateReplyMessageCard.react").__setRef("UFICommentAttachment.react")),k=55,l="ufi_comment_photo",m=80,n="ufi_comment_sticker";c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid),randomInstanceID:Math.floor(b("Random").random()*1e4)}}a.prototype.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};a.prototype.$3=function(a,b){var c=this.props.allowCustomStickers?k:m,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};a.prototype.componentDidMount=function(){var a=this.$2(this.props.comment);a&&this.renderAttachment(a);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFILocallyComposedCommentStore").addListener(function(){this.setState({localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid)})}.bind(this)))};a.prototype.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};a.prototype.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};a.prototype.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=b("ReactDOM").findDOMNode(this.refs.contents);b("DOM").empty(a)}this.$1&&this.$1.release()};a.prototype.renderAttachment=function(a){__p&&__p();if(this.props.isPinnedLivingRoomPhotoComment)return;if(a&&this.refs&&this.refs.contents&&a.markup){var c=a.markup;b("HTML").isHTML(c.markup)&&(c=b("HTML").replaceJSONWrapper(c.markup).getRootNode());var d=c.parentNode,e=b("ReactDOM").findDOMNode(this.refs.contents);d&&d!==e&&(c=c.cloneNode(!0));if(this.props.disableTheater){d=c.querySelector('a[rel="theater"]');d&&b("DOM").setAttributes(d,{target:"_blank",rel:""})}b("DOM").setContent(e,c);if(a.type=="share"){d="_6m2";d=e&&b("CSS").hasClass(e,d)?e:b("DOMQuery").scry(e,"."+d)[0];d=d?d:e;d instanceof HTMLElement&&b("LitestandShareAttachment").init(d)}else a.type==="TIP_JAR_PAYMENT"&&b("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(c)}else if(a&&a.type=="video"&&!a.markup){e=b("XVideoInLiveCommentPreviewController").getURIBuilder();new(b("AsyncRequest"))(e.getURI()).setMethod("POST").setData({video_id:a.target.id}).setHandler(function(a){this.renderAttachment(a.payload.video_preview.video_comment)}.bind(this)).send()}else a&&a.type=="gif"&&!a.markup?new(b("AsyncRequest"))(b("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="file"&&!a.markup?new(b("AsyncRequest"))(b("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="donation"&&!a.markup?new(b("AsyncRequest"))(b("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="TIP_JAR_PAYMENT"&&!a.markup?new(b("AsyncRequest"))(b("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="chat_command_result"&&!a.markup&&new(b("AsyncRequest"))(b("XChatCommandResultCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send()};a.prototype.renderSticker=function(a){var c=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return b("React").createElement(b("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:c.height,sourceURI:e,sourceWidth:c.width,testID:n})};a.prototype.renderPhoto=function(a){var c="_2rn3 _4-eo";return b("React").createElement("div",{className:"_4iv9"},b("React").createElement(b("Link.react"),{className:c,"data-testid":l,rel:"theater",href:a.metadata.url},b("React").createElement("div",{style:{height:a.metadata.height}},b("React").createElement(b("Image.react"),{src:a.metadata.preview_uri}))))};a.prototype.renderShare=function(a){return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};a.prototype.renderLivePlaceInfo=function(a){return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};a.prototype.renderPlaceInfo=function(a){var c=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:c,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};a.prototype.renderProductInfo=function(a){return a.props.category==="Books"?b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("ProductBookRecommendationCard.react").__setRef("UFICommentAttachment.react")},a.props)):b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("ProductRecommendationCard.react").__setRef("UFICommentAttachment.react")},a.props))};a.prototype.renderUpsellInfo=function(a){if(a.subtype){if(a.subtype=="question_triggered_page_msg")return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("XUISpinner.react"),null)},b("React").createElement(i,a));if(a.subtype=="private_reply_user_msg")return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("XUISpinner.react"),null)},b("React").createElement(j,a))}return b("React").createElement("span",null)};a.prototype.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};a.prototype.render=function(){__p&&__p();var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result")return b("React").createElement("div",{ref:"contents",id:this.$4(a.type)},b("React").createElement(b("XUISpinner.react"),null));else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="comment_product_info")return this.renderProductInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return b("React").createElement("div",{ref:"contents"});return b("React").createElement("span",null)};e.exports=a}),null);
__d("Middot.react",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("span",babelHelpers["extends"]({},a,{"aria-hidden":!0,role:"presentation"})," \xb7 ")}e.exports=a}),null);
__d("UFICommentMetadata.react",["ix","cx","fbt","BootloadedComponent.react","Image.react","JSResource","Middot.react","React","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("UFIConstants").UFIStatus,l="ufi_comment_timestamp",m="UFIFailureMessageIcon",n="UFIFailureMessage",o="uiLinkSubtle",p=function(a){a=a.status;return a===k.FAILED_ADD||a===k.FAILED_EDIT};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.editLinkRef=null,b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.comment,d=a.onRetrySubmit;a=a.isAuthorPinnedComment;var e,f,h=c.timestamp;if(p(c))e=[b("React").createElement("span",{key:"failure",className:n},b("React").createElement("i",{className:m}),i._("Tidak dapat mengirim komentar.")),c.allowRetry&&d?[" ",b("React").createElement("a",{key:"rety-submit",onClick:d,href:"#",role:"button"},i._("Coba Lagi"))]:null];else if(a){d=b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:g("606470")}),i._("Disematkan"));f=d;this.props.showPermalink&&(f=this.$1(d))}else if(h){a=b("React").createElement(b("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:h.time,text:h.text,useLargerTimeUnits:!0,verbose:h.verbose});f=a;this.props.showPermalink&&(f=this.$1(a))}d=null;if(c.originalTimestamp){h=new(b("URI"))("/ajax/edits/browser/comment").addQueryData({comment_token:c.id}).toString();d=[!this.props.displayVerticalCommentVote&&b("React").createElement(b("Middot.react"),{key:"middot-editNote"}),b("React").createElement("a",{ajaxify:h,className:"uiLinkSubtle"+(this.props.displayVerticalCommentVote?" _6hmt":""),"data-hover":"tooltip","data-tooltip-content":i._("Tampilkan riwayat pengeditan"),href:"#",key:"edit-link",ref:function(a){return this.editLinkRef=a}.bind(this),rel:"dialog",role:"button",title:i._("Tampilkan riwayat pengeditan")},i._("Telah diedit"))]}a=null;c.attachment_status&&!p(c)&&(a=b("React").createElement("span",null,b("React").createElement(b("Middot.react"),{key:"middot-creator"}),b("React").createElement("span",{className:"UFISutroCommentTimestamp"},c.attachment_status)));h=null;var j=c.creator_data;j&&(h=[b("React").createElement(b("BootloadedComponent.react"),{key:"creator",bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),bootloadLoader:b("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:j.creatorID,creatorType:j.creatorType,creatorName:j.creatorName,labelType:j.labelType,pageID:j.pageID,profileURI:j.profileURI}),b("React").createElement(b("Middot.react"),{key:"middot-creator"})]);j=null;c.body&&c.body.markdown_enabled&&c.body.markup&&(j=[b("React").createElement(b("Middot.react"),{key:"middot-markdownNote"}),b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("a",{className:"uiLinkSubtle"},i._("Diformat")),bootloadLoader:b("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:c,key:"markdown-link"})]);c=null;this.props.showEditNux&&(c=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return b("React").createElement("span",null,h,f,e,d,j,c,a)};a.prototype.$1=function(a){var c=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SOURCE);return b("React").createElement("a",{key:"timestamp-message",className:o,href:this.props.permalink,"data-ft":c,"data-testid":l,target:this.props.permalinkTarget},a)};e.exports=a}),null);
__d("UFIStickerButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","Link.react","React","StickerInterfaces","getObjectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"UFIStickerButton",_clickGuard:!1,_updateListener:null,_linkRef:null,propTypes:{allowCustomStickers:a.bool,allowCustomStickersV2:a.bool,customStickerOwnerID:a.string,onStickerFlyoutShow:a.func,onStickerSelected:a.func.isRequired,onEmoticonSelected:a.func,showTooltip:a.bool,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),tabIndex:a.number},getDefaultProps:function(){return{allowCustomStickers:!1,allowCustomStickersV2:!1,customStickerOwnerID:"",showTooltip:!0,stickerInterface:b("StickerInterfaces").COMMENTS}},getInitialState:function(){return{renderFlyout:null,flyoutShown:!1}},componentDidMount:function(){this._updateListener=b("Arbiter").subscribe("page_transition",function(){return this._hideFlyout()}.bind(this))},componentWillUnmount:function(){this._updateListener&&this._updateListener.unsubscribe()},render:function(){var a=h._("Posting stiker");return b("React").createElement(b("FocusRelocator.react"),{from:this._linkRef,to:this.refs.icon},b("React").createElement(b("Link.react"),{"aria-label":a,className:"_r1a UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this._setRef,onClick:this._onLinkClicked,onMouseDown:this._prepareForClick,role:"button",tabIndex:this.props.tabIndex},b("React").createElement("div",{ref:"icon",className:"UFICommentStickerIcon"+(this.state.flyoutShown?" UFICommentStickerIconActive":"")}),this.props.children,this.state.renderFlyout?this.state.renderFlyout():null))},_hideFlyout:function(){this.setState({flyoutShown:!1})},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown},_onLinkClicked:function(a){__p&&__p();a.preventDefault();if(this.state.renderFlyout!==null){this._clickGuard||(this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow(),this.setState({flyoutShown:!0}));return}b("Bootloader").loadModules(["ContextualLayerAutoFlip","LayerTabIsolation","StickersFlyout.react","XUIContextualDialog.react"],function(a,c,d,e){this.setState({flyoutShown:!0,renderFlyout:function(){return b("React").createElement(e,{alignment:"right",behaviors:{ContextualLayerAutoFlip:a,LayerTabIsolation:c},className:"_5e-r",contextRef:function(){return this._linkRef}.bind(this),onBlur:this._hideFlyout,onToggle:function(a){!a&&this.state.flyoutShown&&this._hideFlyout()}.bind(this),position:"above",shown:this.state.flyoutShown,hasActionableContext:!0,width:this.props.allowCustomStickers?213:278},b("React").createElement("div",null,b("React").createElement(d,{allowCustomStickers:this.props.allowCustomStickers,allowCustomStickersV2:this.props.allowCustomStickersV2,customStickerOwnerID:this.props.customStickerOwnerID,onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,shown:this.state.flyoutShown})))}.bind(this)}),this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow()}.bind(this),"UFIStickerButton.react")},_onStickerSelected:function(a,b,c){this.props.onStickerSelected(a,b,c),this._hideFlyout()},_onEmoticonSelected:function(a){this.props.onEmoticonSelected&&this.props.onEmoticonSelected(a),this._hideFlyout()},_setRef:function(a){this._linkRef=a}});e.exports=c}),null);
__d("AbstractActionList.react",["React","ReactFragment"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("React").createElement("span",{"aria-hidden":"true"}," \xb7 ");g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";__p&&__p();var a=!0,c=b("React").Children.map(this.props.children,function(c){if(!c)return c;if(a){a=!1;return c}return b("ReactFragment").create({BULLET:h,child:c})});return b("React").createElement("div",this.props,c)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("ActionList.react",["AbstractActionList.react","React","joinClasses"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("AbstractActionList.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"fsm fwn fcg")}),this.props.children)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("InputLabelLabel_DEPRECATED.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").createElement("label",a,c)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("InputLabel_DEPRECATED.react",["cx","invariant","React","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";this.props.children.length===2||h(0,5084);var a=this.props.children[0],c=this.props.children[1],d=a.type==="input";a=b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"uiInputLabelInput"+(d&&a.props.type==="radio"?" uiInputLabelRadio":"")+(d&&a.props.type==="checkbox"?" uiInputLabelCheckbox":"")),id:a.props.id||b("uniqueID")()});c=b("React").cloneElement(c,{className:b("joinClasses")(c.props.className,"uiInputLabelLabel"),htmlFor:a.props.id});d="uiInputLabel clearfix"+(this.props.display==="inline"?" inlineBlock":"")+(d?" uiInputLabelLegacy":"");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,d)}),a,c)};function a(){"use strict";i.apply(this,arguments)}a.propTypes={display:c.oneOf(["block","inline"])};a.defaultProps={display:"block"};e.exports=a}),null);
__d("createMentionEntityForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b.getType().toLowerCase();if(c==="hashtag")return a.createEntity("HASHTAG","IMMUTABLE");var d=c==="user"||c==="fb4c"?"SEGMENTED":"IMMUTABLE",e=b.getAuxiliaryData();return a.createEntity("MENTION",d,{id:b.getUniqueID(),uri:b.getURI(),isWeak:e&&e.renderType==="non_member",type:c})}e.exports=a}),null);
__d("MentionsInput.react",["cx","invariant","AbstractMentionsTextEditor.react","Event","MentionsLayer.react","React","ReactDOM","createMentionEntityForContentState","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.blur=function(){this.refs.textEditor.blur()}.bind(this),this.focus=function(){this.refs.textEditor&&this.refs.textEditor.focus()}.bind(this),this.click=function(){var a=b("ReactDOM").findDOMNode(this);a||h(0,1803);var c=null;try{c=new(b("Event"))("focus")}catch(a){c=document.createEvent("Event"),c.initEvent("focus",!0,!0)}a.dispatchEvent(c)}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("joinClasses")(this.props.className,"_5yk1"),c=this.props,d=c.placeholder,e=c.customMentionCreationForContentStateFn;c=babelHelpers.objectWithoutPropertiesLoose(c,["placeholder","customMentionCreationForContentStateFn"]);return b("React").createElement("div",{className:a,onClick:this.click,onFocus:this.focus,role:"presentation"},b("React").createElement(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},c,{ariaMultiline:this.props.ariaMultiline,mentionResultsComponent:b("MentionsLayer.react"),mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,offset:this.props.offset,autoflip:this.props.autoflip,position:this.props.position},mentionCreationForContentStateFn:e||b("createMentionEntityForContentState"),placeholder:d!=null?String(d):void 0,ref:"textEditor",className:"_5yk2",stripPastedStyles:this.props.stripPastedStyles})))};a.defaultProps=babelHelpers["extends"]({},b("AbstractMentionsTextEditor.react").defaultProps,{stripPastedStyles:!0,maxResults:5});e.exports=a}),null);
__d("PopoverMenu.react",["cx","CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactDOM","SubscriptionsHandler","areEqual","clearImmediate","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=b("React").PropTypes;c=babelHelpers.inherits(i,b("React").Component);h=c&&c.prototype;function i(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$3=null,this.$7=function(){this.$3&&(this.$3.release(),this.$3=null),this.$8(),this.$2.setMenu(this.$5(this.props.menu)),this.$6()}.bind(this),b}i.getFirstChild=function(a){"use strict";a=a.children;return Array.isArray(a)?a[0]:a};i.getButtonSize=function(a){"use strict";a=i.getFirstChild(a);return a?a.type.getButtonSize(a.props):0};i.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.refs.root),c=a==null?void 0:a.firstChild;c!=null&&(b("CSS").addClass(c,"_p"),this.$1=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter,"data-testid":this.props["data-testid"],shouldDisableHideOnScroll:this.props.shouldDisableHideOnScroll}),this.$2=new(b("PopoverMenu"))(this.$1,c,this.$5(this.props.menu),this.props.behaviors));this.$6()};i.prototype.componentDidUpdate=function(a){"use strict";b("areEqual")(a.menu,this.props.menu)||(b("clearImmediate")(this.$4),this.$4=b("setImmediate")(this.$7)),this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable())};i.prototype.$6=function(){"use strict";this.props.onReturnWithoutFocusedItem&&this.$3&&this.$2&&this.$3.addSubscriptions(this.$2.subscribe("returnWithoutFocusedItem",this.props.onReturnWithoutFocusedItem))};i.prototype.render=function(){"use strict";__p&&__p();var a=b("React").Children.map(this.props.children,function(a,c){if(c===0)return b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a}),c=Object.assign({},this.props);delete c.onShow;delete c.onHide;delete c.alignh;delete c.position;delete c.layerBehaviors;delete c.behaviors;delete c.menu;delete c.disabled;delete c.disableArrowKeyActivation;delete c.enableActivationOnEnter;return b("React").createElement(b("InlineBlock.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null}),a)};i.prototype.componentWillUnmount=function(){"use strict";b("clearImmediate")(this.$4),this.hidePopover(),this.$3&&(this.$3.release(),this.$3=null),this.$2&&this.$2.destroy()};i.prototype.$5=function(a){"use strict";__p&&__p();var c=a.props;a=new a.type(c);this.$3=new(b("SubscriptionsHandler"))();c.onItemClick&&this.$3.addSubscriptions(a.subscribe("itemclick",c.onItemClick));c.onItemFocus&&this.$3.addSubscriptions(a.subscribe("focus",c.onItemFocus));c.onItemBlur&&this.$3.addSubscriptions(a.subscribe("blur",c.onItemBlur));c.onChange&&this.$3.addSubscriptions(a.subscribe("change",c.onChange));this.props.onShow&&this.$3.addSubscriptions(this.$1.subscribe("show",this.props.onShow));this.props.onHide&&this.$3.addSubscriptions(this.$1.subscribe("hide",this.props.onHide));return a};i.prototype.getMenu=function(){"use strict";return this.$2.getMenu()};i.prototype.isShown=function(){"use strict";return!!(this.$1&&this.$1.isShown())};i.prototype.showPopover=function(a){"use strict";this.$1.showLayer();if(a){var b=this.$2.getMenu();b.blur();b.focusAnItem(a)}};i.prototype.hidePopover=function(){"use strict";var a=this.$1;a&&a.isShown()&&a.hideLayer()};i.prototype.getFocusedItem=function(){"use strict";var a=this.$2.getMenu();return a.getFocusedItem()};i.prototype.$8=function(){"use strict";var a=this.getMenu();a&&a.forEachItem(function(a){a=a.getRoot().firstElementChild;a&&b("ReactDOM").unmountComponentAtNode(a)})};i.propTypes={alignh:a.oneOf(["left","center","right"]),alignv:a.oneOf(["baseline","bottom","middle","top"]),position:a.oneOf(["above","below","left","right"]),layerBehaviors:a.array,menu:a.object.isRequired,disabled:a.bool,disableArrowKeyActivation:a.bool,enableActivationOnEnter:a.bool,onReturnWithoutFocusedItem:a.func,shouldDisableHideOnScroll:a.bool};i.defaultProps={alignv:"middle",shouldDisableHideOnScroll:!1};e.exports=i}),null);
__d("MenuItemNoAction",["MenuItem"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("MenuItem"));g&&g.prototype;a.prototype.hasAction=function(){"use strict";return!1};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("MenuSelectableItem",["cx","CSS","DOM","MenuItem"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("MenuItem"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this._ARIARole="menuitemcheckbox",this._selected=!!this._data.selected}a.prototype.getIcon=function(){"use strict";return this._data.icon};a.prototype.setIcon=function(a){"use strict";b("DOM").replace(this._data.icon,a),this._data.icon=a};a.prototype.isSelected=function(){"use strict";return this._selected};a.prototype.select=function(){"use strict";if(this.isDisabled())return!1;b("CSS").addClass(this._root,"_54nd");this._anchor.setAttribute("aria-checked","true");this._selected=!0};a.prototype.deselect=function(){"use strict";b("CSS").removeClass(this._root,"_54nd"),this._anchor.setAttribute("aria-checked","false"),this._selected=!1};a.prototype.render=function(){"use strict";var a=h.render.call(this);this._data.selected&&(b("CSS").addClass(a,"_54nd"),this._anchor.setAttribute("aria-checked","true"));return a};Object.assign(a.prototype,{_selected:!1});e.exports=a}),null);
__d("MenuTheme",["cx"],(function(a,b,c,d,e,f,g){e.exports={className:"_569t"}}),null);
__d("SelectableMenuUtils",[],(function(a,b,c,d,e,f){a={doesItemSupportSelect:function(a){return g(a)},isSelected:function(a){return g(a)&&a.isSelected()}};function g(a){return a.select&&a.deselect&&a.isSelected}e.exports=a}),null);
__d("SelectableMenu",["Menu","SelectableMenuUtils","createArrayFromMixed"],(function(a,b,c,d,e,f){__p&&__p();var g,h;g=babelHelpers.inherits(a,b("Menu"));h=g&&g.prototype;a.prototype.focusAnItem=function(){"use strict";for(var a=0;a<this._items.length;a++)if(b("SelectableMenuUtils").isSelected(this._items[a])&&this._focusItem(this._items[a])!==!1)return!0;return h.focusAnItem.call(this)};a.prototype.setValue=function(a){"use strict";this._root||this._render();var c=b("createArrayFromMixed")(a);this._items.forEach(function(a){b("SelectableMenuUtils").doesItemSupportSelect(a)&&(c.includes(a.getValue())?a.select():b("SelectableMenuUtils").isSelected(a)&&a.deselect())});this.inform("change",this.getSelection())};a.prototype._handleItemClick=function(a,c){"use strict";__p&&__p();if(!b("SelectableMenuUtils").doesItemSupportSelect(a))return h._handleItemClick.call(this,a,c);var d=this.inform("itemclick",{item:a,event:c});if(d)return;if(this._config.multiple){d=b("SelectableMenuUtils").isSelected(a)?a.deselect():a.select();d!==!1&&this.inform("change",this.getSelection());this._config.closeOnSelectWithMultiple&&this.done()}else b("SelectableMenuUtils").isSelected(a)||a.select()!==!1&&(this._items.forEach(function(c){b("SelectableMenuUtils").isSelected(c)&&c!==a&&c.deselect()}),this.inform("change",this.getSelection())),this.done();return a.handleClick(c)};a.prototype.getSelection=function(){"use strict";var a=[];this._items.forEach(function(c){b("SelectableMenuUtils").isSelected(c)&&a.push({label:c.getLabel(),value:c.getValue(),item:c})});this._config.multiple||(a=a[0]);return a};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("ReactMenu",["cx","Menu","MenuItem","MenuItemNoAction","MenuSelectableItem","MenuTheme","React","SelectableMenu","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;function j(a){var c=[];b("React").Children.forEach(a,function(a){a&&c.push(a)});return c}function a(a){a!=null&&(a.isReactLegacyFactory={},a.type=a)}f=babelHelpers.inherits(c,b("Menu"));h=f&&f.prototype;function c(a,c){"use strict";c=babelHelpers["extends"]({theme:b("MenuTheme"),maxheight:a?a.maxheight:null,className:a?a.className:null},c);h.constructor.call(this,j(a.children),c)}a(c);g=babelHelpers.inherits(d,b("SelectableMenu"));i=g&&g.prototype;function d(a,c){"use strict";c=babelHelpers["extends"]({className:b("joinClasses")("_57di",a?a.className:null),theme:b("MenuTheme"),multiple:a&&a.multiple,closeOnSelectWithMultiple:a&&a.closeOnSelectWithMultiple,maxheight:a?a.maxheight:null,testid:a?a["data-testid"]:null},c);i.constructor.call(this,j(a.children),c)}a(d);c.SelectableMenu=d;a(b("MenuItem"));c.Item=b("MenuItem");c.ItemNoAction=b("MenuItemNoAction");a(b("MenuSelectableItem"));c.SelectableItem=b("MenuSelectableItem");e.exports=c}),null);
__d("PopoverMenuContextMinWidth",["cx","CSS","Style","shield"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this._onSetMenu=function(){this._menu=this._popoverMenu.getMenu();this._showSubscription=this._popover.subscribe("show",b("shield")(this._updateWidth,this));var a=this._updateWidth.bind(this);this._menuSubscription=this._menu.subscribe(["change","resize"],function(){window.setTimeout(a,0)});this._updateWidth()}.bind(this),this._popoverMenu=a,this._popover=a.getPopover()}a.prototype.enable=function(){"use strict";this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",b("shield")(this._onSetMenu,this))};a.prototype.disable=function(){"use strict";this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null,this._showSubscription&&(this._showSubscription.unsubscribe(),this._showSubscription=null),this._menuSubscription&&(this._menuSubscription.unsubscribe(),this._menuSubscription=null)};a.prototype._updateWidth=function(){"use strict";var a=this._menu.getRoot(),c=this._popoverMenu.getTriggerElem();c=c.offsetWidth;b("Style").set(a,"min-width",c+"px");b("CSS").conditionClass(a,"_575s",c>=a.offsetWidth)};Object.assign(a.prototype,{_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});e.exports=a}),null);
__d("PopoverMenuOverlappingBorder",["cx","CSS","DOM","Style","shield"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this._popoverMenu=a,this._popover=a.getPopover(),this._triggerElem=a.getTriggerElem()}a.prototype.enable=function(){"use strict";this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",b("shield")(this._onSetMenu,this))};a.prototype.disable=function(){"use strict";this._popoverMenu.unsubscribe(this._setMenuSubscription),this._setMenuSubscription=null,this._removeBorderSubscriptions(),this._removeShortBorder()};a.prototype._onSetMenu=function(){"use strict";this._removeBorderSubscriptions();this._menu=this._popoverMenu.getMenu();this._renderShortBorder(this._menu.getRoot());this._showSubscription=this._popover.subscribe("show",b("shield")(this._updateBorder,this));var a=this._updateBorder.bind(this);this._menuSubscription=this._menu.subscribe(["change","resize"],function(){setTimeout(a,0)});this._updateBorder()};a.prototype._updateBorder=function(){"use strict";var a=this._menu.getRoot(),c=this._triggerElem.offsetWidth;a=Math.max(a.offsetWidth-c,0);b("Style").set(this._shortBorder,"width",a+"px")};a.prototype._renderShortBorder=function(a){"use strict";this._shortBorder=b("DOM").create("div",{className:"_54hx"}),b("DOM").appendContent(a,this._shortBorder),b("CSS").addClass(a,"_54hy")};a.prototype._removeShortBorder=function(){"use strict";this._shortBorder&&(b("DOM").remove(this._shortBorder),this._shortBorder=null,b("CSS").removeClass(this._popoverMenu.getMenu().getRoot(),"_54hy"))};a.prototype._removeBorderSubscriptions=function(){"use strict";this._showSubscription&&(this._popover.unsubscribe(this._showSubscription),this._showSubscription=null),this._menuSubscription&&(this._menu.unsubscribe(this._menuSubscription),this._menuSubscription=null)};Object.assign(a.prototype,{_shortBorder:null,_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});e.exports=a}),null);
__d("ReactSelectorUtils",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={processMenuItems:function(a,c,d){__p&&__p();d===void 0&&(d=!1);var e;d=b("React").Children.map(a,function(a){if(a){var d=a.props.value===c;a=b("React").cloneElement(a,{selected:d});d&&(e=a);return a}});return{items:d,selectedItem:e}},processMultiMenuItems:function(a,c,d){__p&&__p();d===void 0&&(d=!1);var e=[];d=a;c&&(d=b("React").Children.map(a,function(a){if(a){var d=c.some(function(b){return b===a.props.value});a=b("React").cloneElement(a,{selected:d});d&&e.push(a);return a}}));return{items:d,selectedItems:e}}};e.exports=a}),null);
__d("intlList",["fbt","invariant","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={AND:"AND",NONE:"NONE",OR:"OR"},j={COMMA:"COMMA",SEMICOLON:"SEMICOLON"};a=function(a,b,c){__p&&__p();b=b||i.AND;c=c||j.COMMA;var d=a.length;if(d===0)return"";else if(d===1)return a[0];var e=a[d-1],f=a[0];for(var h=1;h<d-1;++h)switch(c){case j.SEMICOLON:f=g._("{previous items}; {following items}",[g._param("previous items",f),g._param("following items",a[h])]);break;default:f=g._("{previous items}, {following items}",[g._param("previous items",f),g._param("following items",a[h])])}return k(f,e,b,c)};function k(a,b,c,d){switch(c){case i.AND:return g._("{list of items} dan {last item}",[g._param("list of items",a),g._param("last item",b)]);case i.OR:return g._("{list of items} atau {last item}",[g._param("list of items",a),g._param("last item",b)]);case i.NONE:switch(d){case j.SEMICOLON:return g._("{previous items}; {last item}",[g._param("previous items",a),g._param("last item",b)]);default:return g._("{list of items}, {last item}",[g._param("list of items",a),g._param("last item",b)])}default:h(0,568,c)}}a.DELIMITERS=j;a.CONJUNCTIONS=i;e.exports=a}),null);
__d("AbstractSelector.react",["cx","invariant","ContextualLayerAutoFlip","InlineBlock.react","PopoverMenu.react","PopoverMenuContextMinWidth","PopoverMenuOverlappingBorder","React","ReactSelectorUtils","intlList","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();c=b("React").PropTypes;function a(a,b,c){if(a[b]==null)return;c=Array.isArray(a[b]);if(a.multiple){if(!c)return new Error("You are trying to set a single value for `"+b+"` but the menu has `multiple` set to true, so it should be an array of values.")}else if(c)return new Error("You are trying to set an array of values for `"+b+"` but the menu has `multiple` set to false, so it should be a single value.")}d=b("React").createClass({displayName:"AbstractSelector",propTypes:{config:c.object.isRequired,alignh:c.oneOf(["left","center","right"]),name:c.string,overlappingborder:c.bool,onChange:c.func,disabled:c.bool,maxheight:c.number,multiple:c.bool,defaultLabel:c.string,defaultValue:a,value:a,initialValue:a,onReturnWithoutFocusedItem:c.func,onHide:c.func,onShow:c.func},getInitialState:function(){return{value:this.props.value!=null?this.props.value:this.props.defaultValue!=null?this.props.defaultValue:this.props.initialValue}},setMenuValue:function(a){this.refs&&this.refs.popover||h(0,1741),this._internalChange=!0,this.refs.popover.getMenu().setValue(a),this._internalChange=!1},onChange:function(a,b){if(this._internalChange)return;if(this.props.value==null){this.props.multiple?a=b.map(function(a){return a.value}):a=b.value;this.setState({value:a})}else this.setMenuValue(this.props.value);this.props.onChange&&this.props.onChange(b)},UNSAFE_componentWillReceiveProps:function(a){a.value!=null?this.setState({value:a.value}):this.props.multiple!==a.multiple&&this.setState({value:a.multiple?[this.state.value]:this.state.value[0]})},render:function(){__p&&__p();var a=this.props.config,c=this.props.multiple?b("ReactSelectorUtils").processMultiMenuItems(this.props.children,this.state.value):b("ReactSelectorUtils").processMenuItems(this.props.children,this.state.value),d=b("React").cloneElement(a.menu,{children:c.items,className:b("joinClasses")("_575t",a.menu.props.className),maxheight:this.props.maxheight,onChange:this.onChange}),e="",f=null;if(!this.props.multiple){var g=c.selectedItem;e=g.props.label||g.props.children;g.props.icon&&(f=b("React").cloneElement(g.props.icon,{}))}else{g=c.selectedItems;!g.length?e=this.props.defaultLabel:e=b("intlList")(g.map(function(a){return a.props.children}),b("intlList").CONJUNCTIONS.NONE)}c={label:e,disabled:this.props.disabled};f&&(c.image=f);g=b("React").cloneElement(a.button,c);e=[b("ContextualLayerAutoFlip")];a.layerBehaviors&&(e=e.concat(a.layerBehaviors));f=[b("PopoverMenuContextMinWidth")];this.props.overlappingborder&&f.push(b("PopoverMenuOverlappingBorder"));c=null;if(this.props.multiple){var h=this.props.name+"[]",i;this.state.value&&(i=this.state.value.map(function(a){return b("React").createElement("input",{key:a,type:"hidden",name:h,value:a})}));c=b("React").createElement("div",null,i)}else c=b("React").createElement("input",{type:"hidden",name:this.props.name,value:this.state.value});return b("React").createElement(b("InlineBlock.react"),babelHelpers["extends"]({},this.props,{alignv:"middle",name:null}),b("React").createElement(b("PopoverMenu.react"),{alignh:this.props.alignh,behaviors:f,disabled:this.props.disabled,layerBehaviors:e,menu:d,position:this.props.position,onReturnWithoutFocusedItem:this.props.onReturnWithoutFocusedItem,onHide:this.props.onHide,onShow:this.props.onShow,ref:"popover"},g),c)},showMenu:function(){this.isMounted()||h(0,1742),this.refs.popover.showPopover()},showAndFocusMenu:function(){this.isMounted()||h(0,1743),this.refs.popover.showPopover(!0)},hideMenu:function(){this.isMounted()||h(0,1744),this.refs.popover.hidePopover()}});e.exports=d}),null);
__d("ReactXUIMenu",["ReactMenu","XUIMenuTheme","XUIMenuWithSquareCorner"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function a(a){a.isReactLegacyFactory={},a.type=a}f=babelHelpers.inherits(c,b("ReactMenu"));g=f&&f.prototype;function c(a){var c={behaviors:void 0,theme:b("XUIMenuTheme")};(!a||a.withsquarecorner!==!1)&&(c.behaviors=[b("XUIMenuWithSquareCorner")]);g.constructor.call(this,a,c)}a(c);f=babelHelpers.inherits(d,b("ReactMenu").SelectableMenu);h=f&&f.prototype;function d(a){var c={behaviors:void 0,theme:b("XUIMenuTheme")};(!a||a.withsquarecorner!==!1)&&(c.behaviors=[b("XUIMenuWithSquareCorner")]);h.constructor.call(this,a,c)}a(d);c.SelectableMenu=d;c.Item=b("ReactMenu").Item;c.SelectableItem=b("ReactMenu").SelectableItem;e.exports=c}),null);
__d("ContextualLayerPositionClassOnContext",["cx","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("reposition",this._updateClassName.bind(this)),this._layer.isShown()&&this._updateClassName()};a.prototype.disable=function(){"use strict";this._subscription.unsubscribe(),this._subscription=null,this._prevClassName&&(b("CSS").removeClass(this._layer.getContext(),this._prevClassName),this._prevClassName=null)};a.prototype._updateClassName=function(a,c){"use strict";__p&&__p();a=this._layer.getContext();c=h(c);if(this._prevClassName){if(this._prevClassName===c)return;b("CSS").removeClass(a,this._prevClassName)}b("CSS").addClass(a,c);this._prevClassName=c};function h(a){__p&&__p();var b=a.getAlignment();a=a.getPosition();if(a==="below")if(b==="left")return"_nk";else if(b==="right")return"_nl";else return"_nm";else if(a==="above")if(b==="left")return"_nn";else if(b==="right")return"_no";else return"_np";else if(a==="left")return"_nq";else return"_nr"}Object.assign(a.prototype,{_subscription:null,_prevClassName:null});e.exports=a}),null);
__d("XUISelectorButton.react",["invariant","React","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";this.props.theme==null||g(0,5092);return b("React").createElement(b("XUIPopoverButton.react"),babelHelpers["extends"]({},this.props,{theme:"dark"}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUISelector.react",["AbstractSelector.react","ContextualLayerPositionClassOnContext","React","ReactXUIMenu","XUISelectorButton.react"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("ReactXUIMenu").SelectableMenu;c=b("ReactXUIMenu").SelectableItem;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getButtonSize=function(a){"use strict";return a.size||"medium"};a.prototype.render=function(){"use strict";var a,c=[];this.props.children!=null&&b("React").Children.forEach(this.props.children,function(a){a&&c.push(a)});this.props.customButton?a=this.props.customButton:c[0]&&c[0].type===b("XUISelectorButton.react")?(a=c[0],c=c.slice(1)):a=b("React").createElement(b("XUISelectorButton.react"),{ref:"button",haschevron:this.props.haschevron,disabled:this.props.disabled,use:this.props.use,size:this.props.size,suppressed:this.props.suppressed,maxwidth:this.props.maxwidth});a={button:a,menu:b("React").createElement(h,{maxheight:this.props.maxheight,multiple:this.props.multiple}),layerBehaviors:this.props.layerBehaviors.concat([b("ContextualLayerPositionClassOnContext")])};return b("React").createElement(b("AbstractSelector.react"),babelHelpers["extends"]({},this.props,{ref:"abstractSelector",config:a}),c)};a.prototype.showMenu=function(){"use strict";this.refs.abstractSelector.showMenu()};a.prototype.showAndFocusMenu=function(){"use strict";this.refs.abstractSelector.showAndFocusMenu()};a.prototype.hideMenu=function(){"use strict";this.refs.abstractSelector.hideMenu()};function a(){"use strict";g.apply(this,arguments)}a.Option=c;a.defaultProps={haschevron:!0,layerBehaviors:[],multiple:!1};e.exports=a}),null);
__d("Alignment",["invariant","DOMVector","Style","containsNode"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,b,c){"use strict";this.$1=b,this.$2=c,this.$3=a}h.prototype.getElement=function(){"use strict";return this.$3};h.prototype.getX=function(){"use strict";return this.$1};h.prototype.getY=function(){"use strict";return this.$2};h.prototype.isCorner=function(){"use strict";return(this.$1===h.LEFT||this.$1===h.RIGHT)&&(this.$2===h.TOP||this.$2===h.BOTTOM)};h.prototype.getPosition=function(a){"use strict";return b("DOMVector").getElementPosition(this.$3,a).add(this.getX()*this.$3.offsetWidth,this.getY()*this.$3.offsetHeight)};Object.assign(h,{LEFT:0,CENTER:.5,RIGHT:1,TOP:0,MIDDLE:.5,BOTTOM:1});function i(a,c,d){"use strict";this.$1=a,this.$2=c,this.$3=d,b("containsNode")(a.getElement(),c.getElement())||g(0,5861),a.isCorner()||g(0,5862)}i.prototype.align=function(){"use strict";i.$4(this.$1,function(){return i.measure(this.$2,this.$3)}.bind(this))};i.$4=function(a,c){"use strict";var d=a.getElement();b("Style").apply(d,{left:a.getX()===h.LEFT?"0":"",right:a.getX()===h.RIGHT?"0":"",top:a.getY()===h.TOP?"0":"",bottom:a.getY()===h.BOTTOM?"0":""});c=c();a.getX()===h.LEFT?b("Style").set(d,"left",c.x+"px"):a.getX()===h.RIGHT&&b("Style").set(d,"right",-c.x+"px");a.getY()===h.TOP?b("Style").set(d,"top",c.y+"px"):a.getY()===h.BOTTOM&&b("Style").set(d,"bottom",-c.y+"px")};i.position=function(a,c){"use strict";i.$4(a,function(){var d=b("DOMVector").getElementPosition(a.getElement());return c.convertTo("document").sub(d)})};i.measure=function(a,b){"use strict";a=a.getPosition("document");b=b.getPosition("document");return b.sub(a)};i.Anchor=h;e.exports=i}),null);
__d("SingleSelectorBase",["csx","cx","invariant","Alignment","ArbiterMixin","BehaviorsMixin","Button","CSS","DOM","DOMQuery","Event","Layer","LayerBounds","Locale","ParameterizedPopover","PopoverMenu","Rect","Scroll","SelectableMenuUtils","Style","getOverlayZIndex","mixin","throttle"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("Alignment").Anchor,l=b("Locale").isRTL()?k.RIGHT:k.LEFT,m={},n=16;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));j=c&&c.prototype;function a(a,c,d,e){"use strict";j.constructor.call(this),this.$SingleSelectorBase1=a,this.$SingleSelectorBase2=null,this.$SingleSelectorBase3=m,this.$SingleSelectorBase4=b("DOM").create("div",{}),this.$SingleSelectorBase5=new(b("Layer"))({classNames:["_5xew"]},this.$SingleSelectorBase4),this.$SingleSelectorBase6=new(b("ParameterizedPopover"))(a.parentNode,a,[],babelHelpers["extends"]({},d,{layer:this.$SingleSelectorBase5})),this.$SingleSelectorBase6.subscribe("show",this.$SingleSelectorBase7.bind(this)),this.$SingleSelectorBase6.subscribe("hide",this.$SingleSelectorBase8.bind(this)),this.$SingleSelectorBase9=new(b("PopoverMenu"))(this.$SingleSelectorBase6,a,c,[]),this.setMenu(c),e&&e.behaviors&&this.enableBehaviors(e.behaviors)}a.prototype.$SingleSelectorBase7=function(){"use strict";__p&&__p();this.$SingleSelectorBase10();this.$SingleSelectorBase11();b("CSS").conditionClass(this.$SingleSelectorBase5.getRoot(),"_5xex",this.$SingleSelectorBase12());b("Style").set(this.$SingleSelectorBase5.getRoot(),"min-width",this.$SingleSelectorBase1.offsetWidth+n+"px");var a=b("DOM").scry(this.$SingleSelectorBase4,"div.uiScrollableAreaWrap")[0];if(a){var c=b("Alignment").measure(new k(this.$SingleSelectorBase13(),l,k.MIDDLE),new k(this.$SingleSelectorBase2.getRoot(),l,k.MIDDLE));b("Scroll").setTop(a,b("Scroll").getTop(a)-c.y)}this.align();this.getMenu().focusAnItem();this.$SingleSelectorBase14||(this.$SingleSelectorBase14=b("Event").listen(window,"resize",b("throttle")(this.align.bind(this))));this.inform("show")};a.prototype.$SingleSelectorBase8=function(){"use strict";this.$SingleSelectorBase14&&(this.$SingleSelectorBase14.remove(),this.$SingleSelectorBase14=null),this.inform("hide")};a.prototype.$SingleSelectorBase15=function(a,b){"use strict";this.$SingleSelectorBase16=null,this.$SingleSelectorBase17||this.inform("change",b)};a.prototype.isShown=function(){"use strict";return this.$SingleSelectorBase6.isShown()};a.prototype.setValue=function(a){"use strict";this.isShown()?this.$SingleSelectorBase18(a,!1):(this.$SingleSelectorBase3=a,this.$SingleSelectorBase19=!1)};a.prototype.setValueWithoutChange=function(a){"use strict";this.isShown()?this.$SingleSelectorBase18(a,!0):(this.$SingleSelectorBase3=a,this.$SingleSelectorBase19=!0)};a.prototype.$SingleSelectorBase11=function(){"use strict";this.$SingleSelectorBase3!==m&&(this.$SingleSelectorBase18(this.$SingleSelectorBase3,this.$SingleSelectorBase19),this.$SingleSelectorBase3=m)};a.prototype.$SingleSelectorBase18=function(a,b){"use strict";this.$SingleSelectorBase17=b,this.$SingleSelectorBase2.setValue(a),this.$SingleSelectorBase17=null};a.prototype.getValue=function(){"use strict";return this.getSelectedItem().getValue()};a.prototype.getLayer=function(){"use strict";return this.$SingleSelectorBase5};a.prototype.getButton=function(){"use strict";return this.$SingleSelectorBase1};a.prototype.setMenu=function(a){"use strict";this.isShown()?this.$SingleSelectorBase20(a):this.$SingleSelectorBase21=a};a.prototype.$SingleSelectorBase10=function(){"use strict";this.$SingleSelectorBase21&&(this.$SingleSelectorBase20(this.$SingleSelectorBase21),this.$SingleSelectorBase21=null)};a.prototype.$SingleSelectorBase20=function(a){"use strict";a!==this.$SingleSelectorBase2&&(this.$SingleSelectorBase2=a,this.$SingleSelectorBase22&&this.$SingleSelectorBase22.unsubscribe(),this.$SingleSelectorBase22=this.$SingleSelectorBase2.subscribe("change",this.$SingleSelectorBase15.bind(this)),b("DOM").setContent(this.$SingleSelectorBase4,a.getRoot()),this.$SingleSelectorBase9.setMenu(a),this.$SingleSelectorBase16=null)};a.prototype.getMenu=function(){"use strict";return this.$SingleSelectorBase21||this.$SingleSelectorBase2};a.prototype.enable=function(){"use strict";b("Button").setEnabled(this.$SingleSelectorBase1,!0),this.$SingleSelectorBase6.enable()};a.prototype.disable=function(){"use strict";b("Button").setEnabled(this.$SingleSelectorBase1,!1),this.$SingleSelectorBase6.disable()};a.prototype.$SingleSelectorBase12=function(){"use strict";return b("Style").isFixed(this.$SingleSelectorBase1)&&!b("Style").isFixed(this.$SingleSelectorBase5.getRoot().parentNode)};a.prototype.align=function(){"use strict";__p&&__p();this.$SingleSelectorBase16||(this.$SingleSelectorBase16=this.getAlignment());this.$SingleSelectorBase16.align();var a=b("Rect").getElementBounds(this.$SingleSelectorBase2.getRoot()),c=b("LayerBounds").getViewportRectForContext(this.$SingleSelectorBase1),d=a.t-c.t,e=c.b-a.b,f=a.l-c.l;c=c.r-a.r;a=this.$SingleSelectorBase5.getRoot();d<10?o(a,"top",-d+10):e<10&&o(a,"top",e-10);f<10?o(a,"left",-f+10):c<10&&o(a,"left",c-10);d=b("getOverlayZIndex")(this.$SingleSelectorBase1,this.$SingleSelectorBase5.getInsertParent());b("Style").set(this.$SingleSelectorBase5.getRoot(),"z-index",d>200?d:"")};a.prototype.getAlignment=function(){"use strict";return new(b("Alignment"))(new k(this.$SingleSelectorBase5.getRoot(),k.TOP,k.LEFT),new k(this.$SingleSelectorBase13(),l,k.MIDDLE),new k(this.$SingleSelectorBase23(),l,k.MIDDLE))};a.prototype.$SingleSelectorBase23=function(){"use strict";return b("DOMQuery").find(this.$SingleSelectorBase1,"._55pe")};a.prototype.getSelectedItem=function(){"use strict";var a=null;this.$SingleSelectorBase3!==m?this.getMenu().forEachItem(function(b){b.getValue()===this.$SingleSelectorBase3&&(a===null||i(0,4204),a=b)}.bind(this)):this.getMenu().forEachItem(function(c){b("SelectableMenuUtils").isSelected(c)&&(a===null||i(0,4204),a=c)});a!==null||i(0,4205);return a};a.prototype.$SingleSelectorBase13=function(){"use strict";return b("DOMQuery").find(this.getSelectedItem().getRoot(),"._54nh")};a.prototype.destroy=function(){"use strict";this.$SingleSelectorBase2&&this.$SingleSelectorBase2.destroy(),this.$SingleSelectorBase9.destroy(),this.$SingleSelectorBase6.destroy(),this.$SingleSelectorBase5.destroy()};function o(a,c,d){b("Style").set(a,c,b("Style").getFloat(a,c)+d+"px")}e.exports=a}),null);
__d("XUISingleSelectorButton.react",["ix","Image.react","React","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIPopoverButton.react"),babelHelpers["extends"]({},this.props,{chevron:b("React").createElement(b("Image.react"),{src:g("101343")})}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUISingleSelector.react",["InlineBlock.react","React","ReactDOM","ReactSelectorUtils","ReactXUIMenu","SingleSelectorBase","SubscriptionsHandler","XUISingleSelectorButton.react","areEqual","cloneWithProps_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;var h=b("ReactXUIMenu").SelectableMenu;d=b("ReactXUIMenu").SelectableItem;f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$2=null,this.$3=null,this.flattenMenuItems=function(){return b("React").Children.toArray(this.props.children).filter(function(a){return a})}.bind(this),this.processMenuItems=function(){return b("ReactSelectorUtils").processMenuItems(this.flattenMenuItems(),this.getValue())}.bind(this),this.getValue=function(){return this.props.value!==void 0?this.props.value:this.state.value}.bind(this),this.onChange=function(a,b){this.props.value===void 0?this.setState({value:b.value}):this.setMenuValue(this.props.value),this.props.onChange&&this.props.onChange(b)}.bind(this),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue!==void 0?this.props.defaultValue:this.flattenMenuItems()[0].props.value},c}a.prototype.setMenuValue=function(a){"use strict";this.$2!=null&&this.$2.setValueWithoutChange(a)};a.prototype.UNSAFE_componentWillReceiveProps=function(){"use strict";this.props.value!==void 0&&this.setState({value:this.props.value})};a.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.refs.button);this.$2=new(b("SingleSelectorBase"))(a,this.$4(),{disabled:this.props.disabled},{behaviors:this.props.behaviors});this.$3=new(b("SubscriptionsHandler"))();this.$3.addSubscriptions(this.$2.subscribe("change",this.onChange));this.props.onShow&&this.$3!=null&&this.$2!=null&&this.$3.addSubscriptions(this.$2.subscribe("show",this.props.onShow));this.props.onHide&&this.$3!=null&&this.$2!=null&&this.$3.addSubscriptions(this.$2.subscribe("hide",this.props.onHide))};a.prototype.componentDidUpdate=function(a){"use strict";this.$2!=null&&(!b("areEqual")(a.children,this.props.children)||a.maxheight!==this.props.maxheight)&&this.$2.setMenu(this.$4());if(this.$2!=null&&a.disabled!==this.props.disabled){a=this.$2;!this.props.disabled?a.enable():a.disable()}this.setMenuValue(this.getValue())};a.prototype.componentWillUnmount=function(){"use strict";this.$2!=null&&this.$2.destroy(),this.$3&&(this.$3.release(),this.$3=null)};a.prototype.$4=function(){"use strict";var a=b("React").createElement(h,{className:this.props.menuClassName,maxheight:this.props.maxheight},this.processMenuItems().items);return new a.type(a.props)};a.prototype.render=function(){"use strict";var a=this.processMenuItems().selectedItem,c;a=a?a.props:{};a.icon&&(c=b("cloneWithProps_DEPRECATED")(a.icon,{}));var d={ref:"button",label:a.label||a.children,image:c},e;this.props.customButton?e=b("React").cloneElement(this.props.customButton,d):e=b("React").createElement(b("XUISingleSelectorButton.react"),babelHelpers["extends"]({},d,{disabled:this.props.disabled,size:this.props.size,suppressed:this.props.suppressed,maxwidth:this.props.maxwidth}));return b("React").createElement(b("InlineBlock.react"),babelHelpers["extends"]({},this.props,{alignv:this.props.valign}),b("React").createElement("input",{type:"hidden",autoComplete:"off",name:this.props.name,value:a.value}),e)};a.Option=d;a.propTypes={name:c.string,maxheight:c.number,maxwidth:c.number,menuClassName:c.string,defaultValue:c.any,disabled:c.bool,valign:c.oneOf(["top","middle"]),size:c.oneOf(["small","medium","large","xlarge","xxlarge"]),suppressed:c.bool,value:c.any,onChange:c.func,onShow:c.func,onHide:c.func,behaviors:c.array,customButton:c.element};a.defaultProps={disabled:!1,size:"medium",valign:"middle"};e.exports=a}),null);
__d("XUITypeaheadViewContainer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("ul",{className:b("joinClasses")("_599r",this.props.className),"data-testid":this.props.testID,id:this.props.controlleeID,role:this.props.role},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LegacyContactTestConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHOOSE_CONTACT_BUTTON:"choose_contact_button",NOT_NOW_BUTTON:"not_now_button",LEGACY_CONTACT_CARD:"legacy_contact_card",CONFIRM_REMOVE:"confirm_remove",SEND_MESSAGE_BUTTON:"send_message_button",MESSAGE_SEND_CONFIRMED:"message_send_confirmed",DELETE_ACCOUNT_SELECTOR:"delete_account_selector",SAVE_BUTTON:"save_button",DELETE_ACCOUNT_CONFIRM:"delete_account_confirm",DELETE_AFTER_DEATH_CHOSEN:"delete_after_death_chosen",DONT_DELETE_SELECTOR:"dont_delete_selector",YES_ALLOW_SELECTOR:"yes_allow_selector",DATA_ARCHIVE_SETTING:"data_archive_setting",NO_DISALLOW_SELECTOR:"no_disallow_selector",ADD_CONFIRM_BUTTON:"add_confirm_button",DATA_ARCHIVE_SETTING_YES:"data_archive_setting_yes",DATA_ARCHIVE_SETTING_NO:"data_archive_setting_no",CHOOSE_FRIEND_TYPEAHEAD:"choose_friend_typeahead",MESSAGE_COMPOSE_BOX:"message_compose_box",REMOVE_CONTACT_BUTTON:"remove_contact_button",MESSAGE_BUTTON:"message_button",LOADING_INDICATOR:"memorialization_loading_indicator"})}),null);
__d("TypeaheadViewItem",["React","ReactDOM","SearchableEntry","prop-types"],(function(a,b,c,d,e,f){__p&&__p();c={children:b("prop-types").node,className:b("prop-types").string,entry:b("prop-types").instanceOf(b("SearchableEntry")).isRequired,highlighted:b("prop-types").bool,role:b("prop-types").string,selected:b("prop-types").bool,onSelect:b("prop-types").func.isRequired,onHighlight:b("prop-types").func,onRenderHighlight:b("prop-types").func};var g={role:"option"};d={_onSelect:function(a){this.props.onSelect(this.props.entry,a)},_onHighlight:function(a){this.props.onHighlight&&this.props.onHighlight(this.props.entry,a)},getDefaultProps:function(){return g},shouldComponentUpdate:function(a){return this.props.entry.getUniqueID()!==a.entry.getUniqueID()||this.props.highlighted!==a.highlighted||this.props.selected!==a.selected},componentDidMount:function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))},componentDidUpdate:function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))}};function a(a){__p&&__p();var c,d;return d=c=function(){__p&&__p();var c,d;c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return b=(a=d.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onSelect(this.props.entry,a)}.bind(this),this.$2=function(a){this.props.onHighlight&&this.props.onHighlight(this.props.entry,a)}.bind(this),b}e.prototype.shouldComponentUpdate=function(a){"use strict";return this.props.entry.getUniqueID()!==a.entry.getUniqueID()||this.props.highlighted!==a.highlighted||this.props.selected!==a.selected};e.prototype.componentDidMount=function(){"use strict";var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))};e.prototype.componentDidUpdate=function(){"use strict";var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))};e.prototype.render=function(){"use strict";return b("React").createElement(a,babelHelpers["extends"]({},this.props,{onSelect:this.$1,onHighlight:this.$2}))};return e}(),c.displayName="TypeaheadViewItem("+a.displayName+")",c.defaultProps=g,d}e.exports={makeTypeaheadViewItem:a,Mixin:d,propTypes:c}}),null);
__d("XUITypeaheadViewItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","LegacyContactTestConstants","React","TextWithEmoticons.react","Tooltip","TypeaheadViewItem","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"XUITypeaheadViewItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{splitText:a.bool,tooltip:a.node,tooltipPosition:a.oneOf(["above","left","below","right"]),backgroundSize:a.string,radiusImage:a.bool,photoWidth:a.number,photoHeight:a.number}),render:function(){__p&&__p();var a=this.props.entry,c=this.props.splitSubtext?a.getSubtitle().split(" \xb7 ")[0]:a.getSubtitle();c=c?b("React").createElement("div",{className:"_599q"},this.props.children,c):null;var d=this.props.backgroundSize||"cover";d=a.getPhoto()?b("React").createElement(b("BackgroundImage.react"),{width:this.props.photoWidth||32,height:this.props.photoHeight||32,backgroundSize:d,src:a.getPhoto()}):b("React").createElement("span",null);var e=a.getAuxiliaryData(),f=null;e&&(e.verified?f=b("React").createElement(b("Badge.react"),null):e.workForeignEntity&&(f=b("React").createElement(b("Badge.react"),{type:"work_non_coworker"})));e=this.props.radiusImage!==null?this.props.radiusImage:!0;e="_599m"+(e?" _1u3_":"")+(c?"":" _5mne")+(this.props.highlighted?" _599n":"");e=b("joinClasses")(e,this.props.className);var g=this.props.tooltipPosition?this.props.tooltipPosition:"right";return b("React").createElement("li",babelHelpers["extends"]({"aria-selected":this.props.highlighted,className:e,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,"data-testid":b("LegacyContactTestConstants").CHOOSE_CONTACT_BUTTON},this.props.tooltip?b("Tooltip").propsFor(this.props.tooltip,g):{}),b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},d,b("React").createElement("div",null,b("React").createElement("div",{className:"_599p"},b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:a.getTitle()}),f),c)))}});e.exports=c}),null);
__d("XUITypeaheadView.react",["cx","React","XUITypeaheadViewContainer.react","XUITypeaheadViewItem.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=a===this.props.highlightedEntry;return b("React").createElement(b("XUITypeaheadViewItem.react"),{key:a.getUniqueID(),entry:a,highlighted:c,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,backgroundSize:this.props.photoBackgroundSize,photoHeight:this.props.photoHeight,photoWidth:this.props.photoWidth})}.bind(this),c}a.prototype.render=function(){"use strict";var a=(this.props.entries.length?"":"_599s")+(this.props.isRightToLeft?" _1c5r":"")+(this.props.scrolled?" _62w5":"");a=b("joinClasses")(this.props.className,a);return b("React").createElement(b("XUITypeaheadViewContainer.react"),{className:a,id:this.props.controlleeID,role:this.props.role},this.props.entries.map(this.$1))};a.defaultProps={role:"listbox"};e.exports=a}),null);
__d("DevxFluxDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("Dispatcher_DEPRECATED"));g&&g.prototype;a.prototype.handleServerAction=function(a){this.$DevxFluxDispatcher1("serverAction",a)};a.prototype.handleViewAction=function(a){this.$DevxFluxDispatcher1("viewAction",a)};a.prototype.$DevxFluxDispatcher1=function(a,b){this.dispatch(babelHelpers["extends"]({source:a},b))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("DevxProxyActions",["DevxFluxDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a){Object.keys(a.ActionHandler).forEach(function(a){this[a]=function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];b("DevxFluxDispatcher").handleViewAction({action:a,args:d})}}.bind(this))}e.exports=a}),null);
__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setHref=function(a){this.$1.href=a;return this};a.prototype.setIsSDK=function(a){this.$1.is_sdk=a;return this};a.prototype.setPluginAppID=function(a){this.$1.plugin_app_id=a;return this};a.prototype.setPluginName=function(a){this.$1.plugin_name=a;return this};a.prototype.setRefererURL=function(a){this.$1.referer_url=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0,time:!0,weight:!0};e.exports=a}),null);
__d("linkifyEntityRange",["Link.react","React"],(function(a,b,c,d,e,f){function a(a,c){c=(c.entity||{}).url;return!c?b("React").createElement("span",null,a):b("React").createElement(b("Link.react"),{href:c,target:"_blank"},a)}e.exports=a}),null);
__d("PluginMessage",["DOMEventListener"],(function(a,b,c,d,e,f){a={listen:function(){b("DOMEventListener").add(window,"message",function(a){if(/\.facebook\.com$/.test(a.origin)&&/^FB_POPUP:/.test(a.data)){a=JSON.parse(a.data.substring(9));"reload"in a&&/^https?:/.test(a.reload)&&document.location.replace(a.reload)}})}};e.exports=a}),null);
__d("PluginOptin",["DOMEvent","DOMEventListener","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){Object.assign(this,{return_params:b("URI").getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:a,api_key:c}),this.addReturnParams({ret:"optin"}),delete this.return_params.hash}Object.assign(g.prototype,{addReturnParams:function(a){Object.assign(this.return_params,a);return this},addLoginParams:function(a){Object.assign(this.login_params,a);return this},addOptinParams:function(a){Object.assign(this.optin_params,a);return this},start:function(){var a=this.api_key||127760087237610;b("URI").getRequestURI().getQueryData().kid_directed_site&&(this.login_params.kid_directed_site=!0);this.login_params.referrer=document.referrer;var c=new(b("URI"))(b("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:a,secure:b("URI").getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});b("UserAgent_DEPRECATED").mobile()?c.setSubdomain("m"):c.addQueryData({display:"popup"});this.return_params.act!==null&&this.return_params.act==="send"&&new(b("PluginLoggedOutUserTypedLogger"))().setPluginAppID(a).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital();this.popup=b("PopupWindow").open(c.toString(),420,450);b("PluginMessage").listen();return this}});g.starter=function(a,b,c,d){a=new g(a);a.addReturnParams(b||{});a.addLoginParams(c||{});a.addOptinParams(d||{});return a.start.bind(a)};g.listen=function(a,c,d,e,f){b("DOMEventListener").add(a,"click",function(a){new(b("DOMEvent"))(a).kill(),g.starter(c,d,e,f)()})};e.exports=g}),null);
__d("DeveloperCommentsModerationSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP:"app",URL:"url"})}),null);
__d("XCommentEmbedPluginEmbedAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comment-embed/async/embed/dialog/",{comment_id:{type:"String",required:!0},width:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("XPluginCommentsActorChangeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comment/async/actor_change/",{})}),null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/moderate/ban/{comment_id}/",{comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/createComment/{target_id}/",{target_id:{type:"Int",required:!0}})}),null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/createReply/{parent_comment_id}/",{parent_comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/delete/",{})}),null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/edit/",{})}),null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/flag/",{})}),null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/moderate/hide/{url_id}/",{url_id:{type:"Int",required:!0},action:{type:"Enum",required:!0,enumType:1},type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/like/",{action_like:{type:"Bool",defaultValue:!1}})}),null);
__d("XPluginCommentsPagerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/{target_id}/pager/{ordering}/",{target_id:{type:"Int",required:!0},ordering:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/async/comment/{comment_id}/pager/",{comment_id:{type:"String",required:!0}})}),null);
__d("getChunkForContentState",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){if(b){c=c.getEntity(b);if(c.getType()==="EMOTICON")return c.getData().originalEmoticon;else if(c.getType()==="EMOJI")return c.getData().emoji.join("")}return a.replace("@[","@ [")}e.exports=a}),null);
__d("getMentionsTextForContentState",["emptyFunction","getChunkForContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("emptyFunction").thatReturnsTrue,h=/[\\\]:]/g;function a(a,b){b===void 0&&(b="");var c=a.getBlockMap().map(function(b){var c=b.getText(),d=[];b.findEntityRanges(g,function(e,f){d.push(i(c.slice(e,f),b.getEntityAt(e),a))});return d.join("")});return c.join("\n"+b)}function i(a,c,d){__p&&__p();if(c){var e=d.getEntity(c);if(e.getType()==="MENTION"){a=a.replace(h,function(a){return"\\"+a});e=e.getData().id;if(/^\d+$/.test(e))return"@["+e+":"+a+"]"}}return b("getChunkForContentState")(a,c,d)}e.exports=a}),null);
__d("getVisibleValueForContentState",["DraftEntity","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();a=a.getBlockMap().map(function(a){var c=a.getText(),d="";a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(e,f){var g=a.getEntityAt(e);if(g===null)d+=c.slice(e,f);else{g=b("DraftEntity").get(g);g.getType()==="EMOTICON"?d+=g.getData().originalEmoticon:g.getType()==="EMOJI"?d+=g.getData().emoji.join(""):d+=c.slice(e,f)}});return d});return a.join("\n")}e.exports=a}),null);
__d("CommentsPluginStore",["invariant","ActorURI","AsyncDialog","AsyncRequest","CurrentUser","DeveloperCommentsModerationAction","DeveloperCommentsModerationSource","DeveloperCommentsModerationType","DevxFluxDispatcher","PluginOptin","UnverifiedXD","URI","WebStorage","XCommentEmbedPluginEmbedAsyncDialogController","XPluginCommentsActorChangeAsyncController","XPluginCommentsBanAuthorAsyncController","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","XPluginCommentsEditCommentAsyncController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsHideCommentAsyncController","XPluginCommentsLikeCommentAsyncController","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","getMentionsTextForContentState","getVisibleValueForContentState","mixInEventEmitter","nullthrows","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10,i="__DEVX__",j={visibleValue:"",encodedValue:""};a={change:!0,composerChange:!0,composerCommentAdded:!0,login:!0,moreCommentsCompleted:!0,moreRepliesCompleted:!0,postError:!0,sortingCompleted:!0,sentryAction:!0,previousComposerCommentPrefill:!0,actorChange:!0,previousPostToFeedPrefill:!0,commentsCountChange:!0,likeStateChange:!0};var k={maxLines:10,maxLength:1e3},l="0",m=[],n={},o={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:"",iframeReferer:null,isMobile:!1,isModerator:!1,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{id:l},minFeedLength:0,maxCommentLength:0,enablePhoto:!1,enableSticker:!1,ret:null,threadClosed:!1,shouldSwitchAccount:!1,fromModTool:!1,privacyOptionsList:[]},p=!1,q="current_composer",r={},s={},t={},u={},v={ordering:null,ranking_allowed:null},w={},x={},y={setPostToFeed:!0,sort:!0,showMoreComments:!0,showMoreReplies:!0,toggleVisibility:!0,setPrivacyOption:!0},z={restorePreviousState:!0,setUser:!0,edit:!0,showReplyComposer:!0,cancelEdit:!0,cancelReply:!0},A={addComment:!0,addReply:!0,saveEdit:!0},B={};function C(a){Object.prototype.hasOwnProperty.call(J,a)||g(0,3351,a)}function D(){Array.isArray(m)||g(0,3348),n instanceof Object||g(0,3349)}function E(a){var c,d=I.getUser().id,e=a.action;c=(c=J[a.action]).bind.apply(c,[J].concat(a.args));if(I.isLoggedIn()&&(I.isPlatformEnabled(d)||z[e])||y[e])c.call();else{d=b("WebStorage").getSessionStorage();d&&d.setItem("previousState",JSON.stringify(F(a)));new(b("PluginOptin"))("comments").addReturnParams({numposts:Math.min(Math.max(1,o.totalCount),100),order_by:v.ordering}).start()}}function F(a){__p&&__p();var b="",c="",d=[],e={},f={},g=p,h=q,i=I.getCreateComposerContent();i&&(b=i.encodedValue);A[a.action]||(c=a.action,d=a.args);Object.keys(w).forEach(function(a){var b=I.getCreateComposerContent(a);b.encodedValue&&(e[a]=b.encodedValue)});Object.keys(x).forEach(function(a){var b=I.getEditComposerContent(a);b.encodedValue&&(f[a]=b.encodedValue)});return{commentBody:b,action:c,commentIDs:d,replies:e,edits:f,postToFeed:g,privacyOption:h}}function G(a,b,c){return c.indexOf(a)===b}function H(a,c){if(!o.channelURL)return;c.href=o.href;b("UnverifiedXD").send({data:JSON.stringify(c),event:a,type:"sdk_event"},o.channelURL)}var I={getCommentIDs:function(){return m},getByID:function(a){D();return b("nullthrows")(n)[a]},isOptimisticComment:function(a){return a.id.startsWith(i)},getCurrentSorting:function(){return b("nullthrows")(v.ordering)},isRankingAllowed:function(){return b("nullthrows")(v.ranking_allowed)},getTargetFBID:function(){return b("nullthrows")(o.targetFBID)},getCommentsCount:function(){D();return o.totalCount},updateCommentsCount:function(a){o.totalCount+=a,this.emit("commentsCountChange")},getUser:function(){return o.user},getIframeReferer:function(){return o.iframeReferer},getAuthor:function(a){return this.getByID(this.getByID(a).authorID)},getPageSize:function(){return h},getCommentBodyTruncationLimits:function(){return k},getComposerSearchSource:function(){return o.composerSearchSource},getMirroredPage:function(){return o.mirroredPage},getMinFeedLength:function(){return o.minFeedLength+1},getMaxCommentLength:function(){return o.maxCommentLength?o.maxCommentLength:Number.MAX_VALUE},isMirrored:function(){return this.getMirroredPage()!=null},isReply:function(a){a=this.getByID(a);return a.targetID!==this.getTargetFBID()},getPermalink:function(a){var c=this.getByID(a);return new(b("URI"))(c.ogURL).addQueryData({fb_comment_id:a}).toString()},isOptinReturn:function(){return!!o.ret},setActor:function(a){o.user=o.actors[a]},getPrivacyOptionsList:function(){return o.privacyOptionsList},getPostToFeed:function(){return p},getPrivacyOption:function(){return q},setPostToFeed:function(a){p=a},setPrivacyOption:function(a){q=a},getEnablePhoto:function(){return o.enablePhoto},getEnableSticker:function(){return o.enableSticker},isDeeplinkComment:function(){return!!o.deeplinkedCommentID&&o.fromModTool},getOriginalLink:function(){return o.href},getCommentIDsToFetch:function(a){var b=this.getCommentIDsIncludingReplies(m);if(!B[a])return b;var c=Object.keys(B[a].hasLiked),d=[];b.forEach(function(a){!a.startsWith(i)&&!c.includes(a)&&d.push(a)});return d},canActorLike:function(a,b){return!B[b]?!1:!!B[b].canLike[a.id]},hasActorLiked:function(a,b){return!B[b]?!1:!!B[b].hasLiked[a.id]},setActorLike:function(a,b,c){B[c].hasLiked[a.id]=b},getCreateComposerAttachment:function(a){return r[a||i]||null},setCreateComposerAttachment:function(a,b){r[b||i]=a,this.emit("composerChange")},getEditComposerAttachment:function(a){return s[a]||null},setEditComposerAttachment:function(a,b){s[b]=a,this.emit("composerChange")},getLoadingCreateComposerAttachment:function(a){return t[a||i]||!1},setLoadingCreateComposerAttachment:function(a,b){t[b||i]=a,this.emit("composerChange")},getLoadingEditComposerAttachment:function(a){return u[a]||!1},setLoadingEditComposerAttachment:function(a,b){u[b]=a,this.emit("composerChange")},setCreateComposerState:function(a,b){w[b||i]=a,this.emit("composerChange")},getCreateComposerState:function(a){return w[a||i]||null},getCreateComposerContent:function(a){return this._editorStateToComposerPayload(this.getCreateComposerState(a))},isEmptyCreateComposer:function(a){return this.getLoadingCreateComposerAttachment(a)||this.getCreateComposerContent(a).visibleValue.trim()===""&&!this.getCreateComposerAttachment(a)},setEditComposerState:function(a,b){x[b]=a,this.emit("composerChange")},getEditComposerState:function(a){return x[a]},getEditComposerContent:function(a){return this._editorStateToComposerPayload(this.getEditComposerState(a))},isEmptyEditComposer:function(a){return this.getLoadingEditComposerAttachment(a)||this.getEditComposerContent(a).visibleValue.trim()===""&&!this.getEditComposerAttachment(a)},hasTextChanged:function(a,b){return a.trim()!==b.trim()},hasAttachmentChanged:function(a,b){if(a)return b?a.fbid!==b.fbid:!0;else return!!b},hasCommentChanged:function(a,b){var c=this.getByID(a);return this.hasTextChanged(b.encodedValue,c.body.text)||this.hasAttachmentChanged(s[a],c.photo_comment||c.attachment)},_editorStateToComposerPayload:function(a){if(!a)return j;a=a.getCurrentContent();var c=b("getVisibleValueForContentState")(a);a=b("getMentionsTextForContentState")(a);return{visibleValue:c,encodedValue:a}},hasAttachment:function(){var a=Object.keys(t);for(var b=0;b<a.length;b++)if(t[a[b]]||r[a[b]])return!0;return!1},getActorIDs:function(){return Object.keys(o.actors)},getModerateURL:function(){return o.moderateURL},isLoggedIn:function(){return o.user.id!==l&&b("CurrentUser").isLoggedInNow()},isPlatformEnabled:function(a){return o.actorsOptIn[a]},isMobile:function(){return o.isMobile},useLegacyMentionsInput:function(){return this.isMobile()||!this.isLoggedIn()},useCustomActorSelector:function(){return this.isMobile()||document.body.offsetWidth<450},isViewerModerator:function(){return o.isModerator},isThreadClosed:function(){return o.threadClosed},shouldSwitchAccount:function(){return o.shouldSwitchAccount},hasUnloadedComments:function(){return!!o.afterCursor},hasUnloadedReplies:function(a){a=this.getByID(a).public_replies;if(!a)return!1;if(a.afterCursor)return!0;return(!a.commentIDs||a.commentIDs.length===0)&&a.totalCount>0?!0:!1},getUnloadedCommentsCount:function(){return o.totalCount-m.length},getDialogWidth:function(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445)},dispatcherIndex:b("DevxFluxDispatcher").register(function(a){C(a.action),E(a)}),init:function(a,b,c,d){o=b,this.updateCommentData(a,c,o.userID),Object.keys(o.actors).forEach(function(a){return n[a]=o.actors[a]}),this.setActor(o.userID),v.ranking_allowed=d},updateCommentData:function(a,b,c){m=a.commentIDs,Object.assign(n,this.initComments(m,a.idMap)),v.ordering=b,this.initActorLikeState(this.getCommentIDsIncludingReplies(m),c)},getCommentIDsIncludingReplies:function(a){__p&&__p();var b=a;m.forEach(function(a){a=n[a].public_replies;if(!a)return;a=a.commentIDs;if(!a)return;b=b.concat(a)});return b},initActorLikeState:function(a,b){var c=B[b]?B[b].hasLiked:{},d=B[b]?B[b].canLike:{};a.forEach(function(a){a=n[a];c[a.id]=!!a.hasLiked;d[a.id]=!!a.canLike});B[b]={hasLiked:c,canLike:d}},initComment:function(a){a.collapsed=!1;a.editor=!1;a.composer=!1;a.deleted=!1;a.flagged=!1;return a},initComments:function(a,b){a.forEach(function(a){return b[a]=this.initComment(b[a])}.bind(this));return b},emit:void 0,addListener:void 0,removeCurrentListener:void 0,ActionHandler:void 0};b("mixInEventEmitter")(I,a);var J={ban:function(a){var c=I.getByID(a);c.deleted=!0;I.emit("change");c=b("XPluginCommentsBanAuthorAsyncController").getURIBuilder().setString("comment_id",a).getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({ban:!0,source:b("DeveloperCommentsModerationSource").URL}).send()},hide:function(a){var c=I.getByID(a);c.deleted=!0;I.emit("change");c=b("XPluginCommentsHideCommentAsyncController").getURIBuilder().setInt("url_id",o.targetFBID).setEnum("action",b("DeveloperCommentsModerationAction").DELETE).setEnum("type",b("DeveloperCommentsModerationType").APPROVED).getURI();new(b("AsyncRequest"))(c).setData({comment_ids:[a]}).setMethod("POST").send()},addComment:function(){__p&&__p();var a=I.getUser().id,c=I.getCreateComposerContent(),d=this._getAttachmentFBID(I.getCreateComposerAttachment()),e=b("ActorURI").create(b("XPluginCommentsCreateCommentAsyncController").getURIBuilder().setInt("target_id",o.targetFBID).getURI(),a);new(b("AsyncRequest"))(e).setData({app_id:o.appID,text:c.encodedValue,attached_photo_fbid:d.photoFBID,attached_sticker_fbid:d.stickerFBID,post_to_feed:I.getPostToFeed(),privacy_option:I.getPrivacyOption(),iframe_referer:o.iframeReferer}).setMethod("POST").setHandler(function(b){b=b.payload;var d=b.commentID;this._prependComment(b.idMap[d]);I.initActorLikeState([d],a);delete w[i];I.emit("composerCommentAdded",{});H("comment.create",{commentID:d,message:c.visibleValue});b.sentryAction&&I.emit("sentryAction",b.sentryAction,d)}.bind(this)).setErrorHandler(function(a){delete n[i],m.shift(),I.updateCommentsCount(-1),I.emit("change"),I.emit("postError",a)}).send();this._prependComment({authorID:o.user.id,targetID:o.targetFBID,body:{text:c.visibleValue}});I.updateCommentsCount(1)},addReply:function(a){__p&&__p();var c=I.getUser().id,d=I.getCreateComposerContent(a),e=this._getAttachmentFBID(I.getCreateComposerAttachment(a)),f=b("ActorURI").create(b("XPluginCommentsCreateReplyAsyncController").getURIBuilder().setString("parent_comment_id",a).getURI(),c),g=i+b("uniqueID")();new(b("AsyncRequest"))(f).setData({app_id:o.appID,text:d.encodedValue,attached_photo_fbid:e.photoFBID,attached_sticker_fbid:e.stickerFBID,iframe_referer:o.iframeReferer,replied_to:I.getByID(a).replyToCommentID}).setMethod("POST").setHandler(function(b){__p&&__p();var e=I.getByID(a),f=Object.assign({},e.public_replies);Object.assign(n,b.payload.idMap);e=I.getByID(a);e.public_replies=f;delete n[g];delete w[a];m.splice(m.indexOf(g),1);e.composer=!1;delete e.replyToCommentID;f=b.payload.commentID;e.public_replies.commentIDs.pop();e.public_replies.commentIDs.push(f);H("comment.create",{commentID:f,parentCommentID:a,message:d.visibleValue});I.initActorLikeState([f],c);I.emit("change")}).setErrorHandler(function(b){delete n[g],m.splice(m.indexOf(g),1),f=I.getByID(a),f.public_replies.commentIDs.pop(),f.public_replies.totalCount--,f.composer=!1,delete f.replyToCommentID,I.emit("change"),I.emit("postError",b)}).send();f=I.getByID(a);e=Object.assign({},f.public_replies);e.commentIDs||(e.commentIDs=[]);e.totalCount||(e.totalCount=0);e.totalCount++;e.commentIDs.push(g);f.public_replies=e;n[g]={authorID:o.user.id,body:{text:d.visibleValue},targetID:a,id:g};m.push(g);I.emit("change")},_prependComment:function(a){!a.id?a.id=i:(m.shift(),delete n[i]),m.unshift(a.id),n[a.id]=I.initComment(a),I.emit("change")},_getAttachmentFBID:function(a){var c=0,d=0;a&&(a.attachmentType==="photo"?c=b("nullthrows")(a.fbid):a.attachmentType==="sticker"&&(d=b("nullthrows")(a.fbid)));return{photoFBID:c,stickerFBID:d}},edit:function(a,b){a=I.getByID(a);a.editor=!0;a.prefillText=b;I.emit("change")},saveEdit:function(a){__p&&__p();var c=JSON.parse(JSON.stringify(I.getByID(a))),d=b("ActorURI").create(b("XPluginCommentsEditCommentAsyncController").getURIBuilder().getURI(),I.getAuthor(a).id),e=I.getEditComposerContent(a),f=this._getAttachmentFBID(I.getEditComposerAttachment(a)),g=I.hasCommentChanged(a,e);if(g){new(b("AsyncRequest"))(d).setMethod("POST").setData({app_id:o.appID,text:e.encodedValue,comment_id:a,attached_photo_fbid:f.photoFBID,attached_sticker_fbid:f.stickerFBID,iframe_referer:o.iframeReferer}).setHandler(function(b){b=b.payload;n[b.commentID]=I.initComment(b.idMap[b.commentID]);delete x[a];I.emit("change")}).setErrorHandler(function(b){c.editor=!1,Object.assign(I.getByID(a),c),I.emit("change"),I.emit("postError",b)}).send();g=I.getByID(a);g.editor=!1;g.body.text=e.visibleValue;f.photoFBID===0&&delete g.photo_comment;f.stickerFBID===0&&delete g.attachment;delete g.ranges;I.emit("change")}else this.cancelEdit(a)},cancelEdit:function(a){a=I.getByID(a);a.editor=!1;I.emit("change")},"delete":function(a){__p&&__p();var c=I.getByID(a);c.deleted=!0;c=b("ActorURI").create(b("XPluginCommentsDeleteCommentAsyncController").getURIBuilder().getURI(),I.getAuthor(a).id);new(b("AsyncRequest"))(c).setData({app_id:o.appID,comment_id:a,iframe_referer:o.iframeReferer}).setMethod("POST").setHandler(function(){return H("comment.remove",{commentID:a})}).setErrorHandler(function(b){b=I.getByID(a);b.deleted=!1;I.isReply(a)||I.updateCommentsCount(1);I.emit("change")}).send();I.isReply(a)||I.updateCommentsCount(-1);I.emit("change")},like:function(a){__p&&__p();var c=I.getUser().id,d=I.getByID(a),e=I.hasActorLiked(d,c);a=b("ActorURI").create(b("XPluginCommentsLikeCommentAsyncController").getURIBuilder().setBool("action_like",!e).getURI(),c);new(b("AsyncRequest"))(a).setData({app_id:o.appID,comment_id:d.id,iframe_referer:o.iframeReferer}).setMethod("POST").setHandler(function(a){a=a.payload;Object.assign(n[a.commentID],I.initComment(a.idMap[a.commentID]));I.emit("change")}).setErrorHandler(function(a){I.hasActorLiked(d,c)?d.likeCount>0&&d.likeCount--:d.likeCount++,I.setActorLike(d,e,c),I.emit("postError",a)}).send();I.setActorLike(d,!e,c);I.hasActorLiked(d,c)?d.likeCount++:d.likeCount>0&&d.likeCount--;n[d.id]=d;I.emit("change")},sort:function(a){var c=I.getUser().id,d=b("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",o.targetFBID).setEnum("ordering",a).getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({app_id:o.appID,limit:I.getPageSize(),iframe_referer:o.iframeReferer}).setHandler(function(b){b=b.payload;o.afterCursor=b.afterCursor;I.updateCommentData(b,a,c);I.emit("sortingCompleted");I.emit("change")}).send()},showMoreComments:function(){__p&&__p();var a=I.getUser().id,c=b("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",o.targetFBID).setEnum("ordering",I.getCurrentSorting()).getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({app_id:o.appID,after_cursor:o.afterCursor,limit:I.getPageSize(),deeplinked_comment_id:o.deeplinkedCommentID,iframe_referer:o.iframeReferer}).setHandler(function(b){b=b.payload;o.afterCursor=b.afterCursor;m=m.concat(b.commentIDs).filter(G);Object.assign(n,I.initComments(b.commentIDs,b.idMap));I.initActorLikeState(b.commentIDs,a);I.emit("moreCommentsCompleted");I.emit("change")}).setErrorHandler(function(a){I.emit("postError",a),I.emit("moreCommentsCompleted")}).send()},setUser:function(a){__p&&__p();I.setActor(a);I.emit("actorChange");var c=I.getCommentIDsToFetch(a);if(c.length===0)return;var d=b("ActorURI").create(b("XPluginCommentsActorChangeAsyncController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))(d).setMethod("POST").setData({comment_ids:c}).setHandler(function(b){var d=b.payload;c.forEach(function(b){B[a].hasLiked[b]=d.hasLiked[b],B[a].canLike[b]=d.canLike[b]});I.emit("likeStateChange")}).send();this._setDefaultLikeStates(a,c)},_setDefaultLikeStates:function(a,b){var c=B[a]?B[a].hasLiked:{},d=B[a]?B[a].canLike:{};b.forEach(function(a){c[a]=!1,d[a]=!1});B[a]={hasLiked:c,canLike:d};I.emit("likeStateChange")},setPostToFeed:function(a){I.setPostToFeed(a)},setPrivacyOption:function(a){I.setPrivacyOption(a)},showMoreReplies:function(a){__p&&__p();var c=I.getUser().id,d=b("XPluginCommentsRepliesPagerAsyncController").getURIBuilder().setString("comment_id",a).getURI(),e=I.getByID(a).public_replies;new(b("AsyncRequest"))(d).setMethod("POST").setData({app_id:o.appID,after_cursor:e.afterCursor,limit:I.getPageSize(),iframe_referer:o.iframeReferer}).setHandler(function(b){b=b.payload;n=Object.assign(I.initComments(b.commentIDs,b.idMap),n);e.afterCursor=b.afterCursor;e.commentIDs=e.commentIDs.concat(b.commentIDs).filter(G);I.initActorLikeState(b.commentIDs,c);I.emit("moreRepliesCompleted",{commentID:a});I.emit("change")}).setErrorHandler(function(b){I.emit("postError",b),I.emit("moreRepliesCompleted",{commentID:a})}).send()},toggleVisibility:function(a){a=I.getByID(a);a.collapsed=!a.collapsed;I.emit("change")},flag:function(a){n[a].flagged=!0,this._sendFlagOrUnflagRequest(a,"flag"),I.emit("change")},unflag:function(a){n[a].flagged=!1,this._sendFlagOrUnflagRequest(a,"unflag"),I.emit("change")},_sendFlagOrUnflagRequest:function(a,c){var d=b("XPluginCommentsFlagCommentAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setData({app_id:o.appID,comment_id:a,iframe_referer:o.iframeReferer,unflag:c==="unflag"}).setMethod("POST").setErrorHandler(function(b){n[a].flagged=!n[a].flagged,I.emit("postError",b)}).send()},report:function(a){window.open(I.getByID(a).reportURI,"_blank")},showReplyComposer:function(a,b){var c=I.getByID(a);if(I.isReply(a)){a=a;c=I.getByID(c.targetID);c.replyToCommentID=a}c.prefillText=b;c.composer=!0;I.emit("change")},cancelReply:function(a){a=I.getByID(a);a.composer=!1;delete a.replyToCommentID;I.emit("change")},restorePreviousState:function(){__p&&__p();var a=b("WebStorage").getSessionStorage();if(a){var c=JSON.parse(a.getItem("previousState"));a.clear();a=I.getCommentIDs();if(c.action){var d={};d.action=c.action;d.args=c.commentIDs;E(d)}var e=c.replies,f=c.edits;a.map(function(a){e[a]&&this.showReplyComposer(a,e[a]),f[a]&&this.edit(a,f[a])}.bind(this));c.commentBody&&I.emit("previousComposerCommentPrefill",{prefillText:c.commentBody});c.postToFeed&&(this.setPostToFeed(c.postToFeed),I.emit("previousPostToFeedPrefill"))}},embed:function(a){a=b("XCommentEmbedPluginEmbedAsyncDialogController").getURIBuilder().setString("comment_id",a).setInt("width",I.getDialogWidth()).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}};I.ActionHandler=J;e.exports=I}),null);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("DevxProxyActions"))(b("CommentsPluginStore"))}),null);
__d("CommentsPluginAction",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={EDIT:"edit",DELETE:"delete",FLAG:"flag",SETUSER:"setUser",BAN:"ban",HIDE:"hide",REPORT:"report",COLLAPSE:"collapse",EMBED:"embed",getLabel:function(a){__p&&__p();switch(a){case h.COLLAPSE:return g._("Susutkan komentar");case h.EDIT:return g._("Edit komentar");case h.DELETE:return g._("Hapus Komentar");case h.FLAG:return g._("Tandai sebagai spam");case h.BAN:return g._("Larang Pengguna");case h.HIDE:return g._("Sembunyikan Komentar");case h.REPORT:return g._("Laporkan ke Facebook");case h.SETUSER:return g._("Beralih Akun");case h.EMBED:return g._("Sematkan")}},getMenuActions:function(){return[h.COLLAPSE,h.EDIT,h.DELETE,h.FLAG,h.BAN,h.HIDE,h.REPORT,h.EMBED]}};e.exports=h}),null);
__d("MixinCommentsPluginConfirmAction",["fbt","invariant","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=120;a={UNSAFE_componentWillMount:function(){this.setState({actionConfirmationShown:!1,action:null,id:null,pageY:null})},requiresConfirmation:function(a){var c=new Set([b("CommentsPluginAction").DELETE,b("CommentsPluginAction").BAN,b("CommentsPluginAction").HIDE]);return c.has(a)},confirmAction:function(a,b,c){this.setState({actionConfirmationShown:!0,action:a,id:b,pageY:c})},_onActionConfirmed:function(){b("CommentsPluginActions")[this.state.action](this.state.id),this.setState({actionConfirmationShown:!1})},_onActionCancelled:function(){this.setState({actionConfirmationShown:!1})},_getActionMetadata:function(a){switch(a){case b("CommentsPluginAction").DELETE:return{body:g._("Anda yakin ingin menghapus komentar ini?"),button_label:g._("Konfirmasikan Penghapusan")};case b("CommentsPluginAction").BAN:return{body:g._("Apakah Anda yakin ingin melarang pengguna ini?"),button_label:g._("Konfirmasikan Larangan")};case b("CommentsPluginAction").HIDE:return{body:g._("Anda yakin ingin menyembunyikan komentar ini?"),button_label:g._("Konfirmasi Penyembunyian")};case b("CommentsPluginAction").SETUSER:return{body:g._("Mengomentari sebagai akun lain akan membersihkan lampiran yang sudah Anda unggah."),button_label:g._("Beralih Akun")};default:h(0,6208,a)}},renderActionConfirmationDialog:function(){var a=this.state.action;if(!a)return null;var c=this._getActionMetadata(a);return b("React").createElement(b("XUIDialog.react"),{shown:this.state.actionConfirmationShown,fixedTopPosition:this.state.pageY+i<document.body.offsetHeight?this.state.pageY-i/2:null,width:b("CommentsPluginStore").getDialogWidth()},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},b("CommentsPluginAction").getLabel(a)),b("React").createElement(b("XUIDialogBody.react"),null,c.body),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this._onActionCancelled.bind(this)}),b("React").createElement(b("XUIDialogButton.react"),{use:"confirm",label:c.button_label,onClick:this._onActionConfirmed.bind(this)})))}};e.exports=a}),null);
__d("CommentsPluginAuthorSelector.react",["cx","fbt","ActorSelector.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","MixinCommentsPluginConfirmAction","React","ShortProfiles","XUIText.react","classWithMixins","joinClasses","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction"))));i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$CommentsPluginAuthorSelector1=function(a){b("CommentsPluginStore").hasAttachment()?this.confirmAction(b("CommentsPluginAction").SETUSER,a):b("CommentsPluginActions").setUser(a)}.bind(this),this.actorIDs=b("CommentsPluginStore").getActorIDs(),this.state={actorsData:null}}a.prototype.UNSAFE_componentWillMount=function(){this.actorIDs.length>1&&b("CommentsPluginStore").useCustomActorSelector()&&b("ShortProfiles").getMulti(this.actorIDs,function(a){this.setState({actorsData:a})}.bind(this))};a.prototype.$CommentsPluginAuthorSelector2=function(a){return h._("Mengomentari sebagai {actorName}",[h._param("actorName",a)])};a.prototype.render=function(){__p&&__p();if(this.actorIDs.length<=1)return null;var a=b("CommentsPluginStore").getUser().id;if(b("CommentsPluginStore").useCustomActorSelector()){var c=this.state.actorsData;return!c?null:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_1y5f _2pih"},h._("Mengomentari sebagai")),b("React").createElement("select",{value:a,onChange:function(a){return this.$CommentsPluginAuthorSelector1(a.target.value)}.bind(this),className:"_1y5g"},this.actorIDs.map(function(a){return b("React").createElement("option",{value:a,key:a},c&&c[a].name)})),this.renderActionConfirmationDialog())}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"inlineBlock")},b("React").createElement(b("ActorSelector.react"),{actorIDs:this.actorIDs,coverEnabled:!1,selectedActorID:a,onChange:function(a){return this.$CommentsPluginAuthorSelector1(a.value)}.bind(this),tooltipConstructor:this.$CommentsPluginAuthorSelector2}),this.renderActionConfirmationDialog())};e.exports=a}),null);
__d("CommentsPluginComposerMirroringNotice.react",["cx","fbt","CommentsPluginStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("CommentsPluginStore").getMirroredPage();return!a?null:b("React").createElement("div",{className:"_5sge _2ph-"},a.name?this.props.isReply?h._("Balasan Anda mungkin juga akan muncul di Halaman Facebook {page name}.",[h._param("page name",b("React").createElement("a",{href:a.uri,target:"blank"},a.name))]):h._("Komentar Anda mungkin juga akan muncul di Halaman Facebook {page name}.",[h._param("page name",b("React").createElement("a",{href:a.uri,target:"blank"},a.name))]):this.props.isReply?h._("Balasan Anda mungkin juga akan muncul di Facebook."):h._("Komentar Anda mungkin juga akan muncul di Facebook."))};function a(){i.apply(this,arguments)}a.propTypes={isReply:c.bool};e.exports=a}),null);
__d("PrivacyTransparentOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4cqr"},this.props.children,b("React").createElement("div",{className:"clearfix"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CommentsPluginProfilePicture.react",["cx","Image.react","PrivacyTransparentOverlay.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("React").createElement("a",babelHelpers["extends"]({},this.props,{href:this.props.href}),b("React").createElement(b("Image.react"),{className:(this.props.isReply?"":"_1ci")+(this.props.isReply?" _1cj":""),src:this.props.src}));if(this.props.usePrivacyOverlay)return b("React").createElement(b("PrivacyTransparentOverlay.react"),null,a);else return a};function a(){h.apply(this,arguments)}a.propTypes={href:c.string.isRequired,src:c.string.isRequired,isReply:c.bool,usePrivacyOverlay:c.bool};e.exports=a}),null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","immutable","generateRandomKey","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("CharacterMetadata").EMPTY;function a(a){return a.map(function(a){a=b("sanitizeDraftText")(a);var c=a.length;return new(b("ContentBlock"))({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(i,c))})})}e.exports=a}),null);
__d("createEditorStateWithRanges",["invariant","ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","createPlainBlocksFromText"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){__p&&__p();var c=a.addEntityToContentStateFn,d=a.allowUndo,e=a.decorator,f=a.splitIntoBlocks,h=a.text;a=a.ranges;f===void 0&&(f=!0);h||(h="");var i=[],j=[];f=f?h.split(/(\r\n?|\n)/g):[h];var k=0;f.forEach(function(a,c){c%2===0&&(i.push(a),j.push(k)),k+=b("UnicodeUtils").strlen(a)});var l=b("createPlainBlocksFromText")(i);h=b("ContentState").createFromBlockArray(l);if(a&&a.length&&c){var m=c;h=a.reduce(function(a,c,d){__p&&__p();d=m(c,a);a=d.getLastCreatedEntityKey();var e=c.offset;c=e+c.length;var f,h,i,k;for(var n=0;n<j.length;n++){var o=j[n],p=j[n+1],q=p===void 0;(q||e>=o&&e<p)&&(f=l[n],h=e-o);if(q||c>=o&&c<p){i=l[n];k=c-o;break}}f&&i||g(0,1022);q=b("UnicodeUtils").substr(f.getText(),0,h);p=q.length;o=b("UnicodeUtils").substr(i.getText(),0,k);c=o.length;e=new(b("SelectionState"))({anchorKey:f.getKey(),anchorOffset:p,focusKey:i.getKey(),focusOffset:c,isBackward:!1,hasFocus:!1});n=b("DraftModifier").applyEntity(d,e,a);return n},h)}f=b("EditorState").createWithContent(h,e);d===!1&&(f=b("EditorState").set(f,{allowUndo:!1}));return f}e.exports=a}),null);
__d("CommentsPluginComposer.react",["cx","fbt","ActorURI","AsyncRequest","CommentsPluginComposerMirroringNotice.react","CommentsPluginProfilePicture.react","CommentsPluginStore","EditorState","EmoticonsList","MentionsInput.react","React","UFIAttachedMediaPreview.react","UFIAttachMediaSection.react","UFICommentUtils","UFIImageBlock.react","UFIStickerButton.react","XUINotice.react","XUITypeaheadView.react","createEditorStateWithRanges","getMentionsInputDecorator","getVisibleValueForContentState","insertEmoticonIntoEditorState","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=19,k="/ajax/ufi/sticker_preview/";function l(a,b){return b.createEntity("MENTION","IMMUTABLE",{id:a.entity.id})}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,c){i.constructor.call(this,a,c),this.$10=function(a){this.setState({editorState:a}),this.props.editCommentID?b("CommentsPluginStore").setEditComposerState(a,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerState(a,this.props.parentCommentIDOfNewReply)}.bind(this),this.$12=function(){this.setState({expanded:!0})}.bind(this),this.state=this.$1()}a.prototype.$1=function(a){__p&&__p();var c=null,d=null;a=a||this.props.prefillText;if(a)c=this.$2(a),this.props.editCommentID?b("CommentsPluginStore").setEditComposerState(c,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerState(c,this.props.parentCommentIDOfNewReply);else{var e=null,f=null;if(this.props.editCommentID)d=b("CommentsPluginStore").getByID(this.props.editCommentID),c=b("createEditorStateWithRanges")({text:d.body.text,ranges:b("UFICommentUtils").shallowCopyRanges(d.ranges).filter(function(a){return!a.entity.external}),decorator:b("getMentionsInputDecorator")(),addEntityToContentStateFn:l}),d.photo_comment?(e=d.photo_comment,e.attachmentType="photo",this.$3(e)):d.attachment&&(f=d.attachment,f.attachmentType="sticker",this.$3(f));else if(this.props.parentCommentIDOfNewReply){d=b("CommentsPluginStore").getByID(this.props.parentCommentIDOfNewReply);if(d.replyToCommentID&&b("CommentsPluginStore").getAuthor(d.replyToCommentID).id!==b("CommentsPluginStore").getUser().id){d=b("CommentsPluginStore").getAuthor(d.replyToCommentID);var g={id:d.id,text:d.name,offset:0,length:d.name.length,entity:{id:d.id}};c=b("EditorState").moveFocusToEnd(b("createEditorStateWithRanges")({text:d.name+" ",ranges:[g],decorator:b("getMentionsInputDecorator")(),addEntityToContentStateFn:l}))}}c||(c=b("EditorState").createEmpty(b("getMentionsInputDecorator")()))}return{editorState:c,expanded:a||!!this.props.alwaysExpanded,attachedPhoto:e,attachedSticker:f}};a.prototype.$2=function(a){return b("createEditorStateWithRanges")({text:a,decorator:b("getMentionsInputDecorator")()})};a.prototype.$4=function(){return!this.props.editCommentID&&!this.props.parentCommentIDOfNewReply};a.prototype.$3=function(a){this.props.editCommentID?b("CommentsPluginStore").setEditComposerAttachment(a,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerAttachment(a,this.props.parentCommentIDOfNewReply)};a.prototype.$5=function(a){this.props.editCommentID?b("CommentsPluginStore").setLoadingEditComposerAttachment(a,this.props.editCommentID):b("CommentsPluginStore").setLoadingCreateComposerAttachment(a,this.props.parentCommentIDOfNewReply)};a.prototype.$6=function(){if(this.props.editCommentID)return b("CommentsPluginStore").getLoadingEditComposerAttachment(this.props.editCommentID);else return b("CommentsPluginStore").getLoadingCreateComposerAttachment(this.props.parentCommentIDOfNewReply)};a.prototype.$7=function(){return this.state.isLoadingAttachment||!!this.state.attachedSticker||!!this.state.attachedPhoto};a.prototype.getPhotoUploadData=function(){var a,c=b("CommentsPluginStore").getUser().id;c=(a={profile_id:c,target_id:this.props.targetID,source:j},a[b("ActorURI").PARAMETER_ACTOR]=c,a);return c};a.prototype.onPhotoUploadComplete=function(a){if(!this.$6())return;a=a.getPayload();a&&a.fbid?(a.attachmentType="photo",this.$3(a),this.$5(!1),this.setState({attachedPhoto:a,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)};a.prototype.onStickerSelected=function(a){this.$8(),new(b("AsyncRequest"))(k).setData({sticker_id:a}).setErrorHandler(this.resetAttachment.bind(this)).setHandler(this.$9.bind(this)).send()};a.prototype.$9=function(a){if(!this.$6())return;a=a.getPayload();a&&a.fbid?(a.attachmentType="sticker",this.$3(a),this.$5(!1),this.setState({attachedSticker:a,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)};a.prototype.insertEmoticonToCommentText=function(a){a=b("EmoticonsList").symbols[a];if(!a)return;a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.$10(a)};a.prototype.resetAttachment=function(a){this.$3(void 0),this.$5(!1),this.setState({attachedPhoto:null,attachedSticker:null,isLoadingAttachment:!1})};a.prototype.$8=function(){this.$3(void 0),this.$5(!0),this.setState({attachedSticker:null,attachedPhoto:null,isLoadingAttachment:!0})};a.prototype.componentDidMount=function(){__p&&__p();b("CommentsPluginStore").addListener("composerCommentAdded",function(a){if(this.$4()){a=this.$1();a.expanded=!0;this.setState(a);this.refs.composer.style&&(this.refs.composer.style.cssText="")}}.bind(this)),b("CommentsPluginStore").addListener("previousComposerCommentPrefill",function(a){a=this.$1(a.prefillText);a.expanded=!0;this.setState(a)}.bind(this)),this.$4()||this.refs.composer.focus()};a.prototype.$11=function(){return this.props.editCommentID?b("CommentsPluginStore").isReply(this.props.editCommentID):!!this.props.parentCommentIDOfNewReply};a.prototype.setFileInput=function(a,b){this.setState({fileInput:a,fileUploader:b})};a.prototype.$13=function(){return b("getVisibleValueForContentState")(this.state.editorState.getCurrentContent())};a.prototype.$14=function(a){a=a.target;var b=a.value;a.value="";a.value=b;this.$12()};a.prototype.$15=function(a){a=a.target;a.style.height="auto";var c=a.scrollHeight;a.offsetHeight<c&&(a.style.cssText="height:"+c+"px");this.$10(b("createEditorStateWithRanges")({text:a.value}))};a.prototype.$16=function(){var a=this.props.placeholder||h._("Tambahkan Komentar..."),c=h._("Tambahkan komentar");return b("CommentsPluginStore").useLegacyMentionsInput()?b("React").createElement("textarea",{"aria-label":c,className:"_1cb _1u9t"+(this.props.readOnly?" _5pu_":""),placeholder:a,ref:"composer",onFocus:this.$14.bind(this),onChange:this.$15.bind(this),readOnly:this.props.readOnly,value:this.$13()}):b("React").createElement(b("MentionsInput.react"),{ariaLabel:c,autoflip:!0,className:"_1cb"+(this.props.readOnly?" _5pu_":""),editorState:this.state.editorState,mentionsSource:b("CommentsPluginStore").getComposerSearchSource(),onChange:this.$10,onFocus:this.$12,placeholder:a,readOnly:this.props.readOnly,typeaheadView:b("XUITypeaheadView.react"),ref:"composer"})};a.prototype.render=function(){var a=this.props.editCommentID?b("CommentsPluginStore").getAuthor(this.props.editCommentID):b("CommentsPluginStore").getUser(),c=this.$11();return b("React").createElement(b("UFIImageBlock.react"),{spacing:"medium",className:b("joinClasses")("_4uyl"+(c?" _1zz6":"")+(this.state.expanded?"":" _1zz7")+(this.state.expanded?" _1zz8":""),this.props.className)},b("CommentsPluginStore").useCustomActorSelector()?b("React").createElement("div",null):b("React").createElement(b("CommentsPluginProfilePicture.react"),{href:a.uri,src:a.thumbSrc,isReply:c,usePrivacyOverlay:!0,target:"_blank"}),b("React").createElement("div",null,b("React").createElement("div",{className:"UFIInputContainer"},this.$16(),b("React").createElement("div",{className:"UFICommentAttachmentButtons clearfix"+(b("CommentsPluginStore").isPlatformEnabled(a.id)&&b("CommentsPluginStore").isLoggedIn()&&!this.$7()?"":" hidden_elem")},this.props.allowPhotoAttachments?b("React").createElement(b("UFIAttachMediaSection.react"),{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.$8.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto,viewerActorID:b("CommentsPluginStore").getUser().id}):null,this.props.allowStickerAttachments?b("React").createElement(b("UFIStickerButton.react"),{onStickerSelected:this.onStickerSelected.bind(this),onEmoticonSelected:this.insertEmoticonToCommentText.bind(this)}):null)),b("React").createElement(b("UFIAttachedMediaPreview.react"),{attachedPhoto:this.state.attachedPhoto,attachedSticker:this.state.attachedSticker,onRemoveAttachedMediaPreviewClicked:this.resetAttachment.bind(this),onRemoveAttachedStickerPreview:this.resetAttachment.bind(this),isLoadingPhoto:this.state.isLoadingAttachment}),this.props.unableToPost?b("React").createElement(b("XUINotice.react"),{use:"warn"},h._({"*":"Komentar harus kurang dari {lengthLimit} karakter"},[h._param("lengthLimit",b("CommentsPluginStore").getMaxCommentLength(),[0])])):null,this.state.expanded?b("React").createElement("div",{className:"_4uym"},b("React").createElement(b("CommentsPluginComposerMirroringNotice.react"),{isReply:c}),this.props.children):null))};a.propTypes={editCommentID:c.string,parentCommentIDOfNewReply:c.string,readOnly:c.bool,placeholder:c.node,alwaysExpanded:c.bool,unableToPost:c.bool,allowStickerAttachments:c.bool,allowPhotoAttachments:c.bool};e.exports=a}),null);
__d("CommentsPluginPrivacySelector.react",["ix","cx","Image.react","React","XUISelector.react","XUISingleSelector.react","fbglyph"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("XUISelector.react").Option,k="everyone",l="friends",m="onlyMe";c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.$1=function(a){this.props.onChange(a.value)}.bind(this),this.addlPrivacyOptions=a.addlPrivacyOptions}a.prototype.getSelectedOption=function(){"use strict";return this.state.value};a.prototype.render=function(){"use strict";var a=b("React").createElement(j,{value:k,icon:b("React").createElement(b("Image.react"),{src:g("113426")}),selected:!0},"Everyone"),c=b("React").createElement(j,{value:l,icon:b("React").createElement(b("Image.react"),{src:g("113364")})},"Friends Only"),d=b("React").createElement(j,{value:m,icon:b("React").createElement(b("Image.react"),{src:g("113611")})},"Only Me"),e=this.addlPrivacyOptions.map(function(a){return b("React").createElement(j,{value:a},a)});return b("React").createElement("div",{className:"inlineBlock"},b("React").createElement(b("XUISingleSelector.react"),{defaultValue:this.props.privacyOption,onChange:this.$1},a,c,d,e))};e.exports=a}),null);
__d("GridItem.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.alignv,d=a.alignh,e=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignv","alignh","className"]);return b("React").createElement("td",babelHelpers["extends"]({},a,{className:b("joinClasses")(e,"_51m-"+(c==="top"?" vTop":"")+(c==="middle"?" vMid":"")+(c==="bottom"?" vBot":"")+(d==="left"?" hLeft":"")+(d==="center"?" hCent":"")+(d==="right"?" hRght":""))}))}e.exports=a}),null);
__d("Grid.react",["cx","GridItem.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(i,b("React").Component);h&&h.prototype;i.prototype.render=function(){__p&&__p();var a=this.props,c=a.alignh,d=a.alignv,e=a.children,f=a.cols,g=a.fixed,h=a.spacing,j=b("React").Children.count(e),k=[],l=[],m=0;b("React").Children.forEach(e,function(a,e){__p&&__p();if(a===null||a===void 0)return;var n=a.type===i.GridItem;m+=n?Math.max(a.props.colSpan||0,1):1;var o=m===f?"_51mw":"";n=n?b("React").cloneElement(a,{key:a.key||e,alignh:a.props.alignh||c,alignv:a.props.alignv||d,className:b("joinClasses")(a.props.className,h,o)}):b("React").createElement(b("GridItem.react"),{alignh:c,alignv:d,className:b("joinClasses")(h,o),key:a.key||e},a);l.push(n);if(m%f===0||e+1===j){if(g===!0&&m<f){for(var o=m;o<f;o++)l.push(b("React").createElement(b("GridItem.react"),{key:e+o}));m=f}k.push(b("React").createElement("tr",{className:"_51mx",key:e},l));l=[];m=0}});return b("React").createElement("table",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"uiGrid _51mz"+(g===!0?" _5f0n":"")),cellSpacing:"0",cellPadding:"0"}),b("React").createElement("tbody",null,k))};function i(){h.apply(this,arguments)}i.GridItem=b("GridItem.react");e.exports=i}),null);
__d("PluginTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BODY:"plugin-body",ERROR:"plugin-error",CONNECT_BUTTON:"connect-button",FOLLOW_BUTTON:"follow_button",ICON_BUTTON:"icon-button",ICON_BUTTON_COUNT:"icon-button-count",ICON_BUTTON_LABEL:"icon-button-label",LIKE_COUNT_CONNECTED:"like-count-connected",LIKE_COUNT_DISCONNECTED:"like-count-disconnected",SEND_BUTTON:"send-button",SEND_CANCEL:"send-cancel",SEND_FLYOUT:"send-flyout",SHARE_BUTTON:"share-button",SIGNUP_TEXT:"signup-text",PLUGIN_COMMENT_POST_BUTTON:"post-comment-button"})}),null);
__d("CommentsPluginComposerComment.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginConfig","CommentsPluginPrivacySelector.react","CommentsPluginStore","Grid.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","LeftRight.react","PluginTestIDs","React","XUIButton.react","XUICheckboxInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Grid.react").GridItem;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=function(a){this.setState({privacyOption:a})}.bind(this),this.$2=function(a){a=!this.state.postToFeed;this.setState({postToFeed:a});b("CommentsPluginActions").setPostToFeed(a)}.bind(this),this.$3=function(){b("CommentsPluginStore").isLoggedIn()&&this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").setPostToFeed(this.state.postToFeed),b("CommentsPluginActions").setPrivacyOption(this.state.privacyOption),b("CommentsPluginActions").addComment()}.bind(this),this.state={selectedActorID:b("CommentsPluginStore").getUser().id,postToFeed:!1,ablePostToFeed:!1,commentLength:0,waitingAsyncResponse:!1,unableToPost:!1,privacyOption:"everyone"}}a.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("composerChange",function(){var a=b("CommentsPluginStore").getCreateComposerContent().visibleValue;a=a.trim().length;this.setState({commentLength:a,ablePostToFeed:a>=b("CommentsPluginStore").getMinFeedLength(),unableToPost:a>b("CommentsPluginStore").getMaxCommentLength()})}.bind(this)),b("CommentsPluginStore").addListener("composerCommentAdded",function(){this.setState({waitingAsyncResponse:!1}),this.refs.composer.resetAttachment()}.bind(this)),b("CommentsPluginStore").addListener("login",function(){this.setState({waitingAsyncResponse:!1})}.bind(this)),b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this)),b("CommentsPluginStore").addListener("previousPostToFeedPrefill",function(){this.setState({postToFeed:b("CommentsPluginStore").getPostToFeed()})}.bind(this))};a.prototype.$4=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyCreateComposer()};a.prototype.render=function(){var a=b("CommentsPluginStore").isLoggedIn()?h._("Kirim"):h._("Masuk untuk mengirim"),c=b("CommentsPluginStore").getMinFeedLength()-this.state.commentLength;return b("React").createElement(b("CommentsPluginComposer.react"),{allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),ref:"composer",className:"_2392",readOnly:this.state.waitingAsyncResponse,unableToPost:this.state.unableToPost},b("React").createElement(b("LeftRight.react"),{className:"_5tr6 clearfix _2ph-"},b("CommentsPluginStore").isMirrored()?b("React").createElement("span",null):b("React").createElement(b("Grid.react"),{cols:1},b("React").createElement(j,null,b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_1u0n"},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.postToFeed,onChange:this.$2}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),{className:"_3-99 _2ern _50f8 _5kx5"},h._("Kirim juga ke Facebook")))),b("React").createElement(j,null,this.state.postToFeed&&!this.state.ablePostToFeed?h._({"*":{"character":"Tulis {lengthRemain} karakter lainnya untuk mengirim ke Facebook","characters":"Tulis {lengthRemain} karakter lainnya untuk mengirim ke Facebook"}},[h._param("lengthRemain",c,[0]),h._enum(c===1?"character":"characters",{character:"character",characters:"characters"})]):b("React").createElement("span",null))),b("React").createElement("span",null,b("React").createElement(b("CommentsPluginAuthorSelector.react"),null),b("CommentsPluginConfig").commentPrivacy&&this.state.postToFeed?b("React").createElement(b("CommentsPluginPrivacySelector.react"),{privacyOption:this.state.privacyOption,onChange:this.$1,addlPrivacyOptions:b("CommentsPluginStore").getPrivacyOptionsList()}):null,b("React").createElement(b("XUIButton.react"),{"data-testid":b("PluginTestIDs").PLUGIN_COMMENT_POST_BUTTON,disabled:this.$4(),label:a,use:"confirm",className:"rfloat _3-99",onClick:this.$3}))))};e.exports=a}),null);
__d("DeveloperUTMParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOURCE:"utm_source",MEDIUM:"utm_medium",CAMPAIGN:"utm_campaign"})}),null);
__d("XDeveloperProductsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/products/{product_name}/{?product_section}/{?path1}/{?path2}/{?path3}/",{product_name:{type:"String",required:!0},product_section:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"}})}),null);
__d("CommentsPluginFooter.react",["cx","fbt","ix","DeveloperUTMParam","Image.react","ImageBlock.react","React","XDeveloperProductsController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a;return b("React").createElement("div",{className:"_5lm5 _2pi3 _3-8y"},b("React").createElement(b("ImageBlock.react"),null,b("React").createElement(b("Image.react"),{src:i("83801")}),b("React").createElement("a",{target:"_blank",href:b("XDeveloperProductsController").getURIBuilder().setString("product_name","social-plugins").setString("product_section","comments").getURI().setQueryData((a={},a[b("DeveloperUTMParam").CAMPAIGN]="social_plugins",a[b("DeveloperUTMParam").MEDIUM]="offsite_pages",a[b("DeveloperUTMParam").SOURCE]="comments_plugin",a)).setSubdomain("developers")},h._("Plugin Komentar Facebook"))))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("CommentsPluginHeader.react",["cx","fbt","CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","React","XUISingleSelector.react","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("XUISingleSelector.react").Option;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=function(a){this.setState({sorting:!0}),b("CommentsPluginStore").addListener("sortingCompleted",function(){this.setState({sorting:!1}),b("CommentsPluginStore").removeCurrentListener()}.bind(this)),b("CommentsPluginActions").sort(a.value||a.target.value)}.bind(this),this.state={sorting:!1}}a.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("commentsCountChange",function(){this.forceUpdate()}.bind(this))};a.prototype.render=function(){var a=null,c=null;b("CommentsPluginStore").getModerateURL()&&(a=b("React").createElement("span",null,b("React").createElement("span",{className:"_52bm"},"|"),b("React").createElement(b("Link.react"),{href:b("CommentsPluginStore").getModerateURL(),target:"_blank"},h._("Alat Moderasi"))));b("CommentsPluginStore").isDeeplinkComment()&&(c=b("React").createElement("span",null,b("React").createElement("span",{className:"_52bm"},"|"),b("React").createElement(b("Link.react"),{href:b("CommentsPluginStore").getOriginalLink(),target:"_blank"},h._("Tautan Asli"))));var d=b("DeveloperCommentsPluginOrdering").__types.filter(function(a){return a!=="social"||b("CommentsPluginStore").isRankingAllowed()});return b("React").createElement(b("LeftRight.react"),{className:"_491z"},b("React").createElement("span",null,b("React").createElement(b("XUIText.react"),{weight:"bold"},b("CommentsPluginStore").getCommentsCount()!==1?h._("{count} komentar",[h._param("count",b("CommentsPluginStore").getCommentsCount())]):h._("1 Komentar")),a,c),b("React").createElement("div",null,this.state.sorting?b("React").createElement(b("XUISpinner.react"),{size:"small",className:"_3-90"}):null,b("React").createElement("span",{className:"_pup"},h._("Urut Berdasarkan"))," ",b("CommentsPluginStore").isMobile()?b("React").createElement("select",{className:"_3-8_ _33ki",initialValue:b("CommentsPluginStore").getCurrentSorting(),onChange:this.$1},d.map(function(a){return b("React").createElement("option",{value:a,key:a},b("DeveloperCommentsPluginOrdering").__labels[a])})):b("React").createElement(b("XUISingleSelector.react"),{alignh:"right",className:"_3-8_",defaultValue:b("CommentsPluginStore").getCurrentSorting(),onChange:this.$1},d.map(function(a){return b("React").createElement(j,{value:a,key:a},b("DeveloperCommentsPluginOrdering").__labels[a])}))))};e.exports=a}),null);
__d("CommentsPluginCommentActions.react",["cx","fbt","ix","ActionList.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginConfirmAction","React","UFICommentMetadata.react","classWithMixins","mixin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction"))));j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$CommentsPluginCommentActions1=function(){b("CommentsPluginActions").like(this.props.commentID)}.bind(this),this.$CommentsPluginCommentActions2=function(){b("CommentsPluginActions").showReplyComposer(this.props.commentID)}.bind(this),this.$CommentsPluginCommentActions3=function(){b("CommentsPluginActions").flag(this.props.commentID)}.bind(this),c}a.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("actorChange",function(){this.forceUpdate()}.bind(this)),b("CommentsPluginStore").addListener("likeStateChange",function(){this.forceUpdate()}.bind(this))};a.prototype.$CommentsPluginCommentActions4=function(a){var c=b("CommentsPluginStore").getUser().id;return!b("CommentsPluginStore").canActorLike(a,c)&&b("CommentsPluginStore").isLoggedIn()?null:b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions1},b("CommentsPluginStore").hasActorLiked(a,c)?h._("Tidak Suka"):h._("Suka"))};a.prototype.$CommentsPluginCommentActions5=function(){return b("CommentsPluginStore").isThreadClosed()||b("CommentsPluginStore").shouldSwitchAccount()?null:b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions2},h._("Balas"))};a.prototype.render=function(){var a=b("CommentsPluginStore").getByID(this.props.commentID),c={};return b("React").createElement(b("ActionList.react"),{className:"_2vq9"},this.$CommentsPluginCommentActions4(a),this.$CommentsPluginCommentActions5(),b("CommentsPluginStore").isMobile()?a.canEdit?b("React").createElement(b("Link.react"),{onClick:this.confirmAction.bind(this,b("CommentsPluginAction").DELETE,this.props.commentID)},h._("Hapus")):b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions3},h._("Tandai sebagai spam")):null,a.likeCount?b("React").createElement("span",null,b("React").createElement(b("Image.react"),{src:i("99886"),className:"_3-8_ _4iy4"}),a.likeCount):null,b("React").createElement(b("UFICommentMetadata.react"),{comment:a,permalink:b("CommentsPluginStore").getPermalink(this.props.commentID),shortenTimestamp:!0,showPermalink:!b("CommentsPluginStore").isReply(this.props.commentID),permalinkTarget:"_blank",contextArgs:c}),b("CommentsPluginStore").isMobile()?this.renderActionConfirmationDialog():null)};a.propTypes={commentID:c.string.isRequired};e.exports=a}),null);
__d("CommentsPluginComposerEdit.react",["cx","fbt","CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,c){i.constructor.call(this,a,c),this.$3=function(){this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").saveEdit(this.props.commentID)}.bind(this),this.$4=function(){this.refs.composer.resetAttachment(),b("CommentsPluginActions").cancelEdit(this.props.commentID)}.bind(this),this.state={waitingAsyncResponse:!1,unableToPost:!1},this.$1=null}a.prototype.componentDidMount=function(){this.$1=b("CommentsPluginStore").addListener("composerChange",function(){var a=b("CommentsPluginStore").getEditComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:a.trim().length>b("CommentsPluginStore").getMaxCommentLength()});this.forceUpdate()}.bind(this)),this.$2=b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};a.prototype.$5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyEditComposer(this.props.commentID)};a.prototype.render=function(){var a=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement(b("CommentsPluginComposer.react"),{alwaysExpanded:!0,ref:"composer",prefillText:a.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),editCommentID:this.props.commentID,unableToPost:this.state.unableToPost},b("React").createElement("div",{className:"_5tr6 clearfix _2ph_"},b("React").createElement(b("XUIButton.react"),{disabled:this.$5(),label:h._("Simpan"),use:"confirm",className:"rfloat _3-99",onClick:this.$3}),b("React").createElement(b("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:h._("Batal"),use:"default",className:"rfloat _3-99",onClick:this.$4})),this.props.children)};a.propTypes={commentID:c.string.isRequired};e.exports=a}),null);
__d("CommentsPluginComposerReply.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","React","ReactDOM","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,c){i.constructor.call(this,a,c),this.$3=function(){this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").addReply(this.props.commentID),this.refs.composer.resetAttachment()}.bind(this),this.$4=function(){this.refs.composer.resetAttachment(),b("CommentsPluginActions").cancelReply(this.props.commentID)}.bind(this),this.state={waitingAsyncResponse:!1,unableToPost:!1},this.$1=null}a.prototype.componentDidMount=function(){this.$1=b("CommentsPluginStore").addListener("composerChange",function(){var a=b("CommentsPluginStore").getCreateComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:a.trim().length>b("CommentsPluginStore").getMaxCommentLength()});this.forceUpdate()}.bind(this));this.$2=b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this));var a=b("ReactDOM").findDOMNode(this);a.scrollIntoView&&a.scrollIntoView()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};a.prototype.$5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyCreateComposer(this.props.commentID)};a.prototype.render=function(){var a=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement(b("CommentsPluginComposer.react"),{allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),ref:"composer",alwaysExpanded:!0,prefillText:a.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,unableToPost:this.state.unableToPost,placeholder:h._("Tambahkan balasan...")},b("React").createElement("div",{className:"_5tr6 clearfix _2ph_"},b("React").createElement(b("CommentsPluginAuthorSelector.react"),null),b("React").createElement(b("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:h._("Batal"),use:"default",className:"_3-99",onClick:this.$4}),b("React").createElement(b("XUIButton.react"),{disabled:this.$5(),label:h._("Balas"),use:"confirm",className:"_3-99",onClick:this.$3})))};a.propTypes={commentID:c.string.isRequired};e.exports=a}),null);
__d("CommentsPluginMenu.react",["fbt","ix","CommentsPluginAction","CommentsPluginActions","CommentsPluginConfig","CommentsPluginStore","Image.react","MixinCommentsPluginConfirmAction","PopoverMenu.react","React","ReactXUIMenu","Tooltip","classWithMixins","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("ReactXUIMenu").Item;d=babelHelpers.inherits(a,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction"))));i=d&&d.prototype;function a(a,c){i.constructor.call(this,a,c),this.$CommentsPluginMenu1=function(){this.setState({opened:!0})}.bind(this),this.$CommentsPluginMenu2=function(){this.setState({opened:!1})}.bind(this),this.$CommentsPluginMenu4=function(a,c){a=c.item.getValue();this.requiresConfirmation(a)?this.confirmAction(a,this.props.commentID,c.event.pageY):a===b("CommentsPluginAction").SHOW||a===b("CommentsPluginAction").COLLAPSE?this.$CommentsPluginMenu3():b("CommentsPluginActions")[a](this.props.commentID)}.bind(this),this.state={opened:!1}}a.prototype.isOpen=function(){return this.state.opened};a.prototype.$CommentsPluginMenu3=function(){b("CommentsPluginActions").toggleVisibility(this.props.commentID)};a.prototype.$CommentsPluginMenu5=function(a,c){__p&&__p();var d=b("CommentsPluginStore").isReply(c.id),e=b("CommentsPluginStore").getUser().id===b("CommentsPluginStore").getAuthor(c.id).id;switch(a){case b("CommentsPluginAction").DELETE:if(!c.canEdit||!e)return null;break;case b("CommentsPluginAction").EDIT:if(!c.canEdit||b("CommentsPluginStore").isThreadClosed()||!e)return null;break;case b("CommentsPluginAction").FLAG:if(c.canEdit||c.collapsed||c.flagged)return null;break;case b("CommentsPluginAction").COLLAPSE:if(d||c.collapsed||c.flagged)return null;break;case b("CommentsPluginAction").BAN:case b("CommentsPluginAction").HIDE:if(!b("CommentsPluginStore").isViewerModerator())return null;break;case b("CommentsPluginAction").REPORT:if(!c.reportURI||c.canEdit)return null;break;case b("CommentsPluginAction").EMBED:e=c.canEmbed;if(d){d=b("CommentsPluginStore").getByID(c.targetID);e=e&&d.canEmbed}if(c.flagged||!b("CommentsPluginConfig").commentEmbed||!e)return null;break;default:break}return b("React").createElement(j,{value:a,key:a},b("CommentsPluginAction").getLabel(a))};a.prototype.render=function(){var a=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement("div",null,b("React").createElement(b("PopoverMenu.react"),{alignh:"right",onShow:this.$CommentsPluginMenu1,onHide:this.$CommentsPluginMenu2,menu:b("React").createElement(b("ReactXUIMenu"),{onItemClick:this.$CommentsPluginMenu4},b("CommentsPluginAction").getMenuActions().map(function(b){return this.$CommentsPluginMenu5(b,a)}.bind(this)))},b("React").createElement("a",null,b("React").createElement(b("Image.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(g._("Menu")),{src:h("96566")})))),this.renderActionConfirmationDialog())};a.propTypes={commentID:c.string.isRequired};e.exports=a}),null);
__d("XUIGrayText.react",["cx","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=a.shade;a=babelHelpers.objectWithoutPropertiesLoose(a,["shade"]);c=(c==="light"?"_50f8":"")+(c==="medium"?" _c24":"")+(c==="dark"?" _50f9":"");return b("React").createElement(b("XUIText.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,c)}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={shade:c.oneOf(["light","medium","dark"])};a.defaultProps={shade:"light"};e.exports=a}),null);
__d("CommentsPluginComment.react",["ix","cx","fbt","ActorBio.react","Badge.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginComposerReply.react","CommentsPluginMenu.react","CommentsPluginProfilePicture.react","CommentsPluginStore","Image.react","Link.react","React","TruncatedTextWithEntities.react","UFIActor.react","UFICommentAttachment.react","UFICommentUtils","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","asset","joinClasses","linkifyEntityRange","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=babelHelpers.inherits(l,b("React").Component);j=a&&a.prototype;function l(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={showMenu:!1},this.$1=function(){this.setState({showMenu:!0})}.bind(this),this.$2=function(){(!this.refs.menu||!this.refs.menu.isOpen())&&this.setState({showMenu:!1})}.bind(this),this.$3=function(){var a=b("nullthrows")(b("CommentsPluginStore").getByID(this.props.commentID));a.collapsed?b("CommentsPluginActions").toggleVisibility(this.props.commentID):a.flagged&&b("CommentsPluginActions").unflag(this.props.commentID)}.bind(this),c}l.prototype.render=function(){__p&&__p();var a=b("nullthrows")(b("CommentsPluginStore").getByID(this.props.commentID));if(a.deleted)return null;if(a.editor)return b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("CommentsPluginComposerEdit.react"),{commentID:this.props.commentID}),b("React").createElement(m,{commentID:this.props.commentID,className:"_3j_p"}));var c=b("UFICommentUtils").shallowCopyRanges(a.ranges),d=b("UFICommentUtils").getCommentTextWithTruncatedURIs(c,a.body.text),e=null;a.collapsed||a.flagged?e=b("React").createElement("div",{className:"_5mlf"},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},a.collapsed?i._("This comment is collapsed."):i._("This comment is marked as spam.")," ",b("React").createElement(b("Link.react"),{onClick:this.$3},i._("Urungkan")))):(a.photoComment&&(a.photo_comment=a.photoComment,delete a.photoComment),e=b("React").createElement("div",{className:"_30o4"},d?b("React").createElement(b("TruncatedTextWithEntities.react"),babelHelpers["extends"]({className:"_5mdd",text:d,ranges:c,interpolator:b("linkifyEntityRange")},b("CommentsPluginStore").getCommentBodyTruncationLimits(),{renderEmoticons:!0,renderEmoji:!0})):null,b("React").createElement(b("UFICommentAttachment.react"),{comment:a,disableTheater:!0})));d=b("nullthrows")(b("CommentsPluginStore").getByID(a.authorID));c=b("CommentsPluginStore").isOptimisticComment(a);var f=b("CommentsPluginStore").isReply(this.props.commentID),g=b("CommentsPluginStore").isMobile();return b("React").createElement(b("UFIImageBlock.react"),{className:"_3-8y"+(f?"":" _5nz1"),spacing:"medium",onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(b("CommentsPluginProfilePicture.react"),{href:d.uri,src:d.thumbSrc,isReply:f,target:"_blank"}),b("React").createElement("div",null,b("React").createElement(b("UFIActor.react"),{author:d,delimiter:g?" ":void 0,key:"author",showHovercard:!1,target:"_blank"},d.isVerified?b("React").createElement(b("Badge.react"),{key:"badge",size:"xsmall",type:"verified"}):null,d.bio?b("React").createElement("div",{className:"_4q1v"},b("React").createElement(b("ActorBio.react"),{target:"_blank",preferredTypes:d.bio.preferredTypes,stats:d.bio.stats})):null),b("React").createElement("div",{className:"_3-8m"},e),c||a.collapsed||a.flagged?null:b("React").createElement(b("CommentsPluginCommentActions.react"),{commentID:this.props.commentID}),b("React").createElement(m,{commentID:this.props.commentID})),b("React").createElement("div",null,this.state.showMenu&&!c&&!g?b("React").createElement(b("CommentsPluginMenu.react"),{ref:"menu",commentID:this.props.commentID}):null))};c=babelHelpers.inherits(m,b("React").Component);k=c&&c.prototype;function m(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={loading:!1},this.$1=function(){this.setState({loading:!0}),b("CommentsPluginStore").addListener("moreRepliesCompleted",function(a){this.props.commentID===a.commentID&&(this.setState({loading:!1}),b("CommentsPluginStore").removeCurrentListener())}.bind(this)),b("CommentsPluginActions").showMoreReplies(this.props.commentID)}.bind(this),c}m.prototype.render=function(){var a=b("CommentsPluginStore").getByID(this.props.commentID),c=a.public_replies;if(c===void 0||a.collapsed===!0||a.flagged)return a.composer?b("React").createElement("div",{className:b("joinClasses")("_44ri _2pis _3-8y",this.props.className)},b("React").createElement(b("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})):null;c.commentIDs||(c.commentIDs=[]);var d=c.totalCount-c.commentIDs.length,e=b("CommentsPluginStore").getPageSize();e=d<e?d:e;return b("React").createElement("div",{className:b("joinClasses")("_44ri _2pis",this.props.className)},c.commentIDs.map(function(a){return a===this.props.commentID?null:b("React").createElement(l,{commentID:a,key:a})}.bind(this)),b("CommentsPluginStore").hasUnloadedReplies(this.props.commentID)&&d>0?b("React").createElement("div",{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("XUISpinner.react"),{size:"small"})):b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement(b("XUIText.react"),{size:"body3",weight:"bold"},e===1?i._("Tampilkan 1 balasan lainnya di utas ini"):i._("Tampilkan {number of replies} balasan lainnya di utas ini",[i._param("number of replies",e)])),b("React").createElement(b("Image.react"),{className:"_2pir",align:"top",src:g("512929")}))):null,a.composer?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})):null)};e.exports=l}),null);
__d("CommentsPluginLoadMore.react",["cx","fbt","CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","React","XUIButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a,c){i.constructor.call(this,a,c),this.$1=function(){b("CommentsPluginActions").showMoreComments(),this.setState({loading:!0}),b("CommentsPluginStore").addListener("moreCommentsCompleted",function(){this.setState({loading:!1}),b("CommentsPluginStore").removeCurrentListener()}.bind(this))}.bind(this),this.state={loading:!1}}a.prototype.render=function(){var a=b("CommentsPluginStore").getUnloadedCommentsCount();if(!b("CommentsPluginStore").hasUnloadedComments()||a<1)return null;if(this.state.loading)return b("React").createElement(b("CenteredContainer.react"),{className:"_ndl"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));var c=b("CommentsPluginStore").getPageSize();a=a<c?a:c;return b("React").createElement("div",{className:"_5o4h"},b("React").createElement(b("XUIButton.react"),{className:"_1gl3",role:"button",onClick:this.$1,label:a===1?h._("Muat 1 komentar lainnya"):h._("Muat {pagesize} komentar lainnya",[h._param("pagesize",a)])}))};e.exports=a}),null);
__d("CommentsPluginListing.react",["cx","CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("CommentsPluginStore").getCommentIDs();a=a.map(function(a){return b("React").createElement(b("CommentsPluginComment.react"),{commentID:a,key:a})});return b("React").createElement("div",{className:"_4k-6"},a,b("React").createElement(b("CommentsPluginLoadMore.react"),null))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CommentsPluginNotice.react",["fbt","CommentsPluginStore","React","XUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("CommentsPluginStore").isThreadClosed()?b("React").createElement(b("XUINotice.react"),{use:"notify"},g._("Utas ini ditutup")):b("CommentsPluginStore").shouldSwitchAccount()?b("React").createElement(b("XUINotice.react"),{use:"notify"},g._("Harap beralih ke akun pribadi untuk mengirim komentar.")):null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CommentsPluginSentryAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"})}),null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comments/{comment_id}/async/confirm/publish/dialog/",{comment_id:{type:"String",required:!0},iframe_referer:{type:"String"},privacy_option:{type:"String",required:!0}})}),null);
__d("CommentsPlugin.react",["cx","fbt","ActorURI","CommentsPluginActions","CommentsPluginComposerComment.react","CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginNotice.react","CommentsPluginSentryAction","CommentsPluginStore","DOMQuery","PluginResize","PopupWindow","React","ReactDOM","SimpleXUIDialog","XPluginCommentsConfirmPostToFacebookAsyncDialogController","XUIDialogOkayButton.react","cancelAnimationFramePolyfill","getElementPosition","joinClasses","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a.requestAnimationFrame=b("requestAnimationFramePolyfill");a.cancelAnimationFrame=b("cancelAnimationFramePolyfill");i=babelHelpers.inherits(c,b("React").Component);i&&i.prototype;c.prototype.UNSAFE_componentWillMount=function(){b("CommentsPluginStore").init(this.props.comments,this.props.meta,this.props.initialOrdering,this.props.rankingAllowed),b("CommentsPluginStore").addListener("postError",function(a){b("SimpleXUIDialog").show(a.errorSummary||h._("Maaf, ada masalah. Harap coba lagi nanti."),null,null,{width:b("CommentsPluginStore").getDialogWidth()})}),b("CommentsPluginStore").addListener("sentryAction",function(a,c){switch(a){case b("CommentsPluginSentryAction").CONFIRM_POST_TO_PROFILE:var d=b("ActorURI").create(b("XPluginCommentsConfirmPostToFacebookAsyncDialogController").getURIBuilder().setString("comment_id",c).setString("iframe_referer",b("CommentsPluginStore").getIframeReferer()).setString("privacy_option",b("CommentsPluginStore").getPrivacyOption()).getURI(),b("CommentsPluginStore").getUser().id),e=b("SimpleXUIDialog").showEx(h._("Please confirm that you want to post this comment to Facebook."),h._("Konfirmasi"),b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm",onClick:function(){b("PopupWindow").open(d,400,550),e.hide()}}));break;default:break}})};c.prototype.componentDidMount=function(){__p&&__p();var a=b("ReactDOM").findDOMNode(this);b("PluginResize").autoHeight(null,a);new(b("PluginResize"))(function(){},function(){var c=a.offsetHeight,d=b("DOMQuery").scry(document.body,".uiLayer:not(.hidden_elem) .uiContextualLayer"),e=b("DOMQuery").scry(document.body,".captcha_dialog");if(d.length===0&&e.length===0)return c;d=d.length>0?b("getElementPosition")(d[0]):null;e=e.length>0?b("getElementPosition")(e[0]):null;return Math.max(c,d?d.y+d.height+1:0,e?e.height:0)},"resize.iframe",!1).resize().auto();b("CommentsPluginStore").addListener("change",function(){this.forceUpdate()}.bind(this));b("CommentsPluginStore").isOptinReturn()&&b("CommentsPluginActions").restorePreviousState()};c.prototype.$1=function(){return b("CommentsPluginStore").isThreadClosed()||b("CommentsPluginStore").shouldSwitchAccount()};c.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_56q9",this.props.className)},b("React").createElement("div",{className:"_2pi8"},b("React").createElement(b("CommentsPluginHeader.react"),null),this.$1()?b("React").createElement(b("CommentsPluginNotice.react"),null):b("CommentsPluginStore").isDeeplinkComment()?null:b("React").createElement(b("CommentsPluginComposerComment.react"),null),b("React").createElement(b("CommentsPluginListing.react"),null),b("React").createElement(b("CommentsPluginFooter.react"),null)))};function c(){i.apply(this,arguments)}e.exports=c}),null);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){__p&&__p();a.prototype.bootstrap=function(a){"use strict";this.$1||(this.$1=new(b("Promise"))(function(a){this.bootstrapImpl(a)}.bind(this)));return this.$1.then(a)};a.prototype.search=function(a,b,c){"use strict";this.searchImpl(a,b,c)};a.prototype.bootstrapImpl=function(a){"use strict";a()};a.prototype.searchImpl=function(a,b,c){"use strict";throw new Error("Abstract method #searchImpl is not implemented.")};a.prototype.clearBootstrappedData=function(){"use strict";this.$1=null};function a(){"use strict"}e.exports=a}),null);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a={ACTIVE:"ACTIVE",COMPLETE:"COMPLETE"};e.exports=a}),null);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("SearchSourceQueryStatus").ACTIVE,i=b("SearchSourceQueryStatus").COMPLETE;function a(a){"use strict";this.$9=a.parseFn,typeof this.$9==="function"||g(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||g(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||j,this.$4=a.exclusions||{},this.reset()}a.prototype.search=function(a,b){"use strict";var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};a.prototype.$13=function(a,b){"use strict";__p&&__p();var c=this.$14(a),d=!!this.$5[a];if(!c.length){b([],a,d?i:h);return d}c=c.map(function(a){return this.$3[a]}.bind(this));b(c,a,d?i:h);return d};a.prototype.$15=function(){"use strict";var a=this.$10;this.$10=[];a.forEach(this.$16,this)};a.prototype.$16=function(a){"use strict";__p&&__p();var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};a.prototype.reset=function(){"use strict";this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};a.prototype.addLocalEntries=function(a){"use strict";a.forEach(function(a){var b=a.getUniqueID(),c=this.$6(a);this.$3[b]=a;this.$12[b]=c;a=this.$9(c);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(this.$7,a)||(this.$7[a]={}),this.$7[a][b]=!0}.bind(this))}.bind(this)),this.$15()};a.prototype.addQueryEntries=function(a,c,d){"use strict";__p&&__p();d===i&&this.setQueryStringAsExhausted(c);d=this.$14(c);var e=this.$9(c).flatValue;this.$11[e]=b("createObjectFrom")(d,!0);a.forEach(function(a){var b=a.getUniqueID();this.$3[b]=a;this.$12[b]=this.$6(a);this.$11[e][b]=!0}.bind(this));this.$15()};a.prototype.unsubscribe=function(a){"use strict";delete this.$1[a]};a.prototype.removeEntry=function(a){"use strict";delete this.$3[a]};a.prototype.getAllEntriesMap=function(){"use strict";return this.$3};a.prototype.setQueryStringAsExhausted=function(a){"use strict";this.$5[a]=!0};a.prototype.unsetQueryStringAsExhausted=function(a){"use strict";delete this.$5[a]};a.prototype.$14=function(a){"use strict";var b=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));b=b.concat(a);var c={},d=[];b.forEach(function(a){c[a]==null&&this.$3[a]!=null&&this.$4[a]==null&&(d.push(a),c[a]=!0)}.bind(this));return d};a.prototype.$17=function(a,b){"use strict";__p&&__p();var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};a.prototype.$20=function(a,b){"use strict";var c={};b.forEach(function(b){c[b]=this.$8(a,this.$12[b])}.bind(this));return c};a.prototype.$18=function(a){"use strict";__p&&__p();var c=this.$9(a,this.$2),d=this.$2?b("nullthrows")(c.sortedTokens):c.tokens,e=d.length,f=c.isPrefixQuery?e-1:null,g={},h={},i={};c=!1;var j={},k=0;d.forEach(function(a,b){__p&&__p();if(Object.prototype.hasOwnProperty.call(j,a))return;k++;j[a]=!0;for(var d in this.$7){var e=d===a&&!Object.prototype.hasOwnProperty.call(g,d),l=!1;e||(l=(this.$2||f===b)&&d.indexOf(a)===0);if(!e&&!l)continue;d===a?(Object.prototype.hasOwnProperty.call(h,d)&&(c=!0),g[d]=!0):((Object.prototype.hasOwnProperty.call(g,d)||Object.prototype.hasOwnProperty.call(h,d))&&(c=!0),h[d]=!0);for(var m in this.$7[d])(b===0||Object.prototype.hasOwnProperty.call(i,m)&&i[m]==k-1)&&(i[m]=k)}}.bind(this));d=Object.keys(i).filter(function(a){return i[a]==k});(c||k<e)&&(d=this.$21(a,d));return d};a.prototype.$19=function(a){"use strict";var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};a.prototype.$22=function(a){"use strict";var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){a.indexOf(d)===0&&d.length>b&&(b=d.length,c=d)});return c&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};a.prototype.$21=function(a,b){"use strict";return b.filter(function(b){return this.$8(a,this.$12[b])}.bind(this))};function j(a){return[a.getTitle(),a.getKeywordString()].join(" ")}e.exports=a}),null);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchableEntry","SearchSourceCallbackManager","SearchSourceQueryStatus","TokenizeUtil","emptyFunction","isValidUniqueID","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("SearchSourceQueryStatus").ACTIVE,i=b("SearchSourceQueryStatus").COMPLETE;c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(a,c,d){__p&&__p();var e;g.constructor.call(this);this.$AbstractAsyncSearchSource1=a.asyncErrorHandler||b("emptyFunction");this.$AbstractAsyncSearchSource2=a.auxiliaryFields;this.$AbstractAsyncSearchSource4=a.bootstrapRequests;this.$AbstractAsyncSearchSource6=a.getAllForEmptyQuery;this.$AbstractAsyncSearchSource8=a.packageFn||this.$AbstractAsyncSearchSource12;this.$AbstractAsyncSearchSource9=a.queryRequests;this.$AbstractAsyncSearchSource10=a.requestData||{};this.$AbstractAsyncSearchSource3=[];this.$AbstractAsyncSearchSource5=new(b("SearchSourceCallbackManager"))({parseFn:(e=a.parseFn)!=null?e:b("TokenizeUtil").parse,matchFn:a.matchFn||b("TokenizeUtil").isQueryMatch,indexFn:a.indexFn,exclusions:a.exclusions});this.$AbstractAsyncSearchSource11=c;this.$AbstractAsyncSearchSource7=d}a.prototype.bootstrapImpl=function(a){"use strict";__p&&__p();var b=a;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){b();return}var c=this.$AbstractAsyncSearchSource4.length,d=0;this.$AbstractAsyncSearchSource4.forEach(function(a){this.$AbstractAsyncSearchSource13(this.$AbstractAsyncSearchSource10,a,function(a){this.$AbstractAsyncSearchSource5.addLocalEntries(a),this.$AbstractAsyncSearchSource3=this.$AbstractAsyncSearchSource3.concat(a),d++,b&&d===c&&(b(),b=null)}.bind(this))}.bind(this))};a.prototype.searchImpl=function(a,c,d){"use strict";__p&&__p();if(this.$AbstractAsyncSearchSource6&&a===""){this.getBootstrappedEntries(function(d){c(d,a,b("SearchSourceQueryStatus").COMPLETE)});return}var e=null,f={},g=this.$AbstractAsyncSearchSource5.search(a,function(g,a,h){if(d&&d.waitForAllResults&&h!==i)return;!e?(e=g,e.forEach(function(a){f[a.getUniqueID()]=!0})):g.forEach(function(a){var c=a.getUniqueID();f[c]||(b("nullthrows")(e).push(a),f[c]=!0)});c(e,a,h)});if(!g||!this.$AbstractAsyncSearchSource9||!this.$AbstractAsyncSearchSource9.length)return;var j=babelHelpers["extends"]({value:a,existing_ids:e&&e.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource10),k=this.$AbstractAsyncSearchSource9.length;this.$AbstractAsyncSearchSource9.forEach(function(b){this.$AbstractAsyncSearchSource13(j,b,function(b){k--,this.$AbstractAsyncSearchSource14(b,a,k?h:i)}.bind(this))}.bind(this))};a.prototype.getBootstrappedEntries=function(a){"use strict";return this.bootstrap(function(){return a(this.$AbstractAsyncSearchSource3||[])}.bind(this))};a.prototype.getAllEntriesMap=function(){"use strict";return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};a.prototype.setRequestData=function(a){"use strict";this.$AbstractAsyncSearchSource10=a};a.prototype.$AbstractAsyncSearchSource13=function(a,b,c){"use strict";this.$AbstractAsyncSearchSource11(a,b,function(a){return c(this.$AbstractAsyncSearchSource7(a,this.$AbstractAsyncSearchSource8).filter(Boolean))}.bind(this),this.$AbstractAsyncSearchSource1)};a.prototype.$AbstractAsyncSearchSource15=function(a){"use strict";this.$AbstractAsyncSearchSource5.addLocalEntries(a)};a.prototype.$AbstractAsyncSearchSource14=function(a,b,c){"use strict";this.$AbstractAsyncSearchSource5.addQueryEntries(a,b,c)};a.prototype.$AbstractAsyncSearchSource12=function(a,c){"use strict";var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!b("isValidUniqueID")(e)?null:new(b("SearchableEntry"))({uniqueID:e,order:a.order||a.index||c,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource16(a)})};a.prototype.$AbstractAsyncSearchSource16=function(a){"use strict";__p&&__p();var b;if(this.$AbstractAsyncSearchSource2){b={};for(var c in this.$AbstractAsyncSearchSource2){var d=this.$AbstractAsyncSearchSource2[c];b[c]=a[d]}}a.aux_data&&(b=babelHelpers["extends"]({},b,a.aux_data));return b};e.exports=a}),null);
__d("WebAsyncSearchSourceUtils",[],(function(a,b,c,d,e,f){a={normalizeResponse:function(a,b){a=a.getPayload();var c;Array.isArray(a)?c=a:a&&a.entries?c=a.entries:c=[];typeof c==="object"&&!Array.isArray(c)&&(c=Object.keys(c).map(function(a){return c[a]}));return c.map(b,this)}};e.exports=a}),null);
__d("WebAsyncSearchSource",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","WebAsyncSearchSourceUtils"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$WebAsyncSearchSource1=new(b("AbstractAsyncSearchSource"))(a,this.$WebAsyncSearchSource2,b("WebAsyncSearchSourceUtils").normalizeResponse)}a.prototype.bootstrapImpl=function(a){"use strict";this.$WebAsyncSearchSource1.bootstrap(a)};a.prototype.searchImpl=function(a,b,c){"use strict";this.$WebAsyncSearchSource1.search(a,b,c)};a.prototype.getBootstrappedEntries=function(a){"use strict";return this.$WebAsyncSearchSource1.getBootstrappedEntries(a)};a.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSource1.getAllEntriesMap()};a.prototype.setRequestData=function(a){"use strict";this.$WebAsyncSearchSource1.setRequestData(a)};a.prototype.$WebAsyncSearchSource2=function(a,c,d,e){"use strict";new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(e).send()};e.exports=a}),null);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};e.exports=c}),null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=1;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+a+",})$)");c={name:"CapitalizedNameMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};e.exports=c}),null);
__d("DocumentCompositeMentionsSource",["invariant","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){a.length>0||g(0,1514),this.$1=a,this.$2=!1,this.$3=null}a.prototype.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};a.prototype.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f);return{remove:function(){f.cancel()}}};a.prototype.$4=function(a,c){__p&&__p();var d=this.$1.length,e,f;for(var g=0;g<d;g++){e=this.$1[g];f=e.findMatch(a);if(f===null)continue;else{var h=b("nullthrows")(f).matchingString;this.$3=h;e.search(h,function(a,b){this.$3===b&&c(a,f.leadOffset)}.bind(this));return}}this.$3=null;c(null,null)};e.exports=a}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){typeof a.findMentionableString==="function"||g(0,558),this.$1=a,this.$2=b,this.$3=!1}a.prototype.findMatch=function(a){return this.$1.findMentionableString(a)};a.prototype.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};a.prototype.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name})};e.exports=a}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this),this.$FilteredSearchSource1=a,this.$FilteredSearchSource2=b}a.prototype.bootstrapImpl=function(a){"use strict";this.$FilteredSearchSource2.bootstrap(a)};a.prototype.searchImpl=function(a,b,c){"use strict";var d=function(a,c){a=this.$FilteredSearchSource3(a,c),b(a,c)}.bind(this);this.$FilteredSearchSource2.search(a,d,c)};a.prototype.$FilteredSearchSource3=function(a,b){"use strict";var c=this.$FilteredSearchSource1;return a.filter(function(a){return c(a,b)})};e.exports=a}),null);
__d("filterCapitalizedNames",["TokenizeUtil"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){var d=a.getAuxiliaryData()||g;if(d.disableAutosuggest)return!1;if(a.getType()==="user")return c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle());else if(a.getType()==="page")return d.connectedPage&&(c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle()));return!1}var g={};e.exports=a}),null);