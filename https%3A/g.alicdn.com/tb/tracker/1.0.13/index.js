(function(e){function n(){for(var e=document.getElementsByTagName("meta"),n=[],r=0;e.length>r;r++){var o=e[r];o&&o.name&&("data-spm"==o.name||"spm-id"==o.name)&&n.push(o.content)}return document.body&&document.body.getAttribute("data-spm")&&n.push(document.body.getAttribute("data-spm")),n=n.length?n.join("."):0,n&&-1==n.indexOf(".")&&(n+=".0"),n}function r(e,n){var r={};for(var o in e)r[o]=e[o];for(var o in n)r[o]=n[o];return r}if(!e.JSTracker){var o=n(),t=e.g_config&&e.g_config.startTime||+new Date;e.JSTracker={_configs:{sampling:100,spm:o,debug:-1!=location.href.indexOf("jt_debug"),nick:"",url:"",ignore:[]}},e.JSTracker.config=function(n,r){return n||r?r?(e.JSTracker._configs[n]=r,void 0):e.JSTracker._configs[n]:e.JSTracker._configs};var c=function(n){var r="jsFeImage_"+ +new Date,o=e[r]=new Image;o.onload=o.onerror=function(){e[r]=null},o.src=n,o=null},a=function(){return"https:"==location.protocol?"https://log.mmstat.com/ued.1.1.2?":"http://gm.mmstat.com/ued.1.1.2?"}();e.JSTracker.send=function(n){var o,i="";if(""!==e.JSTracker._configs.nick)i=e.JSTracker._configs.nick;else try{o=/_nk_=([^;]+)/.exec(document.cookie)||/_w_tb_nick=([^;]+)/.exec(document.cookie)||/lgc=([^;]+)/.exec(document.cookie),o&&(i=decodeURIComponent(o[1]))}catch(s){}var d={msg:"",file:"",line:0,delay:+new Date-t,category:"",spm:e.JSTracker._configs.spm,sampling:e.JSTracker._configs.sampling,url:location.href,ua:navigator.userAgent,scrolltop:document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,screen:screen.width+"x"+screen.height,nick:i};e.JSTracker._configs.url&&(d.url=e.JSTracker._configs.url);var g=r(d,n),m=[];g.url!=location.href&&m.push("[u"+g.url+"]"),g.delay>0&&m.push("[t"+g.delay+"]"),g.category&&m.push("[c"+g.category+"]"),g.spm&&m.push("[s"+g.spm+"]"),g.sampling&&m.push("[r"+g.sampling+"]"),g.msg&&m.push(g.msg),m=m.join("");var u=1>=Math.random()*g.sampling;try{for(var l=0;e.JSTracker._configs.ignore.length>l;l++){var f=e.JSTracker._configs.ignore[l];f.test(n.msg)&&(u=!1)}}catch(s){e.JSTracker.send({category:"IgnoreErr",url:"http://jstracker/0.1/"})}(u||e.JSTracker._configs.debug)&&c(a+["type=9","id=jstracker","v=1.0.11","nick="+g.nick,"msg="+encodeURIComponent(m),"file="+encodeURIComponent(g.file),"ua="+encodeURIComponent(g.ua),"line="+g.line,"scrolltop="+g.scrolltop,"screen="+screen.width+"x"+screen.height,"t="+(new Date).valueOf()].join("&")),e.JSTracker._configs.debug&&console&&console.log(g)};var i=["log","info","debug","warn","error"];for(var s in i){var d=i[s];e.JSTracker[d]=function(n){return function(){var r=Array.prototype.slice.call(arguments,0),o=r.join("");e.JSTracker.send({category:n.toUpperCase(),msg:o})}}(d)}var g=e.onerror;e.onerror=function(n,r,o){g&&g(n,r,o),e.JSTracker.send({msg:n,file:r,line:o})};var m=function(){var n={},r="";if(e.performance){var o=e.performance.timing;n.dns=o.domainLookupEnd-o.domainLookupStart,n.con=o.connectEnd-o.connectStart,n.req=o.responseStart-o.requestStart,n.res=o.responseEnd-o.responseStart,n.dcl=o.domContentLoadedEventEnd-o.domLoading,n.onload=o.loadEventStart-o.domLoading,n.type=window.performance.navigation.type;try{r=JSON.stringify(n)}catch(t){}}e.JSTracker.send({msg:r,category:"__PV"})};window.addEventListener?(document.addEventListener("DOMContentLoaded",function(){o=n(),e.JSTracker._configs.spm=o},!1),window.addEventListener("load",m,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.detachEvent("onreadystatechange",arguments.callee),o=n(),e.JSTracker._configs.spm=o}),window.attachEvent("onload",m))}})(window);