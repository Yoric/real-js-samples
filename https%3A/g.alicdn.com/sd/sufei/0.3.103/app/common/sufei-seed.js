/* 2018-07-05 09:56:07 */
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd&&0)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.sufei=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){function i(e){return this instanceof i||!d(e)?void 0:o(e)}function r(e){var t,n;for(t in e)n=e[t],i.Mutators.hasOwnProperty(t)?i.Mutators[t].call(this,n):this.prototype[t]=n}function o(e){return e.extend=i.extend,e.implement=r,e}function a(){}function s(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&-1===l(n,i))continue;"prototype"!==i&&(e[i]=t[i])}}t.exports=i,i.create=function(e,t){function n(){e.apply(this,arguments),this.constructor===n&&this.initialize&&this.initialize.apply(this,arguments)}return d(e)||(t=e,e=null),t||(t={}),e||(e=t.Extends||i),t.Extends=e,e!==i&&s(n,e,e.StaticsWhiteList),r.call(n,t),o(n)},i.extend=function(e){return e||(e={}),e.Extends=this,i.create(e)},i.Mutators={Extends:function(e){var t=this.prototype,n=u(e.prototype);s(n,t),n.constructor=this,this.prototype=n,this.superclass=e.prototype},Implements:function(e){c(e)||(e=[e]);for(var t,n=this.prototype;t=e.shift();)s(n,t.prototype||t)},Statics:function(e){s(this,e)}};var u=Object.__proto__?function(e){return{__proto__:e}}:function(e){return a.prototype=e,new a},f=Object.prototype.toString,c=Array.isArray||function(e){return"[object Array]"===f.call(e)},d=function(e){return"[object Function]"===f.call(e)},l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}},{}],2:[function(e,t,n){t.exports={app:"seed",style:"app/common/sufei-tb.css"}},{}],3:[function(e,t,n){var i={},r={};i.on=function(e,t){var n=r[e]||(r[e]=[]);return n.push(t),i},i.off=function(e,t){if(!e&&!t)return r={},i;var n=r[e];if(n)if(t)for(var o=n.length-1;o>=0;o--)n[o]===t&&n.splice(o,1);else delete r[e];return i},i.fire=function(e,t){var n=r[e];if(n){n=n.slice();for(var o=0,a=n.length;a>o;o++)n[o](t)}return i},t.exports=i},{}],4:[function(e,t,n){var i=e("./mod/sufei-seed"),r=e("./config/sufei-seed");screen.width<800&&(r.style="app/common/sufei-h5.css");var o="0.3.112";r.version=o,r.style="//g.alicdn.com/sd/sufei/"+o+"/"+r.style,t.exports=new i(r),window.__sufei_injected__=1},{"./config/sufei-seed":2,"./mod/sufei-seed":6}],5:[function(e,t,n){var i=e("./utils"),r="https://g.alicdn.com/sd/sufei/0.3.112";t.exports={limit:function(e,t){var n=document.createElement("div"),r={mask:"width: 100%;height: 100%;background-color: rgba(0, 0, 0, .7);position: fixed;top: 0;left: 0;",alert:"width: 60%;max-width: 350px;position: fixed;top: 40%;left: 0;right: 0;margin: auto;padding: 10px;box-sizing: border-box;background: #fcfcfc;border-radius: 4px;text-align: center;color: #666;",close:"color: #108ee9;border-top: 1px solid #ccc;margin-top: 10px;padding-top: 10px;"};n.innerHTML='<div style="'+r.mask+'" id="mask"></div><div style="'+r.alert+'"id="alert"><div>'+e.ret+'</div><div id="sufei-dialog-close" style="'+r.close+'">\u5173\u95ed</div></div>',document.body.appendChild(n);var o=document.getElementById("sufei-dialog-close");i.addEvent("click",o,function(){n.style.display="none",t&&t(!1,{})})},antiFlood:function(e){e.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+e.AntiFloodReferer):location.href=e.data.url},antiCreep:function(e,t){var n=function(){var n=window.__sufeiCaller__,i={data:"",url:""};n.check(e,i).then(function(){});var r=!1;n.on("event:resendRequest@sufei-caller",function(e){r=!0,t&&t(!1,e)}),n.on("event:dialogHide@sufei",function(e){r||t&&t(!1,e||{})})};return window.__sufeiCaller__?void n(window.__sufeiCaller__):("undefined"==typeof sufei&&(sufei={}),window.__sufeiSeed__=sufei,void i.loadJS(r+"/app/common/sufei-caller.js",{},function(){window.__sufeiCaller__=sufei,window.__sufeiCaller__.dialogWrapper=window.__sufeiSeed__.dialogWrapper,window.sufei=__sufeiSeed__,n()}))}}},{"./utils":7}],6:[function(e,t,n){var i=e("../utils"),r=e("../emit"),o=e("../class"),a=e("../intercept-handler"),s=o.create({initialize:function(){r.on("event:triggerFn@sufei",this.callback)},check:function(e,t){var n=this;this.initialize(e,t),e.url=e.url||e.data&&e.data.url||"";var r=i.checkResult(e);r.pass?t(!0,e):(n.queue=n.queue||[],n.queue.push({result:e,fn:t}),1===n.queue.length&&a[r.interceptType]&&a[r.interceptType].call(this,e,function(e,t){n.callback(e,t)}))},callback:function(e,t){var n=this;n.queue&&(n.queue.forEach(function(n){n.fn&&n.fn(e,t)}),n.queue=[])}});t.exports=s},{"../class":1,"../emit":3,"../intercept-handler":5,"../utils":7}],7:[function(e,t,n){var i=document,r="rgv587_flag",o="sm",a="FAIL_SYS_USER_VALIDATE",s="RGV587_ERROR::SM",u="FAIL_SYS_TRAFFIC_LIMIT::\u6d41\u91cf\u9650\u5236",f="FAIL_SYS_FLOWLIMIT",c="assist_flag",d="true",l={loadJS:function(e,t,n){var r,o=[];if("string"==typeof t)o.push(t);else for(r in t)t.hasOwnProperty(r)&&o.push(r+"="+encodeURIComponent(t[r]));e=e+(-1==e.indexOf("?")?"?":"&")+o.join("&");var a="script",s=i.getElementsByTagName(a)[0],u=i.createElement(a);if(u.async=1,u.src=e,n){var f=!1;u.onload=u.onreadystatechange=function(){f||u.readyState&&!/loaded|complete/.test(u.readyState)||(u.onload=u.onreadystatechange=null,f=!0,n())}}s.parentNode.insertBefore(u,s)},checkResult:function(e){if(e){var t=e.ret;"object"==typeof t&&(t=JSON.stringify(t)),(e&&e[r]===o||e[r+"0"]===o)&&(t=s),e&&e[c]===d&&(t=s);var n="";t&&(t.indexOf(s)>-1?n="antiCreep":t.indexOf(a)>-1?n="antiFlood":(t.indexOf(u)>-1||t.indexOf(f)>-1)&&(n="limit"));var i="antiCreep"===n;return{pass:!n,interceptType:n,isAntiFlood:"antiFlood"===n,isAntiCreep:i,immediate:i&&e[r+"0"]!==o}}return{pass:!0}},addEvent:function(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvent:function(e,t,n){t.removeEventListener?t.addEventListener(e,n,!1):t.detachEvent("on"+e,n)},getDomainURI:function(e){var t=/(https|http):\/\/([^\/]+)\//i,n=e.match(t);return n?n[0]:""}};t.exports=l},{}]},{},[4])(4)});